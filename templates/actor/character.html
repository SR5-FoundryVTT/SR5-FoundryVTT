<form class="{{cssClass}}" autocomplete="off">
  <header class="sheet-header flexcol">
    <div class="sheet-header-row-1 flexrow">
      <div class="profile-img flex0">
        <img  src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="80" width="80"/>
      </div>
      <div class="flexcol flex4">
        <div class="flexrow">
          <div class="flex4">
            <div class="name">
              <input
                class="display text left"
                name="name"
                type="text"
                value="{{actor.name}}"
                placeholder="Name"/>
            </div>
          </div>
          {{#each data.limits as |limit label|}}
          {{#ifin label ../config.limits }}
          <div class="limit">
            <div class="limit-row">
              <span class="limit-title">{{toHeaderCase label}}</span>
              <span class="limit-value" value={{limit.value}}>{{limit.value}}</span>
            </div>
          </div>
          {{/ifin}}
          {{/each}}
        </div>
        <div class="attributes smooth">
          {{#each data.track as |track label|}}
          <div class="attribute">
            <div class="attribute-name">{{toHeaderCase label}}</div>
            <div class="track">
              <div class="attribute-input-container">
                <input
                  class="display attribute-input"
                  size='2'
                  maxlength='2'
                  type='text'
                  name='data.track.{{label}}.value'
                  value="{{track.value}}"
                  data-dtype="Number"/>
              </div>
              <div class="track-slash">
              </div>
              <div class="attribute-input-container">
                <input
                  class="display attribute-input"
                  size='2'
                  maxlength='2'
                  type='text'
                  name='data.track.{{label}}.max'
                  value="{{track.max}}"
                  disabled
                  data-dtype="Number"/>
              </div>
            </div>
          </div>
          {{/each}}
          <div class="attribute">
            <div class="attribute-name attribute-roll roll" data-attribute="edge">Edge</div>
            <div class="track">
              <div class="attribute-input-container">
                <input
                  class="display attribute-input"
                  size='2'
                  maxlength='2'
                  type='text'
                  name='data.attributes.edge.value'
                  value="{{data.attributes.edge.value}}"
                  data-dtype="Number"/>
              </div>
              <div class="track-slash">
              </div>
              <div class="attribute-input-container">
                <input
                  class="display attribute-input"
                  size='2'
                  maxlength='2'
                  type='text'
                  name='data.attributes.edge.max'
                  value="{{data.attributes.edge.max}}"
                  data-dtype="Number"/>
              </div>
            </div>
          </div>
          <div class="attribute">
            <div class="attribute-name">Movement</div>
            <div class="track">
              <div class="attribute-input-container">
                <input
                  class="display attribute-input"
                  size='2'
                  maxlength='2'
                  type='text'
                  name='data.movement.walk.value'
                  value="{{data.movement.walk.value}}"
                  data-dtype="Number"
                  disabled/>
              </div>
              <div class="track-slash">
              </div>
              <div class="attribute-input-container">
                <input
                  class="display attribute-input"
                  size='2'
                  maxlength='2'
                  type='text'
                  name='data.movement.run.value'
                  value="{{data.movement.run.value}}"
                  data-dtype="Number"
                  disabled/>
              </div>
              <div class="track-slash">
              </div>
              <div class="input attribute-input-container">
                <input
                  class="display attribute-input"
                  size='2'
                  maxlength='2'
                  type='text'
                  name='data.movement.sprint'
                  value="{{data.movement.sprint}}"
                  data-dtype="Number"/>
                <span class="unit">
                  +
                </span>
              </div>
            </div>
          </div>
          <div class="attribute">
            <div class="track">
              <div class="attribute-name">
                <select name="data.initiative.perception" class="display">
                  {{#select data.initiative.perception}}
                  <option value="meatspace">Meatspace</option>
                  <option value="matrix">Matrix</option>
                  {{#ife data.special 'magic'}}
                  <option value="astral">Astral</option>
                  {{/ife}}
                  {{/select}}
                </select>
              </div>
              <label title="Use Edge in next Initiative Roll" class="checkbox init-edge-label">
                <input type='checkbox' class="init-edge-checkbox" name="data.initiative.edge" {{checked data.initiative.edge}}>
                <span class="checkmark far"></span>
              </label>
            </div>
            <div class="track">
              <div class="attribute-input-container">
                <input
                   class="display"
                   size='4'
                   type='text'
                   value="{{data.initiative.current.base.value}}"
                   disabled />
              </div>
              <div class="track-plus">
              </div>
              <div class="attribute-input-container">
                <input
                   class="display"
                   size='4'
                   type='text'
                   value="{{data.initiative.current.dice.text}}"
                   disabled />
              </div>
            </div>
          </div>
          <div class="attribute">
            <div class="attribute-name roll attribute-roll" data-attribute="essence">Essence</div>
            <div class="attribute-input-container">
              <input
                class="display attribute-input"
                type="text"
                maxlength="2"
                size="2"
                name="data.attributes.essence.value"
                value="{{data.attributes.essence.value}}"
                data-dtype="Number"
                disabled
                placeholder="1"/>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="attributes no-border">
      <div class="attribute row space-around">
        <div class="attribute-only-roll roll attribute-name" data-roll='composure'>Composure</div>
        <div class="attribute-only-roll roll attribute-name" data-roll='judge_intentions'>J.Intentions</div>
        <div class="attribute-only-roll roll attribute-name" data-roll='lift_carry'>Lift&Carry</div>
        <div class="attribute-only-roll roll attribute-name" data-roll='memory'>Memory</div>
        <div title="Roll" class="attribute-name basic-roll roll defense-icon fas fa-dice-six" data-roll='basic'></div>
        <div title="Defense" class="attribute-name defense-roll roll">Defense</div>
        <div title="Soak" class="attribute-name soak-roll roll defense-icon">Soak</div>
        <div class="attribute-name roll armor-roll">Armor ({{data.armor.value}})</div>
        {{#ifne data.special 'mundane'}}
        <div class="attribute-name roll drain-roll">Drain</div>
        {{/ifne}}
      </div>
    </div>
  </header>
  <section class="flexcol">
    <nav class="tabs" data-group="primary">
      <a class="item" data-tab="actions">Actions</a>
      <a class="item" data-tab="skills">Skills</a>
      <a class="item active" data-tab="equipment">Equipment</a>
      {{#ife data.special 'magic'}}
      <a class="item" data-tab="magic">Magic</a>
      {{/ife}}
      <a class="item" data-tab="matrix">Matrix</a>
      <a class="item" data-tab="info">Info</a>
    </nav>
    <div class="tab" data-group="primary" data-tab="skills">
      {{> "systems/shadowrun5e/templates/actor/parts/actor-skills.html"}}
    </div>
    <div class="tab" data-group="primary" data-tab="equipment">
      {{> "systems/shadowrun5e/templates/actor/parts/actor-equipment.html" sections=inventory}}
    </div>
    <div class="tab" data-group="primary" data-tab="magic">
      {{> "systems/shadowrun5e/templates/actor/parts/actor-spellbook.html" spells=magic.spellbook powers=magic.powers}}
    </div>
    <div class="tab" data-group="primary" data-tab="matrix">
      {{> "systems/shadowrun5e/templates/actor/parts/actor-matrix.html" }}
    </div>
    <div class="tab" data-group="primary" data-tab="actions">
      {{> "systems/shadowrun5e/templates/actor/parts/actor-actions.html" actions=actions }}
    </div>
    <div class="tab" data-group="primary" data-tab="info">
      {{> "systems/shadowrun5e/templates/actor/parts/actor-info.html" }}
    </div>
  </section>

</form>

