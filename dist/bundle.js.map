{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/@babel/runtime/helpers/get.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/superPropBase.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/regenerator/index.js","node_modules/base64-js/index.js","node_modules/browser-resolve/empty.js","node_modules/buffer/index.js","node_modules/core-util-is/lib/util.js","node_modules/events/events.js","node_modules/ieee754/index.js","node_modules/inherits/inherits_browser.js","node_modules/is-buffer/index.js","node_modules/isarray/index.js","node_modules/process-nextick-args/index.js","node_modules/process/browser.js","node_modules/readable-stream/duplex-browser.js","node_modules/readable-stream/lib/_stream_duplex.js","node_modules/readable-stream/lib/_stream_passthrough.js","node_modules/readable-stream/lib/_stream_readable.js","node_modules/readable-stream/lib/_stream_transform.js","node_modules/readable-stream/lib/_stream_writable.js","node_modules/readable-stream/lib/internal/streams/BufferList.js","node_modules/readable-stream/lib/internal/streams/destroy.js","node_modules/readable-stream/lib/internal/streams/stream-browser.js","node_modules/readable-stream/passthrough.js","node_modules/readable-stream/readable-browser.js","node_modules/readable-stream/transform.js","node_modules/readable-stream/writable-browser.js","node_modules/regenerator-runtime/runtime.js","node_modules/safe-buffer/index.js","node_modules/sax/lib/sax.js","node_modules/stream-browserify/index.js","node_modules/string_decoder/lib/string_decoder.js","node_modules/timers-browserify/main.js","node_modules/util-deprecate/browser.js","node_modules/xml2js/lib/bom.js","node_modules/xml2js/lib/builder.js","node_modules/xml2js/lib/defaults.js","node_modules/xml2js/lib/parser.js","node_modules/xml2js/lib/processors.js","node_modules/xml2js/lib/xml2js.js","node_modules/xmlbuilder/lib/DocumentPosition.js","node_modules/xmlbuilder/lib/NodeType.js","node_modules/xmlbuilder/lib/Utility.js","node_modules/xmlbuilder/lib/WriterState.js","node_modules/xmlbuilder/lib/XMLAttribute.js","node_modules/xmlbuilder/lib/XMLCData.js","node_modules/xmlbuilder/lib/XMLCharacterData.js","node_modules/xmlbuilder/lib/XMLComment.js","node_modules/xmlbuilder/lib/XMLDOMConfiguration.js","node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js","node_modules/xmlbuilder/lib/XMLDOMImplementation.js","node_modules/xmlbuilder/lib/XMLDOMStringList.js","node_modules/xmlbuilder/lib/XMLDTDAttList.js","node_modules/xmlbuilder/lib/XMLDTDElement.js","node_modules/xmlbuilder/lib/XMLDTDEntity.js","node_modules/xmlbuilder/lib/XMLDTDNotation.js","node_modules/xmlbuilder/lib/XMLDeclaration.js","node_modules/xmlbuilder/lib/XMLDocType.js","node_modules/xmlbuilder/lib/XMLDocument.js","node_modules/xmlbuilder/lib/XMLDocumentCB.js","node_modules/xmlbuilder/lib/XMLDummy.js","node_modules/xmlbuilder/lib/XMLElement.js","node_modules/xmlbuilder/lib/XMLNamedNodeMap.js","node_modules/xmlbuilder/lib/XMLNode.js","node_modules/xmlbuilder/lib/XMLNodeList.js","node_modules/xmlbuilder/lib/XMLProcessingInstruction.js","node_modules/xmlbuilder/lib/XMLRaw.js","node_modules/xmlbuilder/lib/XMLStreamWriter.js","node_modules/xmlbuilder/lib/XMLStringWriter.js","node_modules/xmlbuilder/lib/XMLStringifier.js","node_modules/xmlbuilder/lib/XMLText.js","node_modules/xmlbuilder/lib/XMLWriterBase.js","node_modules/xmlbuilder/lib/index.js","src/module/actor/DamageApplicationFlow.ts","src/module/actor/SR5Actor.ts","src/module/actor/SR5ActorSheet.ts","src/module/actor/SkillFlow.ts","src/module/actor/SkillRules.ts","src/module/actor/SoakFlow.ts","src/module/actor/SoakRules.ts","src/module/actor/prep/ActorPrepFactory.ts","src/module/actor/prep/BaseActorPrep.ts","src/module/actor/prep/CharacterPrep.ts","src/module/actor/prep/CritterPrep.ts","src/module/actor/prep/SpiritPrep.ts","src/module/actor/prep/SpritePrep.ts","src/module/actor/prep/VehiclePrep.ts","src/module/actor/prep/functions/AttributesPrep.ts","src/module/actor/prep/functions/ConditionMonitorsPrep.ts","src/module/actor/prep/functions/InitiativePrep.ts","src/module/actor/prep/functions/ItemPrep.ts","src/module/actor/prep/functions/LimitsPrep.ts","src/module/actor/prep/functions/MatrixPrep.ts","src/module/actor/prep/functions/ModifiersPrep.ts","src/module/actor/prep/functions/MovementPrep.ts","src/module/actor/prep/functions/NPCPrep.ts","src/module/actor/prep/functions/SkillsPrep.ts","src/module/actor/prep/functions/WoundsPrep.ts","src/module/apps/ChangelogApplication.ts","src/module/apps/EnvModifiersApplication.ts","src/module/apps/characterImport/ArmorParser.js","src/module/apps/characterImport/BaseParserFunctions.js","src/module/apps/characterImport/CharacterImporter.js","src/module/apps/characterImport/CharacterInfoUpdater.js","src/module/apps/characterImport/ContactParser.js","src/module/apps/characterImport/CyberwareParser.js","src/module/apps/characterImport/ItemsParser.js","src/module/apps/characterImport/LifestyleParser.js","src/module/apps/characterImport/PowerParser.js","src/module/apps/characterImport/QualityParser.js","src/module/apps/characterImport/SpellParser.js","src/module/apps/characterImport/WeaponParser.js","src/module/apps/characterImport/gearImport/AmmoParser.ts","src/module/apps/characterImport/gearImport/BaseGearParser.ts","src/module/apps/characterImport/gearImport/DeviceParser.ts","src/module/apps/characterImport/gearImport/GearsParser.ts","src/module/apps/characterImport/gearImport/ParserSelector.ts","src/module/apps/characterImport/gearImport/ProgramParser.ts","src/module/apps/characterImport/gearImport/SinParser.ts","src/module/apps/chummer-import-form.js","src/module/apps/dialogs/DamageApplicationDialog.ts","src/module/apps/dialogs/DeleteConfirmationDialog.ts","src/module/apps/dialogs/FormDialog.ts","src/module/apps/dialogs/ShadowrunActorDialogs.ts","src/module/apps/dialogs/ShadowrunItemDialog.ts","src/module/apps/dialogs/ShadowrunTestDialog.ts","src/module/apps/gmtools/OverwatchScoreTracker.js","src/module/apps/skills/KnowledgeSkillEditForm.ts","src/module/apps/skills/LanguageSkillEditForm.ts","src/module/apps/skills/SkillEditForm.ts","src/module/canvas.ts","src/module/chat.ts","src/module/combat/SR5Combat.ts","src/module/config.ts","src/module/constants.ts","src/module/dataTemplates.ts","src/module/dataWrappers/DataWrapper.ts","src/module/handlebars/AppHelpers.ts","src/module/handlebars/BasicHelpers.ts","src/module/handlebars/HandlebarManager.ts","src/module/handlebars/HandlebarTemplates.ts","src/module/handlebars/ItemLineHelpers.ts","src/module/handlebars/RollAndLabelHelpers.ts","src/module/handlebars/SkillLineHelpers.ts","src/module/helpers.ts","src/module/hooks.ts","src/module/importer/apps/import-form.ts","src/module/importer/helper/ImportHelper.ts","src/module/importer/helper/ImportStrategy.ts","src/module/importer/helper/JSONStrategy.ts","src/module/importer/helper/XMLStrategy.ts","src/module/importer/importer/AmmoImporter.ts","src/module/importer/importer/ArmorImporter.ts","src/module/importer/importer/ComplexFormImporter.ts","src/module/importer/importer/Constants.ts","src/module/importer/importer/CritterPowerImporter.ts","src/module/importer/importer/DataImporter.ts","src/module/importer/importer/DeviceImporter.ts","src/module/importer/importer/EquipmentImporter.ts","src/module/importer/importer/ModImporter.ts","src/module/importer/importer/QualityImporter.ts","src/module/importer/importer/SpellImporter.ts","src/module/importer/importer/WareImporter.ts","src/module/importer/importer/WeaponImporter.ts","src/module/importer/parser/Parser.ts","src/module/importer/parser/ParserMap.ts","src/module/importer/parser/armor/ArmorParserBase.ts","src/module/importer/parser/complex-form/ComplexFormParserBase.ts","src/module/importer/parser/critter-power/CritterPowerParserBase.ts","src/module/importer/parser/item/ItemParserBase.ts","src/module/importer/parser/item/TechnologyItemParserBase.ts","src/module/importer/parser/mod/ModParserBase.ts","src/module/importer/parser/quality/QualityParserBase.ts","src/module/importer/parser/spell/CombatSpellParser.ts","src/module/importer/parser/spell/DetectionSpellImporter.ts","src/module/importer/parser/spell/IllusionSpellParser.ts","src/module/importer/parser/spell/ManipulationSpellParser.ts","src/module/importer/parser/spell/SpellParserBase.ts","src/module/importer/parser/ware/CyberwareParser.ts","src/module/importer/parser/weapon/MeleeParser.ts","src/module/importer/parser/weapon/RangedParser.ts","src/module/importer/parser/weapon/ThrownParser.ts","src/module/importer/parser/weapon/WeaponParserBase.ts","src/module/item/ChatData.ts","src/module/item/ItemAction.ts","src/module/item/SR5Item.ts","src/module/item/SR5ItemDataWrapper.ts","src/module/item/SR5ItemSheet.ts","src/module/macros.ts","src/module/main.ts","src/module/migrator/Migrator.ts","src/module/migrator/VersionMigration.ts","src/module/migrator/versions/LegacyMigration.ts","src/module/migrator/versions/Version0_6_10.ts","src/module/migrator/versions/Version0_6_5.ts","src/module/migrator/versions/Version0_7_2.ts","src/module/parts/PartsList.ts","src/module/rolls/ShadowrunRoller.ts","src/module/settings.ts","src/module/sr5/Combat.ts","src/module/sr5/Modifiers.ts","src/module/template.ts","src/test/quench.ts","src/test/sr5.Modifiers.spec.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACjvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9qBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzEA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5uBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7hDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjEA,qFAAgF;AAIhF,MAAa,qBAAqB;IAE9B;;;;;OAKG;IACG,cAAc,CAAC,MAAkB,EAAE,MAAmB;;YACxD,sDAAsD;YACtD,MAAM,uBAAuB,GAAG,MAAM,IAAI,iDAAuB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAClF,MAAM,uBAAuB,CAAC,MAAM,EAAE,CAAC;YAEvC,IAAI,uBAAuB,CAAC,Q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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42 } }\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\n// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\nif (typeof Symbol !== 'undefined' && Symbol.species != null &&\n    Buffer[Symbol.species] === Buffer) {\n  Object.defineProperty(Buffer, Symbol.species, {\n    value: null,\n    configurable: true,\n    enumerable: false,\n    writable: false\n  })\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayLike(value)\n  }\n\n  if (value == null) {\n    throw TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nBuffer.prototype.__proto__ = Uint8Array.prototype\nBuffer.__proto__ = Uint8Array\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      buf = Buffer.from(buf)\n    }\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n        : (firstByte > 0xBF) ? 2\n          : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  newBuf.__proto__ = Buffer.prototype\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (var i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = require('./lib/_stream_duplex.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","module.exports = require('events').EventEmitter;\n","module.exports = require('./readable').PassThrough\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./lib/_stream_writable.js');\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseStringPromise = bind(this.parseStringPromise, this);\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    Parser.prototype.parseStringPromise = function(str) {\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.parseString(str, function(err, value) {\n            if (err) {\n              return reject(err);\n            } else {\n              return resolve(value);\n            }\n          });\n        };\n      })(this));\n    };\n\n    return Parser;\n\n  })(events);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n  exports.parseStringPromise = function(str, a) {\n    var options, parser;\n    if (typeof a === 'object') {\n      options = a;\n    }\n    parser = new exports.Parser(options);\n    return parser.parseStringPromise(str);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n  exports.parseStringPromise = parser.parseStringPromise;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.value = this.stringify.attValue(value);\n      this.type = NodeType.Attribute;\n      this.isId = false;\n      this.schemaTypeInfo = null;\n    }\n\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLAttribute.prototype.debugInfo = function(name) {\n      name = name || this.name;\n      if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else {\n        return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLAttribute.prototype.isEqualNode = function(node) {\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.value !== this.value) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCData, XMLCharacterData,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLCData;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCharacterData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCharacterData = (function(superClass) {\n    extend(XMLCharacterData, superClass);\n\n    function XMLCharacterData(parent) {\n      XMLCharacterData.__super__.constructor.call(this, parent);\n      this.value = '';\n    }\n\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    XMLCharacterData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCharacterData.prototype.substringData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.appendData = function(arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.insertData = function(offset, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.deleteData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.replaceData = function(offset, count, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.isEqualNode = function(node) {\n      if (!XMLCharacterData.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.data !== this.data) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLCharacterData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLComment,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLComment;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  module.exports = XMLDOMConfiguration = (function() {\n    function XMLDOMConfiguration() {\n      var clonedSelf;\n      this.defaultParams = {\n        \"canonical-form\": false,\n        \"cdata-sections\": false,\n        \"comments\": false,\n        \"datatype-normalization\": false,\n        \"element-content-whitespace\": true,\n        \"entities\": true,\n        \"error-handler\": new XMLDOMErrorHandler(),\n        \"infoset\": true,\n        \"validate-if-schema\": false,\n        \"namespaces\": true,\n        \"namespace-declarations\": true,\n        \"normalize-characters\": false,\n        \"schema-location\": '',\n        \"schema-type\": '',\n        \"split-cdata-sections\": true,\n        \"validate\": false,\n        \"well-formed\": true\n      };\n      this.params = clonedSelf = Object.create(this.defaultParams);\n    }\n\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    XMLDOMConfiguration.prototype.getParameter = function(name) {\n      if (this.params.hasOwnProperty(name)) {\n        return this.params[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLDOMConfiguration.prototype.canSetParameter = function(name, value) {\n      return true;\n    };\n\n    XMLDOMConfiguration.prototype.setParameter = function(name, value) {\n      if (value != null) {\n        return this.params[name] = value;\n      } else {\n        return delete this.params[name];\n      }\n    };\n\n    return XMLDOMConfiguration;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = (function() {\n    function XMLDOMErrorHandler() {}\n\n    XMLDOMErrorHandler.prototype.handleError = function(error) {\n      throw new Error(error);\n    };\n\n    return XMLDOMErrorHandler;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = (function() {\n    function XMLDOMImplementation() {}\n\n    XMLDOMImplementation.prototype.hasFeature = function(feature, version) {\n      return true;\n    };\n\n    XMLDOMImplementation.prototype.createDocumentType = function(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createDocument = function(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createHTMLDocument = function(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLDOMImplementation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    function XMLDOMStringList(arr) {\n      this.arr = arr || [];\n    }\n\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    XMLDOMStringList.prototype.item = function(index) {\n      return this.arr[index] || null;\n    };\n\n    XMLDOMStringList.prototype.contains = function(str) {\n      return this.arr.indexOf(str) !== -1;\n    };\n\n    return XMLDOMStringList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n      }\n      if (value == null) {\n        throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.name(name);\n      this.type = NodeType.EntityDeclaration;\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n        this.internal = true;\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n        }\n        this.internal = false;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n        }\n      }\n    }\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.NotationDeclaration;\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var child, i, len, ref, ref1, ref2;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.type = NodeType.DocType;\n      if (parent.children) {\n        ref = parent.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.Element) {\n            this.name = child.name;\n            break;\n          }\n        }\n      }\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref1 = pubID, pubID = ref1.pubID, sysID = ref1.sysID;\n      }\n      if (sysID == null) {\n        ref2 = [pubID, sysID], sysID = ref2[0], pubID = ref2[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    XMLDocType.prototype.isEqualNode = function(node) {\n      if (!XMLDocType.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.name !== this.name) {\n        return false;\n      }\n      if (node.publicId !== this.publicId) {\n        return false;\n      }\n      if (node.systemId !== this.systemId) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      this.name = \"#document\";\n      this.type = NodeType.Document;\n      this.documentURI = null;\n      this.domConfig = new XMLDOMConfiguration();\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n    }\n\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      writerOptions = {};\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer;\n      }\n      return writer.document(this, writer.filterOptions(writerOptions));\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.document(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocument.prototype.createElement = function(tagName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createDocumentFragment = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTextNode = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createComment = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createCDATASection = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createProcessingInstruction = function(target, data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttribute = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEntityReference = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.importNode = function(importedNode, deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createElementNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttributeNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementById = function(elementId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.adoptNode = function(source) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.normalizeDocument = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.renameNode = function(node, namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEvent = function(eventInterface) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createRange = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createNodeIterator = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTreeWalker = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject, getValue = ref.getValue;\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.createChildNode = function(node) {\n      var att, attName, attributes, child, i, len, ref1, ref2;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref1 = node.attribs;\n          for (attName in ref1) {\n            if (!hasProp.call(ref1, attName)) continue;\n            att = ref1[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref2 = node.children;\n      for (i = 0, len = ref2.length; i < len; i++) {\n        child = ref2[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dummy = function() {\n      return this;\n    };\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref1, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement.apply(this, arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref1 = root.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      var att, chunk, name, ref1;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref1 = node.attribs;\n          for (name in ref1) {\n            if (!hasProp.call(ref1, name)) continue;\n            att = ref1[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag;\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.debugInfo = function(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDummy, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDummy = (function(superClass) {\n    extend(XMLDummy, superClass);\n\n    function XMLDummy(parent) {\n      XMLDummy.__super__.constructor.call(this, parent);\n      this.type = NodeType.Dummy;\n    }\n\n    XMLDummy.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLDummy.prototype.toString = function(options) {\n      return '';\n    };\n\n    return XMLDummy;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, getValue = ref.getValue;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      var child, j, len, ref1;\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name. \" + this.debugInfo());\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.Element;\n      this.attribs = {};\n      this.schemaTypeInfo = null;\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.type === NodeType.Document) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n        if (parent.children) {\n          ref1 = parent.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.type === NodeType.DocType) {\n              child.name = this.name;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attribs = {};\n      ref1 = this.attribs;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attribs[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, j, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo());\n      }\n      name = getValue(name);\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          attName = name[j];\n          delete this.attribs[attName];\n        }\n      } else {\n        delete this.attribs[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.element(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.getAttribute = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].value;\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttribute = function(name, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNode = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttributeNode = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNode = function(oldAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNS = function(namespaceURI, qualifiedName, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNodeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNodeNS = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.hasAttribute = function(name) {\n      return this.attribs.hasOwnProperty(name);\n    };\n\n    XMLElement.prototype.hasAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttribute = function(name, isId) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].isId;\n      } else {\n        return isId;\n      }\n    };\n\n    XMLElement.prototype.setIdAttributeNS = function(namespaceURI, localName, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttributeNode = function(idAttr, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.isEqualNode = function(node) {\n      var i, j, ref1;\n      if (!XMLElement.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.attribs.length !== this.attribs.length) {\n        return false;\n      }\n      for (i = j = 0, ref1 = this.attribs.length - 1; 0 <= ref1 ? j <= ref1 : j >= ref1; i = 0 <= ref1 ? ++j : --j) {\n        if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    function XMLNamedNodeMap(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    XMLNamedNodeMap.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItem = function(name) {\n      return this.nodes[name];\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItem = function(node) {\n      var oldNode;\n      oldNode = this.nodes[node.nodeName];\n      this.nodes[node.nodeName] = node;\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItem = function(name) {\n      var oldNode;\n      oldNode = this.nodes[name];\n      delete this.nodes[name];\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.item = function(index) {\n      return this.nodes[Object.keys(this.nodes)[index]] || null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItemNS = function(node) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLNamedNodeMap;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject, ref1,\n    hasProp = {}.hasOwnProperty;\n\n  ref1 = require('./Utility'), isObject = ref1.isObject, isFunction = ref1.isFunction, isEmpty = ref1.isEmpty, getValue = ref1.getValue;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent1) {\n      this.parent = parent1;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.value = null;\n      this.children = [];\n      this.baseURI = null;\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n        XMLDummy = require('./XMLDummy');\n        NodeType = require('./NodeType');\n        XMLNodeList = require('./XMLNodeList');\n        XMLNamedNodeMap = require('./XMLNamedNodeMap');\n        DocumentPosition = require('./DocumentPosition');\n      }\n    }\n\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref2, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref2 = this.children;\n          for (j = 0, len = ref2.length; j < len; j++) {\n            child = ref2[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLNode.prototype.setParent = function(parent) {\n      var child, j, len, ref2, results;\n      this.parent = parent;\n      if (parent) {\n        this.options = parent.options;\n        this.stringify = parent.stringify;\n      }\n      ref2 = this.children;\n      results = [];\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        results.push(child.setParent(this));\n      }\n      return results;\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref2, ref3, val;\n      lastChild = null;\n      if (attributes === null && (text == null)) {\n        ref2 = [{}, null], attributes = ref2[0], text = ref2[1];\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref3 = [attributes, text], text = ref3[0], attributes = ref3[1];\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n            lastChild = this.dummy();\n          } else if (isObject(val) && isEmpty(val)) {\n            lastChild = this.element(key);\n          } else if (!this.options.keepNullNodes && (val == null)) {\n            lastChild = this.dummy();\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else if (!this.options.keepNullNodes && text === null) {\n        lastChild = this.dummy();\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, newChild, refChild, removed;\n      if (name != null ? name.type : void 0) {\n        newChild = name;\n        refChild = attributes;\n        newChild.setParent(this);\n        if (refChild) {\n          i = children.indexOf(refChild);\n          removed = children.splice(i);\n          children.push(newChild);\n          Array.prototype.push.apply(children, removed);\n        } else {\n          children.push(newChild);\n        }\n        return newChild;\n      } else {\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        child = this.parent.element(name, attributes, text);\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref2;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref2 = [])), ref2;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref2;\n      if (name != null) {\n        name = getValue(name);\n      }\n      attributes || (attributes = {});\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref2 = [attributes, text], text = ref2[0], attributes = ref2[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      if (isObject(value)) {\n        this.element(value);\n      }\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.dummy = function() {\n      var child;\n      child = new XMLDummy(this);\n      return child;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children.length === 0) {\n        doc.children.unshift(xmldec);\n      } else if (doc.children[0].type === NodeType.Declaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref2, ref3;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref2 = doc.children;\n      for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n        child = ref2[i];\n        if (child.type === NodeType.DocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref3 = doc.children;\n      for (i = k = 0, len1 = ref3.length; k < len1; i = ++k) {\n        child = ref3[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node. \" + this.debugInfo());\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node. \" + this.debugInfo());\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.debugInfo = function(name) {\n      var ref2, ref3;\n      name = name || this.name;\n      if ((name == null) && !((ref2 = this.parent) != null ? ref2.name : void 0)) {\n        return \"\";\n      } else if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else if (!((ref3 = this.parent) != null ? ref3.name : void 0)) {\n        return \"node: <\" + name + \">\";\n      } else {\n        return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    XMLNode.prototype.replaceChild = function(newChild, oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.removeChild = function(oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.appendChild = function(newChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.hasChildNodes = function() {\n      return this.children.length !== 0;\n    };\n\n    XMLNode.prototype.cloneNode = function(deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.normalize = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isSupported = function(feature, version) {\n      return true;\n    };\n\n    XMLNode.prototype.hasAttributes = function() {\n      return this.attribs.length !== 0;\n    };\n\n    XMLNode.prototype.compareDocumentPosition = function(other) {\n      var ref, res;\n      ref = this;\n      if (ref === other) {\n        return 0;\n      } else if (this.document() !== other.document()) {\n        res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n        if (Math.random() < 0.5) {\n          res |= DocumentPosition.Preceding;\n        } else {\n          res |= DocumentPosition.Following;\n        }\n        return res;\n      } else if (ref.isAncestor(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Preceding;\n      } else if (ref.isDescendant(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Following;\n      } else if (ref.isPreceding(other)) {\n        return DocumentPosition.Preceding;\n      } else {\n        return DocumentPosition.Following;\n      }\n    };\n\n    XMLNode.prototype.isSameNode = function(other) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupPrefix = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isDefaultNamespace = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupNamespaceURI = function(prefix) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isEqualNode = function(node) {\n      var i, j, ref2;\n      if (node.nodeType !== this.nodeType) {\n        return false;\n      }\n      if (node.children.length !== this.children.length) {\n        return false;\n      }\n      for (i = j = 0, ref2 = this.children.length - 1; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {\n        if (!this.children[i].isEqualNode(node.children[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    XMLNode.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.setUserData = function(key, data, handler) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.getUserData = function(key) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.contains = function(other) {\n      if (!other) {\n        return false;\n      }\n      return other === this || this.isDescendant(other);\n    };\n\n    XMLNode.prototype.isDescendant = function(node) {\n      var child, isDescendantChild, j, len, ref2;\n      ref2 = this.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (node === child) {\n          return true;\n        }\n        isDescendantChild = child.isDescendant(node);\n        if (isDescendantChild) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    XMLNode.prototype.isAncestor = function(node) {\n      return node.isDescendant(this);\n    };\n\n    XMLNode.prototype.isPreceding = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos < thisPos;\n      }\n    };\n\n    XMLNode.prototype.isFollowing = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos > thisPos;\n      }\n    };\n\n    XMLNode.prototype.treePosition = function(node) {\n      var found, pos;\n      pos = 0;\n      found = false;\n      this.foreachTreeNode(this.document(), function(childNode) {\n        pos++;\n        if (!found && childNode === node) {\n          return found = true;\n        }\n      });\n      if (found) {\n        return pos;\n      } else {\n        return -1;\n      }\n    };\n\n    XMLNode.prototype.foreachTreeNode = function(node, func) {\n      var child, j, len, ref2, res;\n      node || (node = this.document());\n      ref2 = node.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (res = func(child)) {\n          return res;\n        } else {\n          res = this.foreachTreeNode(child, func);\n          if (res) {\n            return res;\n          }\n        }\n      }\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    function XMLNodeList(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    XMLNodeList.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNodeList.prototype.item = function(index) {\n      return this.nodes[index] || null;\n    };\n\n    return XMLNodeList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLProcessingInstruction.prototype.isEqualNode = function(node) {\n      if (!XMLProcessingInstruction.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      this.stream = stream;\n      XMLStreamWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStreamWriter.prototype.endline = function(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return XMLStreamWriter.__super__.endline.call(this, node, options, level);\n      }\n    };\n\n    XMLStreamWriter.prototype.document = function(doc, options) {\n      var child, i, j, k, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.attribute.call(this, att, options, level));\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.cdata.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.comment.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.declaration.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, options, level) {\n      var child, j, len, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len = ref.length; j < len; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, j, len, name, prettySuppressed, ref, ref1;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level) + '<' + node.name);\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.raw.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.text.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this, node, options, level));\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalName = bind(this.assertLegalName, this);\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      if (!this.options.version) {\n        this.options.version = '1.0';\n      }\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.name = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalName('' + val || '');\n    };\n\n    XMLStringifier.prototype.text = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.textEscape('' + val || ''));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var regex, res;\n      if (this.options.noValidation) {\n        return str;\n      }\n      regex = '';\n      if (this.options.version === '1.0') {\n        regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      } else if (this.options.version === '1.1') {\n        regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.assertLegalName = function(str) {\n      var regex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      this.assertLegalChar(str);\n      regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n      if (!str.match(regex)) {\n        throw new Error(\"Invalid character in name\");\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.textEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text. \" + this.debugInfo());\n      }\n      this.name = \"#text\";\n      this.type = NodeType.Text;\n      this.value = this.stringify.text(text);\n    }\n\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.text(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLText.prototype.splitText = function(offset) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLText.prototype.replaceWholeText = function(content) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLText;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n","import {DamageApplicationDialog} from \"../apps/dialogs/DamageApplicationDialog\";\nimport {SR5Actor} from \"./SR5Actor\";\nimport DamageData = Shadowrun.DamageData;\n\nexport class DamageApplicationFlow {\n\n    /**\n     * Runs the flow to apply damage to multiple actors with user interaction\n     * This will also take care of changing the damage type if necessary\n     * @param actors The actors that are affected\n     * @param damage The damage the actors will receive\n     */\n    async runApplyDamage(actors: SR5Actor[], damage : DamageData) {\n        // Show user the affected actors and the damage values\n        const damageApplicationDialog = await new DamageApplicationDialog(actors, damage);\n        await damageApplicationDialog.select();\n\n        if (damageApplicationDialog.canceled) {\n            return;\n        }\n\n        actors.forEach((actor) => {\n            this.applyDamageToActor(actor, damage);\n        });\n    }\n\n    /** Apply all types of damage to the actor.\n     *\n     * @param damage The damage to apply. Stun damage will be turned to physical for grunts.\n     */\n    async applyDamageToActor(actor : SR5Actor, damage: DamageData) {\n        if (damage.value <= 0) {\n            return;\n        }\n\n        // We change the damage type from stun to physical for grunts (they do not have a stun track)\n        // We are not doing this earlier in the soak flow to avoid confusing the user \n        damage = this.changeStunToPhysicalForGrunts(actor, damage);\n\n        // Apply damage and resulting overflow to the according track.\n        // The amount and type damage can value in the process.\n        if (damage.type.value === 'matrix') {\n            damage = await actor.addMatrixDamage(damage);\n        }\n\n        if (damage.type.value === 'stun') {\n            damage = await actor.addStunDamage(damage);\n        }\n\n        if (damage.type.value === 'physical') {\n            await actor.addPhysicalDamage(damage);\n        }\n\n        // NOTE: For stuff like healing the last wound by magic, it might also be interesting to store and give\n        //       an overview of each damage/wound applied to select from.\n        // await this.update({'data.track': this.data.data.track});\n        // TODO: Handle changes in actor status (death and such)\n    }\n\n    private changeStunToPhysicalForGrunts(actor : SR5Actor, damage: DamageData): DamageData {\n        const updatedDamage = duplicate(damage);\n        if (!actor.isGrunt()) {\n            return updatedDamage;\n        }\n\n        // Grunts do not have a stun track and will always receive physical damage.\n        if (damage.type.value === 'stun') {\n            updatedDamage.type.value = 'physical';\n        }\n\n        return updatedDamage;\n    }\n}","import {ShadowrunRoll, ShadowrunRoller} from '../rolls/ShadowrunRoller';\nimport {Helpers} from '../helpers';\nimport {SR5Item} from '../item/SR5Item';\nimport {FLAGS, SKILL_DEFAULT_NAME, SR, SYSTEM_NAME} from '../constants';\nimport {PartsList} from '../parts/PartsList';\nimport {ActorPrepFactory} from './prep/ActorPrepFactory';\nimport {ShadowrunActorDialogs} from \"../apps/dialogs/ShadowrunActorDialogs\";\nimport {createRollChatMessage} from \"../chat\";\nimport {SR5Combat} from \"../combat/SR5Combat\";\nimport {Modifiers} from \"../sr5/Modifiers\";\nimport {SoakFlow} from './SoakFlow';\nimport {DefaultValues} from '../dataTemplates';\nimport {SkillFlow} from \"./SkillFlow\";\nimport ActorRollOptions = Shadowrun.ActorRollOptions;\nimport DefenseRollOptions = Shadowrun.DefenseRollOptions;\nimport SoakRollOptions = Shadowrun.SoakRollOptions;\nimport AttributeField = Shadowrun.AttributeField;\nimport SkillRollOptions = Shadowrun.SkillRollOptions;\nimport SkillField = Shadowrun.SkillField;\nimport ModList = Shadowrun.ModList;\nimport LimitField = Shadowrun.LimitField;\nimport SR5ActorType = Shadowrun.SR5ActorType;\nimport EdgeAttributeField = Shadowrun.EdgeAttributeField;\nimport VehicleActorData = Shadowrun.VehicleActorData;\nimport VehicleStat = Shadowrun.VehicleStat;\nimport Attributes = Shadowrun.Attributes;\nimport Limits = Shadowrun.Limits;\nimport DamageData = Shadowrun.DamageData;\nimport TrackType = Shadowrun.TrackType;\nimport OverflowTrackType = Shadowrun.OverflowTrackType;\nimport SpellDefenseOptions = Shadowrun.SpellDefenseOptions;\nimport NumberOrEmpty = Shadowrun.NumberOrEmpty;\nimport CharacterActorData = Shadowrun.CharacterActorData;\nimport SR5VehicleType = Shadowrun.SR5VehicleType;\nimport VehicleStats = Shadowrun.VehicleStats;\nimport SR5CharacterType = Shadowrun.SR5CharacterType;\nimport ActorArmorData = Shadowrun.ActorArmorData;\nimport ConditionData = Shadowrun.ConditionData;\nimport SR5SpiritType = Shadowrun.SR5SpiritType;\nimport SR5SpriteType = Shadowrun.SR5SpriteType;\nimport SR5CritterType = Shadowrun.SR5CritterType;\nimport SR5ActorData = Shadowrun.SR5ActorData;\nimport Skills = Shadowrun.Skills;\nimport {SkillRules} from \"./SkillRules\";\nimport { SoakRules } from './SoakRules';\n\nexport class SR5Actor extends Actor<SR5ActorData> {\n    // NOTE: Overwrite Actor.data additionally to extends Actor<T as SR5Actortype.Data: SR5ActorData> to still have\n    //       access to Actor.data.type checks.\n    data: SR5ActorType;\n\n    getOverwatchScore() {\n        const os = this.getFlag(SYSTEM_NAME, 'overwatchScore');\n        return os !== undefined ? os : 0;\n    }\n\n    async setOverwatchScore(value) {\n        const num = parseInt(value);\n        if (!isNaN(num)) {\n            return this.setFlag(SYSTEM_NAME, 'overwatchScore', num);\n        }\n    }\n\n    prepareData() {\n        super.prepareData();\n\n        const actorData = this.data as SR5ActorType;\n        const prepper = ActorPrepFactory.Create(actorData);\n        if (prepper) {\n            prepper.prepare();\n        }\n    }\n\n    getModifier(modifierName: string): NumberOrEmpty {\n        return this.data.data.modifiers[modifierName];\n    }\n\n    findActiveSkill(skillName?: string): SkillField | undefined {\n        if (skillName === undefined) return undefined;\n        // Search for legacy skills with their name as id.\n        const skill = this.data.data.skills.active[skillName];\n        if (skill) return skill;\n        // Search for custom skills with a random id.\n        return Object.values(this.data.data.skills.active).find(skill => skill.name === skillName);\n    }\n\n    findAttribute(attributeName?: string): AttributeField | undefined {\n        if (attributeName === undefined) return undefined;\n        return this.data.data.attributes[attributeName];\n    }\n\n    findVehicleStat(statName?: string): VehicleStat | undefined {\n        if (statName === undefined) return;\n\n        const vehicleStats = this.getVehicleStats();\n        if (vehicleStats)\n            return vehicleStats[statName];\n    }\n\n    findLimitFromAttribute(attributeName?: string): LimitField | undefined {\n        if (attributeName === undefined) return undefined;\n        const attribute = this.findAttribute(attributeName);\n        if (!attribute?.limit) return undefined;\n        return this.findLimit(attribute.limit);\n    }\n\n    findLimit(limitName?: string): LimitField | undefined {\n        if (!limitName) return undefined;\n        return this.data.data.limits[limitName];\n    }\n\n    getWoundModifier(): number {\n        if (!(\"wounds\" in this.data.data)) return 0;\n        return -1 * this.data.data.wounds.value || 0;\n    }\n\n    /** Use edge on actors that have an edge attribute.\n     *\n     * NOTE: This doesn't only include characters but spirits, critters and more.\n     */\n    async useEdge(by: number = -1) {\n        const edge = this.getEdge();\n        if (edge && edge.value === 0) return;\n        // NOTE: There used to be a bug which could lower edge usage below zero. Let's quietly ignore and reset. :)\n        const usesLeft = edge.uses > 0 ? edge.uses : 0;\n        const uses = Math.min(edge.value, usesLeft + by);\n\n        await this.update({'data.attributes.edge.uses': uses});\n    }\n\n    getEdge(): EdgeAttributeField {\n        return this.data.data.attributes.edge;\n    }\n\n    hasArmor(): boolean {\n        return \"armor\" in this.data.data;\n    }\n\n    getArmor(): ActorArmorData {\n        if (\"armor\" in this.data.data)\n            return this.data.data.armor;\n\n        return DefaultValues.actorArmorData();\n    }\n\n    getOwnedSR5Item(itemId: string): SR5Item | null {\n        return (super.getOwnedItem(itemId) as unknown) as SR5Item;\n    }\n\n    getMatrixDevice(): SR5Item | undefined | null {\n        if (!(\"matrix\" in this.data.data)) return;\n        const matrix = this.data.data.matrix;\n        if (matrix.device) return this.getOwnedSR5Item(matrix.device);\n    }\n\n    getFullDefenseAttribute(): AttributeField | undefined {\n        if (this.isVehicle()) {\n            return this.findVehicleStat('pilot');\n        } else if (this.isCharacter()) {\n            const character = this.asCharacterData();\n            if (character) {\n                let att = character.data.full_defense_attribute;\n                if (!att) att = 'willpower';\n                return this.findAttribute(att);\n            }\n        }\n    }\n\n    getEquippedWeapons(): SR5Item[] {\n        // @ts-ignore // TODO: How to define SR5Actor.items as SR5Item[]?\n        return this.items.filter((item: SR5Item) => item.isEquipped() && item.isWeapon());\n    }\n\n    getRecoilCompensation(): number {\n        let total = 1; // always get 1\n        const strength = this.findAttribute('strength');\n        if (strength) {\n            total += Math.ceil(strength.value / 3);\n        }\n        return total;\n    }\n\n    getDeviceRating(): number {\n        if (!(\"matrix\" in this.data.data)) return 0;\n        // @ts-ignore // parseInt does indeed allow number types.\n        return parseInt(this.data.data.matrix.rating);\n    }\n\n    getAttributes(): Attributes {\n        return this.data.data.attributes;\n    }\n\n    getAttribute(name: string): AttributeField {\n        const attributes = this.getAttributes();\n        return attributes[name];\n    }\n\n    getLimits(): Limits {\n        return this.data.data.limits;\n    }\n\n    getLimit(name: string): LimitField {\n        const limits = this.getLimits();\n        return limits[name];\n    }\n\n    /** Return actor type, which can be different kind of actors from 'character' to 'vehicle'.\n     *  Please check SR5ActorType for reference.\n     */\n    getType(): string {\n        return this.data.type;\n    }\n\n    isCharacter(): boolean {\n        return this.getType() === 'character';\n    }\n\n    isSpirit(): boolean {\n        return this.getType() === 'spirit';\n    }\n\n    isSprite(): boolean {\n        return this.getType() === 'sprite';\n    }\n\n    isVehicle() {\n        return this.getType() === 'vehicle';\n    }\n\n    isGrunt() {\n        if (!(\"is_npc\" in this.data.data) || !(\"npc\" in this.data.data)) return false;\n\n        return this.data.data.is_npc && this.data.data.npc.is_grunt;\n    }\n\n    isCritter() {\n        return this.getType() === 'critter';\n    }\n\n    getVehicleTypeSkillName(): string | undefined {\n        if (!(\"vehicleType\" in this.data.data)) return;\n\n        switch (this.data.data.vehicleType) {\n            case 'air':\n                return 'pilot_aircraft';\n            case 'ground':\n                return 'pilot_ground_craft';\n            case 'water':\n                return 'pilot_water_craft';\n            case 'aerospace':\n                return 'pilot_aerospace';\n            case 'walker':\n                return 'pilot_walker';\n            case 'exotic':\n                return'pilot_exotic_vehicle';\n            default:\n                return;\n        }\n    }\n\n    getVehicleTypeSkill(): SkillField | undefined {\n        if (this.isVehicle()) return;\n\n        const name = this.getVehicleTypeSkillName();\n        return this.findActiveSkill(name);\n    }\n\n    getSkills() {\n        return this.data.data.skills;\n    }\n    getActiveSkills(): Skills {\n        return this.data.data.skills.active;\n    }\n\n    /**\n     * Return the full pool of a skill including attribute and possible specialization bonus.\n     * @param skillId The ID of the skill. Note that this can differ from what is shown in the skill list. If you're\n     *                unsure about the id and want to search\n     * @param options An object to change the behaviour.\n     *                The property specialization will trigger the pool value to be raised by a specialization modifier\n     *                The property byLbale will cause the param skillId to be interpreted as the shown i18n label.\n     */\n    getPool(skillId: string, options= {specialization: false, byLabel: false}): number {\n        const skill = options.byLabel ? this.getSkillByLabel(skillId) : this.getSkill(skillId);\n        if (!skill || !skill.attribute) return 0;\n        if (!SkillFlow.allowRoll(skill)) return 0;\n\n        const attribute = this.getAttribute(skill.attribute);\n\n        // An attribute can have a NaN value if no value has been set yet. Do the skill for consistency.\n        const attributeValue = typeof attribute.value === 'number' ? attribute.value : 0;\n        const skillValue = typeof skill.value === 'number' ? skill.value : 0;\n\n        if (SkillRules.mustDefaultToRoll(skill) && SkillRules.allowDefaultingRoll(skill)) {\n            return SkillRules.getDefaultingModifier() + attributeValue;\n        }\n\n        const specializationBonus = options.specialization ? SR.skill.SPECIALIZATION_MODIFIER : 0;\n        return skillValue + attributeValue + specializationBonus;\n    }\n\n    /**\n     * Find a skill either by id or label.\n     *\n     * Skills are mapped by an id, which can be a either a lower case name (legacy skills) or a short uid (custom, language, knowledge).\n     * Legacy skills use their name as the id, while not having a name set on the SkillField.\n     * Custom skills use an id and have their name set, however no label. This goes for active, language and knowledge.\n     *\n     * NOTE: Normalizing skill mapping from active, language and knowledge to a single skills with a type property would\n     *       clear this function up.\n     *\n     * @param id Either the searched id, name or translated label of a skill\n     * @param options .byLabel when true search will try to match given skillId with the translated label\n     */\n    getSkill(id: string, options= {byLabel: false}): SkillField | undefined {\n        if (options.byLabel)\n            return this.getSkillByLabel(id);\n\n        const { skills } = this.data.data;\n\n        // Find skill by direct id to key matching.\n        if (skills.active.hasOwnProperty(id)) {\n            return skills.active[id];\n        }\n        if (skills.language.value.hasOwnProperty(id)) {\n            return skills.language.value[id];\n        }\n        // Knowledge skills are de-normalized into categories (street, hobby, ...)\n        for (const categoryKey in skills.knowledge) {\n            if (skills.knowledge.hasOwnProperty(categoryKey)) {\n                const category = skills.knowledge[categoryKey];\n                if (category.value.hasOwnProperty(id)) {\n                    return category.value[id];\n                }\n            }\n        }\n    }\n\n    /**\n     * Search all skills for a matching i18n translation label.\n     * NOTE: You should use getSkill if you have the skillId ready. Only use this for ease of use!\n     *\n     * @param searchedFor The translated output of either the skill label (after localize) or name of the skill in question.\n     * @return The first skill found with a matching translation or name.\n     */\n    getSkillByLabel(searchedFor: string): SkillField|undefined {\n        if (!searchedFor) return;\n\n        const possibleMatch = (skill: SkillField): string =>  skill.label ? game.i18n.localize(skill.label) : skill.name;\n\n        const {skills} = this.data.data;\n\n        for (const skill of Object.values(skills.active)) {\n            if (searchedFor === possibleMatch(skill))\n                return skill;\n        }\n\n        for (const skill of Object.values(skills.language.value)) {\n            if (searchedFor === possibleMatch(skill))\n                return skill;\n        }\n\n        // Iterate over all different knowledge skill categories\n        for (const categoryKey in skills.knowledge) {\n            if (!skills.knowledge.hasOwnProperty(categoryKey)) continue;\n            // Typescript can't follow the flow here...\n            const categorySkills = skills.knowledge[categoryKey].value as SkillField[];\n            for (const skill of Object.values(categorySkills) ) {\n                if (searchedFor === possibleMatch(skill))\n                    return skill;\n            }\n        }\n    }\n\n    getSkillLabel(skillId: string): string {\n        const skill = this.getSkill(skillId);\n        if (!skill) {\n            return '';\n        }\n\n        return skill.label ? skill.label : skill.name ? skill.name : '';\n    }\n\n    async addKnowledgeSkill(category, skill?): Promise<string> {\n        const defaultSkill = {\n            name: '',\n            specs: [],\n            base: 0,\n            value: 0,\n            mod: 0,\n        };\n        skill = {\n            ...defaultSkill,\n            ...skill,\n        };\n\n        const id = randomID(16);\n        const value = {};\n        value[id] = skill;\n        const fieldName = `data.skills.knowledge.${category}.value`;\n        const updateData = {};\n        updateData[fieldName] = value;\n\n        await this.update(updateData);\n\n        return id;\n    }\n\n    async addActiveSkill(skillData: Partial<SkillField> = {name: SKILL_DEFAULT_NAME}): Promise<string | undefined> {\n        const skill = DefaultValues.skillData(skillData);\n\n        const activeSkillsPath = 'data.skills.active';\n        const updateSkillDataResult = Helpers.getRandomIdSkillFieldDataEntry(activeSkillsPath, skill);\n\n        if (!updateSkillDataResult) return;\n\n        const {updateSkillData, id} = updateSkillDataResult;\n\n        await this.update(updateSkillData as object);\n\n        return id;\n    }\n\n    async removeLanguageSkill(skillId) {\n        const updateData = Helpers.getDeleteDataEntry('data.skills.language.value', skillId);\n        await this.update(updateData);\n    }\n\n    async addLanguageSkill(skill): Promise<string> {\n        const defaultSkill = {\n            name: '',\n            specs: [],\n            base: 0,\n            value: 0,\n            // TODO: BUG ModifiableValue is ModList<number>[] and not number\n            mod: 0,\n        };\n        skill = {\n            ...defaultSkill,\n            ...skill,\n        };\n\n        const id = randomID(16);\n        const value = {};\n        value[id] = skill;\n        const fieldName = `data.skills.language.value`;\n        const updateData = {};\n        updateData[fieldName] = value;\n\n        await this.update(updateData);\n\n        return id;\n    }\n\n    async removeKnowledgeSkill(skillId, category) {\n        const updateData = Helpers.getDeleteDataEntry(`data.skills.knowledge.${category}.value`, skillId);\n        await this.update(updateData);\n    }\n\n    /** Delete the given active skill by it's id. It doesn't\n     *\n     * @param skillId Either a random id for custom skills or the skills name used as an id.\n     */\n    async removeActiveSkill(skillId: string) {\n        const activeSkills = this.getActiveSkills();\n        if (!activeSkills.hasOwnProperty(skillId)) return;\n        const skill = this.getSkill(skillId);\n        if (!skill) return;\n\n        // Don't delete legacy skills to allow prepared items to use them, should the user delete by accident.\n        // New custom skills won't have a label set also.\n        if (skill.name === '' && skill.label !== undefined && skill.label !== '') {\n            await this.hideSkill(skillId);\n            // NOTE: For some reason unlinked token actors won't cause a render on update?\n            if (!this.data.token.actorLink)\n                await this.sheet.render();\n            return;\n        }\n\n        // Remove custom skills without mercy!\n        const updateData = Helpers.getDeleteDataEntry('data.skills.active', skillId);\n        await this.update(updateData);\n    }\n\n    /**\n     * Mark the given skill as hidden.\n     *\n     * NOTE: Hiding skills has\n     *\n     * @param skillId The id of any type of skill.\n     */\n    async hideSkill(skillId: string) {\n        if (!skillId) return;\n        const skill = this.getSkill(skillId);\n        if (!skill) return;\n\n        skill.hidden = true;\n        const updateData = Helpers.getUpdateDataEntry(`data.skills.active.${skillId}`, skill);\n        await this.update(updateData);\n    }\n\n    /**\n     * mark the given skill as visible.\n     *\n     * @param skillId The id of any type of skill.\n     */\n    async showSkill(skillId: string) {\n        if (!skillId) return;\n        const skill = this.getSkill(skillId);\n        if (!skill) return;\n\n        skill.hidden = false;\n        const updateData = Helpers.getUpdateDataEntry(`data.skills.active.${skillId}`, skill);\n        await this.update(updateData);\n    }\n\n    /**\n     * Show all hidden skills.\n     */\n    async showHiddenSkills() {\n        const updateData = {};\n\n        const skills = this.getActiveSkills();\n        for (const [id, skill] of Object.entries(skills)) {\n            if (skill.hidden === true) {\n                skill.hidden = false;\n                updateData[`data.skills.active.${id}`] = skill;\n            }\n        }\n\n        if (!updateData) return;\n\n        await this.update(updateData);\n        // NOTE: For some reason unlinked token actors won't cause a render on update?\n        if (!this.data.token.actorLink)\n                await this.sheet.render();\n    }\n\n    async rollFade(options: ActorRollOptions = {}, incoming = -1): Promise<ShadowrunRoll|undefined> {\n        const wil = duplicate(this.data.data.attributes.willpower);\n        const res = duplicate(this.data.data.attributes.resonance);\n        const data = this.data.data;\n\n        const parts = new PartsList<number>();\n        parts.addUniquePart(wil.label, wil.value);\n        parts.addUniquePart(res.label, res.value);\n        if (data.modifiers.fade) parts.addUniquePart('SR5.Bonus', data.modifiers.fade);\n\n        let title = `${game.i18n.localize('SR5.Resist')} ${game.i18n.localize('SR5.Fade')}`;\n\n        const actor = this;\n        const roll = await ShadowrunRoller.advancedRoll({\n            parts: parts.list,\n            actor,\n            title: title,\n            wounds: false,\n            hideRollMessage: true\n        });\n\n        if (!roll) return;\n\n        // Reduce damage by soak roll and inform user.\n        const incomingDamage = Helpers.createDamageData(incoming, 'stun');\n        const damage = Helpers.reduceDamageByHits(incomingDamage, roll.hits, 'SR5.Fade');\n\n        await createRollChatMessage({title, roll, actor, damage});\n\n        return roll;\n    }\n\n    async rollDrain(options: ActorRollOptions = {}, incoming = -1): Promise<ShadowrunRoll|undefined> {\n        if (!this.isCharacter()) return;\n\n        const data = this.data.data as CharacterActorData;\n\n        const wil = duplicate(data.attributes.willpower);\n        const drainAtt = duplicate(data.attributes[data.magic.attribute]);\n\n        const parts = new PartsList<number>();\n        parts.addPart(wil.label, wil.value);\n        parts.addPart(drainAtt.label, drainAtt.value);\n        if (data.modifiers.drain) parts.addUniquePart('SR5.Bonus', data.modifiers.drain);\n\n        let title = `${game.i18n.localize('SR5.Resist')} ${game.i18n.localize('SR5.Drain')}`;\n        const actor = this;\n        const roll = await ShadowrunRoller.advancedRoll({\n            parts: parts.list,\n            title,\n            actor,\n            wounds: false,\n            hideRollMessage: true\n        });\n\n        if (!roll) return;\n\n        // Reduce damage by soak roll and inform user.\n        const incomingDamage = Helpers.createDamageData(incoming, 'stun');\n        const damage = Helpers.reduceDamageByHits(incomingDamage, roll.hits, 'SR5.Drain');\n\n        await createRollChatMessage({title, roll, actor, damage});\n\n        return roll;\n    }\n\n    rollArmor(options: ActorRollOptions = {}, partsProps: ModList<number> = []) {\n        const parts = new PartsList(partsProps);\n        this._addArmorParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options.event,\n            actor: this,\n            parts: parts.list,\n            title: game.i18n.localize('SR5.Armor'),\n            wounds: false,\n        });\n    }\n\n    /** A attack defense is anything against visible attacks (ranged weapons, melee weapons, indirect spell attacks, ...)\n     */\n    async rollAttackDefense(options: DefenseRollOptions = {}, partsProps: ModList<number> = []): Promise<ShadowrunRoll | undefined> {\n        const {attack} = options;\n\n        const defenseDialog = await ShadowrunActorDialogs.createDefenseDialog(this, options, partsProps);\n        const defenseActionData = await defenseDialog.select();\n\n        if (defenseDialog.canceled) return;\n\n        const roll = await ShadowrunRoller.advancedRoll({\n            event: options.event,\n            actor: this,\n            parts: defenseActionData.parts.list,\n            title: game.i18n.localize('SR5.DefenseTest'),\n            incomingAttack: attack,\n            combat: defenseActionData.combat\n        });\n\n        if (!roll) return;\n\n        // Reduce initiative after a successful roll, but before attack handling, to allow for the standalone sheet\n        // defense action to still reduce the initiative.\n        if (defenseActionData.combat.initiative) {\n            await this.changeCombatInitiative(defenseActionData.combat.initiative);\n        }\n\n        if (!attack) return;\n\n        // Collect defense information.\n        let defenderHits = roll.total;\n        let attackerHits = attack.hits || 0;\n        let netHits = Math.max(attackerHits - defenderHits, 0);\n\n        // Reduce damage flow.\n        let damage = attack.damage;\n\n        // modified damage value by netHits.\n        if (netHits > 0) {\n            const {modified} = Helpers.modifyDamageByHits(damage, netHits, \"SR5.NetHits\");\n            damage = modified;\n        }\n\n        const soakRollOptions = {\n            event: options.event,\n            damage,\n        };\n\n        await this.rollSoak(soakRollOptions);\n    }\n\n    async rollDirectSpellDefense(spell: SR5Item, options: SpellDefenseOptions): Promise<ShadowrunRoll | undefined> {\n        if (!spell.isDirectCombatSpell()) return;\n\n        // Prepare the actual roll.\n        options.hideRollMessage = options.hideRollMessage ?? true;\n        const attribute = spell.isManaSpell() ?\n            SR.defense.spell.direct.mana :\n            SR.defense.spell.direct.physical;\n\n        const roll = await this.rollSingleAttribute(attribute, options);\n\n        if (!roll) return;\n\n        // Prepare the resulting damage message.\n        const title = spell.isManaSpell() ?\n            game.i18n.localize('SR5.SpellDefenseDirectMana') :\n            game.i18n.localize('SR5.SpellDefenseDirectPhysical');\n        const modificationLabel = 'SR5.SpellDefense';\n        const actor = this;\n        const damage = Helpers.reduceDamageByHits(options.attack.damage, roll.hits, modificationLabel);\n\n        await createRollChatMessage({title, roll, actor, damage});\n\n        return roll;\n    }\n\n    async rollIndirectSpellDefense(spell: SR5Item, options: SpellDefenseOptions): Promise<ShadowrunRoll | undefined> {\n        if (!spell.isIndirectCombatSpell()) return;\n\n        const opposedParts = spell.getOpposedTestMod();\n\n        // TODO: indirect LOS spell defense works like a ranged weapon defense, but indirect LOS(A) spell defense\n        //       work like grenade attack (no defense, but soak, with the threshold net hits modifying damage.)\n        //       Grenades: SR5#181 Combat Spells: SR5#283\n        return await this.rollAttackDefense(options, opposedParts.list);\n    }\n\n    // TODO: Abstract handling of const damage : ModifiedDamageData\n    async rollSoak(options: SoakRollOptions, partsProps: ModList<number> = []): Promise<ShadowrunRoll|undefined> {\n        return new SoakFlow().runSoakTest(this, options, partsProps);\n    }\n\n    rollSingleAttribute(attId, options: ActorRollOptions) {\n        const attr = duplicate(this.data.data.attributes[attId]);\n        const parts = new PartsList<number>();\n        parts.addUniquePart(attr.label, attr.value);\n        this._addMatrixParts(parts, attr);\n        this._addGlobalParts(parts);\n\n        return ShadowrunRoller.advancedRoll({\n            actor: this,\n            parts: parts.list,\n            event: options?.event,\n            title: options.title ?? Helpers.label(attId),\n            hideRollMessage: options.hideRollMessage\n        });\n    }\n\n    rollTwoAttributes([id1, id2], options: ActorRollOptions) {\n        const attr1 = duplicate(this.data.data.attributes[id1]);\n        const attr2 = duplicate(this.data.data.attributes[id2]);\n        const label1 = Helpers.label(id1);\n        const label2 = Helpers.label(id2);\n        const parts = new PartsList<number>();\n        parts.addPart(attr1.label, attr1.value);\n        parts.addPart(attr2.label, attr2.value);\n        this._addMatrixParts(parts, [attr1, attr2]);\n        this._addGlobalParts(parts);\n\n        return ShadowrunRoller.advancedRoll({\n            actor: this,\n            parts: parts.list,\n            event: options?.event,\n            title: options.title ?? `${label1} + ${label2}`,\n            hideRollMessage: options.hideRollMessage\n        });\n    }\n\n    rollNaturalRecovery(track, options?: ActorRollOptions) {\n        if (!this.isCharacter()) return;\n\n        let id1 = 'body';\n        let id2 = 'willpower';\n        let title = 'Natural Recover';\n        if (track === 'physical') {\n            id2 = 'body';\n            title += ' - Physical - 1 Day';\n        } else {\n            title += ' - Stun - 1 Hour';\n        }\n        let att1 = duplicate(this.data.data.attributes[id1]);\n        let att2 = duplicate(this.data.data.attributes[id2]);\n        const parts = new PartsList<number>();\n        parts.addPart(att1.label, att1.value);\n        parts.addPart(att2.label, att2.value);\n\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            actor: this,\n            parts: parts.list,\n            title: title,\n            extended: true,\n            after: async (roll: Roll | undefined) => {\n                if (!roll) return;\n                let hits = roll.total;\n                const data = this.data.data as CharacterActorData;\n                let current = data.track[track].value;\n\n                current = Math.max(current - hits, 0);\n\n                let key = `data.track.${track}.value`;\n\n                let u = {};\n                u[key] = current;\n                await this.update(u);\n            },\n        });\n    }\n\n    async rollMatrixAttribute(attr, options?: ActorRollOptions) {\n        if (!(\"matrix\" in this.data.data)) return;\n\n        let matrix_att = duplicate(this.data.data.matrix[attr]);\n        let title = game.i18n.localize(CONFIG.SR5.matrixAttributes[attr]);\n        const parts = new PartsList<number>();\n        parts.addPart(CONFIG.SR5.matrixAttributes[attr], matrix_att.value);\n\n        if (options && options.event && options.event[CONFIG.SR5.kbmod.SPEC]) parts.addUniquePart('SR5.Specialization', 2);\n        if (Helpers.hasModifiers(options?.event)) {\n            return ShadowrunRoller.advancedRoll({\n                event: options?.event,\n                actor: this,\n                parts: parts.list,\n                title: title,\n            });\n        }\n        const attributes = Helpers.filter(this.data.data.attributes, ([, value]) => value.value > 0);\n        const attribute = 'willpower';\n\n        let dialogData = {\n            attribute: attribute,\n            attributes: attributes,\n        };\n        const buttons = {\n            roll: {\n                label: 'Continue',\n                callback: () => (cancel = false),\n            },\n        };\n\n        let cancel = true;\n        renderTemplate('systems/shadowrun5e/dist/templates/rolls/matrix-roll.html', dialogData).then((dlg) => {\n            new Dialog({\n                title: `${title} Test`,\n                content: dlg,\n                buttons: buttons,\n                close: async (html) => {\n                    if (cancel) return;\n                    const newAtt = Helpers.parseInputToString($(html).find('[name=attribute]').val());\n                    let att: AttributeField | undefined = undefined;\n                    if (newAtt) {\n                        att = this.data.data.attributes[newAtt];\n                        title += ` + ${game.i18n.localize(CONFIG.SR5.attributes[newAtt])}`;\n                    }\n                    if (att !== undefined) {\n                        if (att.value && att.label) parts.addPart(att.label, att.value);\n                        this._addMatrixParts(parts, true);\n                        this._addGlobalParts(parts);\n                        return ShadowrunRoller.advancedRoll({\n                            event: options?.event,\n                            actor: this,\n                            parts: parts.list,\n                            title: title,\n                        });\n                    }\n                },\n            }).render(true);\n        });\n    }\n\n    promptRoll(options?: ActorRollOptions) {\n        const rollProps = {\n            event: options?.event,\n            title: 'Roll',\n            parts: [],\n            actor: this\n        };\n        const dialogOptions = {\n            pool: true\n        }\n        return ShadowrunRoller.advancedRoll(rollProps, dialogOptions);\n    }\n\n    rollDeviceRating(options?: ActorRollOptions) {\n        const title = game.i18n.localize('SR5.Labels.ActorSheet.DeviceRating');\n        const parts = new PartsList<number>();\n        const rating = this.getDeviceRating();\n        // add device rating twice as this is the most common roll\n        parts.addPart(title, rating);\n        parts.addPart(title, rating);\n        this._addGlobalParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            title,\n            parts: parts.list,\n            actor: this,\n        });\n    }\n\n    rollAttributesTest(rollId, options?: ActorRollOptions) {\n        const title = game.i18n.localize(CONFIG.SR5.attributeRolls[rollId]);\n        const atts = this.data.data.attributes;\n        const modifiers = this.data.data.modifiers;\n        const parts = new PartsList<number>();\n        if (rollId === 'composure') {\n            parts.addUniquePart(atts.charisma.label, atts.charisma.value);\n            parts.addUniquePart(atts.willpower.label, atts.willpower.value);\n            if (modifiers.composure) parts.addUniquePart('SR5.Bonus', modifiers.composure);\n        } else if (rollId === 'judge_intentions') {\n            parts.addUniquePart(atts.charisma.label, atts.charisma.value);\n            parts.addUniquePart(atts.intuition.label, atts.intuition.value);\n            if (modifiers.judge_intentions) parts.addUniquePart('SR5.Bonus', modifiers.judge_intentions);\n        } else if (rollId === 'lift_carry') {\n            parts.addUniquePart(atts.strength.label, atts.strength.value);\n            parts.addUniquePart(atts.body.label, atts.body.value);\n            if (modifiers.lift_carry) parts.addUniquePart('SR5.Bonus', modifiers.lift_carry);\n        } else if (rollId === 'memory') {\n            parts.addUniquePart(atts.willpower.label, atts.willpower.value);\n            parts.addUniquePart(atts.logic.label, atts.logic.value);\n            if (modifiers.memory) parts.addUniquePart('SR5.Bonus', modifiers.memory);\n        }\n\n        this._addGlobalParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            actor: this,\n            parts: parts.list,\n            title: `${title} Test`,\n        });\n    }\n\n    async rollSkill(skill: SkillField, options?: SkillRollOptions) {\n        // NOTE: Currently defaulting happens at multiple places, which is why SkillFlow.handleDefaulting isn't used\n        //       here, yet. A general skill usage clean up between Skill, Attribute and Item action handling is needed.\n        if (!SkillFlow.allowRoll(skill)) {\n            ui.notifications.warn(game.i18n.localize('SR5.Warnings.SkillCantBeDefault'));\n            return;\n        }\n\n        // Legacy skills have a label, but no name. Custom skills have a name but no label.\n        const label = skill.label ? game.i18n.localize(skill.label) : skill.name;\n        const title = label;\n\n        // Since options can provide an attribute, ignore incomplete sill attribute configuration.\n        const attributeName = options?.attribute ? options.attribute : skill.attribute;\n        const attribute = this.getAttribute(attributeName);\n        if (!attribute) {\n            ui.notifications.error(game.i18n.localize('SR5.Errors.SkillWithoutAttribute'));\n            return;\n        }\n        let limit = attribute.limit ? this.getLimit(attribute.limit) : undefined;\n\n        // Initialize parts with always needed skill data.\n        const parts = new PartsList<number>();\n        parts.addUniquePart(label, skill.value);\n        this._addMatrixParts(parts, [attribute, skill]);\n        this._addGlobalParts(parts);\n\n        // Directly test, without further skill dialog.\n        if (options?.event && Helpers.hasModifiers(options?.event)) {\n            parts.addUniquePart(attribute.label, attribute.value);\n            if (options.event[CONFIG.SR5.kbmod.SPEC]) parts.addUniquePart('SR5.Specialization', 2);\n\n            return await ShadowrunRoller.advancedRoll({\n                event: options.event,\n                actor: this,\n                parts: parts.list,\n                limit,\n                title: `${title} ${game.i18n.localize('SR5.Test')}`,\n            });\n        }\n\n        // First ask user about skill details.\n        const skillRollDialogOptions = {\n            skill,\n            attribute: attributeName\n        }\n\n        const skillDialog = await ShadowrunActorDialogs.createSkillDialog(this, skillRollDialogOptions, parts);\n        const skillActionData = await skillDialog.select();\n\n        if (skillDialog.canceled) return;\n\n        return await ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            actor: this,\n            parts: skillActionData.parts.list,\n            limit: skillActionData.limit,\n            title: skillActionData.title,\n        });\n    }\n\n    async rollDronePerception(options?: ActorRollOptions) {\n        if (!this.isVehicle())\n            return;\n\n        const actorData = duplicate(this.data.data) as VehicleActorData;\n        if (actorData.controlMode === 'autopilot') {\n            const parts = new PartsList<number>();\n\n            const pilot = Helpers.calcTotal(actorData.vehicle_stats.pilot);\n            // TODO possibly look for autosoft item level?\n            const perception = this.findActiveSkill('perception');\n            const limit = this.findLimit('sensor');\n\n            if (perception && limit) {\n                parts.addPart('SR5.Vehicle.Clearsight', Helpers.calcTotal(perception));\n                parts.addPart('SR5.Vehicle.Stats.Pilot', pilot);\n\n                this._addGlobalParts(parts);\n\n                return ShadowrunRoller.advancedRoll({\n                    event: options?.event,\n                    actor: this,\n                    parts: parts.list,\n                    limit,\n                    title: game.i18n.localize('SR5.Labels.ActorSheet.RollDronePerception'),\n                });\n            }\n        } else {\n            await this.rollActiveSkill('perception', options);\n        }\n    }\n\n    async rollPilotVehicle(options?: ActorRollOptions) {\n        if (!this.isVehicle()) {\n            return undefined;\n        }\n        const actorData = duplicate(this.data.data) as VehicleActorData;\n        if (actorData.controlMode === 'autopilot') {\n            const parts = new PartsList<number>();\n\n            const pilot = Helpers.calcTotal(actorData.vehicle_stats.pilot);\n            let skill: SkillField | undefined = this.getVehicleTypeSkill();\n            const environment = actorData.environment;\n            const limit = this.findLimit(environment);\n\n            if (skill && limit) {\n                parts.addPart('SR5.Vehicle.Stats.Pilot', pilot);\n                // TODO possibly look for autosoft item level?\n                parts.addPart('SR5.Vehicle.Maneuvering', Helpers.calcTotal(skill));\n\n                this._addGlobalParts(parts);\n\n                return await ShadowrunRoller.advancedRoll({\n                    event: options?.event,\n                    actor: this,\n                    parts: parts.list,\n                    limit,\n                    title: game.i18n.localize('SR5.Labels.ActorSheet.RollPilotVehicleTest'),\n                });\n            }\n        } else {\n            const skillName = this.getVehicleTypeSkillName();\n            if (!skillName) return;\n            return await this.rollActiveSkill(skillName, options);\n        }\n    }\n\n    async rollDroneInfiltration(options?: ActorRollOptions) {\n        if (!this.isVehicle()) {\n            return undefined;\n        }\n        const actorData = duplicate(this.data.data) as VehicleActorData;\n        if (actorData.controlMode === 'autopilot') {\n            const parts = new PartsList<number>();\n\n            const pilot = Helpers.calcTotal(actorData.vehicle_stats.pilot);\n            // TODO possibly look for autosoft item level?\n            const sneaking = this.findActiveSkill('sneaking');\n            const limit = this.findLimit('sensor');\n\n            if (sneaking && limit) {\n                parts.addPart('SR5.Vehicle.Stealth', Helpers.calcTotal(sneaking));\n                parts.addPart('SR5.Vehicle.Stats.Pilot', pilot);\n\n                this._addGlobalParts(parts);\n\n                return ShadowrunRoller.advancedRoll({\n                    event: options?.event,\n                    actor: this,\n                    parts: parts.list,\n                    limit,\n                    title: game.i18n.localize('SR5.Labels.ActorSheet.RollDroneInfiltration'),\n                });\n            }\n        } else {\n            await this.rollActiveSkill('sneaking', options);\n        }\n    }\n\n    rollKnowledgeSkill(catId: string, skillId: string, options?: SkillRollOptions) {\n        const category = duplicate(this.data.data.skills.knowledge[catId]);\n        const skill = duplicate(category.value[skillId]);\n        skill.attribute = category.attribute;\n        skill.label = skill.name;\n        return this.rollSkill(skill, options);\n    }\n\n    rollLanguageSkill(skillId: string, options?: SkillRollOptions) {\n        const skill = duplicate(this.data.data.skills.language.value[skillId]);\n        skill.attribute = 'intuition';\n        skill.label = skill.name;\n        return this.rollSkill(skill, options);\n    }\n\n    rollActiveSkill(skillId: string, options?: SkillRollOptions) {\n        const skill = duplicate(this.data.data.skills.active[skillId]);\n        return this.rollSkill(skill, options);\n    }\n\n    rollAttribute(attId, options?: ActorRollOptions) {\n        let title = game.i18n.localize(CONFIG.SR5.attributes[attId]);\n        const att = duplicate(this.data.data.attributes[attId]);\n        const atts = duplicate(this.data.data.attributes);\n        const parts = new PartsList<number>();\n        parts.addPart(att.label, att.value);\n        let dialogData = {\n            attribute: att,\n            attributes: atts,\n        };\n        let cancel = true;\n        renderTemplate('systems/shadowrun5e/dist/templates/rolls/single-attribute.html', dialogData).then((dlg) => {\n            new Dialog({\n                title: `${title} Attribute Test`,\n                content: dlg,\n                buttons: {\n                    roll: {\n                        label: 'Continue',\n                        callback: () => (cancel = false),\n                    },\n                },\n                default: 'roll',\n                close: async (html) => {\n                    if (cancel) return;\n\n                    const att2Id: string = Helpers.parseInputToString($(html).find('[name=attribute2]').val());\n                    let att2: AttributeField | undefined = undefined;\n                    if (att2Id !== 'none') {\n                        att2 = atts[att2Id];\n                        if (att2?.label) {\n                            parts.addPart(att2.label, att2.value);\n                            const att2IdLabel = game.i18n.localize(CONFIG.SR5.attributes[att2Id]);\n                            title += ` + ${att2IdLabel}`;\n                        }\n                    }\n                    if (att2Id === 'default') {\n                        parts.addUniquePart('SR5.Defaulting', -1);\n                    }\n                    this._addMatrixParts(parts, [att, att2]);\n                    this._addGlobalParts(parts);\n                    return ShadowrunRoller.advancedRoll({\n                        event: options?.event,\n                        title: `${title} Test`,\n                        actor: this,\n                        parts: parts.list,\n                    });\n                },\n            }).render(true);\n        });\n    }\n\n    _addMatrixParts(parts: PartsList<number>, atts) {\n        if (Helpers.isMatrix(atts)) {\n            if (!(\"matrix\" in this.data.data)) return;\n\n            const matrix = this.data.data.matrix;\n            if (matrix.hot_sim) parts.addUniquePart('SR5.HotSim', 2);\n            if (matrix.running_silent) parts.addUniquePart('SR5.RunningSilent', -2);\n        }\n    }\n    _addGlobalParts(parts: PartsList<number>) {\n        if (this.data.data.modifiers.global) {\n            parts.addUniquePart('SR5.Global', this.data.data.modifiers.global);\n        }\n    }\n\n    _addDefenseParts(parts: PartsList<number>) {\n        if (this.isVehicle()) {\n            const pilot = this.findVehicleStat('pilot');\n            if (pilot) {\n                parts.addUniquePart(pilot.label, Helpers.calcTotal(pilot));\n            }\n            const skill = this.getVehicleTypeSkill();\n            if (skill) {\n                parts.addUniquePart('SR5.Vehicle.Maneuvering', Helpers.calcTotal(skill));\n            }\n        } else {\n            const reaction = this.findAttribute('reaction');\n            const intuition = this.findAttribute('intuition');\n\n            if (reaction) {\n                parts.addUniquePart(reaction.label || 'SR5.Reaction', reaction.value);\n            }\n            if (intuition) {\n                parts.addUniquePart(intuition.label || 'SR5.Intuition', intuition.value);\n            }\n        }\n\n        const mod = this.getModifier('defense');\n        if (mod) {\n            parts.addUniquePart('SR5.Bonus', mod);\n        }\n    }\n\n    _addArmorParts(parts: PartsList<number>) {\n        const armor = this.getArmor();\n        if (armor) {\n            parts.addUniquePart(armor.label || 'SR5.Armor', armor.base);\n            for (let part of armor.mod) {\n                parts.addUniquePart(part.name, part.value);\n            }\n        }\n    }\n\n    static async pushTheLimit(li) {\n        let msg: ChatMessage = game.messages.get(li.data().messageId);\n\n        if (msg.getFlag(SYSTEM_NAME, FLAGS.MessageCustomRoll)) {\n            let actor = (msg.user.character as unknown) as SR5Actor;\n            if (!actor) {\n                const tokens = Helpers.getControlledTokens();\n                if (tokens.length > 0) {\n                    for (let token of tokens) {\n                        if (token.actor.owner) {\n                            actor = token.actor as SR5Actor;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (actor) {\n                const parts = new PartsList<number>();\n                parts.addUniquePart('SR5.PushTheLimit', actor.getEdge().value);\n                ShadowrunRoller.basicRoll({\n                    title: ` - ${game.i18n.localize('SR5.PushTheLimit')}`,\n                    parts: parts.list,\n                    actor: actor,\n                }).then(() => {\n                    actor.update({\n                        'data.attributes.edge.uses': actor.getEdge().uses - 1,\n                    });\n                });\n            } else {\n                // @ts-ignore\n                ui.notifications.warn(game.i18n.localize('SR5.SelectTokenMessage'));\n            }\n        }\n    }\n\n    static async secondChance(li) {\n        let msg: ChatMessage = game.messages.get(li.data().messageId);\n        // @ts-ignore\n        let roll: Roll = JSON.parse(msg.data?.roll);\n        let formula = roll.formula;\n        let hits = roll.total;\n        let re = /(\\d+)d6/;\n        let matches = formula.match(re);\n        if (matches && matches[1]) {\n            let match = matches[1];\n            let pool = parseInt(match.replace('d6', ''));\n            if (!isNaN(pool) && !isNaN(hits)) {\n                let actor = (msg.user.character as unknown) as SR5Actor;\n                if (!actor) {\n                    const tokens = Helpers.getControlledTokens();\n                    if (tokens.length > 0) {\n                        for (let token of tokens) {\n                            if (token.actor.owner) {\n                                actor = token.actor as SR5Actor;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (actor) {\n                    const parts = new PartsList<number>();\n                    parts.addUniquePart('SR5.OriginalDicePool', pool);\n                    parts.addUniquePart('SR5.Successes', -hits);\n\n                    return ShadowrunRoller.basicRoll({\n                        title: ` - Second Chance`,\n                        parts: parts.list,\n                        actor: actor,\n                    }).then(() => {\n                        actor.useEdge();\n                    });\n                } else {\n                    // @ts-ignore\n                    ui.notifications.warn(game.i18n.localize('SR5.SelectTokenMessage'));\n                }\n            }\n        }\n    }\n\n    /**\n     * Override setFlag to remove the 'SR5.' from keys in modlists, otherwise it handles them as embedded keys\n     * @param scope\n     * @param key\n     * @param value\n     */\n    setFlag(scope: string, key: string, value: any): Promise<any> {\n        const newValue = Helpers.onSetFlag(value);\n        return super.setFlag(scope, key, newValue);\n    }\n\n    /**\n     * Override getFlag to add back the 'SR5.' keys correctly to be handled\n     * @param scope\n     * @param key\n     */\n    getFlag(scope: string, key: string): any {\n        const data = super.getFlag(scope, key);\n        return Helpers.onGetFlag(data);\n    }\n\n    /** Return either the linked token or the token of the synthetic actor.\n     *\n     * @retrun Will return null should no token have been placed on scene.\n     */\n    getToken(): Token {\n        // Linked actors can only have one token, which isn't stored within actor data...\n        if (this._isLinkedToToken() && this.hasToken()) {\n            const linked = true;\n            const tokens = this.getActiveTokens(linked);\n            // This assumes for a token to exist and should fail if not.\n            return tokens[0];\n        }\n\n        // Unlinked actors can have multiple active token but each have theirs directly attached...\n        return this.token;\n    }\n\n    /**\n     * There is no need for a token to placed. The prototype token is enough.\n     */\n    _isLinkedToToken(): boolean {\n        //@ts-ignore\n        // If an actor is linked, all it's copies also contain this linked status, even if they're not.\n        return this.data.token.actorLink && !this.token;\n    }\n\n    hasToken(): boolean {\n        return this.getActiveTokens().length > 0;\n    }\n\n    hasActivePlayerOwner(): boolean {\n        const players = this.getActivePlayerOwners();\n        return players.length > 0;\n    }\n\n    getActivePlayer(): User|null {\n        //@ts-ignore\n        if (!this.hasPlayerOwner) {\n            return null;\n        }\n\n        for (const user of game.users.entities) {\n            if (!user.active || user.isGM) {\n                continue;\n            }\n            if (this.id === user.character.id) {\n                return user;\n            }\n        }\n\n        return null;\n    }\n\n    getActivePlayerOwners(): User[] {\n        //@ts-ignore\n        const users = this.getUsers('OWNER');\n        return users.filter(user => user.active);\n    }\n\n    __addDamageToTrackValue(damage: DamageData, track: TrackType|OverflowTrackType|ConditionData): TrackType|OverflowTrackType|ConditionData {\n        if (damage.value === 0) return track;\n        if (track.value === track.max) return track;\n\n        //  Avoid cross referencing.\n        track = duplicate(track);\n\n        track.value += damage.value;\n        if (track.value > track.max) {\n            // dev error, not really meant to be ever seen by users. Therefore no localization.\n            console.error(\"Damage did overflow the track, which shouldn't happen at this stage. Damage has been set to max. Please use applyDamage.\")\n            track.value = track.max;\n        }\n\n        return track;\n    }\n\n    async _addDamageToDeviceTrack(damage: DamageData, device: SR5Item) {\n        if (!device) return;\n\n        let condition = device.getCondition();\n        if (!condition) return damage;\n\n        if (damage.value === 0) return;\n        if (condition.value === condition.max) return;\n\n        condition = this.__addDamageToTrackValue(damage, condition);\n\n        const data = {['data.technology.condition_monitor']: condition};\n        await device.update(data);\n    }\n\n    async _addDamageToTrack(damage: DamageData, track: TrackType|OverflowTrackType|ConditionData) {\n        if (damage.value === 0) return;\n        if (track.value === track.max) return;\n\n        track = this.__addDamageToTrackValue(damage, track);\n        // //  Avoid cross referencing.\n        // track = duplicate(track);\n        //\n        // track.value += damage.value;\n        // if (track.value > track.max) {\n        //     // dev error, not really meant to be ever seen by users. Therefore no localization.\n        //     console.error(\"Damage did overflow the track, which shouldn't happen at this stage. Damage has been set to max. Please use applyDamage.\")\n        //     track.value = track.max;\n        // }\n\n        const data = {[`data.track.${damage.type.value}`]: track};\n        await this.update(data);\n    }\n\n    async _addDamageToOverflow(damage: DamageData, track: OverflowTrackType) {\n        if (damage.value === 0) return;\n        if (track.overflow.value === track.overflow.max) return;\n\n        //  Avoid cross referencing.\n        const overflow = duplicate(track.overflow);\n\n        // Don't over apply damage to the track overflow.\n        overflow.value += damage.value;\n        overflow.value = Math.min(overflow.value, overflow.max);\n\n        const data = {[`data.track.${damage.type.value}.overflow`]: overflow};\n        await this.update(data);\n    }\n\n    /** Apply damage to the stun track and get overflow damage for the physical track.\n     */\n    async addStunDamage(damage: DamageData): Promise<DamageData> {\n        if (damage.type.value !== 'stun') return damage;\n\n        const track = this.getStunTrack();\n        if (!track)\n            return damage;\n\n        const {overflow, rest} = this._calcDamageOverflow(damage, track);\n\n        // Only change damage type when needed, in order to avoid confusion of callers.\n        if (overflow.value > 0) {\n            // Apply Stun overflow damage to physical track according to: SR5E#170\n            overflow.value = Math.floor(overflow.value / 2);\n            overflow.type.value = 'physical';\n        }\n\n        await this._addDamageToTrack(rest, track);\n        return overflow;\n    }\n\n    async addPhysicalDamage(damage: DamageData) {\n        if (damage.type.value !== 'physical') return damage;\n\n        const track = this.getPhysicalTrack();\n        if (!track)\n            return damage;\n\n        const {overflow, rest} = this._calcDamageOverflow(damage, track);\n\n        await this._addDamageToTrack(rest, track);\n        await this._addDamageToOverflow(overflow, track);\n    }\n\n    /** Adding damage to a device track instead of an actors track, as they contain their own track within their data.\n     */\n    async addMatrixDamage(damage: DamageData): Promise<DamageData> {\n        if (damage.type.value !== 'matrix') return damage;\n\n        const device = this.getMatrixDevice();\n        if (!device) return damage;\n\n        const track = this.getMatrixTrack();\n        // Actor might not have a commlink/cyberdeck equipped.\n        if (!track) return damage;\n\n        const {overflow, rest} = this._calcDamageOverflow(damage, track);\n\n        await this._addDamageToDeviceTrack(rest, device);\n\n        // Return overflow for consistency, yet nothing will take overflowing matrix damage.\n        return overflow;\n    }\n\n    /** Calculate damage overflow only based on max and current track values.\n     */\n    _calcDamageOverflow(damage: DamageData, track: TrackType|ConditionData): {overflow: DamageData, rest: DamageData} {\n        const freeTrackDamage = track.max - track.value;\n        const overflowDamage = damage.value > freeTrackDamage ?\n            damage.value - freeTrackDamage :\n            0;\n        const restDamage = damage.value - overflowDamage;\n\n        //  Avoid cross referencing.\n        const overflow = duplicate(damage);\n        const rest = duplicate(damage);\n\n        overflow.value = overflowDamage;\n        rest.value = restDamage;\n\n        return {overflow, rest};\n    }\n\n    getStunTrack(): TrackType | undefined {\n        if (\"track\" in this.data.data && \"stun\" in this.data.data.track)\n            return this.data.data.track.stun;\n    }\n\n    getPhysicalTrack(): OverflowTrackType | undefined {\n        if (\"track\" in this.data.data)\n            return this.data.data.track.physical;\n    }\n\n    getMatrixTrack(): ConditionData|undefined {\n        const device = this.getMatrixDevice();\n        if (!device) return undefined;\n\n        return device.getCondition();\n    }\n\n    getModifiedArmor(damage: DamageData): ActorArmorData {\n        if (!damage.ap?.value) {\n            return this.getArmor();\n       }\n\n        const modified = duplicate(this.getArmor());\n        if (modified) {\n            modified.mod = PartsList.AddUniquePart(modified.mod, 'SR5.DV', damage.ap.value);\n            modified.value = Helpers.calcTotal(modified, {min: 0});\n        }\n\n        return modified;\n    }\n\n    /** Reduce the initiative of the actor in the currently open / selected combat.\n     * Should a tokens actor be in multiple combats it will also only affect the currently open combat,\n     * since that is what's set in game.combat\n     *\n     * TODO: There is an issue with linked actors that have multiple tokens placed, with each in different combats.\n     *       The defense test needs to be done using the correct token, not just by the actor (from the sidebar).\n     *       One could argue this to be correct behavior, just confusing with normal linked actor / token usage.\n     */\n    async changeCombatInitiative(modifier: number) {\n        // No change needed for nothing to change.\n        if (modifier === 0) return;\n\n        const combat: SR5Combat = game.combat as SR5Combat;\n        const combatant = combat.getActorCombatant(this);\n\n        // Token might not be part of active combat.\n        if (!combatant) return;\n\n        await combat.adjustInitiative(combatant, modifier);\n    }\n\n    hasDamageTracks(): boolean {\n        return \"track\" in this.data.data;\n    }\n\n    asVehicleData(): SR5VehicleType | undefined {\n        if (this.isVehicle())\n            return this.data as SR5VehicleType;\n    }\n\n    asCharacterData(): SR5CharacterType | undefined {\n        if (this.isCharacter())\n            return this.data as SR5CharacterType;\n    }\n\n    asSpiritData(): SR5SpiritType | undefined {\n        if (this.isSpirit()) {\n            return this.data as SR5SpiritType;\n        }\n    }\n\n    asSpriteData(): SR5SpriteType | undefined {\n        if (this.isSprite()) {\n            return this.data as SR5SpriteType;\n        }\n    }\n\n    asCritterData(): SR5CritterType | undefined {\n        if (this.isCritter()){\n            return this.data as SR5CritterType;\n        }\n    }\n\n    getVehicleStats(): VehicleStats | undefined {\n        if (this.isVehicle() && \"vehicle_stats\" in this.data.data) {\n            return this.data.data.vehicle_stats;\n        }\n    }\n\n    /** Add another actor as the driver of a vehicle to allow for their values to be used in testing.\n     *\n     * @param id An actors id. Should be a character able to drive a vehicle\n     */\n    async addVehicleDriver(id: string) {\n        if (!this.isVehicle()) return;\n\n        const driver = game.actors.get(id) as SR5Actor;\n        if (!driver) return;\n\n        // NOTE: In THEORY almost all actor types can drive a vehicle.\n        // ... drek, in theory a drone could drive another vehicle even...\n\n        await this.update({'data.driver': driver.id});\n    }\n\n    async removeVehicleDriver() {\n        if (!this.hasDriver()) return;\n\n        await this.update({'data.driver': ''});\n    }\n\n    hasDriver(): boolean {\n        const data = this.asVehicleData();\n\n        if (!data) return false;\n        return data.data.driver.length > 0;\n    }\n\n    getVehicleDriver(): SR5Actor|undefined {\n        if (!this.hasDriver()) return;\n        const data = this.asVehicleData();\n        if (!data) return;\n\n        const driver = game.actors.get(data.data.driver) as SR5Actor;\n        // If no driver id is set, we won't get an actor and should explicitly return undefined.\n        if (!driver) return;\n        return driver;\n    }\n\n    /** Check if this actor is of one or multiple given actor types\n     *\n     * @param types A list of actor types to check.\n     */\n    matchesActorTypes(types: string[]): boolean {\n        return types.includes(this.data.type);\n    }\n\n    /** TODO: method documentation\n     *\n     * @param ignoreScene Set to true to ignore modifiers set on active or given scene.\n     * @param scene Should a scene be used as a fallback, provide this here. Otherwise current scene will be used.\n     */\n    async getModifiers(ignoreScene: boolean=false, scene: Scene=canvas.scene): Promise<Modifiers> {\n        const onActor = await Modifiers.getModifiersFromEntity(this);\n\n        if (onActor.hasActiveEnvironmental) {\n            return onActor;\n        } else if (ignoreScene) {\n            return new Modifiers(Modifiers.getDefaultModifiers());\n        } else {\n            return await Modifiers.getModifiersFromEntity(scene);\n        }\n    }\n\n    async setModifiers(modifiers: Modifiers) {\n        await Modifiers.setModifiersOnEntity(this, modifiers.modifiers);\n    }\n}\n","import {Helpers} from '../helpers';\nimport {ChummerImportForm} from '../apps/chummer-import-form';\nimport {SkillEditForm} from '../apps/skills/SkillEditForm';\nimport {KnowledgeSkillEditForm} from '../apps/skills/KnowledgeSkillEditForm';\nimport {LanguageSkillEditForm} from '../apps/skills/LanguageSkillEditForm';\nimport {SR5Actor} from './SR5Actor';\nimport {SR5} from '../config';\nimport {SR5Item} from \"../item/SR5Item\";\nimport SR5ActorSheetData = Shadowrun.SR5ActorSheetData;\nimport SR5SheetFilters = Shadowrun.SR5SheetFilters;\nimport Skills = Shadowrun.Skills;\nimport MatrixAttribute = Shadowrun.MatrixAttribute;\nimport SkillField = Shadowrun.SkillField;\nimport DeviceData = Shadowrun.DeviceData;\n\n// Use SR5ActorSheet._showSkillEditForm to only ever render one SkillEditForm instance.\n// Should multiple instances be open, Foundry will cause cross talk between skills and actors,\n// when opened in succession, causing SkillEditForm to wrongfully overwrite the wrong data.\nlet globalSkillAppId: number = -1;\n\n/**\n * Extend the basic ActorSheet with some very simple modifications\n *\n * NOTE: ActorSheet<T, A> expects Actor.data.data typing, yet complains about it's general type being not compatible\n *       with SR5ActorData\n */\nexport class SR5ActorSheet extends ActorSheet<{}, SR5Actor> {\n    _shownDesc: string[];\n    _filters: SR5SheetFilters;\n    _scroll: string;\n\n    constructor(...args) {\n        super(...args);\n\n        /**\n         * Keep track of the currently active sheet tab\n         * @type {string}\n         */\n        this._shownDesc = [];\n        this._filters = {\n            skills: '',\n            showUntrainedSkills: true,\n        };\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Extend and override the default options used by the 5e Actor Sheet\n     * @returns {Object}\n     */\n    static get defaultOptions() {\n        return mergeObject(super.defaultOptions, {\n            classes: ['sr5', 'sheet', 'actor'],\n            width: 880,\n            height: 690,\n            tabs: [\n                {\n                    navSelector: '.tabs',\n                    contentSelector: '.sheetbody',\n                    initial: 'skills',\n                },\n            ],\n        });\n    }\n\n    get template() {\n        const path = 'systems/shadowrun5e/dist/templates';\n\n        if (this.actor.hasPerm(game.user, 'LIMITED', true)) {\n            return `${path}/actor-limited/${this.actor.data.type}.html`;\n        }\n\n        return `${path}/actor/${this.actor.data.type}.html`;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Prepare data for rendering the Actor sheet\n     * The prepared data object contains both the actor data as well as additional sheet options\n     */\n    getData() {\n        const data: SR5ActorSheetData = (super.getData() as unknown) as SR5ActorSheetData;\n\n        // General purpose fields...\n        data.config = CONFIG.SR5;\n        data.filters = this._filters;\n\n        this._prepareMatrixAttributes(data);\n        this._prepareActorAttributes(data);\n\n        this._prepareItems(data);\n        this._prepareSkillsWithFilters(data);\n        this._prepareActorTypeFields(data);\n        this._prepareCharacterFields(data);\n        this._prepareVehicleFields(data);\n\n        return data;\n    }\n\n    _isSkillMagic(id, skill) {\n        return skill.attribute === 'magic' || id === 'astral_combat' || id === 'assensing';\n    }\n\n    _isSkillResonance(skill) {\n        return skill.attribute === 'resonance';\n    }\n\n    _getSkillLabelOrName(skill) {\n        // Custom skills don't have labels, use their name instead.\n        return skill.label ? game.i18n.localize(skill.label) : skill.name;\n    }\n\n    _doesSkillContainText(key, skill, text) {\n        if (!text) {\n            return true;\n        }\n\n        // Search both english keys, localized labels and all specializations.\n        const name = this._getSkillLabelOrName(skill);\n        const searchKey = skill.name === undefined ? key : '';\n        // some \"specs\" were a string from old code I think\n        const specs = skill.specs !== undefined && Array.isArray(skill.specs) ? skill.specs.join(' ') : '';\n        let searchString = `${searchKey} ${name} ${specs}`;\n\n        return searchString.toLowerCase().search(text.toLowerCase()) > -1;\n    }\n\n    _prepareCharacterFields(data: SR5ActorSheetData) {\n        // Empty zero value modifiers for display purposes.\n        const { modifiers: mods } = data.data;\n        for (let [key, value] of Object.entries(mods)) {\n            if (value === 0) mods[key] = '';\n        }\n\n        data.awakened = data.data.special === 'magic';\n        data.emerged = data.data.special === 'resonance';\n        data.woundTolerance = 3 + (Number(mods['wound_tolerance']) || 0);\n    }\n\n    _prepareVehicleFields(data: SR5ActorSheetData) {\n        if (!this.actor.isVehicle()) return;\n\n        const driver = this.actor.getVehicleDriver();\n\n        data.vehicle = {\n            driver\n        };\n    }\n\n    _prepareActorTypeFields(data: SR5ActorSheetData) {\n        data.isCharacter = this.actor.isCharacter();\n        data.isSpirit = this.actor.isSpirit();\n        data.isCritter = this.actor.isCritter();\n    }\n\n    _prepareMatrixAttributes(data) {\n        const { matrix } = data.data;\n        if (matrix) {\n            const cleanupAttribute = (attribute: MatrixAttribute) => {\n                const att = matrix[attribute];\n                if (att) {\n                    if (!att.mod) att.mod = {};\n                    if (att.temp === 0) delete att.temp;\n                }\n            };\n\n            ['firewall', 'data_processing', 'sleaze', 'attack'].forEach((att: MatrixAttribute) => cleanupAttribute(att));\n        }\n    }\n\n    _prepareActorAttributes(data: SR5ActorSheetData) {\n        // Clear visible, zero value attributes temporary modifiers so they appear blank.\n        const attrs = data.data.attributes;\n        for (let [, att] of Object.entries(attrs)) {\n            if (!att.hidden) {\n                if (att.temp === 0) delete att.temp;\n            }\n        }\n    }\n\n    _prepareSkillsWithFilters(data: SR5ActorSheetData) {\n        this._filterActiveSkills(data);\n        this._filterKnowledgeSkills(data);\n        this._filterLanguageSkills(data);\n    }\n\n    _filterActiveSkills(data: SR5ActorSheetData) {\n        // Handle active skills directly, as it doesn't use sub-categories.\n        data.data.skills.active = this._filterSkills(data, data.data.skills.active);\n    }\n\n    _filterKnowledgeSkills(data: SR5ActorSheetData) {\n        // Knowledge skill have separate sub-categories.\n        Object.keys(SR5.knowledgeSkillCategories).forEach((category) => {\n            if (!data.data.skills.knowledge.hasOwnProperty(category)) {\n                console.warn(`Knowledge Skill doesn't provide configured category ${category}`);\n                return;\n            }\n            data.data.skills.knowledge[category].value = this._filterSkills(data, data.data.skills.knowledge[category].value);\n        });\n    }\n\n    _filterLanguageSkills(data: SR5ActorSheetData) {\n        // Language Skills have no sub-categories.\n        data.data.skills.language.value = this._filterSkills(data, data.data.skills.language.value);\n    }\n\n    _filterSkills(data: SR5ActorSheetData, skills: Skills) {\n        const filteredSkills = {};\n        for (let [key, skill] of Object.entries(skills)) {\n            // Don't show hidden skills.\n            if (skill.hidden) {\n                continue;\n            }\n            // Filter visible skills.\n            if (this._showSkill(key, skill, data)) {\n                filteredSkills[key] = skill;\n            }\n        }\n\n        return Helpers.sortSkills(filteredSkills);\n    }\n\n    _showSkill(key, skill, data) {\n        if (this._showMagicSkills(key, skill, data)) {\n            return true;\n        }\n        if (this._showResonanceSkills(key, skill, data)) {\n            return true;\n        }\n\n        return this._showGeneralSkill(key, skill);\n    }\n\n    _isSkillFiltered(skillId, skill) {\n        // a newly created skill shouldn't be filtered, no matter what.\n        // Therefore disqualify empty skill labels/names from filtering and always show them.\n        const isFilterable = this._getSkillLabelOrName(skill).length > 0;\n        const isHiddenForText = !this._doesSkillContainText(skillId, skill, this._filters.skills);\n        const isHiddenForUntrained = !this._filters.showUntrainedSkills && skill.value === 0;\n\n        return !(isFilterable && (isHiddenForUntrained || isHiddenForText));\n    }\n\n    _showGeneralSkill(skillId, skill: SkillField) {\n        return !this._isSkillMagic(skillId, skill) && !this._isSkillResonance(skill) && this._isSkillFiltered(skillId, skill);\n    }\n\n    _showMagicSkills(skillId, skill: SkillField, data: SR5ActorSheetData) {\n        return this._isSkillMagic(skillId, skill) && data.data.special === 'magic' && this._isSkillFiltered(skillId, skill);\n    }\n\n    _showResonanceSkills(skillId, skill: SkillField, data: SR5ActorSheetData) {\n        return this._isSkillResonance(skill) && data.data.special === 'resonance' && this._isSkillFiltered(skillId, skill);\n    }\n\n    _prepareItems(data) {\n        const inventory = {};\n\n        // All acting entities should be allowed to carry some protection!\n        inventory['weapon'] = {\n            label: game.i18n.localize('SR5.ItemTypes.Weapon'),\n            items: [],\n            dataset: {\n                type: 'weapon',\n            },\n        };\n\n        // Critters are people to... Support your local HMHVV support groups!\n        if (this.actor.matchesActorTypes(['character', 'critter', 'vehicle'])) {\n            inventory['armor'] = {\n                label: game.i18n.localize('SR5.ItemTypes.Armor'),\n                items: [],\n                dataset: {\n                    type: 'armor',\n                },\n            };\n            inventory['device'] = {\n                label: game.i18n.localize('SR5.ItemTypes.Device'),\n                items: [],\n                dataset: {\n                    type: 'device',\n                },\n            };\n            inventory['equipment'] = {\n                label: game.i18n.localize('SR5.ItemTypes.Equipment'),\n                items: [],\n                dataset: {\n                    type: 'equipment',\n                },\n            };\n            inventory['ammo'] = {\n                label: game.i18n.localize('SR5.ItemTypes.Ammo'),\n                items: [],\n                dataset: {\n                    type: 'ammo',\n                },\n            };\n            inventory['cyberware'] = {\n                label: game.i18n.localize('SR5.ItemTypes.Cyberware'),\n                items: [],\n                dataset: {\n                    type: 'cyberware',\n                },\n            };\n            inventory['bioware'] = {\n                label: game.i18n.localize('SR5.ItemTypes.Bioware'),\n                items: [],\n                dataset: {\n                    type: 'bioware',\n                },\n            };\n        }\n\n        let [\n            items,\n            spells,\n            qualities,\n            adept_powers,\n            actions,\n            complex_forms,\n            lifestyles,\n            contacts,\n            sins,\n            programs,\n            critter_powers,\n            sprite_powers,\n        ] = data.items.reduce(\n            (arr, item) => {\n                // Duplicate to avoid later updates propagating changed item data.\n                // NOTE: If no duplication is done, added fields will be stored in the database on updates!\n                item = duplicate(item);\n                // Show item properties and description in the item list overviews.\n                const actorItem = this.actor.items.get(item._id) as SR5Item;\n                const chatData = actorItem.getChatData();\n                item.description = chatData.description;\n                // @ts-ignore // This is a hacky monkey patch solution to pass template data through duplicated item data.\n                item.properties = chatData.properties;\n\n                // TODO: isStack property isn't used elsewhere. Remove if unnecessary.\n                item.isStack = item.data.quantity ? item.data.quantity > 1 : false;\n                if (item.type === 'spell') arr[1].push(item);\n                else if (item.type === 'quality') arr[2].push(item);\n                else if (item.type === 'adept_power') arr[3].push(item);\n                else if (item.type === 'action') arr[4].push(item);\n                else if (item.type === 'complex_form') arr[5].push(item);\n                else if (item.type === 'lifestyle') arr[6].push(item);\n                else if (item.type === 'contact') arr[7].push(item);\n                else if (item.type === 'sin') arr[8].push(item);\n                else if (item.type === 'program') arr[9].push(item);\n                else if (item.type === 'critter_power') arr[10].push(item);\n                else if (item.type === 'sprite_power') arr[11].push(item);\n                else if (Object.keys(inventory).includes(item.type)) arr[0].push(item);\n                return arr;\n            },\n            [[], [], [], [], [], [], [], [], [], [], [], []],\n        );\n\n        const sortByName = (i1, i2) => {\n            if (i1.name > i2.name) return 1;\n            if (i1.name < i2.name) return -1;\n            return 0;\n        };\n        const sortByEquipped = (left, right) => {\n            const leftEquipped = left.data?.technology?.equipped;\n            const rightEquipped = right.data?.technology?.equipped;\n            if (leftEquipped && !rightEquipped) return -1;\n            if (rightEquipped && !leftEquipped) return 1;\n            if (left.name > right.name) return 1;\n            if (left.name < right.name) return -1;\n            return 0;\n        };\n        actions.sort(sortByName);\n        adept_powers.sort(sortByName);\n        complex_forms.sort(sortByName);\n        items.sort(sortByEquipped);\n        spells.sort(sortByName);\n        contacts.sort(sortByName);\n        lifestyles.sort(sortByName);\n        sins.sort(sortByName);\n        programs.sort(sortByEquipped);\n        critter_powers.sort(sortByName);\n        sprite_powers.sort(sortByName);\n\n        items.forEach((item) => {\n            inventory[item.type].items.push(item);\n        });\n\n        data.inventory = Object.values(inventory);\n        data.magic = {\n            spellbook: spells,\n            powers: adept_powers,\n        };\n        data.actions = actions;\n        data.complex_forms = complex_forms;\n        data.lifestyles = lifestyles;\n        data.contacts = contacts;\n        data.sins = sins;\n        data.programs = programs;\n        data.critter_powers = critter_powers;\n        data.sprite_powers = sprite_powers;\n\n        qualities.sort((a, b) => {\n            if (a.data.type === 'positive' && b.data.type === 'negative') return -1;\n            if (a.data.type === 'negative' && b.data.type === 'positive') return 1;\n            return a.name < b.name ? -1 : 1;\n        });\n        data.qualities = qualities;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Activate event listeners using the prepared sheet HTML\n     * @param html The prepared HTML object ready to be rendered into the DOM\n     */\n    activateListeners(html) {\n        super.activateListeners(html);\n\n        html.find('.hidden').hide();\n\n        html.find('.has-desc').click((event) => {\n            event.preventDefault();\n            const item = $(event.currentTarget).parents('.list-item');\n            const iid = $(item).data().item;\n            const field = item.next();\n            field.toggle();\n            if (iid) {\n                if (field.is(':visible')) this._shownDesc.push(iid);\n                else this._shownDesc = this._shownDesc.filter((val) => val !== iid);\n            }\n        });\n\n        html.find('.skill-header').find('.item-name').click(this._onFilterUntrainedSkills.bind(this));\n        html.find('.skill-header').find('.skill-spec-item').click(this._onFilterUntrainedSkills.bind(this));\n        html.find('.skill-header').find('.rtg').click(this._onFilterUntrainedSkills.bind(this));\n\n        html.find('.cell-input-roll').click(this._onRollCellInput.bind(this));\n        html.find('.attribute-roll').click(this._onRollAttribute.bind(this));\n        html.find('.skill-roll').click(this._onRollActiveSkill.bind(this));\n\n        html.find('#filter-skills').on('input', this._onFilterSkills.bind(this));\n\n        html.find('.skill-edit').click(this._onShowEditSkill.bind(this));\n        html.find('.knowledge-skill-edit').click(this._onShowEditKnowledgeSkill.bind(this));\n        html.find('.language-skill-edit').click(this._onShowEditLanguageSkill.bind(this));\n        html.find('.add-knowledge').click(this._onAddKnowledgeSkill.bind(this));\n        html.find('.add-language').click(this._onAddLanguageSkill.bind(this));\n        html.find('.add-active').click(this._onAddActiveSkill.bind(this));\n        html.find('.remove-knowledge').click(this._onRemoveKnowledgeSkill.bind(this));\n        html.find('.remove-language').click(this._onRemoveLanguageSkill.bind(this));\n        html.find('.remove-active').click(this._onRemoveActiveSkill.bind(this));\n        html.find('.knowledge-skill').click(this._onRollKnowledgeSkill.bind(this));\n        html.find('.language-skill').click(this._onRollLanguageSkill.bind(this));\n\n        html.find('.item-roll').click(this._onRollItem.bind(this));\n        html.find('.item-equip-toggle').click(this._onEquipItem.bind(this));\n        html.find('.item-qty').change(this._onChangeQty.bind(this));\n        html.find('.item-rtg').change(this._onChangeRtg.bind(this));\n        html.find('.item-create').click(this._onItemCreate.bind(this));\n        html.find('.reload-ammo').click(this._onReloadAmmo.bind(this));\n        html.find('.matrix-att-selector').change(this._onMatrixAttributeSelected.bind(this));\n\n        html.find('.import-character').click(this._onShowImportCharacter.bind(this));\n        html.find('.show-hidden-skills').click(this._onShowHiddenSkills.bind(this));\n\n        /**\n         * Open the PDF for an item on the actor\n         */\n        $(html)\n            .find('.open-source-pdf')\n            .on('click', async (event) => {\n                event.preventDefault();\n                const field = $(event.currentTarget).parents('.list-item');\n                const iid = $(field).data().itemId;\n                const item = this.actor.getOwnedSR5Item(iid);\n                if (item) {\n                    await item.openPdfSource();\n                }\n            });\n\n        $(html).find('.horizontal-cell-input .cell').on('click', this._onSetCellInput.bind(this));\n        $(html).find('.horizontal-cell-input .cell').on('contextmenu', this._onClearCellInput.bind(this));\n\n        /**\n         * New API to use for rolling from the actor sheet\n         * the clickable label needs the css class Roll\n         * a parent of the label needs to have the css class RollId, and then have data-roll-id set\n         */\n        $(html).find('.Roll').on('click', this._onRollFromSheet.bind(this));\n\n        // updates matrix condition monitor on the device the actor has equippe\n        $(html)\n            .find('[name=\"data.matrix.condition_monitor.value\"]')\n            .on('change', async (event: any) => {\n                event.preventDefault();\n                const value = Helpers.parseInputToNumber(event.currentTarget.value);\n                const matrixDevice = this.actor.getMatrixDevice();\n                if (matrixDevice && !isNaN(value)) {\n                    const updateData = {};\n                    updateData['data.technology.condition_monitor.value'] = value;\n                    await matrixDevice.update(updateData);\n                }\n            });\n\n        // Update Inventory Item\n        html.find('.item-edit').click((event) => {\n            event.preventDefault();\n            const iid = Helpers.listItemId(event);\n            const item = this.actor.getOwnedSR5Item(iid);\n            if (item) item.sheet.render(true);\n        });\n        // Delete Inventory Item\n        html.find('.item-delete').click(event => this.deleteOwnedItem(event));\n        // Drag inventory item\n        let handler = (ev) => this._onDragStart(ev);\n        html.find('.list-item').each((i, item) => {\n            if (item.dataset && item.dataset.itemId) {\n                item.setAttribute('draggable', true);\n                item.addEventListener('dragstart', handler, false);\n            }\n        });\n\n        html.find('.driver-remove').click(this.handleRemoveVehicleDriver.bind(this));\n    }\n\n    /** Handle all entity drops onto all actor sheet types.\n     *\n     * @param event\n     */\n    async _onDrop(event: DragEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if (!event.dataTransfer) return;\n\n        const dropData = JSON.parse(event.dataTransfer.getData('text/plain'));\n\n        // Handle specific system drop events.\n        switch (dropData.type) {\n            case \"Actor\":\n                await this.actor.addVehicleDriver(dropData.id)\n                break;\n        }\n\n        // Handle none specific drop events.\n        await super._onDrop(event);\n    }\n\n\n\n    async deleteOwnedItem(event) {\n        event.preventDefault();\n\n        const userConsented = await Helpers.confirmDeletion();\n        if (!userConsented) return;\n\n        const iid = Helpers.listItemId(event);\n        await this.actor.deleteOwnedItem(iid);\n    }\n\n    async _onRollFromSheet(event) {\n        event.preventDefault();\n        // look for roll id data in the current line\n        let rollId = $(event.currentTarget).data()?.rollId;\n        // if that doesn't exist, look for a prent with RollId name\n        rollId = rollId ?? $(event.currentTarget).parent('.RollId').data().rollId;\n\n        const split = rollId.split('.');\n        const options = { event };\n        switch (split[0]) {\n            case 'prompt-roll':\n                await this.actor.promptRoll(options);\n                break;\n            case 'armor':\n                await this.actor.rollArmor(options);\n                break;\n            case 'fade':\n                await this.actor.rollFade(options);\n                break;\n            case 'drain':\n                await this.actor.rollDrain(options);\n                break;\n            case 'defense':\n                await this.actor.rollAttackDefense(options);\n                break;\n            case 'damage-resist':\n                await this.actor.rollSoak(options);\n                break;\n\n            // attribute only rolls\n            case 'composure':\n                await this.actor.rollAttributesTest('composure');\n                break;\n            case 'judge-intentions':\n                await this.actor.rollAttributesTest('judge_intentions');\n                break;\n            case 'lift-carry':\n                await this.actor.rollAttributesTest('lift_carry');\n                break;\n            case 'memory':\n                await this.actor.rollAttributesTest('memory');\n                break;\n\n            case 'vehicle-stat':\n                console.log('roll vehicle stat', rollId);\n                break;\n\n            case 'drone':\n                const prop = split[1]; // we expect another for \"drone\" category\n                switch (prop) {\n                    case 'perception':\n                        await this.actor.rollDronePerception(options);\n                        break;\n                    case 'infiltration':\n                        await this.actor.rollDroneInfiltration(options);\n                        break;\n                    case 'pilot-vehicle':\n                        await this.actor.rollPilotVehicle(options);\n                        break;\n                }\n                break;\n            // end drone\n\n            case 'attribute':\n                const attribute = split[1];\n                if (attribute) {\n                    await this.actor.rollAttribute(attribute, options);\n                }\n                break;\n            // end attribute\n\n            case 'skill':\n                const skillType = split[1];\n                switch (skillType) {\n                    case 'active': {\n                        const skillId = split[2];\n                        await this.actor.rollActiveSkill(skillId, options);\n                        break;\n                    }\n                    case 'language': {\n                        const skillId = split[2];\n                        await this.actor.rollLanguageSkill(skillId, options);\n                        break;\n                    }\n                    case 'knowledge': {\n                        const category = split[2];\n                        const skillId = split[3];\n                        await this.actor.rollKnowledgeSkill(category, skillId, options);\n                        break;\n                    }\n                }\n                break;\n            // end skill\n\n            case 'matrix':\n                const subkey = split[1];\n                switch (subkey) {\n                    case 'attribute':\n                        const attr = split[2];\n                        await this.actor.rollMatrixAttribute(attr, options);\n                        break;\n                    case 'device-rating':\n                        await this.actor.rollDeviceRating(options);\n                        break;\n                }\n\n                break;\n            // end matrix\n        }\n    }\n\n    // Setup skill name filter within getData\n    async _onFilterSkills(event) {\n        this._filters.skills = event.currentTarget.value;\n        await this.render();\n    }\n\n    // Setup untrained skill filter within getData\n    async _onFilterUntrainedSkills(event) {\n        event.preventDefault();\n        this._filters.showUntrainedSkills = !this._filters.showUntrainedSkills;\n        await this.render();\n    }\n\n    async _onReloadAmmo(event) {\n        event.preventDefault();\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        if (item) return item.reloadAmmo();\n    }\n\n    async _onMatrixAttributeSelected(event) {\n        if (!(\"matrix\" in this.actor.data.data)) return;\n\n        let iid = this.actor.data.data.matrix.device;\n        let item = this.actor.getOwnedSR5Item(iid);\n        if (!item) {\n            console.error('could not find item');\n            return;\n        }\n        // grab matrix attribute (sleaze, attack, etc.)\n        let att = event.currentTarget.dataset.att;\n        // grab device attribute (att1, att2, ...)\n        let deviceAtt = event.currentTarget.value;\n\n        // get current matrix attribute on the device\n        const deviceData = item.data.data as DeviceData;\n        let oldVal = deviceData.atts[deviceAtt].att;\n        let data = {\n            _id: iid,\n        };\n\n        // go through atts on device, setup matrix attributes on it\n        for (let i = 1; i <= 4; i++) {\n            let tmp = `att${i}`;\n            let key = `data.atts.att${i}.att`;\n            if (tmp === deviceAtt) {\n                data[key] = att;\n            } else if (deviceData.atts[`att${i}`].att === att) {\n                data[key] = oldVal;\n            }\n        }\n        await this.actor.updateOwnedItem(data);\n    }\n\n    _onItemCreate(event) {\n        event.preventDefault();\n        const type = Helpers.listItemId(event);\n        const itemData = {\n            name: `New ${type}`,\n            type: type,\n        };\n        return this.actor.createOwnedItem(itemData, { renderSheet: true });\n    }\n\n    async _onAddLanguageSkill(event) {\n        event.preventDefault();\n        const skillId = await this.actor.addLanguageSkill({ name: '' });\n        if (!skillId) return;\n\n        // NOTE: Causes issues with adding knowledge skills (category undefined)\n        // await this._showSkillEditForm(LanguageSkillEditForm, this.actor, {event}, skillId);\n    }\n\n    async _onRemoveLanguageSkill(event) {\n        event.preventDefault();\n\n        const userConsented = await Helpers.confirmDeletion();\n        if (!userConsented) return;\n\n        const skillId = Helpers.listItemId(event);\n        await this.actor.removeLanguageSkill(skillId);\n    }\n\n    async _onAddKnowledgeSkill(event) {\n        event.preventDefault();\n        const category = Helpers.listItemId(event);\n        const skillId = await this.actor.addKnowledgeSkill(category);\n        if (!skillId) return;\n\n        // NOTE: Causes issues with adding knowledge skills (category undefined)\n        // await this._showSkillEditForm(KnowledgeSkillEditForm, this.actor, {event}, skillId);\n    }\n\n    async _onRemoveKnowledgeSkill(event) {\n        event.preventDefault();\n\n        const userConsented = await Helpers.confirmDeletion();\n        if (!userConsented) return;\n\n        const [skillId, category] = Helpers.listItemId(event).split('.');\n        await this.actor.removeKnowledgeSkill(skillId, category);\n    }\n\n    /** Add an active skill and show the matching edit application afterwards.\n     *\n     * @param event The HTML event from which the action resulted.\n     */\n     async _onAddActiveSkill(event: Event) {\n        event.preventDefault();\n        const skillId = await this.actor.addActiveSkill();\n        if (!skillId) return;\n\n        await this._showSkillEditForm(SkillEditForm, this.actor, { event: event }, skillId);\n    }\n\n    async _onRemoveActiveSkill(event: Event) {\n         event.preventDefault();\n\n        const userConsented = await Helpers.confirmDeletion();\n        if (!userConsented) return;\n\n        const skillId = Helpers.listItemId(event);\n        await this.actor.removeActiveSkill(skillId);\n    }\n\n    async _onChangeRtg(event) {\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        const rtg = parseInt(event.currentTarget.value);\n        if (item && rtg) {\n            await item.update({ 'data.technology.rating': rtg });\n        }\n    }\n\n    async _onChangeQty(event) {\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        const qty = parseInt(event.currentTarget.value);\n        if (item && qty && \"technology\" in item.data.data) {\n            item.data.data.technology.quantity = qty;\n            await item.update({ 'data.technology.quantity': qty });\n        }\n    }\n\n    async _onEquipItem(event) {\n        event.preventDefault();\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        if (item) {\n            const newItems = [] as any[];\n            if (item.isDevice()) {\n                // Only allow one equipped device item. Unequip all other.\n                for (let ite of this.actor.items.filter((actorItem: SR5Item) => actorItem.isDevice())) {\n                    newItems.push({\n                        '_id': ite._id,\n                        'data.technology.equipped': ite._id === iid,\n                    });\n                }\n\n            } else {\n                // Toggle equip status.\n                newItems.push({\n                    '_id': iid,\n                    'data.technology.equipped': !item.isEquipped(),\n                });\n            }\n            // @ts-ignore // TODO: foundry-pc-type defines Entity.updateEmbeddedEntity as static but it's not.\n            await this.actor.updateEmbeddedEntity('OwnedItem', newItems);\n\n            this.actor.render(false);\n        }\n    }\n\n    async _onSetCellInput(event) {\n        const value = Number(event.currentTarget.dataset.value);\n        const cmId = $(event.currentTarget).closest('.horizontal-cell-input').data().id;\n        const data = {};\n        if (cmId === 'stun' || cmId === 'physical') {\n            const property = `data.track.${cmId}.value`;\n            data[property] = value;\n        } else if (cmId === 'edge') {\n            const property = `data.attributes.edge.uses`;\n            data[property] = value;\n        } else if (cmId === 'overflow') {\n            const property = 'data.track.physical.overflow.value';\n            data[property] = value;\n        } else if (cmId === 'matrix') {\n            const matrixDevice = this.actor.getMatrixDevice();\n            if (matrixDevice && !isNaN(value)) {\n                const updateData = {};\n                updateData['data.technology.condition_monitor.value'] = value;\n                await matrixDevice.update(updateData);\n            } else {\n                data['data.matrix.condition_monitor.value'] = value;\n            }\n        }\n        await this.actor.update(data);\n    }\n\n    async _onClearCellInput(event) {\n        const cmId = $(event.currentTarget).closest('.horizontal-cell-input').data().id;\n        const data = {};\n        if (cmId === 'stun') {\n            data[`data.track.stun.value`] = 0;\n        }\n        // Clearing the physical monitor should also clear the overflow.\n        else if (cmId === 'physical') {\n            data[`data.track.physical.value`] = 0;\n            data['data.track.physical.overflow.value'] = 0;\n\n        } else if (cmId === 'edge') {\n            data[`data.attributes.edge.uses`] = 0;\n\n        } else if (cmId === 'overflow') {\n            data['data.track.physical.overflow.value'] = 0;\n\n        } else if (cmId === 'matrix') {\n            const matrixDevice = this.actor.getMatrixDevice();\n\n            if (matrixDevice) {\n                const updateData = {};\n                updateData['data.technology.condition_monitor.value'] = 0;\n                await matrixDevice.update(updateData);\n\n            } else {\n                data['data.matrix.condition_monitor.value'] = 0;\n            }\n        }\n\n        await this.actor.update(data);\n    }\n\n    async _onRollCellInput(event) {\n        event.preventDefault();\n        let track = $(event.currentTarget).closest('.horizontal-cell-input').data().id;\n        if (track === 'stun' || track === 'physical') {\n            await this.actor.rollNaturalRecovery(track, event);\n        } else if (track === 'edge') {\n            await this.actor.rollAttribute('edge');\n        }\n    }\n\n    async _onRollItem(event) {\n        event.preventDefault();\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        if (item) {\n            await item.castAction(event);\n        }\n    }\n\n    async _onRollKnowledgeSkill(event) {\n        event.preventDefault();\n        const id = Helpers.listItemId(event);\n        const [skill, category] = id.split('.');\n        return this.actor.rollKnowledgeSkill(category, skill, { event: event });\n    }\n\n    async _onRollLanguageSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        return this.actor.rollLanguageSkill(skill, { event: event });\n    }\n\n    async _onRollActiveSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        return this.actor.rollActiveSkill(skill, { event: event });\n    }\n\n    async _onRollAttribute(event) {\n        event.preventDefault();\n        const attr = event.currentTarget.closest('.attribute').dataset.attribute;\n        return this.actor.rollAttribute(attr, { event: event });\n    }\n\n    /**\n     * @private\n     */\n    _findActiveList() {\n        return $(this.element).find('.tab.active .scroll-area');\n    }\n\n    /**\n     * @private\n     */\n    async _render(...args) {\n        const focusList = $(this.element).find(':focus');\n        const focus: any = focusList.length ? focusList[0] : null;\n\n        this._saveScrollPositions();\n        await super._render(...args);\n        this._restoreScrollPositions();\n\n        if (focus && focus.name) {\n            const element = this.form[focus.name];\n            if (element) {\n                element.focus();\n                // set the selection range on the focus formed from before (keeps track of cursor in input)\n                element.setSelectionRange && element.setSelectionRange(focus.selectionStart, focus.selectionEnd);\n            }\n        }\n    }\n\n    /**\n     * @private\n     */\n    _restoreScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length && this._scroll != null) {\n            activeList.prop('scrollTop', this._scroll);\n        }\n    }\n\n    /**\n     * @private\n     */\n    _saveScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length) {\n            this._scroll = activeList.prop('scrollTop');\n        }\n    }\n\n    async _closeOpenSkillApp() {\n        if (globalSkillAppId !== -1) {\n            if (ui.windows[globalSkillAppId]) {\n                await ui.windows[globalSkillAppId].close();\n            }\n            globalSkillAppId = -1;\n        }\n    }\n\n    /** Keep track of each SkillEditForm instance and close before opening another.\n     *\n     * @param skillEditFormImplementation Any extending class! of SkillEditForm\n     * @param actor\n     * @param options\n     * @param args Collect arguments of the different renderWithSkill implementations.\n     */\n    async _showSkillEditForm(skillEditFormImplementation, actor: SR5Actor, options: object, ...args) {\n        await this._closeOpenSkillApp();\n\n        const skillEditForm = new skillEditFormImplementation(actor, options, ...args);\n        globalSkillAppId = skillEditForm.appId;\n        await skillEditForm.render(true);\n    }\n\n    _onShowEditKnowledgeSkill(event) {\n        event.preventDefault();\n        const [skill, category] = Helpers.listItemId(event).split('.');\n\n        this._showSkillEditForm(\n            KnowledgeSkillEditForm,\n            this.actor,\n            {\n                event: event,\n            },\n            skill,\n            category,\n        );\n    }\n\n    async _onShowEditLanguageSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        // new LanguageSkillEditForm(this.actor, skill, { event: event }).render(true);\n        await this._showSkillEditForm(LanguageSkillEditForm, this.actor, { event: event }, skill);\n    }\n\n    async _onShowEditSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        // new SkillEditForm(this.actor, skill, { event: event }).render(true);\n        await this._showSkillEditForm(SkillEditForm, this.actor, { event: event }, skill);\n    }\n\n    _onShowImportCharacter(event) {\n        event.preventDefault();\n        const options = {\n            name: 'chummer-import',\n            title: 'Chummer Import',\n        };\n        new ChummerImportForm(this.actor, options).render(true);\n    }\n\n    async _onShowHiddenSkills(event) {\n        event.preventDefault();\n\n        await this.actor.showHiddenSkills();\n    }\n\n\n    async handleRemoveVehicleDriver(event) {\n        event.preventDefault();\n        await this.actor.removeVehicleDriver();\n    }\n}\n","import SkillField = Shadowrun.SkillField;\nimport {SkillRules} from \"./SkillRules\";\nimport {PartsList} from \"../parts/PartsList\";\nimport {FLAGS, SYSTEM_NAME} from \"../constants\";\n\nexport class SkillFlow {\n    /**\n     * Handle everything around how a skill should be defaulted\n     * @param skill\n     * @param parts\n     */\n    static handleDefaulting(skill: SkillField, parts: PartsList<number>) {\n        if (!SkillRules.mustDefaultToRoll(skill)) return;\n\n        if (!SkillFlow.allowDefaultingRoll(skill)) {\n            ui.notifications.warn(game.i18n.localize('SR5.Warnings.SkillCantBeDefault'));\n            return;\n        }\n\n        SkillRules.addDefaultingPart(parts);\n    }\n\n    /**\n     * Check if either the system settings or skill configuration allow for a skill to be defaulted.\n     * @param skill\n     * @return true will allow a role on the skill that needs defaulting.\n     */\n    static allowDefaultingRoll(skill: SkillField): boolean {\n        // Check if settings allow rolls of skills that otherwise would need to be defaulted.\n        const allowUnimproviseable = game.settings.get(SYSTEM_NAME, FLAGS.OnlyAllowRollOnDefaultableSkills) === false;\n        if (allowUnimproviseable)\n            return true;\n\n        return SkillRules.allowDefaultingRoll(skill);\n    }\n\n    static allowRoll(skill: SkillField): boolean {\n        if (SkillRules.mustDefaultToRoll(skill) && SkillFlow.allowDefaultingRoll(skill)) {\n            return true;\n        }\n        return SkillRules.allowRoll(skill);\n    }\n}","import SkillField = Shadowrun.SkillField;\nimport {PartsList} from \"../parts/PartsList\";\nimport {SR5} from \"../config\";\nimport {SR} from \"../constants\";\n\nexport class SkillRules {\n\n    static mustDefaultToRoll(skill: SkillField): boolean {\n        return skill.base === 0;\n    }\n    /**\n     * Allow defaulting a skill role.\n     * @PDF SR5#130\n     * @param skill Check for this skills ability to be defaulted.\n     * @return true will allow for a SuccessTest / role to proceed.\n     */\n    static allowDefaultingRoll(skill: SkillField): boolean {\n        // Check for skill defaulting at the base, since modifiers or bonus can cause a positive pool, while\n        // still defaulting.\n        return skill.canDefault;\n    }\n\n    /**\n     * Allow a skill role.\n     * @PDF SR5#130\n     * @param skill Check for this skills ability to be rolled.\n     * @return true will allow for a SuccessTest / role to proceed.\n     */\n    static allowRoll(skill: SkillField): boolean {\n        return !SkillRules.mustDefaultToRoll(skill) || SkillRules.allowDefaultingRoll(skill);\n    }\n\n    /**\n     * Add the defaulting modifier part to a parts list\n     * @param parts Should be a PartsList involved with skills.\n     */\n    static addDefaultingPart(parts: PartsList<number>) {\n        parts.addUniquePart('SR5.Defaulting', SkillRules.getDefaultingModifier());\n    }\n\n    static getDefaultingModifier(): number {\n        return SR.skill.DEFAULTING_MODIFIER;\n    }\n}","import {ShadowrunRoll, ShadowrunRoller} from '../rolls/ShadowrunRoller';\nimport {SR5Actor} from \"./SR5Actor\";\nimport {SoakRules} from \"./SoakRules\";\nimport { Helpers } from '../helpers';\nimport SoakRollOptions = Shadowrun.SoakRollOptions;\nimport ModList = Shadowrun.ModList;\nimport {createRollChatMessage} from \"../chat\";\nimport DamageData = Shadowrun.DamageData;\nimport DamageElement = Shadowrun.DamageElement;\nimport DamageType = Shadowrun.DamageType;\nimport {PartsList} from \"../parts/PartsList\";\nimport {DefaultValues} from \"../dataTemplates\";\nimport { ShadowrunActorDialogs } from '../apps/dialogs/ShadowrunActorDialogs';\n\nexport class SoakFlow {\n\n    /**\n     * Runs the soak flow with user interaction\n     * @param actor The actor doing the soaking\n     * @param soakRollOptions Information about the incoming damage (if it is already known)\n     * @param partsProps Optional modifiers for the soak test\n     */\n    async runSoakTest(actor: SR5Actor, soakRollOptions: SoakRollOptions, partsProps: ModList<number> = []): Promise<ShadowrunRoll|undefined> {\n        const initialDamageData = soakRollOptions.damage ? soakRollOptions.damage : DefaultValues.damageData();\n        const previewSoakDefenseParts = new PartsList<number>(duplicate(partsProps));\n        SoakRules.applyAllSoakParts(previewSoakDefenseParts, actor, initialDamageData);\n\n        // Ask the user for the damage data / update the incoming damage data \n        const damageDataOrUndef = await this.promptDamageData(soakRollOptions, previewSoakDefenseParts); \n        if (!damageDataOrUndef) {\n            return;\n        } \n\n        const damageData = damageDataOrUndef;\n        const finalSoakDefenseParts = new PartsList<number>(duplicate(partsProps));\n        SoakRules.applyAllSoakParts(finalSoakDefenseParts, actor, damageData); \n\n        // Query user for roll options and do the actual soak test.\n        const title = game.i18n.localize('SR5.SoakTest');\n        const roll = await ShadowrunRoller.advancedRoll({\n            event: soakRollOptions?.event,\n            extended: false,\n            actor,\n            parts: finalSoakDefenseParts.list,\n            title,\n            wounds: false,\n            hideRollMessage: true\n        });\n\n        if (!roll) return;\n\n        // Modify damage and reduce damage by net hits and show result\n        const incoming = duplicate(damageData);\n        let modified = SoakRules.modifyDamageType(incoming, actor);\n        modified = SoakRules.reduceDamage(actor, modified, roll.hits).modified;\n        const incAndModDamage = {incoming, modified};\n\n        await createRollChatMessage({title, roll, actor, damage: incAndModDamage});\n\n        return roll;\n    }\n\n    private async promptDamageData(soakRollOptions: SoakRollOptions, soakDefenseParts: PartsList<number>) \n        : Promise<DamageData | undefined> {\n\n        // Ask user for incoming damage, ap and element\n        const damageDataDialog = await ShadowrunActorDialogs.createSoakDialog(soakRollOptions, soakDefenseParts);\n        const userData = await damageDataDialog.select();\n        if (damageDataDialog.canceled) return;\n\n        // Update damage with the user input\n        const initialDamageData: DamageData = soakRollOptions?.damage\n                ? soakRollOptions.damage\n                : DefaultValues.damageData();\n        \n        return this.updateDamageWithUserData(initialDamageData, userData.incomingDamage, userData.damageType, userData.ap, userData.element);\n    }\n\n\n    private updateDamageWithUserData(initialDamageData: DamageData, incomingDamage : number, damageType : DamageType, ap: number, element: string) {\n        const damageData: DamageData = duplicate(initialDamageData);\n\n        // Update damage data, diff changes instead of simply replacing\n        const totalDamage = Helpers.calcTotal(damageData);\n        if (totalDamage !== incomingDamage) {\n            const diff = incomingDamage - totalDamage;\n            damageData.mod = PartsList.AddUniquePart(damageData.mod, 'SR5.UserInput', diff);\n            damageData.value = Helpers.calcTotal(damageData);\n        }\n\n        if (initialDamageData.type.base !== damageType) {\n            damageData.type.base = damageType;\n            damageData.type.value = damageType;\n        }\n\n        // Update ap, diff changes instead of simply replacing\n        const totalAp = Helpers.calcTotal(damageData.ap);\n        if (totalAp !== ap) {\n            const diff = ap - totalAp;\n            damageData.ap.mod = PartsList.AddUniquePart(damageData.ap.mod, 'SR5.UserInput', diff);\n            damageData.ap.value = Helpers.calcTotal(damageData.ap);\n        }\n\n        if (element) {\n            damageData.element.value = element as DamageElement;\n        }\n\n        return damageData;\n    }\n}","import { SR5Actor } from './SR5Actor';\nimport { SR5 } from '../config';\nimport { Helpers } from '../helpers';\nimport { PartsList } from '../parts/PartsList';\nimport DamageData = Shadowrun.DamageData;\nimport ActorArmorData = Shadowrun.ActorArmorData;\nimport ModifiedDamageData = Shadowrun.ModifiedDamageData;\nimport ModifiableValue = Shadowrun.ModifiableValue;\nimport CharacterActorData = Shadowrun.CharacterActorData;\n\n/**\n * Soaking rules for actors\n */\nexport class SoakRules {\n\n    /**\n     * Determines the soak parts based on the damage and the actor type\n     * @param soakParts List of (potentially prefilled) soak parts\n     * @param actor The actor affected by the damage\n     * @param damageData The damage\n     */\n    static applyAllSoakParts(soakParts: PartsList<number>, actor: SR5Actor, damageData: DamageData) {\n        if (damageData.type.base !== 'matrix') {\n            SoakRules.applyMundaneAttackSoakParts(soakParts, actor, damageData);\n        } else {\n            SoakRules.applyMatrixSoakParts(soakParts, actor);\n        }\n    }\n\n    private static applyMundaneAttackSoakParts(soakParts: PartsList<number>, actor: SR5Actor, damageData: DamageData) {\n        SoakRules.applyBodyAndArmorParts(soakParts, actor);\n\n        const armor = actor.getArmor();\n        SoakRules.applyArmorPenetration(soakParts, armor, damageData);\n        SoakRules.applyElementalArmor(soakParts, armor, damageData.element.base);\n    }\n\n    private static applyBodyAndArmorParts(soakParts: PartsList<number>, actor: SR5Actor) {\n        const body = actor.findAttribute('body');\n        if (body) {\n            soakParts.addUniquePart(body.label || 'SR5.Body', body.value);\n        }\n\n        const mod = actor.getModifier('soak');\n        if (mod) {\n            soakParts.addUniquePart('SR5.Bonus', mod);\n        }\n\n        actor._addArmorParts(soakParts);\n    }\n\n    private static applyArmorPenetration(soakParts: PartsList<number>, armor: ActorArmorData, damageData: DamageData) {\n        const bonusArmor = armor[damageData.element.value] ?? 0;\n        const totalArmor = armor.value + bonusArmor;\n        const ap = Helpers.calcTotal(damageData.ap);\n\n        soakParts.addUniquePart('SR5.AP', Math.max(ap, -totalArmor));\n    }\n\n    private static applyElementalArmor(soakParts: PartsList<number>, armor: ActorArmorData, element: string) {\n        const bonusArmor = armor[element] ?? 0;\n        if (bonusArmor) {\n            soakParts.addUniquePart(CONFIG.SR5.elementTypes[element], bonusArmor);\n        }\n    }\n\n    private static applyMatrixSoakParts(soakParts: PartsList<number>, actor: SR5Actor) {\n        const actorData = actor.data.data as CharacterActorData;\n\n        // All actors have the same soak rules when they are not active in the matrix\n        // TODO Technomancer and Sprites special rules?\n        if (actorData.initiative.perception === 'matrix') {\n            if (actor.isVehicle()){\n                // Vehicles can have a matrix initiative but do not take biofeedback\n                SoakRules.applyRatingAndFirewallParts(actorData, soakParts);     \n            }\n            else {\n                SoakRules.applyBiofeedbackParts(soakParts, actor, actorData);\n            }\n        }\n\n        else {\n            SoakRules.applyRatingAndFirewallParts(actorData, soakParts);       \n        }\n    }\n\n    private static applyBiofeedbackParts(soakParts: PartsList<number>, actor: SR5Actor, actorData: CharacterActorData) {\n        SoakRules.addUniquePart(soakParts, actor.getAttribute('willpower'), SR5.attributes.willpower);\n\n        if (!actorData.matrix) {\n            return;\n        }\n\n        SoakRules.addUniquePart(soakParts, actorData.matrix.firewall, SR5.matrixAttributes.firewall);\n    }\n\n    private static applyRatingAndFirewallParts(actorData: CharacterActorData, soakParts: PartsList<number>) {\n        if (!actorData.matrix) {\n            return;\n        }\n\n        const deviceRating = actorData.matrix.rating;\n        if (deviceRating) {\n            soakParts.addUniquePart('SR5.Labels.ActorSheet.DeviceRating', deviceRating);\n        }\n\n        this.addUniquePart(soakParts, actorData.matrix.firewall, SR5.matrixAttributes.firewall);\n    }\n\n    private static addUniquePart(partsList: PartsList<number>, modifiableValue : ModifiableValue, label : string) {\n        const totalValue = Helpers.calcTotal(modifiableValue);\n        partsList.addUniquePart(label, totalValue);\n    }\n\n    /**\n     * Reduces the damage value based on net hits and damage data and actor special rules\n     * \n     * @remarks\n     * Make sure that you first call modifyDamageType before you call this method\n     * to determine the correct damage type (physical, stun, matrix)\n     *  \n     * @param damageData The incoming damage\n     * @param hits The number of hits on the soak tests\n     * @returns The updated damage data\n     */\n    static reduceDamage(actor : SR5Actor, damageData: DamageData, hits: number): ModifiedDamageData {\n\n        // Vehicles are immune to stun damage (electricity stun damage is handled in a different place)\n        // Note: This also takes care of the vehicle immunity, since physical damage that does not exceed armor \n        // will be converted to stun damage and then reduced to 0. This does not work with drones wearing armor\n        // but we do not support this. \n        if (damageData.type.value === 'stun' && actor.isVehicle()) {\n            return Helpers.reduceDamageByHits(damageData, damageData.value, 'SR5.VehicleStunImmunity');\n        }\n\n        return Helpers.reduceDamageByHits(damageData, hits, 'SR5.SoakTest');\n    }\n\n    /**\n     * Changes the damage type based on the incoming damage type and the actor state (armor, matrix perception..)\n     * @param damage The incoming damage\n     * @param actor The actor affected by the damage \n     * @returns The updated damage data \n     */\n    static modifyDamageType(damage: DamageData, actor : SR5Actor) : DamageData {\n        // Careful, order of damage conversion is very important\n        // Electricity stun damage is considered physical for vehicles\n        let updatedDamage = duplicate(damage);\n        if (actor.isVehicle() && updatedDamage.element.value === 'electricity' && updatedDamage.type.value === 'stun') {\n            updatedDamage.type.value = 'physical';\n        }\n \n        updatedDamage = SoakRules.modifyPhysicalDamageForArmor(updatedDamage, actor);\n        return SoakRules.modifyMatrixDamageForBiofeedback(updatedDamage, actor);\n    }\n\n    /**\n     * Turns physical damage to stun damage based on the damage and armor\n     * @param damage The incoming damage\n     * @param actor The actor affected by the damage \n     * @returns The updated damage data \n     */\n     static modifyPhysicalDamageForArmor(damage: DamageData, actor : SR5Actor): DamageData {\n        const updatedDamage = duplicate(damage);\n\n        if (damage.type.value === 'physical') {\n            // Physical damage is only transformed for some actors \n            if (!actor.isCharacter() && !actor.isSpirit() && !actor.isCritter() && !actor.isVehicle()) {\n                return updatedDamage;\n            }\n\n            const modifiedArmor = actor.getModifiedArmor(damage);\n            if (modifiedArmor) {\n                const armorWillChangeDamageType = modifiedArmor.value > damage.value;\n\n                if (armorWillChangeDamageType) {\n                    updatedDamage.type.value = 'stun';\n                }\n            }\n        }\n\n        return updatedDamage;\n    }\n\n    /**\n     * Turns matrix damage to biofeedback based on the actor state\n     * @param damage The incoming damage\n     * @param actor The actor affected by the damage \n     * @returns The updated damage data \n     */\n    static modifyMatrixDamageForBiofeedback(damage: DamageData, actor : SR5Actor): DamageData {\n        const updatedDamage = duplicate(damage);\n\n        if (damage.type.value === 'matrix') {\n            const actorData = actor.data.data as CharacterActorData;\n\n            // Only characters can receive biofeedback damage at the moment. \n            // TODO Technomancer and Sprites special rules?\n            if (!actor.isCharacter()) {\n                return updatedDamage;\n            }\n    \n            if (actorData.initiative.perception === 'matrix') {\n                if (actorData.matrix.hot_sim) {\n                    updatedDamage.type.value = 'physical';\n                }\n                else {\n                    updatedDamage.type.value = 'stun';    \n                }\n            }\n        }\n\n        return updatedDamage;\n    }\n}","import SR5ActorType = Shadowrun.SR5ActorType;\nimport { CharacterPrep } from './CharacterPrep';\nimport { SpiritPrep } from './SpiritPrep';\nimport { SpritePrep } from './SpritePrep';\nimport { VehiclePrep } from './VehiclePrep';\nimport { CritterPrep } from './CritterPrep';\n\nexport class ActorPrepFactory {\n    static Create(data: SR5ActorType) {\n        if (data.type === 'character') {\n            return new CharacterPrep(data);\n        } else if (data.type === 'spirit') {\n            return new SpiritPrep(data);\n        } else if (data.type === 'sprite') {\n            return new SpritePrep(data);\n        } else if (data.type === 'vehicle') {\n            return new VehiclePrep(data);\n        } else if (data.type === 'critter') {\n              return new CritterPrep(data);\n        }\n    }\n}\n","import SR5ActorType = Shadowrun.SR5ActorType;\nimport { SR5ItemDataWrapper } from '../../item/SR5ItemDataWrapper';\nimport SR5ActorData = Shadowrun.SR5ActorData;\n\nexport abstract class BaseActorPrep<ActorType extends SR5ActorType, DataType extends SR5ActorData> {\n    data: DataType;\n    items: SR5ItemDataWrapper[];\n\n    constructor(data: ActorType) {\n        // @ts-ignore\n        this.data = data.data;\n        // @ts-ignore\n        this.items = data.items.map((item) => new SR5ItemDataWrapper(item));\n    }\n\n    // override with the correct order and functions to prepare the actor\n    abstract prepare(): void;\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { MatrixPrep } from './functions/MatrixPrep';\nimport { ItemPrep } from './functions/ItemPrep';\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { ConditionMonitorsPrep } from './functions/ConditionMonitorsPrep';\nimport { MovementPrep } from './functions/MovementPrep';\nimport { WoundsPrep } from './functions/WoundsPrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport { NPCPrep } from './functions/NPCPrep';\nimport SR5CharacterType = Shadowrun.SR5CharacterType;\nimport CharacterActorData = Shadowrun.CharacterActorData;\n\nexport class CharacterPrep extends BaseActorPrep<SR5CharacterType, CharacterActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n        ModifiersPrep.clearAttributeMods(this.data);\n\n        ItemPrep.prepareArmor(this.data, this.items);\n        ItemPrep.prepareBodyware(this.data, this.items);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n\n        // NPCPrep is reliant to be called after AttributesPrep.\n        NPCPrep.prepareNPCData(this.data);\n\n        LimitsPrep.prepareLimitBaseFromAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        MatrixPrep.prepareMatrix(this.data, this.items);\n        MatrixPrep.prepareMatrixToLimitsAndAttributes(this.data);\n\n        if (this.data.is_npc && this.data.npc.is_grunt) {\n            ConditionMonitorsPrep.prepareGrunt(this.data);\n        } else {\n            ConditionMonitorsPrep.preparePhysical(this.data);\n            ConditionMonitorsPrep.prepareStun(this.data);\n        }\n\n        MovementPrep.prepareMovement(this.data);\n        WoundsPrep.prepareWounds(this.data);\n\n        InitiativePrep.prepareMeatspaceInit(this.data);\n        InitiativePrep.prepareAstralInit(this.data);\n        InitiativePrep.prepareMatrixInit(this.data);\n        InitiativePrep.prepareCurrentInitiative(this.data);\n    }\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { MatrixPrep } from './functions/MatrixPrep';\nimport { ItemPrep } from './functions/ItemPrep';\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { ConditionMonitorsPrep } from './functions/ConditionMonitorsPrep';\nimport { MovementPrep } from './functions/MovementPrep';\nimport { WoundsPrep } from './functions/WoundsPrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport SR5CritterType = Shadowrun.SR5CritterType;\nimport CritterActorData = Shadowrun.CritterActorData;\nimport SR5ActorData = Shadowrun.SR5ActorData;\nimport TwoTrackActorData = Shadowrun.TwoTrackActorData;\nimport {CharacterPrep} from \"./CharacterPrep\";\n\nexport class CritterPrep extends BaseActorPrep<SR5CritterType, CritterActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n        ModifiersPrep.clearAttributeMods(this.data);\n\n        ItemPrep.prepareArmor(this.data, this.items);\n        ItemPrep.prepareBodyware(this.data, this.items);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimitBaseFromAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        MatrixPrep.prepareMatrix(this.data, this.items);\n        MatrixPrep.prepareMatrixToLimitsAndAttributes(this.data);\n\n        ConditionMonitorsPrep.preparePhysical(this.data);\n        ConditionMonitorsPrep.prepareStun(this.data);\n\n        MovementPrep.prepareMovement(this.data);\n        WoundsPrep.prepareWounds(this.data);\n\n        InitiativePrep.prepareMeatspaceInit(this.data);\n        InitiativePrep.prepareAstralInit(this.data);\n        InitiativePrep.prepareMatrixInit(this.data);\n        InitiativePrep.prepareCurrentInitiative(this.data);\n    }\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport SpiritActorData = Shadowrun.SpiritActorData;\nimport SR5SpiritType = Shadowrun.SR5SpiritType;\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { ConditionMonitorsPrep } from './functions/ConditionMonitorsPrep';\nimport { MovementPrep } from './functions/MovementPrep';\nimport { WoundsPrep } from './functions/WoundsPrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport SpiritType = Shadowrun.SpiritType;\nimport { Helpers } from '../../helpers';\nimport {PartsList} from \"../../parts/PartsList\";\n\nexport class SpiritPrep extends BaseActorPrep<SR5SpiritType, SpiritActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n        ModifiersPrep.clearAttributeMods(this.data);\n\n        SpiritPrep.prepareSpiritBaseData(this.data);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimitBaseFromAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        SpiritPrep.prepareSpiritArmor(this.data);\n\n        ConditionMonitorsPrep.prepareStun(this.data);\n        ConditionMonitorsPrep.preparePhysical(this.data);\n\n        MovementPrep.prepareMovement(this.data);\n        WoundsPrep.prepareWounds(this.data);\n\n        InitiativePrep.prepareCurrentInitiative(this.data);\n\n        this.data.special = 'magic';\n    }\n\n    static prepareSpiritBaseData(data: SpiritActorData) {\n        const overrides = this.getSpiritStatModifiers(data.spiritType);\n\n        if (overrides) {\n            const { attributes, skills, initiative, force, modifiers } = data;\n\n            // set the base of attributes to the provided value\n            for (const [attId, value] of Object.entries(overrides.attributes)) {\n                if (attributes[attId] !== undefined) {\n                    attributes[attId].base = value + force;\n                }\n            }\n\n            for (const [skillId, skill] of Object.entries(skills.active)) {\n                skill.base = overrides.skills.find((s) => s === skillId) ? force : 0;\n            }\n\n            // prepare initiative data\n            initiative.meatspace.base.base = force * 2 + overrides.init + Number(modifiers['astral_initiative']);\n            initiative.meatspace.base.mod = PartsList.AddUniquePart(initiative.meatspace.base.mod, \"SR5.Bonus\", Number(modifiers['meat_initiative']));\n            initiative.meatspace.dice.base = 2;\n            initiative.meatspace.dice.mod = PartsList.AddUniquePart(initiative.meatspace.dice.mod, \"SR5.Bonus\", Number(modifiers['meat_initiative_dice']));\n\n            initiative.astral.base.base = force * 2 + overrides.astral_init + Number(modifiers['astral_initiative_dice']);\n            initiative.astral.base.mod = PartsList.AddUniquePart(initiative.astral.base.mod, \"SR5.Bonus\", Number(modifiers['astral_initiative']));\n            initiative.astral.dice.base = 3;\n            initiative.astral.dice.mod = PartsList.AddUniquePart(initiative.astral.dice.mod, \"SR5.Bonus\", Number(modifiers['astral_initiative_dice']));\n        }\n    }\n\n    static prepareSpiritArmor(data: SpiritActorData) {\n        const { armor, attributes } = data;\n        armor.base = (attributes.essence.value ?? 0) * 2;\n        armor.value = Helpers.calcTotal(armor);\n    }\n\n    /**\n     * get the attribute and initiative modifiers and skills\n     */\n    static getSpiritStatModifiers(spiritType: SpiritType) {\n        const overrides = {\n            // value of 0 for attribute makes it equal to the Force\n            attributes: {\n                body: 0,\n                agility: 0,\n                reaction: 0,\n                strength: 0,\n                willpower: 0,\n                logic: 0,\n                intuition: 0,\n                charisma: 0,\n                magic: 0,\n                essence: 0,\n            },\n            // modifiers for after the Force x 2 calculation\n            init: 0,\n            astral_init: 0,\n            // skills are all set to Force\n            skills: [] as string[],\n        };\n        switch (spiritType) {\n            case 'air':\n                overrides.attributes.body = -2;\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 4;\n                overrides.attributes.strength = -3;\n                overrides.init = 4;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'beasts':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = 1;\n                overrides.attributes.strength = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'earth':\n                overrides.attributes.body = 4;\n                overrides.attributes.agility = -2;\n                overrides.attributes.reaction = -1;\n                overrides.attributes.strength = 4;\n                overrides.attributes.logic = -1;\n                overrides.init = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'fire':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = -2;\n                overrides.attributes.intuition = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'flight', 'perception', 'unarmed_combat');\n                break;\n            case 'guardian':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = 2;\n                overrides.init = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'blades', 'clubs', 'counter_spelling', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'guidance':\n                overrides.attributes.body = 3;\n                overrides.attributes.agility = -1;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 1;\n                overrides.skills.push('arcana', 'assensing', 'astral_combat', 'counter_spelling', 'perception', 'unarmed_combat');\n                break;\n            case 'man':\n                overrides.attributes.body = 1;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = -2;\n                overrides.attributes.intuition = 1;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'spellcasting', 'unarmed_combat');\n                break;\n            case 'plant':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = -1;\n                overrides.attributes.strength = 1;\n                overrides.attributes.logic = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'exotic_range', 'unarmed_combat');\n                break;\n            case 'task':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 2;\n                overrides.init = 2;\n                overrides.skills.push('artisan', 'assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'water':\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 2;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n\n            case 'toxic_air':\n                overrides.attributes.body = -2;\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 4;\n                overrides.attributes.strength = -3;\n                overrides.init = 4;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'running', 'unarmed_combat');\n                break;\n            case 'toxic_beasts':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = 1;\n                overrides.attributes.strength = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'gymnastics', 'perception', 'running', 'unarmed_combat');\n                break;\n            case 'toxic_earth':\n                overrides.attributes.body = 4;\n                overrides.attributes.agility = -2;\n                overrides.attributes.reaction = -1;\n                overrides.attributes.strength = 4;\n                overrides.attributes.logic = -1;\n                overrides.init = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'toxic_fire':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = -2;\n                overrides.attributes.intuition = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'flight', 'unarmed_combat');\n                break;\n            case 'toxic_man':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = -2;\n                overrides.attributes.intuition = 1;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'spell_casting', 'unarmed_combat');\n                break;\n            case 'toxic_water':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 2;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n\n            case 'blood':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = 2;\n                overrides.attributes.strength = 2;\n                overrides.attributes.logic = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'running', 'unarmed_combat');\n                break;\n\n            case 'muse':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'nightmare':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'shade':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'succubus':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'wraith':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n\n            case 'shedim':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 1;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'master_shedim':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 1;\n                overrides.attributes.logic = 1;\n                overrides.attributes.intuition = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'counterspelling', 'perception', 'spellcasting', 'unarmed_combat');\n                break;\n\n            // insect\n            case 'caretaker':\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 1;\n                overrides.init = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'leadership', 'perception', 'unarmed_combat');\n                break;\n            case 'nymph':\n                overrides.attributes.body = 1;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'gymnastics', 'spellcasting', 'unarmed_combat');\n                break;\n            case 'scout':\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 2;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'gymnastics', 'sneaking', 'unarmed_combat');\n                break;\n            case 'soldier':\n                overrides.attributes.body = 3;\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 1;\n                overrides.attributes.strength = 3;\n                overrides.init = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'counterspelling', 'exotic_range', 'gymnastics', 'perception', 'unarmed_combat');\n                break;\n            case 'worker':\n                overrides.attributes.strength = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'queen':\n                overrides.attributes.body = 5;\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 4;\n                overrides.attributes.strength = 5;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.logic = 1;\n                overrides.attributes.intuition = 1;\n                overrides.init = 5;\n                overrides.skills.push(\n                    'assensing',\n                    'astral_combat',\n                    'con',\n                    'counterspelling',\n                    'gymnastics',\n                    'leadership',\n                    'negotiation',\n                    'perception',\n                    'spellcasting',\n                    'unarmed_combat',\n                );\n                break;\n        }\n        return overrides;\n    }\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport SR5SpriteType = Shadowrun.SR5SpriteType;\nimport SpriteActorData = Shadowrun.SpriteActorData;\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { MatrixPrep } from './functions/MatrixPrep';\nimport SpriteType = Shadowrun.SpriteType;\nimport { Helpers } from '../../helpers';\nimport { PartsList } from '../../parts/PartsList';\n\n/**\n * Prepare a Sprite Type of Actor\n */\nexport class SpritePrep extends BaseActorPrep<SR5SpriteType, SpriteActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n        ModifiersPrep.clearAttributeMods(this.data);\n\n        SpritePrep.prepareSpriteData(this.data);\n        MatrixPrep.prepareAttributesForDevice(this.data);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        MatrixPrep.prepareMatrixToLimitsAndAttributes(this.data);\n\n        InitiativePrep.prepareCurrentInitiative(this.data);\n\n        this.data.special = 'resonance';\n    }\n\n    /**\n     * Prepares basic Sprite specific data\n     * - matrix attribute values\n     * - device rating\n     * - matrix condition monitor\n     * - matrix initiative\n     * - skills\n     * @param data\n     */\n    static prepareSpriteData(data: SpriteActorData) {\n        const { level, skills, matrix, spriteType, initiative, attributes, modifiers } = data;\n\n        const matrixAtts = ['attack', 'sleaze', 'data_processing', 'firewall'];\n\n        const overrides = this.getSpriteStatModifiers(spriteType);\n\n        // apply the matrix overrides\n        matrixAtts.forEach((att) => {\n            if (matrix[att] !== undefined) {\n                matrix[att].base = level + overrides[att];\n                matrix[att].value = Helpers.calcTotal(matrix[att]);\n            }\n        });\n\n        // setup initiative from overrides\n        initiative.matrix.base.base = level * 2 + overrides.init;\n        PartsList.AddUniquePart(initiative.matrix.base.mod, 'SR5.Bonus', modifiers['matrix_initiative']);\n        Helpers.calcTotal(initiative.matrix.base);\n\n        initiative.matrix.dice.base = 4;\n        PartsList.AddUniquePart(initiative.matrix.dice.mod, 'SR5.Bonus', modifiers['matrix_initiative_dice']);\n        Helpers.calcTotal(initiative.matrix.dice);\n\n        // always in matrix perception\n        initiative.perception = 'matrix';\n\n        // calculate resonance value\n        attributes.resonance.base = level + overrides.resonance;\n        Helpers.calcTotal(attributes.resonance);\n\n        // apply skill levels\n        // clear skills that we don't have\n        for (const [skillId, skill] of Object.entries(skills.active)) {\n            skill.base = overrides.skills.find((s) => s === skillId) ? level : 0;\n        }\n\n        matrix.rating = level;\n        matrix.condition_monitor.max = 8 + Math.ceil(level / 2);\n    }\n\n    /**\n     * Get the stat modifiers for the specified type of sprite\n     * @param spriteType\n     */\n    static getSpriteStatModifiers(spriteType: SpriteType) {\n        const overrides = {\n            attack: 0,\n            sleaze: 0,\n            data_processing: 0,\n            firewall: 0,\n            resonance: 0,\n            init: 0,\n            // all sprites have computer\n            skills: ['computer'],\n        };\n        switch (spriteType) {\n            case 'courier':\n                overrides.sleaze = 3;\n                overrides.data_processing = 1;\n                overrides.firewall = 2;\n                overrides.init = 1;\n                overrides.skills.push('hacking');\n                break;\n            case 'crack':\n                overrides.sleaze = 3;\n                overrides.data_processing = 2;\n                overrides.firewall = 1;\n                overrides.init = 2;\n                overrides.skills.push('hacking', 'electronic_warfare');\n                break;\n            case 'data':\n                overrides.attack = -1;\n                overrides.data_processing = 4;\n                overrides.firewall = 1;\n                overrides.init = 4;\n                overrides.skills.push('electronic_warfare');\n                break;\n            case 'fault':\n                overrides.attack = 3;\n                overrides.data_processing = 1;\n                overrides.firewall = 2;\n                overrides.init = 1;\n                overrides.skills.push('cybercombat', 'hacking');\n                break;\n            case 'machine':\n                overrides.attack = 1;\n                overrides.data_processing = 3;\n                overrides.firewall = 2;\n                overrides.init = 3;\n                overrides.skills.push('electronic_warfare', 'hardware');\n                break;\n        }\n        return overrides;\n    }\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport SR5VehicleType = Shadowrun.SR5VehicleType;\nimport VehicleActorData = Shadowrun.VehicleActorData;\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { MatrixPrep } from './functions/MatrixPrep';\nimport { Helpers } from '../../helpers';\nimport { PartsList } from '../../parts/PartsList';\n\nexport class VehiclePrep extends BaseActorPrep<SR5VehicleType, VehicleActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n        ModifiersPrep.clearAttributeMods(this.data);\n\n        VehiclePrep.prepareVehicleStats(this.data);\n        VehiclePrep.prepareAttributes(this.data);\n        VehiclePrep.prepareLimits(this.data);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        VehiclePrep.prepareConditionMonitor(this.data);\n\n        MatrixPrep.prepareMatrixToLimitsAndAttributes(this.data);\n        MatrixPrep.prepareAttributesForDevice(this.data);\n\n        VehiclePrep.prepareMovement(this.data);\n\n        VehiclePrep.prepareMeatspaceInit(this.data);\n        InitiativePrep.prepareMatrixInit(this.data);\n        InitiativePrep.prepareCurrentInitiative(this.data);\n\n        VehiclePrep.prepareArmor(this.data);\n    }\n\n    static prepareVehicleStats(data: VehicleActorData) {\n        const { vehicle_stats, isOffRoad } = data;\n        // set the value for the stats\n        for (let [key, stat] of Object.entries(vehicle_stats)) {\n            // this turns the Object model into the list mod\n            if (typeof stat.mod === 'object') {\n                stat.mod = new PartsList(stat.mod).list;\n            }\n            const parts = new PartsList(stat.mod);\n\n            parts.addUniquePart('SR5.Temporary', stat.temp ?? 0);\n\n            stat.mod = parts.list;\n            Helpers.calcTotal(stat);\n            // add labels\n            stat.label = CONFIG.SR5.vehicle.stats[key];\n        }\n\n        // hide certain stats depending on if we're offroad\n        if (isOffRoad) {\n            vehicle_stats.off_road_speed.hidden = false;\n            vehicle_stats.off_road_handling.hidden = false;\n            vehicle_stats.speed.hidden = true;\n            vehicle_stats.handling.hidden = true;\n        } else {\n            vehicle_stats.off_road_speed.hidden = true;\n            vehicle_stats.off_road_handling.hidden = true;\n            vehicle_stats.speed.hidden = false;\n            vehicle_stats.handling.hidden = false;\n        }\n    }\n\n    static prepareAttributes(data: VehicleActorData) {\n        const { attributes, vehicle_stats } = data;\n\n        const attributeIds = ['agility', 'reaction', 'strength', 'willpower', 'logic', 'intuition', 'charisma'];\n\n        const totalPilot = Helpers.calcTotal(vehicle_stats.pilot);\n\n        attributeIds.forEach((attId) => {\n            if (attributes[attId] !== undefined) {\n                attributes[attId].base = totalPilot;\n            }\n        });\n    }\n\n    static prepareLimits(data: VehicleActorData) {\n        const { limits, vehicle_stats, isOffRoad } = data;\n\n        limits.mental.base = Helpers.calcTotal(vehicle_stats.sensor);\n\n        // add sensor, handling, and speed as limits\n        limits.sensor = { ...vehicle_stats.sensor, hidden: true };\n        limits.handling = { ...(isOffRoad ? vehicle_stats.off_road_handling : vehicle_stats.handling), hidden: true };\n        limits.speed = { ...(isOffRoad ? vehicle_stats.off_road_speed : vehicle_stats.speed), hidden: true };\n    }\n\n    static prepareConditionMonitor(data: VehicleActorData) {\n        const { track, attributes, matrix, isDrone, modifiers } = data;\n\n        const halfBody = Math.ceil(Helpers.calcTotal(attributes.body) / 2);\n        // CRB pg 199 drone vs vehicle physical condition monitor rules\n        if (isDrone) {\n            track.physical.base = 6 + halfBody;\n            track.physical.max = track.physical.base + (Number(modifiers['physical_track']) || 0);\n        } else {\n            track.physical.base = 12 + halfBody;\n            track.physical.max =  track.physical.base + (Number(modifiers['physical_track']) || 0);\n        }\n        track.physical.label = CONFIG.SR5.damageTypes.physical;\n\n        const rating = matrix.rating || 0;\n        matrix.condition_monitor.max = 8 + Math.ceil(rating / 2);\n    }\n\n    static prepareMovement(data: VehicleActorData) {\n        const { vehicle_stats, movement, isOffRoad } = data;\n\n        let speedTotal = Helpers.calcTotal(isOffRoad ? vehicle_stats.off_road_speed : vehicle_stats.speed);\n\n        // algorithm to determine speed, CRB pg 202 table\n        movement.walk.base = 5 * Math.pow(2, speedTotal - 1);\n        movement.walk.value = movement.walk.base;\n\n        movement.run.base = 10 * Math.pow(2, speedTotal - 1);\n        movement.run.value = movement.run.base;\n    }\n\n    static prepareMeatspaceInit(data: VehicleActorData) {\n        const { vehicle_stats, initiative } = data;\n\n        const pilot = Helpers.calcTotal(vehicle_stats.pilot);\n\n        initiative.meatspace.base.base = pilot * 2;\n        initiative.meatspace.dice.base = 4;\n        Helpers.calcTotal(initiative.meatspace.base);\n        Helpers.calcTotal(initiative.meatspace.dice);\n    }\n\n    static prepareArmor(data: VehicleActorData) {\n        const { armor } = data;\n        armor.mod = PartsList.AddUniquePart(armor.mod, 'SR5.Temporary', armor['temp']);\n        Helpers.calcTotal(armor);\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { PartsList } from '../../../parts/PartsList';\nimport { Helpers } from '../../../helpers';\nimport {SR} from \"../../../constants\";\n\nexport class AttributesPrep {\n    /**\n     * Prepare actor data for attributes\n     */\n    static prepareAttributes(data: SR5ActorData) {\n        const { attributes } = data;\n\n        // always have special attributes set to hidden\n        attributes.magic.hidden = true;\n        attributes.resonance.hidden = true;\n        attributes.edge.hidden = true;\n        attributes.essence.hidden = true;\n\n        // set the value for the attributes\n        for (let [key, attribute] of Object.entries(attributes)) {\n            // don't manage the attribute if it is using the old method of edge tracking\n            // needed to be able to migrate things correctly\n            if (key === 'edge' && attribute['uses'] === undefined) return;\n            const parts = new PartsList(attribute.mod);\n\n            attribute.mod = parts.list;\n\n            // Each attribute can have a unique value range.\n            // TODO:  Implement metatype attribute value ranges for character actors.\n            const range = SR.attributes.ranges[key];\n            Helpers.calcTotal(attribute, range);\n\n            // add i18n labels.\n            attribute.label = CONFIG.SR5.attributes[key];\n        }\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport PhysicalTrackActorData = Shadowrun.PhysicalTrackActorData;\nimport StunTrackActorData = Shadowrun.StunTrackActorData;\nimport TwoTrackActorData = Shadowrun.TwoTrackActorData;\n\nexport class ConditionMonitorsPrep {\n    static prepareStun(data: SR5ActorData & StunTrackActorData) {\n        const { track, attributes, modifiers } = data;\n\n        track.stun.base = 8 + Math.ceil(attributes.willpower.value / 2);\n        track.stun.max = track.stun.base + Number(modifiers['stun_track']);\n        track.stun.label = CONFIG.SR5.damageTypes.stun;\n        track.stun.disabled = false;\n    }\n\n    static preparePhysical(data: SR5ActorData & PhysicalTrackActorData) {\n        const { track, attributes, modifiers } = data;\n\n        track.physical.base = 8 + Math.ceil(attributes.body.value / 2);\n        track.physical.max = track.physical.base + Number(modifiers['physical_track']);\n        track.physical.overflow.max = attributes.body.value;\n        track.physical.label = CONFIG.SR5.damageTypes.physical;\n        track.physical.disabled = false;\n    }\n\n    static prepareGrunt(data: SR5ActorData & TwoTrackActorData) {\n        // Grunts use only one monitor, use physical to get overflow functionality.\n        ConditionMonitorsPrep.prepareStun(data);\n\n        const { track, attributes, modifiers } = data;\n        // Overwrite stun damage to avoid invisible damage modifiers.\n        track.stun.value = 0;\n        track.stun.disabled = true;\n\n        // Grunts use either their WIL or BOD as their monitors attribute.\n        const attribute = attributes.willpower.value > attributes.body.value ?\n            attributes.willpower:\n            attributes.body;\n\n        track.physical.base = 8 + Math.ceil(attribute.value / 2);\n        track.physical.max = track.physical.base + Number(modifiers['physical_track']);\n        track.physical.overflow.max = attributes.body.value;\n        track.physical.label = \"SR5.ConditionMonitor\";\n        track.physical.disabled = false;\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport MagicActorData = Shadowrun.MagicActorData;\nimport MatrixActorData = Shadowrun.MatrixActorData;\nimport { Helpers } from '../../../helpers';\nimport { PartsList } from '../../../parts/PartsList';\n\nexport class InitiativePrep {\n    static prepareCurrentInitiative(data: SR5ActorData) {\n        const { initiative } = data;\n\n        if (initiative.perception === 'matrix') initiative.current = initiative.matrix;\n        else if (initiative.perception === 'astral') initiative.current = initiative.astral;\n        else {\n            initiative.current = initiative.meatspace;\n            initiative.perception = 'meatspace';\n        }\n\n        initiative.current.dice.value = Helpers.calcTotal(initiative.current.dice);\n        if (initiative.edge) initiative.current.dice.value = 5;\n        initiative.current.dice.value = Math.min(5, initiative.current.dice.value); // maximum of 5d6 for initiative\n        initiative.current.dice.text = `${initiative.current.dice.value}d6`;\n\n        initiative.current.base.value = Helpers.calcTotal(initiative.current.base);\n    }\n\n    static prepareMeatspaceInit(data: SR5ActorData) {\n        const { initiative, attributes, modifiers } = data;\n\n        initiative.meatspace.base.base = attributes.intuition.value + attributes.reaction.value;\n        initiative.meatspace.base.mod = PartsList.AddUniquePart(initiative.meatspace.base.mod, \"SR5.Bonus\", Number(modifiers['meat_initiative']));\n\n        initiative.meatspace.dice.base = 1;\n        initiative.meatspace.dice.mod = PartsList.AddUniquePart(initiative.meatspace.dice.mod, \"SR5.Bonus\", Number(modifiers['meat_initiative_dice']));\n    }\n\n    static prepareAstralInit(data: SR5ActorData & MagicActorData) {\n        const { initiative, attributes, modifiers } = data;\n\n        initiative.astral.base.base = attributes.intuition.value * 2;\n        initiative.astral.base.mod = PartsList.AddUniquePart(initiative.astral.base.mod, \"SR5.Bonus\", Number(modifiers['astral_initiative']));\n\n        initiative.astral.dice.base = 2;\n        initiative.astral.dice.mod = PartsList.AddUniquePart(initiative.astral.dice.mod, \"SR5.Bonus\", Number(modifiers['astral_initiative_dice']));\n    }\n\n    static prepareMatrixInit(data: SR5ActorData & MatrixActorData) {\n        const { initiative, attributes, modifiers, matrix } = data;\n        if (matrix) {\n\n            initiative.matrix.base.base = attributes.intuition.value + data.matrix.data_processing.value;\n            initiative.matrix.base.mod = PartsList.AddUniquePart(initiative.matrix.base.mod, \"SR5.Bonus\", Number(modifiers['matrix_initiative']));\n\n            initiative.matrix.dice.base = (matrix.hot_sim ? 4 : 3);\n            initiative.matrix.dice.mod = PartsList.AddUniquePart(initiative.matrix.dice.mod, \"SR5.Bonus\", Number(modifiers['matrix_initiative_dice']));\n        }\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { SR5ItemDataWrapper } from '../../../item/SR5ItemDataWrapper';\nimport { Helpers } from '../../../helpers';\nimport { PartsList } from '../../../parts/PartsList';\nimport ArmorActorData = Shadowrun.ArmorActorData;\n\nexport class ItemPrep {\n    /**\n     * Prepare the armor data for the Item\n     * - will only allow one \"Base\" armor item to be used\n     * - all \"accessories\" will be added to the armor\n     */\n    static prepareArmor(data: SR5ActorData & ArmorActorData, items: SR5ItemDataWrapper[]) {\n        const { armor } = data;\n        armor.base = 0;\n        armor.value = 0;\n        armor.mod = [];\n        for (const element of Object.keys(CONFIG.SR5.elementTypes)) {\n            armor[element] = 0;\n        }\n\n        const armorModParts = new PartsList<number>(armor.mod);\n        const equippedArmor = items.filter((item) => item.couldHaveArmor() && item.isEquipped());\n        equippedArmor?.forEach((item) => {\n            // Don't spam armor values with clothing or armor like items without any actual armor.\n            if (item.hasArmor()) {\n                // Apply armor base and accessory values.\n                if (item.hasArmorAccessory()) {\n                    armorModParts.addUniquePart(item.getName(), item.getArmorValue());\n                }\n                else {\n                    armor.base = item.getArmorValue();\n                    armor.label = item.getName();\n                }\n            }\n\n            // Apply elemental modifiers of all worn armor and clothing SR5#169.\n            for (const element of Object.keys(CONFIG.SR5.elementTypes)) {\n                armor[element] += item.getArmorElements()[element];\n            }\n        });\n\n        if (data.modifiers['armor']) armorModParts.addUniquePart(game.i18n.localize('SR5.Bonus'), data.modifiers['armor']);\n        // SET ARMOR\n        armor.value = Helpers.calcTotal(armor);\n    }\n    /**\n     * Prepare actor data for ware changes\n     * - this calculates the actors essence\n     */\n    static prepareBodyware(data: SR5ActorData, items: SR5ItemDataWrapper[]) {\n        const { attributes } = data;\n        const parts = new PartsList<number>();\n        // add Items as values to lower the total value of essence\n        items\n            .filter((item) => item.isBodyware() && item.isEquipped())\n            .forEach((item) => {\n                if (item.getEssenceLoss()) {\n                    parts.addUniquePart(item.getName(), -Number(item.getEssenceLoss()));\n                }\n            });\n        // add the bonus from the misc tab if applied\n        const essenceMod = data.modifiers['essence'];\n        if (essenceMod && !Number.isNaN(essenceMod)) {\n            parts.addUniquePart('SR5.Bonus', Number(essenceMod));\n        }\n\n        attributes.essence.base = 6;\n        attributes.essence.mod = parts.list;\n        attributes.essence.value = Helpers.calcTotal(attributes.essence);\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { PartsList } from '../../../parts/PartsList';\nimport { Helpers } from '../../../helpers';\n\nexport class LimitsPrep {\n    static prepareLimits(data: SR5ActorData) {\n        const { limits, modifiers } = data;\n\n        // SETUP LIMITS\n        limits.physical.mod = PartsList.AddUniquePart(limits.physical.mod, 'SR5.Bonus', Number(modifiers['physical_limit']));\n        limits.mental.mod = PartsList.AddUniquePart(limits.mental.mod, 'SR5.Bonus', Number(modifiers['mental_limit']));\n        limits.social.mod = PartsList.AddUniquePart(limits.social.mod, \"SR5.Bonus\", Number(modifiers['social_limit']));\n\n        // limit labels\n        for (let [limitKey, limitValue] of Object.entries(limits)) {\n            Helpers.calcTotal(limitValue);\n            limitValue.label = CONFIG.SR5.limits[limitKey];\n        }\n    }\n\n    static prepareLimitBaseFromAttributes(data: SR5ActorData) {\n\n        const { limits, attributes } = data;\n\n        limits.physical.base = Math.ceil((2 * attributes.strength.value + attributes.body.value + attributes.reaction.value) / 3);\n        limits.mental.base = Math.ceil((2 * attributes.logic.value + attributes.intuition.value + attributes.willpower.value) / 3);\n        limits.social.base = Math.ceil((2 * attributes.charisma.value + attributes.willpower.value + attributes.essence.value) / 3);\n\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport MatrixActorData = Shadowrun.MatrixActorData;\nimport { Helpers } from '../../../helpers';\nimport { SR5ItemDataWrapper } from '../../../item/SR5ItemDataWrapper';\nimport { PartsList } from '../../../parts/PartsList';\n\nexport class MatrixPrep {\n    /**\n     * Prepare Matrix data on the actor\n     * - if an item is equipped, it will use that data\n     * - if it isn't and player is technomancer, it will use that data\n     */\n    static prepareMatrix(actorData: SR5ActorData & MatrixActorData, items: SR5ItemDataWrapper[]) {\n        const { matrix, attributes } = actorData;\n\n        const MatrixList = ['firewall', 'sleaze', 'data_processing', 'attack'];\n\n        // clear matrix data to defaults\n        MatrixList.forEach((key) => {\n            const parts = new PartsList(matrix[key].mod);\n            parts.addUniquePart('SR5.Temporary', matrix[key].temp);\n            // TODO LEGACY from when the sheet used 'mod.Temporary'\n            parts.removePart('Temporary');\n            matrix[key].mod = parts.list;\n            matrix[key].value = parts.total;\n        });\n        matrix.condition_monitor.max = 0;\n        matrix.rating = 0;\n        matrix.name = '';\n        matrix.device = '';\n        matrix.condition_monitor.label = 'SR5.ConditionMonitor';\n\n        // get the first equipped device, we don't care if they have more equipped -- it shouldn't happen\n        const device = items.find((item) => item.isEquipped() && item.isDevice());\n\n        if (device) {\n            const conditionMonitor = device.getConditionMonitor();\n            matrix.device = device.getId();\n            matrix.condition_monitor.max = conditionMonitor.max;\n            matrix.condition_monitor.value = conditionMonitor.value;\n            matrix.rating = device.getRating();\n            matrix.is_cyberdeck = device.isCyberdeck();\n            matrix.name = device.getName();\n            matrix.item = device.getData();\n            const deviceAtts = device.getASDF();\n            if (deviceAtts) {\n                // setup the actual matrix attributes for the actor\n                for (const [key, value] of Object.entries(deviceAtts)) {\n                    if (value && matrix[key]) {\n                        matrix[key].base = value.value;\n                        matrix[key].device_att = value.device_att;\n                    }\n                }\n            }\n        } // if we don't have a device, use living persona\n        else if (actorData.special === 'resonance') {\n            matrix.firewall.base = Helpers.calcTotal(attributes.willpower);\n            matrix.data_processing.base = Helpers.calcTotal(attributes.logic);\n            matrix.rating = Helpers.calcTotal(attributes.resonance);\n            matrix.attack.base = Helpers.calcTotal(attributes.charisma);\n            matrix.sleaze.base = Helpers.calcTotal(attributes.intuition);\n            matrix.name = game.i18n.localize('SR5.LivingPersona');\n        }\n\n        // set matrix condition monitor to max if greater than\n        if (matrix.condition_monitor.value > matrix.condition_monitor.max) {\n            matrix.condition_monitor.value = matrix.condition_monitor.max;\n        }\n    }\n\n    /**\n     * Add Matrix Attributes to Limits and Attributes\n     * @param data\n     */\n    static prepareMatrixToLimitsAndAttributes(data: SR5ActorData & MatrixActorData) {\n        const { matrix, attributes, limits } = data;\n        const MatrixList = ['firewall', 'sleaze', 'data_processing', 'attack'];\n\n        // add matrix attributes to both limits and attributes as hidden entries\n        MatrixList.forEach((key) => {\n            Helpers.calcTotal(matrix[key]);\n            if (matrix[key]) {\n                const label = CONFIG.SR5.matrixAttributes[key];\n                const { value, base, mod } = matrix[key];\n                const hidden = true;\n\n                limits[key] = {\n                    value,\n                    base,\n                    mod,\n                    label,\n                    hidden,\n                };\n                attributes[key] = {\n                    value,\n                    base,\n                    mod,\n                    label,\n                    hidden,\n                };\n            }\n        });\n    }\n\n    /**\n     * Prepare the mental attributes for a sheet that just has a device rating\n     * @param data\n     */\n    static prepareAttributesForDevice(data: SR5ActorData & MatrixActorData) {\n        const { matrix, attributes } = data;\n        const rating = matrix.rating || 0;\n        const mentalAttributes = ['intuition', 'logic', 'charisma', 'willpower'];\n\n        mentalAttributes.forEach((attLabel) => {\n            if (attributes[attLabel] !== undefined) {\n                attributes[attLabel].base = rating;\n                Helpers.calcTotal(attributes[attLabel]);\n            }\n        });\n        const basic = ['firewall', 'data_processing'];\n        basic.forEach((attId) => {\n            matrix[attId].base = rating;\n        });\n        [...basic, 'sleaze', 'attack'].forEach((attId) => {\n            Helpers.calcTotal(matrix[attId]);\n        });\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\n\nexport class ModifiersPrep {\n    /**\n     * Prepare the modifiers that are displayed in the Misc. tab\n     */\n    static prepareModifiers(data: SR5ActorData) {\n        if (!data.modifiers) data.modifiers = {};\n        const modifiers = {};\n        let miscTabModifiers = [\n            'soak',\n            'drain',\n            'armor',\n            'physical_limit',\n            'social_limit',\n            'mental_limit',\n            'stun_track',\n            'physical_track',\n            'meat_initiative',\n            'meat_initiative_dice',\n            'astral_initiative',\n            'astral_initiative_dice',\n            'matrix_initiative',\n            'matrix_initiative_dice',\n            'composure',\n            'lift_carry',\n            'judge_intentions',\n            'memory',\n            'walk',\n            'run',\n            'defense',\n            'wound_tolerance',\n            'essence',\n            'fade',\n        ];\n        miscTabModifiers.sort();\n        // force global to the top\n        miscTabModifiers.unshift('global');\n\n        for (let item of miscTabModifiers) {\n            modifiers[item] = Number(data.modifiers[item]) || 0;\n        }\n\n        data.modifiers = modifiers;\n    }\n\n    static clearAttributeMods(data: SR5ActorData) {\n        const { attributes } = data;\n        for (const [, attribute] of Object.entries(attributes)) {\n            attribute.mod = [];\n        }\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport MovementActorData = Shadowrun.MovementActorData;\n\nexport class MovementPrep {\n    static prepareMovement(data: SR5ActorData & MovementActorData) {\n        const { attributes, modifiers } = data;\n        const movement = data.movement;\n        // default movement: WALK = AGI * 2, RUN = AGI * 4\n        movement.walk.value = attributes.agility.value * (2 + Number(modifiers['walk']));\n        movement.run.value = attributes.agility.value * (4 + Number(modifiers['run']));\n    }\n}\n","import CharacterActorData = Shadowrun.CharacterActorData;\nimport {DataTemplates} from \"../../../dataTemplates\";\nimport {Helpers} from \"../../../helpers\";\nimport {METATYPEMODIFIER} from \"../../../constants\";\nimport {PartsList} from \"../../../parts/PartsList\";\n\nexport class NPCPrep {\n    static prepareNPCData(data: CharacterActorData) {\n        // Apply to NPC and none NPC to remove lingering modifiers after actor has been removed it's npc status.\n        NPCPrep.applyMetatypeModifiers(data);\n    }\n\n    /** Replace current metatype modifiers with, even if nothing has changed.\n     *\n     */\n    static applyMetatypeModifiers(data: CharacterActorData) {\n        const {metatype} = data;\n        let modifiers = DataTemplates.grunt.metatype_modifiers[metatype];\n        modifiers = modifiers ? modifiers : {};\n\n        const {attributes} = data;\n\n        for (const [attId, attribute] of Object.entries(attributes)) {\n            // old-style object mod transformation is happening in AttributePrep and is needed here. Order is important.\n            if (!Array.isArray(attribute.mod)) {\n                    console.error('Actor data contains wrong data type for attribute.mod', attribute, !Array.isArray(attribute.mod));\n            } else {\n                const modifyBy = modifiers?.attributes?.[attId];\n                const parts = new PartsList(attribute.mod);\n                parts.removePart(METATYPEMODIFIER);\n\n                if (data.is_npc && modifyBy) {\n                    parts.addPart(METATYPEMODIFIER, modifyBy);\n                }\n\n                attribute.mod = parts.list;\n\n                // Don't modify attribute below one.\n                // TODO: Use a SR5.Values.Attribute calculation to avoid duplication.\n                Helpers.calcTotal(attribute, {min: 1});\n            }\n        }\n    }\n\n    static AddNPCMetatypeAttributeModifier(value) {\n        return {\n            name: METATYPEMODIFIER,\n            value: value as number\n        }\n    }\n}","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { Helpers } from '../../../helpers';\nimport { PartsList } from '../../../parts/PartsList';\nimport SkillField = Shadowrun.SkillField;\n\nexport class SkillsPrep {\n    /**\n     * Prepare actor data for skills\n     */\n    static prepareSkills(data: SR5ActorData) {\n        const { language, active, knowledge } = data.skills;\n        if (language) {\n            if (!language.value) {\n                language.value = {};\n            }\n\n            // language.value is defined as an array in template.json \n            // However what we actually want here is an object, so we set it manually\n            // The same is done for the other knowledge skillgroups 'value' properties below\n            if (Array.isArray(language.value) && language.value.length == 0) {\n                language.value = {};\n            }\n\n            language.attribute = 'intuition';\n        }\n\n        // function that will set the total of a skill correctly\n        const prepareSkill = (skill) => {\n            skill.mod = [];\n            if (!skill.base) skill.base = 0;\n            if (skill.bonus?.length) {\n                for (let bonus of skill.bonus) {\n                    skill.mod = PartsList.AddUniquePart(skill.mod, bonus.key, Number(bonus.value));\n                }\n            }\n            skill.value = Helpers.calcTotal(skill);\n\n            // Older Chummer imports miss some fields.\n            _mergeWithMissingSkillFields(skill);\n        };\n\n        // setup active skills\n        for (const skill of Object.values(active)) {\n            if (!skill.hidden) {\n                prepareSkill(skill);\n            }\n        }\n  \n        const entries = Object.entries(data.skills.language.value);\n        // remove entries which are deleted TODO figure out how to delete these from the data\n        entries.forEach(([key, val]: [string, { _delete?: boolean }]) => val._delete && delete data.skills.language.value[key]);\n\n        for (let skill of Object.values(language.value)) {\n            prepareSkill(skill);\n            skill.attribute = 'intuition';\n        }\n\n        // setup knowledge skills\n        for (let [, group] of Object.entries(knowledge)) {\n            const entries = Object.entries(group.value);\n            // remove entries which are deleted TODO figure out how to delete these from the data\n            group.value = entries\n                .filter(([, val]) => !val._delete)\n                .reduce((acc, [id, skill]) => {\n                    prepareSkill(skill);\n\n                    // set the attribute on the skill\n                    skill.attribute = group.attribute;\n                    acc[id] = skill;\n                    return acc;\n                }, {});\n        }\n\n        // skill labels\n        for (let [skillKey, skillValue] of Object.entries(active)) {\n            skillValue.label = CONFIG.SR5.activeSkills[skillKey];\n        }\n    }\n}\n\n/** Just a quick, semi hacky way of setting up a complete skill data structure, while still allowing\n *  fields to be added at need.\n *\n * @param givenSkill\n * @return merge default skill fields with fields of the given field, only adding new fields in the process.\n */\nexport const _mergeWithMissingSkillFields = (givenSkill) => {\n    // Only the absolute most necessary fields, not datatype complete to SkillField\n    const template = {\n        name: \"\",\n        base: \"\",\n        value: 0,\n        attribute: \"\",\n        mod: [],\n        specs: [],\n        hidden: false\n    };\n\n    // Use mergeObject to reserve original object instance in case replacing it\n    // causes problems down the line with active skills taken from a preexisting\n    // data structure.\n    // overwrite false to prohibit existing values to be overwritten with empty values.\n    mergeObject(givenSkill, template, {overwrite: false});\n}","import SR5ActorData = Shadowrun.SR5ActorData;\nimport TwoTrackActorData = Shadowrun.TwoTrackActorData;\nimport WoundsActorData = Shadowrun.WoundsActorData;\n\nexport class WoundsPrep {\n    static prepareWounds(data: SR5ActorData & TwoTrackActorData & WoundsActorData) {\n        const { modifiers, track } = data;\n        const count = 3 + Number(modifiers['wound_tolerance']);\n        const stunWounds = track.stun.disabled ? 0 : Math.floor(track.stun.value / count);\n        const physicalWounds = track.physical.disabled ? 0 : Math.floor(track.physical.value / count);\n\n        track.stun.wounds = stunWounds;\n        track.physical.wounds = physicalWounds;\n\n        data.wounds = {\n            value: stunWounds + physicalWounds,\n        };\n    }\n}\n","import {FLAGS, SYSTEM_NAME} from \"../constants\";\n\nexport class ChangelogApplication extends Application {\n    get template(): string {\n        return 'systems/shadowrun5e/dist/templates/apps/changelog.html';\n    }\n\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.classes = ['shadowrun5e'];\n        options.title = game.i18n.localize('SR5.ChangelogApplication.Title');\n        options.width = 500;\n        options.height = 'auto';\n        return options;\n    }\n\n    render(force?: boolean, options?: Application.RenderOptions): Application {\n        ChangelogApplication.setRenderForCurrentVersion();\n        return super.render(force, options);\n    }\n\n    // Let the async operation happen in background.\n    private static setRenderForCurrentVersion() {\n        game.user.setFlag(SYSTEM_NAME, FLAGS.ChangelogShownForVersion, game.system.data.version);\n    }\n\n    static get showApplication(): boolean {\n        if (!game.user.isGM || !game.user.isTrusted) return false;\n\n        const shownForVersion = game.user.getFlag(SYSTEM_NAME, FLAGS.ChangelogShownForVersion);\n        return shownForVersion !== game.system.data.version;\n    }\n}","import {SYSTEM_NAME} from \"../constants\";\nimport {Helpers} from \"../helpers\";\nimport {SR5Actor} from \"../actor/SR5Actor\";\nimport {Modifiers} from \"../sr5/Modifiers\";\nimport EnvironmentalModifierCategories = Shadowrun.EnvironmentalModifierCategories;\n\nexport type EnvModifiersTarget = Scene | SR5Actor;\n\n/** Helper window for easy overview and selection of environmental modifiers and their calculated total.\n *\n */\nexport class EnvModifiersApplication extends Application {\n    target: EnvModifiersTarget;\n    modifiers: Modifiers;\n\n    constructor(target: EnvModifiersTarget) {\n        super();\n\n        this.target = target;\n    }\n\n    get template() {\n        return 'systems/shadowrun5e/dist/templates/apps/env-modifiers.html';\n    }\n\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.classes = ['sr5', 'form-dialog'];\n        options.id = 'env-modifiers-application';\n        options.title = game.i18n.localize('SR5.EnvModifiersApplication.Title');\n        options.width = 'auto'; // auto is important for differing i18n text length.\n        options.height = 'auto';\n        options.resizable = true;\n        return options;\n    }\n\n    async getData(options?: object): Promise<any> {\n        const data = super.getData(options);\n\n        this.modifiers = await this._getModifiers();\n\n        data.active = this.modifiers.environmental.active;\n        data.total = this.modifiers.environmental.total;\n\n        data.levels = Modifiers.getEnvironmentalModifierLevels();\n\n        data.targetType = this._getTargetTypeLabel();\n        data.targetName = this.target.name;\n        data.disableForm = this._disableInputsForUser();\n\n        return data;\n    }\n\n    protected activateListeners(html: JQuery | HTMLElement) {\n        $(html).find('button.env-modifier').on('click', this._handleModifierChange.bind(this));\n        $(html).find('button.remove-modifiers-from-target').on('click', this._handleRemoveModifiersFromTarget.bind(this));\n    }\n\n    async _handleModifierChange(event: Event) {\n        event.preventDefault();\n\n        // Handle data retrieval from HTML datasets.\n        const element = event.currentTarget as HTMLElement;\n\n        if (!element.dataset.category || !element.dataset.value) return;\n\n        const category = element.dataset.category as keyof EnvironmentalModifierCategories;\n        const value = Number(element.dataset.value);\n\n        // Handle modifier calculation\n        this._toggleActiveModifierCategory(category, value);\n\n        await this._clearModifiersOnTargetForNoSelection();\n        await this._storeModifiersOnTarget();\n\n        this._updateTokenHUDTotalDisplay();\n\n        await this.render();\n    }\n\n    /** Updates opened tokenHUD modifier values.\n     *\n     * Doing it this way is just easier as relying on any update / hook workflow.\n     */\n    _updateTokenHUDTotalDisplay() {\n        if (this.target instanceof SR5Actor) {\n            $('.modifier-value-environmental').each((index, element) => {\n                $(element).html(this.modifiers.environmental.total.toString());\n            });\n        }\n    }\n\n    async _handleRemoveModifiersFromTarget(event: Event) {\n        event.preventDefault();\n\n        await this.clearModifiersOnTarget();\n\n        this._updateTokenHUDTotalDisplay();\n\n        await this.render();\n    }\n\n    /**\n     */\n    _toggleActiveModifierCategory(category: keyof EnvironmentalModifierCategories, level: number) {\n        this.modifiers.toggleEnvironmentalCategory(category, level);\n    }\n\n    /** Return the modifiers that best match the current target type\n     */\n    async _getModifiers(): Promise<Modifiers> {\n        // Actor targets might have no personal modifiers, but still see the scene modifiers then, and use those\n        // as a template for their local modifiers.\n        if (this.target instanceof SR5Actor) {\n            return await this.target.getModifiers();\n        }\n        // All other types are handled without special cases.\n        return await Modifiers.getModifiersFromEntity(this.target);\n    }\n\n    async _storeModifiersOnTarget() {\n        await Modifiers.setModifiersOnEntity(this.target, this.modifiers.data);\n    }\n\n    /** Cleanup unused data in Entity flag.\n     */\n    async _clearModifiersOnTargetForNoSelection() {\n        if (!this.modifiers.hasActiveEnvironmental) {\n            this.modifiers = await Modifiers.clearEnvironmentalOnEntity(this.target);\n        }\n    }\n\n    async _targetHasEnvironmentalModifiers() {\n        const modifiers = await Modifiers.getModifiersFromEntity(this.target);\n        return !!modifiers.environmental;\n    }\n\n    async clearModifiersOnTarget() {\n        await Modifiers.clearEnvironmentalOnEntity(this.target);\n        // Refresh modifiers. This can be necessary for Actor targets without modifiers when Scene modifiers are present.\n        this.modifiers = await this._getModifiers();\n    }\n\n    _getTargetTypeLabel(): string {\n        if (this.target instanceof Scene) {\n            return game.i18n.localize('ENTITY.Scene');\n        }\n        if (this.target instanceof SR5Actor) {\n            return game.i18n.localize('ENTITY.Actor');\n        }\n\n        return '';\n    }\n\n    /** Only allow interactions for user with appropriate permissions\n     *\n     */\n    _disableInputsForUser(): boolean {\n        const entity = this.target instanceof SR5Actor ? this.target : this.target;\n        return !(game.user.isGM || entity.owner);\n    }\n\n    static async openForCurrentScene() {\n        if (!canvas.scene) return;\n        await new EnvModifiersApplication(canvas.scene).render(true);\n    }\n\n    /** Part of the tokenHUD workflow makes it necessary to have the token id piped in\n     *\n     * @param tokenId\n     */\n    static openForTokenHUD(tokenId: string) {\n        const token = Helpers.getToken(tokenId);\n\n        // When the token hud control is activated, this inline handler will be called with it.\n        return async (event) => {\n            event.preventDefault();\n\n            if (!token || !token.actor) return;\n\n            await new EnvModifiersApplication(token.actor).render(true);\n        }\n    }\n\n    /** Left side tool window control icon / interaction\n     */\n    static getControl() {\n        return {\n            name: 'environmental-modifiers-application',\n            title: 'CONTROLS.SR5.EnvironmentalModifiers',\n            icon: 'fas fa-list',\n            onClick: EnvModifiersApplication.openForCurrentScene,\n            button: true\n        }\n    }\n\n    // TODO: Implement system wide token HUD management...\n    static async addTokenHUDFields(app: TokenHUD, html: JQuery, data) {\n        if (!data._id) return;\n\n        console.log(`${SYSTEM_NAME} | Environmental Modifier HUD on renderTokenHUD`);\n\n        const token = Helpers.getToken(data._id);\n        if (!token) return;\n\n        const actor = token.actor as SR5Actor;\n        const modifiers = await actor.getModifiers();\n\n        // Setup and connect tokenHUD elements.\n        const container = $('<div class=\"col far-right sr-modifier-container\"></div>');\n        const column = $('<div class=\"col modifier-column\"></div>');\n        const modifier = $('<div class=\"modifier-row\"></div>');\n        const modifierValue = $(`<div class=\"modifier-value modifier-value-environmental\">${modifiers.environmental.total}</div>`);\n        const modifierDescription = $(`<div class=\"modifier-description open-environmental-modifier\">${game.i18n.localize(\"SR5.EnvironmentModifier\")}</div>`);\n        modifierDescription.on('click', EnvModifiersApplication.openForTokenHUD(data._id));\n\n        container.append(column);\n        column.append(modifier);\n        modifier.append(modifierValue);\n        modifier.append(modifierDescription);\n\n        // Connect SR-FoundryVTT tokenHUD elements to FoundryVTT tokenHUD column structure.\n        html.find('.col.right').after(container);\n    }\n}","import { parseDescription, getArray, parseTechnology, createItemData } from \"./BaseParserFunctions.js\"\n\nexport class ArmorParser {\n   \n    parseArmors(chummerChar) {\n        const armors = getArray(chummerChar.armors.armor);\n        const parsedArmors = [];\n        armors.forEach((chummerArmor) => {\n            try {\n                const itemData = this.parseArmor(chummerArmor);\n                parsedArmors.push(itemData);\n            } catch (e) {\n                console.error(e);\n            }\n        });\n\n        return parsedArmors;\n    }\n\n    parseArmor(chummerArmor) {\n        const data = {};\n        const armor = {};\n        data.armor = armor;\n\n        let desc = '';\n        armor.mod = chummerArmor.armor.includes('+');\n        armor.value = parseInt(chummerArmor.armor.replace('+', ''));\n        if (chummerArmor.description)\n            desc = chummerArmor.description;\n\n        console.log(chummerArmor);\n        if (chummerArmor.armormods && chummerArmor.armormods.armormod) {\n            armor.fire = 0;\n            armor.electricity = 0;\n            armor.cold = 0;\n            armor.acid = 0;\n            armor.radiation = 0;\n\n            const modDesc = [];\n            const mods = getArray(chummerArmor.armormods.armormod);\n            mods.forEach((mod) => {\n                if (mod.name.toLowerCase().includes('fire resistance')) {\n                    armor.fire += parseInt(mod.rating);\n                } else if (mod.name.toLowerCase().includes('nonconductivity')) {\n                    armor.electricity += parseInt(mod.rating);\n                } else if (mod.name.toLowerCase().includes('insulation')) {\n                    armor.cold += parseInt(mod.rating);\n                } else if (mod.name.toLowerCase().includes('radiation shielding')) {\n                    armor.radiation += parseInt(mod.rating);\n                }\n                if (mod.rating !== '') {\n                    modDesc.push(`${mod.name} R${mod.rating}`);\n                } else {\n                    modDesc.push(mod.name);\n                }\n            });\n            if (modDesc.length > 0) {\n                // add desc to beginning\n                desc = `${modDesc.join(',')}\\n\\n${desc}`;\n            }\n        }\n\n        data.technology = parseTechnology(chummerArmor);\n        data.description = parseDescription(chummerArmor);\n        \n        return createItemData(chummerArmor.name, 'armor', data);\n    }\n}","import { DefaultValues } from \"../../dataTemplates\";\n\nexport const getValues = (val) => {\n    const regex = /(-?[0-9]+)(?:([0-9]+))*/g;\n    const l = val.match(regex);\n    return l || ['0'];\n};\n\nexport const getArray = (value) => {\n    return Array.isArray(value) ? value : [value];\n};\n\n/**\n *  Creates the description data from the chummer entry\n *  @param chummerEntry The chummer entry (the item)\n */\nexport const parseDescription = (chummerEntry) => {\n    const parsedDescription = DefaultValues.descriptionData();\n\n    if (chummerEntry.source && chummerEntry.page) {\n        parsedDescription.source = `${chummerEntry.source} ${chummerEntry.page}`\n    }\n\n    if (chummerEntry.description) {\n        parsedDescription.value = TextEditor.enrichHTML(chummerEntry.description);\n    }\n\n    return parsedDescription\n}\n\n/**\n *  Creates the technology data from the chummer entry\n *  @param chummerEntry The chummer entry (the item)\n */\nexport const parseTechnology = (chummerEntry) => {\n    const parsedTechnology = DefaultValues.technologyData();\n\n    if (chummerEntry.rating) {\n        parsedTechnology.rating = chummerEntry.rating; \n    }\n\n    if (chummerEntry.avail) {\n        parsedTechnology.availability = chummerEntry.avail; \n    }\n\n    if (chummerEntry.qty) {\n        parsedTechnology.quantity = chummerEntry.qty; \n    }\n\n    if (chummerEntry.cost) {\n        parsedTechnology.cost = parseFloat(chummerEntry.cost.replace(/[^\\d\\.\\-]/g, \"\"));\n    }\n    \n    if (chummerEntry.equipped && chummerEntry.equipped.toLowerCase() === 'true') {\n        parsedTechnology.equipped = true;\n    }\n\n    if (chummerEntry.conditionmonitor) {\n        parsedTechnology.condition_monitor.max = Number(chummerEntry.conditionmonitor);\n    }\n\n    if (chummerEntry.conceal) {\n        parsedTechnology.conceal.base = Number(chummerEntry.conceal);\n    }\n\n    return parsedTechnology\n}\n\nexport const createItemData = (name, type, data) => {\n    return {\n        name: name,\n        _id: '',\n        folder: '',\n        flags: {},\n        img: 'icons/svg/mystery-man.svg',\n        type: type,\n        data,\n        permission: {\n            default: 2,\n        },\n    };\n}\n\n\n","import {CharacterInfoUpdater} from \"./CharacterInfoUpdater\"\nimport {ItemsParser} from \"./ItemsParser\"\n\n/**\n * Imports characters from other tools into an existing foundry actor.\n */\nexport class CharacterImporter {\n\n    /**\n     * Imports a chummer character into an existing actor. The actor will be updated. This might lead to duplicate items.\n     * @param {*} actor The actor that will be updated with the chummer character.\n     * @param {*} chummerFile The complete chummer file as json object. The first character will be selected for import.\n     * @param {*} importOptions Additional import option that specify what parts of the chummer file will be imported.\n     */\n    async importChummerCharacter(actor, chummerFile, importOptions) {\n        console.log('Importing the following character file content:');\n        console.log(chummerFile);\n\n        console.log('Using the following import options:')\n        console.log(importOptions);\n\n        if (!chummerFile.characters || !chummerFile.characters.character) {\n            console.log('Did not find a valid character to import  - aborting import');\n            return;\n        }\n\n        const chummerCharacter = chummerFile.characters.character;\n        const updatedActorData = new CharacterInfoUpdater().update(actor.data, chummerCharacter);\n        const items = new ItemsParser().parse(chummerCharacter, importOptions);\n\n        await actor.update(updatedActorData);\n        await actor.createEmbeddedEntity('OwnedItem', items);\n    }\n}","import {_mergeWithMissingSkillFields} from \"../../actor/prep/functions/SkillsPrep\";\n\n/**\n * Parses all non-item character information from a chummer character object.\n */\nexport class CharacterInfoUpdater {\n\n    /**\n     *  Maps the chummer attribute name to our sr5-foundry attribute name\n     *  @param attName name of the chummer attribute\n     */\n    parseAttName = (attName) =>  {\n        if (attName.toLowerCase() === 'bod') {\n            return 'body';\n        }\n        if (attName.toLowerCase() === 'agi') {\n            return 'agility';\n        }\n        if (attName.toLowerCase() === 'rea') {\n            return 'reaction';\n        }\n        if (attName.toLowerCase() === 'str') {\n            return 'strength';\n        }\n        if (attName.toLowerCase() === 'cha') {\n            return 'charisma';\n        }\n        if (attName.toLowerCase() === 'int') {\n            return 'intuition';\n        }\n        if (attName.toLowerCase() === 'log') {\n            return 'logic';\n        }\n        if (attName.toLowerCase() === 'wil') {\n            return 'willpower';\n        }\n        if (attName.toLowerCase() === 'edg') {\n            return 'edge';\n        }\n        if (attName.toLowerCase() === 'mag') {\n            return 'magic';\n        }\n        if (attName.toLowerCase() === 'res') {\n            return 'resonance';\n        }\n    };\n\n    getArray = (value) => {\n        return Array.isArray(value) ? value : [value];\n    };\n\n\n    /**\n     *  Converts the chummer attribute value to our sr5-foundry attribute value\n     *  @param att the chummer attribute\n     */\n    parseAttBaseValue = (att) => {\n        if (att.name.toLowerCase() === 'edg') {\n            // The edge attribute value is stored in the \"base\" field instead of the total field\n            // In chummer, the \"total\" field is used for the amount of edge remaining to a character\n            return parseInt(att.base);\n        }\n        else {\n            return parseInt(att.total);\n        }\n    }\n\n    /**\n     * Parses the actor data from the chummer file and returns an updated clone of the actor data.\n     * @param {*} actorData The actor data (actor.data not actor.data.data) that is used as the basis for the import. Will not be changed.\n     * @param {*} chummerChar The chummer character to parse.\n     */\n    update(actorData, chummerChar) {\n\n        const clonedActorData = duplicate(actorData);\n\n        // Name is required, so we need to always set something (even if the chummer field is empty)\n        clonedActorData.name = chummerChar.alias ? chummerChar.alias : '[Name not found]';\n        \n        this.importBasicData(clonedActorData.data, chummerChar);\n        this.importBio(clonedActorData.data, chummerChar);\n        this.importAttributes(clonedActorData.data, chummerChar)\n        this.importInitiative(clonedActorData.data, chummerChar);\n        this.importSkills(clonedActorData.data, chummerChar);\n\n        return clonedActorData;\n    }\n\n    importBasicData(actorDataData, chummerChar) {\n\n        try {\n            if (chummerChar.playername) {\n                actorDataData.player_name = chummerChar.playername;\n            }\n            if (chummerChar.alias) {\n                actorDataData.name = chummerChar.alias;\n            }\n            if (chummerChar.metatype) {\n                actorDataData.metatype = chummerChar.metatype;\n            }\n            if (chummerChar.sex) {\n                actorDataData.sex = chummerChar.sex;\n            }\n            if (chummerChar.age) {\n                actorDataData.age = chummerChar.age;\n            }\n            if (chummerChar.height) {\n                actorDataData.height = chummerChar.height;\n            }\n            if (chummerChar.weight) {\n                actorDataData.weight = chummerChar.weight;\n            }\n            if (chummerChar.calculatedstreetcred) {\n                actorDataData.street_cred = chummerChar.calculatedstreetcred;\n            }\n            if (chummerChar.calculatednotoriety) {\n                actorDataData.notoriety = chummerChar.calculatednotoriety;\n            }\n            if (chummerChar.calculatedpublicawareness) {\n                actorDataData.public_awareness = chummerChar.calculatedpublicawareness;\n            }\n            if (chummerChar.karma) {\n                actorDataData.karma.value = chummerChar.karma;\n            }\n            if (chummerChar.totalkarma) {\n                actorDataData.karma.max = chummerChar.totalkarma;\n            }\n            if (chummerChar.technomancer && chummerChar.technomancer.toLowerCase() === 'true') {\n                actorDataData.special = 'resonance';\n            }\n            if (\n                (chummerChar.magician && chummerChar.magician.toLowerCase() === 'true') ||\n                (chummerChar.adept && chummerChar.adept.toLowerCase() === 'true')\n            ) {\n                actorDataData.special = 'magic';\n                let attr = [];\n                if (\n                    chummerChar.tradition &&\n                    chummerChar.tradition.drainattribute &&\n                    chummerChar.tradition.drainattribute.attr\n                ) {\n                    attr = chummerChar.tradition.drainattribute.attr;\n                } else if (chummerChar.tradition && chummerChar.tradition.drainattributes) {\n                    attr = chummerChar.tradition.drainattributes\n                        .split('+')\n                        .map((item) => item.trim());\n                }\n                attr.forEach((att) => {\n                    const attName = this.parseAttName(att);\n                    if (attName !== 'willpower') actorDataData.magic.attribute = att;\n                });\n            }\n            if (chummerChar.totaless) {\n                actorDataData.attributes.essence.value = chummerChar.totaless;\n            }\n            if (chummerChar.nuyen) {\n                actorDataData.nuyen = parseInt(chummerChar.nuyen.replace(',', ''));\n            }\n        } catch (e) {\n            console.error(`Error while parsing character information ${e}`);\n        }\n    }\n\n    importBio(actorDataData, chummerChar) {\n        actorDataData.description.value = '';\n\n        // Chummer outputs html and wraps every section in <p> tags, \n        // so we just concat everything with an additional linebreak in between\n        if (chummerChar.description) {\n            actorDataData.description.value += TextEditor.enrichHTML(chummerChar.description + '<br/>');\n        }\n\n        if (chummerChar.background) {\n            actorDataData.description.value += TextEditor.enrichHTML(chummerChar.background + '<br/>');\n        }\n\n        if (chummerChar.concept) {\n            actorDataData.description.value += TextEditor.enrichHTML(chummerChar.concept + '<br/>');\n        }\n\n        if (chummerChar.notes) {\n            actorDataData.description.value += TextEditor.enrichHTML(chummerChar.notes + '<br/>');\n        }\n    }\n\n    importAttributes(actorDataData, chummerChar) {\n        const atts = chummerChar.attributes[1].attribute;\n        atts.forEach((att) => {\n            try {\n                const attName = this.parseAttName(att.name);\n                if (attName) { \n                    actorDataData.attributes[attName].base = this.parseAttBaseValue(att);\n                }\n                    \n            } catch (e) {\n                console.error(`Error while parsing attributes ${e}`);\n            }\n        });\n    }\n\n    importInitiative(actorDataData, chummerChar) {\n        try {\n            actorDataData.modifiers.meat_initiative = chummerChar.initbonus;\n\n            // 'initdice' contains the total amount of initiative dice, not just the bonus.\n            actorDataData.modifiers.meat_initiative_dice = chummerChar.initdice - 1;\n        } catch (e) {\n            console.error(`Error while parsing initiative ${e}`);\n        }\n    }\n\n    importSkills(actorDataData, chummerChar) {\n        const chummerSkills = chummerChar.skills.skill;\n        for (let i = 0; i < chummerSkills.length; i++) {\n            try {\n                const chummerSkill = chummerSkills[i];\n                if (chummerSkill.rating > 0 && chummerSkill.islanguage) {\n                    let determinedGroup = 'active';\n                    let parsedSkill = null;\n                    const id = randomID(16);\n                    if (chummerSkill.islanguage && chummerSkill.islanguage.toLowerCase() === 'true') {\n                        parsedSkill = {};\n                        actorDataData.skills.language.value[id] = parsedSkill;\n                        determinedGroup = 'language';\n                    } \n                    else if (chummerSkill.knowledge && chummerSkill.knowledge.toLowerCase() === 'true') {\n                        const category = chummerSkill.skillcategory_english;\n                        parsedSkill = {};\n\n                        // Determine the correct knowledge skill category and assign the skill to it\n                        let skillCategory;\n                        if (category) {\n                            const cat = category.toLowerCase();\n                            if (cat === 'street')\n                                skillCategory = actorDataData.skills.knowledge.street.value;\n                            if (cat === 'academic')\n                                skillCategory = actorDataData.skills.knowledge.academic.value;\n                            if (cat === 'professional')\n                                skillCategory = actorDataData.skills.knowledge.professional.value;\n                            if (cat === 'interest')\n                                skillCategory = actorDataData.skills.knowledge.interests.value;\n                            if (skillCategory)\n                                skillCategory[id] = parsedSkill;\n                        } \n                        else {\n                            if (chummerSkill.attribute.toLowerCase() === 'int') {\n                                actorDataData.skills.knowledge.street.value[id] = parsedSkill;\n                            }\n                            if (chummerSkill.attribute.toLowerCase() === 'log') {\n                                actorDataData.skills.knowledge.professional.value[id] = parsedSkill;\n                            }\n                        }\n                        determinedGroup = 'knowledge';\n                    } \n                    else {\n                        let name = chummerSkill.name\n                            .toLowerCase()\n                            .trim()\n                            .replace(/\\s/g, '_')\n                            .replace(/-/g, '_');\n                        if (name.includes('exotic') && name.includes('_weapon'))\n                            name = name.replace('_weapon', '');\n                        if (name === 'pilot_watercraft')\n                            name = 'pilot_water_craft';\n                        parsedSkill = actorDataData.skills.active[name];\n                    }\n                    if (!parsedSkill)\n                        console.error(`Couldn't parse skill ${chummerSkill.name}`);\n                    if (parsedSkill) {\n                        if (determinedGroup !== 'active')\n                            parsedSkill.name = chummerSkill.name;\n                        parsedSkill.base = parseInt(chummerSkill.rating);\n\n                        if (chummerSkill.skillspecializations) {\n                            parsedSkill.specs = this.getArray(\n                                chummerSkill.skillspecializations.skillspecialization.name\n                            );\n                        }\n\n                        parsedSkill = _mergeWithMissingSkillFields(parsedSkill);\n                    }\n                }\n            } catch (e) {\n                console.error(e);\n            }\n        }\n    }\n\n\n}\n\n","import { parseDescription, getArray, createItemData } from \"./BaseParserFunctions.js\"\n\nexport class ContactParser {\n    parseContacts(chummerChar) {\n        \n        const chummerContacts = getArray(chummerChar.contacts.contact);\n        const parsedContacts = [];\n\n        chummerContacts.forEach((chummerContact) => {\n            try {\n                const itemData = this.parseContact(chummerContact);\n                parsedContacts.push(itemData);\n            } catch (e) {\n                console.error(e);\n            }\n        });\n\n        return parsedContacts;\n    }\n\n    parseContact(chummerContact) {\n        const data = {};\n        data.type = chummerContact.role;\n\n        // Group contacts are stored in chummer as 'Group(connectionRating)', e.g. 'Group(5)'\n        // We handle group contacts as normal contacts until they are supported in the codebase.\n        if (chummerContact.connection.toLowerCase().includes('group')) {\n            data.connection = chummerContact.connection\n                .toLowerCase()\n                .replace('group(', '')\n                .replace(')', '');\n        }\n        else {\n            data.connection = chummerContact.connection;\n        }\n\n        data.loyalty = chummerContact.loyalty;\n        data.family = (chummerContact.family.toLowerCase() === 'true');\n        data.blackmail = (chummerContact.blackmail.toLowerCase() === 'true');\n        data.description = parseDescription(chummerContact);\n\n        const itemName = chummerContact.name ? chummerContact.name : '[Unnamed connection]';\n        const itemData = createItemData(itemName, 'contact', data);\n        return itemData;\n    }\n}","import { parseDescription, getArray, parseTechnology, createItemData } from \"./BaseParserFunctions.js\"\n\nexport class CyberwareParser {\n   \n    parseCyberwares(chummerChar) {\n        const chummerCyberwares = getArray(chummerChar.cyberwares.cyberware);\n        const parsedCyberware = [];\n        chummerCyberwares.forEach((chummerCyber) => {\n            try {\n                const itemData = this.parseCyberware(chummerCyber);\n                parsedCyberware.push(itemData);\n            } catch (e) {\n                console.error(e);\n            }\n        });\n\n        return parsedCyberware;\n    }\n\n    parseCyberware(chummerCyber) {\n        const data = {};\n        data.description = parseDescription(chummerCyber);\n        data.technology = parseTechnology(chummerCyber);\n        \n        // Cyberware has no equipped flag in chummer so it cannot be parsed - we consider it as always equipped\n        data.technology.equipped = true;\n        data.essence = chummerCyber.ess;\n        data.grade = chummerCyber.grade;\n\n        return createItemData(chummerCyber.name, 'cyberware', data);\n    }\n}","import { getArray } from \"./BaseParserFunctions.js\"\nimport { GearsParser } from \"./gearImport/GearsParser\"\nimport { ArmorParser } from \"./ArmorParser\";\nimport { CyberwareParser } from \"./CyberwareParser\";\nimport { QualityParser } from \"./QualityParser\";\nimport { PowerParser } from \"./PowerParser\";\nimport { SpellParser } from \"./SpellParser\";\nimport { WeaponParser } from \"./WeaponParser\";\nimport { LifestyleParser } from \"./LifestyleParser\";\nimport { ContactParser } from \"./ContactParser\";\n\n/**\n * Parses all items (qualities, weapons, gear, ...) from a chummer character.\n */\nexport class ItemsParser {\n\n    /**\n     * Parses all items from a chummer char and returns an array of the corresponding foundry items.\n     * @param {*} chummerChar The chummer char holding the items\n     * @param {*} importOptions Additional import option that specify what items will be imported.\n     */\n    parse(chummerChar, importOptions) {\n        const parsedItems = [];\n\n        if (importOptions.qualities && chummerChar.qualities && chummerChar.qualities.quality) {\n            const parsedQualities = new QualityParser().parseQualities(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedQualities);\n        }\n\n        if (importOptions.weapons && chummerChar.weapons != null && chummerChar.weapons.weapon != null) {\n            const parsedWeapons = new WeaponParser().parseWeapons(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedWeapons);\n        }\n\n        if (importOptions.armor && chummerChar.armors && chummerChar.armors.armor) {\n            const parsedArmors = new ArmorParser().parseArmors(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedArmors);\n        }\n\n        if (importOptions.cyberware && chummerChar.cyberwares && chummerChar.cyberwares.cyberware) {\n            const parsedCyberware = new CyberwareParser().parseCyberwares(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedCyberware);\n        }\n\n        if (importOptions.powers && chummerChar.powers && chummerChar.powers.power) {\n            const parsedPowers = new PowerParser().parsePowers(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedPowers);\n        }\n\n        if (importOptions.equipment && chummerChar.gears && chummerChar.gears.gear) {\n            const gears = getArray(chummerChar.gears.gear);\n            const allGearData = new GearsParser().parseGears(gears);\n            Array.prototype.push.apply(parsedItems, allGearData);\n        }\n\n        if (importOptions.spells && chummerChar.spells && chummerChar.spells.spell) {\n            const parsedSpells = new SpellParser().parseSpells(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedSpells);\n        }\n\n        if (importOptions.contacts && chummerChar.contacts && chummerChar.contacts.contact) {\n            const parsedContacts = new ContactParser().parseContacts(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedContacts);\n        }\n\n        if (importOptions.lifestyles && chummerChar.lifestyles && chummerChar.lifestyles.lifestyle) {\n            const parsedLifestyles = new LifestyleParser().parseLifestyles(chummerChar);\n            Array.prototype.push.apply(parsedItems, parsedLifestyles);\n        }\n\n        return parsedItems;\n    }\n}\n","import { parseDescription, getArray, createItemData } from \"./BaseParserFunctions.js\"\nimport {SR5} from \"../../config\"\n\nexport class LifestyleParser {\n    parseLifestyles(chummerChar) {\n        \n        const chummerLifestyle = getArray(chummerChar.lifestyles.lifestyle);\n        const parsedLifestyle = [];\n\n        chummerLifestyle.forEach((chummerLifestyle) => {\n            try {\n                const itemData = this.parseLifestyle(chummerLifestyle);\n                parsedLifestyle.push(itemData);\n            }\n             catch (e) {\n                console.error(e);\n            }\n        });\n\n        return parsedLifestyle;\n    }\n\n    parseLifestyle(chummerLifestyle) {\n        const data = {};\n\n        // Advanced lifestyles and lifestyle qualities are not supported at the moment\n        // Map the chummer lifestyle type to our sr5 foundry type. \n        const chummerLifestyleType = chummerLifestyle.baselifestyle.toLowerCase();\n        if ((chummerLifestyleType in SR5.lifestyleTypes)) {\n            data.type = chummerLifestyleType;\n        }\n        else {\n            // This is necessary because of a typo in SR5 config.\n            if (chummerLifestyleType === 'luxury') {\n                data.type = 'luxory';\n            }\n            else {\n                data.type = 'other';\n            }\n        }\n\n        data.cost = chummerLifestyle.totalmonthlycost;\n        data.permanent = chummerLifestyle.purchased;\n        data.description = parseDescription(chummerLifestyle);\n\n        // The name of the lifestyle is optional, so we use a fallback here.\n        const itemName = chummerLifestyle.name ? chummerLifestyle.name : chummerLifestyle.baselifestyle;\n        const itemData = createItemData(itemName, 'lifestyle', data);\n        return itemData;\n    }\n}","import { parseDescription, getArray, createItemData } from \"./BaseParserFunctions.js\"\n\nexport class PowerParser {\n\n    parsePowers(chummerChar) {\n        const powers = getArray(chummerChar.powers.power);\n        const parsedPowers = [];\n\n        powers.forEach((chummerPower) => {\n            const itemData = this.parsePower(chummerPower);\n            parsedPowers.push(itemData);\n        });\n\n        return parsedPowers;\n    }\n\n    parsePower(chummerPower) {\n        const data = {};\n        data.description = parseDescription(chummerPower);\n\n        data.level = parseInt(chummerPower.rating);\n        data.pp = parseFloat(chummerPower.totalpoints);\n        const itemData = createItemData(chummerPower.fullname, 'adept_power', data);\n        return itemData;\n    }\n}","import { parseDescription, getArray, createItemData } from \"./BaseParserFunctions.js\"\nimport { DefaultValues } from \"../../dataTemplates\";\n\nexport class QualityParser {\n   \n    parseQualities(chummerChar) {\n        const qualities = getArray(chummerChar.qualities.quality);\n        const parsedQualities = [];\n\n        qualities.forEach((chummerQuality) => {\n            try {\n                const itemData = this.parseQuality(chummerQuality);\n                parsedQualities.push(itemData);\n            } catch (e) {\n                console.error(e);\n            }\n        });\n\n        return parsedQualities;\n    }\n\n    parseQuality(chummerQuality) {\n        const data = DefaultValues.qualityData();\n        data.type = chummerQuality.qualitytype.toLowerCase();\n        data.description = parseDescription(chummerQuality);\n\n        const itemData = createItemData(chummerQuality.name, 'quality', data);\n        return itemData;\n    }\n}","import { parseDescription, getArray, createItemData } from \"./BaseParserFunctions.js\"\n\nexport class SpellParser {\n    parseSpells(chummerChar) {\n        const spells = getArray(chummerChar.spells.spell);\n        const parsedSpells = [];\n        spells.forEach((chummerSpell) => {\n            try {\n                if (chummerSpell.alchemy.toLowerCase() !== 'true') {\n                    const itemData = this.parseSpell(chummerSpell);\n                    parsedSpells.push(itemData);\n                }\n            } catch (e) {\n                console.error(e);\n            }\n        });\n\n        return parsedSpells;\n    }\n\n    parseSpell(chummerSpell) {\n        const action = {};\n        const data = {};\n        data.action = action;\n        data.category = chummerSpell.category.toLowerCase().replace(/\\s/g, '_');\n        data.name = chummerSpell.name;\n        data.type = chummerSpell.type === 'M' ? 'mana' : 'physical';\n        data.range =\n            chummerSpell.range === 'T'\n                ? 'touch'\n                : chummerSpell.range\n                        .toLowerCase()\n                        .replace(/\\s/g, '_')\n                        .replace('(', '')\n                        .replace(')', '');\n        data.drain = parseInt(chummerSpell.dv.replace('F', ''));\n        data.description = parseDescription(chummerSpell);\n\n        let description = '';\n        if (chummerSpell.descriptors) description = chummerSpell.descriptors;\n        if (chummerSpell.description) description += `\\n${chummerSpell.description}`;\n        data.description.value = TextEditor.enrichHTML(description);\n\n        if (chummerSpell.duration.toLowerCase() === 's') data.duration = 'sustained';\n        else if (chummerSpell.duration.toLowerCase() === 'i')\n            data.duration = 'instant';\n        else if (chummerSpell.duration.toLowerCase() === 'p')\n            data.duration = 'permanent';\n\n        action.type = 'varies';\n        action.skill = 'spellcasting';\n        action.attribute = 'magic';\n\n        if (chummerSpell.descriptors) {\n            const desc = chummerSpell.descriptors.toLowerCase();\n            if (chummerSpell.category.toLowerCase() === 'combat') {\n                data.combat = {};\n                if (desc.includes('direct')) {\n                    data.combat.type = 'indirect';\n                    action.opposed = {\n                        type: 'defense',\n                    };\n                } else {\n                    data.combat.type = 'direct';\n                    if (data.type === 'mana') {\n                        action.opposed = {\n                            type: 'custom',\n                            attribute: 'willpower',\n                        };\n                    } else if (data.type === 'physical') {\n                        action.opposed = {\n                            type: 'custom',\n                            attribute: 'body',\n                        };\n                    }\n                }\n            }\n            if (chummerSpell.category.toLowerCase() === 'detection') {\n                data.detection = {};\n                const split = desc.split(',');\n                split.forEach((token) => {\n                    token = token || '';\n                    token = token.replace(' detection spell', '');\n                    if (!token) return;\n                    if (token.includes('area')) return;\n\n                    if (token.includes('passive'))\n                        data.detection.passive = true;\n                    else if (token.includes('active'))\n                        data.detection.passive = false;\n                    else if (token)\n                        data.detection.type = token.toLowerCase();\n                });\n                if (!data.detection.passive) {\n                    action.opposed = {\n                        type: 'custom',\n                        attribute: 'willpower',\n                        attribute2: 'logic',\n                    };\n                }\n            }\n            if (chummerSpell.category.toLowerCase() === 'illusion') {\n                data.illusion = {};\n                const split = desc.split(',');\n                split.forEach((token) => {\n                    token = token || '';\n                    token = token.replace(' illusion spell', '');\n                    if (!token) return;\n                    if (token.includes('area')) return;\n\n                    if (token.includes('sense'))\n                        data.illusion.sense = token.toLowerCase();\n                    else if (token)\n                        data.illusion.type = token.toLowerCase();\n                });\n                if (data.type === 'mana') {\n                    action.opposed = {\n                        type: 'custom',\n                        attribute: 'willpower',\n                        attribute2: 'logic',\n                    };\n                } else {\n                    action.opposed = {\n                        type: 'custom',\n                        attribute: 'intuition',\n                        attribute2: 'logic',\n                    };\n                }\n            }\n            if (chummerSpell.category.toLowerCase() === 'manipulation') {\n                data.manipulation = {};\n                if (desc.includes('environmental'))\n                    data.manipulation.environmental = true;\n                if (desc.includes('physical'))\n                    data.manipulation.physical = true;\n                if (desc.includes('mental'))\n                    data.manipulation.mental = true;\n                // TODO figure out how to parse damaging\n\n                if (data.manipulation.mental) {\n                    action.opposed = {\n                        type: 'custom',\n                        attribute: 'willpower',\n                        attribute2: 'logic',\n                    };\n                }\n                if (data.manipulation.physical) {\n                    action.opposed = {\n                        type: 'custom',\n                        attribute: 'body',\n                        attribute2: 'strength',\n                    };\n                }\n            }\n        }\n\n        return createItemData(chummerSpell.name, 'spell', data);\n    }\n}","import { parseDescription, getArray, getValues, parseTechnology, createItemData } from \"./BaseParserFunctions.js\"\n\nexport class WeaponParser {\n    parseDamage = (val) => {\n        const damage = {\n            damage: 0,\n            type: 'physical',\n            radius: 0,\n            dropoff: 0,\n        };\n        const split = val.split(',');\n        if (split.length > 0) {\n            const l = split[0].match(/(\\d+)(\\w+)/);\n            if (l && l[1]) damage.damage = parseInt(l[1]);\n            if (l && l[2]) damage.type = l[2] === 'P' ? 'physical' : 'stun';\n        }\n        for (let i = 1; i < split.length; i++) {\n            const l = split[i].match(/(-?\\d+)(.*)/);\n            if (l && l[2]) {\n                if (l[2].toLowerCase().includes('/m')) damage.dropoff = parseInt(l[1]);\n                else damage.radius = parseInt(l[1]);\n            }\n        }\n        return damage;\n    };\n\n    parseWeapons(chummerChar) {\n        const weapons = getArray(chummerChar.weapons.weapon);\n        const parsedWeapons = [];\n\n        weapons.forEach((chummerWeapon) => {\n            try {\n                const itemData = this.parseWeapon(chummerWeapon);\n                parsedWeapons.push(itemData);\n            } catch (e) {\n                console.error(e);\n            }\n        });\n    \n        return parsedWeapons;\n    }\n\n    parseWeapon(chummerWeapon) {\n        const data = {};\n        const action = {};\n        const damage = {};\n        action.damage = damage;\n        data.action = action;\n\n        data.description = parseDescription(chummerWeapon);\n        data.technology = parseTechnology(chummerWeapon);\n\n        damage.ap = {\n            base: parseInt(getValues(chummerWeapon.ap)[0])\n        };\n        action.type = 'varies';\n        if (chummerWeapon.skill)\n            action.skill = chummerWeapon.skill.toLowerCase().replace(/\\s/g, '_');\n        else if (chummerWeapon.category && chummerWeapon.category.toLowerCase().includes('exotic'))\n            action.skill = chummerWeapon.category\n                .toLowerCase()\n                .replace(' weapons', '')\n                .replace(/\\s/g, '_');\n        if (action.skill.includes('exotic'))\n            action.skill = action.skill.replace('_weapon', '');\n        action.attribute = 'agility';\n        action.limit = {\n            base: parseInt(getValues(chummerWeapon.accuracy)[0])\n        };\n        action.opposed = {\n            type: 'defense',\n        };\n\n        if (chummerWeapon.type.toLowerCase() === 'melee') {\n            action.type = 'complex';\n            data.category = 'melee';\n            const melee = {};\n            data.melee = melee;\n            melee.reach = parseInt(chummerWeapon.reach);\n        } else if (chummerWeapon.type.toLowerCase() === 'ranged') {\n            data.category = 'range';\n            if (chummerWeapon.skill.toLowerCase().includes('throw')) {\n                data.category = 'thrown'; // TODO clean this up\n            }\n            const range = {};\n            data.range = range;\n            range.rc = {\n                base: parseInt(getValues(chummerWeapon.rc)[0]),\n            };\n            if (chummerWeapon.mode) {\n                // HeroLab export doesn't have mode\n                const lower = chummerWeapon.mode.toLowerCase();\n                range.modes = {\n                    single_shot: lower.includes('ss'),\n                    semi_auto: lower.includes('sa'),\n                    burst_fire: lower.includes('bf'),\n                    full_auto: lower.includes('fa'),\n                };\n            }\n            if (chummerWeapon.clips != null && chummerWeapon.clips.clip != null) {\n                // HeroLab export doesn't have clips\n                const clips = Array.isArray(chummerWeapon.clips.clip)\n                    ? chummerWeapon.clips.clip\n                    : [chummerWeapon.clips.clip];\n                clips.forEach((clip) => {\n                    console.log(clip);\n                });\n            }\n            if (chummerWeapon.ranges &&\n                chummerWeapon.ranges.short &&\n                chummerWeapon.ranges.medium &&\n                chummerWeapon.ranges.long &&\n                chummerWeapon.ranges.extreme) {\n                console.log(chummerWeapon.ranges);\n                range.ranges = {\n                    short: parseInt(chummerWeapon.ranges.short.split('-')[1]),\n                    medium: parseInt(chummerWeapon.ranges.medium.split('-')[1]),\n                    long: parseInt(chummerWeapon.ranges.long.split('-')[1]),\n                    extreme: parseInt(chummerWeapon.ranges.extreme.split('-')[1]),\n                };\n            }\n            // TODO figure out how to add mods to weapons\n            // if (w.accessories && w.accessories.accessory) {\n            //     range.mods = [];\n            //     const accessories = getArray(w.accessories.accessory);\n            //     accessories.forEach((a) => {\n            //         if (a) {\n            //             range.mods.push({\n            //                 name: a.name,\n            //             });\n            //         }\n            //     });\n            // }\n        } else if (chummerWeapon.type.toLowerCase() === 'thrown') {\n            data.category = 'thrown';\n        }\n        {\n            // TODO handle raw damage if present\n            const d = this.parseDamage(chummerWeapon.damage_english);\n            damage.base = d.damage;\n            damage.type = {};\n            damage.type.base = d.type;\n            if (d.dropoff || d.radius) {\n                const thrown = {};\n                data.thrown = thrown;\n                thrown.blast = {\n                    radius: d.radius,\n                    dropoff: d.dropoff,\n                };\n            }\n        }\n\n        const itemData = createItemData(chummerWeapon.name, 'weapon', data);\n        return itemData;\n    }\n}","import { BaseGearParser } from \"./BaseGearParser\"\n\n/**\n * Parses ammunition\n */\nexport class AmmoParser extends BaseGearParser {\n   \n    parse(chummerGear : any) : any {\n        const parsedGear =  super.parse(chummerGear);\n        parsedGear.type = 'ammo';\n\n        if (chummerGear.weaponbonusap) {\n            parsedGear.data.ap = parseInt(chummerGear.weaponbonusap);\n        }\n\n        if (chummerGear.weaponbonusdamage) {\n            parsedGear.data.damage = parseInt(chummerGear.weaponbonusdamage);\n\n            if (chummerGear.weaponbonusdamage.includes('P')) {\n                parsedGear.data.damageType = 'physical';\n            } else if (chummerGear.weaponbonusdamage.includes('S')) {\n                parsedGear.data.damageType = 'stun';\n            } else if (chummerGear.weaponbonusdamage.includes('M')) {\n                parsedGear.data.damageType = 'matrix';\n            }\n            else {\n                parsedGear.data.damageType = 'physical';\n            }\n        }\n\n        return parsedGear;\n    }\n}","import { DefaultValues } from \"../../../dataTemplates\";\nimport { parseDescription, getArray, getValues, parseTechnology, createItemData } from \"../BaseParserFunctions.js\"\n\nimport Equipment = Shadowrun.Equipment;\n\n/**\n * Parses a certain class of gear (depending on the implementation).\n */\nexport interface GearParser {\n    /**\n     * Parses a gear entry and returns the corresponding foundry sr item data.\n     * @param chummerGear A chummer gear entry\n     */\n    parse(chummerGear : any) : any\n}\n\n/**\n * Base class for all gear parsers. Parses common information across all gear.\n */\nexport class BaseGearParser implements GearParser {\n    parse(chummerGear : any) : any {\n        const parsedGear = this.getDefaultData();\n        parsedGear.name = chummerGear.name;\n        if (chummerGear.extra)\n        {\n            parsedGear.name += ` (${chummerGear.extra})`;\n        }\n\n        parsedGear.data.technology = parseTechnology(chummerGear);\n        parsedGear.data.description = parseDescription(chummerGear);\n\n        return parsedGear;\n    }\n\n    private getDefaultData() : Equipment {\n        return {\n            name: '',\n            _id: '',\n            folder: '',\n            flags: {},\n            img: 'icons/svg/mystery-man.svg',\n            type: 'equipment',\n            data: DefaultValues.equipmentData(),\n            permission: {\n                default: 2,\n            },\n        };\n    }\n}\n\n","import { BaseGearParser } from \"./BaseGearParser\"\n\n/**\n * Parses devices (commlinks and decks)\n */\nexport class DeviceParser extends BaseGearParser {\n   \n    parse(chummerGear : any) : any {\n        const parsedGear =  super.parse(chummerGear);\n        parsedGear.type = 'device';\n        parsedGear.data.technology.rating = chummerGear.devicerating;\n\n        parsedGear.data.atts = {\n            att1:\n            {\n                value: chummerGear.attack,\n                att: 'attack'\n            },\n\n            att2:\n            {\n                value: chummerGear.sleaze,\n                att: 'sleaze'\n            },\n\n            att3:\n            {\n                value: chummerGear.dataprocessing,\n                att: 'data_processing'\n            },\n\n            att4:\n            {\n                value: chummerGear.firewall,\n                att: 'firewall'\n            } \n        };\n\n        if (chummerGear.category === 'Cyberdecks')\n        {\n            parsedGear.data.category = 'cyberdeck';\n        }\n\n        if (chummerGear.category === 'Commlinks')\n        {\n            parsedGear.data.category = 'commlink';\n        }\n\n        if (chummerGear.category === 'Rigger Command Consoles')\n        {\n            // We are handling rccs as commlinks for the moment since we have no support for rigger command consoles yet.\n            parsedGear.data.category = 'commlink'; \n        }\n\n        return parsedGear;\n    }\n}","import { ParserSelector } from \"./ParserSelector\";\n\n/**\n * Parses all gear from a chummer character file and turns them into foundry sr item data objects\n */\nexport class GearsParser {\n\n    /**\n     * Parses all chummer gear entries\n     * @param chummerGears Array of chummer gear entries\n     */\n    parseGears(chummerGears : any) : any {\n        let items : any[] = [];\n\n        chummerGears.forEach((chummerGear) => {\n            try {\n                // First filter out gear entries, that we do not want to handle.\n                if (!this.gearShouldBeParsed(chummerGear)) {\n                    return;\n                }\n\n                const itemsData = this.parseGearEntry(chummerGear);\n                items.push(itemsData);\n            }\n\n            catch (e) {\n                console.error(e);\n            }\n        });\n\n        return items;\n    }\n\n    private parseGearEntry(chummerGear : any) : any {\n        const parserSelector = new ParserSelector();\n        const parser = parserSelector.select(chummerGear);\n        return parser.parse(chummerGear);\n    }\n\n    private gearShouldBeParsed(chummerGear : any) : boolean {\n        // We do not handle grenades and rockets here since they are also in the weapons section with more info.\n        const englishGearName = (chummerGear.name_english as string).toLowerCase();\n        if (englishGearName.startsWith('grenade') || \n            englishGearName.startsWith('minigrenade') || \n            englishGearName.startsWith('rocket'))\n        {\n            return false;\n        }\n\n        return true;\n    }\n}\n","import { GearParser, BaseGearParser } from \"./BaseGearParser\";\nimport { SinParser } from \"./SinParser\";\nimport { DeviceParser } from \"./DeviceParser\";\nimport { ProgramParser } from \"./ProgramParser\";\nimport { AmmoParser } from \"./AmmoParser\";\n\n/**\n * Responsible for selecting the correct GearParser depending on the gear.\n */\nexport class ParserSelector {\n\n    /**\n     * Selects the correct GearParser depending on the gear.\n     * @param chummerGear The gear that needs to be parsed\n     * The correct GearParser for this gear entry.\n     */ \n    select(chummerGear : any) : GearParser {\n        if (chummerGear.issin === 'True')\n        {\n            return new SinParser();\n        }\n\n        if (chummerGear.iscommlink === 'True')\n        {\n            return new DeviceParser();\n        }\n\n        if (chummerGear.isammo === 'True')\n        {\n            return new AmmoParser();\n        }\n\n        if (chummerGear.category === 'Common Programs' || \n            chummerGear.category === 'Hacking Programs' || \n            chummerGear.category === 'Software')\n        {\n            return new ProgramParser();\n        }\n\n        return new BaseGearParser();\n    }\n}","import { BaseGearParser } from \"./BaseGearParser\"\n\n/**\n * Parses common, hacking and agent programs.\n */\nexport class ProgramParser extends BaseGearParser {\n    parse(chummerGear : any) : any {\n        const parsedGear =  super.parse(chummerGear);\n        parsedGear.type = 'program';\n\n        if (chummerGear.category === 'Common Programs')\n        {\n            parsedGear.data.type = 'common_program'\n        }\n        else if (chummerGear.category === 'Hacking Programs')\n        {\n            parsedGear.data.type = 'hacking_program'\n        } \n        else if (chummerGear.category === 'Software')\n        {\n            parsedGear.data.type = 'agent'\n        }\n\n        return parsedGear;\n    }\n}","import { BaseGearParser } from \"./BaseGearParser\"\n\n/**\n * Parses SINs and the attached licenses.\n * Licenses that are not attached to a SIN are not handled.\n */\nexport class SinParser extends BaseGearParser {\n    parse(chummerGear : any) : any {\n        const parsedGear =  super.parse(chummerGear);\n        parsedGear.type = 'sin';\n\n        // Create licenses if there are any\n        if (chummerGear.children) {\n\n            // \"gear\" is either  a single gear entry or an array of gear entries depending on the number of licenses\n            const chummerLicenses : any[] = [];\n            if (!Array.isArray(chummerGear.children.gear)) {\n                chummerLicenses.push(chummerGear.children.gear)\n            }\n            else {\n                chummerLicenses.push(...chummerGear.children.gear);\n            }\n\n            parsedGear.data.licenses = this.parseLicenses(chummerLicenses);\n        }\n        return parsedGear;\n    }\n\n    private parseLicenses(chummerLicenses : any) : any[] {\n        const parsedLicenses : any[] = []; \n\n        chummerLicenses.forEach(chummerLicense => {\n            if (chummerLicense.category === 'ID/Credsticks')\n            {\n                parsedLicenses.push(\n                    {\n                        name: chummerLicense.extra, // 'extra' holds the type of license from chummer\n                        rtg: chummerLicense.rating,\n                        description: ''\n                    }\n                );\n            }\n        });\n\n        return parsedLicenses;\n    }\n}\n","import {_mergeWithMissingSkillFields} from \"../actor/prep/functions/SkillsPrep\";\nimport {CharacterImporter} from \"./characterImport/CharacterImporter\"\n\nexport class ChummerImportForm extends FormApplication {\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.id = 'chummer-import';\n        options.classes = ['shadowrun5e'];\n        options.title = 'Chummer/Hero Lab Import';\n        options.template = 'systems/shadowrun5e/dist/templates/apps/import.html';\n        options.width = 600;\n        options.height = 'auto';\n        return options;\n    }\n\n    getData() {\n        return {};\n    }\n\n    activateListeners(html) {\n        html.find('.submit-chummer-import').click(async (event) => {\n            event.preventDefault();\n\n            const chummerFile = JSON.parse($('.chummer-text').val());\n            const importOptions = {\n                weapons: $('.weapons').is(':checked'),\n                armor: $('.armor').is(':checked'),\n                cyberware: $('.cyberware').is(':checked'),\n                equipment: $('.gear').is(':checked'),\n                qualities: $('.qualities').is(':checked'),\n                powers: $('.powers').is(':checked'),\n                spells: $('.spells').is(':checked'),\n                contacts: $('.contacts').is(':checked'),\n                lifestyles: $('.lifestyles').is(':checked'),\n            }\n\n            const importer = new CharacterImporter();\n            await importer.importChummerCharacter(this.object, chummerFile, importOptions);\n\n            ui.notifications.info(\n                'Complete! Check everything. Notably: Ranged weapon mods and ammo; Strength based weapon damage; Specializations on all spells, powers, and weapons;'\n            );\n            this.close();\n        });\n    }\n}\n","import {FormDialog, FormDialogData} from \"./FormDialog\";\nimport DamageData = Shadowrun.DamageData;\nimport {SR5Actor} from \"../../actor/SR5Actor\";\n\nexport class DamageApplicationDialog extends FormDialog {\n\n    constructor(actors : SR5Actor[], damage: DamageData, options?: Application.Options) {\n        const dialogData = DamageApplicationDialog.getDialogData(actors, damage);\n        super(dialogData, options);\n    }\n\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.id = 'damage-application';\n        // TODO: Class Dialog here is needed for dialog button styling.\n        options.classes = ['sr5', 'form-dialog'];\n        options.resizable = true;\n        options.height = 'auto';\n        return options; \n    }\n\n    static getDialogData(actors : SR5Actor[], damage: DamageData): FormDialogData {\n        const title = game.i18n.localize('SR5.DamageApplication.Title');\n        const templatePath = 'systems/shadowrun5e/dist/templates/apps/dialogs/damage-application.html';\n\n        // Simplify / refactor this\n        const actorDamage : any = actors.map(a => { return {actor:a} }) ;\n        const templateData = {\n            damage,\n            actorDamage,\n        };\n\n        const buttons = {\n            damage: {\n                label: game.i18n.localize('SR5.DamageApplication.ApplyDamage')\n            }\n        }\n\n        const onAfterClose = () => actorDamage;\n\n        return {\n            title,\n            templatePath,\n            templateData,\n            onAfterClose,\n            buttons,\n            default: 'damage'\n        }\n    }\n}","import {FormDialog} from \"./FormDialog\";\n\nexport class DeleteConfirmationDialog extends FormDialog {\n    constructor(options?: Application.Options) {\n        const dialogData = DeleteConfirmationDialog.getDialogData();\n\n        super(dialogData, options)\n    }\n\n    static getDialogData() {\n        return {\n            title: game.i18n.localize(\"SR5.DeleteConfirmationApplication.Title\"),\n            buttons: {\n                delete: {\n                    label: game.i18n.localize('SR5.DeleteConfirmationApplication.Delete')\n                },\n                cancel: {\n                    label: game.i18n.localize('SR5.DeleteConfirmationApplication.Cancel')\n                }\n            },\n            default: 'cancel',\n            templateData: {},\n            templatePath: 'systems/shadowrun5e/dist/templates/apps/dialogs/delete-confirmation-dialog.html'\n        }\n    }\n\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.id = 'delete-confirmation-application';\n        // Class Dialog here is needed for dialog button styling.\n        options.classes = ['sr5', 'form-dialog'];\n        options.resizable = true;\n        options.height = 'auto';\n        return options;\n    }\n}","export interface FormDialogData {\n    title?: string;\n\tbuttons: Record<string, DialogButton>;\n\tdefault?: string;\n\ttemplateData: object;\n\ttemplatePath: string;\n\tonAfterClose?: Function;\n}\n\n/** TODO: Documentation with usage example\n *  TODO: Rework getDialogData approach with the general getData Application style,\n *        to allow rerender from within the Dialog instance without external data\n *        reinitialization.\n *        This would for things like updating a dialog based on currently selected tokens\n *        without reopening.\n */\nexport class FormDialog extends Dialog {\n    selection: object;\n    selectedButton: string;\n\n    _onAfterClose: Function;\n    _selectionPromise: Promise<object>;\n    _selectionResolve: Function;\n    _selectionReject: Function;\n    _templateData: object;\n    _templatePath: string;\n\n    constructor(dialogData: FormDialogData, options?: Application.Options) {\n        super(dialogData, options);\n\n        const {templateData, templatePath} = dialogData;\n        this._templateData = templateData;\n        this._templatePath = templatePath;\n\n        this._onAfterClose = dialogData.onAfterClose ? dialogData.onAfterClose : () => {};\n\n        this.selection = this._emptySelection();\n\n        this._selectionPromise = new Promise((resolve, reject) => {\n            this._selectionResolve = resolve;\n            // Reject is stored, but never used in favor of FormDialog.canceled\n            this._selectionReject = reject;\n        });\n\n        this._amendButtonsWithName();\n    }\n\n    async close() {\n        await super.close();\n\n        if (this.canceled) {\n            this._selectionResolve(this.selection);\n        }\n    }\n\n    async submit(button) {\n        this.selectedButton = button.name ?? button.label;\n\n        //@ts-ignore\n        super.submit(button);\n        await this.afterSubmit(\"jQuery\" in this.options ? this.element : this.element [0]);\n    }\n\n    async afterSubmit(html: JQuery) {\n        // Await in case of a possible async handler.\n        this.selection = await this._onAfterClose(html, this.selectedButton);\n        this._selectionResolve(this.selection);\n    }\n\n    async getData(options) {\n        const content = await renderTemplate(this._templatePath, this._templateData);\n        return mergeObject(super.getData(), {\n            content\n        });\n    }\n\n    async select(): Promise<any> {\n        await this.render(true);\n\n        if (this._selectionPromise === undefined || this.selection === undefined) {\n            return this._emptySelection();\n        }\n        return await this._selectionPromise;\n    }\n\n    _emptySelection(): object {\n        return {};\n    }\n\n    /** Dialog has been confirmed and something has been selected.\n     */\n    get selected(): boolean {\n        return !this.canceled;\n    }\n\n    /** Dialog has been canceled and nothing has been selected\n     */\n    get canceled(): boolean {\n        return !this.selectedButton;\n    }\n\n    /** @override */\n    static getButtons(): Record<string, DialogButton> {\n        return {};\n    }\n\n    /** Allow for the selected button to be addressed by it's key, not it's localized label.\n     */\n    _amendButtonsWithName() {\n        //@ts-ignore\n        Object.keys(this.data.buttons).forEach(name => this.data.buttons[name].name = name);\n    }\n}","import {FormDialog, FormDialogData} from \"./FormDialog\";\nimport {SR5Actor} from \"../../actor/SR5Actor\";\nimport {PartsList} from \"../../parts/PartsList\";\nimport {Helpers} from \"../../helpers\";\nimport {SkillFlow} from \"../../actor/SkillFlow\";\nimport DefenseRollOptions = Shadowrun.DefenseRollOptions;\nimport ModList = Shadowrun.ModList;\nimport SoakRollOptions = Shadowrun.SoakRollOptions;\nimport SkillDialogOptions = Shadowrun.SkillDialogOptions;\nimport CombatData = Shadowrun.CombatData;\nimport DamageType = Shadowrun.DamageType;\n\nexport class ShadowrunActorDialogs {\n    static async createDefenseDialog(actor: SR5Actor, options: DefenseRollOptions, partsProps: ModList<number>): Promise<FormDialog> {\n        const defenseDialogData = ShadowrunActorDialogs.getDefenseDialogData(actor, options, partsProps);\n\n        return new FormDialog(defenseDialogData);\n    }\n\n    static async createSoakDialog(options: SoakRollOptions, soakParts: PartsList<number>): Promise<FormDialog> {\n        const soakDialogData = ShadowrunActorDialogs.getSoakDialogData(options, soakParts);\n        return new FormDialog(soakDialogData);\n    }\n\n    static async createSkillDialog(actor: SR5Actor, options: SkillDialogOptions, partsProps: PartsList<number>): Promise<FormDialog> {\n        const skillDialogData = ShadowrunActorDialogs.getSkillDialogData(actor, options, partsProps);\n\n        return new FormDialog(skillDialogData);\n    }\n\n    static getDefenseDialogData(actor: SR5Actor,  options: DefenseRollOptions, partsProps: ModList<number>): FormDialogData {\n        const title = game.i18n.localize('SR5.Defense');\n\n        const activeDefenses = {\n            full_defense: {\n                label: 'SR5.FullDefense',\n                value: actor.getFullDefenseAttribute()?.value,\n                initMod: -10,\n            },\n            dodge: {\n                label: 'SR5.Dodge',\n                value: actor.findActiveSkill('gymnastics')?.value,\n                initMod: -5,\n            },\n            block: {\n                label: 'SR5.Block',\n                value: actor.findActiveSkill('unarmed_combat')?.value,\n                initMod: -5,\n            },\n        };\n\n        const equippedMeleeWeapons = actor.getEquippedWeapons().filter((w) => w.isMeleeWeapon());\n        let defenseReach = 0;\n        equippedMeleeWeapons.forEach((weapon) => {\n            activeDefenses[`parry-${weapon.name}`] = {\n                label: 'SR5.Parry',\n                weapon: weapon.name,\n                value: actor.findActiveSkill(weapon.getActionSkill())?.value,\n                init: -5,\n            };\n            defenseReach = Math.max(defenseReach, weapon.getReach());\n        });\n\n        const parts = new PartsList(partsProps);\n        actor._addDefenseParts(parts);\n\n        // if we are defending a melee attack\n        if (options.attack?.reach) {\n            const incomingReach = options.attack.reach;\n            const netReach = defenseReach - incomingReach;\n            if (netReach !== 0) {\n                parts.addUniquePart('SR5.Reach', netReach);\n            }\n        }\n\n        const buttons = {\n            continue: {\n                label: game.i18n.localize('SR5.Continue'),\n                callback: () => {},\n            },\n        };\n\n        const onAfterClose = (html) => {\n            const cover = Helpers.parseInputToNumber($(html).find('[name=cover]').val());\n            const special = Helpers.parseInputToString($(html).find('[name=activeDefense]').val());\n            // Zero to indicate no initiative result change.\n            const combat: CombatData = {};\n\n            if (cover) {\n                parts.addUniquePart('SR5.Cover', cover)\n            }\n            if (special) {\n                // Defense pool modifier\n                const defense = activeDefenses[special];\n                parts.addUniquePart(defense.label, defense.value);\n\n                // Combat initiative modifier\n                combat.initiative = defense.initMod;\n            }\n\n            return {cover, special, parts, combat};\n        }\n\n        const templatePath = 'systems/shadowrun5e/dist/templates/rolls/roll-defense.html';\n        const templateData = {\n            parts: parts.getMessageOutput(),\n            cover: options.cover,\n            activeDefenses\n        };\n\n        return {\n            title,\n            templateData,\n            templatePath,\n            buttons,\n            onAfterClose\n        }\n    }\n\n\n    static getSoakDialogData(soakRollOptions: SoakRollOptions, soakParts : PartsList<number>): FormDialogData {\n        const title = game.i18n.localize('SR5.DamageResistanceTest');\n\n        const templatePath = 'systems/shadowrun5e/dist/templates/rolls/roll-soak.html';\n        const templateData = {\n            damage: soakRollOptions?.damage,\n            parts: soakParts.getMessageOutput(),\n            elementTypes: CONFIG.SR5.elementTypes,\n            damageTypes: CONFIG.SR5.damageTypes\n        };\n\n        const buttons =  {\n            continue: {\n                label: game.i18n.localize('SR5.Continue'),\n                callback: () => {},\n            },\n        };\n\n        const onAfterClose = (html: JQuery) => {\n            const incomingDamage = Helpers.parseInputToNumber($(html).find('[name=incomingDamage]').val());\n            const ap = Helpers.parseInputToNumber($(html).find('[name=ap]').val());\n            const element = Helpers.parseInputToString($(html).find('[name=element]').val());\n            const damageType = Helpers.parseInputToString($(html).find('[name=damageType]').val()) as DamageType;\n\n            return {incomingDamage, damageType, ap, element};\n        }\n\n        return {\n            title,\n            templatePath,\n            templateData,\n            buttons,\n            onAfterClose\n        }\n    }\n\n    static getSkillDialogData(actor: SR5Actor, options: SkillDialogOptions, partsProps: PartsList<number>): FormDialogData {\n        const title = game.i18n.localize(options.skill.label || options.skill.name);\n        const templatePath = 'systems/shadowrun5e/dist/templates/rolls/skill-roll.html';\n\n        const attributes = actor.getAttributes();\n        const attribute = actor.getAttribute(options.attribute ? options.attribute : options.skill.attribute);\n        const limits = actor.getLimits();\n\n        const templateData = {\n            attribute: options.skill.attribute,\n            attributes: Helpers.filter(attributes, ([, value]) => value.value > 0),\n            limit: attribute.limit,\n            limits\n        }\n\n\n        const buttons = {\n            roll: {\n                label: game.i18n.localize('SR5.NormalSkillButton'),\n                callback: () => {},\n            },\n        };\n        // add specializations to dialog as buttons\n        if (options.skill.specs?.length) {\n            options.skill.specs.forEach(\n                (spec) =>\n                    (buttons[spec] = {\n                        label: spec,\n                        callback: () => {},\n                    }),\n            );\n        }\n\n        const onAfterClose = (html: JQuery, selectedButton) => {\n            const newAtt = Helpers.parseInputToString($(html).find('[name=\"attribute\"]').val());\n            const newLimit = Helpers.parseInputToString($(html).find('[name=\"attribute.limit\"]').val());\n            const attribute = actor.getAttribute(newAtt);\n            const limit = actor.getLimit(newLimit);\n            // Legacy skills have a label, but no name. Custom skills have a name but no label.\n            const skillLabel = game.i18n.localize(options.skill.label || options.skill.name);\n            const attributeLabel = game.i18n.localize(CONFIG.SR5.attributes[newAtt]);\n            const testLabel = game.i18n.localize('SR5.Test')\n\n            const skillTestTitle = `${skillLabel} + ${attributeLabel} ${testLabel}`;\n\n            partsProps.addUniquePart(attribute.label, attribute.value);\n\n            SkillFlow.handleDefaulting(options.skill, partsProps);\n\n            // Possible specialization based on button label.\n            const isSpecialization = options.skill.specs.includes(selectedButton);\n            if (isSpecialization) {\n                partsProps.addUniquePart('SR5.Specialization', 2);\n            }\n\n            return {\n                title: skillTestTitle,\n                attribute,\n                limit,\n                skill: options.skill,\n                parts: partsProps\n            }\n        }\n\n        return {\n            title,\n            templatePath,\n            templateData,\n            buttons,\n            onAfterClose\n        }\n    }\n}","import {SR5Item} from '../../item/SR5Item';\nimport {Helpers} from '../../helpers';\nimport {LENGTH_UNIT, SR} from \"../../constants\";\nimport {SR5Actor} from \"../../actor/SR5Actor\";\nimport FireModeData = Shadowrun.FireModeData;\nimport RangesTemplateData = Shadowrun.RangesTemplateData;\nimport RangeData = Shadowrun.RangeData;\nimport {FormDialog} from \"./FormDialog\";\nimport WeaponData = Shadowrun.WeaponData;\nimport {Modifiers} from \"../../sr5/Modifiers\";\n\ntype ItemDialogData = {\n    dialogData: DialogData | undefined,\n    getActionTestData: Function | undefined,\n    itemHasNoDialog: boolean\n};\n\nexport type RangedWeaponActionTestData = {\n    environmental: {\n        range?: number\n    },\n    fireMode: FireModeData,\n}\n\nexport type SpellActionTestData = {\n    force: number,\n    reckless: boolean,\n}\n\nexport type ComplexFormTestData = {\n    level: number\n}\n\nexport type ActionTestData = {\n    rangedWeapon?: RangedWeaponActionTestData,\n    spell?: SpellActionTestData,\n    complexForm?: ComplexFormTestData,\n    targetId?: string\n}\n\n\nexport class ShadowrunItemDialog {\n    static async create(item: SR5Item, event?: MouseEvent): Promise<FormDialog|undefined> {\n\n        if (item.isRangedWeapon()) {\n            return ShadowrunItemDialog.createRangedWeaponDialog(item, event);\n        }\n\n        if (item.isSpell()) {\n            return ShadowrunItemDialog.createSpellDialog(item, event);\n        }\n\n        if (item.isComplexForm()) {\n            return ShadowrunItemDialog.createComplexFormDialog(item, event);\n        }\n    }\n\n    static async createRangedWeaponDialog(item: SR5Item, event?: MouseEvent): Promise<FormDialog> {\n        const dialogData = {title: item.name,\n                            event,\n        };\n\n        const templatePath = 'systems/shadowrun5e/dist/templates/rolls/range-weapon-roll.html';\n\n        // Prepare template data for display.\n        const modifiers = await item.actor.getModifiers();\n\n        // Disable manual range selection when a overwrite is set.\n        const targetRange = modifiers.environmental.active.range;\n        const disableTargetRange = modifiers.hasActiveEnvironmentalOverwrite;\n\n        const templateData = {\n            targetRange,\n            disableTargetRange\n        };\n        const onAfterClose = ShadowrunItemDialog.addRangedWeaponData(templateData, dialogData, item);\n\n        dialogData['templateData'] = templateData;\n        dialogData['templatePath'] = templatePath;\n        dialogData['onAfterClose'] = onAfterClose;\n\n        //@ts-ignore\n        return new FormDialog(dialogData);\n    }\n\n    static async createSpellDialog(item: SR5Item, event?: MouseEvent): Promise<FormDialog> {\n        const dialogData = {title: item.name,\n                            event,\n        };\n\n        const templatePath = 'systems/shadowrun5e/dist/templates/rolls/roll-spell.html';\n        const templateData = {};\n        const onAfterClose = ShadowrunItemDialog.addSpellData(templateData, dialogData, item);\n\n        dialogData['templateData'] = templateData;\n        dialogData['templatePath'] = templatePath;\n        dialogData['onAfterClose'] = onAfterClose;\n\n        //@ts-ignore\n        return new FormDialog(dialogData);\n    }\n\n    static async createComplexFormDialog(item: SR5Item, event?: MouseEvent): Promise<FormDialog> {\n        const dialogData = {title: item.name,\n                            event,\n        };\n\n        const templatePath = 'systems/shadowrun5e/dist/templates/rolls/roll-complex-form.html';\n        const templateData = {};\n        const onAfterClose = ShadowrunItemDialog.addComplexFormData(templateData, dialogData, item);\n\n        dialogData['templateData'] = templateData;\n        dialogData['templatePath'] = templatePath;\n        dialogData['onAfterClose'] = onAfterClose;\n\n        //@ts-ignore\n        return new FormDialog(dialogData);\n    }\n\n    static addComplexFormData(templateData: object, dialogData: DialogData, item: SR5Item): Function {\n        const fade = item.getFade();\n        const title = `${Helpers.label(item.name)} Level`;\n\n        const level = item.getLastComplexFormLevel()?.value || 2 - fade;\n\n        templateData['fade'] = fade >= 0 ? `+${fade}` : fade;\n        templateData['level'] = level;\n        templateData['title'] = title;\n\n        let cancel = true;\n        dialogData.buttons = {\n            roll: {\n                label: 'Continue',\n                icon: '<i class=\"fas fa-dice-six\"></i>',\n                callback: () => (cancel = false),\n            },\n        };\n\n        return async (html: JQuery): Promise<ActionTestData|undefined> => {\n            if (cancel) return;\n\n            const actionTestData = {} as ComplexFormTestData;\n\n            mergeObject(actionTestData, ShadowrunItemDialog._getSelectedComplexFormLevel(html))\n\n            // TODO: Remnants of old style data flow. Look into RangedWeapon for newer style.\n            await item.setLastComplexFormLevel({value: actionTestData.level});\n\n            return {complexForm: actionTestData};\n        };\n    }\n\n    static _getSelectedComplexFormLevel(html: JQuery): object {\n        const level = Helpers.parseInputToNumber($(html).find('[name=level]').val());\n        return {level};\n    }\n\n    static addSpellData(templateData: object, dialogData: DialogData, item: SR5Item): Function {\n        const title = `${Helpers.label(item.name)} Force`;\n        const drain = item.getDrain();\n\n        const force = item.getLastSpellForce()?.value || 2 - drain;\n\n        templateData['drain'] = drain >= 0 ? `+${drain}` : `${drain}`;\n        templateData['force'] = force;\n        templateData['title'] = title;\n\n        dialogData.title = title;\n        let cancel = true;\n        let reckless = false;\n        dialogData.buttons = {\n            normal: {\n                label: game.i18n.localize('SR5.NormalSpellButton'),\n                callback: () => (cancel = false),\n            },\n            reckless: {\n                label: game.i18n.localize('SR5.RecklessSpellButton'),\n                callback: () => {\n                    reckless = true;\n                    cancel = false;\n                },\n            },\n        };\n        dialogData.default = 'normal';\n\n        return async (html: JQuery): Promise<ActionTestData|undefined> => {\n            if (cancel) return;\n\n            const actionTestData = {} as SpellActionTestData;\n\n            mergeObject(actionTestData, ShadowrunItemDialog._getSelectedSpellForce(html));\n            mergeObject(actionTestData, ShadowrunItemDialog._getSelectedSpellReckless(reckless));\n\n            await item.setLastSpellForce({value: actionTestData.force, reckless: actionTestData.reckless});\n\n            return {spell: actionTestData};\n        };\n    }\n\n    static _getSelectedSpellForce(html: JQuery): object {\n        const force = Helpers.parseInputToNumber($(html).find('[name=force]').val());\n        return {force}\n    }\n\n    static _getSelectedSpellReckless(reckless: boolean): object {\n        return {reckless}\n    }\n\n    static addRangedWeaponData(templateData: object, dialogData: DialogData, item: SR5Item): Function {\n        let title = dialogData.title || item.name;\n\n        const itemData = item.data.data as WeaponData;\n        const fireModes = {};\n\n        const {modes, ranges} = itemData.range;\n        const {ammo} = itemData;\n        // TODO: This should be moved into constants or some kind of 'rulesData'\n        if (modes.single_shot) {\n            fireModes['1'] = game.i18n.localize(\"SR5.WeaponModeSingleShotShort\");\n        }\n        if (modes.semi_auto) {\n            fireModes['1'] = game.i18n.localize(\"SR5.WeaponModeSemiAutoShort\");\n            fireModes['3'] = game.i18n.localize(\"SR5.WeaponModeSemiAutoBurst\");\n        }\n        if (modes.burst_fire) {\n            fireModes['3'] = `${modes.semi_auto ? `${game.i18n.localize(\"SR5.WeaponModeSemiAutoBurst\")}/` : ''}${game.i18n.localize(\"SR5.WeaponModeBurstFireShort\")}`;\n            fireModes['6'] = game.i18n.localize(\"SR5.WeaponModeBurstFireLong\");\n        }\n        if (modes.full_auto) {\n            fireModes['6'] = `${modes.burst_fire ? 'LB/' : ''}${game.i18n.localize(\"SR5.WeaponModeFullAutoShort\")}(s)`;\n            fireModes['10'] = `${game.i18n.localize(\"SR5.WeaponModeFullAutoShort\")}(c)`;\n            fireModes['20'] = game.i18n.localize('SR5.Suppressing');\n        }\n\n        const templateRanges = this._getRangeWeaponTemplateData(ranges);\n        const fireMode = item.getLastFireMode();\n        const rc = item.getRecoilCompensation(true);\n        templateData['fireModes'] = fireModes;\n        templateData['fireMode'] = fireMode?.value;\n        templateData['rc'] = rc;\n        templateData['ammo'] = ammo;\n        templateData['title'] = title;\n        templateData['ranges'] = templateRanges;\n\n        if (item.actor.getToken() && Helpers.userHasTargets()) {\n            templateData['targetsSelected'] = Helpers.userHasTargets();\n            templateData['targets'] = ShadowrunItemDialog._getTargetRangeTemplateData(item.actor, templateRanges);\n        } else if (!item.actor.getToken() && Helpers.userHasTargets()) {\n            // Inform user about usage of actors without tokens!\n            ui.notifications.warn(game.i18n.localize('SR5.TargetingNeedsActorWithToken'));\n        }\n\n        let cancel = true;\n        dialogData.buttons = {\n            continue: {\n                label: game.i18n.localize('SR5.Continue'),\n                callback: () => (cancel = false),\n            },\n        };\n\n        // TODO: Move this selection handler to an appropriate place. Maybe split ShadowrunItemDialog into subclasses.\n        return async (html): Promise<ActionTestData|undefined> => {\n            if (cancel) {\n                return;\n            }\n\n            const actionTestData = {} as RangedWeaponActionTestData;\n\n            if (Helpers.userHasTargets()) {\n                mergeObject(actionTestData, ShadowrunItemDialog._getSelectedTargetRangeModifier(html));\n            } else {\n                mergeObject(actionTestData, ShadowrunItemDialog._getSelectedRangeModifier(html));\n                // Store lastFireRange for generic range selection.\n            }\n\n            mergeObject(actionTestData, ShadowrunItemDialog._getSelectedFireMode(html, fireModes))\n\n            const {targetId} = ShadowrunItemDialog._getSelectedTargetTokenId(html);\n\n            // Store selections for next dialog.\n\n            if (actionTestData.environmental.range !== undefined) {\n                // Change environmental modifiers for the actor.\n                const modifiers = await item.actor.getModifiers();\n                if (!modifiers.hasActiveEnvironmentalOverwrite) {\n                    modifiers.activateEnvironmentalCategory('range', actionTestData.environmental.range);\n                    await item.actor.setModifiers(modifiers);\n                } else {\n                    console.error('The actor has an active environmental overwrite, yet could define a manual range selection.');\n                }\n\n                await item.setLastFireRangeMod({value: actionTestData.environmental.range});\n            }\n            if (actionTestData.fireMode) {\n                await item.setLastFireMode(actionTestData.fireMode);\n            }\n\n            return {rangedWeapon: actionTestData, targetId};\n        };\n    }\n\n    static _getRangeWeaponTemplateData(ranges: RangeData): RangesTemplateData {\n        const {range_modifiers} = SR.combat.environmental;\n        const newRanges = {} as RangesTemplateData;\n        for (const [key, value] of Object.entries(ranges)) {\n            const distance = value as number;\n            newRanges[key] = Helpers.createRangeDescription(CONFIG.SR5.weaponRanges[key], distance, range_modifiers[key]);\n        }\n        return newRanges;\n    }\n\n    /** Build template data for target distances and resulting range modifiers\n     *\n     * It is mandatory for an actor to have token placed,\n     * so distance measurements can be taken.\n     *\n     */\n    static _getTargetRangeTemplateData(actor: SR5Actor, ranges) {\n        const attacker = actor.getToken();\n\n        if (!attacker || !Helpers.userHasTargets()) {\n            ui.notifications.warn(game.i18n.localize('SR5.TargetingNeedsActorWithToken'));\n            return [];\n        }\n\n        const targets = Helpers.getUserTargets();\n\n        const targetsTemplateData = targets.map(target => {\n            //@ts-ignore // undefined actor is okay\n            const distance = Helpers.measureTokenDistance(attacker, target);\n            const range = Helpers.getWeaponRange(distance, ranges);\n            return {\n                id: target.id,\n                name: target.name,\n                range: range,\n                unit: LENGTH_UNIT,\n                distance\n            };\n        });\n\n        //@ts-ignore\n        return targetsTemplateData.sort((a, b) => {\n            if (a.distance < b.distance) return -1;\n            if (a.distance > b.distance) return 1;\n            return 0;\n        });\n    }\n\n    static _getSelectedTargetRangeModifier(html: JQuery): object {\n        const selectElement = $(html).find('[name=\"selected-target\"]');\n        const range = Helpers.parseInputToNumber(selectElement.find(':selected').data('range-modifier'));\n\n        return {\n            environmental: {range}\n        };\n    }\n\n    static _getSelectedTargetTokenId(html: JQuery) {\n        const selectElement = $(html).find('[name=\"selected-target\"]');\n        const targetId = selectElement.val() as string;\n        return {targetId};\n    }\n\n    static _getSelectedRangeModifier(html: JQuery): object {\n        const range = Helpers.parseInputToNumber($(html).find('[name=\"range\"]').val());\n\n        return {environmental: {range}}\n    }\n\n    static _getSelectedFireMode(html: JQuery, fireModes): object {\n        const fireModeValue = Helpers.parseInputToNumber($(html).find('[name=\"fireMode\"]').val());\n        if (fireModeValue) {\n            const fireModeString = fireModes[fireModeValue];\n            const defenseModifier = Helpers.mapRoundsToDefenseDesc(fireModeValue);\n\n            const fireMode: FireModeData = {\n                label: fireModeString,\n                value: fireModeValue,\n                defense: defenseModifier,\n            };\n\n            return {fireMode};\n        }\n\n        return {};\n    }\n}\n","import {FormDialog, FormDialogData} from \"./FormDialog\";\nimport {RollDialogOptions} from \"../../rolls/ShadowrunRoller\";\nimport {PartsList} from \"../../parts/PartsList\";\nimport {SR5Actor} from \"../../actor/SR5Actor\";\nimport {CORE_FLAGS, CORE_NAME, FLAGS, SYSTEM_NAME} from \"../../constants\";\nimport {Helpers} from \"../../helpers\";\nimport ModList = Shadowrun.ModList;\nimport BaseValuePair = Shadowrun.BaseValuePair;\nimport LabelField = Shadowrun.LabelField;\n\ninterface AdvancedTestRollOptions {\n    title?: string;\n    dialogOptions?: RollDialogOptions;\n    extended?: boolean;\n    limit?: BaseValuePair<number> & LabelField;\n    wounds?: boolean;\n}\n\nexport class ShadowrunTestDialog {\n    static async create(actor: SR5Actor|undefined, options: AdvancedTestRollOptions, partsProps: ModList<number>): Promise<FormDialog> {\n        const testDialogData = ShadowrunTestDialog.getAdvancedTestData(actor, options, partsProps);\n\n        return new FormDialog(testDialogData);\n    }\n\n    static getAdvancedTestData(actor, options: AdvancedTestRollOptions, partsProps: ModList<number>): FormDialogData {\n        const title = options.title;\n        const parts = new PartsList(partsProps);\n\n        const templateData = {\n            options: options.dialogOptions,\n            extended: options.extended,\n            pool: parts.total,\n            parts: parts.getMessageOutput(),\n            limitValue: options.limit?.value,\n            wounds: options.wounds,\n            woundValue: actor?.getWoundModifier(),\n            rollMode: game.settings.get(CORE_NAME, CORE_FLAGS.RollMode),\n            rollModes: CONFIG.Dice.rollModes\n        }\n\n        let templatePath = 'systems/shadowrun5e/dist/templates/rolls/roll-dialog.html';\n\n        const rollButtonName = 'roll'\n        const buttons = {\n            [rollButtonName]: {\n                label: game.i18n.localize('SR5.Roll'),\n                icon: '<i class=\"fas fa-dice-six\"></i>',\n                callback: () => {\n                },\n            },\n        };\n        if (actor) {\n            buttons['edge'] = {\n                label: `${game.i18n.localize('SR5.PushTheLimit')} (+${actor.getEdge().value})`,\n                icon: '<i class=\"fas fa-bomb\"></i>',\n                callback: () => {\n                },\n            };\n        }\n\n        const onAfterClose = async (html: JQuery) => {\n            const dicePoolValue = Helpers.parseInputToNumber($(html).find('[name=\"pool\"]').val());\n\n            if (options.dialogOptions?.pool) {\n                parts.clear();\n                await game.user.setFlag(SYSTEM_NAME, FLAGS.LastRollPromptValue, dicePoolValue);\n                parts.addUniquePart('SR5.Base', dicePoolValue);\n            }\n\n            const limitValue = Helpers.parseInputToNumber($(html).find('[name=\"limitValue\"]').val());\n\n            const {limit} = options;\n            if (limit && limit.value !== limitValue) {\n                limit.value = limitValue;\n                limit.base = limitValue;\n                limit.label = 'SR5.Override';\n            }\n\n            const woundValue = Helpers.parseInputToNumber($(html).find('[name=\"wounds\"]').val());\n            const situationMod = Helpers.parseInputToNumber($(html).find('[name=\"dp_mod\"]').val());\n            const environmentMod = Helpers.parseInputToNumber($(html).find('[name=\"options.environmental\"]').val());\n\n            let {wounds} = options;\n            if (wounds && woundValue !== 0) {\n                parts.addUniquePart('SR5.Wounds', woundValue);\n                wounds = true;\n            }\n            if (situationMod) {\n                parts.addUniquePart('SR5.SituationalModifier', situationMod);\n            }\n            if (environmentMod) {\n                parts.addUniquePart('SR5.EnvironmentModifier', environmentMod);\n            }\n\n            const extendedString = Helpers.parseInputToString($(html).find('[name=\"extended\"]').val());\n            const extended = extendedString === 'true';\n\n            const rollMode = Helpers.parseInputToString($(html).find('[name=rollMode]').val());\n\n            return {\n                limit,\n                wounds,\n                parts,\n                extended,\n                rollMode\n            }\n        };\n\n        return {\n            title,\n            templateData,\n            templatePath,\n            buttons,\n            default: rollButtonName,\n            onAfterClose\n        }\n    }\n}","/**\n * A GM-Tool to keep track of all players overwatch scores\n */\nimport {Helpers} from \"../../helpers\";\n\nexport class OverwatchScoreTracker extends Application {\n    static MatrixOverwatchDiceCount = '2d6';\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.id = 'overwatch-score-tracker';\n        options.classes = ['sr5'];\n        options.title = game.i18n.localize('SR5.OverwatchScoreTrackerTitle');\n        options.template = 'systems/shadowrun5e/dist/templates/apps/gmtools/overwatch-score-tracker.html';\n        options.width = 450;\n        options.height = 'auto';\n        options.resizable = true;\n        return options;\n    }\n\n    static addedActors = [];\n\n    getData() {\n        // get list of actors that belong to users\n        const actors = game.users.reduce((acc, user) => {\n            if (!user.isGM && user.character) {\n                acc.push(user.character.data);\n            }\n            return acc;\n        }, []);\n\n        OverwatchScoreTracker.addedActors.forEach((id) => {\n            const actor = game.actors.find((a) => a._id === id);\n            if (actor) {\n                actors.push(actor.data);\n            }\n        });\n\n        return {\n            actors,\n        };\n    }\n\n    activateListeners(html) {\n        html.find('.overwatch-score-reset').on('click', this._resetOverwatchScore.bind(this));\n        html.find('.overwatch-score-add').on('click', this._addOverwatchScore.bind(this));\n        html.find('.overwatch-score-input').on('change', this._setOverwatchScore.bind(this));\n        html.find('.overwatch-score-roll-15-minutes').on('click', this._rollFor15Minutes.bind(this));\n        html.find('.overwatch-score-add-actor').on('click', this._onAddActor.bind(this));\n    }\n\n    // returns the actor that this event is acting on\n    _getActorFromEvent(event) {\n        const id = event.currentTarget.closest('.list-item').dataset.actorId;\n        if (id) return game.actors.find((a) => a._id === id);\n    }\n\n    _onAddActor(event) {\n        event.preventDefault();\n        const tokens = Helpers.getControlledTokens();\n        if (tokens.length === 0) {\n            ui.notifications.warn(game.i18n.localize('SR5.OverwatchScoreTracker.NotifyNoSelectedTokens'));\n            return;\n        }\n        tokens.forEach((token) => {\n            const actorId = token.data.actorId;\n            OverwatchScoreTracker.addedActors.push(actorId);\n            this.render();\n        });\n    }\n\n    _setOverwatchScore(event) {\n        const actor = this._getActorFromEvent(event);\n        const amount = event.currentTarget.value;\n        if (amount && actor) {\n            actor.setOverwatchScore(amount).then(() => this.render());\n        }\n    }\n\n    _addOverwatchScore(event) {\n        const actor = this._getActorFromEvent(event);\n        const amount = parseInt(event.currentTarget.dataset.amount);\n        if (amount && actor) {\n            const os = actor.getOverwatchScore();\n            actor.setOverwatchScore(os + amount).then(() => this.render());\n        }\n    }\n\n    _resetOverwatchScore(event) {\n        event.preventDefault();\n        const actor = this._getActorFromEvent(event);\n        if (actor) {\n            actor.setOverwatchScore(0).then(() => this.render());\n        }\n    }\n\n    _rollFor15Minutes(event) {\n        event.preventDefault();\n        const actor = this._getActorFromEvent(event);\n        if (actor) {\n            //  use static value so it can be modified in modules\n            const roll = new Roll(OverwatchScoreTracker.MatrixOverwatchDiceCount);\n            roll.roll();\n\n            // use GM Roll Mode so players don't see\n            // const rollMode = CONFIG.Dice.rollModes.gmroll;\n            // roll.toMessage({ rollMode });\n\n            if (roll.total) {\n                const os = actor.getOverwatchScore();\n                actor.setOverwatchScore(os + roll.total).then(() => this.render());\n            }\n        }\n    }\n}\n","import { LanguageSkillEditForm } from './LanguageSkillEditForm';\nimport KnowledgeSkillCategory = Shadowrun.KnowledgeSkillCategory;\n\nexport class KnowledgeSkillEditForm extends LanguageSkillEditForm {\n    category: KnowledgeSkillCategory;\n    constructor(actor, options, skillId, category) {\n        super(actor, options, skillId);\n        this.category = category;\n    }\n    _updateString() {\n        return `data.skills.knowledge.${this.category}.value.${this.skillId}`;\n    }\n}\n","import { SkillEditForm } from './SkillEditForm';\nimport SkillEditFormData = Shadowrun.SkillEditFormData;\n\nexport class LanguageSkillEditForm extends SkillEditForm {\n    _updateString() {\n        return `data.skills.language.value.${this.skillId}`;\n    }\n\n    getData() {\n        return mergeObject(super.getData(), {\n            editable_name: true,\n            editable_canDefault: false,\n            editable_attribute: false\n        } as SkillEditFormData);\n    }\n\n    /** @override */\n    _onUpdateObject(event, formData, updateData) {\n        super._onUpdateObject(event, formData, updateData);\n        const name = formData['data.name'];\n        const currentData = updateData[this._updateString()] || {};\n        updateData[this._updateString()] = {\n            ...currentData,\n            name,\n        };\n    }\n}\n","import SkillEditFormData = Shadowrun.SkillEditFormData;\nimport {SR5Actor} from \"../../actor/SR5Actor\";\nimport Attributes = Shadowrun.Attributes;\nimport SkillField = Shadowrun.SkillField;\n\nexport class SkillEditForm extends BaseEntitySheet {\n    skillId: string;\n\n    get entity(): SR5Actor {\n        //@ts-ignore\n        return super.entity;\n    }\n\n    constructor(actor, options, skillId) {\n        super(actor, options);\n        this.skillId = skillId;\n    }\n\n    _updateString() {\n        return `data.skills.active.${this.skillId}`;\n    }\n\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        return mergeObject(options, {\n            id: 'skill-editor',\n            classes: ['sr5', 'sheet', 'skill-edit-window'],\n            template: 'systems/shadowrun5e/dist/templates/apps/skill-edit.html',\n            width: 300,\n            submitOnClose: true,\n            submitOnChange: true,\n            closeOnSubmit: false,\n            resizable: true,\n        });\n    }\n\n    get title(): string {\n        const label = this.entity.getSkillLabel(this.skillId);\n        return `${game.i18n.localize('SR5.EditSkill')} - ${game.i18n.localize(label)}`;\n    }\n\n    _onUpdateObject(event, formData, updateData) {\n        // get skill name.\n        // NOTE: This differs from the skill id, which is used to identify the skill internally.\n        const name = formData['data.name'];\n\n        // get attribute name\n        const attribute = formData['data.attribute'];\n\n        // get base value\n        const base = formData['data.base'];\n\n        // get can default\n        const canDefault = formData['data.canDefault'];\n\n        // process specializations\n        const specsRegex = /data\\.specs\\.(\\d+)/;\n        const specs = Object.entries(formData).reduce((running, [key, val]: [string, any]) => {\n            const found = key.match(specsRegex);\n            if (found && found[0]) {\n                running.push(val);\n            }\n            return running;\n        }, [] as any[]);\n\n        // process bonuses\n        const bonusKeyRegex = /data\\.bonus\\.(\\d+).key/;\n        const bonusValueRegex = /data\\.bonus\\.(\\d+).value/;\n        const bonus = Object.entries(formData).reduce((running, [key, value]: [string, any]) => {\n            const foundKey = key.match(bonusKeyRegex);\n            const foundVal = key.match(bonusValueRegex);\n            if (foundKey && foundKey[0] && foundKey[1]) {\n                const index = foundKey[1];\n                if (running[index] === undefined) running[index] = {};\n                running[index].key = value;\n            } else if (foundVal && foundVal[0] && foundVal[1]) {\n                const index = foundVal[1];\n                if (running[index] === undefined) running[index] = {};\n                running[index].value = value;\n            }\n\n            return running;\n        }, [] as any[]);\n\n        const currentData = updateData[this._updateString()] || {};\n        updateData[this._updateString()] = {\n            ...currentData,\n            base,\n            specs,\n            bonus,\n            name,\n            attribute,\n            canDefault\n        };\n    }\n\n    /** @override */\n    async _updateObject(event, formData) {\n        const updateData = {};\n        this._onUpdateObject(event, formData, updateData);\n        await this.entity.update(updateData);\n    }\n\n    activateListeners(html) {\n        super.activateListeners(html);\n        $(html).find('.add-spec').on('click', this._addNewSpec.bind(this));\n        $(html).find('.remove-spec').on('click', this._removeSpec.bind(this));\n        $(html).find('.add-bonus').on('click', this._addNewBonus.bind(this));\n        $(html).find('.remove-bonus').on('click', this._removeBonus.bind(this));\n    }\n\n    async _addNewBonus(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (!data) return;\n        const { bonus = [] } = data;\n        // add blank line for new bonus\n        updateData[`${this._updateString()}.bonus`] = [...bonus, { key: '', value: 0 }];\n        await this.entity.update(updateData);\n    }\n\n    async _removeBonus(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (data?.bonus) {\n            const { bonus } = data;\n            const index = event.currentTarget.dataset.spec;\n            if (index >= 0) {\n                bonus.splice(index, 1);\n                updateData[`${this._updateString()}.bonus`] = bonus;\n                await this.entity.update(updateData);\n            }\n        }\n    }\n\n    async _addNewSpec(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (data?.specs) {\n            // add a blank line to specs\n            const { specs } = data;\n            updateData[`${this._updateString()}.specs`] = [...specs, ''];\n        }\n        await this.entity.update(updateData);\n    }\n\n    async _removeSpec(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (data?.specs) {\n            const { specs } = data;\n            const index = event.currentTarget.dataset.spec;\n            if (index >= 0) {\n                specs.splice(index, 1);\n                updateData[`${this._updateString()}.specs`] = specs;\n                await this.entity.update(updateData);\n            }\n        }\n    }\n\n    /** Enhance attribute selection by an empty option to allow newly created skills to have no attribute selected.\n     */\n    _getSkillAttributesForSelect() {\n        return {...CONFIG.SR5.attributes, '': ''};\n    }\n\n    _allowSkillNameEditing(): boolean {\n        const skill = this.entity.getSkill(this.skillId);\n        // Typescript sees string here? Double negate for boolean type cast...\n        return !!((!skill?.name && !skill?.label) || (skill?.name && !skill?.label));\n    }\n\n    getData(): SkillEditFormData {\n        const data = super.getData();\n        const actor = data.entity;\n\n        data['data'] = actor ? getProperty(actor, this._updateString()) : {};\n        data['editable_name'] = this._allowSkillNameEditing();\n        data['editable_canDefault'] = true;\n        data['editable_attribute'] = true;\n        data['attributes'] = this._getSkillAttributesForSelect();\n        return data as SkillEditFormData;\n    }\n}\n","// directly pulled from DND5e, just changed the\nexport const measureDistance = function (segments, options = {}) {\n    //@ts-ignore\n    // basegrid isn't typed, options aren't really important\n    if (!options.gridSpaces) return BaseGrid.prototype.measureDistances.call(this, segments, options);\n\n    // Track the total number of diagonals\n    let nDiagonal = 0;\n    const rule = this.parent.diagonalRule;\n    const d = canvas.dimensions;\n\n    // Iterate over measured segments\n    return segments.map((s) => {\n        let r = s.ray;\n\n        // Determine the total distance traveled\n        let nx = Math.abs(Math.ceil(r.dx / d.size));\n        let ny = Math.abs(Math.ceil(r.dy / d.size));\n\n        // Determine the number of straight and diagonal moves\n        let nd = Math.min(nx, ny);\n        let ns = Math.abs(ny - nx);\n        nDiagonal += nd;\n\n        // Common houserule variant\n        if (rule === '1-2-1') {\n            let nd10 = Math.floor(nDiagonal / 2) - Math.floor((nDiagonal - nd) / 2);\n            let spaces = nd10 * 2 + (nd - nd10) + ns;\n            return spaces * canvas.dimensions.distance;\n        }\n\n        // Euclidean Measurement\n        else if (rule === 'EUCL') {\n            return Math.round(Math.hypot(nx, ny) * canvas.scene.data.gridDistance);\n        }\n\n        // diag and straight are same space count\n        else return (ns + nd) * canvas.scene.data.gridDistance;\n    });\n};\n","import { SR5Actor } from './actor/SR5Actor';\nimport { SR5Item } from './item/SR5Item';\nimport Template from './template';\nimport AttackData = Shadowrun.AttackData;\nimport {CORE_FLAGS, CORE_NAME, FLAGS, SYSTEM_NAME} from './constants';\nimport {ShadowrunRoll, Test} from \"./rolls/ShadowrunRoller\";\nimport DrainData = Shadowrun.DrainData;\nimport {Helpers} from \"./helpers\";\nimport ModifiedDamageData = Shadowrun.ModifiedDamageData;\nimport DamageType = Shadowrun.DamageType;\nimport DamageElement = Shadowrun.DamageElement;\nimport CombatData = Shadowrun.CombatData;\nimport { DamageApplicationFlow } from './actor/DamageApplicationFlow';\n\nexport interface RollTargetChatMessage {\n    actor: SR5Actor\n    target?: Token|undefined\n    targets?: Token[]\n    item: SR5Item\n    tests: Test[]\n    roll: ShadowrunRoll\n    attack?: AttackData\n    rollMode?: keyof typeof CONFIG.Dice.rollModes\n}\n\nexport interface TargetChatMessageOptions extends RollTargetChatMessage{\n    whisperTo: User\n}\n\n// Simple card text messages\nexport interface ItemChatMessageOptions {\n    actor: SR5Actor\n    item: SR5Item\n    description: object\n    tests?: Test[]\n}\n\nexport interface RollChatMessageOptions {\n    title: string\n    roll: ShadowrunRoll\n    actor?: SR5Actor\n    target?: Token\n    targets?: Token[]\n\n    item?: SR5Item\n\n    description?: object\n\n    rollMode?: keyof typeof CONFIG.dice.rollModes\n    previewTemplate?: boolean\n\n    attack?: AttackData\n    incomingAttack?: AttackData\n    incomingDrain?: DrainData\n    damage?: ModifiedDamageData\n    tests?: Test[]\n    combat?: CombatData\n    reach?: number\n}\n\ninterface ItemChatTemplateData {\n    title: string\n    actor: SR5Actor\n    tokenId?: string\n    item: SR5Item\n    description: object\n    tests?: Test[]\n}\n\ninterface RollChatTemplateData extends RollChatMessageOptions {\n    tokenId?: string\n    targetTokenId?: string\n    rollMode: keyof typeof CONFIG.dice.rollModes\n}\n\nasync function createChatMessage(templateData, options?: ChatDataOptions): Promise<Entity<any>> {\n    const chatData = await createChatData(templateData, options);\n    const message = await ChatMessage.create(chatData);\n\n    // Store data in chat message for later use (opposed tests)\n    if (templateData.roll) await message.setFlag(SYSTEM_NAME, FLAGS.Roll, templateData.roll);\n    if (templateData.attack) await message.setFlag(SYSTEM_NAME, FLAGS.Attack, templateData.attack);\n    // Convert targets into scene token ids.\n    if (templateData.targets) await message.setFlag(SYSTEM_NAME, FLAGS.TargetsSceneTokenIds, templateData.targets.map(target => getTokenSceneId(target)));\n\n    console.log('Chat Message', message, chatData);\n    return message;\n}\n\ninterface ChatDataOptions {\n    roll?: ShadowrunRoll,\n    whisperTo?: User\n}\n// templateData has no datatype to pipe through whatever it's given.\n// Clean up your data within templateData creation functions!\nconst createChatData = async (templateData, options?: ChatDataOptions) => {\n    const template = `systems/shadowrun5e/dist/templates/rolls/roll-card.html`;\n    const actor = templateData.actor;\n    const token = actor?.getToken();\n\n    //@ts-ignore\n    const enhancedTemplateData = {\n        ...templateData,\n        speaker: {\n            actor, token\n        },\n        showGlitchAnimation: game.settings.get(SYSTEM_NAME, FLAGS.ShowGlitchAnimation),\n    };\n    const html = await renderTemplate(template, enhancedTemplateData);\n\n    const chatData = {\n        user: game.user._id,\n        type: options?.roll ? CONST.CHAT_MESSAGE_TYPES.ROLL : CONST.CHAT_MESSAGE_TYPES.OTHER,\n        sound: options?.roll ? CONFIG.sounds.dice : undefined,\n        content: html,\n        roll: options?.roll ? JSON.stringify(options?.roll) : undefined,\n        speaker: {\n            actor: actor?._id,\n            token: actor?.getToken(),\n            alias: game.user.name\n        },\n        flags: {\n            shadowrun5e: {\n                customRoll: true,\n            },\n        }\n    };\n\n    const rollMode = templateData.rollMode ?? game.settings.get(CORE_NAME, CORE_FLAGS.RollMode);\n\n    if (['gmroll', 'blindroll'].includes(rollMode as string)) chatData['whisper'] = ChatMessage.getWhisperRecipients('GM');\n    if (rollMode === 'blindroll') chatData['blind'] = true;\n\n    if (options?.whisperTo) {\n        chatData['whisper'] = ChatMessage.getWhisperRecipients(options.whisperTo.name);\n    }\n\n    return chatData;\n};\n\n\nexport async function ifConfiguredCreateDefaultChatMessage({roll, actor, title, rollMode}: Partial<RollChatMessageOptions>) {\n    if (game.settings.get(SYSTEM_NAME, FLAGS.DisplayDefaultRollCard) && roll) {\n        await roll.toMessage({\n            speaker: ChatMessage.getSpeaker({ actor: actor }),\n            flavor: title,\n            rollMode: rollMode,\n        });\n    }\n}\n\nexport async function createTargetChatMessage(options: TargetChatMessageOptions) {\n    const rollChatOptions = {...options};\n    const messageOptions = {whisperTo: options.whisperTo};\n    //@ts-ignore\n    const templateData = getRollChatTemplateData(rollChatOptions);\n    return await createChatMessage(templateData, messageOptions);\n}\n\nexport async function createItemChatMessage(options: ItemChatMessageOptions) {\n    const templateData = createChatTemplateData(options);\n    return await createChatMessage(templateData);\n}\n\nfunction createChatTemplateData(options: ItemChatMessageOptions): ItemChatTemplateData {\n    // field extraction is explicit to enforce visible data flow to ensure clean data.\n    // NOTE: As soon as clear data dynamic data flow can be established, this should be removed for a simple {...options}\n    let {actor, item, description, tests} = options;\n\n    const token = actor?.getToken();\n    const tokenId = getTokenSceneId(token);\n    const title = game.i18n.localize(\"SR5.Description\");\n\n    return {\n        title,\n        actor,\n        tokenId,\n        item,\n        description,\n        tests\n    }\n}\n\nexport async function createRollChatMessage(options: RollChatMessageOptions): Promise<Entity<any>> {\n    await ifConfiguredCreateDefaultChatMessage(options);\n\n    const templateData = getRollChatTemplateData(options);\n    const chatOptions = {roll: options.roll};\n    const message = await createChatMessage(templateData, chatOptions);\n\n    return message;\n}\n\n\nfunction getRollChatTemplateData(options: RollChatMessageOptions): RollChatTemplateData {\n    const token = options.actor?.getToken();\n\n    const rollMode = options.rollMode ?? game.settings.get(CORE_NAME, CORE_FLAGS.RollMode);\n    const tokenId = getTokenSceneId(token);\n\n    const targetTokenId = getTokenSceneId(options.target);\n\n    return {\n       ...options,\n        tokenId,\n        targetTokenId,\n        rollMode,\n    }\n}\n\nfunction getTokenSceneId(token: Token|undefined): string|undefined {\n    return token ? `${token.scene._id}.${token.id}` : undefined;\n}\n\nexport const addChatMessageContextOptions = (html, options) => {\n    const canRoll = (li) => {\n        const msg = game.messages.get(li.data().messageId);\n\n        return msg.getFlag(SYSTEM_NAME, FLAGS.MessageCustomRoll);\n    };\n\n    options.push(\n        {\n            name: game.i18n.localize('SR5.PushTheLimit'),\n            callback: (li) => SR5Actor.pushTheLimit(li),\n            condition: canRoll,\n            icon: '<i class=\"fas fa-meteor\"></i>',\n        },\n        {\n            name: game.i18n.localize('SR5.SecondChange'),\n            callback: (li) => SR5Actor.secondChance(li),\n            condition: canRoll,\n            icon: '<i class=\"fas fa-dice-d6\"></i>',\n        }\n    );\n    return options;\n};\n\nexport const addRollListeners = (app: ChatMessage, html) => {\n    if (!app.getFlag(SYSTEM_NAME, FLAGS.MessageCustomRoll)) {\n        return\n    }\n\n    html.on('click', '.test', async (event) => {\n        event.preventDefault();\n        const messageId = html.data('messageId');\n        const message = game.messages.get(messageId);\n        const attack = message.getFlag(SYSTEM_NAME, FLAGS.Attack);\n        const item = SR5Item.getItemFromMessage(html);\n\n        const type = event.currentTarget.dataset.action;\n        if (!item) {\n            ui.notifications.error(game.i18n.localize('SR5.MissingItemForOpposedTest'));\n            return;\n        }\n\n        // Selection will overwrite chat specific targeting\n        const actors = Helpers.getSelectedActorsOrCharacter();\n\n        // No selection, fall back to targeting.\n        if (actors.length === 0) {\n            const targetSceneIds = message.getFlag(SYSTEM_NAME, FLAGS.TargetsSceneTokenIds);\n\n            for (const targetSceneId of targetSceneIds) {\n                const token = Helpers.getSceneToken(targetSceneId);\n                if (!token) continue;\n\n                const actor = token.actor as SR5Actor;\n                if (!actor) continue;\n\n                actors.push(actor);\n            }\n        }\n\n        if (!actors) return;\n\n        for (const actor of actors) {\n            await item.rollTestType(type, attack, event, actor);\n        }\n    });\n    html.on('click', '.place-template', (event) => {\n        event.preventDefault();\n        const item = SR5Item.getItemFromMessage(html);\n\n        if (item) {\n            const template = Template.fromItem(item);\n            template?.drawPreview();\n        }\n    });\n\n    html.on('click', '.card-main-content', event => {\n        event.preventDefault();\n        // NOTE: This depends on the exact card template HTML structure.\n        const card = $(event.currentTarget).closest('.chat-card');\n        card.children('.dice-rolls').toggle();\n        card.children('.card-description').toggle();\n    });\n\n\n    /** Open the sheets of different entity types based on the chat card.\n     */\n    html.on('click', '.chat-entity-link', event => {\n        event.preventDefault();\n\n        const entityLink = $(event.currentTarget);\n        const id = entityLink.data('id');\n        const type = entityLink.data('entity');\n\n        if (!id) return;\n\n       if (type === 'Token') {\n           const token = canvas.tokens.get(id);\n           token.actor.sheet.render(true, {token});\n       }\n       else if (type === 'Actor') {\n           const actor = game.actors.get(id);\n           actor.sheet.render(true);\n       }\n       else if (type === 'Item') {\n           const card = entityLink.closest('.chat-card');\n           const sceneTokenId = card.data('tokenId');\n\n           const token = Helpers.getSceneToken(sceneTokenId)\n\n           if (!token) return;\n\n           const item = token.actor.getOwnedItem(id);\n           if (item) item.sheet.render(true);\n       }\n    });\n\n    /** Select a Token on the current scene based on the link id.\n     */\n    html.on('click', '.chat-select-link', event => {\n        event.preventDefault();\n\n        const selectLink = $(event.currentTarget);\n        const tokenId = selectLink.data('tokenId');\n        const token = canvas.tokens.get(tokenId);\n\n        if (token) {\n            token.control();\n        } else {\n            ui.notifications.warn(game.i18n.localize('SR5.NoSelectableToken'))\n        }\n    });\n\n    /** Apply damage to the actor speaking the chat card.\n     */\n    html.on('click', '.apply-damage', async event => {\n        event.stopPropagation();\n        const applyDamage = $(event.currentTarget);\n\n        const value = Number(applyDamage.data('damageValue'));\n        const type = String(applyDamage.data('damageType')) as DamageType;\n        const ap = Number(applyDamage.data('damageAp'));\n        const element = String(applyDamage.data('damageElement')) as DamageElement;\n        let damage = Helpers.createDamageData(value, type, ap, element);\n\n        let actors = Helpers.getSelectedActorsOrCharacter();\n\n        // Should no selection be available try guessing.\n        if (actors.length === 0) {\n            const messageId = html.data('messageId');\n            const message = game.messages.get(messageId);\n            const targetIds = message.getFlag(SYSTEM_NAME, FLAGS.TargetsSceneTokenIds);\n\n            // If targeting is available, use that.\n            if (targetIds) {\n                targetIds.forEach(targetId => {\n                    const token = Helpers.getSceneToken(targetId);\n                    const actor = token?.actor as SR5Actor;\n                    if (!actor) return;\n                    actors.push(actor);\n                });\n\n            // Otherwise apply to the actor casting the damage.\n            } else {\n                const sceneTokenId = html.find('.chat-card').data('tokenId');\n                const token = Helpers.getSceneToken(sceneTokenId);\n                const actor = token?.actor as SR5Actor;\n                if (actor) {\n                    actors.push(actor);\n                }\n            }\n\n            if (actors.length === 0) {\n                ui.notifications.warn(game.i18n.localize(\"SR5.Warnings.TokenSelectionNeeded\"));\n                return;\n            }\n        }\n\n        new DamageApplicationFlow().runApplyDamage(actors, damage);\n    });\n};","import {SR5Actor} from \"../actor/SR5Actor\";\nimport {CombatRules} from \"../sr5/Combat\";\nimport {FLAGS, SR, SYSTEM_NAME, SYSTEM_SOCKET} from \"../constants\";\n\n/**\n * Foundry combat implementation for Shadowrun5 rules.\n *\n * TODO: Store what combatants already acted and with what initiative base and dice they did. This can be used to alter\n *       initiative score without fully rerolling and maintain propper turn order after an actor raised they ini while\n *       stepping over other actors that already had their action phase in the current initiative pass.\n *       @PDF SR5#160 'Chaning Initiative'\n */\nexport class SR5Combat extends Combat {\n    get initiativePass(): number {\n        return this.getFlag(SYSTEM_NAME, FLAGS.CombatInitiativePass) || SR.combat.INITIAL_INI_PASS;\n    }\n\n    static async setInitiativePass(combat: SR5Combat, pass: number) {\n        await combat.unsetFlag(SYSTEM_NAME, FLAGS.CombatInitiativePass);\n        await combat.setFlag(SYSTEM_NAME, FLAGS.CombatInitiativePass, pass);\n    }\n\n    constructor(...args) {\n        // @ts-ignore\n        super(...args);\n\n        this._registerSocketListeners();\n    }\n\n    /**\n     * Use the given actors token to get the combatant.\n     * NOTE: The token must be used, instead of just the actor, as unlinked tokens will all use the same actor id.\n     */\n    getActorCombatant(actor: SR5Actor): undefined | any {\n        const token = actor.getToken();\n        if (!token) return;\n        return this.getCombatantByToken(token.id);\n    }\n\n    /**\n     * Add ContextMenu options to CombatTracker Entries -- adds the basic Initiative Subtractions\n     * @param html\n     * @param options\n     */\n    static addCombatTrackerContextOptions(html, options: any[]) {\n        options.push(\n            {\n                name: game.i18n.localize('SR5.COMBAT.ReduceInitByOne'),\n                icon: '<i class=\"fas fa-caret-down\"></i>',\n                callback: async (li) => {\n                    // @ts-ignore\n                    const combatant = await game.combat.getCombatant(li.data('combatant-id'));\n                    if (combatant) {\n                        const combat: SR5Combat = game.combat as SR5Combat;\n                        await combat.adjustInitiative(combatant, -1);\n                    }\n                },\n            },\n            {\n                name: game.i18n.localize('SR5.COMBAT.ReduceInitByFive'),\n                icon: '<i class=\"fas fa-angle-down\"></i>',\n                callback: async (li) => {\n                    // @ts-ignore\n                    const combatant = await game.combat.getCombatant(li.data('combatant-id'));\n                    if (combatant) {\n                        const combat: SR5Combat = game.combat as SR5Combat;\n                        await combat.adjustInitiative(combatant, -5);\n                    }\n                },\n            },\n            {\n                name: game.i18n.localize('SR5.COMBAT.ReduceInitByTen'),\n                icon: '<i class=\"fas fa-angle-double-down\"></i>',\n                callback: async (li) => {\n                    // @ts-ignore\n                    const combatant = await game.combat.getCombatant(li.data('combatant-id'));\n                    if (combatant) {\n                        const combat: SR5Combat = game.combat as SR5Combat;\n                        await combat.adjustInitiative(combatant, -10);\n                    }\n                },\n            },\n        );\n        return options;\n    }\n\n    /**\n     *\n     * @param combatant\n     * @param adjustment\n     */\n    async adjustInitiative(combatant: string | any, adjustment: number): Promise<void> {\n        combatant = typeof combatant === 'string' ? this.combatants.find((c) => c._id === combatant) : combatant;\n        if (!combatant || typeof combatant === 'string') {\n            console.error('Could not find combatant with id ', combatant);\n            return;\n        }\n        const newCombatant = {\n            _id: combatant._id,\n            initiative: Number(combatant.initiative) + adjustment,\n        };\n        // @ts-ignore\n        await this.updateCombatant(newCombatant);\n    }\n\n    /**\n     * Handle the change of an initiative pass. This needs owner permissions on the combat entity.\n     * @param combatId\n     */\n    static async handleIniPass(combatId: string) {\n        const combat = game.combats.get(combatId) as SR5Combat;\n        if (!combat) return;\n\n        const initiativePass = combat.initiativePass + 1;\n        // Start at the top!\n        const turn = 0;\n\n        const combatants: any[] = [];\n        for (const combatant of combat.combatants) {\n            const initiative = CombatRules.reduceIniResultAfterPass(Number(combatant.initiative));\n            combatants.push({_id: combatant._id, initiative});\n        }\n        if (combatants.length > 0)\n            // @ts-ignore\n            await combat.updateCombatant(combatants);\n\n        await SR5Combat.setInitiativePass(combat, initiativePass);\n        await combat.update({turn});\n        return;\n    }\n\n    /**\n     * Handle the change of a initiative round. This needs owner permission on the combat entity.\n     * @param combatId\n     */\n    static async handleNextRound(combatId: string) {\n        const combat = game.combats.get(combatId) as SR5Combat;\n        if (!combat) return;\n        await combat.resetAll();\n        await SR5Combat.setInitiativePass(combat, SR.combat.INITIAL_INI_PASS);\n\n        if (game.settings.get(SYSTEM_NAME, FLAGS.OnlyAutoRollNPCInCombat)) {\n            await combat.rollNPC();\n        } else {\n            await combat.rollAll();\n        }\n\n        const turn = 0;\n        await combat.update({turn});\n    }\n\n    /**\n     * Make sure Shadowrun initiative order is applied.\n     */\n    setupTurns(): any[] {\n        const turns = super.setupTurns();\n        return turns.sort(SR5Combat.sortByRERIC);\n    }\n\n    static sortByRERIC(left, right): number {\n        // First sort by initiative value if different\n        const leftInit = Number(left.initiative);\n        const rightInit = Number(right.initiative);\n        if (isNaN(leftInit)) return 1;\n        if (isNaN(rightInit)) return -1;\n        if (leftInit > rightInit) return -1;\n        if (leftInit < rightInit) return 1;\n\n        // now we sort by ERIC\n        const genData = (actor) => {\n            // There are broken scenes out there, which will try setting up a combat without valid actors.\n            if (!actor) return [0, 0, 0, 0];\n            // edge, reaction, intuition, coin flip\n            return [\n                Number(actor.getEdge().value),\n                Number(actor.findAttribute('reaction')?.value),\n                Number(actor.findAttribute('intuition')?.value),\n                new Roll('1d2').roll().total,\n            ];\n        };\n\n        const leftData = genData(left.actor);\n        const rightData = genData(right.actor);\n        // if we find a difference that isn't 0, return it\n        for (let index = 0; index < leftData.length; index++) {\n            const diff = rightData[index] - leftData[index];\n            if (diff !== 0) return diff;\n        }\n\n        return 0;\n    }\n\n    /**\n     * Return the position in the current ini pass of the next undefeated combatant.\n     */\n    get nextUndefeatedTurnPosition(): number {\n        for (let [turnInPass, combatant] of this.turns.entries()) {\n            // Skipping is only interesting when moving forward.\n            if (turnInPass <= this.turn) continue;\n            // @ts-ignore\n            if (!combatant.defeated && combatant.initiative > 0) {\n                return turnInPass;\n            }\n        }\n        // The current turn is the last undefeated combatant. So go to the end and beeeeyooond.\n        return this.turns.length;\n    }\n\n    /**\n     * Return the position in the current ini pass of the next combatant that has an action phase left.\n     */\n    get nextViableTurnPosition(): number {\n        // Start at the next position after the current one.\n        for (let [turnInPass, combatant] of this.turns.entries()) {\n            // Skipping is only interesting when moving forward.\n            if (turnInPass <= this.turn) continue;\n            // @ts-ignore\n            if (combatant.initiative > 0) {\n                return turnInPass;\n            }\n        }\n        // The current turn is the last undefeated combatant. So go to the end and beeeeyooond.\n        return this.turns.length;\n    }\n\n    /**\n     * Determine wheter the current combat situation (current turn order) needs and can have an initiative pass applied.\n     * @return true means that an initiative pass must be applied\n     */\n    doIniPass(nextTurn: number): boolean {\n        // We're currently only stepping from combatant to combatant.\n        if (nextTurn < this.turns.length) return false;\n        // Prepare another possible initiative order.\n        const currentScores = this.combatants.map(combatant => Number(combatant.initiative));\n\n        return CombatRules.iniOrderCanDoAnotherPass(currentScores);\n    }\n\n    /**\n     * After all combatants have had their action phase (click on next 'turn') handle shadowrun rules for\n     * initiative pass and combat turn.\n     *\n     * As long as a combatant still has a positive initiative score left, go to the next pass.\n     *  Raise the Foundry turn and don't raise the Foundry round.\n     * As soons as all combatants have no initiative score left, go to the next combat round.\n     *  Reset the Foundry pass and don't raise the Foundry turn.\n     *\n     * Retrigger Initiative Rolls on each new Foundry round.\n     *\n     *\n     * * @Override\n     */\n    async nextTurn(): Promise<void> {\n        // Maybe advance to the next round/init pass\n        let nextRound = this.round;\n        let initiativePass = this.initiativePass;\n        // Get the next viable turn position.\n        let nextTurn = this.settings.skipDefeated ?\n            this.nextUndefeatedTurnPosition :\n            this.nextViableTurnPosition;\n\n        // Start of the combat Handling\n        if (nextRound === 0 && initiativePass === 0) {\n            await this.startCombat();\n            return;\n        }\n\n        // Just step from one combatant to the next!\n        if (nextTurn < this.turns.length) {\n            await this.update({turn: nextTurn});\n            return;\n        }\n\n        // Initiative Pass Handling. Owner permissions are needed to change the initiative pass.\n        if (!game.user.isGM && this.doIniPass(nextTurn)) {\n            await this._createDoIniPassSocketMessage();\n            return;\n        }\n\n        if (game.user.isGM && this.doIniPass(nextTurn)) {\n            await SR5Combat.handleIniPass(this.id)\n            return;\n        }\n\n        // Initiative Round Handling.\n        // NOTE: It's not checked if the next is needed. This should result int he user noticing the turn going up, when it\n        //       maybe shouldn't and reporting a unhandled combat phase flow case.\n        return this.nextRound();\n    }\n\n    async startCombat() {\n        const nextRound = SR.combat.INITIAL_INI_ROUND;\n        const initiativePass = SR.combat.INITIAL_INI_PASS;\n        // Start at the top!\n        const nextTurn = 0;\n\n        await SR5Combat.setInitiativePass(this, initiativePass);\n        await this.update({round: nextRound, turn: nextTurn});\n\n        if (game.settings.get(SYSTEM_NAME, FLAGS.OnlyAutoRollNPCInCombat)) {\n            await this.rollNPC();\n        } else {\n            await this.rollAll();\n        }\n    }\n\n    async nextRound(): Promise<void> {\n        // Let Foundry handle time and some other things.\n        await super.nextRound();\n\n        // Owner permissions are needed to change the shadowrun initiative round.\n        if (!game.user.isGM) {\n            await this._createDoNextRoundSocketMessage();\n        } else {\n            await SR5Combat.handleNextRound(this.id);\n        }\n    }\n\n    /**\n     * use default behaviour but ALWAYS start at the top!\n     */\n    async rollAll(): Promise<SR5Combat> {\n        const combat = await super.rollAll() as SR5Combat;\n        if (combat.turn !== 0)\n            await combat.update({turn: 0});\n        return combat;\n    }\n\n    async updateNewCombatants(ids: string[]) {\n        const newCombatants = this.combatants.filter(combatant => ids.includes(combatant._id));\n        if (!newCombatants) return;\n\n        // Reduce initiative score for ongoing initiative passes.\n        const updateData = newCombatants.map(combatant => {\n            const initiative = CombatRules.reduceIniOnLateSpawn(combatant.initiative, this.initiativePass);\n            return {\n                _id: combatant._id,\n                initiative\n            }\n        })\n\n        // @ts-ignore\n        await this.updateCombatant(updateData);\n    }\n\n\n    /**\n     * Shadowrun starts at the top, except for subsequent initiative passes, then it depends on the new values.\n     */\n    async rollInitiative(ids, options): Promise<SR5Combat> {\n        const newIds = Array.isArray(ids) ? ids : [ids];\n        //@ts-ignore\n        const combat = await super.rollInitiative(ids, options) as SR5Combat;\n\n        // if (this.initiativePass > SR.combat.INITIAL_INI_PASS)\n        //     await this.updateNewCombatants(newIds);\n\n        if (this.initiativePass === SR.combat.INITIAL_INI_PASS)\n            await combat.update({turn: 0});\n\n        return combat;\n    }\n\n    /**\n     * Alter initiative formula to include initiative pass reduction.\n     *\n     * NOTE: Should this here fail or be buggy, there always is SR5Combat.updateNewCombatants which can be uncommented in SR5Combat.rollInitiative\n     * @param combatant\n     */\n    _getInitiativeFormula(combatant: Entity) {\n        if (this.initiativePass === SR.combat.INITIAL_INI_PASS) { // @ts-ignore\n            return super._getInitiativeFormula(combatant);\n        }\n\n        // Reduce for initiative passes until zero.\n        return `max(${game.system.data.initiative} -${(this.initiativePass - 1) * -SR.combat.INI_RESULT_MOD_AFTER_INI_PASS}, 0)`;\n    }\n\n    _registerSocketListeners() {\n        // @ts-ignore\n        game.socket.on(SYSTEM_SOCKET, async (message) => {\n            switch (message.type) {\n                case (FLAGS.DoNextRound):\n                    if (!message.data.hasOwnProperty('id') && typeof message.data.id !== 'string') {\n                        console.error(`SR5Combat Socket Message ${FLAGS.DoNextRound} data.id must be a string (combat id) but is ${typeof message.data} (${message.data})!`);\n                        return;\n                    }\n\n                    return await SR5Combat.handleNextRound(message.data.id);\n                case (FLAGS.DoInitPass):\n                    if (!message.data.hasOwnProperty('id') && typeof message.data.id !== 'string') {\n                        console.error(`SR5Combat Socket Message ${FLAGS.DoInitPass} data.id must be a string (combat id) but is ${typeof message.data} (${message.data})!`);\n                        return;\n                    }\n\n                    return await SR5Combat.handleIniPass(message.data.id);\n            }\n        })\n    }\n\n    async _createDoNextRoundSocketMessage() {\n        //@ts-ignore\n        await game.socket.emit(`${SYSTEM_SOCKET}`, {type: FLAGS.DoNextRound, data: {id: this.id}});\n    }\n\n    async _createDoIniPassSocketMessage() {\n        //@ts-ignore\n        await game.socket.emit(`${SYSTEM_SOCKET}`, {type: FLAGS.DoInitPass, data: {id: this.id}});\n    }\n}\n","export const SR5 = {\n    itemTypes: {\n        action: 'SR5.ItemTypes.Action',\n        adept_power: 'SR5.ItemTypes.AdeptPower',\n        ammo: 'SR5.ItemTypes.Ammo',\n        armor: 'SR5.ItemTypes.Armor',\n        complex_form: 'SR5.ItemTypes.ComplexForm',\n        contact: 'SR5.ItemTypes.Contact',\n        critter_power: 'SR5.ItemTypes.CritterPower',\n        cyberware: 'SR5.ItemTypes.Cyberware',\n        bioware: 'SR5.ItemTypes.Bioware',\n        device: 'SR5.ItemTypes.Device',\n        equipment: 'SR5.ItemTypes.Equipment',\n        lifestyle: 'SR5.ItemTypes.Lifestyle',\n        modification: 'SR5.ItemTypes.Modification',\n        quality: 'SR5.ItemTypes.Quality',\n        sin: 'SR5.ItemTypes.Sin',\n        spell: 'SR5.ItemTypes.Spell',\n        weapon: 'SR5.ItemTypes.Weapon',\n    },\n\n    attributes: {\n        body: 'SR5.AttrBody',\n        agility: 'SR5.AttrAgility',\n        reaction: 'SR5.AttrReaction',\n        strength: 'SR5.AttrStrength',\n        willpower: 'SR5.AttrWillpower',\n        logic: 'SR5.AttrLogic',\n        intuition: 'SR5.AttrIntuition',\n        charisma: 'SR5.AttrCharisma',\n        magic: 'SR5.AttrMagic',\n        resonance: 'SR5.AttrResonance',\n        edge: 'SR5.AttrEdge',\n        essence: 'SR5.AttrEssence',\n        attack: 'SR5.MatrixAttrAttack',\n        sleaze: 'SR5.MatrixAttrSleaze',\n        data_processing: 'SR5.MatrixAttrDataProc',\n        firewall: 'SR5.MatrixAttrFirewall',\n    },\n\n    limits: {\n        physical: 'SR5.LimitPhysical',\n        social: 'SR5.LimitSocial',\n        mental: 'SR5.LimitMental',\n        attack: 'SR5.MatrixAttrAttack',\n        sleaze: 'SR5.MatrixAttrSleaze',\n        data_processing: 'SR5.MatrixAttrDataProc',\n        firewall: 'SR5.MatrixAttrFirewall',\n    },\n\n    specialTypes: {\n        mundane: 'SR5.Mundane',\n        magic: 'SR5.Awakened',\n        resonance: 'SR5.Emerged',\n    },\n\n    damageTypes: {\n        physical: 'SR5.DmgTypePhysical',\n        stun: 'SR5.DmgTypeStun',\n        matrix: 'SR5.DmgTypeMatrix',\n    },\n\n    elementTypes: {\n        fire: 'SR5.ElementFire',\n        cold: 'SR5.ElementCold',\n        acid: 'SR5.ElementAcid',\n        electricity: 'SR5.ElementElectricity',\n        radiation: 'SR5.ElementRadiation',\n    },\n\n    spellCategories: {\n        combat: 'SR5.SpellCatCombat',\n        detection: 'SR5.SpellCatDetection',\n        health: 'SR5.SpellCatHealth',\n        illusion: 'SR5.SpellCatIllusion',\n        manipulation: 'SR5.SpellCatManipulation',\n    },\n\n    spellTypes: {\n        physical: 'SR5.SpellTypePhysical',\n        mana: 'SR5.SpellTypeMana',\n    },\n\n    spellRanges: {\n        touch: 'SR5.SpellRangeTouch',\n        los: 'SR5.SpellRangeLos',\n        los_a: 'SR5.SpellRangeLosA',\n    },\n\n    combatSpellTypes: {\n        direct: 'SR5.SpellCombatDirect',\n        indirect: 'SR5.SpellCombatIndirect',\n    },\n\n    detectionSpellTypes: {\n        directional: 'SR5.SpellDetectionDirectional',\n        psychic: 'SR5.SpellDetectionPsychic',\n        area: 'SR5.SpellDetectionArea',\n    },\n\n    illusionSpellTypes: {\n        obvious: 'SR5.SpellIllusionObvious',\n        realistic: 'SR5.SpellIllusionRealistic',\n    },\n\n    illusionSpellSenses: {\n        'single-sense': 'SR5.SpellIllusionSingleSense',\n        'multi-sense': 'SR5.SpellIllusionMultiSense',\n    },\n\n    attributeRolls: {\n        composure: 'SR5.RollComposure',\n        lift_carry: 'SR5.RollLiftCarry',\n        judge_intentions: 'SR5.RollJudgeIntentions',\n        memory: 'SR5.RollMemory',\n    },\n\n    matrixTargets: {\n        persona: 'SR5.TargetPersona',\n        device: 'SR5.TargetDevice',\n        file: 'SR5.TargetFile',\n        self: 'SR5.TargetSelf',\n        sprite: 'SR5.TargetSprite',\n        other: 'SR5.TargetOther',\n    },\n\n    durations: {\n        instant: 'SR5.DurationInstant',\n        sustained: 'SR5.DurationSustained',\n        permanent: 'SR5.DurationPermanent',\n    },\n\n    weaponCategories: {\n        range: 'SR5.WeaponCatRange',\n        melee: 'SR5.WeaponCatMelee',\n        thrown: 'SR5.WeaponCatThrown',\n    },\n\n    weaponRanges: {\n        short: 'SR5.WeaponRangeShort',\n        medium: 'SR5.WeaponRangeMedium',\n        long: 'SR5.WeaponRangeLong',\n        extreme: 'SR5.WeaponRangeExtreme',\n    },\n\n    qualityTypes: {\n        positive: 'SR5.QualityTypePositive',\n        negative: 'SR5.QualityTypeNegative',\n    },\n\n    adeptPower: {\n        types: {\n            active: 'SR5.AdeptPower.Types.Active',\n            passive: 'SR5.AdeptPower.Types.Passive',\n        },\n    },\n\n    deviceCategories: {\n        commlink: 'SR5.DeviceCatCommlink',\n        cyberdeck: 'SR5.DeviceCatCyberdeck',\n    },\n\n    cyberwareGrades: {\n        standard: 'SR5.CyberwareGradeStandard',\n        alpha: 'SR5.CyberwareGradeAlpha',\n        beta: 'SR5.CyberwareGradeBeta',\n        delta: 'SR5.CyberwareGradeDelta',\n        used: 'SR5.CyberwareGradeUsed',\n    },\n\n    knowledgeSkillCategories: {\n        street: 'SR5.KnowledgeSkillStreet',\n        academic: 'SR5.KnowledgeSkillAcademic',\n        professional: 'SR5.KnowledgeSkillProfessional',\n        interests: 'SR5.KnowledgeSkillInterests',\n    },\n\n    activeSkills: {\n        archery: 'SR5.SkillArchery',\n        automatics: 'SR5.SkillAutomatics',\n        blades: 'SR5.SkillBlades',\n        clubs: 'SR5.SkillClubs',\n        exotic_melee: 'SR5.SkillExoticMelee',\n        exotic_range: 'SR5.SkillExoticRange',\n        heavy_weapons: 'SR5.SkillHeavyWeapons',\n        longarms: 'SR5.SkillLongarms',\n        pistols: 'SR5.SkillPistols',\n        throwing_weapons: 'SR5.SkillThrowingWeapons',\n        unarmed_combat: 'SR5.SkillUnarmedCombat',\n        disguise: 'SR5.SkillDisguise',\n        diving: 'SR5.SkillDiving',\n        escape_artist: 'SR5.SkillEscapeArtist',\n        free_fall: 'SR5.SkillFreeFall',\n        gymnastics: 'SR5.SkillGymnastics',\n        palming: 'SR5.SkillPalming',\n        perception: 'SR5.SkillPerception',\n        running: 'SR5.SkillRunning',\n        sneaking: 'SR5.SkillSneaking',\n        survival: 'SR5.SkillSurvival',\n        swimming: 'SR5.SkillSwimming',\n        tracking: 'SR5.SkillTracking',\n        con: 'SR5.SkillCon',\n        etiquette: 'SR5.SkillEtiquette',\n        impersonation: 'SR5.SkillImpersonation',\n        instruction: 'SR5.SkillInstruction',\n        intimidation: 'SR5.SkillIntimidation',\n        leadership: 'SR5.SkillLeadership',\n        negotiation: 'SR5.SkillNegotiation',\n        performance: 'SR5.SkillPerformance',\n        alchemy: 'SR5.SkillAlchemy',\n        arcana: 'SR5.SkillArcana',\n        artificing: 'SR5.SkillArtificing',\n        assensing: 'SR5.SkillAssensing',\n        astral_combat: 'SR5.SkillAstralCombat',\n        banishing: 'SR5.SkillBanishing',\n        binding: 'SR5.SkillBinding',\n        counterspelling: 'SR5.SkillCounterspelling',\n        disenchanting: 'SR5.SkillDisenchanting',\n        ritual_spellcasting: 'SR5.SkillRitualSpellcasting',\n        spellcasting: 'SR5.SkillSpellcasting',\n        summoning: 'SR5.SkillSummoning',\n        compiling: 'SR5.SkillCompiling',\n        decompiling: 'SR5.SkillDecompiling',\n        registering: 'SR5.SkillRegistering',\n        aeronautics_mechanic: 'SR5.SkillAeronauticsMechanic',\n        automotive_mechanic: 'SR5.SkillAutomotiveMechanic',\n        industrial_mechanic: 'SR5.SkillIndustrialMechanic',\n        nautical_mechanic: 'SR5.SkillNauticalMechanic',\n        animal_handling: 'SR5.SkillAnimalHandling',\n        armorer: 'SR5.SkillArmorer',\n        artisan: 'SR5.SkillArtisan',\n        biotechnology: 'SR5.SkillBiotechnology',\n        chemistry: 'SR5.SkillChemistry',\n        computer: 'SR5.SkillComputer',\n        cybercombat: 'SR5.SkillCybercombat',\n        cybertechnology: 'SR5.SkillCybertechnology',\n        demolitions: 'SR5.SkillDemolitions',\n        electronic_warfare: 'SR5.SkillElectronicWarfare',\n        first_aid: 'SR5.SkillFirstAid',\n        forgery: 'SR5.SkillForgery',\n        hacking: 'SR5.SkillHacking',\n        hardware: 'SR5.SkillHardware',\n        locksmith: 'SR5.SkillLocksmith',\n        medicine: 'SR5.SkillMedicine',\n        navigation: 'SR5.SkillNavigation',\n        software: 'SR5.SkillSoftware',\n        gunnery: 'SR5.SkillGunnery',\n        pilot_aerospace: 'SR5.SkillPilotAerospace',\n        pilot_aircraft: 'SR5.SkillPilotAircraft',\n        pilot_walker: 'SR5.SkillPilotWalker',\n        pilot_ground_craft: 'SR5.SkillPilotGroundCraft',\n        pilot_water_craft: 'SR5.SkillPilotWaterCraft',\n        pilot_exotic_vehicle: 'SR5.SkillPilotExoticVehicle',\n    },\n\n    actionTypes: {\n        none: 'SR5.ActionTypeNone',\n        free: 'SR5.ActionTypeFree',\n        simple: 'SR5.ActionTypeSimple',\n        complex: 'SR5.ActionTypeComplex',\n        varies: 'SR5.ActionTypeVaries',\n    },\n\n    // Use within action damage calculation (base <operator> attribute) => value\n    actionDamageFormulaOperators: {\n        add: '+',\n        subtract: '-',\n        multiply: '*',\n        divide: '/'\n    },\n\n    matrixAttributes: {\n        attack: 'SR5.MatrixAttrAttack',\n        sleaze: 'SR5.MatrixAttrSleaze',\n        data_processing: 'SR5.MatrixAttrDataProc',\n        firewall: 'SR5.MatrixAttrFirewall',\n    },\n\n    initiativeCategories: {\n        meatspace: 'SR5.InitCatMeatspace',\n        astral: 'SR5.InitCatAstral',\n        matrix: 'SR5.InitCatMatrix',\n    },\n\n    modificationTypes: {\n        weapon: 'SR5.Weapon',\n        armor: 'SR5.Armor',\n    },\n\n    mountPoints: {\n        barrel: 'SR5.Barrel',\n        under_barrel: 'SR5.UnderBarrel',\n        stock: 'SR5.Stock',\n        top: 'SR5.Top',\n        side: 'SR5.Side',\n        internal: 'SR5.Internal',\n    },\n\n    lifestyleTypes: {\n        street: 'SR5.LifestyleStreet',\n        squatter: 'SR5.LifestyleSquatter',\n        low: 'SR5.LifestyleLow',\n        medium: 'SR5.LifestyleMiddle',\n        high: 'SR5.LifestyleHigh',\n        luxory: 'SR5.LifestyleLuxory',\n        other: 'SR5.LifestyleOther',\n    },\n\n    kbmod: {\n        STANDARD: 'shiftKey',\n        EDGE: 'altKey',\n        SPEC: 'ctrlKey',\n    },\n\n    actorModifiers: {\n        soak: 'SR5.RollSoak',\n        drain: 'SR5.Drain',\n        armor: 'SR5.Armor',\n        physical_limit: 'SR5.PhysicalLimit',\n        social_limit: 'SR5.SocialLimit',\n        mental_limit: 'SR5.MentalLimit',\n        stun_track: 'SR5.StunTrack',\n        physical_track: 'SR5.PhysicalTrack',\n        meat_initiative: 'SR5.MeatSpaceInit',\n        meat_initiative_dice: 'SR5.MeatSpaceDice',\n        astral_initiative: 'SR5.AstralInit',\n        astral_initiative_dice: 'SR5.AstralDice',\n        matrix_initiative: 'SR5.MatrixInit',\n        matrix_initiative_dice: 'SR5.MatrixDice',\n        composure: 'SR5.RollComposure',\n        lift_carry: 'SR5.RollLiftCarry',\n        judge_intentions: 'SR5.RollJudgeIntentions',\n        memory: 'SR5.RollMemory',\n        walk: 'SR5.Walk',\n        run: 'SR5.Run',\n        defense: 'SR5.RollDefense',\n        wound_tolerance: 'SR5.WoundTolerance',\n        essence: 'SR5.AttrEssence',\n        fade: 'SR5.RollFade',\n        global: 'SR5.Global',\n    },\n\n    programTypes: {\n        common_program: 'SR5.CommonProgram',\n        hacking_program: 'SR5.HackingProgram',\n        agent: 'SR5.Agent',\n    },\n\n    spiritTypes: {\n        // base types\n        air: 'SR5.Spirit.Types.Air',\n        beasts: 'SR5.Spirit.Types.Beasts',\n        earth: 'SR5.Spirit.Types.Earth',\n        fire: 'SR5.Spirit.Types.Fire',\n        guardian: 'SR5.Spirit.Types.Guardian',\n        guidance: 'SR5.Spirit.Types.Guidance',\n        man: 'SR5.Spirit.Types.Man',\n        plant: 'SR5.Spirit.Types.Plant',\n        task: 'SR5.Spirit.Types.Task',\n        water: 'SR5.Spirit.Types.Water',\n\n        // toxic types\n        toxic_air: 'SR5.Spirit.Types.ToxicAir',\n        toxic_beasts: 'SR5.Spirit.Types.ToxicBeasts',\n        toxic_earth: 'SR5.Spirit.Types.ToxicEarth',\n        toxic_fire: 'SR5.Spirit.Types.ToxicFire',\n        toxic_man: 'SR5.Spirit.Types.ToxicMan',\n        toxic_water: 'SR5.Spirit.Types.ToxicWater',\n\n        // blood types\n        blood: 'SR5.Spirit.Types.Blood',\n\n        // shadow types\n        muse: 'SR5.Spirit.Types.Muse',\n        nightmare: 'SR5.Spirit.Types.Nightmare',\n        shade: 'SR5.Spirit.Types.Shade',\n        succubus: 'SR5.Spirit.Types.Succubus',\n        wraith: 'SR5.Spirit.Types.Wraith',\n\n        // shedim types\n        shedim: 'SR5.Spirit.Types.Shedim',\n        master_shedim: 'SR5.Spirit.Types.MasterShedim',\n\n        // insect types\n        caretaker: 'SR5.Spirit.Types.Caretaker',\n        nymph: 'SR5.Spirit.Types.Nymph',\n        scout: 'SR5.Spirit.Types.Scout',\n        soldier: 'SR5.Spirit.Types.Soldier',\n        worker: 'SR5.Spirit.Types.Worker',\n        queen: 'SR5.Spirit.Types.Queen',\n    },\n\n    critterPower: {\n        categories: {\n          mundane: 'SR5.CritterPower.Categories.Mundane',\n          paranormal: 'SR5.CritterPower.Categories.Paranormal',\n          free_spirit: 'SR5.CritterPower.Categories.FreeSpirit',\n          emergent: 'SR5.CritterPower.Categories.Emergent',\n          shapeshifter: 'SR5.CritterPower.Categories.Shapeshifter',\n          drake: 'SR5.CritterPower.Categories.Drake',\n          echoes: 'SR5.CritterPower.Categories.Echoes',\n          weakness: 'SR5.CritterPower.Categories.Weakness',\n          paranormal_infected: 'SR5.CritterPower.Categories.ParanormalInfected',\n        },\n        types: {\n            mana: 'SR5.CritterPower.Types.Mana',\n            physical: 'SR5.CritterPower.Types.Physical',\n        },\n        ranges: {\n            los: 'SR5.CritterPower.Ranges.LineOfSight',\n            self: 'SR5.CritterPower.Ranges.Self',\n            touch: 'SR5.CritterPower.Ranges.Touch',\n            los_a: 'SR5.CritterPower.Ranges.LineOfSightArea',\n            special: 'SR5.CritterPower.Ranges.Special',\n        },\n        durations: {\n            always: 'SR5.CritterPower.Durations.Always',\n            instant: 'SR5.CritterPower.Durations.Instant',\n            sustained: 'SR5.CritterPower.Durations.Sustained',\n            permanent: 'SR5.CritterPower.Durations.Permanent',\n            special: 'SR5.CritterPower.Durations.Special',\n        },\n    },\n\n    spriteTypes: {\n        courier: 'SR5.Sprite.Types.Courier',\n        crack: 'SR5.Sprite.Types.Crack',\n        data: 'SR5.Sprite.Types.Data',\n        fault: 'SR5.Sprite.Types.Fault',\n        machine: 'SR5.Sprite.Types.Machine',\n    },\n\n    vehicle: {\n        types: {\n            air: 'SR5.Vehicle.Types.Air',\n            aerospace: 'SR5.Vehicle.Types.Aerospace',\n            ground: 'SR5.Vehicle.Types.Ground',\n            water: 'SR5.Vehicle.Types.Water',\n            walker: 'SR5.Vehicle.Types.Walker',\n            exotic: 'SR5.Vehicle.Types.Exotic',\n        },\n        stats: {\n            handling: 'SR5.Vehicle.Stats.Handling',\n            off_road_handling: 'SR5.Vehicle.Stats.OffRoadHandling',\n            speed: 'SR5.Vehicle.Stats.Speed',\n            off_road_speed: 'SR5.Vehicle.Stats.OffRoadSpeed',\n            acceleration: 'SR5.Vehicle.Stats.Acceleration',\n            pilot: 'SR5.Vehicle.Stats.Pilot',\n            sensor: 'SR5.Vehicle.Stats.Sensor',\n        },\n        control_modes: {\n            manual: 'SR5.Vehicle.ControlModes.Manual',\n            remote: 'SR5.Vehicle.ControlModes.Remote',\n            rigger: 'SR5.Vehicle.ControlModes.Rigger',\n            autopilot: 'SR5.Vehicle.ControlModes.Autopilot',\n        },\n        environments: {\n            speed: 'SR5.Vehicle.Environments.Speed',\n            handling: 'SR5.Vehicle.Environments.Handling',\n        },\n    },\n\n    character: {\n        types: {\n            human: 'SR5.Character.Types.Human',\n            elf: 'SR5.Character.Types.Elf',\n            ork: 'SR5.Character.Types.Ork',\n            dwarf: 'SR5.Character.Types.Dwarf',\n            troll: 'SR5.Character.Types.Troll',\n        },\n    },\n};\n","/**\n * The constants file is a bit of a mess of stuff that doesn't change and some shadowrun specific rule values.\n * Everything should be reused by someplace else. Try to avoid any magic values withing your code.\n *\n * The SR object contains initial values and constants. Constants are written in ALL_CAPS_CONSTANTS and should never be\n * changed during runtime.\n * Regarding Shadowrun modifier values: If the rules define a negative modifier, declare it here as such. Don't use a positive\n * modifier and subtract at the place of use.\n *\n * Other than this file config.ts exists and only contains mappings between fixed names/ids and translation labels.\n *\n */\nexport const SYSTEM_NAME = 'shadowrun5e';\nexport const SYSTEM_SOCKET = `system.${SYSTEM_NAME}`;\nexport const FLAGS = {\n    ShowGlitchAnimation: 'showGlitchAnimation',\n    ShowTokenNameForChatOutput: 'showTokenNameInsteadOfActor',\n    WhisperOpposedTestsToTargetedPlayers: 'whisperOpposedTestsToTargetedPlayers',\n    OnlyAllowRollOnDefaultableSkills: 'onlyAllowRollOnDefaultableSkills',\n    ShowSkillsWithDetails: 'showSkillsWithDetails',\n    OnlyAutoRollNPCInCombat: 'onlyAutoRollNPCInCombat',\n    MessageCustomRoll: 'customRoll',\n    ApplyLimits: 'applyLimits',\n    LastRollPromptValue: 'lastRollPromptValue',\n    DisplayDefaultRollCard: 'displayDefaultRollCard',\n    CombatInitiativePass: 'combatInitiativePass',\n    EmbeddedItems: 'embeddedItems',\n    LastFireMode: 'lastFireMode',\n    LastSpellForce: 'lastSpellForce',\n    LastComplexFormLevel: 'lastComplexFormLevel',\n    LastFireRange: 'lastFireRange',\n    Attack: 'attack',\n    Roll: 'roll',\n    TargetsSceneTokenIds: 'targetsSceneTokenIds',\n    ChangelogShownForVersion: 'changelogShownForVersion',\n    Modifier: 'modifier',\n    DoInitPass: 'doInitPass',\n    DoNextRound: 'doNextRound',\n};\nexport const CORE_NAME = 'core';\nexport const CORE_FLAGS = {\n    RollMode: 'rollMode'\n}\nexport const METATYPEMODIFIER = 'SR5.Character.Modifiers.NPCMetatypeAttribute';\n\nexport const LENGTH_UNIT_TO_METERS_MULTIPLIERS = {\n    'm': 1,\n    'meter': 1,\n    'meters': 1,\n    'km': 1000,\n    'kilometers': 1000,\n    'kilometer': 1000,\n};\n\nexport const DEFAULT_ROLL_NAME = 'Roll';\nexport const LENGTH_UNIT = 'm';\nexport const SKILL_DEFAULT_NAME = '';\nexport const DEFAULT_ID_LENGTH = 16;\n\n// Contain data regarding shadowrun rules, mostly whatever is stated in some table to be looked up in other places.\nexport const SR = {\n    combat: {\n        environmental: {\n            range_modifiers: {\n                short: 0,\n                medium: -1,\n                long: -3,\n                extreme: -6,\n                // A modifier of zero will allow for users/gm to still test oor targets with their own judgement.\n                out_of_range: 0\n            },\n            levels: {\n                good: 0,\n                light: -1,\n                moderate: -3,\n                heavy: -6,\n                extreme: -10,\n            }\n        },\n\n        INI_RESULT_MOD_AFTER_INI_PASS: -10,\n        INITIAL_INI_PASS: 1,\n        INITIAL_INI_ROUND: 1\n    },\n    die: {\n        glitch: [1],\n        success: [5, 6]\n    },\n    defense: {\n        spell: {\n            direct: {\n                mana: 'willpower',\n                physical: 'body'\n            }\n        }\n    },\n    attributes: {\n        ranges: {\n            magic: {min: 0},\n            edge: {min: 0},\n            resonance: {min: 0},\n            essence: {min: 0},\n            body: {min: 1},\n            agility: {min: 1},\n            reaction: {min: 1},\n            strength: {min: 1},\n            willpower: {min: 1},\n            logic: {min: 1},\n            intuition: {min: 1},\n            charisma: {min: 1},\n            attack: {min: 0},\n            sleaze: {min: 0},\n            data_processing: {min: 0},\n            firewall: {min: 0}\n        },\n        SHORT_NAME_LENGTH: 3\n    },\n    skill: {\n        // @PDF SR5#130\n        DEFAULTING_MODIFIER: -1,\n        SPECIALIZATION_MODIFIER: 2\n    }\n}\n","import DamageData = Shadowrun.DamageData;\nimport ActorArmorData = Shadowrun.ActorArmorData;\nimport TechnologyData = Shadowrun.TechnologyData;\nimport DescriptionData = Shadowrun.DescriptionData;\nimport EquipmentData = Shadowrun.EquipmentData;\nimport QualityData = Shadowrun.QualityData;\nimport ActionRollData = Shadowrun.ActionRollData;\nimport LimitData = Shadowrun.LimitData;\nimport OpposedTestData = Shadowrun.OpposedTestData;\nimport SkillField = Shadowrun.SkillField;\nimport {SKILL_DEFAULT_NAME} from \"./constants\";\n\n/**\n * TODO: Add unittesting to DefaultValues helper.\n */\nexport class DefaultValues {\n    /**\n     *\n     * @param partialDamageData give partial DamageData fields to overwrite default values\n     */\n    static damageData(partialDamageData: Partial<DamageData> = {}): DamageData {\n        return mergeObject({\n            type: {\n                base: 'physical',\n                value: 'physical',\n            },\n            element: {\n                base: '',\n                value: '',\n            },\n            base: 0,\n            value: 0,\n            ap: {\n                base: 0,\n                value: 0,\n                mod: [],\n            },\n            attribute: '',\n            mod: [],\n            base_formula_operator: 'add'\n        }, partialDamageData) as DamageData;\n    }\n\n    static actorArmorData(partialActorArmorData: Partial<ActorArmorData> = {}): ActorArmorData {\n        return mergeObject({\n            value: 0,\n            mod: [],\n            base: 0,\n            label: '',\n        }, partialActorArmorData) as ActorArmorData;\n    }\n\n    static equipmentData(partialEquipmentData: Partial<EquipmentData> = {}): EquipmentData {\n        return mergeObject({\n            description: this.descriptionData(),\n            technology: this.technologyData(),\n        }, partialEquipmentData) as EquipmentData;\n    }\n\n    static qualityData(partialQualityData: Partial<QualityData> = {}): QualityData {\n        return mergeObject({\n            type: '',\n            description: this.descriptionData(),\n            action: this.actionRollData(),\n        }, partialQualityData) as QualityData;\n    }\n\n    static technologyData(partialTechnologyData: Partial<TechnologyData> = {}): TechnologyData {\n        return mergeObject({\n            rating: '',\n            availability: '',\n            quantity: 1,\n            cost: 0,\n            equipped: false,\n            conceal: {\n                base: 0,\n                value: 0,\n                mod: [],\n            },\n            condition_monitor: {\n                label: '',\n                value: 0,\n                max: 0,\n            }\n        }, partialTechnologyData) as TechnologyData;\n    }\n\n    static descriptionData(partialDescriptionData: Partial<DescriptionData> = {}): DescriptionData {\n        return mergeObject({\n            value: '',\n            chat: '',\n            source: ''\n        }, partialDescriptionData) as DescriptionData;\n    }\n\n    static actionRollData(partialActionRollData: Partial<ActionRollData> = {}): ActionRollData {\n        return mergeObject({\n            type: '',\n            category: '',\n            attribute: '',\n            attribute2: '',\n            skill: '',\n            spec: false,\n            mod: 0,\n            mod_description: '',\n            limit: this.limitData(),\n            extended: false,\n            damage: this.damageData(),\n            opposed: this.opposedTestData(),\n            alt_mod: 0,\n            dice_pool_mod: []\n        }, partialActionRollData) as ActionRollData;\n    }\n\n    static limitData(partialLimitData: Partial<LimitData> = {}): LimitData {\n        return mergeObject({\n            value: 0,\n            base: 0,\n            attribute: '',\n            mod: []\n        }, partialLimitData) as LimitData;\n    }\n\n    static opposedTestData(partialOpposedTestData: Partial<OpposedTestData> = {}): OpposedTestData {\n        return mergeObject({\n            type: '',\n            attribute: '',\n            attribute2: '',\n            skill: '',\n            mod: 0,\n            description: ''\n        }, partialOpposedTestData) as OpposedTestData;\n    }\n\n    static skillData(partialSkillData: Partial<SkillField> = {}): SkillField {\n        return mergeObject({\n            name: SKILL_DEFAULT_NAME,\n            base: 0,\n            value: 0,\n            hidden: false,\n            canDefault: false,\n            label: '',\n            bonus: [],\n            specs: [],\n            mod: [],\n            attribute: ''\n        }, partialSkillData) as SkillField;\n    }\n}\n\n// TODO: Move these into DefaultValues implementations.\nexport const DataTemplates = {\n    grunt: {\n        metatype_modifiers: {\n            elf: {\n                attributes: {\n                    agility: +1,\n                    charisma: +2,\n                    edge: -1\n                }\n            },\n            ork: {\n                attributes: {\n                    body: +3,\n                    strength: +2,\n                    logic: -1,\n                    charisma: -1,\n                    edge: -1\n                }\n            },\n            troll: {\n                attributes: {\n                    body: +4,\n                    agility: -1,\n                    strength: +4,\n                    logic: -1,\n                    intuition: -1,\n                    charisma: -2,\n                    edge: -1,\n                },\n                general: {\n                    armor: +1\n                }\n            },\n            dwarf: {\n                attributes: {\n                    body: +2,\n                    reaction: -1,\n                    strength: +2,\n                    willpower: +1,\n                    edge: -1\n                }\n            }\n        }\n    },\n    damage: DefaultValues.damageData({type: {base: '', value: ''}}),\n}","export abstract class DataWrapper<DataType> {\n    constructor(protected data: DataType) {}\n}\n","export const registerAppHelpers = () => {\n    // TODO: Add modifiers.env typing and add missing type\n    /** Determine if a environmental modifier of a specific category is active\n     *\n     * @param active\n     * @param category A environment modifier category (wind, range, ...)\n     * @param modifier A environmental modifier value (0, -1)\n     */\n    Handlebars.registerHelper('IsEnvModifierActive', (active, category: string, modifier: number) => {\n        return active[category] === modifier;\n    })\n}","import { Helpers } from '../helpers';\nimport {SafeString} from \"handlebars\";\nimport SkillField = Shadowrun.SkillField;\nimport {SR5} from \"../config\";\nimport {FLAGS, SR, SYSTEM_NAME} from \"../constants\";\n\nexport const registerBasicHelpers = () => {\n    Handlebars.registerHelper('localizeOb', function (strId, obj) {\n        if (obj) strId = obj[strId];\n        return game.i18n.localize(strId);\n    });\n\n    Handlebars.registerHelper('localizeSkill', function (skill: SkillField): string {\n        return skill.label ? game.i18n.localize(skill.label) : skill.name;\n        // NOTE: Below is code to append a shortened attribute name to the skill name. It's been removed for readability.\n        //       But still might useful for someone.\n        // if (!game.settings.get(SYSTEM_NAME, FLAGS.ShowSkillsWithDetails) || !translatedSkill || !skill.attribute)\n        //     return translatedSkill;\n        //\n        // // Try showing the first three letters, or less.\n        // const translatedAttribute = game.i18n.localize(SR5.attributes[skill.attribute]);\n        // if (!translatedAttribute) return translatedSkill;\n        //\n        // const cutToIndex = translatedAttribute.length < SR.attributes.SHORT_NAME_LENGTH ?\n        //     translatedAttribute.length -1 :\n        //     SR.attributes.SHORT_NAME_LENGTH;\n        // const translatedAttributeShorthand = translatedAttribute.substring(0, cutToIndex).toUpperCase();\n        // return `${translatedSkill} (${translatedAttributeShorthand})`;\n    });\n\n    Handlebars.registerHelper('toHeaderCase', function (str) {\n        if (str) return Helpers.label(str);\n        return '';\n    });\n\n    Handlebars.registerHelper('concatStrings', function (...args) {\n        return args.filter(a => typeof a === 'string').join('');\n    });\n\n    Handlebars.registerHelper('concat', function (strs, c = ',') {\n        if (Array.isArray(strs)) {\n            return strs.join(c);\n        }\n        return strs;\n    });\n\n    Handlebars.registerHelper('for', function (from: number, to: number, options) {\n        let accum = '';\n        for (let i = from; i < to; i += 1) {\n            accum += options.fn(i);\n        }\n\n        return accum;\n    });\n    Handlebars.registerHelper('modulo', function (v1: number, v2: number) {\n        return v1 % v2;\n    });\n    Handlebars.registerHelper('divide', function (v1: number, v2: number) {\n        if (v2 === 0) return 0;\n        return v1 / v2;\n    });\n    Handlebars.registerHelper('hasprop', function (obj, prop, options) {\n        if (obj.hasOwnProperty(prop)) {\n            return options.fn(this);\n        } else return options.inverse(this);\n    });\n    Handlebars.registerHelper('ifin', function (val, arr, options) {\n        if (arr.includes(val)) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if greater than\n    Handlebars.registerHelper('ifgt', function (v1, v2, options) {\n        if (v1 > v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if less than\n    Handlebars.registerHelper('iflt', function (v1, v2, options) {\n        if (v1 < v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if less than or equal\n    Handlebars.registerHelper('iflte', function (v1, v2, options) {\n        if (v1 <= v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if not equal\n    Handlebars.registerHelper('ifne', function (v1, v2, options) {\n        if (v1 !== v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if equal\n    Handlebars.registerHelper('ife', function (v1, v2, options) {\n        if (v1 === v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    Handlebars.registerHelper('not', function (v1) {\n        return !v1;\n    });\n    Handlebars.registerHelper('sum', function (v1, v2) {\n        return v1 + v2;\n    });\n\n    Handlebars.registerHelper('isDefined', function (value) {\n        return value !== undefined && value !== null;\n    });\n    /**\n     * Return a default value if the provided value is not defined (null or undefined)\n     */\n    Handlebars.registerHelper('default', function (value: string, defaultValue: string) {\n        return new Handlebars.SafeString(value ?? defaultValue);\n    });\n\n    Handlebars.registerHelper('log', function (value: string) {\n        console.log(value);\n    });\n    Handlebars.registerHelper('buildName', function (options) {\n        const hash: string[] = Helpers.orderKeys(options.hash);\n        const name = Object.values(hash).reduce((retVal, current, index) => {\n            if (index > 0) retVal += '.';\n            return retVal + current;\n        }, '');\n        return new Handlebars.SafeString(name);\n    });\n    Handlebars.registerHelper('disabledHelper', function (value) {\n        const val = Boolean(value);\n        return val ? val : undefined;\n    });\n    // TODO: This helper doesn't work... Don't why, but it doesn't.\n    Handlebars.registerHelper('localizeShortened', function (label: string, length: number, options: any): SafeString {\n        return new Handlebars.SafeString(Helpers.shortenAttributeLocalization(label, length));\n    });\n};\n","import { preloadHandlebarsTemplates } from './HandlebarTemplates';\nimport { registerBasicHelpers } from './BasicHelpers';\nimport { registerRollAndLabelHelpers } from './RollAndLabelHelpers';\nimport { registerItemLineHelpers } from './ItemLineHelpers';\nimport { registerSkillLineHelpers } from './SkillLineHelpers';\nimport {registerAppHelpers} from \"./AppHelpers\";\n\nexport class HandlebarManager {\n    static async loadTemplates() {\n        await preloadHandlebarsTemplates();\n    }\n    static registerHelpers(): void {\n        registerBasicHelpers();\n        registerRollAndLabelHelpers();\n        registerItemLineHelpers();\n        registerSkillLineHelpers();\n        registerAppHelpers();\n    }\n}","export const preloadHandlebarsTemplates = async () => {\n    const templatePaths = [\n        // actor tabs\n        'systems/shadowrun5e/dist/templates/actor/tabs/ActionsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/BioTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/GearTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/MagicTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/MatrixTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/MiscTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/SkillsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/SocialTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/SpellsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/CritterPowersTab.html',\n\n        'systems/shadowrun5e/dist/templates/actor/tabs/spirit/SpiritSkillsTab.html',\n\n        'systems/shadowrun5e/dist/templates/actor/tabs/matrix/SpriteSkillsTab.html',\n\n        'systems/shadowrun5e/dist/templates/actor/tabs/vehicle/VehicleSkillsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/vehicle/VehicleMatrixTab.html',\n\n        // uncategorized lists\n        'systems/shadowrun5e/dist/templates/actor/parts/Initiative.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/Movement.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/ProfileImage.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/NameInput.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/ActionList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/ContactList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/SinAndLifestyleList.html',\n\n        // magic\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/AdeptPowerList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/SpellList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/SpellAndAdeptPowerList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/SpiritOptions.html',\n\n        // matrix\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/ProgramList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/ComplexFormList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/MatrixAttribute.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/SpritePowerList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/DeviceRating.html',\n\n        // attributes\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/Attribute.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/AttributeList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/SpecialAttributeList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/Limits.html',\n\n        // skills\n        'systems/shadowrun5e/dist/templates/actor/parts/skills/ActiveSkillList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/skills/LanguageAndKnowledgeSkillList.html',\n\n        // vehicle\n        'systems/shadowrun5e/dist/templates/actor/parts/vehicle/VehicleStatsList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/vehicle/VehicleSecondStatsList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/vehicle/VehicleMovement.html',\n\n        // limited actor\n        'systems/shadowrun5e/dist/templates/actor-limited/character.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/spirit.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/sprite.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/vehicle.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/critter.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/parts/Header.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/parts/MiscCharacter.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/parts/MiscSpirit.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/parts/MiscSprite.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/parts/MiscVehicle.html',\n        'systems/shadowrun5e/dist/templates/actor-limited/parts/MiscCritter.html',\n\n\n        'systems/shadowrun5e/dist/templates/item/parts/description.html',\n        'systems/shadowrun5e/dist/templates/item/parts/technology.html',\n        'systems/shadowrun5e/dist/templates/item/parts/header.html',\n        'systems/shadowrun5e/dist/templates/item/parts/weapon-ammo-list.html',\n        'systems/shadowrun5e/dist/templates/item/parts/weapon-mods-list.html',\n        'systems/shadowrun5e/dist/templates/item/parts/action.html',\n        'systems/shadowrun5e/dist/templates/item/parts/damage.html',\n        'systems/shadowrun5e/dist/templates/item/parts/opposed.html',\n        'systems/shadowrun5e/dist/templates/item/parts/spell.html',\n        'systems/shadowrun5e/dist/templates/item/parts/complex_form.html',\n        'systems/shadowrun5e/dist/templates/item/parts/weapon.html',\n        'systems/shadowrun5e/dist/templates/item/parts/armor.html',\n        'systems/shadowrun5e/dist/templates/item/parts/matrix.html',\n        'systems/shadowrun5e/dist/templates/item/parts/sin.html',\n        'systems/shadowrun5e/dist/templates/item/parts/contact.html',\n        'systems/shadowrun5e/dist/templates/item/parts/lifestyle.html',\n        'systems/shadowrun5e/dist/templates/item/parts/ammo.html',\n        'systems/shadowrun5e/dist/templates/item/parts/modification.html',\n        'systems/shadowrun5e/dist/templates/item/parts/program.html',\n        'systems/shadowrun5e/dist/templates/item/parts/critter_power.html',\n        'systems/shadowrun5e/dist/templates/rolls/parts/parts-list.html',\n        'systems/shadowrun5e/dist/templates/rolls/parts/Damage.html',\n\n        // to wrap the bodies of tabs\n        'systems/shadowrun5e/dist/templates/common/TabWrapper.html',\n        'systems/shadowrun5e/dist/templates/common/ValueInput.html',\n\n        // Useful wrapper and implemented components\n        'systems/shadowrun5e/dist/templates/common/ValueMaxAttribute.html',\n        'systems/shadowrun5e/dist/templates/common/Attribute.html',\n        'systems/shadowrun5e/dist/templates/common/ValueModifiers.html',\n\n        // useful select template for the common pattern\n        'systems/shadowrun5e/dist/templates/common/Select.html',\n\n        // to create the condition monitors and edge counter\n        'systems/shadowrun5e/dist/templates/common/HorizontalCellInput.html',\n\n        // looks like a ListHeader\n        'systems/shadowrun5e/dist/templates/common/HeaderBlock.html',\n\n        'systems/shadowrun5e/dist/templates/common/NameLineBlock.html',\n\n        // list components\n        'systems/shadowrun5e/dist/templates/common/List/ListItem.html',\n        'systems/shadowrun5e/dist/templates/common/List/ListHeader.html',\n\n        // dialogs\n        'systems/shadowrun5e/dist/templates/apps/dialogs/damage-application.html',\n    ];\n\n    return loadTemplates(templatePaths);\n};\n","import SR5ItemType = Shadowrun.SR5ItemType;\nimport { SR5ItemDataWrapper } from '../item/SR5ItemDataWrapper';\n\nexport const registerItemLineHelpers = () => {\n    Handlebars.registerHelper('ItemHeaderIcons', function (id) {\n        const PlusIcon = 'fas fa-plus';\n        const AddText = game.i18n.localize('SR5.Add');\n        const addIcon = {\n            icon: PlusIcon,\n            text: AddText,\n            title: game.i18n.localize('SR5.CreateItem'),\n            cssClass: 'item-create',\n        };\n        switch (id) {\n            case 'lifestyle':\n                addIcon.title = game.i18n.localize('SR5.CreateItemLifestyle');\n                return [addIcon];\n            case 'contact':\n                addIcon.title = game.i18n.localize('SR5.CreateItemContact');\n                return [addIcon];\n            case 'sin':\n                addIcon.title = game.i18n.localize('SR5.CreateItemSIN');\n                return [addIcon];\n            case 'license':\n                addIcon.title = game.i18n.localize('SR5.CreateItemLicense');\n                return [addIcon];\n            case 'quality':\n                addIcon.title = game.i18n.localize('SR5.CreateItemQuality');\n                return [addIcon];\n            case 'adept_power':\n                addIcon.title = game.i18n.localize('SR5.CreateItemAdeptPower');\n                return [addIcon];\n            case 'action':\n                addIcon.title = game.i18n.localize('SR5.CreateItemAction');\n                return [addIcon];\n            case 'spell':\n                addIcon.title = game.i18n.localize('SR5.CreateItemSpell');\n                return [addIcon];\n            case 'gear':\n                addIcon.title = game.i18n.localize('SR5.CreateItemGear');\n                return [addIcon];\n            case 'complex_form':\n                addIcon.title = game.i18n.localize('SR5.CreateItemComplexForm');\n                return [addIcon];\n            case 'program':\n                addIcon.title = game.i18n.localize('SR5.CreateItemProgram');\n                return [addIcon];\n            case 'weapon':\n                addIcon.title = game.i18n.localize('SR5.CreateItemWeapon');\n                return [addIcon];\n            case 'armor':\n                addIcon.title = game.i18n.localize('SR5.CreateItemArmor');\n                return [addIcon];\n            case 'ammo':\n                addIcon.title = game.i18n.localize('SR5.CreateItemAmmo');\n                return [addIcon];\n            case 'device':\n                addIcon.title = game.i18n.localize('SR5.CreateItemDevice');\n                return [addIcon];\n            case 'equipment':\n                addIcon.title = game.i18n.localize('SR5.CreateItemEquipment');\n                return [addIcon];\n            case 'cyberware':\n                addIcon.title = game.i18n.localize('SR5.CreateItemCyberware');\n                return [addIcon];\n            case 'bioware':\n                addIcon.title = game.i18n.localize('SR5.CreateItemBioware');\n                return [addIcon];\n            case 'critter_power':\n                addIcon.title = game.i18n.localize('SR5.CreateItemCritterPower');\n                return [addIcon];\n            case 'sprite_power':\n                addIcon.title = game.i18n.localize('SR5.CreateItemSpritePower');\n                return [addIcon];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('ItemHeaderRightSide', function (id) {\n        switch (id) {\n            case 'action':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Skill'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Attribute'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Attribute'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Limit'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Modifier'),\n                            cssClass: 'six',\n                        },\n                    },\n                ];\n            case 'weapon':\n            case 'armor':\n            case 'device':\n            case 'equipment':\n            case 'cyberware':\n            case 'bioware':\n            case 'ammo':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Qty'),\n                        },\n                    },\n                ];\n            case 'complex_form':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Target'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Duration'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Fade'),\n                        },\n                    },\n                ];\n            case 'adept_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.PowerType'),\n                        },\n                    },\n                ];\n            case 'spell':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.SpellType'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.SpellRange'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Duration'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Drain'),\n                        },\n                    },\n                ];\n            case 'critter_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.CritterPower.Type'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.CritterPower.Range'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.CritterPower.Duration'),\n                        },\n                    },\n                ];\n            case 'quality':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.QualityType'),\n                        },\n                    },\n                ];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('ItemRightSide', function (item: SR5ItemType) {\n        const wrapper = new SR5ItemDataWrapper(item);\n        const qtyInput = {\n            input: {\n                type: 'number',\n                value: wrapper.getQuantity(),\n                cssClass: 'item-qty',\n            },\n        };\n        switch (item.type) {\n            case 'action':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.activeSkills[wrapper.getActionSkill() ?? '']),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.attributes[wrapper.getActionAttribute() ?? '']),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.attributes[wrapper.getActionAttribute2() ?? '']),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: wrapper.getLimitAttribute()\n                                ? game.i18n.localize(CONFIG.SR5.attributes[wrapper.getLimitAttribute() ?? ''])\n                                : wrapper.getActionLimit(),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: wrapper.getActionDicePoolMod(),\n                            cssClass: 'six',\n                        },\n                    },\n                ];\n            case 'armor':\n            case 'ammo':\n            case 'device':\n            case 'equipment':\n            case 'cyberware':\n            case 'bioware':\n                return [qtyInput];\n            case 'weapon':\n                if (wrapper.isRangedWeapon()) {\n                    const count = wrapper.getAmmo()?.current.value ?? 0;\n                    const max = wrapper.getAmmo()?.current.max ?? 0;\n                    const text = count < max ? `${game.i18n.localize('SR5.WeaponReload')} (${count}/${max})` : game.i18n.localize('SR5.AmmoFull');\n                    const cssClass = 'no-break' + (count < max ? ' reload-ammo roll' : 'faded');\n                    return [\n                        {\n                            text: {\n                                title: `${game.i18n.localize('SR5.WeaponAmmoCount')}: ${count}`,\n                                text,\n                                cssClass,\n                            },\n                        },\n                        {\n                            text: {\n                                text: '',\n                            },\n                        },\n                        qtyInput,\n                    ];\n                } else {\n                    return [qtyInput];\n                }\n\n            case 'quality':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.qualityTypes[item.data.type ?? '']),\n                        },\n                    },\n                ];\n\n            case 'adept_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.adeptPower.types[item.data.type ?? '']),\n                        },\n                    },\n                ];\n            case 'spell':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.spellTypes[item.data.type ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.spellRanges[item.data.range ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.durations[item.data.duration ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: wrapper.getDrain(),\n                        },\n                    },\n                ];\n            case 'critter_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.critterPower.types[item.data.powerType ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.critterPower.ranges[item.data.range ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.critterPower.durations[item.data.duration ?? '']),\n                        },\n                    },\n                ];\n\n            case 'complex_form':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.matrixTargets[item.data.target ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.durations[item.data.duration ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: String(item.data.fade),\n                        },\n                    },\n                ];\n            case 'program':\n                return [\n                    {\n                        button: {\n                            cssClass: `item-equip-toggle ${wrapper.isEquipped() ? 'light' : ''}`,\n                            short: true,\n                            text: wrapper.isEquipped() ? game.i18n.localize('SR5.Loaded') : game.i18n.localize('SR5.Load') + ' >>',\n                        },\n                    },\n                ];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('ItemIcons', function (item: SR5ItemType) {\n        const wrapper = new SR5ItemDataWrapper(item);\n        const editIcon = {\n            icon: 'fas fa-edit item-edit',\n            title: game.i18n.localize('SR5.EditItem'),\n        };\n        const removeIcon = {\n            icon: 'fas fa-trash item-delete',\n            title: game.i18n.localize('SR5.DeleteItem'),\n        };\n        const equipIcon = {\n            icon: `${wrapper.isEquipped() ? 'fas fa-check-circle' : 'far fa-circle'} item-equip-toggle`,\n            title: game.i18n.localize('SR5.ToggleEquip'),\n        };\n        const pdfIcon = {\n            icon: 'fas fa-file open-source-pdf',\n            title: game.i18n.localize('SR5.OpenSourcePdf'),\n        };\n\n        const icons = [editIcon, removeIcon];\n\n        if (ui['PDFoundry']) {\n            icons.unshift(pdfIcon);\n        }\n\n        switch (wrapper.getType()) {\n            case 'program':\n            case 'armor':\n            case 'device':\n            case 'equipment':\n            case 'cyberware':\n            case 'bioware':\n            case 'weapon':\n                icons.unshift(equipIcon);\n        }\n\n        return icons;\n    });\n};\n","import { PartsList } from '../parts/PartsList';\nimport ModList = Shadowrun.ModList;\nimport {SR5Actor} from \"../actor/SR5Actor\";\nimport {FLAGS, SYSTEM_NAME} from \"../constants\";\nimport {Helpers} from \"../helpers\";\nimport {SafeString} from \"handlebars\";\nimport DamageData = Shadowrun.DamageData;\n\nexport const registerRollAndLabelHelpers = () => {\n    Handlebars.registerHelper('damageAbbreviation', function (damage) {\n        if (damage === 'physical') return 'P';\n        if (damage === 'stun') return 'S';\n        if (damage === 'matrix') return 'M';\n        return '';\n    });\n\n    Handlebars.registerHelper('damageCode', function(damage: DamageData): SafeString {\n        const typeCode = Handlebars.helpers.damageAbbreviation(damage.type.value);\n        let code = `${damage.value}${typeCode}`;\n        return new Handlebars.SafeString(code);\n    });\n\n    Handlebars.registerHelper('diceIcon', function (side) {\n        if (side) {\n            switch (side) {\n                case 1:\n                    return 'red';\n                case 2:\n                    return 'grey';\n                case 3:\n                    return 'grey';\n                case 4:\n                    return 'grey';\n                case 5:\n                    return 'green';\n                case 6:\n                    return 'green';\n            }\n        }\n    });\n\n    Handlebars.registerHelper('elementIcon', function (element) {\n        let icon = '';\n        if (element === 'electricity') {\n            icon = 'fas fa-bolt';\n        } else if (element === 'radiation') {\n            icon = 'fas fa-radiation-alt';\n        } else if (element === 'fire') {\n            icon = 'fas fa-fire';\n        } else if (element === 'acid') {\n            icon = 'fas fa-vials';\n        } else if (element === 'cold') {\n            icon = 'fas fa-snowflake';\n        }\n        return icon;\n    });\n\n    Handlebars.registerHelper('partsTotal', function (partsList: ModList<number>) {\n        const parts = new PartsList(partsList);\n        return parts.total;\n    });\n\n    Handlebars.registerHelper('signedValue', function (value: number): string {\n        if (value > 0) {\n            return `+${value}`;\n        } else {\n            return `${value}`;\n        }\n    });\n\n    Handlebars.registerHelper('speakerName', Helpers.getChatSpeakerName);\n};\n","import SkillField = Shadowrun.SkillField;\nimport { Helpers } from '../helpers';\nimport SR5SheetFilters = Shadowrun.SR5SheetFilters;\nimport SkillCategories = Shadowrun.SkillCategories;\nimport {SkillRules} from \"../actor/SkillRules\";\nimport {FLAGS, SYSTEM_NAME} from \"../constants\";\n\nexport const registerSkillLineHelpers = () => {\n    Handlebars.registerHelper('SkillHeaderIcons', function (category: SkillCategories) {\n        const addIcon = {\n            icon: 'fas fa-plus',\n            title: game.i18n.localize('SR5.AddSkill'),\n            text: game.i18n.localize('SR5.Add'),\n            cssClass: '',\n        };\n        switch (category) {\n            case 'active':\n                addIcon.cssClass = 'add-active';\n                return [addIcon];\n            case 'language':\n                addIcon.cssClass = 'add-language';\n                return [addIcon];\n            case 'knowledge':\n                addIcon.cssClass = 'add-knowledge';\n                return [addIcon];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('SkillHeaderRightSide', function (id, filters: SR5SheetFilters) {\n        const specs = {\n            text: {\n                text: game.i18n.localize('SR5.Specialization'),\n                cssClass: 'skill-spec-item',\n            },\n        };\n\n        const rtg = {\n            // Change Rating header to show active filtering.\n            text: {\n                text: !filters || filters.showUntrainedSkills ?\n                    game.i18n.localize('SR5.Rtg') :\n                    game.i18n.localize('SR5.RtgAboveZero'),\n                cssClass: 'rtg',\n            },\n        };\n\n        switch (id) {\n            case 'active':\n            case 'knowledge':\n            case 'language':\n                return [specs, rtg];\n            default:\n                return [];\n        }\n    });\n    Handlebars.registerHelper('SkillRightSide', function (skillType: string, skill: SkillField) {\n        const specs = Array.isArray(skill.specs) ? skill.specs : [skill.specs];\n        return [\n            {\n                text: {\n                    text: specs.join(', ') ?? '',\n                    cssClass: 'skill-spec-item',\n                },\n            },\n            {\n                text: {\n                    text: Helpers.calcTotal(skill),\n                    cssClass: 'rtg',\n                },\n            },\n        ];\n    });\n\n    Handlebars.registerHelper('SkillAdditionCssClass', function(skill: SkillField): string[] {\n        const classes: string[] = [];\n\n        // @PDF SR5#151 not defaultable skills should be shown as italic.\n        if (game.settings.get(SYSTEM_NAME, FLAGS.ShowSkillsWithDetails) && !SkillRules.allowDefaultingRoll(skill)) {\n            classes.push('skill-roll-not-defaultable');\n        }\n\n        return classes;\n    })\n\n    Handlebars.registerHelper('SkillIcons', function (skillType: string, skill: SkillField) {\n        const editIcon = {\n            icon: 'fas fa-edit',\n            title: game.i18n.localize('SR5.EditSkill'),\n            cssClass: '',\n        };\n        const removeIcon = {\n            icon: 'fas fa-trash',\n            title: game.i18n.localize('SR5.DeleteSkill'),\n            cssClass: '',\n        };\n        switch (skillType) {\n            case 'active':\n                editIcon.cssClass = 'skill-edit';\n                removeIcon.cssClass = 'remove-active'\n                return [editIcon, removeIcon];\n            case 'language':\n                editIcon.cssClass = 'language-skill-edit';\n                removeIcon.cssClass = 'remove-language';\n                return [editIcon, removeIcon];\n            case 'knowledge':\n                editIcon.cssClass = 'knowledge-skill-edit';\n                removeIcon.cssClass = 'remove-knowledge';\n                return [editIcon, removeIcon];\n            default:\n                return [editIcon];\n        }\n    });\n\n};\n","import AttributeField = Shadowrun.AttributeField;\nimport SkillField = Shadowrun.SkillField;\nimport ModifiableValue = Shadowrun.ModifiableValue;\nimport LabelField = Shadowrun.LabelField;\nimport RangesTemplateData = Shadowrun.RangesTemplateData;\nimport RangeTemplateData = Shadowrun.RangeTemplateData;\nimport DamageData = Shadowrun.DamageData;\nimport ModifiedDamageData = Shadowrun.ModifiedDamageData;\nimport DamageType = Shadowrun.DamageType;\nimport DamageElement = Shadowrun.DamageElement;\nimport {PartsList} from './parts/PartsList';\nimport {DEFAULT_ID_LENGTH, FLAGS, LENGTH_UNIT, LENGTH_UNIT_TO_METERS_MULTIPLIERS, SR, SYSTEM_NAME} from \"./constants\";\nimport {SR5Actor} from \"./actor/SR5Actor\";\nimport {DataTemplates} from \"./dataTemplates\";\nimport {DeleteConfirmationDialog} from \"./apps/dialogs/DeleteConfirmationDialog\";\nimport Skills = Shadowrun.Skills;\n\ninterface CalcTotalOptions {\n    min?: number,\n    max?: number\n}\n\nexport class Helpers {\n    /**\n     * Calculate the total value for a data object\n     * - stores the total value and returns it\n     * @param data\n     * @param options\n     */\n    static calcTotal(data: ModifiableValue, options?: CalcTotalOptions): number {\n        if (data.mod === undefined) data.mod = [];\n        const parts = new PartsList(data.mod);\n        // if a temp field is found, add it as a unique part\n        if (data['temp'] !== undefined) {\n            parts.addUniquePart('SR5.Temporary', data['temp']);\n        }\n\n        data.value = Helpers.roundTo(parts.total + data.base, 3);\n        data.mod = parts.list;\n\n        data.value = Helpers.applyValueRange(data.value, options);\n\n        return data.value;\n    }\n\n    /** Round a number to a given degree.\n     *\n     * @param value Number to round with.\n     * @param decimals Amount of decimals after the decimal point.\n     */\n    static roundTo(value: number, decimals): number {\n        const multiplier = Math.pow(10, decimals);\n        return Math.round(value * multiplier) / multiplier;\n    }\n\n    /** Make sure a given value is in between a range.\n     *\n     * @param value\n     * @param options Define the range the given value must be in (or none)\n     */\n    static applyValueRange(value: number, options?: CalcTotalOptions): number {\n        if (typeof options?.min === 'number') {\n            value = Math.max(options.min, value);\n        }\n        if (typeof options?.max === 'number') {\n            value = Math.min(options.max, value);\n        }\n\n        return value;\n    }\n\n    static listItemId(event) {\n        return event.currentTarget.closest('.list-item').dataset.itemId;\n    }\n\n    // replace 'SR5.'s on keys with 'SR5_DOT_'\n    static onSetFlag(data) {\n        if (typeof data !== 'object') return data;\n        if (data === undefined || data === null) return data;\n        const newData = {};\n        for (const [key, value] of Object.entries(data)) {\n            const newKey = key.replace('SR5.', 'SR5_DOT_');\n            newData[newKey] = this.onSetFlag(value);\n        }\n        return newData;\n    }\n\n    // replace 'SR5_DOT_' with 'SR5.' on keys\n    static onGetFlag(data) {\n        if (typeof data !== 'object') return data;\n        if (data === undefined || data === null) return data;\n        const newData = {};\n        for (const [key, value] of Object.entries(data)) {\n            const newKey = key.replace('SR5_DOT_', 'SR5.');\n            newData[newKey] = this.onGetFlag(value);\n        }\n        return newData;\n    }\n\n    static isMatrix(atts?: boolean | (AttributeField | string | SkillField)[] | AttributeField | string | SkillField) {\n        if (!atts) return false;\n        if (typeof atts === 'boolean') return atts;\n        // array of labels to check for on the incoming data\n        const matrixLabels = [\n            'SR5.MatrixAttrFirewall',\n            'SR5.MatrixAttrDataProcessing',\n            'SR5.MatrixAttrSleaze',\n            'SR5.MatrixAttrAttack',\n            'SR5.SkillComputer',\n            'SR5.SkillHacking',\n            'SR5.SkillCybercombat',\n            'SR5.SkillElectronicWarfare',\n            'SR5.Software',\n        ];\n        if (!Array.isArray(atts)) atts = [atts];\n        atts = atts.filter((att) => att);\n        // iterate over the attributes and return true if we find a matrix att\n        for (const att of atts) {\n            if (typeof att === 'string') {\n                if (matrixLabels.indexOf(att) >= 0) {\n                    return true;\n                }\n            } else if (typeof att === 'object' && (att as LabelField).label !== undefined) {\n                if (matrixLabels.indexOf(att.label ?? '') >= 0) {\n                    return true;\n                }\n            }\n        }\n        // if we don't find anything return false\n        return false;\n    }\n\n    static parseInputToString(val: number | string | string[] | undefined): string {\n        if (val === undefined) return '';\n        if (typeof val === 'number') return val.toString();\n        if (typeof val === 'string') return val;\n        if (Array.isArray(val)) {\n            return val.join(',');\n        }\n        return '';\n    }\n\n    static parseInputToNumber(val: number | string | string[] | undefined): number {\n        if (typeof val === 'number') return val;\n        if (typeof val === 'string') {\n            const ret = +val;\n            if (!isNaN(ret)) return ret;\n            return 0;\n        }\n        if (Array.isArray(val)) {\n            const str = val.join('');\n            const ret = +str;\n            if (!isNaN(ret)) return ret;\n            return 0;\n        }\n        return 0;\n    }\n\n    static setupCustomCheckbox(app, html) {\n        const setContent = (el) => {\n            const checkbox = $(el).children('input[type=checkbox]');\n            const checkmark = $(el).children('.checkmark');\n            if ($(checkbox).prop('checked')) {\n                $(checkmark).addClass('fa-check-circle');\n                $(checkmark).removeClass('fa-circle');\n            } else {\n                $(checkmark).addClass('fa-circle');\n                $(checkmark).removeClass('fa-check-circle');\n            }\n        };\n        html.find('label.checkbox').each(function () {\n            setContent(this);\n        });\n        html.find('label.checkbox').click((event) => setContent(event.currentTarget));\n        html.find('.submit-checkbox').change((event) => app._onSubmit(event));\n    }\n\n    static mapRoundsToDefenseMod(rounds) {\n        if (rounds === 1) return 0;\n        if (rounds === 3) return -2;\n        if (rounds === 6) return -5;\n        if (rounds === 10) return -9;\n        return 0;\n    }\n\n    static mapRoundsToDefenseDesc(rounds) {\n        if (rounds === 1) return '';\n        if (rounds === 3) return '-2';\n        if (rounds === 6) return '-5';\n        if (rounds === 10) return '-9';\n        if (rounds === 20) return 'SR5.DuckOrCover';\n        return '';\n    }\n\n    static label(str) {\n        const frags = str.split('_');\n        for (let i = 0; i < frags.length; i++) {\n            frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n        }\n        frags.forEach((frag, idx) => {\n            if (frag === 'Processing') frags[idx] = 'Proc.';\n            if (frag === 'Mechanic') frags[idx] = 'Mech.';\n        });\n        return frags.join(' ');\n    }\n\n    static orderKeys(obj) {\n        const keys = Object.keys(obj).sort(function keyOrder(k1, k2) {\n            if (k1 < k2) return -1;\n            if (k1 > k2) return +1;\n            return 0;\n        });\n\n        let i;\n        const after = {};\n        for (i = 0; i < keys.length; i++) {\n            after[keys[i]] = obj[keys[i]];\n            delete obj[keys[i]];\n        }\n\n        for (i = 0; i < keys.length; i++) {\n            obj[keys[i]] = after[keys[i]];\n        }\n        return obj;\n    }\n\n    static hasModifiers(event) {\n        return event && (event.shiftKey || event.altKey || event.ctrlKey || event.metaKey);\n    }\n\n    static filter(obj, comp) {\n        const retObj = {};\n        if (typeof obj === 'object' && obj !== null) {\n            Object.entries(obj).forEach(([key, value]) => {\n                if (comp([key, value])) retObj[key] = value;\n            });\n        }\n        return retObj;\n    }\n\n    static addLabels(obj, label) {\n        if (typeof obj === 'object' && obj !== null) {\n            if (!obj.hasOwnProperty('label') && obj.hasOwnProperty('value') && label !== '') {\n                obj.label = label;\n            }\n            Object.entries(obj)\n                .filter(([, value]) => typeof value === 'object')\n                .forEach(([key, value]) => Helpers.addLabels(value, key));\n        }\n    }\n\n    /* Handle Shadowrun style shortened attribute names with typical three letter shortening. */\n    static shortenAttributeLocalization(label: string, length: number = 3): string {\n        const name = game.i18n.localize(label);\n\n        if (length <= 0) {\n            return name;\n        }\n\n        if (name.length < length) {\n            length = name.length;\n        }\n\n        return name.slice(0, length).toUpperCase();\n    }\n\n    static getToken(id?: string): Token | undefined {\n        for (const token of canvas.tokens.placeables) {\n            if (token.id === id) {\n                return token;\n            }\n        }\n    }\n\n    static getSceneToken(sceneTokenId: string): Token | undefined {\n        const [sceneId, tokenId] = sceneTokenId.split('.');\n\n        const isActiveScene = sceneId === canvas?.scene._id;\n        if (isActiveScene) {\n            return canvas.tokens.get(tokenId);\n        }\n\n        // Build Token using it's data from the connected scene as a fallback.\n        const scene = game.scenes.get(sceneId);\n        if (!scene) {\n            return;\n        }\n\n        //@ts-ignore\n        const tokenData = scene.data.tokens.find((t) => t.id === Number(tokenId));\n        if (!tokenData) {\n            return;\n        }\n\n        return new Token(tokenData);\n    }\n\n    static getUserTargets(user?: User): Token[] {\n        user = user ? user : game.user;\n\n        if (user) {\n            return Array.from(user.targets);\n        } else {\n            return [];\n        }\n    }\n\n    static userHasTargets(user?: User): boolean {\n        user = user ? user : game.user;\n\n        return user.targets.size > 0;\n    }\n\n    static measureTokenDistance(tokenOrigin: Token, tokenDest: Token): number {\n        if (!tokenOrigin || !tokenDest) return 0;\n\n        const origin = new PIXI.Point(...canvas.grid.getCenter(tokenOrigin.data.x, tokenOrigin.data.y));\n        const dest = new PIXI.Point(...canvas.grid.getCenter(tokenDest.data.x, tokenDest.data.y));\n\n        const distanceInGridUnits = canvas.grid.measureDistance(origin, dest, {gridSpaces: true});\n        const sceneUnit = canvas.scene.data.gridUnits;\n        // TODO: Define weapon range units somewhere (settings)\n        return Helpers.convertLengthUnit(distanceInGridUnits, sceneUnit);\n    }\n\n    static convertLengthUnit(length: number, fromUnit: string): number {\n        //@ts-ignore\n        fromUnit = fromUnit.toLowerCase();\n\n        if (!LENGTH_UNIT_TO_METERS_MULTIPLIERS.hasOwnProperty(fromUnit)) {\n            console.error(`Distance can't be converted from ${fromUnit} to ${LENGTH_UNIT}`);\n            return 0;\n        }\n\n        // Round down since X.8 will hit X and not X+1.\n        return Math.floor(length * LENGTH_UNIT_TO_METERS_MULTIPLIERS[fromUnit]);\n    }\n\n    static getWeaponRange(distance: number, ranges: RangesTemplateData): RangeTemplateData {\n        // Assume ranges to be in ASC order and to define their max range.\n        // Should no range be found, assume distance to be out of range.\n        const rangeKey = Object.keys(ranges).find(range => distance < ranges[range].distance);\n        if (rangeKey) {\n            return ranges[rangeKey];\n        } else {\n            const {extreme} = ranges;\n            return Helpers.createRangeDescription('SR5.OutOfRange', extreme.distance, SR.combat.environmental.range_modifiers.out_of_range);\n        }\n    }\n\n    static getControlledTokens(): Token[] {\n        return canvas.tokens.controlled;\n    }\n\n    static getSelectedActorsOrCharacter(): SR5Actor[] {\n        const tokens = Helpers.getControlledTokens();\n        const actors = tokens.map(token => token.actor) as SR5Actor[];\n\n        // Try to default to a users character.\n        if (actors.length === 0 && game.user?.character) {\n            actors.push(game.user.character as SR5Actor);\n        }\n\n        return actors;\n    }\n\n    static createRangeDescription(label: string, distance: number, modifier: number): RangeTemplateData {\n        label = game.i18n.localize(label);\n        return {label, distance, modifier}\n    }\n\n    static convertIndexedObjectToArray(indexedObject: object): object[] {\n        return Object.keys(indexedObject).map((index) => {\n            if (Number.isNaN(index)) {\n                console.warn('An object with no numerical index was given, which is likely a bug.', indexedObject);\n            }\n            return indexedObject[index];\n        });\n    }\n\n    static getChatSpeakerName(actor: SR5Actor): string {\n        if (!actor) return '';\n\n        const useTokenNameForChatOutput = game.settings.get(SYSTEM_NAME, FLAGS.ShowTokenNameForChatOutput);\n        const token = actor.getToken();\n\n        if (useTokenNameForChatOutput && token) return token.data.name;\n\n        return actor.name;\n    }\n\n    static createDamageData(value: number, type: DamageType, ap: number = 0, element: DamageElement = ''): DamageData {\n        const damage = duplicate(DataTemplates.damage);\n        damage.base = value;\n        damage.value = value;\n        damage.type.base = type;\n        damage.type.value = type;\n        damage.ap.base = ap;\n        damage.ap.value = ap;\n        damage.element.base = element;\n        damage.element.value = element;\n\n        return damage;\n    }\n\n    /** Modifies given damage value and returns both original and modified damage\n     *\n     * For better readability reduceDamageByHits wraps this method to avoid negative params in the call signature.\n     * so instead of\n     * > modifyDamageByHits(incoming, -hits, label)\n     * do this instead\n     * > reduceDamageByHits(incoming, hits, label)\n     *\n     * @param incoming A DamageData value to be modified from\n     * @param hits Positive or negative hits to change the damage value with.\n     * @param modificationLabel The translatable label for the modification\n     */\n    static modifyDamageByHits(incoming: DamageData, hits: number, modificationLabel: string): ModifiedDamageData {\n        const modified = duplicate(incoming);\n        modified.mod = PartsList.AddUniquePart(modified.mod, modificationLabel, hits);\n        modified.value = Helpers.calcTotal(modified, {min: 0});\n\n        return {incoming, modified};\n    }\n\n    /** Reduces given damage value and returns both original and modified damage.\n     *\n     * Should you want RAISE the damage value, use modifyDamageByHits directly.\n     *\n     * @param incoming A DamageData value to be modified from\n     * @param hits Positive hits to reduce the damage value with! Should the hits amount be negative, use modifyDamageByHits.\n     * @param modificationLabel The translatable label for the modification\n     */\n    static reduceDamageByHits(incoming: DamageData, hits: number, modificationLabel: string): ModifiedDamageData {\n        if (hits < 0) {\n            console.warn('Helpers.reduceDamageByHits should only be called with positive hits values to avoid confusion');\n        }\n        return Helpers.modifyDamageByHits(incoming, -hits, modificationLabel);\n    }\n\n    static async confirmDeletion(): Promise<boolean> {\n        const dialog = new DeleteConfirmationDialog();\n        await dialog.select();\n        return !dialog.canceled && dialog.selectedButton === 'delete';\n    }\n\n    /**\n     * This can be used to create an SkillField into the Skills data path during the Skill creation process.\n     *\n     * @param skillDataPath Could be 'data.skills.active' or 'data.skill.language.value' or more\n     * @param skillField A SkillField with whatever values. You could use DefaultValues.skillData to create one.\n     * @param idLength How long should the id (GUID) be?\n     */\n    static getRandomIdSkillFieldDataEntry(skillDataPath: string, skillField: SkillField, idLength: number = DEFAULT_ID_LENGTH): { id: string, updateSkillData: { [skillDataPath: string]: { [id: string]: SkillField } } } | undefined {\n        if (!skillDataPath || skillDataPath.length === 0) return;\n\n        const id = randomID(idLength);\n        const updateSkillData = {\n            [skillDataPath]: {[id]: skillField}\n        };\n\n        return {\n            id,\n            updateSkillData\n        }\n    }\n\n    /**\n     * A simple helper to get an data entry for updating with Entity.update\n     *\n     * @param path The main data path as a doted string relative from the type data (not entity data).\n     * @param value Whatever needs to be stored.\n     *\n     */\n    static getUpdateDataEntry(path: string, value: any): {[path: string]: any} {\n        return {[path]: value};\n    }\n    /**\n     * A simple helper to delete existing entity data keys with Entity.update\n     *\n     * @param path The main data path as doted string relative from the item type data (not entity data). data.skills.active\n     * @param key The single sub property within the path that's meant to be deleted. 'test'\n     *\n     * @return An expected return object could look like this: {'data.skills.active': {'-=Pistols': null}} and would\n     *         remove the Pistols key from the 'data.skills.active' path within Entity.data.data.skills.active.\n     */\n    static getDeleteDataEntry(path: string, key: string): {[path: string]: {[key: string]: null}} {\n        // Entity.update utilizes the mergeObject function within Foundry.\n        // That functions documentation allows property deletion using the -= prefix before property key.\n        return {[path]: {[`-=${key}`]: null}};\n    }\n\n    static localizeSkill(skill: SkillField): string {\n        return skill.label ? game.i18n.localize(skill.label) : skill.name;\n    }\n\n    /**\n     * Alphabetically sort skills either by their translated label. Should a skill not have one, use the name as a\n     * fallback.\n     *\n     * Sorting should be aware of UTF-8, however please blame JavaScript if it's not. :)\n     *\n     * @param skills\n     * @param asc Set to true for ascending sorting order and to false for descending order.\n     * @return Sorted Skills given by the skills parameter\n     */\n    static sortSkills(skills: Skills, asc: boolean=true): Skills {\n        // Filter entries instead of values to have a store of ids for easy rebuild.\n        const sortedEntries = Object.entries(skills).sort(([aId, a], [bId, b]) => {\n            const comparatorA = Helpers.localizeSkill(a);\n            const comparatorB = Helpers.localizeSkill(b);\n            // Use String.localeCompare instead of the > Operator to support other alphabets.\n            if (asc)\n                return comparatorA.localeCompare(comparatorB) === 1 ? 1 : -1;\n            else\n                return comparatorA.localeCompare(comparatorB) === 1 ? -1 : 1;\n        });\n\n        // Rebuild the Skills type using the earlier entries.\n        const sortedAsObject = {};\n        for (const [id, skill] of sortedEntries) {\n            sortedAsObject[id] = skill;\n        }\n\n        return sortedAsObject;\n    }\n\n    /**\n     * Alphabetically sort any SR5 config object with a key to label structure.\n     *\n     * Sorting should be aware of UTF-8, however please blame JavaScript if it's not. :)\n     *\n     * @param configValues The config value to be sorted\n     * @param asc Set to true for ascending sorting order and to false for descending order.\n     * @return Sorted config values given by the configValues parameter\n     */\n    static sortConfigValuesByTranslation(configValues: Record<string, string>, asc: boolean=true): Record<string, string> {\n        // Filter entries instead of values to have a store of ids for easy rebuild.\n        const sortedEntries = Object.entries(configValues).sort(([aId, a], [bId, b]) => {\n            const comparatorA = game.i18n.localize(a);\n            const comparatorB = game.i18n.localize(b);\n            // Use String.localeCompare instead of the > Operator to support other alphabets.\n            if (asc)\n                return comparatorA.localeCompare(comparatorB) === 1 ? 1 : -1;\n            else\n                return comparatorA.localeCompare(comparatorB) === 1 ? -1 : 1;\n        });\n\n        // Rebuild the skills type using the earlier entries.\n        const sortedAsObject = {};\n        for (const [key, translated] of sortedEntries) {\n            sortedAsObject[key] = translated;\n        }\n        return sortedAsObject;\n    }\n}\n","import { SR5 } from './config';\nimport { Migrator } from './migrator/Migrator';\nimport { registerSystemSettings } from './settings';\nimport { SYSTEM_NAME } from './constants';\nimport { SR5Actor } from './actor/SR5Actor';\nimport { SR5ActorSheet } from './actor/SR5ActorSheet';\nimport { SR5Item } from './item/SR5Item';\nimport { SR5ItemSheet } from './item/SR5ItemSheet';\nimport { ShadowrunRoller } from './rolls/ShadowrunRoller';\nimport { Helpers } from './helpers';\nimport { HandlebarManager } from './handlebars/HandlebarManager';\nimport { measureDistance } from './canvas';\nimport * as chat from './chat';\nimport { createItemMacro, rollItemMacro } from './macros';\n\nimport { OverwatchScoreTracker } from './apps/gmtools/OverwatchScoreTracker';\nimport { SR5Combat } from './combat/SR5Combat';\nimport { Import } from './importer/apps/import-form';\nimport {ChangelogApplication} from \"./apps/ChangelogApplication\";\nimport {EnvModifiersApplication} from \"./apps/EnvModifiersApplication\";\nimport {quenchRegister} from \"../test/quench\";\n\nexport class HooksManager {\n    static registerHooks() {\n        // Register your highest level hook callbacks here for a quick overview of what's hooked into.\n\n        Hooks.once('init', HooksManager.init);\n\n        Hooks.on('canvasInit', HooksManager.canvasInit);\n        Hooks.on('ready', HooksManager.ready);\n        Hooks.on('renderChatMessage', HooksManager.renderChatMessage);\n        Hooks.on('getChatLogEntryContext', chat.addChatMessageContextOptions);\n        Hooks.on('hotbarDrop', HooksManager.hotbarDrop);\n        Hooks.on('renderSceneControls', HooksManager.renderSceneControls);\n        Hooks.on('getSceneControlButtons', HooksManager.getSceneControlButtons);\n        Hooks.on('getCombatTrackerEntryContext', SR5Combat.addCombatTrackerContextOptions);\n        Hooks.on('renderItemDirectory', HooksManager.renderItemDirectory);\n        Hooks.on('renderTokenHUD', EnvModifiersApplication.addTokenHUDFields);\n\n        // Foundry VTT Module 'quench': https://github.com/schultzcole/FVTT-Quench\n        Hooks.on('quenchReady', quenchRegister);\n    }\n\n    static init() {\n        console.log(`Loading Shadowrun 5e System\n___________________\n ___________ _____ \n/  ___| ___ \\\\  ___|\n\\\\ \\`--.| |_/ /___ \\\\ \n \\`--. \\\\    /    \\\\ \\\\\n/\\\\__/ / |\\\\ \\\\/\\\\__/ /\n\\\\____/\\\\_| \\\\_\\\\____/ \n===================\n`);\n\n        // Create a shadowrun5e namespace within the game global\n        game['shadowrun5e'] = {\n            SR5Actor,\n            ShadowrunRoller,\n            SR5Item,\n            rollItemMacro,\n        };\n\n        CONFIG.SR5 = SR5;\n        // @ts-ignore\n        CONFIG.Actor.entityClass = SR5Actor;\n        // @ts-ignore\n        CONFIG.Item.entityClass = SR5Item;\n        CONFIG.Combat.entityClass = SR5Combat;\n\n        registerSystemSettings();\n\n        // Register sheet application classes\n        // NOTE: See dnd5e for a multi class approach for all actor types using the types array in Actors.registerSheet\n        Actors.unregisterSheet('core', ActorSheet);\n        Actors.registerSheet(SYSTEM_NAME, SR5ActorSheet, {\n            label: \"SR5.SheetActor\",\n            makeDefault: true\n        });\n        Items.unregisterSheet('core', ItemSheet);\n        Items.registerSheet(SYSTEM_NAME, SR5ItemSheet, {\n            label: \"SR5.SheetItem\",\n            makeDefault: true\n        });\n\n        ['renderSR5ActorSheet', 'renderSR5ItemSheet'].forEach((s) => {\n            Hooks.on(s, (app, html) => Helpers.setupCustomCheckbox(app, html));\n        });\n\n        HandlebarManager.loadTemplates();\n    }\n\n    static async ready() {\n        if (game.user.isGM) {\n            await Migrator.BeginMigration();\n\n            if (ChangelogApplication.showApplication) {\n                await new ChangelogApplication().render(true);\n            }\n\n        }\n\n        // TODO make based on foundry version\n        const diceIconSelector = '#chat-controls .roll-type-select .fa-dice-d20';\n        $(document).on('click', diceIconSelector, () => ShadowrunRoller.promptRoll());\n        const diceIconSelectorNew = '#chat-controls .chat-control-icon .fa-dice-d20';\n        $(document).on('click', diceIconSelectorNew, () => ShadowrunRoller.promptRoll());\n    }\n\n    static canvasInit() {\n        canvas.grid.diagonalRule = game.settings.get(SYSTEM_NAME, 'diagonalMovement');\n        //@ts-ignore\n        // SquareGrid isn't typed.\n        SquareGrid.prototype.measureDistances = measureDistance;\n    }\n\n    static hotbarDrop(bar, data, slot) {\n        if (data.type !== 'Item') return;\n\n        createItemMacro(data.data, slot);\n        return false;\n    }\n\n    static renderSceneControls(controls, html) {\n        html.find('[data-tool=\"overwatch-score-tracker\"]').on('click', (event) => {\n            event.preventDefault();\n            new OverwatchScoreTracker().render(true);\n        });\n    }\n\n    static getSceneControlButtons(controls) {\n        const tokenControls = controls.find((c) => c.name === 'token');\n\n        if (game.user.isGM) {\n            tokenControls.tools.push({\n                name: 'overwatch-score-tracker',\n                title: 'CONTROLS.SR5.OverwatchScoreTracker',\n                icon: 'fas fa-network-wired',\n                button: true\n            });\n        }\n\n        tokenControls.tools.push(EnvModifiersApplication.getControl());\n    }\n\n    static renderChatMessage(app, html) {\n        chat.addRollListeners(app, html);\n    }\n\n    static renderItemDirectory(app: Application, html: JQuery) {\n        const button = $('<button>Import Chummer Data</button>');\n        html.find('footer').before(button);\n        button.on('click', (event) => {\n            new Import().render(true);\n        });\n    }\n\n}\n","import { WeaponImporter } from '../importer/WeaponImporter';\nimport { ArmorImporter } from '../importer/ArmorImporter';\nimport { DataImporter } from '../importer/DataImporter';\nimport { AmmoImporter } from '../importer/AmmoImporter';\nimport { ModImporter } from '../importer/ModImporter';\nimport { SpellImporter } from '../importer/SpellImporter';\nimport { QualityImporter } from '../importer/QualityImporter';\nimport { ComplexFormImporter } from '../importer/ComplexFormImporter';\nimport { WareImporter } from '../importer/WareImporter';\nimport { CritterPowerImporter } from '../importer/CritterPowerImporter';\nimport { ImportHelper, ImportMode } from '../helper/ImportHelper';\nimport {DeviceImporter} from \"../importer/DeviceImporter\";\nimport {EquipmentImporter} from \"../importer/EquipmentImporter\";\n\n\nexport class Import extends Application {\n    private supportedDataFiles: string[] = [];\n    private dataFiles: File[] = [];\n    private langDataFile: File;\n    private parsedFiles: string[] = [];\n    private disableImportButton: boolean = true;\n    private currentParsedFile: string;\n\n    constructor() {\n        super();\n\n        this.collectDataImporterFileSupport();\n    }\n\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.id = 'chummer-data-import';\n        options.classes = ['app', 'window-app', 'filepicker'];\n        options.title = 'Chummer/Data Import';\n        options.template = 'systems/shadowrun5e/dist/templates/apps/compendium-import.html';\n        options.width = 600;\n        options.height = 'auto';\n        return options;\n    }\n\n    getData(options?: any): any {\n        const data = super.getData(options);\n\n        data.dataFiles = {};\n        this.supportedDataFiles.forEach((supportedFileName: string) => {\n            const missing = !this.dataFiles.some((dataFile) => supportedFileName === dataFile.name);\n            const parsed = this.parsedFiles.some((parsedFileName) => supportedFileName === parsedFileName);\n            const parsing = supportedFileName === this.currentParsedFile;\n\n            data.dataFiles[supportedFileName] = {\n                name: supportedFileName,\n                missing,\n                parsed,\n                parsing\n            };\n        });\n        data.langDataFile = this.langDataFile ? this.langDataFile.name : '';\n        data.finishedOverallParsing = this.supportedDataFiles.length === this.parsedFiles.length;\n        data.disableImportButton = this.disableImportButton;\n\n        return { ...data };\n    }\n\n    private collectDataImporterFileSupport() {\n        this.supportedDataFiles = [];\n        Import.Importers.forEach(importer => {\n            if (this.supportedDataFiles.some(supported => importer.files.includes(supported))) {\n                return;\n            }\n            this.supportedDataFiles = this.supportedDataFiles.concat(importer.files);\n        });\n    }\n\n    private clearParsingStatus() {\n        this.parsedFiles = [];\n    }\n\n    //Order is important, ex. some weapons need mods to fully import\n    static Importers: DataImporter[] = [\n        new ModImporter(),\n        new WeaponImporter(),\n        new ArmorImporter(),\n        new AmmoImporter(),\n        new SpellImporter(),\n        new ComplexFormImporter(),\n        new QualityImporter(),\n        new WareImporter(),\n        new CritterPowerImporter(),\n        new DeviceImporter(),\n        new EquipmentImporter()\n    ];\n\n    async parseXML(xmlSource, fileName) {\n        let jsonSource = await DataImporter.xml2json(xmlSource);\n        ImportHelper.SetMode(ImportMode.XML);\n\n        for (const di of Import.Importers) {\n            if (di.CanParse(jsonSource)) {\n                di.ExtractTranslation(fileName);\n                await di.Parse(jsonSource);\n            }\n        }\n    }\n\n    async parseXmli18n(xmlSource) {\n        if (!xmlSource) {\n            return;\n        }\n        let jsonSource = await DataImporter.xml2json(xmlSource);\n\n        if (DataImporter.CanParseI18n(jsonSource)) {\n            DataImporter.ParseTranslation(jsonSource);\n        }\n    }\n\n    isDataFile = (file: File): boolean => {\n        return this.supportedDataFiles.some((supported) => supported === file.name);\n    };\n\n    isLangDataFile = (file: File): boolean => {\n        const pattern = /[a-zA-Z]{2}-[a-zA-Z]{2}_data\\.xml/;\n        return file.name.match(pattern) !== null;\n    };\n\n    activateListeners(html) {\n        html.find(\"button[type='submit']\").on('click', async (event) => {\n            event.preventDefault();\n\n            this.clearParsingStatus();\n            this.disableImportButton = true;\n\n            await this.render();\n\n            if (this.langDataFile) {\n                const text = await this.langDataFile.text();\n                await this.parseXmli18n(text);\n            }\n\n            // Use 'for of'-loop to allow await to actually pause.\n            // don't use .forEach as it won't await for async callbacks.\n            // iterate over supportedDataFiles to adhere to Importer order\n            for (const supportedFile of this.supportedDataFiles) {\n                // Only try supported files.\n                const dataFile = this.dataFiles.find((dataFile) => dataFile.name === supportedFile);\n                if (dataFile) {\n                    const text = await dataFile.text();\n\n                     // Show status for current parsing progression.\n                    this.currentParsedFile = dataFile.name;\n                    await this.render();\n\n\n                    await this.parseXML(text, dataFile.name);\n\n                    // Store status to show parsing progression.\n                    if (!this.parsedFiles.some((parsedFileName) => parsedFileName === dataFile.name)) {\n                        this.parsedFiles.push(dataFile.name);\n                    }\n\n                    await this.render();\n                }\n            }\n\n            this.disableImportButton = false;\n\n            await this.render();\n        });\n\n        html.find(\"input[type='file'].langDataFileDrop\").on('change', async (event) => {\n            Array.from(event.target.files).forEach((file: File) => {\n                if (this.isLangDataFile(file)) {\n                    this.langDataFile = file;\n                    this.render();\n                }\n            });\n            return true;\n        });\n\n        html.find(\"input[type='file'].filedatadrop\").on('change', async (event) => {\n            Array.from(event.target.files).forEach((file: File) => {\n                if (this.isDataFile(file)) {\n                    // Allow user to overwrite an already added file, they have their reasons.\n                    const existingIdx = this.dataFiles.findIndex((dataFile) => dataFile.name === file.name);\n                    if (existingIdx === -1) {\n                        this.dataFiles.push(file);\n                    } else {\n                        this.dataFiles[existingIdx] = file;\n                    }\n                }\n            });\n\n            if (this.dataFiles.length > 0) {\n                this.disableImportButton = false;\n            }\n\n            this.render();\n        });\n    }\n}\n","import { Constants } from '../importer/Constants';\nimport { XMLStrategy } from './XMLStrategy';\nimport { JSONStrategy } from './JSONStrategy';\nimport { ImportStrategy } from './ImportStrategy';\n\nexport enum ImportMode {\n    XML = 1,\n    JSON = 2,\n}\nexport enum LookupMode {\n    Directory = 0,\n    Actor = 1,\n}\n\n/**\n * An import helper to standardize data extraction.\n * Mostly conceived to reduced required refactoring if Chummer changes data file layout.\n * Also contains helper methods to safely parse values to appropriate types.\n */\nexport class ImportHelper {\n    public static readonly CHAR_KEY = '_TEXT';\n\n    private static s_Strategy: ImportStrategy = new XMLStrategy();\n\n    public static SetMode(mode: ImportMode) {\n        switch (mode) {\n            case ImportMode.XML:\n                ImportHelper.s_Strategy = new XMLStrategy();\n                break;\n            case ImportMode.JSON:\n                ImportHelper.s_Strategy = new JSONStrategy();\n                break;\n        }\n    }\n\n    private constructor() {}\n\n    /**\n     * Helper method to create a new folder.\n     * @param name The name of the folder.\n     * @param parent The parent folder.\n     * @returns {Promise<Folder>} A promise that resolves with the folder object when the folder is created.\n     */\n    public static async NewFolder(name: string, parent: Folder | null = null): Promise<Folder> {\n        return await Folder.create({\n            type: 'Item',\n            parent: parent === null ? null : parent.id,\n            name: name,\n        });\n    }\n\n    /**\n     * Get a folder at a path in the items directory.\n     * @param path The absolute path of the folder.\n     * @param mkdirs If true, will make all folders along the hierarchy if they do not exist.\n     * @returns A promise that will resolve with the found folder.\n     */\n    public static async GetFolderAtPath(path: string, mkdirs: boolean = false): Promise<Entity> {\n        let idx = 0;\n        let curr,\n            last = null;\n        let next = path.split('/');\n        while (idx < next.length) {\n            // @ts-ignore // TODO: foundry-pc-type defines Folder without parent property, but it does exist.\n            curr = game.folders.find((folder) => folder.parent === last && folder.name === next[idx]);\n            if (curr === null) {\n                if (!mkdirs) {\n                    return Promise.reject(`Unable to find folder: ${path}`);\n                }\n\n                curr = await ImportHelper.NewFolder(next[idx], last);\n            }\n            last = curr;\n            idx++;\n        }\n        return Promise.resolve(curr);\n    }\n\n    /**\n     * Get a value from the the provided jsonData, optionally returning a default value if it is not found\n     * or is unable to be parsed to an integer.\n     * @param jsonData The data to get the keyed value in.\n     * @param key The key to check for the value under.\n     * @param fallback An optional default value to return if the key is not found.\n     */\n    public static IntValue(jsonData: object, key: string, fallback: number | undefined = undefined): number {\n        return ImportHelper.s_Strategy.intValue(jsonData, key, fallback);\n    }\n\n    /**\n     * Get a value from the the provided jsonData, optionally returning a default value if it is not found.\n     * @param jsonData The data to get the keyed value in.\n     * @param key The key to check for the value under.\n     * @param fallback An optional default value to return if the key is not found.\n     */\n    public static StringValue(jsonData: object, key: string | number, fallback: string | undefined = undefined): string {\n        return ImportHelper.s_Strategy.stringValue(jsonData, key, fallback);\n    }\n\n    /**\n     * Get an object from the the provided jsonData, optionally returning a default value if it is not found.\n     * @param jsonData The data to get the keyed value in.\n     * @param key The key to check for the value under.\n     * @param fallback An optional default value to return if the key is not found.\n     */\n    public static ObjectValue(jsonData: object, key: string | number, fallback: object | null | undefined = undefined): object | null {\n        return ImportHelper.s_Strategy.objectValue(jsonData, key, fallback);\n    }\n\n    //TODO\n    public static findItem(nameOrCmp: string | ItemComparer): Entity {\n        let result: any | null;\n        if (typeof nameOrCmp === 'string') {\n            result = game.items.find((item) => item.name == nameOrCmp);\n        } else {\n            result = game.items.find(nameOrCmp);\n        }\n        return result;\n    }\n\n    public static TranslateCategory(name, jsonCategoryTranslations?) {\n        if (jsonCategoryTranslations && jsonCategoryTranslations.hasOwnProperty(name)) {\n            return jsonCategoryTranslations[name];\n        }\n\n        return name;\n    }\n    //TODO\n    public static async MakeCategoryFolders(\n        jsonData: object,\n        path: string,\n        jsonCategoryTranslations?: object | undefined,\n    ): Promise<{ [name: string]: Folder }> {\n        let folders = {};\n        let jsonCategories = jsonData['categories']['category'];\n\n        for (let i = 0; i < jsonCategories.length; i++) {\n            let categoryName = jsonCategories[i][ImportHelper.CHAR_KEY];\n            // use untranslated category name for easier mapping during DataImporter.Parse implementations.\n            let origCategoryName = categoryName;\n            categoryName = ImportHelper.TranslateCategory(categoryName, jsonCategoryTranslations);\n            folders[origCategoryName.toLowerCase()] = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/${path}/${categoryName}`, true);\n        }\n\n        return folders;\n    }\n\n    /** Extract the correct <chummer file=\"${dataFileName}>[...]</chummer> element from xx-xx_data.xml translations.\n     *\n     * @param jsoni18n\n     * @param dataFileName Expected translation target file name\n     */\n    public static ExtractDataFileTranslation(jsoni18n, dataFileName): object {\n        for (let i = 0; i < jsoni18n.length; i++) {\n            const translation = jsoni18n[i];\n            if (translation.$.file === dataFileName) {\n                return translation;\n            }\n        }\n        return {};\n    }\n\n    /** Extract categories translations within xx-xx_data.xml <chummer/> translation subset.\n     *\n     *  Note: Not all file translations provide categories.\n     *\n     * @param jsonChummeri18n Translations as given by ExtractDataFileTranslations\n     */\n    public static ExtractCategoriesTranslation(jsonChummeri18n) {\n        const categoryTranslations = {};\n        if (jsonChummeri18n && jsonChummeri18n.hasOwnProperty('categories')) {\n            jsonChummeri18n.categories.category.forEach((category) => {\n                const name = category[ImportHelper.CHAR_KEY];\n                const translate = category.$.translate;\n                categoryTranslations[name] = translate;\n            });\n        }\n        return categoryTranslations;\n    }\n\n    /** Extract item type translations within xx-xx_data.xml <chummer/> translation subset.\n     *\n     * @param jsonItemsi18n Translations as given by ExtractDataFileTranslations\n     * @param typeKey The item type to translate. Tends to be plural.\n     * @param listKey The item to translate. Tends to be singular.\n     */\n    public static ExtractItemTranslation(jsonItemsi18n, typeKey, listKey) {\n        const itemTranslation = {};\n        if (jsonItemsi18n && jsonItemsi18n[typeKey] && jsonItemsi18n[typeKey][listKey] && jsonItemsi18n[typeKey][listKey].length > 0) {\n            jsonItemsi18n[typeKey][listKey].forEach((item) => {\n                const name = item.name[ImportHelper.CHAR_KEY];\n                const translate = item.translate[ImportHelper.CHAR_KEY];\n                const altpage = item.altpage[ImportHelper.CHAR_KEY];\n                itemTranslation[name] = { translate, altpage };\n            });\n        }\n\n        return itemTranslation;\n    }\n\n    static MapNameToTranslationKey(translationMap, name, key, fallbackValue = ''): string {\n        if (translationMap && translationMap.hasOwnProperty(name) && translationMap[name].hasOwnProperty(key)) {\n            return translationMap[name][key];\n        }\n\n        return fallbackValue;\n    }\n\n    public static MapNameToTranslation(translationMap, name): string {\n        return ImportHelper.MapNameToTranslationKey(translationMap, name, 'translate', name);\n    }\n\n    public static MapNameToPageSource(translationMap, name, fallback='?'): string {\n        return ImportHelper.MapNameToTranslationKey(translationMap, name, 'altpage', fallback);\n    }\n}\nexport type ItemComparer = (item: Item) => boolean;\n","export abstract class ImportStrategy {\n    public abstract intValue(jsonData: object, key: string, fallback: number | undefined): number;\n    public abstract stringValue(jsonData: object, key: string | number, fallback: string | undefined): string;\n    public abstract objectValue(jsonData: object, key: string | number, fallback: object | null | undefined): object | null;\n}\nexport type ItemComparer = (item: Item) => boolean;\n","import { ImportStrategy } from './ImportStrategy';\n\nexport class JSONStrategy extends ImportStrategy {\n    public intValue(jsonData: object, key: string, fallback: number | undefined = undefined): number {\n        throw new Error('Unimplemented');\n    }\n\n    public stringValue(jsonData: object, key: string | number, fallback: string | undefined = undefined): string {\n        throw new Error('Unimplemented');\n    }\n\n    public objectValue(jsonData: object, key: string | number, fallback: object | null | undefined = undefined): object | null {\n        throw new Error('Unimplemented');\n    }\n}\n","import { ImportHelper } from './ImportHelper';\nimport { ImportStrategy } from './ImportStrategy';\n\nexport class XMLStrategy extends ImportStrategy {\n    public intValue(jsonData: object, key: string, fallback: number | undefined = undefined): number {\n        try {\n            return parseInt(jsonData[key][ImportHelper.CHAR_KEY]);\n        } catch (e) {\n            if (fallback !== undefined) {\n                return fallback;\n            } else {\n                throw e;\n            }\n        }\n    }\n\n    public stringValue(jsonData: object, key: string | number, fallback: string | undefined = undefined): string {\n        try {\n            return jsonData[key][ImportHelper.CHAR_KEY];\n        } catch (e) {\n            if (fallback !== undefined) {\n                return fallback;\n            } else {\n                throw e;\n            }\n        }\n    }\n\n    public objectValue(jsonData: object, key: string | number, fallback: object | null | undefined = undefined): object | null {\n        try {\n            return jsonData[key];\n        } catch (e) {\n            if (fallback !== undefined) {\n                return fallback;\n            } else {\n                throw e;\n            }\n        }\n    }\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport { Constants } from './Constants';\nimport Ammo = Shadowrun.Ammo;\nimport WeaponData = Shadowrun.WeaponData;\n\nexport class AmmoImporter extends DataImporter {\n    public files = ['gear.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('gears') && jsonObject['gears'].hasOwnProperty('gear');\n    }\n\n    GetDefaultData(): Ammo {\n        return {\n            name: '',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'ammo',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                technology: {\n                    rating: 1,\n                    availability: '',\n                    quantity: 1,\n                    cost: 0,\n                    equipped: true,\n                    conceal: {\n                        base: 0,\n                        value: 0,\n                        mod: [],\n                    },\n                    condition_monitor: {\n                        label: '',\n                        value: 0,\n                        max: 0,\n                    },\n                    wireless: true\n                },\n\n                element: '',\n                ap: 0,\n                damage: 0,\n                damageType: 'physical',\n                blast: {\n                    radius: 0,\n                    dropoff: 0,\n                },\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonGeari18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonGeari18n);\n        this.entryTranslations = ImportHelper.ExtractItemTranslation(jsonGeari18n, 'gears', 'gear');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        let ammoDatas: Ammo[] = [];\n        let jsonAmmos = jsonObject['gears']['gear'];\n        for (let i = 0; i < jsonAmmos.length; i++) {\n            let jsonData = jsonAmmos[i];\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            if (ImportHelper.StringValue(jsonData, 'category', '') !== 'Ammunition') {\n                continue;\n            }\n\n            let data = this.GetDefaultData();\n            data.name = ImportHelper.StringValue(jsonData, 'name');\n            data.name = ImportHelper.MapNameToTranslation(this.entryTranslations, data.name);\n\n            data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.StringValue(jsonData, 'page')}`;\n            data.data.technology.rating = 2;\n            data.data.technology.availability = ImportHelper.StringValue(jsonData, 'avail');\n            data.data.technology.cost = ImportHelper.IntValue(jsonData, 'cost', 0);\n\n            let bonusData = ImportHelper.ObjectValue(jsonData, 'weaponbonus', null);\n            if (bonusData !== undefined && bonusData !== null) {\n                data.data.ap = ImportHelper.IntValue(bonusData, 'ap', 0);\n                data.data.damage = ImportHelper.IntValue(bonusData, 'damage', 0);\n\n                let damageType = ImportHelper.StringValue(bonusData, 'damagetype', '');\n                if (damageType.length > 0) {\n                    if (damageType.includes('P')) {\n                        data.data.damageType = 'physical';\n                    } else if (damageType.includes('S')) {\n                        data.data.damageType = 'stun';\n                    } else if (damageType.includes('M')) {\n                        data.data.damageType = 'matrix';\n                    }\n                }\n            }\n\n            let shouldLookForWeapons = false;\n            let nameLower = data.name.toLowerCase();\n            ['grenade', 'rocket', 'missile'].forEach((compare) => {\n                shouldLookForWeapons = shouldLookForWeapons || nameLower.includes(compare);\n            });\n            // NOTE: Should either weapons or gear not have been imported with translation, this will fail.\n            if (shouldLookForWeapons) {\n                let foundWeapon = ImportHelper.findItem((item) => {\n                    // Filter for weapon type due to possible double naming giving other item types.\n                    return item.type === 'weapon' && item.name.toLowerCase() === nameLower;\n                });\n\n                if (foundWeapon !== null && \"action\" in foundWeapon.data.data) {\n                    console.log(foundWeapon);\n\n                    const weaponData = foundWeapon.data.data as WeaponData;\n                    data.data.damage = weaponData.action.damage.value;\n                    data.data.ap =weaponData.action.damage.ap.value;\n                }\n            }\n\n            // ammo doesn't have conceal rating from looking at the data\n            // data.data.technology.conceal.base = ImportHelper.intValue(jsonData, \"conceal\");\n            data.data.technology.conceal.base = 0;\n\n            ammoDatas.push(data);\n        }\n\n        for (let i = 0; i < ammoDatas.length; i++) {\n            let folderName = 'Misc';\n            let ammo = ammoDatas[i];\n\n            let splitName = ammo.name.split(':');\n            if (splitName.length > 1) {\n                folderName = splitName[0].trim();\n            }\n\n            let folder = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/Ammo/${folderName}`, true);\n\n            ammo.folder = folder.id;\n        }\n\n        return await Item.create(ammoDatas);\n    }\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport Armor = Shadowrun.Armor;\nimport { ArmorParserBase } from '../parser/armor/ArmorParserBase';\n\nexport class ArmorImporter extends DataImporter {\n    public armorTranslations: any;\n    public categoryTranslations: any;\n    public files = ['armor.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('armors') && jsonObject['armors'].hasOwnProperty('armor');\n    }\n\n    GetDefaultData(): Armor {\n        return {\n            name: 'Unnamed Armor',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'armor',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                technology: {\n                    rating: 1,\n                    availability: '',\n                    quantity: 1,\n                    cost: 0,\n                    equipped: true,\n                    conceal: {\n                        base: 0,\n                        value: 0,\n                        mod: [],\n                    },\n                    condition_monitor: {\n                        label: '',\n                        value: 0,\n                        max: 0,\n                    },\n                    wireless: true\n                },\n                armor: {\n                    value: 0,\n                    mod: false,\n                    acid: 0,\n                    cold: 0,\n                    fire: 0,\n                    electricity: 0,\n                    radiation: 0,\n                },\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonArmori18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonArmori18n);\n        this.armorTranslations = ImportHelper.ExtractItemTranslation(jsonArmori18n, 'armors', 'armor');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const folders = await ImportHelper.MakeCategoryFolders(jsonObject, 'Armor', this.categoryTranslations);\n\n        const parser = new ArmorParserBase();\n\n        let datas: Armor[] = [];\n        let jsonDatas = jsonObject['armors']['armor'];\n        for (let i = 0; i < jsonDatas.length; i++) {\n            let jsonData = jsonDatas[i];\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            let data = parser.Parse(jsonData, this.GetDefaultData());\n            const category = ImportHelper.StringValue(jsonData, 'category').toLowerCase();\n            data.name = ImportHelper.MapNameToTranslation(this.armorTranslations, data.name);\n            data.folder = folders[category].id;\n\n            datas.push(data);\n        }\n\n        return await Item.create(datas);\n    }\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport { Constants } from './Constants';\nimport { ComplexFormParserBase } from '../parser/complex-form/ComplexFormParserBase';\nimport ComplexForm = Shadowrun.ComplexForm;\nimport {DefaultValues} from \"../../dataTemplates\";\n\nexport class ComplexFormImporter extends DataImporter {\n    public categoryTranslations: any;\n    public nameTranslations: any;\n    public files = ['complexforms.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('complexforms') && jsonObject['complexforms'].hasOwnProperty('complexform');\n    }\n\n    GetDefaultData(): ComplexForm {\n        return {\n            name: 'Unnamed Form',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'complex_form',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                action: {\n                    type: 'complex',\n                    category: '',\n                    attribute: 'resonance',\n                    attribute2: '',\n                    skill: 'compiling',\n                    spec: false,\n                    mod: 0,\n                    mod_description: '',\n                    damage: DefaultValues.damageData(),\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                        mod: [],\n                        base: 0,\n                    },\n                    extended: false,\n                    opposed: {\n                        type: 'defense',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                    alt_mod: 0,\n                    dice_pool_mod: [],\n                },\n                target: '',\n                duration: '',\n                fade: 0,\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        // Complexforms don't provide a category translation.\n        let jsonItemi18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.nameTranslations = ImportHelper.ExtractItemTranslation(jsonItemi18n, 'complexforms', 'complexform');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const parser = new ComplexFormParserBase();\n        const folder = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/Complex Forms`, true);\n\n        let datas: ComplexForm[] = [];\n        let jsonDatas = jsonObject['complexforms']['complexform'];\n        for (let i = 0; i < jsonDatas.length; i++) {\n            let jsonData = jsonDatas[i];\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            let data = parser.Parse(jsonData, this.GetDefaultData(), this.nameTranslations);\n            data.folder = folder.id;\n\n            // TODO: Follow ComplexFormParserBase approach.\n            data.name = ImportHelper.MapNameToTranslation(this.nameTranslations, data.name);\n\n            datas.push(data);\n        }\n\n        return await Item.create(datas);\n    }\n}\n","export class Constants {\n    public static readonly MAP_CATEGORY_TO_SKILL = {\n        'Assault Cannons': 'heavy_weapons',\n        'Assault Rifles': 'automatics',\n        'Blades': 'blades',\n        'Bows': 'archery',\n        'Carbines': 'automatics',\n        'Clubs': 'clubs',\n        'Crossbows': 'archery',\n        'Exotic Melee Weapons': 'exotic_melee',\n        'Exotic Ranged Weapons': 'exotic_ranged',\n        'Flamethrowers': 'exotic_ranged',\n        'Grenade Launchers': 'heavy_weapons',\n        'Heavy Machine Guns': 'heavy_weapons',\n        'Heavy Pistols': 'pistols',\n        'Holdouts': 'pistols',\n        'Laser Weapons': 'exotic_ranged',\n        'Light Machine Guns': 'heavy_weapons',\n        'Light Pistols': 'pistols',\n        'Machine Pistols': 'automatics',\n        'Medium Machine Guns': 'automatics',\n        'Missile Launchers': 'heavy_weapons',\n        'Shotguns': 'longarms',\n        'Sniper Rifles': 'longarms',\n        'Sporting Rifles': 'longarms',\n        'Submachine Guns': 'automatics',\n        'Tasers': 'pistols',\n        'Unarmed': 'unarmed_combat',\n    };\n    public static readonly WEAPON_RANGES = {\n        'Tasers': {\n            short: 5,\n            medium: 10,\n            long: 15,\n            extreme: 20,\n        },\n        'Holdouts': {\n            short: 5,\n            medium: 15,\n            long: 30,\n            extreme: 50,\n        },\n        'Light Pistols': {\n            short: 5,\n            medium: 15,\n            long: 30,\n            extreme: 50,\n        },\n        'Heavy Pistols': {\n            short: 5,\n            medium: 20,\n            long: 40,\n            extreme: 60,\n        },\n        'Machine Pistols': {\n            short: 5,\n            medium: 15,\n            long: 30,\n            extreme: 50,\n        },\n        'Submachine Guns': {\n            short: 10,\n            medium: 40,\n            long: 80,\n            extreme: 150,\n        },\n        'Assault Rifles': {\n            short: 25,\n            medium: 150,\n            long: 350,\n            extreme: 550,\n        },\n        'Shotguns': {\n            short: 10,\n            medium: 40,\n            long: 80,\n            extreme: 150,\n        },\n        'Shotguns (slug)': {\n            short: 10,\n            medium: 40,\n            long: 80,\n            extreme: 150,\n        },\n        'Shotguns (flechette)': {\n            short: 15,\n            medium: 30,\n            long: 45,\n            extreme: 60,\n        },\n        'Sniper Rifles': {\n            short: 50,\n            medium: 350,\n            long: 800,\n            extreme: 1500,\n        },\n        'Sporting Rifles': {\n            short: 50,\n            medium: 250,\n            long: 500,\n            extreme: 750,\n        },\n        'Light Machine Guns': {\n            short: 25,\n            medium: 200,\n            long: 400,\n            extreme: 800,\n        },\n        'Medium/Heavy Machinegun': {\n            short: 40,\n            medium: 250,\n            long: 750,\n            extreme: 1200,\n        },\n        'Assault Cannons': {\n            short: 50,\n            medium: 300,\n            long: 750,\n            extreme: 1500,\n        },\n        'Grenade Launchers': {\n            min: 5,\n            short: 50,\n            medium: 100,\n            long: 150,\n            extreme: 500,\n        },\n        'Missile Launchers': {\n            min: 20,\n            short: 70,\n            medium: 150,\n            long: 450,\n            extreme: 1500,\n        },\n        'Bows': {\n            short: 1,\n            medium: 10,\n            long: 30,\n            extreme: 60,\n            attribute: 'strength',\n        },\n        'Light Crossbows': {\n            short: 6,\n            medium: 24,\n            long: 60,\n            extreme: 120,\n        },\n        'Medium Crossbows': {\n            short: 9,\n            medium: 36,\n            long: 90,\n            extreme: 150,\n        },\n        'Heavy Crossbows': {\n            short: 15,\n            medium: 45,\n            long: 120,\n            extreme: 180,\n        },\n        'Thrown Knife': {\n            short: 1,\n            medium: 2,\n            long: 3,\n            extreme: 5,\n            attribute: 'strength',\n        },\n        'Net': {\n            short: 0.5,\n            medium: 1,\n            long: 1.5,\n            extreme: 2.5,\n            attribute: 'strength',\n        },\n        'Shuriken': {\n            short: 1,\n            medium: 2,\n            long: 5,\n            extreme: 7,\n            attribute: 'strength',\n        },\n        'Standard Grenade': {\n            short: 2,\n            medium: 4,\n            long: 6,\n            extreme: 10,\n            attribute: 'strength',\n        },\n        'Aerodynamic Grenade': {\n            min: 0,\n            short: 2,\n            medium: 4,\n            long: 8,\n            extreme: 15,\n            attribute: 'strength',\n        },\n        'Harpoon Gun': {\n            short: 5,\n            medium: 20,\n            long: 40,\n            extreme: 60,\n        },\n        'Harpoon Gun (Underwater)': {\n            short: 6,\n            medium: 24,\n            long: 60,\n            extreme: 120,\n        },\n        'Flamethrowers': {\n            short: 15,\n            medium: 20,\n            long: -1,\n            extreme: -1,\n        },\n    };\n\n    public static readonly ROOT_IMPORT_FOLDER_NAME = 'SR5e';\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport CritterPower = Shadowrun.CritterPower;\nimport { CritterPowerParserBase } from '../parser/critter-power/CritterPowerParserBase';\nimport { Constants } from './Constants';\nimport {DefaultValues} from \"../../dataTemplates\";\n\nexport class CritterPowerImporter extends DataImporter {\n    public categoryTranslations: any;\n    public itemTranslations: any;\n    public files = ['critterpowers.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('powers') && jsonObject['powers'].hasOwnProperty('power');\n    }\n\n    GetDefaultData(): CritterPower {\n        return {\n            name: 'Unnamed Item',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'critter_power',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                action: {\n                    type: '',\n                    category: '',\n                    attribute: '',\n                    attribute2: '',\n                    skill: '',\n                    spec: false,\n                    mod: 0,\n                    mod_description: '',\n                    damage: DefaultValues.damageData({type: {base: '', value: ''}}),\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                        mod: [],\n                        base: 0,\n                    },\n                    extended: false,\n                    opposed: {\n                        type: '',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                    alt_mod: 0,\n                    dice_pool_mod: [],\n                },\n                armor: {\n                    value: 0,\n                    mod: false,\n                    acid: 0,\n                    cold: 0,\n                    fire: 0,\n                    electricity: 0,\n                    radiation: 0,\n                },\n                category: '',\n                powerType: '',\n                range: '',\n                duration: '',\n                karma: 0,\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonCritterPoweri18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonCritterPoweri18n);\n        this.itemTranslations = ImportHelper.ExtractItemTranslation(jsonCritterPoweri18n, 'powers', 'power');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n      const parser = new CritterPowerParserBase();\n      const folder = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/Critter Powers`, true);\n\n      let datas: CritterPower[] = [];\n      let jsonDatas = jsonObject['powers']['power'];\n      for (let i = 0; i < jsonDatas.length; i++) {\n          let jsonData = jsonDatas[i];\n\n          let data = parser.Parse(jsonData, this.GetDefaultData(), this.itemTranslations);\n          data.folder = folder.id;\n          data.name = ImportHelper.MapNameToTranslation(this.itemTranslations, data.name);\n\n          datas.push(data);\n      }\n\n      return await Item.create(datas);\n    }\n}\n","import { ImportHelper } from '../helper/ImportHelper';\n\nconst xml2js = require('xml2js');\n\nexport abstract class DataImporter {\n    public abstract files: string[];\n    public static jsoni18n: any;\n    public categoryTranslations: any;\n    public entryTranslations: any;\n    public static unsupportedBooks: string[] = ['2050'];\n\n    /**\n     * Get default data for constructing a TItem.\n     */\n    public abstract GetDefaultData(): any;\n\n    /**\n     *\n     * @param jsonObject JSON Data with all data translations for one language.\n     */\n    public static CanParseI18n(jsonObject: any): boolean {\n        return jsonObject.hasOwnProperty('chummer') && jsonObject.chummer.length > 0 && jsonObject.chummer[0].$.hasOwnProperty('file');\n    }\n\n    /**\n     * Stores translations as a whole for all implementing classes to extract from without reparsing.\n     * @param jsonObject JSON Data with all data translations for one language.\n     */\n    public static ParseTranslation(jsonObject: object) {\n        if (jsonObject && jsonObject.hasOwnProperty('chummer')) {\n            DataImporter.jsoni18n = jsonObject['chummer'];\n        }\n    }\n    /**\n     * Implementing classes can use ExtractTranslation to only extract needed translations.\n     */\n    public abstract ExtractTranslation(fileName?: string);\n\n    /**\n     * Validate if this importer is capable of parsing the provided JSON data.\n     * @param jsonObject JSON data to check import capability for.\n     * @returns boolean True if the importer is capable of parsing the provided XML data.\n     */\n    public abstract CanParse(jsonObject: object): boolean;\n\n    /**\n     * Parse the specified jsonObject and return Item representations.\n     * @param jsonObject The JSON data to parse.\n     * @returns An array of created objects.\n     */\n    public abstract Parse(jsonObject: object): Promise<Entity>;\n\n    /**\n     * Parse an XML string into a JSON object.\n     * @param xmlString The string to parse as XML.\n     * @returns A json object converted from the string.\n     */\n    public static async xml2json(xmlString: string): Promise<object> {\n        const parser = xml2js.Parser({\n            explicitArray: false,\n            explicitCharkey: true,\n            charkey: ImportHelper.CHAR_KEY,\n        });\n\n        return (await parser.parseStringPromise(xmlString))['chummer'];\n    }\n\n    public static unsupportedBookSource(jsonObject) {\n        if (!jsonObject.hasOwnProperty('source')) return false;\n        const source = ImportHelper.StringValue(jsonObject, 'source', '');\n        return DataImporter.unsupportedBooks.includes(source);\n    }\n\n    public static unsupportedEntry(jsonObject) {\n        if (DataImporter.unsupportedBookSource(jsonObject)) {\n            return true;\n        }\n\n        return false;\n    }\n}\n","import {DataImporter} from \"./DataImporter\";\nimport {ImportHelper} from \"../helper/ImportHelper\";\nimport {Constants} from \"./Constants\";\n\nexport class DeviceImporter extends DataImporter {\n    public files = ['gear.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('gears') && jsonObject['gears'].hasOwnProperty('gear');\n    }\n\n    GetDefaultData() {\n        return {\n            name: '',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'device',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                technology: {\n                    rating: 1,\n                    availability: '',\n                    quantity: 1,\n                    cost: 0,\n                    equipped: true,\n                    conceal: {\n                        base: 0,\n                        value: 0,\n                        mod: [],\n                    },\n                    condition_monitor: {\n                        label: '',\n                        value: 0,\n                        max: 0,\n                    },\n                },\n                category: 'commlink',\n                \"atts\": {\n                    \"att1\": {\n                        \"value\": 0,\n                        \"att\": \"attack\"\n                    },\n                    \"att2\": {\n                        \"value\": 0,\n                        \"att\": \"sleaze\"\n                    },\n                    \"att3\": {\n                        \"value\": 0,\n                        \"att\": \"data_processing\"\n                    },\n                    \"att4\": {\n                        \"value\": 0,\n                        \"att\": \"firewall\"\n                    }\n                },\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation(fileName?: string) {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonGeari18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonGeari18n);\n        this.entryTranslations = ImportHelper.ExtractItemTranslation(jsonGeari18n, 'gears', 'gear');\n    }\n\n    ParseCommlinkDevices(commlinks, folder) {\n        const entries = [];\n\n        for (const commlink of commlinks) {\n            if (DataImporter.unsupportedEntry(commlink)) {\n                continue;\n            }\n            const data = this.GetDefaultData();\n\n            data.name = ImportHelper.StringValue(commlink, 'name');\n            data.name = ImportHelper.MapNameToTranslation(this.entryTranslations, data.name);\n\n            data.data.description.source = `${ImportHelper.StringValue(commlink, 'source')} ${ImportHelper.MapNameToPageSource(this.entryTranslations, ImportHelper.StringValue(commlink, 'name'), ImportHelper.StringValue(commlink, 'page'))}`;\n            data.data.technology.rating = ImportHelper.IntValue(commlink, 'devicerating', 0);\n            data.data.technology.availability = ImportHelper.StringValue(commlink, 'avail');\n            data.data.technology.cost = ImportHelper.IntValue(commlink, 'cost', 0);\n            data.data.atts.att3.value = ImportHelper.IntValue(commlink, 'dataprocessing', 0);\n            data.data.atts.att4.value = ImportHelper.IntValue(commlink, 'firewall', 0);\n\n            //@ts-ignore\n            data.folder = folder.id;\n            //@ts-ignore\n            entries.push(data);\n        }\n\n        return entries;\n    }\n\n    ParseCyberdeckDevices(cyberdecks, folder) {\n        const entries = [];\n\n        for (const cyberdeck of cyberdecks) {\n            if (DataImporter.unsupportedEntry(cyberdeck)) {\n                continue;\n            }\n\n            const data = this.GetDefaultData();\n\n            data.data.category = 'cyberdeck';\n            data.name = ImportHelper.StringValue(cyberdeck, 'name');\n            data.name = ImportHelper.MapNameToTranslation(this.entryTranslations, data.name);\n\n            data.data.description.source = `${ImportHelper.StringValue(cyberdeck, 'source')} ${ImportHelper.MapNameToPageSource(this.entryTranslations, ImportHelper.StringValue(cyberdeck, 'name'), ImportHelper.StringValue(cyberdeck, 'page'))}`;\n            data.data.technology.rating = ImportHelper.IntValue(cyberdeck, 'devicerating', 0);\n            data.data.technology.availability = ImportHelper.StringValue(cyberdeck, 'avail');\n            data.data.technology.cost = ImportHelper.IntValue(cyberdeck, 'cost', 0);\n\n            // Some cyberdecks have a flexible attribute order\n            // attributearray is a ',' separated list of values. Since it's hacky, be very unforgiving.\n            if (cyberdeck.hasOwnProperty('attributearray')) {\n                const attributeOrder = ImportHelper.StringValue(cyberdeck, 'attributearray').split(',');\n                const att1 = Number(attributeOrder[0]);\n                const att2 = Number(attributeOrder[1]);\n                const att3 = Number(attributeOrder[2]);\n                const att4 = Number(attributeOrder[3]);\n                data.data.atts.att1.value = att1;\n                data.data.atts.att2.value = att2;\n                data.data.atts.att3.value = att3;\n                data.data.atts.att4.value = att4;\n\n            // Some cyberdecks have a fixed attribute order\n            } else if (cyberdeck.hasOwnProperty('attack')) {\n                data.data.atts.att1.value = ImportHelper.IntValue(cyberdeck, 'attack', 0);\n                data.data.atts.att2.value = ImportHelper.IntValue(cyberdeck, 'sleaze', 0);\n                data.data.atts.att3.value = ImportHelper.IntValue(cyberdeck, 'dataprocessing', 0);\n                data.data.atts.att4.value = ImportHelper.IntValue(cyberdeck, 'firewall', 0);\n            }\n\n            //@ts-ignore\n            data.folder = folder.id;\n            //@ts-ignore\n            entries.push(data);\n        }\n\n        return entries;\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        let entries = [];\n        const commlinks = jsonObject['gears']['gear'].filter(gear => ImportHelper.StringValue(gear, 'category', '') === 'Commlinks');\n        const cyberdecks = jsonObject['gears']['gear'].filter(gear => ImportHelper.StringValue(gear, 'category', '') === 'Cyberdecks');\n\n        let commlinksFolder = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/${game.i18n.localize('SR5.DeviceCatCommlink')}`, true);\n        let cyberdecksFolder = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/${game.i18n.localize('SR5.DeviceCatCyberdeck')}`, true);\n\n        entries = entries.concat(this.ParseCommlinkDevices(commlinks, commlinksFolder));\n        entries = entries.concat(this.ParseCyberdeckDevices(cyberdecks, cyberdecksFolder));\n\n        return await Item.create(entries)\n    }\n\n    /* List of unsupported Commlinks, due to dynamics value calculations.\n     */\n    static unsupportedEntry(jsonData): boolean {\n        if (DataImporter.unsupportedEntry(jsonData)) {\n            return true;\n        }\n\n        const unsupportedIds = [\n            'd63eb841-7b15-4539-9026-b90a4924aeeb',  // Dynamic rating value.\n        ];\n        return unsupportedIds.includes(ImportHelper.StringValue(jsonData, 'id'));\n    }\n}","import {DataImporter} from \"./DataImporter\";\nimport {ImportHelper} from \"../helper/ImportHelper\";\nimport {Constants} from \"./Constants\";\n\nexport class EquipmentImporter extends DataImporter {\n    public files = ['gear.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('gears') && jsonObject['gears'].hasOwnProperty('gear');\n    }\n\n    GetDefaultData() {\n        return {\n            name: '',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'equipment',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                technology: {\n                    rating: 1,\n                    availability: '',\n                    quantity: 1,\n                    cost: 0,\n                    equipped: true,\n                    conceal: {\n                        base: 0,\n                        value: 0,\n                        mod: [],\n                    },\n                    condition_monitor: {\n                        label: '',\n                        value: 0,\n                        max: 0,\n                    },\n                }\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation(fileName?: string) {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonGeari18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonGeari18n);\n        this.entryTranslations = ImportHelper.ExtractItemTranslation(jsonGeari18n, 'gears', 'gear');\n    }\n\n    async ParseEquipments(equipments) {\n        const entries = [];\n\n        for (const equipment of equipments) {\n            if (DataImporter.unsupportedEntry(equipment)) {\n                continue;\n            }\n\n            // Replace / as it's used as a separator in GetFolderAtPath.\n            const category = ImportHelper.TranslateCategory(ImportHelper.StringValue(equipment, 'category'), this.categoryTranslations).replace('/', ' ');\n            let categoryFolder = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/${game.i18n.localize('SR5.Gear')}/${category}`, true);\n\n            const data = this.GetDefaultData();\n            data.name = ImportHelper.StringValue(equipment, 'name');\n            data.name = ImportHelper.MapNameToTranslation(this.entryTranslations, data.name);\n\n            data.data.description.source = `${ImportHelper.StringValue(equipment, 'source')} ${ImportHelper.MapNameToPageSource(this.entryTranslations, ImportHelper.StringValue(equipment, 'name'), ImportHelper.StringValue(equipment, 'page'))}`;\n            data.data.technology.rating = ImportHelper.IntValue(equipment, 'rating', 0);\n            data.data.technology.availability = ImportHelper.StringValue(equipment, 'avail');\n            data.data.technology.cost = ImportHelper.IntValue(equipment, 'cost', 0);\n\n            //@ts-ignore\n            data.folder = categoryFolder.id;\n            //@ts-ignore\n            entries.push(data);\n        }\n\n        return entries;\n    }\n\n    FilterJsonObjects(jsonObject) {\n        const unsupportedCategories = [\n            'Ammunition',\n            'Commlinks',\n            'Cyberdecks',\n            'Hacking Programs',\n            'Rigger Command Consoles',\n            'Custom'\n        ]\n\n        return jsonObject['gears']['gear'].filter(gear => !unsupportedCategories.includes(ImportHelper.StringValue(gear, 'category', '')));\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const equipments = this.FilterJsonObjects(jsonObject);\n\n        const entries = await this.ParseEquipments(equipments);\n\n        return await Item.create(entries);\n    }\n}","import { DataImporter } from './DataImporter';\nimport Mod = Shadowrun.Modification;\nimport { ImportHelper } from '../helper/ImportHelper';\nimport { Constants } from './Constants';\nimport { ModParserBase } from '../parser/mod/ModParserBase';\n\nexport class ModImporter extends DataImporter {\n    public categoryTranslations: any;\n    public accessoryTranslations: any;\n    public files = ['weapons.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('accessories') && jsonObject['accessories'].hasOwnProperty('accessory');\n    }\n\n    GetDefaultData(): Mod {\n        return {\n            name: '',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'modification',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                technology: {\n                    rating: 1,\n                    availability: '',\n                    quantity: 1,\n                    cost: 0,\n                    equipped: true,\n                    conceal: {\n                        base: 0,\n                        value: 0,\n                        mod: [],\n                    },\n                    condition_monitor: {\n                        label: '',\n                        value: 0,\n                        max: 0,\n                    },\n                    wireless: true\n                },\n                type: '',\n                mount_point: '',\n                dice_pool: 0,\n                accuracy: 0,\n                rc: 0,\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonWeaponsi18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        // Parts of weapon accessory translations are within the application translation. Currently only data translation is used.\n        this.accessoryTranslations = ImportHelper.ExtractItemTranslation(jsonWeaponsi18n, 'accessories', 'accessory');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const parser = new ModParserBase();\n\n        let datas: Mod[] = [];\n        let jsonDatas = jsonObject['accessories']['accessory'];\n        for (let i = 0; i < jsonDatas.length; i++) {\n            let jsonData = jsonDatas[i];\n\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            let data = parser.Parse(jsonData, this.GetDefaultData());\n            // TODO: Integrate into ModParserBase approach.\n            data.name = ImportHelper.MapNameToTranslation(this.accessoryTranslations, data.name);\n            //TODO: Test this\n\n            let folderName = data.data.mount_point !== undefined ? data.data.mount_point : 'Other';\n            if (folderName.includes('/')) {\n                let splitName = folderName.split('/');\n                folderName = splitName[0];\n            }\n\n            let folder = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/Mods/${folderName}`, true);\n            data.folder = folder.id;\n\n            datas.push(data);\n        }\n\n        return await Item.create(datas);\n    }\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport { QualityParserBase } from '../parser/quality/QualityParserBase';\nimport Quality = Shadowrun.Quality;\nimport {DefaultValues} from \"../../dataTemplates\";\n\nexport class QualityImporter extends DataImporter {\n    public categoryTranslations: any;\n    public itemTranslations: any;\n    public files = ['qualities.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('qualities') && jsonObject['qualities'].hasOwnProperty('quality');\n    }\n\n    GetDefaultData(): Quality {\n        return {\n            name: 'Unnamed Armor',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'quality',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                action: {\n                    type: '',\n                    category: '',\n                    attribute: '',\n                    attribute2: '',\n                    skill: '',\n                    spec: false,\n                    mod: 0,\n                    mod_description: '',\n                    damage: DefaultValues.damageData({type: {base: '', value: ''}}),\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                        mod: [],\n                        base: 0,\n                    },\n                    extended: false,\n                    opposed: {\n                        type: '',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                    alt_mod: 0,\n                    dice_pool_mod: [],\n                },\n                type: '',\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonQualityi18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonQualityi18n);\n        this.itemTranslations = ImportHelper.ExtractItemTranslation(jsonQualityi18n, 'qualities', 'quality');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const jsonNameTranslations = {};\n        const folders = await ImportHelper.MakeCategoryFolders(jsonObject, 'Qualities', this.categoryTranslations);\n        console.log(folders);\n\n        const parser = new QualityParserBase();\n\n        let datas: Quality[] = [];\n        let jsonDatas = jsonObject['qualities']['quality'];\n        for (let i = 0; i < jsonDatas.length; i++) {\n            let jsonData = jsonDatas[i];\n\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            let data = parser.Parse(jsonData, this.GetDefaultData(), this.itemTranslations);\n\n            let category = ImportHelper.StringValue(jsonData, 'category');\n            data.folder = folders[category.toLowerCase()].id;\n            data.name = ImportHelper.MapNameToTranslation(this.itemTranslations, data.name);\n\n            datas.push(data);\n        }\n\n        return await Item.create(datas);\n    }\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport Spell = Shadowrun.Spell;\nimport { SpellParserBase } from '../parser/spell/SpellParserBase';\nimport { CombatSpellParser } from '../parser/spell/CombatSpellParser';\nimport { ManipulationSpellParser } from '../parser/spell/ManipulationSpellParser';\nimport { IllusionSpellParser } from '../parser/spell/IllusionSpellParser';\nimport { DetectionSpellImporter } from '../parser/spell/DetectionSpellImporter';\nimport { ParserMap } from '../parser/ParserMap';\nimport {DefaultValues} from \"../../dataTemplates\";\n\nexport class SpellImporter extends DataImporter {\n    public categoryTranslations: any;\n    public itemTranslations: any;\n    public files = ['spells.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('spells') && jsonObject['spells'].hasOwnProperty('spell');\n    }\n\n    GetDefaultData(): Spell {\n        return {\n            name: 'Unnamed Item',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'spell',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                action: {\n                    type: 'varies',\n                    category: '',\n                    attribute: 'magic',\n                    attribute2: '',\n                    skill: 'spellcasting',\n                    spec: false,\n                    mod: 0,\n                    mod_description: '',\n                    damage: DefaultValues.damageData({type: {base: '', value: ''}}),\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                        mod: [],\n                        base: 0,\n                    },\n                    extended: false,\n                    opposed: {\n                        type: '',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                    alt_mod: 0,\n                    dice_pool_mod: [],\n                },\n                drain: 0,\n                category: '',\n                type: '',\n                range: '',\n                duration: '',\n                combat: {\n                    type: '',\n                },\n                detection: {\n                    passive: false,\n                    type: '',\n                    extended: false,\n                },\n                illusion: {\n                    type: '',\n                    sense: '',\n                },\n                manipulation: {\n                    damaging: false,\n                    mental: false,\n                    environmental: false,\n                    physical: false,\n                },\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonSpelli18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonSpelli18n);\n        this.itemTranslations = ImportHelper.ExtractItemTranslation(jsonSpelli18n, 'spells', 'spell');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const folders = await ImportHelper.MakeCategoryFolders(jsonObject, 'Spells', this.categoryTranslations);\n\n        const parser = new ParserMap<Spell>('category', [\n            { key: 'Combat', value: new CombatSpellParser() },\n            { key: 'Manipulation', value: new ManipulationSpellParser() },\n            { key: 'Illusion', value: new IllusionSpellParser() },\n            { key: 'Detection', value: new DetectionSpellImporter() },\n            { key: 'Health', value: new SpellParserBase() },\n            { key: 'Enchantments', value: new SpellParserBase() },\n            { key: 'Rituals', value: new SpellParserBase() },\n        ]);\n\n        let datas: Spell[] = [];\n        let jsonDatas = jsonObject['spells']['spell'];\n        for (let i = 0; i < jsonDatas.length; i++) {\n            let jsonData = jsonDatas[i];\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            let data = parser.Parse(jsonData, this.GetDefaultData(), this.itemTranslations);\n            data.folder = folders[data.data.category].id;\n            datas.push(data);\n        }\n\n        return await Item.create(datas);\n    }\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport { CyberwareParser } from '../parser/ware/CyberwareParser';\nimport Ware = Shadowrun.Ware;\nimport Cyberware = Shadowrun.Cyberware;\nimport {DefaultValues} from \"../../dataTemplates\";\n\nexport class WareImporter extends DataImporter {\n    public categoryTranslations: any;\n    public itemTranslations: any;\n    public files = ['cyberware.xml', 'bioware.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('cyberwares') && jsonObject['cyberwares'].hasOwnProperty('cyberware') ||\n               jsonObject.hasOwnProperty('biowares') && jsonObject['biowares'].hasOwnProperty('bioware');\n    }\n\n    GetDefaultCyberwareData(): Cyberware {\n        //@ts-ignore // Bio/Cyberware conflicts on 'type'...\n        return {...this.GetDefaultData(), type: 'cyberware'};\n    }\n\n    GetDefaultBiowareData(): Cyberware {\n        //@ts-ignore // Bio/Cyberware conflicts on 'type'...\n        return {...this.GetDefaultData(), type: 'bioware'};\n    }\n\n    GetDefaultData(): Ware {\n        return {\n            name: 'Unnamed Form',\n            type: 'cyberware',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                technology: {\n                    rating: 1,\n                    availability: '',\n                    quantity: 1,\n                    cost: 0,\n                    equipped: true,\n                    conceal: {\n                        base: 0,\n                        value: 0,\n                        mod: [],\n                    },\n                    condition_monitor: {\n                        label: '',\n                        value: 0,\n                        max: 0,\n                    },\n                    wireless: true\n                },\n                armor: {\n                    value: 0,\n                    mod: false,\n                    acid: 0,\n                    cold: 0,\n                    fire: 0,\n                    electricity: 0,\n                    radiation: 0,\n                },\n                action: {\n                    type: '',\n                    category: '',\n                    attribute: '',\n                    attribute2: '',\n                    skill: '',\n                    spec: false,\n                    mod: 0,\n                    mod_description: '',\n                    damage: DefaultValues.damageData({type: {base: '', value: ''}}),\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                        mod: [],\n                        base: 0,\n                    },\n                    extended: false,\n                    opposed: {\n                        type: '',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                    alt_mod: 0,\n                    dice_pool_mod: [],\n                },\n                grade: 'standard',\n                essence: 0,\n                capacity: 0,\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n    ExtractTranslation(fileName) {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonItemi18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, fileName);\n         // TODO: Move ExtractTranslation phase before the parsing phase and initiate it with the filename to parse.\n            if (this.files.length !== 2) console.error('Lazily hacked code will fail for more or less than two files.');\n\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonItemi18n);\n\n        const {typeKey, listKey} = fileName === 'cyberware.xml' ?\n                {typeKey: 'cyberwares', listKey: 'cyberware'} :\n                {typeKey: 'biowares', listKey: 'bioware'};\n\n        this.itemTranslations = ImportHelper.ExtractItemTranslation(jsonItemi18n, typeKey, listKey);\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const cyberParser = new CyberwareParser();\n\n        let key = jsonObject.hasOwnProperty('cyberwares') ? 'Cyberware' : 'Bioware';\n        const folders = await ImportHelper.MakeCategoryFolders(jsonObject, key);\n\n        key = key.toLowerCase();\n        let datas: Ware[] = [];\n        let jsonDatas = jsonObject[key + 's'][key];\n        for (let i = 0; i < jsonDatas.length; i++) {\n            let jsonData = jsonDatas[i];\n\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            const defaultData = key === 'cyberware' ? this.GetDefaultCyberwareData() : this.GetDefaultBiowareData();\n            let data = cyberParser.Parse(jsonData, defaultData, this.itemTranslations);\n            const category = ImportHelper.StringValue(jsonData, 'category');\n\n            // TODO: Does this type mixture cause later issues? Will it carry over?\n            //@ts-ignore\n            data.folder = folders[category.toLowerCase()].id;\n\n            // // TODO: Follow ComplexFormParserBase approach.\n            // data.name = ImportHelper.MapNameToTranslation(this.itemTranslations, data.name);\n\n            datas.push(data);\n        }\n\n        return await Item.create(datas);\n    }\n}\n","import { DataImporter } from './DataImporter';\nimport { ImportHelper } from '../helper/ImportHelper';\nimport { Constants } from './Constants';\nimport { RangedParser } from '../parser/weapon/RangedParser';\nimport { MeleeParser } from '../parser/weapon/MeleeParser';\nimport { ThrownParser } from '../parser/weapon/ThrownParser';\nimport { ParserMap } from '../parser/ParserMap';\nimport Weapon = Shadowrun.Weapon;\nimport { WeaponParserBase } from '../parser/weapon/WeaponParserBase';\nimport {DefaultValues} from \"../../dataTemplates\";\n\nexport class WeaponImporter extends DataImporter {\n    public categoryTranslations: any;\n    public itemTranslations: any;\n    public files = ['weapons.xml'];\n\n    CanParse(jsonObject: object): boolean {\n        return jsonObject.hasOwnProperty('weapons') && jsonObject['weapons'].hasOwnProperty('weapon');\n    }\n\n    GetDefaultData(): Weapon {\n        return {\n            name: 'Unnamed Item',\n            _id: '',\n            folder: '',\n            img: 'icons/svg/mystery-man.svg',\n            flags: {},\n            type: 'weapon',\n            data: {\n                description: {\n                    value: '',\n                    chat: '',\n                    source: '',\n                },\n                action: {\n                    type: 'varies',\n                    category: '',\n                    attribute: 'agility',\n                    attribute2: '',\n                    skill: '',\n                    spec: false,\n                    mod: 0,\n                    mod_description: '',\n                    damage: DefaultValues.damageData(),\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                        mod: [],\n                        base: 0,\n                    },\n                    extended: false,\n                    opposed: {\n                        type: 'defense',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                    alt_mod: 0,\n                    dice_pool_mod: [],\n                },\n                technology: {\n                    rating: 1,\n                    availability: '',\n                    quantity: 1,\n                    cost: 0,\n                    equipped: true,\n                    conceal: {\n                        base: 0,\n                        value: 0,\n                        mod: [],\n                    },\n                    condition_monitor: {\n                        label: '',\n                        value: 0,\n                        max: 0,\n                    },\n                    wireless: true\n                },\n                ammo: {\n                    spare_clips: {\n                        value: 0,\n                        max: 0,\n                    },\n                    current: {\n                        value: 0,\n                        max: 0,\n                    },\n                },\n                range: {\n                    category: '',\n                    ranges: {\n                        short: 0,\n                        medium: 0,\n                        long: 0,\n                        extreme: 0,\n                    },\n                    rc: {\n                        value: 0,\n                        base: 0,\n                        mod: [],\n                    },\n                    modes: {\n                        single_shot: false,\n                        semi_auto: false,\n                        burst_fire: false,\n                        full_auto: false,\n                    },\n                },\n                melee: {\n                    reach: 0,\n                },\n                thrown: {\n                    ranges: {\n                        short: 0,\n                        medium: 0,\n                        long: 0,\n                        extreme: 0,\n                        attribute: '',\n                    },\n                    blast: {\n                        radius: 0,\n                        dropoff: 0,\n                    },\n                },\n                category: 'range',\n                subcategory: '',\n            },\n            permission: {\n                default: 2,\n            },\n        };\n    }\n\n    ExtractTranslation() {\n        if (!DataImporter.jsoni18n) {\n            return;\n        }\n\n        let jsonWeaponi18n = ImportHelper.ExtractDataFileTranslation(DataImporter.jsoni18n, this.files[0]);\n        this.categoryTranslations = ImportHelper.ExtractCategoriesTranslation(jsonWeaponi18n);\n        this.itemTranslations = ImportHelper.ExtractItemTranslation(jsonWeaponi18n, 'weapons', 'weapon');\n    }\n\n    async Parse(jsonObject: object): Promise<Entity> {\n        const folders = await ImportHelper.MakeCategoryFolders(jsonObject, 'Weapons', this.categoryTranslations);\n\n        folders['gear'] = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/Weapons/Gear`, true);\n        folders['quality'] = await ImportHelper.GetFolderAtPath(`${Constants.ROOT_IMPORT_FOLDER_NAME}/Weapons/Quality`, true);\n\n        const parser = new ParserMap<Weapon>(WeaponParserBase.GetWeaponType, [\n            { key: 'range', value: new RangedParser() },\n            { key: 'melee', value: new MeleeParser() },\n            { key: 'thrown', value: new ThrownParser() },\n        ]);\n\n        let datas: Weapon[] = [];\n        let jsonDatas = jsonObject['weapons']['weapon'];\n        for (let i = 0; i < jsonDatas.length; i++) {\n            let jsonData = jsonDatas[i];\n\n            if (DataImporter.unsupportedEntry(jsonData)) {\n                continue;\n            }\n\n            let data = parser.Parse(jsonData, this.GetDefaultData(), this.itemTranslations);\n            data.folder = folders[data.data.subcategory].id;\n\n            datas.push(data);\n        }\n\n        return await Item.create(datas);\n    }\n}\n","export abstract class Parser<TResult> {\n    public abstract Parse(jsonData: object, data: TResult, jsonTranslation?: object): TResult;\n}\n","import { Parser } from './Parser';\nimport { ImportHelper } from '../helper/ImportHelper';\n\nexport class ParserMap<TResult> extends Parser<TResult> {\n    private readonly m_BranchKey: string | BranchFunc<TResult>;\n    private readonly m_Map: Map<string, Parser<TResult>>;\n\n    public constructor(branchKey: string | BranchFunc<TResult>, elements: CArg<TResult>[]) {\n        super();\n\n        this.m_BranchKey = branchKey;\n\n        this.m_Map = new Map();\n        for (const { key, value } of elements) {\n            this.m_Map.set(key, value);\n        }\n    }\n\n    public Parse(jsonData: object, data: TResult, jsonTranslation?: object): TResult {\n        let key;\n        if (typeof this.m_BranchKey === 'function') {\n            key = this.m_BranchKey(jsonData);\n        } else {\n            key = this.m_BranchKey;\n            key = ImportHelper.StringValue(jsonData, key);\n        }\n\n        const parser = this.m_Map.get(key);\n        if (parser === undefined) {\n            console.warn(`Could not find mapped parser for category ${key}.`);\n            return data;\n        }\n        return parser.Parse(jsonData, data, jsonTranslation);\n    }\n}\n\ntype CArg<TResult> = {\n    key: string;\n    value: Parser<TResult>;\n};\ntype BranchFunc<TResult> = (TResult) => string;\n","import Armor = Shadowrun.Armor;\nimport { ImportHelper } from '../../helper/ImportHelper';\nimport { TechnologyItemParserBase } from '../item/TechnologyItemParserBase';\n\nexport class ArmorParserBase extends TechnologyItemParserBase<Armor> {\n    Parse(jsonData: object, data: Shadowrun.Armor): Shadowrun.Armor {\n        data = super.Parse(jsonData, data);\n\n        data.data.armor.value = ImportHelper.IntValue(jsonData, 'armor', 0);\n        data.data.armor.mod = ImportHelper.StringValue(jsonData, 'armor').includes('+');\n\n        return data;\n    }\n}\n","import ComplexForm = Shadowrun.ComplexForm;\nimport { ImportHelper } from '../../helper/ImportHelper';\nimport { ItemParserBase } from '../item/ItemParserBase';\nimport ComplexFormTarget = Shadowrun.ComplexFormTarget;\n\nexport class ComplexFormParserBase extends ItemParserBase<ComplexForm> {\n    Parse(jsonData: object, data: Shadowrun.ComplexForm, jsonTranslation?: object): Shadowrun.ComplexForm {\n        data.name = ImportHelper.StringValue(jsonData, 'name');\n\n        data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.StringValue(jsonData, 'page')}`;\n\n        let fade = ImportHelper.StringValue(jsonData, 'fv');\n        if (fade.includes('+') || fade.includes('-')) {\n            data.data.fade = parseInt(fade.substring(1, fade.length));\n        }\n\n        let duration = ImportHelper.StringValue(jsonData, 'duration');\n        if (duration === 'I') {\n            data.data.duration = 'instant';\n        } else if (duration === 'S') {\n            data.data.duration = 'sustained';\n        } else if (duration === 'P') {\n            data.data.duration = 'permanent';\n        }\n\n        let target = ImportHelper.StringValue(jsonData, 'target');\n        switch (target) {\n            case 'Device':\n            case 'File':\n            case 'Host':\n            case 'Persona':\n            case 'Self':\n            case 'Sprite':\n                data.data.target = target.toLowerCase() as ComplexFormTarget;\n                break;\n            default:\n                data.data.target = 'other';\n                break;\n        }\n\n        if (jsonTranslation) {\n            const origName = ImportHelper.StringValue(jsonData, 'name');\n            data.name = ImportHelper.MapNameToTranslation(jsonTranslation, origName);\n            data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.MapNameToPageSource(jsonTranslation, origName)}`;\n        }\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport CritterPower = Shadowrun.CritterPower;\nimport CritterPowerCategory = Shadowrun.CritterPowerCategory;\nimport { ItemParserBase } from '../item/ItemParserBase';\n\nexport class CritterPowerParserBase extends ItemParserBase<CritterPower> {\n    public Parse(jsonData: object, data: CritterPower, jsonTranslation?: object): CritterPower {\n\n        console.log(jsonData);\n\n        data.name = ImportHelper.StringValue(jsonData, 'name');\n\n        data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.StringValue(jsonData, 'page')}`;\n        data.data.category = ImportHelper.StringValue(jsonData, 'category').toLowerCase() as CritterPowerCategory;\n\n        let duration = ImportHelper.StringValue(jsonData, 'duration');\n        if (duration === 'Always') {\n            data.data.duration = 'always';\n        } else if (duration === 'Instant') {\n            data.data.duration = 'instant';\n        } else if (duration === 'Sustained') {\n            data.data.duration = 'sustained';\n        } else if (duration === 'Permanent') {\n            data.data.duration = 'permanent';\n        } else {\n              data.data.duration = 'special';\n        }\n\n        let range = ImportHelper.StringValue(jsonData, 'range');\n        if (range === 'T') {\n            data.data.range = 'touch';\n        } else if (range === 'LOS') {\n            data.data.range = 'los';\n        } else if (range === 'LOS (A)') {\n            data.data.range = 'los_a';\n        } else if (range === 'Self') {\n           data.data.range = 'self';\n        } else {\n          data.data.range = 'special';\n        }\n\n        let type = ImportHelper.StringValue(jsonData, 'type');\n        if (type === 'P') {\n            data.data.powerType = 'physical';\n        } else if (type === 'M') {\n            data.data.powerType = 'mana';\n        }\n\n        if (jsonTranslation) {\n            const origName = ImportHelper.StringValue(jsonData, 'name');\n            data.name = ImportHelper.MapNameToTranslation(jsonTranslation, origName);\n            data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.MapNameToPageSource(jsonTranslation, origName)}`;\n        }\n\n        return data;\n    }\n}\n","import { Parser } from '../Parser';\nimport { ImportHelper } from '../../helper/ImportHelper';\nimport SR5ItemType = Shadowrun.SR5ItemType;\n\nexport abstract class ItemParserBase<TResult extends SR5ItemType> extends Parser<TResult> {\n    Parse(jsonData: object, data: TResult, jsonTranslation?: object): TResult {\n        data.name = ImportHelper.StringValue(jsonData, 'name');\n\n        data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.StringValue(jsonData, 'page')}`;\n\n        if (jsonTranslation) {\n            const origName = ImportHelper.StringValue(jsonData, 'name');\n            data.name = ImportHelper.MapNameToTranslation(jsonTranslation, origName);\n            data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.MapNameToPageSource(jsonTranslation, origName)}`;\n        }\n\n        return data;\n    }\n}\n","import SR5ItemType = Shadowrun.SR5ItemType;\nimport { ItemParserBase } from './ItemParserBase';\nimport { ImportHelper } from '../../helper/ImportHelper';\nimport Technology = Shadowrun.Technology;\n\nexport abstract class TechnologyItemParserBase<TResult extends Technology & SR5ItemType> extends ItemParserBase<TResult> {\n    Parse(jsonData: object, data: TResult, jsonTranslation?: object): TResult {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        data.data.technology.availability = ImportHelper.StringValue(jsonData, 'avail', '0');\n        data.data.technology.cost = ImportHelper.IntValue(jsonData, 'cost', 0);\n        data.data.technology.rating = ImportHelper.IntValue(jsonData, 'rating', 0);\n\n        return data;\n    }\n}\n","import Mod = Shadowrun.Modification;\nimport { ImportHelper } from '../../helper/ImportHelper';\nimport MountType = Shadowrun.MountType;\nimport { TechnologyItemParserBase } from '../item/TechnologyItemParserBase';\n\nexport class ModParserBase extends TechnologyItemParserBase<Mod> {\n    Parse(jsonData: object, data: Mod): Mod {\n        data = super.Parse(jsonData, data);\n\n        data.data.type = 'weapon';\n\n        data.data.mount_point = ImportHelper.StringValue(jsonData, 'mount') as MountType;\n\n        data.data.rc = ImportHelper.IntValue(jsonData, 'rc', 0);\n        data.data.accuracy = ImportHelper.IntValue(jsonData, 'accuracy', 0);\n\n        data.data.technology.conceal.base = ImportHelper.IntValue(jsonData, 'conceal', 0);\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport Quality = Shadowrun.Quality;\nimport { ItemParserBase } from '../item/ItemParserBase';\n\nexport class QualityParserBase extends ItemParserBase<Quality> {\n    public Parse(jsonData: object, data: Quality, jsonTranslation?): Quality {\n        data.name = ImportHelper.StringValue(jsonData, 'name');\n\n        data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.StringValue(jsonData, 'page')}`;\n\n        data.data.type = ImportHelper.StringValue(jsonData, 'category') === 'Positive' ? 'positive' : 'negative';\n\n        if (jsonTranslation) {\n            const origName = ImportHelper.StringValue(jsonData, 'name');\n            data.name = ImportHelper.MapNameToTranslation(jsonTranslation, origName);\n            data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.MapNameToPageSource(jsonTranslation, origName)}`;\n        }\n\n        return data;\n    }\n}\n","import { SpellParserBase } from './SpellParserBase';\nimport { ImportHelper } from '../../helper/ImportHelper';\n\nexport class CombatSpellParser extends SpellParserBase {\n    Parse(jsonData: object, data: Shadowrun.Spell, jsonTranslation?: object): Shadowrun.Spell {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        let descriptor = ImportHelper.StringValue(jsonData, 'descriptor');\n        // A few spells have a missing descriptor instead of an empty string.\n        // The field is <descriptor /> rather than <descriptor></descriptor>\n        // which gets imported as undefined rather than empty string (sigh)\n        // Rather than refactor our ImportHelper we'll handle it in here.\n        if (descriptor === undefined) {\n            descriptor = '';\n        }\n\n        data.data.combat.type = descriptor.includes('Indirect') ? 'indirect' : 'direct';\n        if (data.data.combat.type === 'direct') {\n            data.data.action.opposed.type = 'defense';\n            switch (data.data.type) {\n                case 'physical':\n                    data.data.action.opposed.attribute = 'body';\n                    break;\n                case 'mana':\n                    data.data.action.opposed.attribute = 'willpower';\n                    break;\n                default:\n                    break;\n            }\n        } else if (data.data.combat.type === 'indirect') {\n            data.data.action.opposed.type = 'defense';\n        }\n\n        return data;\n    }\n}\n","import { SpellParserBase } from './SpellParserBase';\nimport { ImportHelper } from '../../helper/ImportHelper';\n\nexport class DetectionSpellImporter extends SpellParserBase {\n    Parse(jsonData: object, data: Shadowrun.Spell, jsonTranslation?: object): Shadowrun.Spell {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        let descriptor = ImportHelper.StringValue(jsonData, 'descriptor');\n        // A few spells have a missing descriptor instead of an empty string.\n        // The field is <descriptor /> rather than <descriptor></descriptor>\n        // which gets imported as undefined rather than empty string (sigh)\n        // Rather than refactor our ImportHelper we'll handle it in here.\n        if (descriptor === undefined) {\n            descriptor = '';\n        }\n\n        data.data.detection.passive = descriptor.includes('Passive');\n        if (!data.data.detection.passive) {\n            data.data.action.opposed.type = 'custom';\n            data.data.action.opposed.attribute = 'willpower';\n            data.data.action.opposed.attribute2 = 'logic';\n        }\n\n        data.data.detection.extended = descriptor.includes('Extended');\n\n        if (descriptor.includes('Psychic')) {\n            data.data.detection.type = 'psychic';\n        } else if (descriptor.includes('Directional')) {\n            data.data.detection.type = 'directional';\n        } else if (descriptor.includes('Area')) {\n            data.data.detection.type = 'area';\n        }\n\n        return data;\n    }\n}\n","import { SpellParserBase } from './SpellParserBase';\nimport { ImportHelper } from '../../helper/ImportHelper';\n\nexport class IllusionSpellParser extends SpellParserBase {\n    Parse(jsonData: object, data: Shadowrun.Spell, jsonTranslation?: object): Shadowrun.Spell {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        let descriptor = ImportHelper.StringValue(jsonData, 'descriptor');\n        // A few spells have a missing descriptor instead of an empty string.\n        // The field is <descriptor /> rather than <descriptor></descriptor>\n        // which gets imported as undefined rather than empty string (sigh)\n        // Rather than refactor our ImportHelper we'll handle it in here.\n        if (descriptor === undefined) {\n            descriptor = '';\n        }\n\n        if (data.data.type === 'mana') {\n            data.data.action.opposed.type = 'custom';\n            data.data.action.opposed.attribute = 'logic';\n            data.data.action.opposed.attribute2 = 'willpower';\n        } else if (data.data.type === 'physical') {\n            data.data.action.opposed.type = 'custom';\n            data.data.action.opposed.attribute = 'intuition';\n            data.data.action.opposed.attribute2 = 'logic';\n        }\n\n        return data;\n    }\n}\n","import { SpellParserBase } from './SpellParserBase';\nimport { ImportHelper } from '../../helper/ImportHelper';\nimport Spell = Shadowrun.Spell;\n\nexport class ManipulationSpellParser extends SpellParserBase {\n    Parse(jsonData: object, data: Spell, jsonTranslation?: object): Spell {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        let descriptor = ImportHelper.StringValue(jsonData, 'descriptor');\n        // A few spells have a missing descriptor instead of an empty string.\n        // The field is <descriptor /> rather than <descriptor></descriptor>\n        // which gets imported as undefined rather than empty string (sigh)\n        // Rather than refactor our ImportHelper we'll handle it in here.\n        if (descriptor === undefined) {\n            descriptor = '';\n        }\n\n        data.data.manipulation.environmental = descriptor.includes('Environmental');\n        // Generally no resistance roll.\n\n        data.data.manipulation.mental = descriptor.includes('Mental');\n        if (data.data.manipulation.mental) {\n            data.data.action.opposed.type = 'custom';\n            data.data.action.opposed.attribute = 'logic';\n            data.data.action.opposed.attribute2 = 'willpower';\n        }\n\n        data.data.manipulation.physical = descriptor.includes('Physical');\n        if (data.data.manipulation.physical) {\n            data.data.action.opposed.type = 'custom';\n            data.data.action.opposed.attribute = 'body';\n            data.data.action.opposed.attribute2 = 'strength';\n        }\n        data.data.manipulation.damaging = descriptor.includes('Damaging');\n        if (data.data.manipulation.damaging) {\n            data.data.action.opposed.type = 'soak';\n        }\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport Spell = Shadowrun.Spell;\nimport SpellCateogry = Shadowrun.SpellCateogry;\nimport { ItemParserBase } from '../item/ItemParserBase';\n\nexport class SpellParserBase extends ItemParserBase<Spell> {\n    public Parse(jsonData: object, data: Spell, jsonTranslation?: object): Spell {\n        data.name = ImportHelper.StringValue(jsonData, 'name');\n\n        data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.StringValue(jsonData, 'page')}`;\n        data.data.category = ImportHelper.StringValue(jsonData, 'category').toLowerCase() as SpellCateogry;\n\n        let damage = ImportHelper.StringValue(jsonData, 'damage');\n        if (damage === 'P') {\n            data.data.action.damage.type.base = 'physical';\n            data.data.action.damage.type.value = 'physical';\n        } else if (damage === 'S') {\n            data.data.action.damage.type.base = 'stun';\n            data.data.action.damage.type.value = 'stun';\n        }\n\n        let duration = ImportHelper.StringValue(jsonData, 'duration');\n        if (duration === 'I') {\n            data.data.duration = 'instant';\n        } else if (duration === 'S') {\n            data.data.duration = 'sustained';\n        } else if (duration === 'P') {\n            data.data.duration = 'permanent';\n        }\n\n        let drain = ImportHelper.StringValue(jsonData, 'dv');\n        if (drain.includes('+') || drain.includes('-')) {\n            data.data.drain = parseInt(drain.substring(1, drain.length));\n        }\n\n        let range = ImportHelper.StringValue(jsonData, 'range');\n        if (range === 'T') {\n            data.data.range = 'touch';\n        } else if (range === 'LOS') {\n            data.data.range = 'los';\n        } else if (range === 'LOS (A)') {\n            data.data.range = 'los_a';\n        }\n\n        let type = ImportHelper.StringValue(jsonData, 'type');\n        if (type === 'P') {\n            data.data.type = 'physical';\n        } else if (type === 'M') {\n            data.data.type = 'mana';\n        }\n\n        if (jsonTranslation) {\n            const origName = ImportHelper.StringValue(jsonData, 'name');\n            data.name = ImportHelper.MapNameToTranslation(jsonTranslation, origName);\n            data.data.description.source = `${ImportHelper.StringValue(jsonData, 'source')} ${ImportHelper.MapNameToPageSource(jsonTranslation, origName)}`;\n        }\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport { TechnologyItemParserBase } from '../item/TechnologyItemParserBase';\nimport Cyberware = Shadowrun.Cyberware;\nimport Ware = Shadowrun.Ware;\n\nexport class CyberwareParser extends TechnologyItemParserBase<Ware> {\n    Parse(jsonData: object, data: Ware, jsonTranslation?: object): Ware {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        const essence = ImportHelper.StringValue(jsonData, 'ess', '0').match(/[0-9]\\.?[0-9]*/g);\n        if (essence !== null) {\n            data.data.essence = parseFloat(essence[0]);\n        }\n\n        const capacity = ImportHelper.StringValue(jsonData, 'capacity', '0').match(/[0-9]+/g);\n        if (capacity !== null) {\n            data.data.capacity = parseInt(capacity[0]);\n        }\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport { WeaponParserBase } from './WeaponParserBase';\nimport ActorAttribute = Shadowrun.ActorAttribute;\nimport DamageData = Shadowrun.DamageData;\nimport DamageType = Shadowrun.DamageType;\nimport Weapon = Shadowrun.Weapon;\nimport {DefaultValues} from \"../../../dataTemplates\";\n\nexport class MeleeParser extends WeaponParserBase {\n    GetDamage(jsonData: object): DamageData {\n        let jsonDamage = ImportHelper.StringValue(jsonData, 'damage');\n        let damageCode: any = jsonDamage.match(/(STR)([+-]?)([1-9]*)\\)([PS])/g)?.[0];\n\n        if (damageCode == null) {\n            return DefaultValues.damageData();\n        }\n\n        let damageBase = 0;\n        let damageAp = ImportHelper.IntValue(jsonData, 'ap', 0);\n\n        let splitDamageCode = damageCode.split(')');\n        let damageType = splitDamageCode[1].includes('P') ? 'physical' : 'stun';\n\n        let splitBaseCode = damageCode.includes('+') ? splitDamageCode[0].split('+') : splitDamageCode[0].split('-');\n        if (splitDamageCode[0].includes('+') || splitDamageCode[0].includes('-')) {\n            damageBase = parseInt(splitBaseCode[1], 0);\n        }\n        let damageAttribute = damageCode.includes('STR') ? 'strength' : '';\n\n        const partialDamageData = {\n            type: {\n                base: damageType as DamageType,\n                value: damageType as DamageType,\n            },\n            base: damageBase,\n            value: damageBase,\n            ap: {\n                base: damageAp,\n                value: damageAp,\n                mod: [],\n            },\n            attribute: damageAttribute as ActorAttribute,\n        }\n        return DefaultValues.damageData(partialDamageData);\n    }\n\n    Parse(jsonData: object, data: Weapon, jsonTranslation?: object): Weapon {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        data.data.melee.reach = ImportHelper.IntValue(jsonData, 'reach');\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport { WeaponParserBase } from './WeaponParserBase';\nimport { Constants } from '../../importer/Constants';\nimport DamageData = Shadowrun.DamageData;\nimport DamageType = Shadowrun.DamageType;\nimport Weapon = Shadowrun.Weapon;\nimport {DefaultValues} from \"../../../dataTemplates\";\n\nexport class RangedParser extends WeaponParserBase {\n    public GetDamage(jsonData: object): DamageData {\n        let jsonDamage = ImportHelper.StringValue(jsonData, 'damage');\n        let damageCode = jsonDamage.match(/[0-9]+[PS]/g)?.[0];\n\n        if (damageCode == null) {\n            return DefaultValues.damageData();\n        }\n\n        let damageType = damageCode.includes('P') ? 'physical' : 'stun';\n        let damageAmount = parseInt(damageCode.replace(damageType[0].toUpperCase(), ''));\n        let damageAp = ImportHelper.IntValue(jsonData, 'ap', 0);\n\n        const partialDamageData = {\n            type: {\n                base: damageType as DamageType,\n                value: damageType as DamageType,\n            },\n            base: damageAmount,\n            value: damageAmount,\n            ap: {\n                base: damageAp,\n                value: damageAp,\n                mod: []\n            }\n        }\n        return DefaultValues.damageData(partialDamageData);\n    }\n\n    protected GetAmmo(weaponJson: object) {\n        let jsonAmmo = ImportHelper.StringValue(weaponJson, 'ammo');\n        let match = jsonAmmo.match(/([0-9]+)/g)?.[0];\n        return match !== undefined ? parseInt(match) : 0;\n    }\n\n    Parse(jsonData: object, data: Weapon, jsonTranslation?: object): Weapon {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        data.data.range.rc.base = ImportHelper.IntValue(jsonData, 'rc');\n        data.data.range.rc.value = ImportHelper.IntValue(jsonData, 'rc');\n\n        if (jsonData.hasOwnProperty('range')) {\n            data.data.range.ranges = Constants.WEAPON_RANGES[ImportHelper.StringValue(jsonData, 'range')];\n        } else {\n            data.data.range.ranges = Constants.WEAPON_RANGES[ImportHelper.StringValue(jsonData, 'category')];\n        }\n\n        data.data.ammo.current.value = this.GetAmmo(jsonData);\n        data.data.ammo.current.max = this.GetAmmo(jsonData);\n\n        data.data.range.modes.single_shot = ImportHelper.StringValue(jsonData, 'mode').includes('SS');\n        data.data.range.modes.semi_auto = ImportHelper.StringValue(jsonData, 'mode').includes('SA');\n        data.data.range.modes.burst_fire = ImportHelper.StringValue(jsonData, 'mode').includes('BF');\n        data.data.range.modes.full_auto = ImportHelper.StringValue(jsonData, 'mode').includes('FA');\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport { WeaponParserBase } from './WeaponParserBase';\nimport { Constants } from '../../importer/Constants';\nimport BlastData = Shadowrun.BlastData;\nimport ActorAttribute = Shadowrun.ActorAttribute;\nimport DamageData = Shadowrun.DamageData;\nimport DamageType = Shadowrun.DamageType;\nimport Weapon = Shadowrun.Weapon;\nimport {DefaultValues} from \"../../../dataTemplates\";\n\nexport class ThrownParser extends WeaponParserBase {\n    public GetDamage(jsonData: object): DamageData {\n        let jsonDamage = ImportHelper.StringValue(jsonData, 'damage');\n\n        let damageAmount = 0;\n        let damageType = 'physical';\n        let damageAttribute = '';\n\n        //STR scaling weapons like the boomerang\n        if (jsonDamage.includes('STR')) {\n            damageAttribute = 'strength';\n\n            let damageMatch = jsonDamage.match(/((STR)([+-])[0-9]\\)[PS])/g)?.[0];\n            if (damageMatch !== undefined) {\n                let amountMatch = damageMatch.match(/-?[0-9]+/g)?.[0];\n                damageAmount = amountMatch !== undefined ? parseInt(amountMatch) : 0;\n            }\n        } else {\n            let damageMatch = jsonDamage.match(/([0-9]+[PS])/g)?.[0];\n\n            if (damageMatch !== undefined) {\n                let amountMatch = damageMatch.match(/[0-9]+/g)?.[0];\n                if (amountMatch !== undefined) {\n                    damageAmount = parseInt(amountMatch);\n                }\n            } else {\n                const partialDamageData = {\n                    type: {\n                        base: 'physical' as DamageType,\n                        value: 'physical' as DamageType\n                    }\n                }\n                return DefaultValues.damageData(partialDamageData);\n            }\n        }\n        damageType = jsonDamage.includes('P') ? 'physical' : 'stun';\n\n        let damageAp = ImportHelper.IntValue(jsonData, 'ap', 0);\n\n        const partialDamageData = {\n            type: {\n                base: damageType as DamageType,\n                value: damageType as DamageType,\n            },\n            base: damageAmount,\n            value: damageAmount,\n            ap: {\n                base: damageAp,\n                value: damageAp,\n                mod: [],\n            },\n            attribute: damageAttribute as ActorAttribute,\n        }\n        return DefaultValues.damageData(partialDamageData);\n    }\n\n    public GetBlast(jsonData: object, data: Weapon): BlastData {\n        let blastData: BlastData = {\n            radius: 0,\n            dropoff: 0,\n        };\n\n        let blastCode = ImportHelper.StringValue(jsonData, 'damage');\n\n        let radiusMatch = blastCode.match(/([0-9]+m)/)?.[0];\n        if (radiusMatch !== undefined) {\n            radiusMatch = radiusMatch.match(/[0-9]+/)?.[0];\n            if (radiusMatch !== undefined) {\n                blastData.radius = parseInt(radiusMatch);\n            }\n        }\n\n        let dropoffMatch = blastCode.match(/(-[0-9]+\\/m)/)?.[0];\n        if (dropoffMatch !== undefined) {\n            dropoffMatch = dropoffMatch.match(/-[0-9]+/)?.[0];\n            if (dropoffMatch !== undefined) {\n                blastData.dropoff = parseInt(dropoffMatch);\n            }\n        }\n\n        if (blastData.dropoff && !blastData.radius) {\n            blastData.radius = -(data.data.action.damage.base / blastData.dropoff);\n        }\n\n        return blastData;\n    }\n\n    Parse(jsonData: object, data: Weapon, jsonTranslation?: object): Weapon {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        if (jsonData.hasOwnProperty('range')) {\n            data.data.thrown.ranges = Constants.WEAPON_RANGES[ImportHelper.StringValue(jsonData, 'range')];\n        } else {\n            data.data.thrown.ranges = Constants.WEAPON_RANGES[ImportHelper.StringValue(jsonData, 'category')];\n        }\n\n        data.data.thrown.blast = this.GetBlast(jsonData, data);\n\n        return data;\n    }\n}\n","import { ImportHelper } from '../../helper/ImportHelper';\nimport { Constants } from '../../importer/Constants';\nimport DamageData = Shadowrun.DamageData;\nimport Weapon = Shadowrun.Weapon;\nimport WeaponCategory = Shadowrun.WeaponCategory;\nimport SkillName = Shadowrun.SkillName;\nimport { TechnologyItemParserBase } from '../item/TechnologyItemParserBase';\n\nexport abstract class WeaponParserBase extends TechnologyItemParserBase<Weapon> {\n    public abstract GetDamage(jsonData: object): DamageData;\n\n    protected GetSkill(weaponJson: object): SkillName {\n        if (weaponJson.hasOwnProperty('useskill')) {\n            let jsonSkill = ImportHelper.StringValue(weaponJson, 'useskill');\n            if (Constants.MAP_CATEGORY_TO_SKILL.hasOwnProperty(jsonSkill)) {\n                return Constants.MAP_CATEGORY_TO_SKILL[jsonSkill];\n            }\n            return jsonSkill.replace(/[\\s\\-]/g, '_').toLowerCase();\n        } else {\n            let category = ImportHelper.StringValue(weaponJson, 'category');\n            if (Constants.MAP_CATEGORY_TO_SKILL.hasOwnProperty(category)) {\n                return Constants.MAP_CATEGORY_TO_SKILL[category];\n            }\n\n            let type = ImportHelper.StringValue(weaponJson, 'type').toLowerCase();\n            return type === 'ranged' ? 'exotic_range' : 'exotic_melee';\n        }\n    }\n\n    public static GetWeaponType(weaponJson: object): WeaponCategory {\n        let type = ImportHelper.StringValue(weaponJson, 'type');\n        //melee is the least specific, all melee entries are accurate\n        if (type === 'Melee') {\n            return 'melee';\n        } else {\n            // skill takes priorities over category\n            if (weaponJson.hasOwnProperty('useskill')) {\n                let skill = ImportHelper.StringValue(weaponJson, 'useskill');\n                if (skill === 'Throwing Weapons') return 'thrown';\n            }\n\n            // category is the fallback\n            let category = ImportHelper.StringValue(weaponJson, 'category');\n            if (category === 'Throwing Weapons') return 'thrown';\n            // ranged is everything else\n            return 'range';\n        }\n    }\n\n    public Parse(jsonData: object, data: Weapon, jsonTranslation?: object): Weapon {\n        data = super.Parse(jsonData, data, jsonTranslation);\n\n        let category = ImportHelper.StringValue(jsonData, 'category');\n        // A single item does not meet normal rules, thanks Chummer!\n        // TODO: Check these rules after localization using a generic, non-english approach.\n        if (category === 'Hold-outs') {\n            category = 'Holdouts';\n        }\n\n        data.data.category = WeaponParserBase.GetWeaponType(jsonData);\n        data.data.subcategory = category.toLowerCase();\n\n        data.data.action.skill = this.GetSkill(jsonData);\n        data.data.action.damage = this.GetDamage(jsonData);\n\n        data.data.action.limit.value = ImportHelper.IntValue(jsonData, 'accuracy');\n        data.data.action.limit.base = ImportHelper.IntValue(jsonData, 'accuracy');\n\n        data.data.technology.conceal.base = ImportHelper.IntValue(jsonData, 'conceal');\n\n        return data;\n    }\n}\n","import { Helpers } from '../helpers';\nimport DeviceData = Shadowrun.DeviceData;\nimport { SR5Item } from './SR5Item';\nimport AmmoData = Shadowrun.AmmoData;\n\nexport const ChatData = {\n    action: (data, labels, props) => {\n        if (data.action) {\n            const labelStringList: string[] = [];\n            if (data.action.skill) {\n                labelStringList.push(Helpers.label(data.action.skill));\n                labelStringList.push(Helpers.label(data.action.attribute));\n            } else if (data.action.attribute2) {\n                labelStringList.push(Helpers.label(data.action.attribute));\n                labelStringList.push(Helpers.label(data.action.attribute2));\n            } else if (data.action.attribute) {\n                labelStringList.push(Helpers.label(data.action.attribute));\n            }\n            if (data.action.mod) {\n                labelStringList.push(`${game.i18n.localize('SR5.ItemMod')} (${data.action.mod})`);\n                // TODO when all mods are modlists\n                // Object.entries(data.action.mod).forEach(([key, value]) =>\n                //     labelStringList.push(`${game.i18n.localize(key)} (${value})`)\n                // );\n            }\n            if (labelStringList.length) {\n                labels.roll = labelStringList.join(' + ');\n            }\n\n            if (data.action.opposed.type) {\n                const { opposed } = data.action;\n                if (opposed.type !== 'custom') labels.opposedRoll = `vs. ${Helpers.label(opposed.type)}`;\n                else if (opposed.skill) labels.opposedRoll = `vs. ${Helpers.label(opposed.skill)}+${Helpers.label(opposed.attribute)}`;\n                else if (opposed.attribute2) labels.opposedRoll = `vs. ${Helpers.label(opposed.attribute)}+${Helpers.label(opposed.attribute2)}`;\n                else if (opposed.attribute) labels.opposedRoll = `vs. ${Helpers.label(opposed.attribute)}`;\n            }\n\n            // setup action props\n            // go in order of \"Limit/Accuracy\" \"Damage\" \"AP\"\n            // don't add action type if set to 'varies' or 'none' as that's pretty much useless info\n            if (data.action.type !== '' && data.action.type !== 'varies' && data.action.type !== 'none') {\n                props.push(`${Helpers.label(data.action.type)} Action`);\n            }\n            if (data.action.limit) {\n                const { limit } = data.action;\n                const attribute = limit.attribute ? `${game.i18n.localize(CONFIG.SR5.limits[limit.attribute])}` : '';\n                const limitVal = limit.value ? limit.value : '';\n                let limitStr = '';\n                if (attribute) {\n                    limitStr += attribute;\n                }\n                if (limitVal) {\n                    if (attribute) {\n                        limitStr += ' + ';\n                    }\n                    limitStr += limitVal;\n                }\n\n                if (limitStr) {\n                    props.push(`Limit ${limitStr}`);\n                }\n            }\n            if (data.action.damage.type.value) {\n                const { damage } = data.action;\n                let damageString = '';\n                let elementString = '';\n                const attribute = damage.attribute ? `${game.i18n.localize(CONFIG.SR5.attributes[damage.attribute])} + ` : '';\n                if (damage.value || attribute) {\n                    const type = damage.type.value ? damage.type.value.toUpperCase().charAt(0) : '';\n                    damageString = `DV ${attribute}${damage.value}${type}`;\n                }\n                if (damage.element.value) {\n                    // if we have a damage value and are electric, follow the convention of (e) after\n                    if (damage.value) {\n                        if (damage.element.value === 'electricity') {\n                            damageString += ' (e)';\n                        } else {\n                            elementString = Helpers.label(damage.element.value);\n                        }\n                    } else {\n                        elementString = Helpers.label(damage.element.value);\n                    }\n                }\n                if (damageString) props.push(damageString);\n                if (elementString) props.push(elementString);\n                if (damage.ap && damage.ap.value) props.push(`AP ${damage.ap.value}`);\n            }\n        }\n    },\n    sin: (data, labels, props) => {\n        props.push(`Rating ${data.technology.rating}`);\n        data.licenses.forEach((license) => {\n            props.push(`${license.name} R${license.rtg}`);\n        });\n    },\n\n    contact: (data, labels, props) => {\n        props.push(data.type);\n        props.push(`${game.i18n.localize('SR5.Connection')} ${data.connection}`);\n        props.push(`${game.i18n.localize('SR5.Loyalty')} ${data.loyalty}`);\n        if (data.blackmail) {\n            props.push(`${game.i18n.localize('SR5.Blackmail')}`);\n        }\n        if (data.family) {\n            props.push(game.i18n.localize('SR5.Family'));\n        }\n    },\n\n    lifestyle: (data, labels, props) => {\n        props.push(Helpers.label(data.type));\n        if (data.cost) props.push(`${data.cost}`);\n        if (data.comforts) props.push(`Comforts ${data.comforts}`);\n        if (data.security) props.push(`Security ${data.security}`);\n        if (data.neighborhood) props.push(`Neighborhood ${data.neighborhood}`);\n        if (data.guests) props.push(`Guests ${data.guests}`);\n    },\n\n    adept_power: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        props.push(`PP ${data.pp}`);\n        props.push(Helpers.label(data.type));\n    },\n\n    armor: (data, labels, props) => {\n        if (data.armor) {\n            if (data.armor.value) props.push(`Armor ${data.armor.mod ? '+' : ''}${data.armor.value}`);\n            if (data.armor.acid) props.push(`Acid ${data.armor.acid}`);\n            if (data.armor.cold) props.push(`Cold ${data.armor.cold}`);\n            if (data.armor.fire) props.push(`Fire ${data.armor.fire}`);\n            if (data.armor.electricity) props.push(`Electricity ${data.armor.electricity}`);\n            if (data.armor.radiation) props.push(`Radiation ${data.armor.radiation}`);\n        }\n    },\n\n    ammo: (data, labels, props) => {\n        if (data.damageType) props.push(`${game.i18n.localize(\"SR5.DamageType\")} ${data.damageType}`);\n        if (data.damage) props.push(`${game.i18n.localize(\"SR5.DamageValue\")} ${data.damage}`);\n        if (data.element) props.push(`${game.i18n.localize(\"SR5.Element\")} ${data.element}`);\n        if (data.ap) props.push(`${game.i18n.localize(\"SR5.AP\")} ${data.ap}`);\n        if (data.blast.radius) props.push(`${game.i18n.localize('SR5.BlastRadius')} ${data.blast.radius}m`);\n        if (data.blast.dropoff) props.push(`${game.i18n.localize('SR5.Dropoff')} ${data.blast.dropoff}/m`);\n    },\n\n    program: (data, labels, props) => {\n        props.push(game.i18n.localize(CONFIG.SR5.programTypes[data.type]));\n    },\n\n    complex_form: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        props.push(Helpers.label(data.target), Helpers.label(data.duration));\n        const { fade } = data;\n        if (fade > 0) props.push(`Fade L+${fade}`);\n        else if (fade < 0) props.push(`Fade L${fade}`);\n        else props.push('Fade L');\n    },\n\n    cyberware: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        ChatData.armor(data, labels, props);\n        if (data.essence) props.push(`Ess ${data.essence}`);\n    },\n\n    bioware: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        ChatData.armor(data, labels, props);\n        if (data.essence) props.push(`Ess ${data.essence}`);\n    },\n\n    device: (data: DeviceData, labels, props) => {\n        if (data.technology && data.technology.rating) props.push(`Rating ${data.technology.rating}`);\n        if (data.category === 'cyberdeck') {\n            for (const attN of Object.values(data.atts)) {\n                props.push(`${Helpers.label(attN.att)} ${attN.value}`);\n            }\n        }\n    },\n\n    equipment: (data, labels, props) => {\n        if (data.technology && data.technology.rating) props.push(`Rating ${data.technology.rating}`);\n    },\n\n    quality: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        props.push(Helpers.label(data.type));\n    },\n\n    sprite_power: (data, labels, props) => {\n        // add action data\n        ChatData.action(data, labels, props);\n    },\n\n    critter_power: (data, labels, props) => {\n        // power type\n        props.push(game.i18n.localize(CONFIG.SR5.critterPower.types[data.powerType]));\n        // duration\n        props.push(game.i18n.localize(CONFIG.SR5.critterPower.durations[data.duration]));\n        // range\n        props.push(game.i18n.localize(CONFIG.SR5.critterPower.ranges[data.range]));\n\n        // add action data\n        ChatData.action(data, labels, props);\n    },\n\n    // add properties for spell data, follow order in book\n    spell: (data, labels, props) => {\n        // first category and type\n        props.push(Helpers.label(data.category), Helpers.label(data.type));\n\n        // add subtype tags\n        if (data.category === 'combat') {\n            props.push(Helpers.label(data.combat.type));\n        } else if (data.category === 'health') {\n        } else if (data.category === 'illusion') {\n            props.push(data.illusion.type);\n            props.push(data.illusion.sense);\n        } else if (data.category === 'manipulation') {\n            if (data.manipulation.damaging) props.push('Damaging');\n            if (data.manipulation.mental) props.push('Mental');\n            if (data.manipulation.environmental) props.push('Environmental');\n            if (data.manipulation.physical) props.push('Physical');\n        } else if (data.category === 'detection') {\n            props.push(data.illusion.type);\n            props.push(data.illusion.passive ? 'Passive' : 'Active');\n            if (data.illusion.extended) props.push('Extended');\n        }\n        // add range\n        props.push(Helpers.label(data.range));\n\n        // add action data\n        ChatData.action(data, labels, props);\n\n        // add duration data\n        props.push(Helpers.label(data.duration));\n\n        // add drain data\n        const { drain } = data;\n        if (drain > 0) props.push(`Drain F+${drain}`);\n        else if (drain < 0) props.push(`Drain F${drain}`);\n        else props.push('Drain F');\n\n        labels.roll = 'Cast';\n    },\n\n    weapon: (data, labels, props, item: SR5Item) => {\n        ChatData.action(data, labels, props);\n        for (let i = 0; i < props.length; i++) {\n            const prop = props[i];\n            if (prop.includes('Limit')) {\n                props[i] = prop.replace('Limit', 'Accuracy');\n            }\n        }\n\n        const equippedAmmo = item.getEquippedAmmo();\n        if (equippedAmmo && data.ammo && data.ammo.current?.max) {\n            if (equippedAmmo) {\n                const ammoData = equippedAmmo.data.data as AmmoData;\n                const { current, spare_clips } = data.ammo;\n                if (equippedAmmo.name) props.push(`${equippedAmmo.name} (${current.value}/${current.max})`);\n                if (ammoData.blast.radius) props.push(`${game.i18n.localize('SR5.BlastRadius')} ${ammoData.blast.radius}m`);\n                if (ammoData.blast.dropoff) props.push(`${game.i18n.localize('SR5.Dropoff')} $ammoData.blast.dropoff}/m`);\n                if (spare_clips && spare_clips.max) props.push(`${game.i18n.localize('SR5.SpareClips')} (${spare_clips.value}/${spare_clips.max})`);\n            }\n        }\n\n        if (data.technology?.conceal?.value) {\n            props.push(`${game.i18n.localize('SR5.Conceal')} ${data.technology.conceal.value}`);\n        }\n\n        if (data.category === 'range') {\n            if (data.range.rc) {\n                let rcString = `${game.i18n.localize('SR5.RecoilCompensation')} ${data.range.rc.value}`;\n                if (item?.actor) {\n                    rcString += ` (${game.i18n.localize('SR5.Total')} ${item.actor.getRecoilCompensation()})`;\n                }\n                props.push(rcString);\n            }\n            if (data.range.modes) {\n                const newModes: string[] = [];\n                const { modes } = data.range;\n                if (modes.single_shot) newModes.push('SR5.WeaponModeSingleShotShort');\n                if (modes.semi_auto) newModes.push('SR5.WeaponModeSemiAutoShort');\n                if (modes.burst_fire) newModes.push('SR5.WeaponModeBurstFireShort');\n                if (modes.full_auto) newModes.push('SR5.WeaponModeFullAutoShort');\n                props.push(newModes.map((m) => game.i18n.localize(m)).join('/'));\n            }\n            if (data.range.ranges) props.push(Array.from(Object.values(data.range.ranges)).join('/'));\n        } else if (data.category === 'melee') {\n            if (data.melee.reach) {\n                const reachString = `${game.i18n.localize('SR5.Reach')} ${data.melee.reach}`;\n                // find accuracy in props and insert ourselves after it\n                const accIndex = props.findIndex((p) => p.includes('Accuracy'));\n                if (accIndex > -1) {\n                    props.splice(accIndex + 1, 0, reachString);\n                } else {\n                    props.push(reachString);\n                }\n            }\n        } else if (data.category === 'thrown') {\n            const { blast } = data.thrown;\n            if (blast?.radius) props.push(`${game.i18n.localize('SR5.BlastRadius')} ${blast.radius}m`);\n            if (blast?.dropoff) props.push(`${game.i18n.localize('SR5.Dropoff')} ${blast.dropoff}/m`);\n\n            if (data.thrown.ranges) {\n                const mult = data.thrown.ranges.attribute && item?.actor ? item.actor.data.data.attributes[data.thrown.ranges.attribute].value : 1;\n                const ranges = [data.thrown.ranges.short, data.thrown.ranges.medium, data.thrown.ranges.long, data.thrown.ranges.extreme];\n                props.push(ranges.map((v) => v * mult).join('/'));\n            }\n        }\n\n        const equippedMods = item.getEquippedMods();\n        if (equippedMods) {\n            equippedMods.forEach((mod) => {\n                props.push(`${mod.name}`);\n            });\n        }\n    },\n};\n","/**\n * Handle all things related to the action template (template.json)\n */\nimport {SR5Actor} from \"../actor/SR5Actor\";\nimport DamageData = Shadowrun.DamageData;\nimport {Helpers} from \"../helpers\";\nimport FormulaOperator = Shadowrun.FormulaOperator;\n\nexport class ItemAction {\n    static calcDamage(damage: DamageData, actor: SR5Actor): DamageData {\n        // Avoid manipulation on original data, which might come from database values.\n        damage = duplicate(damage);\n\n        const attribute = actor.findAttribute(damage.attribute);\n\n        if (!attribute) return damage;\n\n        damage.base = ItemAction._applyFormulaOperatorToValues(damage.base, attribute.value, damage.base_formula_operator);\n\n        // Rather reduce damage to the next full decimal.\n        damage.base = Helpers.applyValueRange(Math.floor(damage.base), {min: 0});\n        damage.value = damage.base;\n\n        return damage;\n    }\n\n    /** Calculate the result of operating on two values with basic formula operators.\n     *\n     * @param base The basic value operated opon.\n     * @param value The value doing the operation with. If order is important, this value will be after the operator.\n     * @param operator A formula operator (basic) to be used within a simple calculation.\n     */\n    static _applyFormulaOperatorToValues(base: number, value: number, operator:FormulaOperator): number {\n        switch (operator) {\n            case \"add\":\n                return base + value;\n            case \"subtract\":\n                return base - value;\n            case \"multiply\":\n                return base * value;\n            case \"divide\":\n                return base / value;\n            default:\n                console.error(`Unsupported base damage formula operator: '${operator}' used. Falling back to 'add'.`);\n                return base + value;\n        }\n    }\n}","import {Helpers} from '../helpers';\nimport {SR5Actor} from '../actor/SR5Actor';\nimport {ActionTestData, ShadowrunItemDialog} from '../apps/dialogs/ShadowrunItemDialog';\nimport {ChatData} from './ChatData';\nimport {ShadowrunRoll, ShadowrunRoller, Test} from '../rolls/ShadowrunRoller';\nimport {createItemChatMessage} from '../chat';\nimport {DEFAULT_ROLL_NAME, FLAGS, SYSTEM_NAME} from '../constants';\nimport {SR5ItemDataWrapper} from './SR5ItemDataWrapper';\nimport {PartsList} from '../parts/PartsList';\nimport ModList = Shadowrun.ModList;\nimport AttackData = Shadowrun.AttackData;\nimport AttributeField = Shadowrun.AttributeField;\nimport SkillField = Shadowrun.SkillField;\nimport LimitField = Shadowrun.LimitField;\nimport FireModeData = Shadowrun.FireModeData;\nimport SpellForceData = Shadowrun.SpellForceData;\nimport ComplexFormLevelData = Shadowrun.ComplexFormLevelData;\nimport FireRangeData = Shadowrun.FireRangeData;\nimport BlastData = Shadowrun.BlastData;\nimport ConditionData = Shadowrun.ConditionData;\nimport SR5ItemType = Shadowrun.SR5ItemType;\nimport ActionRollData = Shadowrun.ActionRollData;\nimport DamageData = Shadowrun.DamageData;\nimport DefenseRollOptions = Shadowrun.DefenseRollOptions;\nimport SpellDefenseOptions = Shadowrun.SpellDefenseOptions;\nimport SpellData = Shadowrun.SpellData;\nimport WeaponData = Shadowrun.WeaponData;\nimport AmmoData = Shadowrun.AmmoData;\nimport TechnologyPartData = Shadowrun.TechnologyPartData;\nimport Sin = Shadowrun.Sin;\nimport Weapon = Shadowrun.Weapon;\nimport Ammo = Shadowrun.Ammo;\nimport TechnologyData = Shadowrun.TechnologyData;\nimport RangeWeaponData = Shadowrun.RangeWeaponData;\nimport SpellRange = Shadowrun.SpellRange;\nimport CritterPowerRange = Shadowrun.CritterPowerRange;\nimport AdeptPower = Shadowrun.AdeptPower;\nimport Modification = Shadowrun.Modification;\nimport Action = Shadowrun.Action;\nimport Armor = Shadowrun.Armor;\nimport ComplexForm = Shadowrun.ComplexForm;\nimport Contact = Shadowrun.Contact;\nimport CritterPower = Shadowrun.CritterPower;\nimport Cyberware = Shadowrun.Cyberware;\nimport Device = Shadowrun.Device;\nimport Equipment = Shadowrun.Equipment;\nimport Lifestyle = Shadowrun.Lifestyle;\nimport Program = Shadowrun.Program;\nimport Quality = Shadowrun.Quality;\nimport Spell = Shadowrun.Spell;\nimport SpritePower = Shadowrun.SpritePower;\nimport {ItemAction} from \"./ItemAction\";\nimport {SkillFlow} from \"../actor/SkillFlow\";\n\nexport class SR5Item extends Item {\n    // NOTE: In contrast to SR5Actor we can only type Item.data as the typing structure for ItemData doesn't have\n    //       monolithic Item.data.data typing (SR5ActorData) but only one for each Item type. Therefore we can't\n    //       do extends Item<SR5ItemData> as we can with the SR5Actor class.\n    data: SR5ItemType;\n    items: SR5Item[];\n\n    labels: {} = {};\n\n\n    get actor(): SR5Actor {\n        return super.actor as SR5Actor;\n    }\n\n    private get wrapper(): SR5ItemDataWrapper {\n        // we need to cast here to unknown first to make ts happy\n        return new SR5ItemDataWrapper((this.data as unknown) as SR5ItemType);\n    }\n\n    // Flag Functions\n    getLastFireMode(): FireModeData {\n        return this.getFlag(SYSTEM_NAME, FLAGS.LastFireMode) || { value: 0 };\n    }\n    async setLastFireMode(fireMode: FireModeData) {\n        return this.setFlag(SYSTEM_NAME, FLAGS.LastFireMode, fireMode);\n    }\n    getLastSpellForce(): SpellForceData {\n        return this.getFlag(SYSTEM_NAME, FLAGS.LastSpellForce) || { value: 0 };\n    }\n    async setLastSpellForce(force: SpellForceData) {\n        return this.setFlag(SYSTEM_NAME, FLAGS.LastSpellForce, force);\n    }\n    getLastComplexFormLevel(): ComplexFormLevelData {\n        return this.getFlag(SYSTEM_NAME, FLAGS.LastComplexFormLevel) || { value: 0 };\n    }\n    async setLastComplexFormLevel(level: ComplexFormLevelData) {\n        return this.setFlag(SYSTEM_NAME, FLAGS.LastComplexFormLevel, level);\n    }\n    getLastFireRangeMod(): FireRangeData {\n        return this.getFlag(SYSTEM_NAME, FLAGS.LastFireRange) || { value: 0 };\n    }\n    async setLastFireRangeMod(environmentalMod: FireRangeData) {\n        return this.setFlag(SYSTEM_NAME, FLAGS.LastFireRange, environmentalMod);\n    }\n\n    /**\n     * Return an Array of the Embedded Item Data\n     * TODO properly type this\n     */\n    getEmbeddedItems(): any[] {\n        let items = this.getFlag(SYSTEM_NAME, FLAGS.EmbeddedItems);\n\n        items = items ? items : [];\n\n        // moved this \"hotfix\" to here so that everywhere that accesses the flag just gets an array -- Shawn\n        if (items && !Array.isArray(items)) {\n            items = Helpers.convertIndexedObjectToArray(items);\n        }\n\n        // Manually map wrongly converted array fields...\n        items = items.map(item => {\n            if (item.effects && !Array.isArray(item.effects)) {\n                item.effects = Helpers.convertIndexedObjectToArray(item.effects);\n            }\n            return item;\n        });\n\n        return items;\n    }\n\n    /**\n     * Set the embedded item data\n     * @param items\n     */\n    async setEmbeddedItems(items: any[]) {\n        // clear the flag first to remove the previous items - if we don't do this then it doesn't actually \"delete\" any items\n        // await this.unsetFlag(SYSTEM_NAME, 'embeddedItems');\n        await this.setFlag(SYSTEM_NAME, FLAGS.EmbeddedItems, items);\n    }\n\n    async clearEmbeddedItems() {\n        await this.unsetFlag(SYSTEM_NAME, FLAGS.EmbeddedItems);\n    }\n\n    /** Overwrite to allow for options param to be skipped.\n     */\n    async update(data, options?): Promise<this> {\n        return super.update(data, options);\n    }\n\n    get hasOpposedRoll(): boolean {\n        const action = this.getAction();\n        if (!action) return false;\n        return !!action.opposed.type;\n    }\n\n    get hasRoll(): boolean {\n        const action = this.getAction();\n        return !!(action && action.type !== '' && (action.skill || action.attribute || action.attribute2 || action.dice_pool_mod));\n    }\n    get hasTemplate(): boolean {\n        return this.isAreaOfEffect();\n    }\n\n    /**\n     * PREPARE DATA CANNOT PULL FROM this.actor at ALL\n     * - as of foundry v0.7.4, actor data isn't prepared by the time we prepare items\n     * - this caused issues with Actions that have a Limit or Damage attribute and so those were moved\n     */\n    prepareData() {\n        super.prepareData();\n\n        // Description labels might have changed since last data prep.\n        this.labels = {};\n\n        if (this.data.type === 'sin') {\n            if (typeof this.data.data.licenses === 'object') {\n                //@ts-ignore // taMiF: This seems to be a hacky solution to some internal or Foundry issue with reading\n                //                      a object/HashMap when an array/iterable was expected\n                this.data.data.licenses = Object.values(this.data.data.licenses);\n            }\n        }\n        const equippedMods = this.getEquippedMods();\n        const equippedAmmo = this.getEquippedAmmo();\n\n        const technology = this.getTechnology();\n        if (technology) {\n            // taMiF: This migration code could be needed for items imported from an older compendium?\n            if (technology.condition_monitor === undefined) {\n                technology.condition_monitor = { value: 0, max: 0, label: '' };\n            }\n            // Rating might be a string.\n            const rating = typeof technology.rating === 'string' ? 0 : technology.rating;\n            technology.condition_monitor.max = 8 + Math.ceil(rating / 2);\n\n            // Calculate conceal data.\n            if (!technology.conceal) technology.conceal = {base: 0, value: 0, mod: []};\n\n            const concealParts = new PartsList<number>();\n            equippedMods.forEach((mod) => {\n                const technology = mod.getTechnology();\n\n                if (technology && technology.conceal.value) {\n                    concealParts.addUniquePart(mod.name, technology.conceal.value);\n                }\n            });\n\n            technology.conceal.mod = concealParts.list;\n            technology.conceal.value = Helpers.calcTotal(technology.conceal);\n        }\n\n        const action = this.getAction();\n        if (action) {\n            action.alt_mod = 0;\n            action.limit.mod = [];\n            action.damage.mod = [];\n            action.damage.ap.mod = [];\n            action.dice_pool_mod = [];\n\n            // @ts-ignore\n            // Due to faulty template value items without a set operator will have a operator literal instead since 0.7.10.\n            if (action.damage.base_formula_operator === '+') {\n                action.damage.base_formula_operator = 'add';\n            }\n\n            // handle overrides from mods\n            const limitParts = new PartsList(action.limit.mod);\n            const dpParts = new PartsList(action.dice_pool_mod);\n            equippedMods.forEach((mod) => {\n                const modification = mod.asModificationData();\n                if (!modification) return;\n\n                if (modification.data.accuracy) {\n                    limitParts.addUniquePart(mod.name, modification.data.accuracy);\n                }\n                if (modification.data.dice_pool) {\n                    dpParts.addUniquePart(mod.name, modification.data.dice_pool);\n                }\n            });\n\n\n\n            if (equippedAmmo) {\n                const ammoData = equippedAmmo.data.data as AmmoData;\n                // add mods to damage from ammo\n                action.damage.mod = PartsList.AddUniquePart(action.damage.mod, equippedAmmo.name, ammoData.damage);\n                // add mods to ap from ammo\n                action.damage.ap.mod = PartsList.AddUniquePart(action.damage.ap.mod, equippedAmmo.name, ammoData.ap);\n\n                // override element\n                if (ammoData.element) {\n                    action.damage.element.value = ammoData.element;\n                } else {\n                    action.damage.element.value = action.damage.element.base;\n                }\n\n                // override damage type\n                if (ammoData.damageType) {\n                    action.damage.type.value = ammoData.damageType;\n                } else {\n                    action.damage.type.value = action.damage.type.base;\n                }\n            } else {\n                // set value if we don't have item overrides\n                action.damage.element.value = action.damage.element.base;\n                action.damage.type.value = action.damage.type.base;\n            }\n\n            // once all damage mods have been accounted for, sum base and mod to value\n            action.damage.value = Helpers.calcTotal(action.damage);\n            action.damage.ap.value = Helpers.calcTotal(action.damage.ap);\n\n            action.limit.value = Helpers.calcTotal(action.limit);\n        }\n\n        const range = this.getWeaponRange();\n        if (range) {\n            if (range.rc) {\n                const rangeParts = new PartsList();\n                equippedMods.forEach((mod) => {\n                    //@ts-ignore // TypeScript doesn't like this.data.data Item.Data<DataType> possibly being all the things.\n                    if (mod.data.data.rc) rangeParts.addUniquePart(mod.name, mod.data.data.rc);\n                    // handle overrides from ammo\n                });\n                //@ts-ignore // TypeScript doesn't like this.data.data Item.Data<DataType> possibly being all the things.\n                range.rc.mod = rangeParts.list;\n                //@ts-ignore // TypeScript doesn't like this.data.data Item.Data<DataType> possibly being all the things.\n                if (range.rc) range.rc.value = Helpers.calcTotal(range.rc);\n            }\n        }\n\n        const adeptPower = this.asAdeptPowerData();\n        if (adeptPower) {\n            adeptPower.data.type = adeptPower.data.action.type ? 'active' : 'passive';\n        }\n    }\n\n    async postItemCard() {\n        const tests =  this.getActionTests();\n        const options = {\n            actor: this.actor,\n            description: this.getChatData(),\n            item: this,\n            previewTemplate: this.hasTemplate,\n            tests\n        };\n        return await createItemChatMessage(options);\n    }\n\n    async castAction(event?) {\n        if (!this.actor) return;\n\n        const dontRollTest = event?.shiftKey || !this.hasRoll;\n        if (dontRollTest) return await this.postItemCard();\n\n        const dialog = await ShadowrunItemDialog.create(this, event);\n        // Some items might not have an additional dialog.\n        if (!dialog) return await this.rollTest(event);\n\n        const actionTestData = await dialog.select();\n        if (dialog.canceled) return;\n\n        return await this.rollTest(event, actionTestData);\n}\n\n    getChatData(htmlOptions?) {\n        const data = duplicate(this.data.data);\n        const { labels } = this;\n        //@ts-ignore // This is a hacky monkey patch solution to add a property to the item data\n        //              that's not actually defined in any SR5Item typing.\n        if (!data.description) data.description = {};\n        // TextEditor.enrichHTML will return null as a string, making later handling difficult.\n        if (!data.description.value) data.description.value = '';\n\n        data.description.value = TextEditor.enrichHTML(data.description.value, htmlOptions);\n\n        const props = [];\n        const func = ChatData[this.data.type];\n        if (func) func(duplicate(data), labels, props, this);\n\n        //@ts-ignore // This is a hacky monkey patch solution to add a property to the item data\n        //              that's not actually defined in any SR5Item typing.\n        data.properties = props.filter((p) => !!p);\n\n        return data;\n    }\n\n    getActionTestName(): string {\n        const testName = this.getRollName();\n        return testName ? testName :  game.i18n.localize('SR5.Action');\n    }\n\n    getOpposedTestName(): string {\n        let name = '';\n        const action = this.getAction();\n        if (action && action.opposed.type) {\n            const { opposed } = action;\n            if (opposed.type !== 'custom') {\n                name = `${Helpers.label(opposed.type)}`;\n            } else if (opposed.skill) {\n                name = `${Helpers.label(opposed.skill)}+${Helpers.label(opposed.attribute)}`;\n            } else if (opposed.attribute2) {\n                name = `${Helpers.label(opposed.attribute)}+${Helpers.label(opposed.attribute2)}`;\n            } else if (opposed.attribute) {\n                name = `${Helpers.label(opposed.attribute)}`;\n            }\n        }\n\n        const mod = this.getOpposedTestModifier();\n        if (mod) name += ` ${mod}`;\n        return name;\n    }\n\n    getOpposedTestMod(): PartsList<number> {\n        const parts = new PartsList<number>();\n        if (this.hasDefenseTest()) {\n            if (this.isAreaOfEffect()) {\n                parts.addUniquePart('SR5.Aoe', -2);\n            }\n            if (this.isRangedWeapon()) {\n                const fireModeData = this.getLastFireMode();\n                if (fireModeData?.defense) {\n                    if (fireModeData.defense !== 'SR5.DuckOrCover') {\n                        const fireMode = +fireModeData.defense;\n                        parts.addUniquePart('SR5.FireMode', fireMode);\n                    }\n                }\n            }\n        }\n        return parts;\n    }\n\n    getOpposedTestModifier(): string {\n        const testMod = this.getOpposedTestMod();\n        const total = testMod.total;\n        if (total) return `(${total})`;\n        else {\n            if (this.isRangedWeapon()) {\n                const fireModeData = this.getLastFireMode();\n                if (fireModeData?.defense) {\n                    if (fireModeData.defense === 'SR5.DuckOrCover') {\n                        return game.i18n.localize('SR5.DuckOrCover');\n                    }\n                }\n            }\n        }\n        return '';\n    }\n\n     getBlastData(actionTestData?: ActionTestData): BlastData | undefined {\n        if (this.isSpell() && this.isAreaOfEffect()) {\n            const data = this.data.data as SpellData;\n\n            // By default spell distance is equal to it's Force.\n            let distance = this.getLastSpellForce().value;\n\n            // Except for predefined user test selection.\n            if (actionTestData?.spell) {\n                distance = actionTestData.spell.force;\n            }\n\n            // Extended spells have a longer range.\n            // TODO: data.extended is not defined in typing. It only exists under data.detection or data.action\n            // @ts-ignore\n            if (data.extended) distance *= 10;\n            const dropoff = 0;\n\n            return {\n                radius: distance,\n                dropoff\n            }\n\n        } else if (this.isGrenade()) {\n            const data = this.data.data as WeaponData;\n\n            const distance = data.thrown.blast.radius;\n            const dropoff = data.thrown.blast.dropoff;\n\n            return {\n                radius: distance,\n                dropoff\n            }\n\n        } else if (this.hasExplosiveAmmo()) {\n            const ammo = this.getEquippedAmmo();\n            const ammoData = ammo.data as Ammo;\n            const distance = ammoData.data.blast.radius;\n            const dropoff = ammoData.data.blast.dropoff;\n\n            return {\n                radius: distance,\n                dropoff\n            };\n        }\n    }\n\n    getEquippedAmmo(): SR5Item {\n        const equippedAmmos = (this.items || []).filter((item) =>\n            item.isAmmo() &&\n            item.isEquipped());\n\n        // Cast Typing isn't a mistake, so long as isAmmo is filtered.\n        return equippedAmmos[0];\n    }\n\n    getEquippedMods(): SR5Item[] {\n        return (this.items || []).filter((item) =>\n            item.isWeaponModification() &&\n            item.isEquipped());\n    }\n\n    hasExplosiveAmmo(): boolean {\n        const ammo = this.getEquippedAmmo();\n        if (!ammo) return false;\n        const data = ammo.data.data as AmmoData;\n        return data.blast.radius > 0;\n    }\n\n    async equipWeaponMod(iid) {\n        const mod = this.getOwnedItem(iid);\n        if (mod) {\n            const dupData = duplicate(mod.data);\n            const data = dupData.data as TechnologyPartData;\n            data.technology.equipped = !data.technology.equipped;\n            await this.updateOwnedItem(dupData);\n        }\n    }\n\n    hasAmmo(): boolean {\n        return this.wrapper.hasAmmo();\n    }\n\n    async useAmmo(fireMode) {\n        const weapon = duplicate(this.asWeaponData());\n        if (weapon) {\n            const { ammo } = weapon.data;\n            ammo.current.value = Math.max(0, ammo.current.value - fireMode);\n\n            return await this.update(weapon);\n        }\n    }\n\n    async reloadAmmo() {\n        const data = duplicate(this.asWeaponData());\n\n        if (!data) return;\n\n        const { ammo } = data.data;\n        const diff = ammo.current.max - ammo.current.value;\n        ammo.current.value = ammo.current.max;\n\n        if (ammo.spare_clips) {\n            ammo.spare_clips.value = Math.max(0, ammo.spare_clips.value - 1);\n        }\n\n        await this.update(data);\n\n        const newAmmunition = (this.items || [])\n            .filter((i) => i.data.type === 'ammo')\n            .reduce((acc: Entity.Data[], item) => {\n                const ammoData = item.asAmmoData();\n\n                if (ammoData && ammoData.data.technology.equipped) {\n                    const { technology } = ammoData.data;\n                    const qty = typeof technology.quantity === 'string' ? 0 : technology.quantity;\n                    technology.quantity = Math.max(0, qty - diff);\n                    acc.push(item.data);\n                }\n                return acc;\n            }, []);\n\n        if (newAmmunition && newAmmunition.length) {\n            await this.updateOwnedItem(newAmmunition);\n        }\n    }\n\n    async equipAmmo(iid) {\n        // only allow ammo that was just clicked to be equipped\n        const ammo = this.items\n            .filter((item) => item.type === 'ammo')\n            .map((item) => {\n                const ownedItem = this.getOwnedItem(item._id);\n                const ammoData = ownedItem?.asAmmoData();\n\n                if (ownedItem && ammoData) {\n                    ammoData.data.technology.equipped = iid === item._id;\n                    return ownedItem.data;\n                }\n            });\n        await this.updateOwnedItem(ammo);\n    }\n\n    async addNewLicense() {\n        const sin = duplicate(this.asSinData());\n        if (!sin) return;\n\n        // NOTE: This might be related to Foundry data serialization sometimes returning arrays as ordered HashMaps...\n        if (typeof sin.data.licenses === 'object') {\n            // @ts-ignore\n            sin.data.licenses = Object.values(sin.data.licenses);\n        }\n\n        sin.data.licenses.push({\n            name: '',\n            rtg: '',\n            description: '',\n        });\n\n        await this.update(sin);\n    }\n\n    getRollPartsList(): ModList<number> {\n        // we only have a roll if we have an action or an actor\n        const action = this.getAction();\n        if (!action || !this.actor) return [];\n\n        const parts = new PartsList(duplicate(this.getModifierList()));\n\n        const skill = this.actor.findActiveSkill(this.getActionSkill());\n        const attribute = this.actor.findAttribute(this.getActionAttribute());\n        const attribute2 = this.actor.findAttribute(this.getActionAttribute2());\n\n        if (attribute && attribute.label) parts.addPart(attribute.label, attribute.value);\n\n        // if we have a valid skill, don't look for a second attribute\n        if (skill) {\n            parts.addUniquePart(skill.label || skill.name, skill.value);\n            SkillFlow.handleDefaulting(skill, parts);\n        }\n        else if (attribute2 && attribute2.label) {\n            parts.addPart(attribute2.label, attribute2.value);\n        }\n\n        const spec = this.getActionSpecialization();\n        if (spec) parts.addUniquePart(spec, 2);\n\n        //@ts-ignore parseInt does allow for number type parameter.\n        const mod = parseInt(this.data.data.action.mod || 0);\n        if (mod) parts.addUniquePart('SR5.ItemMod', mod);\n\n        const atts: (AttributeField | SkillField)[] | boolean = [];\n        if (attribute !== undefined) atts.push(attribute);\n        if (attribute2 !== undefined) atts.push(attribute2);\n        if (skill !== undefined) atts.push(skill);\n        // add global parts from actor\n        this.actor._addGlobalParts(parts);\n        this.actor._addMatrixParts(parts, atts);\n        this._addWeaponParts(parts);\n\n        return parts.list;\n    }\n\n    calculateRecoil() {\n        const lastFireMode = this.getLastFireMode();\n        if (!lastFireMode) return 0;\n        if (lastFireMode.value === 20) return 0;\n        return Math.min(this.getRecoilCompensation(true) - (this.getLastFireMode()?.value || 0), 0);\n    }\n\n    _addWeaponParts(parts: PartsList<number>) {\n        if (this.isRangedWeapon()) {\n            const recoil = this.calculateRecoil();\n            if (recoil) parts.addUniquePart('SR5.Recoil', recoil);\n        }\n    }\n\n    isSin(): boolean {\n        return this.wrapper.isSin();\n    }\n\n    asSinData(): Sin | undefined {\n        if (this.isSin()) {\n            return this.data as Sin;\n        }\n    }\n\n    isLifestyle(): boolean {\n        return this.wrapper.isLifestyle();\n    }\n\n    asLifestyleData(): Lifestyle | undefined {\n        if (this.isLifestyle()) {\n            return this.data as Lifestyle;\n        }\n    }\n\n    isAmmo(): boolean {\n        return this.wrapper.isAmmo();\n    }\n\n    asAmmoData(): Ammo | undefined {\n        if (this.isAmmo()) {\n            return this.data as Ammo;\n        }\n    }\n\n    isModification(): boolean {\n        return this.wrapper.isModification();\n    }\n\n    asModificationData(): Modification | undefined {\n        if (this.isModification()) {\n            return this.data as Modification;\n        }\n    }\n\n    isWeaponModification(): boolean {\n        return this.wrapper.isWeaponModification();\n    }\n\n    isArmorModification(): boolean {\n        return this.wrapper.isArmorModification();\n    }\n\n    isProgram(): boolean {\n        return this.wrapper.isProgram();\n    }\n\n    asProgramData(): Program | undefined {\n        if (this.isProgram()) {\n            return this.data as Program;\n        }\n    }\n\n    isQuality(): boolean {\n        return this.wrapper.isQuality();\n    }\n\n    asQualityData(): Quality | undefined {\n        if (this.isQuality()) {\n            return this.data as Quality;\n        }\n    }\n\n    isAdeptPower(): boolean {\n        return this.data.type === 'adept_power';\n    }\n\n    asAdeptPowerData(): AdeptPower|undefined {\n        if (this.isAdeptPower())\n            return this.data as AdeptPower;\n    }\n\n    async removeLicense(index) {\n        const data = duplicate(this.asSinData());\n        if (data) {\n            data.data.licenses.splice(index, 1);\n            await this.update(data);\n        }\n    }\n\n    isAction(): boolean {\n        return this.wrapper.isAction();\n    }\n\n    asActionData(): Action | undefined {\n        if (this.isAction()) {\n            return this.data as Action;\n        }\n    }\n\n\n\n    async rollOpposedTest(target: SR5Actor, attack: AttackData, event):  Promise<ShadowrunRoll | undefined> {\n        const options = {\n            event,\n            fireModeDefense: 0,\n            cover: false,\n            attack\n        };\n\n        const parts = this.getOpposedTestMod();\n        const action = this.getAction();\n        if (!action) return;\n\n        const { opposed } = action;\n\n        if (opposed.type === 'defense') {\n            return await this.rollDefense(target, options);\n\n        } else if (opposed.type === 'soak') {\n            options['damage'] = attack?.damage;\n            options['attackerHits'] = attack?.hits;\n            return await target.rollSoak(options, parts.list);\n\n        } else if (opposed.type === 'armor') {\n            return target.rollArmor(options);\n\n        } else if (opposed.skill && opposed.attribute) {\n            const skill = target.getSkill(opposed.skill);\n\n            if (!skill) {\n                ui.notifications.error(game.i18n.localize(\"SR5.Errors.MissingSkill\"));\n                return;\n            }\n\n            return target.rollSkill(skill, {\n                ...options,\n                attribute: opposed.attribute,\n            });\n\n        } else if (opposed.attribute && opposed.attribute2) {\n            return target.rollTwoAttributes([opposed.attribute, opposed.attribute2], options);\n\n        } else if (opposed.attribute) {\n            return target.rollSingleAttribute(opposed.attribute, options);\n\n        }\n    }\n\n    async rollTestType(type: string, attack: AttackData, event, target: SR5Actor) {\n        if (type === 'opposed') {\n            await this.rollOpposedTest(target, attack, event);\n        }\n        if (type === 'action') {\n            await this.castAction(event);\n        }\n    }\n\n    /**\n     * Rolls a test using the latest stored data on the item (force, fireMode, level)\n     * @param event - mouse event\n     * @param actionTestData\n     * @param options - any additional roll options to pass along - note that currently the Item will overwrite -- WIP\n     */\n    async rollTest(event, actionTestData?: ActionTestData): Promise<ShadowrunRoll | undefined> {\n\n        const roll = await ShadowrunRoller.itemRoll(event, this, actionTestData);\n        if (!roll) return;\n\n        await ShadowrunRoller.resultingItemRolls(event, this, actionTestData);\n\n        return roll;\n    }\n\n    static getItemFromMessage(html): SR5Item | undefined {\n        const card = html.find('.chat-card');\n        let actor;\n        const tokenKey = card.data('tokenId');\n        if (tokenKey) {\n            const [sceneId, tokenId] = tokenKey.split('.');\n            let token;\n            if (sceneId === canvas?.scene._id) token = canvas.tokens.get(tokenId);\n            else {\n                const scene: Scene = game.scenes.get(sceneId);\n                if (!scene) return;\n                // @ts-ignore\n                const tokenData = scene.data.tokens.find((t) => t.id === Number(tokenId));\n                if (tokenData) token = new Token(tokenData);\n            }\n            if (!token) return;\n            actor = Actor.fromToken(token);\n        } else actor = game.actors.get(card.data('actorId'));\n\n        if (!actor) return;\n        const itemId = card.data('itemId');\n        return actor.getOwnedItem(itemId);\n    }\n\n    static getTargets() {\n        const { character } = game.user;\n        const { controlled } = canvas.tokens;\n        const targets = controlled.reduce((arr, t) => (t.actor ? arr.concat([t.actor]) : arr), []);\n        if (character && controlled.length === 0) targets.push(character);\n        if (!targets.length) throw new Error(`You must designate a specific Token as the roll target`);\n        return targets;\n    }\n\n    getActionTests(): Test[] {\n        if (!this.hasRoll) return []\n\n        return [{\n            label: this.getActionTestName(),\n            type: 'action',\n        }];\n    }\n\n    getOpposedTests(): Test[] {\n        if (!this.hasOpposedRoll) {\n            return [];\n        }\n        return [{\n            label: this.getOpposedTestName(),\n            type: 'opposed',\n        }];\n    }\n\n    /**\n     * Create an item in this item\n     * @param itemData\n     * @param options\n     */\n    async createOwnedItem(itemData, options = {}) {\n        if (!Array.isArray(itemData)) itemData = [itemData];\n        // weapons accept items\n        if (this.type === 'weapon') {\n            const currentItems = duplicate(this.getEmbeddedItems());\n\n            itemData.forEach((ogItem) => {\n                const item = duplicate(ogItem);\n                item._id = randomID(16);\n                if (item.type === 'ammo' || item.type === 'modification') {\n                    if (item?.data?.technology?.equipped) {\n                        item.data.technology.equipped = false;\n                    }\n                    currentItems.push(item);\n                }\n            });\n\n            await this.setEmbeddedItems(currentItems);\n        }\n        await this.prepareEmbeddedEntities();\n        await this.prepareData();\n        await this.render(false);\n\n        return true;\n    }\n\n    /**\n     * Prepare embeddedItems\n     */\n    prepareEmbeddedEntities() {\n        super.prepareEmbeddedEntities();\n        let items = this.getEmbeddedItems();\n\n        // Templates and further logic need a items HashMap, yet the flag provides an array.\n        if (items) {\n\n            const existing = (this.items || []).reduce((object, i) => {\n                object[i.id] = i;\n                return object;\n            }, {});\n\n            // Merge possible changes / new items from the flag into the current item instance.\n            this.items = items.map((item) => {\n                if (item._id in existing) {\n                    const currentItem = existing[item._id];\n\n                    // Patch .data isn't really anymore but do it for consistency.\n                    // Patch ._data is needed for Item.prepareData to work, as it's simply duplicating _data over data.\n                    // Otherwise old item data will be used for value preparation.\n                    currentItem.data = item;\n                    currentItem._data = item;\n                    currentItem.prepareData();\n                    return currentItem;\n\n                } else {\n                    // dirty things done here\n                    // @ts-ignore\n                    return Item.createOwned(item, this);\n                }\n            });\n        }\n    }\n\n    getOwnedItem(itemId): SR5Item | undefined {\n        const items = this.items;\n        if (!items) return;\n        return items.find((i) => i._id === itemId);\n    }\n\n    async updateOwnedItem(changes) {\n        const items = duplicate(this.getEmbeddedItems());\n        if (!items) return;\n        changes = Array.isArray(changes) ? changes : [changes];\n        if (!changes || changes.length === 0) return;\n        changes.forEach((itemChanges) => {\n            const index = items.findIndex((i) => i._id === itemChanges._id);\n            if (index === -1) return;\n            const item = items[index];\n            if (item) {\n                itemChanges = expandObject(itemChanges);\n                mergeObject(item, itemChanges);\n                items[index] = item;\n                // this.items[index].data = items[index];\n            }\n        });\n\n        await this.setEmbeddedItems(items);\n        await this.prepareEmbeddedEntities();\n        await this.prepareData();\n        await this.render(false);\n        return true;\n    }\n\n    async updateEmbeddedEntity(embeddedName: string, updateData: object | object[], options?: object) {\n        await this.updateOwnedItem(updateData);\n        return this;\n    }\n\n    /**\n     * Remove an owned item\n     * @param deleted\n     * @returns {Promise<boolean>}\n     */\n    async deleteOwnedItem(deleted) {\n        const items = duplicate(this.getEmbeddedItems());\n        if (!items) return;\n\n        const idx = items.findIndex((i) => i._id === deleted || Number(i._id) === deleted);\n        if (idx === -1) throw new Error(`Shadowrun5e | Couldn't find owned item ${deleted}`);\n        items.splice(idx, 1);\n        // we need to clear the items when one is deleted or it won't actually be deleted\n        await this.clearEmbeddedItems();\n        await this.setEmbeddedItems(items);\n        await this.prepareEmbeddedEntities();\n        await this.prepareData();\n        await this.render(false);\n        return true;\n    }\n\n    async openPdfSource() {\n        // Check for PDFoundry module hook: https://github.com/Djphoenix719/PDFoundry\n        if (!ui['PDFoundry']) {\n            ui.notifications.warn(game.i18n.localize('SR5.DIALOG.MissingModuleContent'));\n            return;\n        }\n\n        const source = this.getBookSource();\n        if (source === '') {\n            // @ts-ignore\n            ui.notifications.error(game.i18n.localize('SR5.SourceFieldEmptyError'));\n        }\n        // TODO open PDF to correct location\n        // parse however you need, all \"buttons\" will lead to this function\n        const [code, page] = source.split(' ');\n\n        //@ts-ignore\n        ui.PDFoundry.openPDFByCode(code, { page: parseInt(page) });\n    }\n\n    _canDealDamage(): boolean {\n        // NOTE: Double negation to force boolean comparison casting.\n        const action = this.getAction();\n        if (!action) return false;\n        return !!action.damage.type.base;\n    }\n\n    getAction(): ActionRollData|undefined {\n        return this.wrapper.getAction();\n    }\n\n    getExtended(): boolean {\n        const action = this.getAction();\n        if (!action) return false;\n        return action.extended;\n    }\n\n    getTechnology(): TechnologyData|undefined {\n        return this.wrapper.getTechnology();\n    }\n\n    getRange(): CritterPowerRange|SpellRange|RangeWeaponData|undefined {\n        return this.wrapper.getRange();\n    }\n\n    getWeaponRange(): RangeWeaponData|undefined {\n        if (this.isRangedWeapon())\n            return this.getRange() as RangeWeaponData;\n    }\n\n    getAttackData(hits: number, actionTestData?: ActionTestData): AttackData | undefined {\n        if (!this._canDealDamage()) {\n            return;\n        }\n\n        const action = this.getAction();\n        if (!action) return;\n\n        const damage = ItemAction.calcDamage(action.damage, this.actor);\n\n        const data: AttackData = {\n            hits,\n            damage,\n        };\n\n        // Modify action damage by spell damage.\n        if (this.isCombatSpell() && actionTestData?.spell) {\n            const force = actionTestData.spell.force;\n            const damageParts = new PartsList(data.damage.mod);\n            const spellDamage = this.getSpellDamage(force, hits);\n\n            if (spellDamage) {\n                data.force = force;\n                data.damage.base = spellDamage.base;\n                data.damage.value = spellDamage.base + damageParts.total;\n                data.damage.ap.value = -spellDamage.ap.value + damageParts.total;\n                data.damage.ap.base = -spellDamage.ap.value;\n            }\n        }\n\n        if (this.isComplexForm() && actionTestData?.complexForm) {\n            data.level = actionTestData.complexForm.level;\n        }\n\n        if (this.isMeleeWeapon()) {\n            data.reach = this.getReach();\n            data.accuracy = this.getActionLimit();\n        }\n\n        if (this.isRangedWeapon()) {\n            data.fireMode = actionTestData?.rangedWeapon?.fireMode;\n            data.accuracy = this.getActionLimit();\n        }\n\n        const blastData = this.getBlastData(actionTestData);\n        if (blastData) data.blast = blastData;\n\n        return data;\n    }\n\n    getRollName(): string {\n        if (this.isRangedWeapon()) {\n            return game.i18n.localize('SR5.RangeWeaponAttack');\n        }\n        if (this.isMeleeWeapon()) {\n            return game.i18n.localize('SR5.MeleeWeaponAttack');\n        }\n        if (this.isCombatSpell()) {\n            return game.i18n.localize('SR5.SpellAttack');\n        }\n        if (this.isSpell()) {\n            return game.i18n.localize('SR5.SpellCast');\n        }\n        if (this.hasRoll) {\n            return this.name\n        }\n\n        return DEFAULT_ROLL_NAME;\n    }\n\n    getLimit(): LimitField | undefined {\n        // @ts-ignore // TODO: This should use this.getAction(). However action.limit doesn't contain label field.\n        const limit = duplicate(this.data.data.action?.limit);\n        if (!limit) return undefined;\n        // go through and set the label correctly\n        if (this.data.type === 'weapon') {\n            limit.label = 'SR5.Accuracy';\n        } else if (limit?.attribute) {\n            limit.label = CONFIG.SR5.limits[limit.attribute];\n        } else if (this.isSpell()) {\n            limit.value = this.getLastSpellForce().value;\n            limit.label = 'SR5.Force';\n        } else if (this.isComplexForm()) {\n            limit.value = this.getLastComplexFormLevel().value;\n            limit.label = 'SR5.Level';\n        } else {\n            limit.label = 'SR5.Limit';\n        }\n\n        // adjust limit value for actor data\n        if (limit.attribute) {\n            const att = this.actor.findLimit(limit.attribute);\n            if (att) {\n                limit.mod = PartsList.AddUniquePart(limit.mod, att.label, att.value);\n                Helpers.calcTotal(limit);\n            }\n        }\n\n        return limit;\n    }\n\n    /**\n     * Override setFlag to remove the 'SR5.' from keys in modlists, otherwise it handles them as embedded keys\n     * @param scope\n     * @param key\n     * @param value\n     */\n    setFlag(scope: string, key: string, value: any): Promise<Entity> {\n        const newValue = Helpers.onSetFlag(value);\n        return super.setFlag(scope, key, newValue);\n    }\n\n    /**\n     * Override getFlag to add back the 'SR5.' keys correctly to be handled\n     * @param scope\n     * @param key\n     */\n    getFlag(scope: string, key: string): any {\n        const data = super.getFlag(scope, key);\n        return Helpers.onGetFlag(data);\n    }\n\n    /**\n     * Passthrough functions\n     */\n    isAreaOfEffect(): boolean {\n        return this.wrapper.isAreaOfEffect();\n    }\n\n    isArmor(): boolean {\n        return this.wrapper.isArmor();\n    }\n\n    asArmorData(): Armor | undefined {\n        if (this.isArmor()) {\n            return this.data as Armor;\n        }\n    }\n\n    hasArmorBase(): boolean {\n        return this.wrapper.hasArmorBase();\n    }\n\n    hasArmorAccessory(): boolean {\n        return this.wrapper.hasArmorAccessory();\n    }\n\n    hasArmor(): boolean {\n        return this.wrapper.hasArmor();\n    }\n\n    isGrenade(): boolean {\n        return this.wrapper.isGrenade();\n    }\n\n    isWeapon(): boolean {\n        return this.wrapper.isWeapon();\n    }\n\n    asWeaponData(): Weapon | undefined {\n        if (this.wrapper.isWeapon()) {\n            return this.data as Weapon;\n        }\n    }\n\n    isCyberware(): boolean {\n        return this.wrapper.isCyberware();\n    }\n\n    asCyberwareData(): Cyberware | undefined {\n        if (this.isCyberware()) {\n            return this.data as Cyberware;\n        }\n    }\n\n    isCombatSpell(): boolean {\n        return this.wrapper.isCombatSpell();\n    }\n\n    isDirectCombatSpell(): boolean {\n        return this.wrapper.isDirectCombatSpell();\n    }\n\n    isIndirectCombatSpell(): boolean {\n        return this.wrapper.isIndirectCombatSpell();\n    }\n\n    isManaSpell(): boolean {\n        return this.wrapper.isManaSpell();\n    }\n\n    isPhysicalSpell(): boolean {\n        return this.wrapper.isPhysicalSpell();\n    }\n\n    isRangedWeapon(): boolean {\n        return this.wrapper.isRangedWeapon();\n    }\n\n    isSpell(): boolean {\n        return this.wrapper.isSpell();\n    }\n\n    asSpellData(): Spell | undefined {\n        if (this.isSpell()) {\n            return this.data as Spell;\n        }\n    }\n\n    isSpritePower(): boolean {\n        return this.wrapper.isSpritePower();\n    }\n\n    asSpritePowerData(): SpritePower | undefined {\n        if (this.isSpritePower()) {\n            return this.data as SpritePower;\n        }\n    }\n\n    isBioware(): boolean {\n        return this.wrapper.isBioware();\n    }\n\n    isComplexForm(): boolean {\n        return this.wrapper.isComplexForm();\n    }\n\n    asComplexFormData(): ComplexForm | undefined {\n        if (this.isComplexForm()) {\n            return this.data as ComplexForm;\n        }\n    }\n\n    isContact(): boolean {\n        return this.wrapper.isContact();\n    }\n\n    asContactData(): Contact | undefined {\n        if (this.isContact()) {\n            return this.data as Contact;\n        }\n    }\n\n    isCritterPower(): boolean {\n        return this.wrapper.isCritterPower();\n    }\n\n    asCritterPowerData(): CritterPower | undefined {\n        if (this.isCritterPower()) {\n            return this.data as CritterPower;\n        }\n    }\n\n    isMeleeWeapon(): boolean {\n        return this.wrapper.isMeleeWeapon();\n    }\n\n    isDevice(): boolean {\n        return this.wrapper.isDevice();\n    }\n\n    asDeviceData(): Device | undefined {\n        if (this.isDevice()) {\n            return this.data as Device;\n        }\n    }\n\n    isEquipment(): boolean {\n        return this.wrapper.isEquipment();\n    }\n\n    asEquipmentData(): Equipment | undefined {\n        if (this.isEquipment()) {\n            return this.data as Equipment;\n        }\n    }\n\n    isEquipped(): boolean {\n        return this.wrapper.isEquipped();\n    }\n\n    isCyberdeck(): boolean {\n        return this.wrapper.isCyberdeck();\n    }\n\n    getBookSource(): string {\n        return this.wrapper.getBookSource();\n    }\n\n    getConditionMonitor(): ConditionData {\n        return this.wrapper.getConditionMonitor();\n    }\n\n    getRating(): number {\n        return this.wrapper.getRating();\n    }\n\n    getArmorValue(): number {\n        return this.wrapper.getArmorValue();\n    }\n\n    getArmorElements(): { [key: string]: number } {\n        return this.wrapper.getArmorElements();\n    }\n\n    getEssenceLoss(): number {\n        return this.wrapper.getEssenceLoss();\n    }\n\n    getASDF() {\n        return this.wrapper.getASDF();\n    }\n\n    getActionSkill(): string | undefined {\n        return this.wrapper.getActionSkill();\n    }\n\n    getActionAttribute(): string | undefined {\n        return this.wrapper.getActionAttribute();\n    }\n\n    getActionAttribute2(): string | undefined {\n        return this.wrapper.getActionAttribute2();\n    }\n\n    getActionLimit(): number | undefined {\n        let limit = this.wrapper.getActionLimit();\n        // get the limit modifiers from the actor if we have them\n        const action = this.wrapper.getAction();\n        if (action?.limit.attribute && limit && this.actor) {\n            const { attribute } = action.limit;\n            const att = this.actor.findAttribute(attribute);\n            if (att) {\n                limit += att.value;\n            }\n        }\n        return limit;\n    }\n\n    getModifierList(): ModList<number> {\n        return this.wrapper.getModifierList();\n    }\n\n    getActionSpecialization(): string | undefined {\n        return this.wrapper.getActionSpecialization();\n    }\n\n    getDrain(): number {\n        return this.wrapper.getDrain();\n    }\n\n    getFade(): number {\n        return this.wrapper.getFade();\n    }\n\n    getRecoilCompensation(includeActor: boolean = true): number {\n        let rc = this.wrapper.getRecoilCompensation();\n        if (includeActor && this.actor) {\n            rc += this.actor.getRecoilCompensation();\n        }\n        return rc;\n    }\n\n    getReach(): number {\n        if (this.isMeleeWeapon()) {\n            const data = this.data.data as WeaponData;\n            return data.melee.reach ?? 0;\n        }\n        return 0;\n    }\n\n    getCondition(): ConditionData|undefined {\n        const technology = this.getTechnology();\n        if (technology && \"condition_monitor\" in technology)\n            return technology.condition_monitor;\n    }\n\n    hasDefenseTest(): boolean {\n        if (!this.hasOpposedRoll) return false;\n        const action = this.getAction();\n        if (!action) return false;\n        return action.opposed.type === 'defense';\n    }\n\n    /** Use this method to get the base damage of spell, before any opposing action\n     *\n     * NOTE: This will NOT give you modified damage for direct combat spells\n     */\n    getSpellDamage(force: number, hits: number): DamageData|undefined {\n        if (!this.isCombatSpell()) return;\n\n        const action = this.getAction();\n        if (!action) return;\n\n        if (this.isDirectCombatSpell()) {\n            const damage = hits;\n\n            return Helpers.createDamageData(damage, action.damage.type.value);\n        } else if (this.isIndirectCombatSpell()) {\n            const damage = force;\n            const ap = -force;\n\n            return Helpers.createDamageData(damage, action.damage.type.value, -ap)\n        }\n    }\n\n    // TODO: Move into a rule section.\n    async rollDefense(target: SR5Actor, options: DefenseRollOptions): Promise<ShadowrunRoll | undefined> {\n        // TODO: Maybe move into defense methods and give the actor access to the item.\n        const opposedParts = this.getOpposedTestMod();\n\n        if (this.isWeapon()) {\n            options.cover = true;\n            if (options.attack?.fireMode?.defense) {\n                options.fireModeDefense = +options.attack.fireMode.defense;\n            }\n\n            return await target.rollAttackDefense(options, opposedParts.list);\n        }\n\n        if (this.isDirectCombatSpell()) {\n            return await target.rollDirectSpellDefense(this, options as SpellDefenseOptions);\n        }\n\n        if (this.isIndirectCombatSpell()) {\n            return await target.rollIndirectSpellDefense(this, options as SpellDefenseOptions);\n        }\n    }\n\n    /** Should environmental modifiers apply an action by this item?\n     */\n    applyEnvironmentalModifiers(): boolean {\n        if (this.isRangedWeapon()) return true;\n        if (this.isMeleeWeapon()) return true;\n        if (this.isIndirectCombatSpell()) return true;\n\n        return false;\n    }\n}\n","import { DataWrapper } from '../dataWrappers/DataWrapper';\nimport SR5ItemType = Shadowrun.SR5ItemType;\nimport ConditionData = Shadowrun.ConditionData;\nimport ModList = Shadowrun.ModList;\nimport SR5ItemDataPartial = Shadowrun.SR5ItemDataPartial;\nimport ActionRollData = Shadowrun.ActionRollData;\nimport SpellData = Shadowrun.SpellData;\nimport SinData = Shadowrun.SinData;\nimport Sin = Shadowrun.Sin;\nimport SR5ItemData = Shadowrun.SR5ItemData;\nimport ActionPartData = Shadowrun.ActionPartData;\nimport Weapon = Shadowrun.Weapon;\nimport Modification = Shadowrun.Modification;\nimport TechnologyData = Shadowrun.TechnologyData;\nimport CritterPowerRange = Shadowrun.CritterPowerRange;\nimport SpellRange = Shadowrun.SpellRange;\nimport RangeWeaponData = Shadowrun.RangeWeaponData;\n\nexport class SR5ItemDataWrapper extends DataWrapper<SR5ItemType> {\n    getType() {\n        return this.data.type;\n    }\n    getData(): SR5ItemDataPartial {\n        return (this.data.data as unknown) as SR5ItemDataPartial;\n    }\n\n    isAreaOfEffect(): boolean {\n        // TODO figure out how to detect explosive ammo\n        return this.isGrenade() || (this.isSpell() && this.getData().range === 'los_a'); //|| this.hasExplosiveAmmo();\n    }\n\n    /** Should only be used to check for actual armor item type.\n     * NOTE: Should you only care about a possible armor value use couldHaveArmor instead.\n     */\n    isArmor(): boolean {\n        return this.data.type === 'armor';\n    }\n\n    /** Will give an indicator if an item provides an armor value, without locking into only the Armor item type.\n     * NOTE: Should you only care about the armor item type use isArmor instead.\n     */\n    couldHaveArmor(): boolean {\n        const armor = this.getData().armor;\n        return this.isArmor() || armor !== undefined;\n    }\n\n    hasArmorBase(): boolean {\n        return this.hasArmor() && !this.getData().armor?.mod;\n    }\n\n    hasArmorAccessory(): boolean {\n        return this.hasArmor() && (this.getData().armor?.mod ?? false);\n    }\n\n    hasArmor(): boolean {\n        return this.getArmorValue() > 0;\n    }\n\n    isGrenade(): boolean {\n        return this.isThrownWeapon() && (this.getData().thrown?.blast.radius ?? 0) > 0;\n    }\n\n    isThrownWeapon(): boolean {\n        return this.isWeapon() && this.getData().category === 'thrown';\n    }\n\n    isWeapon(): boolean {\n        return this.data.type === 'weapon';\n    }\n\n    isModification(): boolean {\n        return this.data.type === 'modification';\n    }\n\n    isWeaponModification(): boolean {\n        if (!this.isModification()) return false;\n        const modification = this.data as Modification;\n        return modification.data.type === 'weapon';\n    }\n\n    isArmorModification(): boolean {\n        if (!this.isModification()) return false;\n        const modification = this.data as Modification;\n        return modification.data.type === 'armor';\n    }\n\n    isProgram(): boolean {\n        return this.data.type === 'program';\n    }\n\n    isQuality(): boolean {\n        return this.data.type === 'quality';\n    }\n\n    isAmmo(): boolean {\n        return this.data.type === 'ammo';\n    }\n\n    isCyberware(): boolean {\n        return this.data.type === 'cyberware';\n    }\n\n    isBioware(): boolean {\n        return this.data.type === 'bioware';\n    }\n\n    isBodyware(): boolean {\n        return this.isCyberware() || this.isBioware();\n    }\n\n    isCombatSpell(): boolean {\n        return this.isSpell() && this.getData().category === 'combat';\n    }\n\n    isDirectCombatSpell(): boolean {\n        if (!this.isCombatSpell()) return false;\n        return this.getData()?.combat?.type === 'direct';\n    }\n\n    isIndirectCombatSpell(): boolean {\n        if (!this.isCombatSpell()) return false;\n        return this.getData()?.combat?.type === 'indirect';\n    }\n\n    isManaSpell(): boolean {\n        if (!this.isSpell()) return false;\n        // Cast as partial spelldata due to conflicting .type between differing item types.\n        const spellData = this.getData() as Partial<SpellData>;\n        return spellData.type === 'mana';\n    }\n\n    isPhysicalSpell(): boolean {\n        if (!this.isSpell()) return false;\n        // Cast as partial spelldata due to conflicting .type between differing item types.\n        const spellData = this.getData() as Partial<SpellData>;\n        return spellData.type === 'physical';\n    }\n\n    isRangedWeapon(): boolean {\n        return this.isWeapon() && this.getData().category === 'range';\n    }\n\n    isSpell(): boolean {\n        return this.data.type === 'spell';\n    }\n\n    isSpritePower(): boolean {\n        return this.data.type === 'sprite_power';\n    }\n\n    isComplexForm(): boolean {\n        return this.data.type === 'complex_form';\n    }\n\n    isContact(): boolean {\n        return this.data.type === 'contact';\n    }\n\n    isCritterPower(): boolean {\n        return this.data.type === 'critter_power';\n    }\n\n    isMeleeWeapon(): boolean {\n        return this.data.type === 'weapon' && this.getData().category === 'melee';\n    }\n\n    isDevice(): boolean {\n        return this.data.type === 'device';\n    }\n\n    isEquipment(): boolean {\n        return this.data.type === 'equipment';\n    }\n\n    isEquipped(): boolean {\n        return this.getData().technology?.equipped || false;\n    }\n\n    isCyberdeck(): boolean {\n        return this.isDevice() && this.getData().category === 'cyberdeck';\n    }\n\n    isSin(): boolean {\n        return this.data.type === 'sin';\n    }\n\n    isLifestyle(): boolean {\n        return this.data.type === 'lifestyle';\n    }\n\n    getId(): string {\n        return this.data._id;\n    }\n\n    getBookSource(): string {\n        return this.getData().description?.source ?? '';\n    }\n\n    getConditionMonitor(): ConditionData {\n        return this.getData().technology?.condition_monitor ?? { value: 0, max: 0, label: '' };\n    }\n\n    getRating(): number {\n        return this.getData().technology?.rating || 0;\n    }\n\n    getArmorValue(): number {\n        return this.getData()?.armor?.value ?? 0;\n    }\n\n    getArmorElements(): { [key: string]: number } {\n        // TODO clean this up\n        const { fire, electricity, cold, acid } = this.getData().armor || {};\n        return { fire: fire ?? 0, electricity: electricity ?? 0, cold: cold ?? 0, acid: acid ?? 0 };\n    }\n\n    getName(): string {\n        return this.data.name;\n    }\n\n    getEssenceLoss(): number {\n        return this.getData()?.essence ?? 0;\n    }\n\n    getAmmo() {\n        return this.getData().ammo;\n    }\n\n    getASDF() {\n        if (!this.isDevice()) return undefined;\n\n        // matrix attributes are set up as an object\n        const matrix = {\n            attack: {\n                value: 0,\n                device_att: '',\n            },\n            sleaze: {\n                value: 0,\n                device_att: '',\n            },\n            data_processing: {\n                value: this.getRating(),\n                device_att: '',\n            },\n            firewall: {\n                value: this.getRating(),\n                device_att: '',\n            },\n        };\n\n        if (this.isCyberdeck()) {\n            /**\n             * {\n             *     attN: {\n             *         value: number,\n             *         att: string (the ASDF attribute)\n             *     }\n             * }\n             */\n            const atts: { [key: string]: { value: number; att: string } } | undefined = this.getData().atts;\n            if (atts) {\n                for (let [key, att] of Object.entries(atts)) {\n                    matrix[att.att].value = att.value;\n                    matrix[att.att].device_att = key;\n                }\n            }\n        }\n\n        return matrix;\n    }\n\n    getQuantity(): number | undefined {\n        return this.getData()?.technology?.quantity || 1;\n    }\n\n    isAction(): boolean {\n        return this.data.type === 'action';\n    }\n\n    getAction(): ActionRollData|undefined {\n        return this.getData().action;\n    }\n\n    getActionDicePoolMod(): number | undefined {\n        return this.getData().action?.mod;\n    }\n\n    getLimitAttribute(): string | undefined {\n        return this.getData().action?.limit?.attribute;\n    }\n\n    getActionSkill(): string | undefined {\n        return this.getData().action?.skill;\n    }\n\n    getActionAttribute(): string | undefined {\n        return this.getData().action?.attribute;\n    }\n\n    getActionAttribute2(): string | undefined {\n        return this.getData().action?.attribute2;\n    }\n\n    getActionLimit(): number | undefined {\n        return this.getData().action?.limit?.value;\n    }\n\n    getModifierList(): ModList<number> {\n        return this.getData().action?.dice_pool_mod || [];\n    }\n\n    getActionSpecialization(): string | undefined {\n        if (this.getData().action?.spec) return 'SR5.Specialization';\n        return undefined;\n    }\n\n    getDrain(): number {\n        return this.getData().drain || 0;\n    }\n\n    getFade(): number {\n        return this.getData().fade || 0;\n    }\n\n    getRecoilCompensation(): number {\n        if (!this.isRangedWeapon()) return 0;\n        const base = this.getData()?.range?.rc.value ?? '0';\n        return Number(base);\n    }\n\n    getReach(): number {\n        if (this.isMeleeWeapon()) {\n            return this.getData().melee?.reach ?? 0;\n        }\n        return 0;\n    }\n\n    getTechnology(): TechnologyData|undefined {\n        if (\"technology\" in this.data.data)\n            return this.data.data.technology;\n    }\n\n    getRange(): CritterPowerRange|SpellRange|RangeWeaponData|undefined {\n        if (!(\"range\" in this.data.data)) return;\n\n        if (this.data.type === 'critter_power')\n            return this.data.data.range as CritterPowerRange;\n\n        if (this.data.type === 'spell')\n            return this.data.data.range as SpellRange;\n\n        if (this.data.type === 'weapon')\n            return this.data.data.range as RangeWeaponData;\n    }\n\n    hasDefenseTest(): boolean {\n        return this.getData().action?.opposed?.type === 'defense';\n    }\n\n    hasAmmo(): boolean {\n        const ammo = this.getAmmo();\n        return !!ammo\n    }\n}\n","import { Helpers } from '../helpers';\nimport { SR5Item } from './SR5Item';\nimport SR5ActorSheetData = Shadowrun.SR5ActorSheetData;\nimport {SR5} from \"../config\";\n\n/**\n * Extend the basic ItemSheet with some very simple modifications\n */\nexport class SR5ItemSheet extends ItemSheet<{}, SR5Item> {\n    private _shownDesc: any[];\n    private _scroll: string;\n    constructor(...args) {\n        super(...args);\n        this._shownDesc = [];\n    }\n\n    getEmbeddedItems() {\n        return this.item.items || [];\n    }\n\n    /**\n     * Extend and override the default options used by the Simple Item Sheet\n     * @returns {Object}\n     */\n    static get defaultOptions() {\n        return mergeObject(super.defaultOptions, {\n            classes: ['sr5', 'sheet', 'item'],\n            width: 650,\n            height: 450,\n            tabs: [{ navSelector: '.tabs', contentSelector: '.sheetbody' }],\n        });\n    }\n\n    get template() {\n        const path = 'systems/shadowrun5e/dist/templates/item/';\n        return `${path}${this.item.data.type}.html`;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Prepare data for rendering the Item sheet\n     * The prepared data object contains both the actor data as well as additional sheet options\n     */\n    getData() {\n        const data = super.getData();\n        const itemData = data.data;\n\n        if (itemData.action) {\n            try {\n                const { action } = itemData;\n                if (action.mod === 0) delete action.mod;\n                if (action.limit === 0) delete action.limit;\n                if (action.damage) {\n                    if (action.damage.mod === 0) delete action.damage.mod;\n                    if (action.damage.ap.mod === 0) delete action.damage.ap.mod;\n                }\n                if (action.limit) {\n                    if (action.limit.mod === 0) delete action.limit.mod;\n                }\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        if (itemData.technology) {\n            try {\n                const tech = itemData.technology;\n                if (tech.rating === 0) delete tech.rating;\n                if (tech.quantity === 0) delete tech.quantity;\n                if (tech.cost === 0) delete tech.cost;\n            } catch (e) {\n                console.log(e);\n            }\n        }\n\n        data['config'] = CONFIG.SR5;\n        const items = this.getEmbeddedItems();\n        const [ammunition, weaponMods, armorMods] = items.reduce(\n            (parts: [Item.Data[], Item.Data[], Item.Data[]], item: SR5Item) => {\n                if (item.type === 'ammo') parts[0].push(item.data);\n                if (item.type === 'modification' && \"type\" in item.data.data && item.data.data.type === 'weapon') parts[1].push(item.data);\n                if (item.type === 'modification' && \"type\" in item.data.data && item.data.data.type === 'armor') parts[2].push(item.data);\n                return parts;\n            },\n            [[], [], []],\n        );\n        data['ammunition'] = ammunition;\n        data['weaponMods'] = weaponMods;\n        data['armorMods'] = armorMods;\n        data['activeSkills'] = this._getSortedActiveSkillsForSelect();\n        data['attributes'] = this._getSortedAttributesForSelect();\n        data['limits'] = this._getSortedLimitsForSelect();\n\n        return data;\n    }\n\n    /**\n     * Action limits currently contain limits for all action types. Be it matrix, magic or physical.\n     */\n    _getSortedLimitsForSelect(): Record<string, string> {\n        return Helpers.sortConfigValuesByTranslation(SR5.limits);\n    }\n\n    /**\n     * Only display\n     */\n    _getSortedAttributesForSelect(): Record<string, string> {\n        return Helpers.sortConfigValuesByTranslation(SR5.attributes);\n    }\n\n    _getSortedActiveSkillsForSelect() {\n        if (!this.item.actor) return SR5.activeSkills;\n        const activeSkills = Helpers.sortSkills(this.item.actor.getActiveSkills());\n\n        const activeSkillsForSelect = {};\n        for (const [id, skill] of Object.entries(activeSkills)) {\n            // Legacy skills have no name, but their name is their id!\n            // Custom skills have a name and their id is random.\n            const key = skill.name || id;\n            const label = skill.label || skill.name;\n            activeSkillsForSelect[key] = label;\n        }\n\n        return activeSkillsForSelect;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Activate event listeners using the prepared sheet HTML\n     * @param html -  The prepared HTML object ready to be rendered into the DOM\n     */\n    activateListeners(html) {\n        super.activateListeners(html);\n        if (this.item.type === 'weapon') {\n            //@ts-ignore // TODO: Somehow Jquery doesn't have drag/drop in typing\n            this.form.ondragover = (event) => this._onDragOver(event);\n            //@ts-ignore // TODO: Somehow Jquery doesn't have drag/drop in typing\n            this.form.ondrop = (event) => this._onDrop(event);\n        }\n        html.find('.add-new-ammo').click(this._onAddNewAmmo.bind(this));\n        html.find('.ammo-equip').click(this._onAmmoEquip.bind(this));\n        html.find('.ammo-delete').click(this._onAmmoRemove.bind(this));\n        html.find('.ammo-reload').click(this._onAmmoReload.bind(this));\n\n        html.find('.edit-item').click(this._onEditItem.bind(this));\n\n        html.find('.add-new-mod').click(this._onAddWeaponMod.bind(this));\n        html.find('.mod-equip').click(this._onWeaponModEquip.bind(this));\n        html.find('.mod-delete').click(this._onWeaponModRemove.bind(this));\n\n        html.find('.add-new-license').click(this._onAddLicense.bind(this));\n        html.find('.license-delete').on('click', this._onRemoveLicense.bind(this));\n\n        html.find('.open-source-pdf').on('click', this._onOpenSourcePdf.bind(this));\n\n        html.find('.has-desc').click((event) => {\n            event.preventDefault();\n            const item = $(event.currentTarget).parents('.list-item');\n            const iid = $(item).data().item;\n            const field = item.next();\n            field.toggle();\n            if (iid) {\n                if (field.is(':visible')) this._shownDesc.push(iid);\n                else this._shownDesc = this._shownDesc.filter((val) => val !== iid);\n            }\n        });\n\n        html.find('.hidden').hide();\n    }\n\n    _onDragOver(event) {\n        event.preventDefault();\n        return false;\n    }\n\n    async _onDrop(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        let data;\n        try {\n            data = JSON.parse(event.dataTransfer.getData('text/plain'));\n            if (data.type !== 'Item') {\n                console.log('Shadowrun5e | Can only drop Items');\n            }\n        } catch (err) {\n            console.log('Shadowrun5e | drop error');\n        }\n        let item;\n        // Case 1 - Data explicitly provided\n        if (data.data) {\n            // TODO test\n            if (this.item.isOwned && data.actorId === this.item.actor?._id && data.data._id === this.item._id) {\n                console.log('Shadowrun5e | Cant drop item on itself');\n                // @ts-ignore\n                ui.notifications.error('Are you trying to break the game??');\n            }\n            item = data;\n        } else if (data.pack) {\n            console.log(data);\n            // Case 2 - From a Compendium Pack\n            // TODO test\n            item = await this._getItemFromCollection(data.pack, data.id);\n        } else {\n            // Case 3 - From a World Entity\n            item = game.items.get(data.id);\n        }\n\n        this.item.createOwnedItem(item.data);\n    }\n\n    _getItemFromCollection(collection, itemId) {\n        const pack = game.packs.find((p) => p.collection === collection);\n        return pack.getEntity(itemId);\n    }\n\n    _eventId(event) {\n        event.preventDefault();\n        return event.currentTarget.closest('.list-item').dataset.itemId;\n    }\n\n    async _onOpenSourcePdf(event) {\n        event.preventDefault();\n        await this.item.openPdfSource();\n    }\n\n    async _onEditItem(event) {\n        const item = this.item.getOwnedItem(this._eventId(event));\n        if (item) {\n            item.sheet.render(true);\n        }\n    }\n\n    async _onAddLicense(event) {\n        event.preventDefault();\n        await this.item.addNewLicense();\n    }\n\n    async _onRemoveLicense(event) {\n        event.preventDefault();\n        const index = event.currentTarget.dataset.index;\n        if (index >= 0) await this.item.removeLicense(index);\n    }\n\n    async _onWeaponModRemove(event) {\n        await this._onOwnedItemRemove(event);\n    }\n\n    async _onWeaponModEquip(event) {\n        await this.item.equipWeaponMod(this._eventId(event));\n    }\n\n    async _onAddWeaponMod(event) {\n        event.preventDefault();\n        const type = 'modification';\n        const itemData = {\n            name: `New ${Helpers.label(type)}`,\n            type: type,\n            data: duplicate(game.system.model.Item.modification),\n        };\n        itemData.data.type = 'weapon';\n        // @ts-ignore\n        const item = Item.createOwned(itemData, this.item);\n        await this.item.createOwnedItem(item.data);\n    }\n\n    async _onAmmoReload(event) {\n        event.preventDefault();\n        await this.item.reloadAmmo();\n    }\n\n    async _onAmmoRemove(event) {\n        await this._onOwnedItemRemove(event);\n    }\n\n    async _onAmmoEquip(event) {\n        await this.item.equipAmmo(this._eventId(event));\n    }\n\n    async _onAddNewAmmo(event) {\n        event.preventDefault();\n        const type = 'ammo';\n        const itemData = {\n            name: `New ${Helpers.label(type)}`,\n            type: type,\n            data: duplicate(game.system.model.Item.ammo),\n        };\n        // @ts-ignore\n        const item = Item.createOwned(itemData, this.item);\n        await this.item.createOwnedItem(item.data);\n    }\n\n    async _onOwnedItemRemove(event) {\n         event.preventDefault();\n\n        const userConsented = await Helpers.confirmDeletion();\n        if (!userConsented) return;\n\n        await this.item.deleteOwnedItem(this._eventId(event));\n    }\n\n    /**\n     * @private\n     */\n    _findActiveList() {\n        return $(this.element).find('.tab.active .scroll-area');\n    }\n\n    /** This is needed to circumvent Application.close setting closed state early, due to it's async animation\n     * - The length of the closing animation can't be longer then any await time in the closing cycle\n     * - FormApplication._onSubmit will otherwise set ._state to RENDERED even if the Application window has closed already\n     * - Subsequent render calls then will show the window again, due to it's state\n     *\n     * @private\n     */\n    private fixStaleRenderedState() {\n        if (this._state === Application.RENDER_STATES.RENDERED && ui.windows[this.appId] === undefined) {\n            console.warn(`SR5ItemSheet app for ${this.entity.name} is set as RENDERED but has no window registered. Fixing app internal render state. This is a known bug.`);\n            // Hotfixing instead of this.close() since FormApplication.close() expects form elements, which don't exist anymore.\n            this._state = Application.RENDER_STATES.CLOSED;\n        }\n    }\n\n    /**\n     * @private\n     */\n    async _render(force = false, options = {}) {\n        // NOTE: This is for a timing bug. See function doc for code removal. Good luck, there be dragons here. - taM\n        this.fixStaleRenderedState();\n\n        this._saveScrollPositions();\n        await super._render(force, options);\n        this._restoreScrollPositions();\n    }\n\n    /**\n     * @private\n     */\n    _restoreScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length && this._scroll != null) {\n            activeList.prop('scrollTop', this._scroll);\n        }\n    }\n\n    /**\n     * @private\n     */\n    _saveScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length) {\n            this._scroll = activeList.prop('scrollTop');\n        }\n    }\n}\n","/**\n * Create a Macro from an Item drop.\n * Get an existing item macro if one exists, otherwise create a new one.\n * @param {Object} item     The item data\n * @param {number} slot     The hotbar slot to use\n * @returns {Promise}\n */\nexport async function createItemMacro(item, slot) {\n    const command = `game.shadowrun5e.rollItemMacro(\"${item.name}\");`;\n    let macro = game.macros.entities.find((m) => m.name === item.name);\n    if (!macro) {\n        macro = (await Macro.create(\n            {\n                name: item.name,\n                type: 'script',\n                img: item.img,\n                command: command,\n                flags: { 'shadowrun5e.itemMacro': true },\n            },\n            { displaySheet: false },\n        )) as Macro;\n    }\n    if (macro) game.user.assignHotbarMacro(macro, slot);\n}\n\n/**\n * Create a Macro from an Item drop.\n * Get an existing item macro if one exists, otherwise create a new one.\n * @param {string} itemName\n * @return {Promise}\n */\nexport function rollItemMacro(itemName) {\n    const speaker = ChatMessage.getSpeaker();\n    let actor;\n    if (speaker.token) actor = game.actors.tokens[speaker.token];\n    if (!actor) actor = game.actors.get(speaker.actor);\n    const item = actor ? actor.items.find((i) => i.name === itemName) : null;\n    if (!item) {\n        // @ts-ignore\n        return ui.notifications.warn(`Your controlled Actor does not have an item named ${itemName}`);\n    }\n\n    return item.castAction();\n}","import { HandlebarManager } from './handlebars/HandlebarManager';\nimport {HooksManager} from \"./hooks\";\n\n/* -------------------------------------------- */\n/*  Foundry VTT Initialization                  */\n/* -------------------------------------------- */\n\n\nHooksManager.registerHooks();\nHandlebarManager.registerHelpers();","import { VersionMigration } from './VersionMigration';\nimport { LegacyMigration } from './versions/LegacyMigration';\nimport { Version0_6_5 } from './versions/Version0_6_5';\nimport { Version0_6_10 } from './versions/Version0_6_10';\nimport {Version0_7_2} from \"./versions/Version0_7_2\";\n\ntype VersionDefinition = {\n    versionNumber: string;\n    migration: VersionMigration;\n};\nexport class Migrator {\n    // Map of all version migrations to their target version numbers.\n    private static readonly s_Versions: VersionDefinition[] = [\n        { versionNumber: LegacyMigration.TargetVersion, migration: new LegacyMigration() },\n        { versionNumber: Version0_6_5.TargetVersion, migration: new Version0_6_5() },\n        { versionNumber: Version0_6_10.TargetVersion, migration: new Version0_6_10() },\n        { versionNumber: Version0_7_2.TargetVersion, migration: new Version0_7_2() },\n    ];\n\n    //TODO: Call on Init()\n    public static async BeginMigration() {\n        let currentVersion = game.settings.get(VersionMigration.MODULE_NAME, VersionMigration.KEY_DATA_VERSION);\n        if (currentVersion === undefined || currentVersion === null) {\n            currentVersion = VersionMigration.NO_VERSION;\n        }\n\n        const migrations = Migrator.s_Versions.filter(({ versionNumber }) => {\n            // if versionNUmber is greater than currentVersion, we need to apply this migration\n            return this.compareVersion(versionNumber, currentVersion) === 1;\n        });\n\n        // No migrations are required, exit.\n        if (migrations.length === 0) {\n            return;\n        }\n\n        const localizedWarningTitle = game.i18n.localize('SR5.MIGRATION.WarningTitle');\n        const localizedWarningHeader = game.i18n.localize('SR5.MIGRATION.WarningHeader');\n        const localizedWarningRequired = game.i18n.localize('SR5.MIGRATION.WarningRequired');\n        const localizedWarningDescription = game.i18n.localize('SR5.MIGRATION.WarningDescription');\n        const localizedWarningBackup = game.i18n.localize('SR5.MIGRATION.WarningBackup');\n        const localizedWarningBegin = game.i18n.localize('SR5.MIGRATION.BeginMigration');\n\n        const d = new Dialog({\n            title: localizedWarningTitle,\n            content:\n                `<h2 style=\"color: red; text-align: center\">${localizedWarningHeader}</h2>` +\n                `<p style=\"text-align: center\"><i>${localizedWarningRequired}</i></p>` +\n                `<p>${localizedWarningDescription}</p>` +\n                `<h3 style=\"color: red\">${localizedWarningBackup}</h3>`,\n            buttons: {\n                ok: {\n                    label: localizedWarningBegin,\n                    callback: () => this.migrate(migrations),\n                },\n            },\n            default: 'ok',\n        });\n        d.render(true);\n    }\n\n    private static async migrate(migrations: VersionDefinition[]) {\n        // we want to apply migrations in ascending order until we're up to the latest\n        migrations.sort((a, b) => {\n            return this.compareVersion(a.versionNumber, b.versionNumber);\n        });\n\n        await this.migrateWorld(game, migrations);\n        await this.migrateCompendium(game, migrations);\n\n        const localizedWarningTitle = game.i18n.localize('SR5.MIGRATION.SuccessTitle');\n        const localizedWarningHeader = game.i18n.localize('SR5.MIGRATION.SuccessHeader');\n        const localizedSuccessDescription = game.i18n.localize('SR5.MIGRATION.SuccessDescription');\n        const localizedSuccessPacksInfo = game.i18n.localize('SR5.MIGRATION.SuccessPacksInfo');\n        const localizedSuccessConfirm = game.i18n.localize('SR5.MIGRATION.SuccessConfirm');\n        const packsDialog = new Dialog({\n            title: localizedWarningTitle,\n            content:\n                `<h2 style=\"text-align: center; color: green\">${localizedWarningHeader}</h2>` +\n                `<p>${localizedSuccessDescription}</p>` +\n                `<p style=\"text-align: center\"><i>${localizedSuccessPacksInfo}</i></p>`,\n            buttons: {\n                ok: {\n                    icon: '<i class=\"fas fa-check\"></i>',\n                    label: localizedSuccessConfirm,\n                },\n            },\n            default: 'ok',\n        });\n        packsDialog.render(true);\n    }\n\n    /**\n     * Migrate all world objects\n     * @param game\n     * @param migrations\n     */\n    private static async migrateWorld(game: Game, migrations: VersionDefinition[]) {\n        // Run the migrations in order\n        for (const { migration } of migrations) {\n            await migration.Migrate(game);\n        }\n    }\n\n    /**\n     * Iterate over all world compendium packs\n     * @param game Game that will be migrated\n     * @param migrations Instances of the version migration\n     */\n    private static async migrateCompendium(game: Game, migrations: VersionDefinition[]) {\n        // Migrate World Compendium Packs\n        const packs = game.packs.filter((pack) => pack.metadata.package === 'world' && ['Actor', 'Item', 'Scene'].includes(pack.metadata.entity));\n\n        // Run the migrations in order on each pack.\n        for (const pack of packs) {\n            for (const { migration } of migrations) {\n                await migration.MigrateCompendiumPack(pack);\n            }\n        }\n    }\n\n    // found at: https://helloacm.com/the-javascript-function-to-compare-version-number-strings/\n    // updated for typescript\n    /**\n     * compare two version numbers, returns 1 if v1 > v2, -1 if v1 < v2, 0 if equal\n     * @param v1\n     * @param v2\n     */\n    public static compareVersion(v1: string, v2: string) {\n        const s1 = v1.split('.').map((s) => parseInt(s, 10));\n        const s2 = v2.split('.').map((s) => parseInt(s, 10));\n        const k = Math.min(v1.length, v2.length);\n        for (let i = 0; i < k; ++i) {\n            if (s1[i] > s2[i]) return 1;\n            if (s1[i] < s2[i]) return -1;\n        }\n        return v1.length === v2.length ? 0 : v1.length < v2.length ? -1 : 1;\n    }\n}\n","import { SR5Actor } from '../actor/SR5Actor';\n\n/**\n * Converts a game's data model from source version to a target version.\n * Extending classes are only required to handle items, actors, and scenes,\n *  other methods are implementable purely for convenience and atomicity.\n */\nexport abstract class VersionMigration {\n    static readonly MODULE_NAME = 'shadowrun5e';\n    static readonly KEY_DATA_VERSION = 'systemMigrationVersion';\n    static readonly NO_VERSION = '0';\n\n    private m_Abort: boolean = false;\n    private m_AbortReason: string;\n\n    /**\n     * The allowed version this migrator should be able to operate on.\n     */\n    public abstract get SourceVersion(): string;\n    /**\n     * The resulting version this migrator will produce.\n     */\n    public abstract get TargetVersion(): string;\n\n    public get SourceVersionFriendlyName(): string {\n        return `v${this.SourceVersion}`;\n    }\n    public get TargetVersionFriendlyName(): string {\n        return `v${this.TargetVersion}`;\n    }\n\n    /**\n     * Flag the migration to be aborted.\n     * @param reason The reason that the migration must be aborted, to be displayed\n     *  to the user and returned from the migration call.\n     */\n    protected abort(reason: string): void {\n        this.m_Abort = true;\n        this.m_AbortReason = reason;\n        // @ts-ignore\n        ui.notifications.error(`Data migration has been aborted: ${reason}`, { permanent: true });\n    }\n\n    /**\n     * Begin migration for the specified game.\n     * @param game The world that should be migrated.\n     */\n    public async Migrate(game: Game) {\n        // @ts-ignore TODO Unignore when Foundry Types updates\n        ui.notifications.info(`${game.i18n.localize('SR5.MIGRATION.BeginNotification')} ${this.SourceVersionFriendlyName} -> ${this.TargetVersionFriendlyName}.`);\n        // @ts-ignore TODO Unignore when Foundry Types updates\n        ui.notifications.warn(game.i18n.localize('SR5.MIGRATION.DoNotCloseNotification'), {\n            permanent: true,\n        });\n\n        // Map of entities to update, store until later to reduce chance of partial updates\n        // which may result in impossible game states.\n        const entityUpdates: Map<Entity, EntityUpdate> = new Map<Entity, EntityUpdate>();\n\n        // Migrate World Items\n        await this.PreMigrateItemData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n        await this.IterateItems(game, entityUpdates);\n        await this.PostMigrateItemData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n\n        // Migrate World Actors\n        await this.PreMigrateActorData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n        await this.IterateActors(game, entityUpdates);\n        await this.PostMigrateActorData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n\n        // Migrate Actor Tokens\n        await this.PreMigrateSceneData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n        await this.IterateScenes(game, entityUpdates);\n        await this.PostMigrateSceneData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n\n        // Apply the updates, this should *always* work, now that parsing is complete.\n        await this.Apply(entityUpdates);\n\n        await game.settings.set(VersionMigration.MODULE_NAME, VersionMigration.KEY_DATA_VERSION, this.TargetVersion);\n        // @ts-ignore TODO Unignore when Foundry Types updates\n        ui.notifications.info(`${game.i18n.localize('SR5.MIGRATION.SuccessNotification')} ${this.TargetVersion}.`, { permanent: true });\n    }\n\n    /**\n     * Applies the specified mapping of entities, iteratively updating each.\n     * @param entityUpdates A mapping of entity updateData pairs.\n     */\n    protected async Apply(entityUpdates: Map<Entity, EntityUpdate>) {\n        for (const [entity, { updateData, embeddedItems }] of entityUpdates) {\n            if (embeddedItems !== null) {\n                const actor = entity as SR5Actor;\n                await actor.updateOwnedItem(embeddedItems);\n            }\n            await entity.update(updateData, { enforceTypes: false });\n        }\n    }\n\n    /**\n     * Iterate through all scenes and migrate each if needed.\n     * @param game\n     * @param entityUpdates\n     */\n    protected async IterateScenes(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\n        //@ts-ignore  // TypeScript expects entries (Collection.entries) to be a call, yet it's a get property.\n        for (const scene of game.scenes.entries) {\n            try {\n                if (!(await this.ShouldMigrateSceneData(scene))) {\n                    continue;\n                }\n\n                if (scene._id === 'MAwSFhlXRipixOWw') {\n                    console.log('Scene Pre-Update');\n                    console.log(scene);\n                }\n\n                console.log(`Migrating Scene entity ${scene.name}`);\n                const updateData = await this.MigrateSceneData(duplicate(scene.data));\n\n                let hasTokenUpdates = false;\n                updateData.tokens = await Promise.all(\n                    // @ts-ignore\n                    scene.data.tokens.map(async (token) => {\n                        if (isObjectEmpty(token.actorData)) {\n                            return token;\n                        }\n\n                        let tokenDataUpdate = await this.MigrateActorData(token.actorData);\n                        if (!isObjectEmpty(tokenDataUpdate)) {\n                            hasTokenUpdates = true;\n                            tokenDataUpdate['_id'] = token._id;\n\n                            const newToken = duplicate(token);\n                            newToken.actorData = await mergeObject(token.actorData, tokenDataUpdate, {\n                                enforceTypes: false,\n                                inplace: false,\n                            });\n                            console.log(newToken);\n                            return newToken;\n                        } else {\n                            return token;\n                        }\n                    }),\n                );\n                if (scene._id === 'MAwSFhlXRipixOWw') {\n                    console.log('Scene Pre-Update');\n                    console.log(scene);\n                }\n\n                if (isObjectEmpty(updateData)) {\n                    continue;\n                }\n\n                expandObject(updateData);\n                entityUpdates.set(scene, {\n                    updateData,\n                    embeddedItems: null,\n                });\n            } catch (error) {\n                console.error(error);\n                return Promise.reject(error);\n            }\n        }\n    }\n    /**\n     * Iterate through all items and migrate each if needed.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async IterateItems(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\n        for (const item of game.items.entities) {\n            try {\n                if (!(await this.ShouldMigrateItemData(item.data))) {\n                    continue;\n                }\n\n                console.log(`Migrating Item: ${item.name}`);\n                const updateData = await this.MigrateItemData(item.data);\n\n                if (isObjectEmpty(updateData)) {\n                    continue;\n                }\n\n                expandObject(updateData);\n                entityUpdates.set(item, {\n                    updateData,\n                    embeddedItems: null,\n                });\n            } catch (error) {\n                console.error(error);\n                return Promise.reject(error);\n            }\n        }\n    }\n    /**\n     * Iterate through all actors and migrate each if needed.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async IterateActors(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\n        for (const actor of game.actors.entities) {\n            try {\n                if (!(await this.ShouldMigrateActorData(actor.data))) {\n                    continue;\n                }\n\n                console.log(`Migrating Actor ${actor.name}`);\n                console.log(actor);\n                const updateData = await this.MigrateActorData(duplicate(actor.data));\n                console.log(updateData);\n                let items = [];\n                if (updateData.items) {\n                    items = updateData.items;\n                    delete updateData.items;\n                }\n\n                expandObject(updateData);\n\n                entityUpdates.set(actor, {\n                    updateData,\n                    embeddedItems: items,\n                });\n            } catch (error) {\n                console.error(error);\n                return Promise.reject(error);\n            }\n        }\n    }\n\n    /**\n     * Iterate over an actor's items, updating those that need updating.\n     * @param actorData The actor to iterate over\n     * @param updateData The existing update data to merge into\n     */\n    protected async IterateActorItems(actorData: Actor.Data, updateData) {\n        let hasItemUpdates = false;\n        // @ts-ignore\n        if (actorData.items !== undefined) {\n            const items = await Promise.all(\n                // @ts-ignore\n                actorData.items.map(async (item) => {\n                    let itemUpdate = await this.MigrateItemData(item);\n\n                    if (!isObjectEmpty(itemUpdate)) {\n                        hasItemUpdates = true;\n                        itemUpdate['_id'] = item._id;\n                        return await mergeObject(item, itemUpdate, {\n                            enforceTypes: false,\n                            inplace: false,\n                        });\n                    } else {\n                        return item;\n                    }\n                }),\n            );\n            if (hasItemUpdates) {\n                updateData.items = items;\n            }\n        }\n\n        return updateData;\n    }\n\n    /**\n     * Check if a scene requires updates.\n     * @param scene The scene to check.\n     * @return A promise that resolves true or false.\n     */\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        return false;\n    }\n    /**\n     * Migrate the specified scene's data.\n     * @param scene The scene to migrate.\n     * @return A promise that resolves with the update data.\n     */\n    protected async MigrateSceneData(scene: any): Promise<any> {\n        return {};\n    }\n    /**\n     * Do something right before scene data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PreMigrateSceneData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n    /**\n     * Do something right before scene data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PostMigrateSceneData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n\n    /**\n     * Check if an item requires updates.\n     * @param item The item to check.\n     * @return A promise that resolves true or false.\n     */\n    protected async ShouldMigrateItemData(item: Entity.Data): Promise<boolean> {\n        return false;\n    }\n    /**\n     * Migrate the specified item's data.\n     * @param item The item to migrate.\n     * @return A promise that resolves with the update data.\n     */\n    protected async MigrateItemData(item: Entity.Data): Promise<any> {\n        return {};\n    }\n    /**\n     * Do something right before item data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PreMigrateItemData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n    /**\n     * Do something right before item data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PostMigrateItemData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n\n    /**\n     * Check if an actor requires updates.\n     * @param actor The actor to check.\n     * @return A promise that resolves true or false.\n     */\n    protected async ShouldMigrateActorData(actor: Actor.Data): Promise<boolean> {\n        return false;\n    }\n    /**\n     * Migrate the specified actor's data.\n     * @param actor The actor to migrate.\n     * @return A promise that resolves with the update data.\n     */\n    protected async MigrateActorData(actor: Actor.Data): Promise<any> {\n        return {};\n    }\n    /**\n     * Do something right before actor data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PreMigrateActorData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n    /**\n     * Do something right after actor data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PostMigrateActorData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n\n    /**\n     * Migrate a compendium pack\n     * @param pack\n     */\n    public async MigrateCompendiumPack(pack: Compendium) {\n        const entity = pack.metadata.entity;\n        if (!['Actor', 'Item', 'Scene'].includes(entity)) return;\n\n        // Begin by requesting server-side data model migration and get the migrated content\n        await pack.migrate({});\n        const content = await pack.getContent();\n\n        // Iterate over compendium entries - applying fine-tuned migration functions\n        for (let ent of content) {\n            try {\n                let updateData: any = null;\n                if (entity === 'Item') {\n                    updateData = await this.MigrateItemData(ent.data);\n\n                    if (isObjectEmpty(updateData)) {\n                        continue;\n                    }\n\n                    expandObject(updateData);\n                    updateData['_id'] = ent._id;\n                    await pack.updateEntity(updateData);\n                    // TODO: Uncomment when foundry allows embeddeds to be updated in packs\n                    // } else if (entity === 'Actor') {\n                    //     updateData = await this.MigrateActorData(ent.data);\n                    //\n                    //     if (isObjectEmpty(updateData)) {\n                    //         continue;\n                    //     }\n                    //\n                    //     updateData['_id'] = ent._id;\n                    //     await pack.updateEntity(updateData);\n                } else if (entity === 'Scene') {\n                    updateData = await this.MigrateSceneData(ent.data);\n\n                    if (isObjectEmpty(updateData)) {\n                        continue;\n                    }\n\n                    expandObject(updateData);\n                    updateData['_id'] = ent._id;\n                    await pack.updateEntity(updateData);\n                }\n            } catch (err) {\n                console.error(err);\n            }\n        }\n        console.log(`Migrated all ${entity} entities from Compendium ${pack.collection}`);\n    }\n}\n\ntype EntityUpdate = {\n    updateData: any;\n    embeddedItems: null | any[];\n};\n","import { VersionMigration } from '../VersionMigration';\n\n/**\n * Migrates the data model for Legacy migrations prior to 0.6.4\n */\nexport class LegacyMigration extends VersionMigration {\n    get SourceVersion(): string {\n        return '0';\n    }\n    get TargetVersion(): string {\n        return LegacyMigration.TargetVersion;\n    }\n    static get TargetVersion(): string {\n        return '0.6.4';\n    }\n\n    protected async MigrateActorData(actorData: Actor.Data): Promise<any> {\n        let updateData: any = {};\n        LegacyMigration.migrateActorOverflow(actorData, updateData);\n        LegacyMigration.migrateActorSkills(actorData, updateData);\n\n        updateData = await this.IterateActorItems(actorData, updateData);\n\n        return updateData;\n    }\n\n    protected async MigrateItemData(item: Entity.Data): Promise<any> {\n        const updateData = {};\n        LegacyMigration.migrateDamageTypeAndElement(item, updateData);\n        LegacyMigration.migrateItemsAddActions(item, updateData);\n        LegacyMigration.migrateActorOverflow(item, updateData);\n        LegacyMigration.migrateItemsAddCapacity(item, updateData);\n        LegacyMigration.migrateItemsAmmo(item, updateData);\n        LegacyMigration.migrateItemsConceal(item, updateData);\n        return updateData;\n    }\n\n    protected async MigrateSceneData(scene: any): Promise<any> {\n        return {};\n    }\n\n    protected async ShouldMigrateActorData(actorData: Actor.Data): Promise<boolean> {\n        return true;\n    }\n\n    protected async ShouldMigrateItemData(item: Entity.Data): Promise<boolean> {\n        return true;\n    }\n\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        // @ts-ignore\n        return scene.data.tokens?.length > 0;\n    }\n\n    /**\n     * Migrate actor overflow from an integer to an object\n     * - it wasn't even displayed before so we know it is 0\n     * @param actorData\n     * @param updateData\n     */\n    private static migrateActorOverflow(actorData, updateData) {\n        if (getProperty(actorData.data, 'track.physical.overflow') === 0) {\n            updateData['data.track.physical.overflow.value'] = 0;\n            updateData['data.track.physical.overflow.max'] = 0;\n        }\n    }\n\n    /**\n     * Migrate actor skills specializations to be a list instead of string\n     * @param actorData\n     * @param updateData\n     */\n    private static migrateActorSkills(actorData, updateData) {\n        if (!actorData.data?.skills?.active) return;\n        const splitRegex = /[,\\/|.]+/;\n\n        const reducer = (running, [key, val]) => {\n            if (!Array.isArray(val.specs) && val.specs) {\n                running[key] = {\n                    specs: val.specs.split(splitRegex).filter((s) => s !== ''),\n                };\n            }\n            return running;\n        };\n\n        if (actorData.data.skills) {\n            updateData['data.skills.active'] = Object.entries(actorData.data.skills.active).reduce(reducer, {});\n            if (actorData.data.skills.knowledge) {\n                updateData['data.skills.knowledge.street.value'] = Object.entries(actorData.data.skills?.knowledge?.street?.value).reduce(reducer, {});\n                updateData['data.skills.knowledge.professional.value'] = Object.entries(actorData.data.skills?.knowledge?.professional?.value).reduce(reducer, {});\n                updateData['data.skills.knowledge.academic.value'] = Object.entries(actorData.data.skills?.knowledge?.academic?.value).reduce(reducer, {});\n                updateData['data.skills.knowledge.interests.value'] = Object.entries(actorData.data.skills?.knowledge?.interests?.value).reduce(reducer, {});\n            }\n            if (actorData.data.skills.language) {\n                updateData['data.skills.language.value'] = Object.entries(actorData.data.skills?.language?.value).reduce(reducer, {});\n            }\n        }\n    }\n\n    /**\n     *\n     * @param item\n     * @param updateData\n     */\n    private static migrateDamageTypeAndElement(item, updateData) {\n        // console.log('Migrating Damage and Elements');\n        if (item.data.action) {\n            const action = item.data.action;\n            if (typeof action.damage.type === 'string') {\n                updateData['data.action.damage.type.base'] = item.data.action.damage.type;\n            }\n            if (typeof action.damage.element === 'string') {\n                updateData['data.action.damage.element.base'] = item.data.action.damage.element;\n            }\n        }\n    }\n\n    /**\n     * Migrate ammo from ranged weapons only to all weapons\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsAmmo(item, updateData) {\n        // console.log('Migrating Ammo');\n        if (item.type === 'weapon' && item.data.ammo === undefined) {\n            let currentAmmo = { value: 0, max: 0 };\n            if (item.data.category === 'range' && item.data.range && item.data.range.ammo) {\n                // copy over ammo count\n                const oldAmmo = item.data.range.ammo;\n                currentAmmo.value = oldAmmo.value;\n                currentAmmo.max = oldAmmo.max;\n            }\n            updateData['data.ammo'] = {\n                spare_clips: {\n                    value: 0,\n                    max: 0,\n                },\n                current: {\n                    value: currentAmmo.value,\n                    max: currentAmmo.max,\n                },\n            };\n        }\n    }\n\n    /**\n     * Migrate conceal name\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsConceal(item, updateData) {\n        if (item.data.technology?.concealability !== undefined) {\n            updateData['data.technology.conceal'] = {\n                base: item.data.technology.concealability,\n            };\n        }\n    }\n\n    /**\n     * Add capacity to items\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsAddCapacity(item, updateData) {\n        if (['cyberware'].includes(item.type)) {\n            if (item.data.capacity === undefined) {\n                updateData.data.capacity = 0;\n            }\n        }\n    }\n\n    /**\n     * Add actions to needed items\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsAddActions(item, updateData) {\n        if (['quality', 'cyberware'].includes(item.type)) {\n            if (item.data.action === undefined) {\n                const action = {\n                    type: '',\n                    category: '',\n                    attribute: '',\n                    attribute2: '',\n                    skill: '',\n                    spec: false,\n                    mod: 0,\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                    },\n                    extended: false,\n                    damage: {\n                        type: '',\n                        element: '',\n                        value: 0,\n                        ap: {\n                            value: 0,\n                        },\n                        attribute: '',\n                    },\n                    opposed: {\n                        type: '',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                };\n                if (!updateData.data) updateData.data = {};\n                updateData.data.action = action;\n            }\n        }\n    }\n}\n","import { VersionMigration } from '../VersionMigration';\nimport SR5ActorType = Shadowrun.SR5ActorType;\n\n/**\n * Add default value of willpower to the full_defense_attribute field\n */\nexport class Version0_6_10 extends VersionMigration {\n    get SourceVersion(): string {\n        return '0.6.9';\n    }\n    get TargetVersion(): string {\n        return Version0_6_10.TargetVersion;\n    }\n    static get TargetVersion(): string {\n        return '0.6.10';\n    }\n\n    protected async MigrateActorData(actorData: SR5ActorType): Promise<any> {\n        if (actorData.data?.attributes?.edge === undefined) return {};\n        return {\n            data: {\n                attributes: {\n                    edge: {\n                        base: actorData.data.attributes.edge.max,\n                        value: actorData.data.attributes.edge.max,\n                        uses: actorData.data.attributes.edge.value,\n                    },\n                },\n            },\n        };\n    }\n\n    protected async ShouldMigrateActorData(actorData: SR5ActorType): Promise<boolean> {\n        return actorData.data.attributes.edge?.uses === undefined;\n    }\n\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        // @ts-ignore\n        return scene.data.tokens?.length > 0;\n    }\n}\n","import { VersionMigration } from '../VersionMigration';\n\n/**\n * Add default value of willpower to the full_defense_attribute field\n */\nexport class Version0_6_5 extends VersionMigration {\n    get SourceVersion(): string {\n        return '0.6.4';\n    }\n    get TargetVersion(): string {\n        return Version0_6_5.TargetVersion;\n    }\n    static get TargetVersion(): string {\n        return '0.6.5';\n    }\n\n    protected async MigrateActorData(actorData: Actor.Data): Promise<any> {\n        let updateData: any = {};\n        if (updateData.data === undefined) updateData.data = {};\n        updateData.data.full_defense_attribute = 'willpower';\n        return updateData;\n    }\n\n    protected async ShouldMigrateActorData(actorData: any): Promise<boolean> {\n        return actorData.data.full_defense_attribute === undefined;\n    }\n\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        // @ts-ignore\n        return scene.data.tokens?.length > 0;\n    }\n}\n","// TODO: How to trigger test migration.\n// TODO: How to test migration results?\n\n\nimport {VersionMigration} from \"../VersionMigration\";\nimport {SR5} from \"../../config\";\nimport SR5ActorBase = Shadowrun.SR5ActorBase;\n\n/** NPC / Grunt feature set\n * - Add npc character data.\n * - Add track disabled feature\n */\nexport class Version0_7_2 extends VersionMigration {\n    get SourceVersion(): string {\n        return '0.7.1';\n    }\n\n    get TargetVersion(): string {\n        return Version0_7_2.TargetVersion;\n    }\n\n    static get TargetVersion(): string {\n        return '0.7.2';\n    }\n\n    static NoNPCDataForCharacter(actorData: SR5ActorBase): boolean {\n        // Use in operator since TypeScript can handle that for union types instead of property usage.\n        return actorData.type === 'character' && (\n            !(\"is_npc\" in actorData?.data) ||\n            !(\"npc\" in actorData?.data)\n        );\n    }\n\n    static UnsupportedMetatype(actorData: SR5ActorBase): boolean {\n        // TODO: Check on CharacterActorData.metatype typing (see ts-ignore)\n        //@ts-ignore // in-operator doesn't work here, as the underlying typing for metatype will result in string | number | undefined\n        const type = actorData.data.metatype?.toLowerCase() ?? '';\n        return actorData.type === 'character' &&\n            SR5.character.types.hasOwnProperty(type);\n    }\n\n    protected async MigrateActorData(actorData: SR5ActorBase): Promise<any> {\n        const updateData: {\n            data?: object,\n            attributes?: object\n        } = {};\n\n        if (Version0_7_2.UnsupportedMetatype(actorData)) {\n            // TODO: Check on CharacterActorData.metatype typing (see ts-ignore)\n            //@ts-ignore // in-operator doesn't work here, as the underlying typing for metatype will result in string | number | undefined\n            const type = actorData.data.metatype?.toLowerCase() ?? '';\n            // TODO: What to do with custom metatypes?\n            const metatypeData = {metatype: SR5.character.types.hasOwnProperty(type) ? type : 'human'};\n            updateData.data = {...updateData.data, ...metatypeData};\n        }\n\n        if (Version0_7_2.NoNPCDataForCharacter(actorData)) {\n            updateData.data = updateData.data ? updateData.data : {};\n            const npcData = {\n                is_npc: false,\n                npc: {\n                    is_grunt: false,\n                    professional_rating: 0\n                }\n            }\n            updateData.data = {...updateData.data, ...npcData};\n        }\n\n        return updateData;\n    }\n\n    protected async ShouldMigrateActorData(actorData: SR5ActorBase): Promise<boolean> {\n        return Version0_7_2.UnsupportedMetatype(actorData) || Version0_7_2.NoNPCDataForCharacter(actorData);\n    }\n}","import ModList = Shadowrun.ModList;\nimport ModListEntry = Shadowrun.ModListEntry;\n\nexport class PartsList<TType> {\n    get list(): ModList<TType> {\n        return this._list.slice();\n    }\n\n    get length(): number {\n        return this._list.length;\n    }\n\n    get total(): number {\n        let total = 0;\n        for (const part of this._list) {\n            if (typeof part.value === 'number') {\n                total += part.value;\n            }\n        }\n        return total;\n    }\n\n    get isEmpty(): boolean {\n        return this.length === 0;\n    }\n\n    getPartValue(name: string): TType | undefined {\n        return this._list.find((part) => part.name === name)?.value;\n    }\n\n    clear(): void {\n        this._list.length = 0;\n    }\n\n    private _list: ModList<TType>;\n\n    constructor(parts?: ModList<TType>) {\n        let actualParts = [] as ModList<TType>;\n        if (parts) {\n            if (Array.isArray(parts)) {\n                actualParts = parts;\n            } else if (typeof parts === 'object') {\n                for (const [name, value] of Object.entries(parts)) {\n                    if (value !== null && value !== undefined) {\n                        // if it's a number, we are dealing with an array as an object\n                        if (!isNaN(Number(name)) && typeof value === 'object') {\n                            actualParts.push({\n                                name: (value as ModListEntry<TType>).name,\n                                value: (value as ModListEntry<TType>).value,\n                            });\n                        } else {\n                            actualParts.push({\n                                name,\n                                value,\n                            } as ModListEntry<TType>);\n                        }\n                    }\n                }\n            }\n        }\n        this._list = actualParts;\n    }\n\n    addPart(name: string, value: TType): void {\n        this._list.push({\n            name,\n            value,\n        });\n    }\n\n    addUniquePart(name: string, value?: TType, overwrite = true): void {\n        const index = this._list.findIndex((part) => part.name === name);\n        if (index > -1) {\n            // if we exist and should've overwrite, return\n            if (!overwrite) return;\n\n            this._list.splice(index, 1);\n            // if we are passed undefined, remove the value\n            if (value === undefined || value === null) return;\n            // recursively go through until we no longer have a part of this name\n            this.addUniquePart(name, value);\n        } else if (value) {\n            this.addPart(name, value);\n        }\n    }\n\n    removePart(name: string): boolean {\n        const index = this._list.findIndex((part) => part.name === name);\n        if (index > -1) {\n            this._list.splice(index, 1);\n            return true;\n        }\n        return false;\n    }\n\n    getMessageOutput() {\n        return this.list;\n    }\n\n    static AddUniquePart<TType>(list: ModList<TType>, name: string, value: TType, overwrite = true): ModList<TType> {\n        const parts = new PartsList(list);\n        parts.addUniquePart(name, value, overwrite);\n        return parts._list;\n    }\n\n    static Total(list: ModList<number>) {\n        const parts = new PartsList(list);\n        return parts.total;\n    }\n}\n","import ModList = Shadowrun.ModList;\nimport RollEvent = Shadowrun.RollEvent;\nimport BaseValuePair = Shadowrun.BaseValuePair;\nimport LabelField = Shadowrun.LabelField;\nimport AttackData = Shadowrun.AttackData;\nimport DamageData = Shadowrun.DamageData;\nimport { Helpers } from '../helpers';\nimport { SR5Actor } from '../actor/SR5Actor';\nimport { SR5Item } from '../item/SR5Item';\nimport {\n    createRollChatMessage, createTargetChatMessage, RollTargetChatMessage,\n    TargetChatMessageOptions\n} from '../chat';\nimport {CORE_FLAGS, CORE_NAME, DEFAULT_ROLL_NAME, FLAGS, SR, SYSTEM_NAME} from '../constants';\nimport { PartsList } from '../parts/PartsList';\nimport {ActionTestData} from \"../apps/dialogs/ShadowrunItemDialog\";\nimport BlastData = Shadowrun.BlastData;\nimport FireModeData = Shadowrun.FireModeData;\nimport DrainData = Shadowrun.DrainData;\nimport {ShadowrunTestDialog} from \"../apps/dialogs/ShadowrunTestDialog\";\nimport ModifiedDamageData = Shadowrun.ModifiedDamageData;\nimport LimitField = Shadowrun.LimitField;\nimport CombatData = Shadowrun.CombatData;\n\n// item, actor, dicePool, attack, defense, spell, form\nexport type Test =  {\n    label: string;\n    type: string;\n}\n\nexport interface TestDialogData {\n    parts: PartsList<number>\n    limit: number\n    wounds: boolean\n    extended: boolean\n    rollMode: keyof typeof CONFIG.Dice.rollModes;\n}\n\ninterface RollProps {\n    parts?: ModList<number>,\n    limit?: any,\n    explodeSixes?: boolean\n}\n\n// TODO: Separate into 'roll data' and 'template data', which only passes through but isn't used.\nexport interface BasicRollProps {\n    parts?: ModList<number>;\n    limit?: LimitField;\n    explodeSixes?: boolean;\n    title?: string;\n    actor?: SR5Actor;\n    target?: Token;\n    item?: SR5Item;\n    // Personal attack\n    attack?: AttackData\n    // Incoming attack for a defense test\n    incomingAttack?: AttackData;\n    damage?: ModifiedDamageData;\n    tests?: Test[];\n    description?: object;\n    previewTemplate?: boolean;\n    hideRollMessage?: boolean;\n    rollMode?: keyof typeof CONFIG.Dice.rollModes;\n    combat?: CombatData\n}\n\n/** Provide a clear interface of which value are guaranteed to be defined.\n     */\nexport interface BasicRollPropsDefaulted extends BasicRollProps {\n    title: string\n    parts: ModList<number>\n    explodeSixes: boolean\n    hideRollMessage: boolean\n    previewTemplate: boolean\n    rollMode: keyof typeof CONFIG.Dice.rollModes\n}\n\nexport interface RollDialogOptions {\n    environmental?: number\n    pool?: boolean\n    extended?: boolean\n    limit?: boolean\n    wounds?: boolean\n}\n\nexport interface AdvancedRollProps extends BasicRollProps {\n    event?: RollEvent;\n    extended?: boolean;\n    wounds?: boolean;\n    after?: (roll: Roll | undefined) => void;\n    attack?: AttackData;\n    fireMode?: FireModeData\n    combat?: CombatData\n}\n\n/** Provide a clear interface of which value are guaranteed to be defined.\n     */\nexport interface AdvancedRollPropsDefaulted extends AdvancedRollProps {\n    parts: ModList<number>\n    wounds: boolean\n}\n\ntype ShadowrunRollData = {\n    limit: number\n    threshold: number\n    parts: ModList<number>\n    explodeSixes: boolean\n}\nexport class ShadowrunRoll extends Roll {\n    data: ShadowrunRollData\n    // add class Roll to the json so dice-so-nice works\n    toJSON(): any {\n        const data = super.toJSON();\n        data.class = 'Roll';\n        return data;\n    }\n\n    get sides(): number[] {\n        //@ts-ignore\n        // 0.7.x foundryVTT\n        if (this.terms) {\n            //@ts-ignore\n            return this.terms[0].results.map(result => result.result);\n        }\n\n        //@ts-ignore\n        // 0.6.x foundryVTT\n        return this.parts[0].rolls.map(roll => roll.roll);\n    }\n\n    get limit(): number {\n        return this.data.limit;\n    }\n\n    get threshold(): number {\n        return this.data.threshold;\n    }\n\n    get parts(): ModList<number> {\n        return this.data.parts;\n    }\n\n    get explodeSixes(): boolean {\n        return this.data.explodeSixes;\n    }\n\n    count(side: number): number {\n        const results = this.sides;\n        return results.reduce((counted, result) => result === side ? counted + 1 : counted, 0);\n    }\n\n    get hits(): number {\n        return this.total;\n    }\n\n    get pool(): number {\n        //@ts-ignore\n        // 0.7.x foundryVTT\n        if (this.terms) {\n            //@ts-ignore\n            return this.dice[0].number;\n        }\n\n        //@ts-ignore\n        // 0.6.x foundryVTT\n        return this.parts[0].rolls.length;\n    }\n\n    get glitched(): boolean {\n        let glitched = 0;\n        SR.die.glitch.forEach(die => glitched += this.count(die));\n        return glitched > Math.floor(this.pool / 2);\n    }\n}\n\nexport class ShadowrunRoller {\n    static async itemRoll(event, item: SR5Item, actionTestData?: ActionTestData): Promise<ShadowrunRoll | undefined> {\n        // Create common data for all item types.\n        const title = item.getRollName();\n        const actor = item.actor;\n        const attack =  item.getAttackData(0, actionTestData);\n        const parts = item.getRollPartsList();\n        const limit = item.getLimit();\n        const extended = item.getExtended();\n        const previewTemplate = item.hasTemplate;\n        const description = item.getChatData();\n        const tests = item.getOpposedTests();\n        const modifiers = await actor.getModifiers();\n\n        // Prepare the roll and dialog.\n        const advancedRollProps = {\n            hideRollMessage: true,\n            event: event,\n            actor,\n            parts,\n            limit,\n            extended,\n            tests\n        } as AdvancedRollProps;\n\n\n        // Reset dialog options to default values and set each according to item types.\n        const advancedDialogOptions = {\n            environmental: 0,\n        } as RollDialogOptions;\n        if (item.applyEnvironmentalModifiers()) {\n            advancedDialogOptions.environmental = modifiers.environmental.total;\n        }\n\n        const roll = await ShadowrunRoller.advancedRoll(advancedRollProps, advancedDialogOptions);\n\n        if (!roll) return;\n\n        if (attack) {\n            attack.hits = roll.hits;\n        }\n\n        // TODO: Separation of concerns. 'Roller' should only roll and prepare to roll.\n        //       Rules should be handled elsewhere. Attack Handler? Ranged, Melee, DirectSpell, IndirectSpell...\n        if (attack && item.isCombatSpell()) {\n            const spellAttack = item.getAttackData(roll.hits, actionTestData);\n            if (spellAttack) attack.damage = spellAttack.damage;\n        }\n\n\n        // Handle user targeting for for targeted messages and display.\n        const targets: Token[] = Helpers.getUserTargets();\n        // Allow for direct defense without token selection for ONE token targeted.\n        const target = targets.length === 1 ? targets[0] : undefined;\n\n        const rollChatOptions = {title, roll, actor, item, attack, previewTemplate, targets, target, description, tests};\n        await createRollChatMessage(rollChatOptions);\n\n        if (tests) {\n            const targetChatOptions = {actor, item, tests, roll, attack}\n            await ShadowrunRoller.targetsChatMessages(targets, targetChatOptions);\n        }\n\n        return roll;\n    }\n\n    static async resultingItemRolls(event, item: SR5Item, actionTestData? : ActionTestData) {\n        // Cast resulting tests from above Success Test depending on item type.\n        if (item.isComplexForm() && actionTestData?.complexForm) {\n            const level = actionTestData.complexForm.level;\n            const fade = item.getFade() + level;\n            const minFade = 2;\n            const totalFade = Math.max(fade, minFade);\n            await item.actor.rollFade({ event }, totalFade);\n        }\n        else if (item.isSpell()) {\n            // if (item.isCombatSpell() && roll) {\n            //     // TODO: isCombatSpell and roll does something but isn't handled.\n            // }\n            if (actionTestData?.spell) {\n                const force = actionTestData.spell.force;\n                const reckless = actionTestData.spell.reckless;\n                const drain = item.getDrain() + force + (reckless ? 3 : 0);\n                const minDrain = 2;\n                const totalDrain = Math.max(drain, minDrain);\n\n                await item.actor.rollDrain({ event }, totalDrain);\n            }\n        }\n        else if (item.isWeapon()) {\n            if (item.hasAmmo() && actionTestData?.rangedWeapon) {\n                const fireMode = actionTestData.rangedWeapon.fireMode.value || 1;\n                await item.useAmmo(fireMode);\n            }\n        }\n    }\n\n    static shadowrunFormula({\n        parts: partsProps,\n        limit,\n        explode,\n    }: {\n        parts: ModList<number>;\n        limit?: BaseValuePair<number> & LabelField;\n        explode?: boolean;\n    }): string {\n        const parts = new PartsList(partsProps);\n        const count = parts.total;\n        if (count <= 0) {\n            ui.notifications.warn(game.i18n.localize('SR5.RollOneDie'));\n            return '0d6cs>=5';\n        }\n        let formula = `${count}d6`;\n        if (explode) {\n            formula += 'x6';\n        }\n        if (limit?.value) {\n            formula += `kh${limit.value}`;\n        }\n        formula += 'cs>=5';\n        return formula;\n    }\n\n    static roll(props: RollProps): ShadowrunRoll|undefined {\n        const parts = new PartsList(props.parts);\n\n        // Prepare SR Success Test with foundry formula.\n        const formulaOptions = { parts: parts.list, limit: props.limit, explode: props.explodeSixes };\n        const formula = this.shadowrunFormula(formulaOptions);\n        if (!formula) {\n            return;\n        }\n\n        // Execute the Success Test.\n        const rollData = {parts: parts.list, limit: props.limit, explodeSixes: props.explodeSixes};\n        const roll = new ShadowrunRoll(formula, rollData);\n\n        // Return roll reference instead roll() return to avoid typing issues.\n        roll.roll();\n\n        return roll;\n    }\n\n    static async basicRoll(basicProps: BasicRollProps): Promise<ShadowrunRoll | undefined> {\n        const props = ShadowrunRoller.basicRollPropsDefaults(basicProps);\n\n        const roll = await ShadowrunRoller.roll({parts: props.parts, limit: props.limit, explodeSixes: props.explodeSixes});\n        if (!roll) return;\n\n        if (!props.hideRollMessage) {\n            await ShadowrunRoller.rollChatMessage(roll, props);\n        }\n\n        return roll;\n    }\n\n    /** Provide a clear interface of which value are guaranteed to be defined.\n     */\n    static basicRollPropsDefaults(props: BasicRollProps): BasicRollPropsDefaulted {\n        props.title = props.title ?? DEFAULT_ROLL_NAME;\n        props.parts = props.parts ?? [];\n        props.explodeSixes = props.explodeSixes ?? false;\n        props.hideRollMessage = props.hideRollMessage ?? false;\n        props.rollMode = props.rollMode ?? CONFIG.Dice.rollModes.roll;\n        props.previewTemplate = props.previewTemplate ?? false;\n\n        return {...props} as BasicRollPropsDefaulted;\n    }\n\n    /** Provide a clear interface of which value are guaranteed to be defined.\n     */\n    static advancedRollPropsDefaults(props: AdvancedRollProps): AdvancedRollPropsDefaulted {\n        props.parts = props.parts ?? [];\n        props.wounds = props.wounds ?? true;\n\n        return {...props} as AdvancedRollPropsDefaulted;\n    }\n\n    /**\n     * Prompt a roll for the user\n     */\n    static promptRoll(): Promise<ShadowrunRoll | undefined> {\n        const value = game.user.getFlag(SYSTEM_NAME, FLAGS.LastRollPromptValue) || 0;\n        const parts = [{ name: 'SR5.LastRoll', value }];\n        const advancedRollProps = { parts, title: game.i18n.localize(\"SR5.Test\")} as AdvancedRollProps;\n        const dialogOptions = { pool: true }\n        return ShadowrunRoller.advancedRoll(advancedRollProps, dialogOptions);\n    }\n\n    /**\n     * Start an advanced roll\n     * - Prompts the user for modifiers\n     */\n    static async advancedRoll(advancedProps: AdvancedRollProps, dialogOptions?: RollDialogOptions): Promise<ShadowrunRoll | undefined> {\n        // Remove after roll callback as to not move it further into other function calls.\n        const {after} = advancedProps;\n\n        const props = ShadowrunRoller.advancedRollPropsDefaults(advancedProps);\n\n        // remove limits if game settings is set\n        if (!game.settings.get(SYSTEM_NAME, FLAGS.ApplyLimits)) {\n            delete props.limit;\n        } else {\n            ShadowrunRoller._errorOnInvalidLimit(props.limit);\n        }\n\n        // Ask user for additional, general success test role modifiers.\n        const testDialogOptions = {\n            title: props.title,\n            dialogOptions,\n            extended: props.extended,\n            limit: props.limit,\n            wounds: props.wounds,\n        };\n\n        const testDialog = await ShadowrunTestDialog.create(props.actor, testDialogOptions, props.parts);\n        const testData = await testDialog.select();\n\n        if (testDialog.canceled) return;\n\n\n        // Prepare Test Roll.\n        const basicRollProps = {...props} as BasicRollPropsDefaulted;\n        // basicRollProps.wounds = testData.wounds;\n        // basicRollProps.dialogOptions = testData.dialogOptions;\n        basicRollProps.rollMode = testData.rollMode;\n        // TODO: This is needed a hotfix... basicRoll is used secondChance and pushTheLimit chat actions.\n        //       If those are handled by advancedRoll (without a dialog) basicRoll message creation can be removed\n        //       and this line as well...\n        basicRollProps.hideRollMessage = true;\n\n\n        if (testDialog.selectedButton === 'edge' && props.actor) {\n            await ShadowrunRoller.handleExplodingSixes(props.actor, basicRollProps, testData);\n        }\n\n        // Build basic roll parts as the LAST step, to avoid missing any parts.\n        basicRollProps.parts = testData.parts.list;\n\n        // Execute Test roll...\n        const roll = await this.basicRoll(basicRollProps);\n        if (!roll) return;\n\n\n        if (!props.hideRollMessage) {\n            await ShadowrunRoller.rollChatMessage(roll, basicRollProps);\n        }\n\n\n        if (testData.extended) {\n            ShadowrunRoller.handleExtendedRoll(props, testData);\n        }\n\n\n        // Call any provided callbacks to be executed after this roll.\n        if (after) await after(roll);\n\n        return roll;\n    }\n\n    static async rollChatMessage(roll: ShadowrunRoll, props: BasicRollPropsDefaulted) {\n        const {actor, target, item, rollMode, description, title, previewTemplate, attack, incomingAttack, damage, tests, combat} = props;\n        const rollChatMessageOptions = {roll, actor, target, item, rollMode, description, title, previewTemplate, attack, incomingAttack, damage, tests, combat};\n        await createRollChatMessage(rollChatMessageOptions);\n    }\n\n    /** Send a message to the specific targeted player given.\n     *\n     * Use targetsChatMessages for a simple way to send to all active player targets.\n     *\n     * Should a target have multiple user owners, each will get a message.\n     *\n     * @param options\n     */\n    static async targetChatMessage(options: RollTargetChatMessage) {\n        if (!game.settings.get(SYSTEM_NAME, FLAGS.WhisperOpposedTestsToTargetedPlayers)) return;\n\n        const rollMode = options.rollMode ?? game.settings.get(CORE_NAME, CORE_FLAGS.RollMode);\n        if (rollMode === 'roll') return;\n\n        // @ts-ignore // Token.actor is of type Actor instead of SR5Actor\n        const users = options.target.actor.getActivePlayerOwners();\n\n        for (const user of users) {\n            if (user.isGM) continue;\n            if (user === game.user) continue;\n\n            const targetChatMessage = {\n                actor: options.actor, target: options.target, targets: [options.target], item: options.item,\n                tests: options.tests, whisperTo: user, attack: options.attack\n            } as TargetChatMessageOptions;\n            await createTargetChatMessage(targetChatMessage);\n        }\n    }\n\n    /** Send messages to ALL targets, no matter if specifically targeted in a action dialog.\n     *\n     * This can cause for multiple target whispers to happen, even if the active player only selected one\n     * during, for example, the ranged weapon dialog (which gives a selection and returns one)\n     *\n     *\n     * @param options\n     */\n    static async targetsChatMessages(targets: Token[], options: RollTargetChatMessage) {\n        if (!game.settings.get(SYSTEM_NAME, FLAGS.WhisperOpposedTestsToTargetedPlayers)) return;\n\n        targets.forEach(target => {\n            // @ts-ignore // Token.actor is of type Actor instead of SR5Actor\n            if (!target.actor.hasActivePlayerOwner()) return;\n\n            options = {...options, target};\n            ShadowrunRoller.targetChatMessage(options);\n        })\n    }\n\n    static _errorOnInvalidLimit(limit?: LimitField) {\n        if (limit && limit.value < 0) {\n            ui.notifications.error(game.i18n.localize('SR5.Warnings.NegativeLimitValue'));\n        }\n    }\n\n    static handleExtendedRoll(advancedProps: AdvancedRollPropsDefaulted, testData: TestDialogData) {\n        const currentExtended = testData.parts.getPartValue('SR5.Extended') ?? 0;\n        testData.parts.addUniquePart('SR5.Extended', currentExtended - 1);\n\n        // Prepare the next, extended test roll.\n        advancedProps.parts = testData.parts.list;\n        advancedProps.extended = true;\n        const delayInMs = 400;\n        setTimeout(() => this.advancedRoll(advancedProps), delayInMs);\n    }\n\n    static async handleExplodingSixes(actor: SR5Actor, basicProps: BasicRollProps, testData: TestDialogData) {\n        basicProps.explodeSixes = true;\n        delete basicProps.limit;\n        testData.parts.addUniquePart('SR5.PushTheLimit', actor.getEdge().value);\n\n        await actor.useEdge();\n    }\n}\n","// game settings for shadowrun 5e\n\nimport { VersionMigration } from './migrator/VersionMigration';\nimport { FLAGS, SYSTEM_NAME } from './constants';\n\nexport const registerSystemSettings = () => {\n    /**\n     * Register diagonal movement rule setting\n     */\n    game.settings.register(SYSTEM_NAME, 'diagonalMovement', {\n        name: 'SETTINGS.DiagonalMovementName',\n        hint: 'SETTINGS.DiagonalMovementDescription',\n        scope: 'world',\n        config: true,\n        type: String,\n        default: '1-2-1',\n        choices: {\n            '1-1-1': 'SETTINGS.IgnoreDiagonal',\n            '1-2-1': 'SETTINGS.EstimateDiagonal',\n            'EUCL': 'SETTINGS.Euclidean',\n        },\n        onChange: (rule) => (canvas.grid.diagonalRule = rule),\n    });\n\n    /**\n     * Default limit behavior\n     */\n    game.settings.register(SYSTEM_NAME, 'applyLimits', {\n        name: 'SETTINGS.ApplyLimitsName',\n        hint: 'SETTINGS.ApplyLimitsDescription',\n        scope: 'world',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, 'displayDefaultRollCard', {\n        name: 'SETTINGS.DisplayDefaultRollCardName',\n        hint: 'SETTINGS.DisplayDefaultRollCardDescription',\n        scope: 'user',\n        config: true,\n        type: Boolean,\n        default: false,\n    });\n\n    /**\n     * Track system version upon which a migration was last applied\n     */\n    game.settings.register(SYSTEM_NAME, VersionMigration.KEY_DATA_VERSION, {\n        name: 'System Data Version.',\n        scope: 'world',\n        config: false,\n        type: String,\n        default: '0',\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.ShowGlitchAnimation, {\n        name: 'SETTINGS.ShowGlitchAnimationName',\n        hint: 'SETTINGS.ShowGlitchAnimationDescription',\n        scope: 'user',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.ShowTokenNameForChatOutput, {\n        name: 'SETTINGS.ShowTokenNameForChatOutputName',\n        hint: 'SETTINGS.ShowTokenNameForChatOutputDescription',\n        scope: 'world',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.WhisperOpposedTestsToTargetedPlayers, {\n        name: 'SETTINGS.WhisperOpposedTestsToTargetedPlayers',\n        hint: 'SETTINGS.WhisperOpposedTestsToTargetedPlayersDescription',\n        scope: 'world',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.OnlyAllowRollOnDefaultableSkills, {\n         name: 'SETTINGS.OnlyAllowRollOnDefaultableSkills',\n        hint: 'SETTINGS.OnlyAllowRollOnDefaultableSkillsDescription',\n        scope: 'world',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.ShowSkillsWithDetails, {\n         name: 'SETTINGS.ShowSkillsWithDetails',\n        hint: 'SETTINGS.ShowSkillsWithDetailsDescription',\n        scope: 'user',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.OnlyAutoRollNPCInCombat, {\n         name: 'SETTINGS.OnlyAutoRollNPCInCombat',\n        hint: 'SETTINGS.OnlyAutoRollNPCInCombatDescription',\n        scope: 'world',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n};\n","import {SR} from \"../constants\";\n\nexport class CombatRules {\n    static iniOrderCanDoAnotherPass(scores: number[]): boolean {\n        for (const score of scores) {\n            if (CombatRules.iniScoreCanDoAnotherPass(score)) return true;\n        }\n        return false;\n    }\n    /**\n     * Check if there is another initiative pass possible with the given score.\n     * @param score\n     * @return true means another initiative pass is possible\n     */\n    static iniScoreCanDoAnotherPass(score: number): boolean {\n        return CombatRules.reduceIniResultAfterPass(score) > 0;\n    }\n    /**\n     * Reduce the given initiative score according to @PDF SR5#159\n     * @param score This given score can't be reduced under zero.\n     */\n    static reduceIniResultAfterPass(score: number): number {\n        return Math.max(score + SR.combat.INI_RESULT_MOD_AFTER_INI_PASS, 0);\n    }\n\n    /**\n     * Reduce the initiative score according to the current initiative pass @PDF SR5#160.\n     * @param score\n     * @param pass The current initiative pass. Each combat round starts at the initiative pass of 1.\n     */\n    static reduceIniOnLateSpawn(score: number, pass: number): number {\n        // Assure valid score ranges.\n        // Shift initiative pass value range from min 1 to min 0 for multiplication.\n        pass = Math.max(pass - 1, 0);\n        score = Math.max(score, 0);\n\n        // Reduce the new score according to. NOTE: Modifier is negative\n        const reducedScore = score + pass * SR.combat.INI_RESULT_MOD_AFTER_INI_PASS;\n        return Math.max(reducedScore, 0);\n    }\n}","import {FLAGS, SR, SYSTEM_NAME} from \"../constants\";\nimport SituationModifiers = Shadowrun.SituationModifiers;\nimport EnvironmentalModifiers = Shadowrun.EnvironmentalModifiers;\nimport EnvironmentalModifierLevels = Shadowrun.EnvironmentalModifierLevels;\nimport EnvironmentalModifierCategories = Shadowrun.EnvironmentalModifierCategories;\n\nexport class Modifiers {\n    data: SituationModifiers;\n\n    constructor(data: SituationModifiers) {\n        // Fail gracefully for no modifiers given.\n        // This can happen as Foundry returns empty objects for no flags set.\n        if (!data || typeof data !== 'object' || !(\"environmental\" in data)) {\n            data = Modifiers.getDefaultModifiers();\n        }\n\n        // Duplicate data to avoid cross talk between different entities over different Modifier instances.\n        this.data = duplicate(data);\n    }\n\n    get hasActiveEnvironmental(): boolean {\n        return Object.keys(this.environmental.active).length > 0;\n    }\n\n    get modifiers(): SituationModifiers {\n        return this.data;\n    }\n\n    set modifiers(modifiers: SituationModifiers) {\n        this.data = modifiers;\n    }\n\n    get environmental(): EnvironmentalModifiers {\n        return this.data.environmental;\n    }\n\n    set environmental(modifiers: EnvironmentalModifiers) {\n        this.data.environmental = modifiers;\n    }\n\n    _matchingActiveEnvironmental(category: keyof EnvironmentalModifierCategories, level: number): boolean {\n        return this.environmental.active[category] === level;\n    }\n\n    _setEnvironmentalCategoryActive(category: keyof EnvironmentalModifierCategories, level: number) {\n        this.environmental.active[category] = level;\n    }\n\n    _setEnvironmentalCategoryInactive(category: keyof EnvironmentalModifierCategories) {\n        delete this.environmental.active[category];\n    }\n\n    _disableEnvironmentalOverwrite() {\n        this._setEnvironmentalCategoryInactive('value');\n    }\n\n    /** Actiavte a environmental modifier category (wind) with a value and recalculate the total modifier\n     *\n     * @param category\n     * @param level\n     */\n    activateEnvironmentalCategory(category: keyof EnvironmentalModifierCategories, level: number) {\n        if (!this._environmentalCategoryIsOverwrite(category)) {\n            this._disableEnvironmentalOverwrite();\n        }\n\n        this._setEnvironmentalCategoryActive(category, level);\n        this.calcEnvironmentalTotal();\n    }\n\n    toggleEnvironmentalCategory(category: keyof EnvironmentalModifierCategories, level: number) {\n        if (this._matchingActiveEnvironmental(category, level)) {\n            this._setEnvironmentalCategoryInactive(category);\n        } else if (this._environmentalCategoryIsOverwrite(category)) {\n            this._setEnvironmentalOverwriteActive(level);\n        } else {\n            this._setEnvironmentalCategoryActive(category, level);\n        }\n\n        // Remove a lingering overwrite if anything is set active.\n        if (!this._environmentalCategoryIsOverwrite(category)) {\n            this._setEnvironmentalOverwriteInactive();\n        }\n\n        this.calcEnvironmentalTotal();\n    }\n\n    calcEnvironmentalTotal() {\n        // Manual selection will overwrite all else...\n        if (this.hasActiveEnvironmentalOverwrite) {\n            const modifier = this._activeEnvironmentalOverwrite;\n\n            if (modifier === undefined) {\n                console.error('An active overwrite modifier was returned as undefined');\n                return;\n            }\n\n            this._resetEnvironmental();\n            this._setEnvironmentalOverwriteActive(modifier);\n            this._setEnvironmentalTotal(modifier);\n\n        } else {\n            // Calculation based on active modifier categories, excluding manual overwrite.\n            const activeCategories = Object.entries(this.environmental.active).filter(([category, level]) => category !== 'value');\n            // Should an active category miss a level set, ignore and fail gracefully.\n            const activeLevels = activeCategories.map(([category, level]) => level ? level : 0);\n\n            const count = this._countActiveModifierLevels(activeLevels);\n\n            const modifiers = Modifiers.getEnvironmentalModifierLevels();\n\n            if (count.extreme > 0 || count.heavy >= 2) {\n                this._setEnvironmentalTotal(modifiers.extreme);\n            }\n            else if (count.heavy === 1 || count.moderate >= 2) {\n                this._setEnvironmentalTotal(modifiers.heavy);\n            }\n            else if (count.moderate === 1 || count.light >= 2) {\n                this._setEnvironmentalTotal(modifiers.moderate);\n            }\n            else if (count.light === 1) {\n                this._setEnvironmentalTotal(modifiers.light);\n            } else {\n                this._setEnvironmentalTotal(modifiers.good);\n            }\n        }\n    }\n\n    static async clearOnEntity(entity: Entity): Promise<Modifiers> {\n        await entity.unsetFlag(SYSTEM_NAME, FLAGS.Modifier);\n        return new Modifiers(Modifiers.getDefaultModifiers());\n    }\n\n    static async clearEnvironmentalOnEntity(entity: Entity): Promise<Modifiers> {\n        const modifiers = await Modifiers.getModifiersFromEntity(entity);\n\n        modifiers.data.environmental = Modifiers.getDefaultEnvironmentalModifiers();\n\n        await Modifiers.setModifiersOnEntity(entity, modifiers.data);\n\n        return modifiers;\n    }\n\n    _environmentalCategoryIsOverwrite(category: keyof EnvironmentalModifierCategories): boolean {\n        return category === 'value';\n    }\n\n    _resetEnvironmental() {\n        Object.keys(this.environmental.active).forEach(category => delete this.environmental.active[category]);\n    }\n\n    _setEnvironmentalOverwriteActive(value: number) {\n        this._resetEnvironmental();\n        this._setEnvironmentalCategoryActive('value', value);\n    }\n\n    _setEnvironmentalOverwriteInactive() {\n        this._setEnvironmentalCategoryInactive('value');\n    }\n\n    _setEnvironmentalTotal(value: number) {\n        this.environmental.total = value;\n    }\n\n    get _activeEnvironmentalOverwrite(): number|undefined {\n        return this.modifiers.environmental.active.value;\n    }\n\n    get hasActiveEnvironmentalOverwrite(): boolean {\n        return this.environmental.active.value !== undefined;\n    }\n\n    /** Count the amount each level (modifier value) appears in the array of modifiers\n     *\n     * @param values Active environmental modifiers\n     */\n    _countActiveModifierLevels(values: Number[]) {\n        const modifiers = Modifiers.getEnvironmentalModifierLevels();\n\n        return {\n            light: values.reduce((count: number, value: number) => (value === modifiers.light ? count + 1 : count), 0),\n            moderate: values.reduce((count: number, value: number) => (value === modifiers.moderate ? count + 1 : count), 0),\n            heavy: values.reduce((count: number, value: number) => (value === modifiers.heavy ? count + 1 : count), 0),\n            extreme: values.reduce((count: number, value: number) => (value === modifiers.extreme ? count + 1 : count), 0)\n        }\n    }\n\n    static getDefaultEnvironmentalModifiers(): EnvironmentalModifiers  {\n        return {\n            total: 0,\n            active: {}\n        }\n    }\n\n    static getDefaultModifiers(): SituationModifiers {\n        return {\n            environmental: Modifiers.getDefaultEnvironmentalModifiers()\n        }\n    }\n\n    static getEnvironmentalModifierLevels(): EnvironmentalModifierLevels {\n        return SR.combat.environmental.levels;\n    }\n\n    static async getModifiersFromEntity(entity: Entity): Promise<Modifiers> {\n        const data = await entity.getFlag(SYSTEM_NAME, FLAGS.Modifier);\n\n        return new Modifiers(data);\n    }\n\n    static async setModifiersOnEntity(entity: Entity, modifiers: SituationModifiers) {\n        // TODO: Ask league about unsetFlag behavoir...\n        // NOTE: Check if JSON stringifier works or not.\n        await entity.unsetFlag(SYSTEM_NAME, FLAGS.Modifier);\n        await entity.setFlag(SYSTEM_NAME, FLAGS.Modifier, modifiers);\n    }\n}","import { SR5Item } from './item/SR5Item';\n\nexport type ShadowrunTemplateData = {\n    t: string;\n    user: User | string;\n    distance: number;\n    x: number;\n    y: number;\n    fillColor: string;\n    direction: number;\n};\n\nexport default // @ts-ignore\nclass Template extends MeasuredTemplate {\n    data: ShadowrunTemplateData;\n    x: number;\n    y: number;\n    item?: SR5Item;\n    onComplete?: () => void;\n\n    static fromItem(item: SR5Item, onComplete?: () => void): Template | undefined {\n        const templateShape = 'circle';\n\n        const templateData = {\n            t: templateShape,\n            user: game.user._id,\n            direction: 0,\n            x: 0,\n            y: 0,\n            // @ts-ignore\n            fillColor: game.user.color,\n        };\n        const blast = item.getBlastData();\n        templateData['distance'] = blast?.radius;\n        templateData['dropoff'] = blast?.dropoff;\n\n        // @ts-ignore\n        const template = new this(templateData);\n        template.item = item;\n        template.onComplete = onComplete;\n        return template;\n    }\n\n    drawPreview() {\n        const initialLayer = canvas.activeLayer;\n        // @ts-ignore\n        this.draw();\n        // @ts-ignore\n        this.layer.activate();\n        // @ts-ignore\n        this.layer.preview.addChild(this);\n        this.activatePreviewListeners(initialLayer);\n    }\n\n    activatePreviewListeners(initialLayer: CanvasLayer) {\n        const handlers = {};\n        let moveTime = 0;\n\n        // Update placement (mouse-move)\n        handlers['mm'] = (event) => {\n            event.stopPropagation();\n            let now = Date.now(); // Apply a 20ms throttle\n            if (now - moveTime <= 20) return;\n            const center = event.data.getLocalPosition(this.layer);\n            const snapped = canvas.grid.getSnappedPosition(center.x, center.y, 2);\n            this.data.x = snapped.x;\n            this.data.y = snapped.y;\n            // @ts-ignore\n            this.refresh();\n            moveTime = now;\n        };\n\n        // Cancel the workflow (right-click)\n        handlers['rc'] = () => {\n            this.layer.preview.removeChildren();\n            canvas.stage.off('mousemove', handlers['mm']);\n            canvas.stage.off('mousedown', handlers['lc']);\n            canvas.app.view.oncontextmenu = null;\n            canvas.app.view.onwheel = null;\n            initialLayer.activate();\n\n            if (this.onComplete) this.onComplete();\n        };\n\n        // Confirm the workflow (left-click)\n        handlers['lc'] = (event) => {\n            handlers['rc'](event);\n\n            // Confirm final snapped position\n            const destination = canvas.grid.getSnappedPosition(this.x, this.y, 2);\n            this.data.x = destination.x;\n            this.data.y = destination.y;\n\n            // Create the template\n            canvas.scene.createEmbeddedEntity('MeasuredTemplate', this.data);\n        };\n\n        // Rotate the template by 3 degree increments (mouse-wheel)\n        handlers['mw'] = (event) => {\n            if (event.ctrlKey) event.preventDefault(); // Avoid zooming the browser window\n            event.stopPropagation();\n            let delta = canvas.grid.type > CONST.GRID_TYPES.SQUARE ? 30 : 15;\n            let snap = event.shiftKey ? delta : 5;\n            this.data.direction += snap * Math.sign(event.deltaY);\n            // @ts-ignore\n            this.refresh();\n        };\n\n        // Activate listeners\n        canvas.stage.on('mousemove', handlers['mm']);\n        canvas.stage.on('mousedown', handlers['lc']);\n        canvas.app.view.oncontextmenu = handlers['rc'];\n        canvas.app.view.onwheel = handlers['mw'];\n    }\n}\n","import {shadowrunRulesModifiers} from \"./sr5.Modifiers.spec\";\n\nexport const quenchRegister = quench => {\n    quench.registerBatch(\"shadowrun5e.rules.modifiers\", shadowrunRulesModifiers);\n};\n","import {Modifiers} from \"../module/sr5/Modifiers\";\n\n\nexport const shadowrunRulesModifiers = context => {\n    const {describe, it, assert} = context;\n\n\n    const defaultModifiers = {\n        environmental: {\n            active: {},\n            total: 0\n        }\n    };\n\n    const activeModifiers = {\n        environmental: {\n            active: {\n                wind: -1,\n                light: -1\n            },\n            total: -3\n        }\n    };\n\n    describe('SR5 Modifiers', () => {\n        it('should create default modifier values', () => {\n            const modifiers = Modifiers.getDefaultModifiers();\n\n            assert.deepEqual(modifiers, defaultModifiers)\n        })\n        it('should use default modifiers for faulty constructor params', () => {\n            //@ts-ignore\n            assert.deepEqual(new Modifiers({}).data, defaultModifiers);\n            //@ts-ignore\n            assert.deepEqual(new Modifiers(undefined).data, defaultModifiers);\n            //@ts-ignore\n            assert.deepEqual(new Modifiers(null).data, defaultModifiers);\n            //@ts-ignore\n            assert.deepEqual(new Modifiers(0).data, defaultModifiers);\n            //@ts-ignore\n            assert.deepEqual(new Modifiers(1).data, defaultModifiers);\n            //@ts-ignore\n            assert.deepEqual(new Modifiers().data, defaultModifiers);\n        })\n        it('should set an environmental modifier active', () => {\n            const modifiers = new Modifiers(defaultModifiers);\n            modifiers._setEnvironmentalCategoryActive('wind', -1);\n\n            //@ts-ignore(modifiers.environmental.active).to.eql({wind: -1});\n        })\n        it('should set an environmental modifier inactive', () => {\n            const modifiers = new Modifiers({\n                environmental: {\n                    active: {\n                        wind: -1,\n                        light: -3\n                    },\n                    total: 0\n                }\n            });\n            modifiers._setEnvironmentalCategoryInactive('wind');\n\n            assert.deepEqual(modifiers.environmental.active, {light: -3});\n        })\n        it('should understand active environmental modifiers', () => {\n            const modifiersActive = new Modifiers({\n                environmental: {\n                    active: {\n                        wind: -1,\n                        light: -3\n                    },\n                    total: 0\n                }\n            });\n            assert.equal(modifiersActive.hasActiveEnvironmental, true);\n            const modifiersInactive = new Modifiers({\n                environmental: {\n                    active: {},\n                    total: 0\n                }\n            });\n            assert.equal(modifiersInactive.hasActiveEnvironmental, false);\n        })\n        it('should calculate the total according to sr5 rules', () => {\n            const modifiers = new Modifiers(defaultModifiers);\n\n            assert.equal(modifiers.environmental.total, 0);\n            modifiers.environmental.active.wind = -1;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -1);\n            modifiers.environmental.active.light = -1;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -3);\n            modifiers.environmental.active.range = -1;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -3);\n            delete modifiers.environmental.active.light;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -3);\n            modifiers.environmental.active.light = 0;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -3);\n\n            modifiers.environmental.active.wind = -3;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -3);\n            modifiers.environmental.active.light = -3;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -6);\n            modifiers.environmental.active.range = -3;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -6);\n            delete modifiers.environmental.active.light;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -6);\n            modifiers.environmental.active.light = 0;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -6);\n\n            modifiers.environmental.active.wind = -6;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -6);\n            modifiers.environmental.active.light = -6;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -10);\n            modifiers.environmental.active.range = -6;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -10);\n            delete modifiers.environmental.active.light;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -10);\n            modifiers.environmental.active.light = 0;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -10);\n\n            modifiers.environmental.active.value = 0;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, 0);\n            modifiers.environmental.active.value = -1;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -1);\n            modifiers.environmental.active.value = -3;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -3);\n            modifiers.environmental.active.value = -6;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -6);\n            modifiers.environmental.active.value = -10;\n            modifiers.calcEnvironmentalTotal();\n            assert.equal(modifiers.environmental.total, -10);\n        })\n\n        it('should reset active environmental modifiers', () => {\n            const modifiers = new Modifiers(activeModifiers);\n            modifiers._resetEnvironmental();\n\n            assert.deepEqual(modifiers.environmental.active, {});\n        })\n\n        it('should calculate total for faulty active', () => {\n            const modifiers = new Modifiers({\n                environmental: {\n                    total: -1,\n                    active: {\n                        //@ts-ignore\n                        light: null,\n                        wind: undefined,\n                        //@ts-ignore\n                        range: '',\n                        //@ts-ignore\n                        visibility: 'string'\n                    }\n                }\n            });\n\n            modifiers.calcEnvironmentalTotal();\n\n            assert.equal(modifiers.environmental.total, 0);\n        })\n    })\n}\n\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3N1cGVyUHJvcEJhc2UuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXItcmVzb2x2ZS9lbXB0eS5qcyIsIm5vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY29yZS11dGlsLWlzL2xpYi91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MtbmV4dGljay1hcmdzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vZHVwbGV4LWJyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX2R1cGxleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzIiwibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIiwibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9CdWZmZXJMaXN0LmpzIiwibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95LmpzIiwibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0tYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLWJyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vd3JpdGFibGUtYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJub2RlX21vZHVsZXMvc2FmZS1idWZmZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc2F4L2xpYi9zYXguanMiLCJub2RlX21vZHVsZXMvc3RyZWFtLWJyb3dzZXJpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3RyaW5nX2RlY29kZXIvbGliL3N0cmluZ19kZWNvZGVyLmpzIiwibm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJub2RlX21vZHVsZXMvdXRpbC1kZXByZWNhdGUvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy94bWwyanMvbGliL2JvbS5qcyIsIm5vZGVfbW9kdWxlcy94bWwyanMvbGliL2J1aWxkZXIuanMiLCJub2RlX21vZHVsZXMveG1sMmpzL2xpYi9kZWZhdWx0cy5qcyIsIm5vZGVfbW9kdWxlcy94bWwyanMvbGliL3BhcnNlci5qcyIsIm5vZGVfbW9kdWxlcy94bWwyanMvbGliL3Byb2Nlc3NvcnMuanMiLCJub2RlX21vZHVsZXMveG1sMmpzL2xpYi94bWwyanMuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvRG9jdW1lbnRQb3NpdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9Ob2RlVHlwZS5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9VdGlsaXR5LmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1dyaXRlclN0YXRlLmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTEF0dHJpYnV0ZS5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxDRGF0YS5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxDaGFyYWN0ZXJEYXRhLmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTENvbW1lbnQuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRE9NQ29uZmlndXJhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxET01FcnJvckhhbmRsZXIuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRE9NSW1wbGVtZW50YXRpb24uanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRE9NU3RyaW5nTGlzdC5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEVERBdHRMaXN0LmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERUREVsZW1lbnQuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRFRERW50aXR5LmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERURE5vdGF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERlY2xhcmF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERvY1R5cGUuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRG9jdW1lbnQuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRG9jdW1lbnRDQi5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEdW1teS5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxFbGVtZW50LmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTE5hbWVkTm9kZU1hcC5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxOb2RlLmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTE5vZGVMaXN0LmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxSYXcuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MU3RyZWFtV3JpdGVyLmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFN0cmluZ1dyaXRlci5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxTdHJpbmdpZmllci5qcyIsIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxUZXh0LmpzIiwibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFdyaXRlckJhc2UuanMiLCJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvaW5kZXguanMiLCJzcmMvbW9kdWxlL2FjdG9yL0RhbWFnZUFwcGxpY2F0aW9uRmxvdy50cyIsInNyYy9tb2R1bGUvYWN0b3IvU1I1QWN0b3IudHMiLCJzcmMvbW9kdWxlL2FjdG9yL1NSNUFjdG9yU2hlZXQudHMiLCJzcmMvbW9kdWxlL2FjdG9yL1NraWxsRmxvdy50cyIsInNyYy9tb2R1bGUvYWN0b3IvU2tpbGxSdWxlcy50cyIsInNyYy9tb2R1bGUvYWN0b3IvU29ha0Zsb3cudHMiLCJzcmMvbW9kdWxlL2FjdG9yL1NvYWtSdWxlcy50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9BY3RvclByZXBGYWN0b3J5LnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL0Jhc2VBY3RvclByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvQ2hhcmFjdGVyUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9Dcml0dGVyUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9TcGlyaXRQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL1Nwcml0ZVByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvVmVoaWNsZVByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvZnVuY3Rpb25zL0F0dHJpYnV0ZXNQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Db25kaXRpb25Nb25pdG9yc1ByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvZnVuY3Rpb25zL0luaXRpYXRpdmVQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9JdGVtUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTGltaXRzUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTWF0cml4UHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTW9kaWZpZXJzUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTW92ZW1lbnRQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9OUENQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Ta2lsbHNQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Xb3VuZHNQcmVwLnRzIiwic3JjL21vZHVsZS9hcHBzL0NoYW5nZWxvZ0FwcGxpY2F0aW9uLnRzIiwic3JjL21vZHVsZS9hcHBzL0Vudk1vZGlmaWVyc0FwcGxpY2F0aW9uLnRzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9Bcm1vclBhcnNlci5qcyIsInNyYy9tb2R1bGUvYXBwcy9jaGFyYWN0ZXJJbXBvcnQvQmFzZVBhcnNlckZ1bmN0aW9ucy5qcyIsInNyYy9tb2R1bGUvYXBwcy9jaGFyYWN0ZXJJbXBvcnQvQ2hhcmFjdGVySW1wb3J0ZXIuanMiLCJzcmMvbW9kdWxlL2FwcHMvY2hhcmFjdGVySW1wb3J0L0NoYXJhY3RlckluZm9VcGRhdGVyLmpzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9Db250YWN0UGFyc2VyLmpzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9DeWJlcndhcmVQYXJzZXIuanMiLCJzcmMvbW9kdWxlL2FwcHMvY2hhcmFjdGVySW1wb3J0L0l0ZW1zUGFyc2VyLmpzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9MaWZlc3R5bGVQYXJzZXIuanMiLCJzcmMvbW9kdWxlL2FwcHMvY2hhcmFjdGVySW1wb3J0L1Bvd2VyUGFyc2VyLmpzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9RdWFsaXR5UGFyc2VyLmpzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9TcGVsbFBhcnNlci5qcyIsInNyYy9tb2R1bGUvYXBwcy9jaGFyYWN0ZXJJbXBvcnQvV2VhcG9uUGFyc2VyLmpzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9nZWFySW1wb3J0L0FtbW9QYXJzZXIudHMiLCJzcmMvbW9kdWxlL2FwcHMvY2hhcmFjdGVySW1wb3J0L2dlYXJJbXBvcnQvQmFzZUdlYXJQYXJzZXIudHMiLCJzcmMvbW9kdWxlL2FwcHMvY2hhcmFjdGVySW1wb3J0L2dlYXJJbXBvcnQvRGV2aWNlUGFyc2VyLnRzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9nZWFySW1wb3J0L0dlYXJzUGFyc2VyLnRzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9nZWFySW1wb3J0L1BhcnNlclNlbGVjdG9yLnRzIiwic3JjL21vZHVsZS9hcHBzL2NoYXJhY3RlckltcG9ydC9nZWFySW1wb3J0L1Byb2dyYW1QYXJzZXIudHMiLCJzcmMvbW9kdWxlL2FwcHMvY2hhcmFjdGVySW1wb3J0L2dlYXJJbXBvcnQvU2luUGFyc2VyLnRzIiwic3JjL21vZHVsZS9hcHBzL2NodW1tZXItaW1wb3J0LWZvcm0uanMiLCJzcmMvbW9kdWxlL2FwcHMvZGlhbG9ncy9EYW1hZ2VBcHBsaWNhdGlvbkRpYWxvZy50cyIsInNyYy9tb2R1bGUvYXBwcy9kaWFsb2dzL0RlbGV0ZUNvbmZpcm1hdGlvbkRpYWxvZy50cyIsInNyYy9tb2R1bGUvYXBwcy9kaWFsb2dzL0Zvcm1EaWFsb2cudHMiLCJzcmMvbW9kdWxlL2FwcHMvZGlhbG9ncy9TaGFkb3dydW5BY3RvckRpYWxvZ3MudHMiLCJzcmMvbW9kdWxlL2FwcHMvZGlhbG9ncy9TaGFkb3dydW5JdGVtRGlhbG9nLnRzIiwic3JjL21vZHVsZS9hcHBzL2RpYWxvZ3MvU2hhZG93cnVuVGVzdERpYWxvZy50cyIsInNyYy9tb2R1bGUvYXBwcy9nbXRvb2xzL092ZXJ3YXRjaFNjb3JlVHJhY2tlci5qcyIsInNyYy9tb2R1bGUvYXBwcy9za2lsbHMvS25vd2xlZGdlU2tpbGxFZGl0Rm9ybS50cyIsInNyYy9tb2R1bGUvYXBwcy9za2lsbHMvTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtLnRzIiwic3JjL21vZHVsZS9hcHBzL3NraWxscy9Ta2lsbEVkaXRGb3JtLnRzIiwic3JjL21vZHVsZS9jYW52YXMudHMiLCJzcmMvbW9kdWxlL2NoYXQudHMiLCJzcmMvbW9kdWxlL2NvbWJhdC9TUjVDb21iYXQudHMiLCJzcmMvbW9kdWxlL2NvbmZpZy50cyIsInNyYy9tb2R1bGUvY29uc3RhbnRzLnRzIiwic3JjL21vZHVsZS9kYXRhVGVtcGxhdGVzLnRzIiwic3JjL21vZHVsZS9kYXRhV3JhcHBlcnMvRGF0YVdyYXBwZXIudHMiLCJzcmMvbW9kdWxlL2hhbmRsZWJhcnMvQXBwSGVscGVycy50cyIsInNyYy9tb2R1bGUvaGFuZGxlYmFycy9CYXNpY0hlbHBlcnMudHMiLCJzcmMvbW9kdWxlL2hhbmRsZWJhcnMvSGFuZGxlYmFyTWFuYWdlci50cyIsInNyYy9tb2R1bGUvaGFuZGxlYmFycy9IYW5kbGViYXJUZW1wbGF0ZXMudHMiLCJzcmMvbW9kdWxlL2hhbmRsZWJhcnMvSXRlbUxpbmVIZWxwZXJzLnRzIiwic3JjL21vZHVsZS9oYW5kbGViYXJzL1JvbGxBbmRMYWJlbEhlbHBlcnMudHMiLCJzcmMvbW9kdWxlL2hhbmRsZWJhcnMvU2tpbGxMaW5lSGVscGVycy50cyIsInNyYy9tb2R1bGUvaGVscGVycy50cyIsInNyYy9tb2R1bGUvaG9va3MudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2FwcHMvaW1wb3J0LWZvcm0udHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2hlbHBlci9JbXBvcnRIZWxwZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2hlbHBlci9JbXBvcnRTdHJhdGVneS50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvaGVscGVyL0pTT05TdHJhdGVneS50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvaGVscGVyL1hNTFN0cmF0ZWd5LnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9pbXBvcnRlci9BbW1vSW1wb3J0ZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2ltcG9ydGVyL0FybW9ySW1wb3J0ZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2ltcG9ydGVyL0NvbXBsZXhGb3JtSW1wb3J0ZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2ltcG9ydGVyL0NvbnN0YW50cy50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvaW1wb3J0ZXIvQ3JpdHRlclBvd2VySW1wb3J0ZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2ltcG9ydGVyL0RhdGFJbXBvcnRlci50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvaW1wb3J0ZXIvRGV2aWNlSW1wb3J0ZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2ltcG9ydGVyL0VxdWlwbWVudEltcG9ydGVyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9pbXBvcnRlci9Nb2RJbXBvcnRlci50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvaW1wb3J0ZXIvUXVhbGl0eUltcG9ydGVyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9pbXBvcnRlci9TcGVsbEltcG9ydGVyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9pbXBvcnRlci9XYXJlSW1wb3J0ZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL2ltcG9ydGVyL1dlYXBvbkltcG9ydGVyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvUGFyc2VyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvUGFyc2VyTWFwLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvYXJtb3IvQXJtb3JQYXJzZXJCYXNlLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvY29tcGxleC1mb3JtL0NvbXBsZXhGb3JtUGFyc2VyQmFzZS50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL2NyaXR0ZXItcG93ZXIvQ3JpdHRlclBvd2VyUGFyc2VyQmFzZS50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL2l0ZW0vSXRlbVBhcnNlckJhc2UudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL3BhcnNlci9pdGVtL1RlY2hub2xvZ3lJdGVtUGFyc2VyQmFzZS50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL21vZC9Nb2RQYXJzZXJCYXNlLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvcXVhbGl0eS9RdWFsaXR5UGFyc2VyQmFzZS50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL3NwZWxsL0NvbWJhdFNwZWxsUGFyc2VyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvc3BlbGwvRGV0ZWN0aW9uU3BlbGxJbXBvcnRlci50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL3NwZWxsL0lsbHVzaW9uU3BlbGxQYXJzZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL3BhcnNlci9zcGVsbC9NYW5pcHVsYXRpb25TcGVsbFBhcnNlci50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL3NwZWxsL1NwZWxsUGFyc2VyQmFzZS50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL3dhcmUvQ3liZXJ3YXJlUGFyc2VyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvd2VhcG9uL01lbGVlUGFyc2VyLnRzIiwic3JjL21vZHVsZS9pbXBvcnRlci9wYXJzZXIvd2VhcG9uL1JhbmdlZFBhcnNlci50cyIsInNyYy9tb2R1bGUvaW1wb3J0ZXIvcGFyc2VyL3dlYXBvbi9UaHJvd25QYXJzZXIudHMiLCJzcmMvbW9kdWxlL2ltcG9ydGVyL3BhcnNlci93ZWFwb24vV2VhcG9uUGFyc2VyQmFzZS50cyIsInNyYy9tb2R1bGUvaXRlbS9DaGF0RGF0YS50cyIsInNyYy9tb2R1bGUvaXRlbS9JdGVtQWN0aW9uLnRzIiwic3JjL21vZHVsZS9pdGVtL1NSNUl0ZW0udHMiLCJzcmMvbW9kdWxlL2l0ZW0vU1I1SXRlbURhdGFXcmFwcGVyLnRzIiwic3JjL21vZHVsZS9pdGVtL1NSNUl0ZW1TaGVldC50cyIsInNyYy9tb2R1bGUvbWFjcm9zLnRzIiwic3JjL21vZHVsZS9tYWluLnRzIiwic3JjL21vZHVsZS9taWdyYXRvci9NaWdyYXRvci50cyIsInNyYy9tb2R1bGUvbWlncmF0b3IvVmVyc2lvbk1pZ3JhdGlvbi50cyIsInNyYy9tb2R1bGUvbWlncmF0b3IvdmVyc2lvbnMvTGVnYWN5TWlncmF0aW9uLnRzIiwic3JjL21vZHVsZS9taWdyYXRvci92ZXJzaW9ucy9WZXJzaW9uMF82XzEwLnRzIiwic3JjL21vZHVsZS9taWdyYXRvci92ZXJzaW9ucy9WZXJzaW9uMF82XzUudHMiLCJzcmMvbW9kdWxlL21pZ3JhdG9yL3ZlcnNpb25zL1ZlcnNpb24wXzdfMi50cyIsInNyYy9tb2R1bGUvcGFydHMvUGFydHNMaXN0LnRzIiwic3JjL21vZHVsZS9yb2xscy9TaGFkb3dydW5Sb2xsZXIudHMiLCJzcmMvbW9kdWxlL3NldHRpbmdzLnRzIiwic3JjL21vZHVsZS9zcjUvQ29tYmF0LnRzIiwic3JjL21vZHVsZS9zcjUvTW9kaWZpZXJzLnRzIiwic3JjL21vZHVsZS90ZW1wbGF0ZS50cyIsInNyYy90ZXN0L3F1ZW5jaC50cyIsInNyYy90ZXN0L3NyNS5Nb2RpZmllcnMuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4SkE7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDanZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMzR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4TEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzEvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3JOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUM5cUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pFQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1dUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzdoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdlNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3WEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0FBQyxDQUFDLEtBQUssQ0FBQztZQUNuRSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssT0FBTztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUN4QyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssYUFBYTtnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNuRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUTtnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUM5QyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssY0FBYztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNwRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNqRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMzQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssZUFBZTtnQkFBRSxH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TSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JELENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLDZDQUE2QyxFQUFFLEdBQUcsRUFBRTtZQUNuRCxNQUFNLFNBQVMsR0FBRyxJQUFJLHFCQUFTLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDakQsU0FBUyxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFFaEMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDaEQsTUFBTSxTQUFTLEdBQUcsSUFBSSxxQkFBUyxDQUFDO2dCQUM1QixhQUFhLEVBQUU7b0JBQ1gsS0FBSyxFQUFFLENBQUMsQ0FBQztvQkFDVCxNQUFNLEVBQUU7d0JBQ0osWUFBWTt3QkFDWixLQUFLLEVBQUUsSUFBSTt3QkFDWCxJQUFJLEVBQUUsU0FBUzt3QkFDZixZQUFZO3dCQUNaLEtBQUssRUFBRSxFQUFFO3dCQUNULFlBQVk7d0JBQ1osVUFBVSxFQUFFLFFBQVE7cUJBQ3ZCO2lCQUNKO2FBQ0osQ0FBQyxDQUFDO1lBRUgsU0FBUyxDQUFDLHNCQUFzQixFQUFFLENBQUM7WUFFbkMsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuRCxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUMsQ0FBQyxDQUFBO0FBQ04sQ0FBQyxDQUFBO0FBakxZLFFBQUEsdUJBQXVCLDJCQWlMbkMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQ7IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FzeW5jVG9HZW5lcmF0b3I7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2s7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZGVmaW5lUHJvcGVydHk7IiwidmFyIHN1cGVyUHJvcEJhc2UgPSByZXF1aXJlKFwiLi9zdXBlclByb3BCYXNlXCIpO1xuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IFJlZmxlY3QuZ2V0O1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgIHZhciBiYXNlID0gc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldDsiLCJmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2Y7IiwidmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vc2V0UHJvdG90eXBlT2ZcIik7XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaW5oZXJpdHM7IiwiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIGFzc2VydFRoaXNJbml0aWFsaXplZCA9IHJlcXVpcmUoXCIuL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjsiLCJmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZjsiLCJ2YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9nZXRQcm90b3R5cGVPZlwiKTtcblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkge1xuICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgIG9iamVjdCA9IGdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zdXBlclByb3BCYXNlOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG52YXIgS19NQVhfTEVOR1RIID0gMHg3ZmZmZmZmZlxuZXhwb3J0cy5rTWF4TGVuZ3RoID0gS19NQVhfTEVOR1RIXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFByaW50IHdhcm5pbmcgYW5kIHJlY29tbWVuZCB1c2luZyBgYnVmZmVyYCB2NC54IHdoaWNoIGhhcyBhbiBPYmplY3RcbiAqICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIFdlIHJlcG9ydCB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGlmIHRoZSBhcmUgbm90IHN1YmNsYXNzYWJsZVxuICogdXNpbmcgX19wcm90b19fLiBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YFxuICogKFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4KS4gSUUgMTAgbGFja3Mgc3VwcG9ydFxuICogZm9yIF9fcHJvdG9fXyBhbmQgaGFzIGEgYnVnZ3kgdHlwZWQgYXJyYXkgaW1wbGVtZW50YXRpb24uXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gdHlwZWRBcnJheVN1cHBvcnQoKVxuXG5pZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ1RoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSAnICtcbiAgICAnYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4nXG4gIClcbn1cblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICAvLyBDYW4gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWQ/XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHsgX19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9IH1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgYnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbmlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAhPSBudWxsICYmXG4gICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuZnVuY3Rpb24gZnJvbSAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh2YWx1ZSlcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICAgIClcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlKHZhbHVlLCBBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICApXG4gIH1cblxuICB2YXIgdmFsdWVPZiA9IHZhbHVlLnZhbHVlT2YgJiYgdmFsdWUudmFsdWVPZigpXG4gIGlmICh2YWx1ZU9mICE9IG51bGwgJiYgdmFsdWVPZiAhPT0gdmFsdWUpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVPZiwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgdmFyIGIgPSBmcm9tT2JqZWN0KHZhbHVlKVxuICBpZiAoYikgcmV0dXJuIGJcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvUHJpbWl0aXZlICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKFxuICAgICAgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSgnc3RyaW5nJyksIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aFxuICAgIClcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIE5vdGU6IENoYW5nZSBwcm90b3R5cGUgKmFmdGVyKiBCdWZmZXIuZnJvbSBpcyBkZWZpbmVkIHRvIHdvcmthcm91bmQgQ2hyb21lIGJ1Zzpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvMTQ4XG5CdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG5CdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgc2l6ZSArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSBidWYud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIHZhciBidWZcbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIGJ1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgYnVmID0gQnVmZmVyLmZyb20oYnVmKVxuICAgIH1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0luc3RhbmNlKHN0cmluZywgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHN0cmluZ1xuICAgIClcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBtdXN0TWF0Y2ggPSAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlKVxuICBpZiAoIW11c3RNYXRjaCAmJiBsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHtcbiAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICB9XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIChhbmQgdGhlIGBpcy1idWZmZXJgIG5wbSBwYWNrYWdlKVxuLy8gdG8gZGV0ZWN0IGEgQnVmZmVyIGluc3RhbmNlLiBJdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgYGluc3RhbmNlb2YgQnVmZmVyYFxuLy8gcmVsaWFibHkgaW4gYSBicm93c2VyaWZ5IGNvbnRleHQgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBkaWZmZXJlbnRcbi8vIGNvcGllcyBvZiB0aGUgJ2J1ZmZlcicgcGFja2FnZSBpbiB1c2UuIFRoaXMgbWV0aG9kIHdvcmtzIGV2ZW4gZm9yIEJ1ZmZlclxuLy8gaW5zdGFuY2VzIHRoYXQgd2VyZSBjcmVhdGVkIGZyb20gYW5vdGhlciBjb3B5IG9mIHRoZSBgYnVmZmVyYCBwYWNrYWdlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTU0XG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZ1xuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLnJlcGxhY2UoLyguezJ9KS9nLCAnJDEgJykudHJpbSgpXG4gIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKGlzSW5zdGFuY2UodGFyZ2V0LCBVaW50OEFycmF5KSkge1xuICAgIHRhcmdldCA9IEJ1ZmZlci5mcm9tKHRhcmdldCwgdGFyZ2V0Lm9mZnNldCwgdGFyZ2V0LmJ5dGVMZW5ndGgpXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB0YXJnZXQpXG4gICAgKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPj4+IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJylcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExXG4gICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKVxuICB9IGVsc2UgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHxcbiAgICAgICAgICBlbmNvZGluZyA9PT0gJ2xhdGluMScpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoOiBJZiBgdmFsYCBmaXRzIGludG8gYSBzaW5nbGUgYnl0ZSwgdXNlIHRoYXQgbnVtZXJpYyB2YWx1ZS5cbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyB2YWwgK1xuICAgICAgICAnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJylcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbi8vIEFycmF5QnVmZmVyIG9yIFVpbnQ4QXJyYXkgb2JqZWN0cyBmcm9tIG90aGVyIGNvbnRleHRzIChpLmUuIGlmcmFtZXMpIGRvIG5vdCBwYXNzXG4vLyB0aGUgYGluc3RhbmNlb2ZgIGNoZWNrIGJ1dCB0aGV5IHNob3VsZCBiZSB0cmVhdGVkIGFzIG9mIHRoYXQgdHlwZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE2NlxuZnVuY3Rpb24gaXNJbnN0YW5jZSAob2JqLCB0eXBlKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiB0eXBlIHx8XG4gICAgKG9iaiAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9IG51bGwgJiZcbiAgICAgIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSB0eXBlLm5hbWUpXG59XG5mdW5jdGlvbiBudW1iZXJJc05hTiAob2JqKSB7XG4gIC8vIEZvciBJRTExIHN1cHBvcnRcbiAgcmV0dXJuIG9iaiAhPT0gb2JqIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cblxuZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcmcpO1xuICB9XG4gIHJldHVybiBvYmplY3RUb1N0cmluZyhhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gQnVmZmVyLmlzQnVmZmVyO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgb2JqZWN0Q3JlYXRlUG9seWZpbGxcbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgb2JqZWN0S2V5c1BvbHlmaWxsXG52YXIgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGZ1bmN0aW9uQmluZFBvbHlmaWxsXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCAnX2V2ZW50cycpKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbnZhciBoYXNEZWZpbmVQcm9wZXJ0eTtcbnRyeSB7XG4gIHZhciBvID0ge307XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCAneCcsIHsgdmFsdWU6IDAgfSk7XG4gIGhhc0RlZmluZVByb3BlcnR5ID0gby54ID09PSAwO1xufSBjYXRjaCAoZXJyKSB7IGhhc0RlZmluZVByb3BlcnR5ID0gZmFsc2UgfVxuaWYgKGhhc0RlZmluZVByb3BlcnR5KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhlIGlucHV0IGlzIGEgcG9zaXRpdmUgbnVtYmVyICh3aG9zZSB2YWx1ZSBpcyB6ZXJvIG9yXG4gICAgICAvLyBncmVhdGVyIGFuZCBub3QgYSBOYU4pLlxuICAgICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgYXJnICE9PSBhcmcpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZGVmYXVsdE1heExpc3RlbmVyc1wiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gICAgfVxuICB9KTtcbn0gZWxzZSB7XG4gIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gZGVmYXVsdE1heExpc3RlbmVycztcbn1cblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm5cIiBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gJGdldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gJGdldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbi8vIFRoZXNlIHN0YW5kYWxvbmUgZW1pdCogZnVuY3Rpb25zIGFyZSB1c2VkIHRvIG9wdGltaXplIGNhbGxpbmcgb2YgZXZlbnRcbi8vIGhhbmRsZXJzIGZvciBmYXN0IGNhc2VzIGJlY2F1c2UgZW1pdCgpIGl0c2VsZiBvZnRlbiBoYXMgYSB2YXJpYWJsZSBudW1iZXIgb2Zcbi8vIGFyZ3VtZW50cyBhbmQgY2FuIGJlIGRlb3B0aW1pemVkIGJlY2F1c2Ugb2YgdGhhdC4gVGhlc2UgZnVuY3Rpb25zIGFsd2F5cyBoYXZlXG4vLyB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzIGFuZCB0aHVzIGRvIG5vdCBnZXQgZGVvcHRpbWl6ZWQsIHNvIHRoZSBjb2RlXG4vLyBpbnNpZGUgdGhlbSBjYW4gZXhlY3V0ZSBmYXN0ZXIuXG5mdW5jdGlvbiBlbWl0Tm9uZShoYW5kbGVyLCBpc0ZuLCBzZWxmKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRUd28oaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSwgYXJnMikge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSwgYXJnMik7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxLCBhcmcyKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFRocmVlKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJncykge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgZXZlbnRzO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PSBudWxsKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpXG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoIWhhbmRsZXIpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBpc0ZuID0gdHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbic7XG4gIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHN3aXRjaCAobGVuKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgY2FzZSAxOlxuICAgICAgZW1pdE5vbmUoaGFuZGxlciwgaXNGbiwgdGhpcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBlbWl0VHdvKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNDpcbiAgICAgIGVtaXRUaHJlZShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKTtcbiAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgZGVmYXVsdDpcbiAgICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmICghZXZlbnRzKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBpZiAoIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgbSA9ICRnZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICAgIGlmIChtICYmIG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0pIHtcbiAgICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnIFwiJyArIFN0cmluZyh0eXBlKSArICdcIiBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0LicpO1xuICAgICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignJXM6ICVzJywgdy5uYW1lLCB3Lm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LCBhcmd1bWVudHNbMF0pO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgYXJndW1lbnRzWzJdKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpXG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IGJpbmQuY2FsbChvbmNlV3JhcHBlciwgc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmICghbGlzdClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKCFldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBvYmplY3RLZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKCFldmVudHMpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoIWV2bGlzdGVuZXIpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/IHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdC5vd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKS5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpXG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb2JqZWN0Q3JlYXRlUG9seWZpbGwocHJvdG8pIHtcbiAgdmFyIEYgPSBmdW5jdGlvbigpIHt9O1xuICBGLnByb3RvdHlwZSA9IHByb3RvO1xuICByZXR1cm4gbmV3IEY7XG59XG5mdW5jdGlvbiBvYmplY3RLZXlzUG9seWZpbGwob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGsgaW4gb2JqKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaykpIHtcbiAgICBrZXlzLnB1c2goayk7XG4gIH1cbiAgcmV0dXJuIGs7XG59XG5mdW5jdGlvbiBmdW5jdGlvbkJpbmRQb2x5ZmlsbChjb250ZXh0KSB7XG4gIHZhciBmbiA9IHRoaXM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4iLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gICAgfVxuICB9XG59XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbi8vIFRoZSBfaXNCdWZmZXIgY2hlY2sgaXMgZm9yIFNhZmFyaSA1LTcgc3VwcG9ydCwgYmVjYXVzZSBpdCdzIG1pc3Npbmdcbi8vIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgKGlzQnVmZmVyKG9iaikgfHwgaXNTbG93QnVmZmVyKG9iaikgfHwgISFvYmouX2lzQnVmZmVyKVxufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiAhIW9iai5jb25zdHJ1Y3RvciAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG5cbi8vIEZvciBOb2RlIHYwLjEwIHN1cHBvcnQuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHkuXG5mdW5jdGlvbiBpc1Nsb3dCdWZmZXIgKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iai5yZWFkRmxvYXRMRSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnNsaWNlID09PSAnZnVuY3Rpb24nICYmIGlzQnVmZmVyKG9iai5zbGljZSgwLCAwKSlcbn1cbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgIXByb2Nlc3MudmVyc2lvbiB8fFxuICAgIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MC4nKSA9PT0gMCB8fFxuICAgIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MS4nKSA9PT0gMCAmJiBwcm9jZXNzLnZlcnNpb24uaW5kZXhPZigndjEuOC4nKSAhPT0gMCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IHsgbmV4dFRpY2s6IG5leHRUaWNrIH07XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3Ncbn1cblxuZnVuY3Rpb24gbmV4dFRpY2soZm4sIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY2FsbGJhY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGFyZ3MsIGk7XG4gIHN3aXRjaCAobGVuKSB7XG4gIGNhc2UgMDpcbiAgY2FzZSAxOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZuKTtcbiAgY2FzZSAyOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGlja09uZSgpIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgYXJnMSk7XG4gICAgfSk7XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2tUd28oKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIGFyZzEsIGFyZzIpO1xuICAgIH0pO1xuICBjYXNlIDQ6XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gYWZ0ZXJUaWNrVGhyZWUoKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgIH0pO1xuICBkZWZhdWx0OlxuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhcmdzLmxlbmd0aCkge1xuICAgICAgYXJnc1tpKytdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2soKSB7XG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufVxuXG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX2R1cGxleC5qcycpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIGEgZHVwbGV4IHN0cmVhbSBpcyBqdXN0IGEgc3RyZWFtIHRoYXQgaXMgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUuXG4vLyBTaW5jZSBKUyBkb2Vzbid0IGhhdmUgbXVsdGlwbGUgcHJvdG90eXBhbCBpbmhlcml0YW5jZSwgdGhpcyBjbGFzc1xuLy8gcHJvdG90eXBhbGx5IGluaGVyaXRzIGZyb20gUmVhZGFibGUsIGFuZCB0aGVuIHBhcmFzaXRpY2FsbHkgZnJvbVxuLy8gV3JpdGFibGUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAga2V5cy5wdXNoKGtleSk7XG4gIH1yZXR1cm4ga2V5cztcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxubW9kdWxlLmV4cG9ydHMgPSBEdXBsZXg7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IE9iamVjdC5jcmVhdGUocmVxdWlyZSgnY29yZS11dGlsLWlzJykpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIFJlYWRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3JlYWRhYmxlJyk7XG52YXIgV3JpdGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fd3JpdGFibGUnKTtcblxudXRpbC5pbmhlcml0cyhEdXBsZXgsIFJlYWRhYmxlKTtcblxue1xuICAvLyBhdm9pZCBzY29wZSBjcmVlcCwgdGhlIGtleXMgYXJyYXkgY2FuIHRoZW4gYmUgY29sbGVjdGVkXG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO1xuICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICB2YXIgbWV0aG9kID0ga2V5c1t2XTtcbiAgICBpZiAoIUR1cGxleC5wcm90b3R5cGVbbWV0aG9kXSkgRHVwbGV4LnByb3RvdHlwZVttZXRob2RdID0gV3JpdGFibGUucHJvdG90eXBlW21ldGhvZF07XG4gIH1cbn1cblxuZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgRHVwbGV4KG9wdGlvbnMpO1xuXG4gIFJlYWRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIFdyaXRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpIHRoaXMucmVhZGFibGUgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLndyaXRhYmxlID09PSBmYWxzZSkgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuXG4gIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dIYWxmT3BlbiA9PT0gZmFsc2UpIHRoaXMuYWxsb3dIYWxmT3BlbiA9IGZhbHNlO1xuXG4gIHRoaXMub25jZSgnZW5kJywgb25lbmQpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcbmZ1bmN0aW9uIG9uZW5kKCkge1xuICAvLyBpZiB3ZSBhbGxvdyBoYWxmLW9wZW4gc3RhdGUsIG9yIGlmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLFxuICAvLyB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5hbGxvd0hhbGZPcGVuIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpIHJldHVybjtcblxuICAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuICBwbmEubmV4dFRpY2sob25FbmROVCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9uRW5kTlQoc2VsZikge1xuICBzZWxmLmVuZCgpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gIH1cbn0pO1xuXG5EdXBsZXgucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdGhpcy5wdXNoKG51bGwpO1xuICB0aGlzLmVuZCgpO1xuXG4gIHBuYS5uZXh0VGljayhjYiwgZXJyKTtcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIGEgcGFzc3Rocm91Z2ggc3RyZWFtLlxuLy8gYmFzaWNhbGx5IGp1c3QgdGhlIG1vc3QgbWluaW1hbCBzb3J0IG9mIFRyYW5zZm9ybSBzdHJlYW0uXG4vLyBFdmVyeSB3cml0dGVuIGNodW5rIGdldHMgb3V0cHV0IGFzLWlzLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFzc1Rocm91Z2g7XG5cbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL19zdHJlYW1fdHJhbnNmb3JtJyk7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IE9iamVjdC5jcmVhdGUocmVxdWlyZSgnY29yZS11dGlsLWlzJykpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudXRpbC5pbmhlcml0cyhQYXNzVGhyb3VnaCwgVHJhbnNmb3JtKTtcblxuZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKSByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1xuXG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuXG5QYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG51bGwsIGNodW5rKTtcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFkYWJsZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG52YXIgRUVsaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIE91clVpbnQ4QXJyYXkgPSBnbG9iYWwuVWludDhBcnJheSB8fCBmdW5jdGlvbiAoKSB7fTtcbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuXG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gT2JqZWN0LmNyZWF0ZShyZXF1aXJlKCdjb3JlLXV0aWwtaXMnKSk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGRlYnVnVXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbnZhciBkZWJ1ZyA9IHZvaWQgMDtcbmlmIChkZWJ1Z1V0aWwgJiYgZGVidWdVdGlsLmRlYnVnbG9nKSB7XG4gIGRlYnVnID0gZGVidWdVdGlsLmRlYnVnbG9nKCdzdHJlYW0nKTtcbn0gZWxzZSB7XG4gIGRlYnVnID0gZnVuY3Rpb24gKCkge307XG59XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlckxpc3QgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvQnVmZmVyTGlzdCcpO1xudmFyIGRlc3Ryb3lJbXBsID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3knKTtcbnZhciBTdHJpbmdEZWNvZGVyO1xuXG51dGlsLmluaGVyaXRzKFJlYWRhYmxlLCBTdHJlYW0pO1xuXG52YXIga1Byb3h5RXZlbnRzID0gWydlcnJvcicsICdjbG9zZScsICdkZXN0cm95JywgJ3BhdXNlJywgJ3Jlc3VtZSddO1xuXG5mdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuKSB7XG4gIC8vIFNhZGx5IHRoaXMgaXMgbm90IGNhY2hlYWJsZSBhcyBzb21lIGxpYnJhcmllcyBidW5kbGUgdGhlaXIgb3duXG4gIC8vIGV2ZW50IGVtaXR0ZXIgaW1wbGVtZW50YXRpb24gd2l0aCB0aGVtLlxuICBpZiAodHlwZW9mIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTtcblxuICAvLyBUaGlzIGlzIGEgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgYW55XG4gIC8vIHVzZXJsYW5kIG9uZXMuICBORVZFUiBETyBUSElTLiBUaGlzIGlzIGhlcmUgb25seSBiZWNhdXNlIHRoaXMgY29kZSBuZWVkc1xuICAvLyB0byBjb250aW51ZSB0byB3b3JrIHdpdGggb2xkZXIgdmVyc2lvbnMgb2YgTm9kZS5qcyB0aGF0IGRvIG5vdCBpbmNsdWRlXG4gIC8vIHRoZSBwcmVwZW5kTGlzdGVuZXIoKSBtZXRob2QuIFRoZSBnb2FsIGlzIHRvIGV2ZW50dWFsbHkgcmVtb3ZlIHRoaXMgaGFjay5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1tldmVudF0pIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtlbHNlIGlmIChpc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKSBlbWl0dGVyLl9ldmVudHNbZXZlbnRdLnVuc2hpZnQoZm4pO2Vsc2UgZW1pdHRlci5fZXZlbnRzW2V2ZW50XSA9IFtmbiwgZW1pdHRlci5fZXZlbnRzW2V2ZW50XV07XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gRHVwbGV4IHN0cmVhbXMgYXJlIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLCBidXQgc2hhcmVcbiAgLy8gdGhlIHNhbWUgb3B0aW9ucyBvYmplY3QuXG4gIC8vIEhvd2V2ZXIsIHNvbWUgY2FzZXMgcmVxdWlyZSBzZXR0aW5nIG9wdGlvbnMgdG8gZGlmZmVyZW50XG4gIC8vIHZhbHVlcyBmb3IgdGhlIHJlYWRhYmxlIGFuZCB0aGUgd3JpdGFibGUgc2lkZXMgb2YgdGhlIGR1cGxleCBzdHJlYW0uXG4gIC8vIFRoZXNlIG9wdGlvbnMgY2FuIGJlIHByb3ZpZGVkIHNlcGFyYXRlbHkgYXMgcmVhZGFibGVYWFggYW5kIHdyaXRhYmxlWFhYLlxuICB2YXIgaXNEdXBsZXggPSBzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXg7XG5cbiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnLiBVc2VkIHRvIG1ha2UgcmVhZChuKSBpZ25vcmUgbiBhbmQgdG9cbiAgLy8gbWFrZSBhbGwgdGhlIGJ1ZmZlciBtZXJnaW5nIGFuZCBsZW5ndGggY2hlY2tzIGdvIGF3YXlcbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG5cbiAgaWYgKGlzRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG4gIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIHZhciByZWFkYWJsZUh3bSA9IG9wdGlvbnMucmVhZGFibGVIaWdoV2F0ZXJNYXJrO1xuICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xuXG4gIGlmIChod20gfHwgaHdtID09PSAwKSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod207ZWxzZSBpZiAoaXNEdXBsZXggJiYgKHJlYWRhYmxlSHdtIHx8IHJlYWRhYmxlSHdtID09PSAwKSkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gcmVhZGFibGVId207ZWxzZSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBkZWZhdWx0SHdtO1xuXG4gIC8vIGNhc3QgdG8gaW50cy5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gTWF0aC5mbG9vcih0aGlzLmhpZ2hXYXRlck1hcmspO1xuXG4gIC8vIEEgbGlua2VkIGxpc3QgaXMgdXNlZCB0byBzdG9yZSBkYXRhIGNodW5rcyBpbnN0ZWFkIG9mIGFuIGFycmF5IGJlY2F1c2UgdGhlXG4gIC8vIGxpbmtlZCBsaXN0IGNhbiByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIGZhc3RlciB0aGFuXG4gIC8vIGFycmF5LnNoaWZ0KClcbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBldmVudCAncmVhZGFibGUnLydkYXRhJyBpcyBlbWl0dGVkXG4gIC8vIGltbWVkaWF0ZWx5LCBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlXG4gIC8vIGFueSBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCByZWFkIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gd2hlbmV2ZXIgd2UgcmV0dXJuIG51bGwsIHRoZW4gd2Ugc2V0IGEgZmxhZyB0byBzYXlcbiAgLy8gdGhhdCB3ZSdyZSBhd2FpdGluZyBhICdyZWFkYWJsZScgZXZlbnQgZW1pc3Npb24uXG4gIHRoaXMubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMucmVhZGFibGVMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgdGhpcy5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTtcblxuICAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuICB0aGlzLmF3YWl0RHJhaW4gPSAwO1xuXG4gIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcbiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlO1xuXG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuICBpZiAob3B0aW9ucy5lbmNvZGluZykge1xuICAgIGlmICghU3RyaW5nRGVjb2RlcikgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyk7XG4gICAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2Rpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVhZGFibGUob3B0aW9ucykge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpIHJldHVybiBuZXcgUmVhZGFibGUob3B0aW9ucyk7XG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZSA9IG5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpO1xuXG4gIC8vIGxlZ2FjeVxuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWFkID09PSAnZnVuY3Rpb24nKSB0aGlzLl9yZWFkID0gb3B0aW9ucy5yZWFkO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHRoaXMuX2Rlc3Ryb3kgPSBvcHRpb25zLmRlc3Ryb3k7XG4gIH1cblxuICBTdHJlYW0uY2FsbCh0aGlzKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblxuUmVhZGFibGUucHJvdG90eXBlLmRlc3Ryb3kgPSBkZXN0cm95SW1wbC5kZXN0cm95O1xuUmVhZGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3kgPSBkZXN0cm95SW1wbC51bmRlc3Ryb3k7XG5SZWFkYWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLnB1c2gobnVsbCk7XG4gIGNiKGVycik7XG59O1xuXG4vLyBNYW51YWxseSBzaG92ZSBzb21ldGhpbmcgaW50byB0aGUgcmVhZCgpIGJ1ZmZlci5cbi8vIFRoaXMgcmV0dXJucyB0cnVlIGlmIHRoZSBoaWdoV2F0ZXJNYXJrIGhhcyBub3QgYmVlbiBoaXQgeWV0LFxuLy8gc2ltaWxhciB0byBob3cgV3JpdGFibGUud3JpdGUoKSByZXR1cm5zIHRydWUgaWYgeW91IHNob3VsZFxuLy8gd3JpdGUoKSBzb21lIG1vcmUuXG5SZWFkYWJsZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHNraXBDaHVua0NoZWNrO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuY29kaW5nIHx8IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcbiAgICAgIGlmIChlbmNvZGluZyAhPT0gc3RhdGUuZW5jb2RpbmcpIHtcbiAgICAgICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgICBlbmNvZGluZyA9ICcnO1xuICAgICAgfVxuICAgICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBza2lwQ2h1bmtDaGVjayA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBjaHVuaywgZW5jb2RpbmcsIGZhbHNlLCBza2lwQ2h1bmtDaGVjayk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIG51bGwsIHRydWUsIGZhbHNlKTtcbn07XG5cbmZ1bmN0aW9uIHJlYWRhYmxlQWRkQ2h1bmsoc3RyZWFtLCBjaHVuaywgZW5jb2RpbmcsIGFkZFRvRnJvbnQsIHNraXBDaHVua0NoZWNrKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgaWYgKGNodW5rID09PSBudWxsKSB7XG4gICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGVyO1xuICAgIGlmICghc2tpcENodW5rQ2hlY2spIGVyID0gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuayk7XG4gICAgaWYgKGVyKSB7XG4gICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmICFzdGF0ZS5vYmplY3RNb2RlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihjaHVuaykgIT09IEJ1ZmZlci5wcm90b3R5cGUpIHtcbiAgICAgICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFkZFRvRnJvbnQpIHtcbiAgICAgICAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIHN0cmVhbS5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignc3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnQnKSk7ZWxzZSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZGVkKSB7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignc3RyZWFtLnB1c2goKSBhZnRlciBFT0YnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFlbmNvZGluZykge1xuICAgICAgICAgIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG4gICAgICAgICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsubGVuZ3RoICE9PSAwKSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO2Vsc2UgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghYWRkVG9Gcm9udCkge1xuICAgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZWVkTW9yZURhdGEoc3RhdGUpO1xufVxuXG5mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgYWRkVG9Gcm9udCkge1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuXG4gICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gIH1cbiAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuaykge1xuICB2YXIgZXI7XG4gIGlmICghX2lzVWludDhBcnJheShjaHVuaykgJiYgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7XG4gIH1cbiAgcmV0dXJuIGVyO1xufVxuXG4vLyBpZiBpdCdzIHBhc3QgdGhlIGhpZ2ggd2F0ZXIgbWFyaywgd2UgY2FuIHB1c2ggaW4gc29tZSBtb3JlLlxuLy8gQWxzbywgaWYgd2UgaGF2ZSBubyBkYXRhIHlldCwgd2UgY2FuIHN0YW5kIHNvbWVcbi8vIG1vcmUgYnl0ZXMuICBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLFxuLy8gc3VjaCBhcyB0aGUgcmVwbC4gIEFsc28sIGlmIHRoZSBwdXNoKCkgdHJpZ2dlcmVkIGFcbi8vIHJlYWRhYmxlIGV2ZW50LCBhbmQgdGhlIHVzZXIgY2FsbGVkIHJlYWQobGFyZ2VOdW1iZXIpIHN1Y2ggdGhhdFxuLy8gbmVlZFJlYWRhYmxlIHdhcyBzZXQsIHRoZW4gd2Ugb3VnaHQgdG8gcHVzaCBtb3JlLCBzbyB0aGF0IGFub3RoZXJcbi8vICdyZWFkYWJsZScgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQuXG5mdW5jdGlvbiBuZWVkTW9yZURhdGEoc3RhdGUpIHtcbiAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubmVlZFJlYWRhYmxlIHx8IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUubGVuZ3RoID09PSAwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLmlzUGF1c2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID09PSBmYWxzZTtcbn07XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykge1xuICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gZW5jO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIERvbid0IHJhaXNlIHRoZSBod20gPiA4TUJcbnZhciBNQVhfSFdNID0gMHg4MDAwMDA7XG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG4gIGlmIChuICE9PSBuKSB7XG4gICAgLy8gT25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lXG4gICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoKSByZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoO1xuICB9XG4gIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGh3bSwgdGhlbiByYWlzZSB0aGUgaHdtLlxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjtcbiAgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcbiAgaWYgKCFzdGF0ZS5lbmRlZCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbn1cblxuLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy5cblJlYWRhYmxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgbiA9IHBhcnNlSW50KG4sIDEwKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG5cbiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTtcblxuICAvLyBpZiB3ZSd2ZSBlbmRlZCwgYW5kIHdlJ3JlIG5vdyBjbGVhciwgdGhlbiBmaW5pc2ggaXQgdXAuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICBzdGF0ZS5zeW5jID0gZmFsc2U7XG4gICAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG4gICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSBuID0gaG93TXVjaFRvUmVhZChuT3JpZywgc3RhdGUpO1xuICB9XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsO1xuXG4gIGlmIChyZXQgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cblxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuXG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmVuZGVkKSByZXR1cm47XG4gIGlmIChzdGF0ZS5kZWNvZGVyKSB7XG4gICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHN0YXRlLmVuZGVkID0gdHJ1ZTtcblxuICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC5cbiAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG59XG5cbi8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlclxuLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyXG4vLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLmZsb3dpbmcpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgaWYgKHN0YXRlLnN5bmMpIHBuYS5uZXh0VGljayhlbWl0UmVhZGFibGVfLCBzdHJlYW0pO2Vsc2UgZW1pdFJlYWRhYmxlXyhzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZV8oc3RyZWFtKSB7XG4gIGRlYnVnKCdlbWl0IHJlYWRhYmxlJyk7XG4gIHN0cmVhbS5lbWl0KCdyZWFkYWJsZScpO1xuICBmbG93KHN0cmVhbSk7XG59XG5cbi8vIGF0IHRoaXMgcG9pbnQsIHRoZSB1c2VyIGhhcyBwcmVzdW1hYmx5IHNlZW4gdGhlICdyZWFkYWJsZScgZXZlbnQsXG4vLyBhbmQgY2FsbGVkIHJlYWQoKSB0byBjb25zdW1lIHNvbWUgZGF0YS4gIHRoYXQgbWF5IGhhdmUgdHJpZ2dlcmVkXG4vLyBpbiB0dXJuIGFub3RoZXIgX3JlYWQobikgY2FsbCwgaW4gd2hpY2ggY2FzZSByZWFkaW5nID0gdHJ1ZSBpZlxuLy8gaXQncyBpbiBwcm9ncmVzcy5cbi8vIEhvd2V2ZXIsIGlmIHdlJ3JlIG5vdCBlbmRlZCwgb3IgcmVhZGluZywgYW5kIHRoZSBsZW5ndGggPCBod20sXG4vLyB0aGVuIGdvIGFoZWFkIGFuZCB0cnkgdG8gcmVhZCBzb21lIG1vcmUgcHJlZW1wdGl2ZWx5LlxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVhZGluZ01vcmUpIHtcbiAgICBzdGF0ZS5yZWFkaW5nTW9yZSA9IHRydWU7XG4gICAgcG5hLm5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUuZW5kZWQgJiYgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aClcbiAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ19yZWFkKCkgaXMgbm90IGltcGxlbWVudGVkJykpO1xufTtcblxuUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoZGVzdCwgcGlwZU9wdHMpIHtcbiAgdmFyIHNyYyA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG5cbiAgc3dpdGNoIChzdGF0ZS5waXBlc0NvdW50KSB7XG4gICAgY2FzZSAwOlxuICAgICAgc3RhdGUucGlwZXMgPSBkZXN0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAgc3RhdGUucGlwZXMgPSBbc3RhdGUucGlwZXMsIGRlc3RdO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHN0YXRlLnBpcGVzLnB1c2goZGVzdCk7XG4gICAgICBicmVhaztcbiAgfVxuICBzdGF0ZS5waXBlc0NvdW50ICs9IDE7XG4gIGRlYnVnKCdwaXBlIGNvdW50PSVkIG9wdHM9JWonLCBzdGF0ZS5waXBlc0NvdW50LCBwaXBlT3B0cyk7XG5cbiAgdmFyIGRvRW5kID0gKCFwaXBlT3B0cyB8fCBwaXBlT3B0cy5lbmQgIT09IGZhbHNlKSAmJiBkZXN0ICE9PSBwcm9jZXNzLnN0ZG91dCAmJiBkZXN0ICE9PSBwcm9jZXNzLnN0ZGVycjtcblxuICB2YXIgZW5kRm4gPSBkb0VuZCA/IG9uZW5kIDogdW5waXBlO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgcG5hLm5leHRUaWNrKGVuZEZuKTtlbHNlIHNyYy5vbmNlKCdlbmQnLCBlbmRGbik7XG5cbiAgZGVzdC5vbigndW5waXBlJywgb251bnBpcGUpO1xuICBmdW5jdGlvbiBvbnVucGlwZShyZWFkYWJsZSwgdW5waXBlSW5mbykge1xuICAgIGRlYnVnKCdvbnVucGlwZScpO1xuICAgIGlmIChyZWFkYWJsZSA9PT0gc3JjKSB7XG4gICAgICBpZiAodW5waXBlSW5mbyAmJiB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHVucGlwZUluZm8uaGFzVW5waXBlZCA9IHRydWU7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9XG5cbiAgLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlclxuICAvLyBvbiB0aGUgc291cmNlLiAgVGhpcyB3b3VsZCBiZSBtb3JlIGVsZWdhbnQgd2l0aCBhIC5vbmNlKClcbiAgLy8gaGFuZGxlciBpbiBmbG93KCksIGJ1dCBhZGRpbmcgYW5kIHJlbW92aW5nIHJlcGVhdGVkbHkgaXNcbiAgLy8gdG9vIHNsb3cuXG4gIHZhciBvbmRyYWluID0gcGlwZU9uRHJhaW4oc3JjKTtcbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgZGVidWcoJ2NsZWFudXAnKTtcbiAgICAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuXG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ3VucGlwZScsIG9udW5waXBlKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIHVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcblxuICAgIGNsZWFuZWRVcCA9IHRydWU7XG5cbiAgICAvLyBpZiB0aGUgcmVhZGVyIGlzIHdhaXRpbmcgZm9yIGEgZHJhaW4gZXZlbnQgZnJvbSB0aGlzXG4gICAgLy8gc3BlY2lmaWMgd3JpdGVyLCB0aGVuIGl0IHdvdWxkIGNhdXNlIGl0IHRvIG5ldmVyIHN0YXJ0XG4gICAgLy8gZmxvd2luZyBhZ2Fpbi5cbiAgICAvLyBTbywgaWYgdGhpcyBpcyBhd2FpdGluZyBhIGRyYWluLCB0aGVuIHdlIGp1c3QgY2FsbCBpdCBub3cuXG4gICAgLy8gSWYgd2UgZG9uJ3Qga25vdywgdGhlbiBhc3N1bWUgdGhhdCB3ZSBhcmUgd2FpdGluZyBmb3Igb25lLlxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluICYmICghZGVzdC5fd3JpdGFibGVTdGF0ZSB8fCBkZXN0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikpIG9uZHJhaW4oKTtcbiAgfVxuXG4gIC8vIElmIHRoZSB1c2VyIHB1c2hlcyBtb3JlIGRhdGEgd2hpbGUgd2UncmUgd3JpdGluZyB0byBkZXN0IHRoZW4gd2UnbGwgZW5kIHVwXG4gIC8vIGluIG9uZGF0YSBhZ2Fpbi4gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIGluY3JlYXNlIGF3YWl0RHJhaW4gb25jZSBiZWNhdXNlXG4gIC8vIGRlc3Qgd2lsbCBvbmx5IGVtaXQgb25lICdkcmFpbicgZXZlbnQgZm9yIHRoZSBtdWx0aXBsZSB3cml0ZXMuXG4gIC8vID0+IEludHJvZHVjZSBhIGd1YXJkIG9uIGluY3JlYXNpbmcgYXdhaXREcmFpbi5cbiAgdmFyIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgaWYgKGZhbHNlID09PSByZXQgJiYgIWluY3JlYXNlZEF3YWl0RHJhaW4pIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKTtcbiAgICAgICAgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKztcbiAgICAgICAgaW5jcmVhc2VkQXdhaXREcmFpbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBzcmMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAoRUVsaXN0ZW5lckNvdW50KGRlc3QsICdlcnJvcicpID09PSAwKSBkZXN0LmVtaXQoJ2Vycm9yJywgZXIpO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSB1c2VybGFuZCBvbmVzLlxuICBwcmVwZW5kTGlzdGVuZXIoZGVzdCwgJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgdW5waXBlKCk7XG4gIH1cbiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpO1xuXG4gIGZ1bmN0aW9uIHVucGlwZSgpIHtcbiAgICBkZWJ1ZygndW5waXBlJyk7XG4gICAgc3JjLnVucGlwZShkZXN0KTtcbiAgfVxuXG4gIC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG4gIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7XG5cbiAgLy8gc3RhcnQgdGhlIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbHJlYWR5LlxuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTtcbiAgICBzcmMucmVzdW1lKCk7XG4gIH1cblxuICByZXR1cm4gZGVzdDtcbn07XG5cbmZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdGF0ZSA9IHNyYy5fcmVhZGFibGVTdGF0ZTtcbiAgICBkZWJ1ZygncGlwZU9uRHJhaW4nLCBzdGF0ZS5hd2FpdERyYWluKTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbikgc3RhdGUuYXdhaXREcmFpbi0tO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFbGlzdGVuZXJDb3VudChzcmMsICdkYXRhJykpIHtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuICAgICAgZmxvdyhzcmMpO1xuICAgIH1cbiAgfTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnVucGlwZSA9IGZ1bmN0aW9uIChkZXN0KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciB1bnBpcGVJbmZvID0geyBoYXNVbnBpcGVkOiBmYWxzZSB9O1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlcztcblxuICAgIC8vIGdvdCBhIG1hdGNoLlxuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgaWYgKGRlc3QpIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcywgdW5waXBlSW5mbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG4gIGlmICghZGVzdCkge1xuICAgIC8vIHJlbW92ZSBhbGwuXG4gICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7XG4gICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7XG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGRlc3RzW2ldLmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICAgIH1yZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHRyeSB0byBmaW5kIHRoZSByaWdodCBvbmUuXG4gIHZhciBpbmRleCA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gdGhpcztcblxuICBzdGF0ZS5waXBlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICBzdGF0ZS5waXBlc0NvdW50IC09IDE7XG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSBzdGF0ZS5waXBlcyA9IHN0YXRlLnBpcGVzWzBdO1xuXG4gIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcywgdW5waXBlSW5mbyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yXG4vLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZ1xuUmVhZGFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBmbikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2LCBmbik7XG5cbiAgaWYgKGV2ID09PSAnZGF0YScpIHtcbiAgICAvLyBTdGFydCBmbG93aW5nIG9uIG5leHQgdGljayBpZiBzdHJlYW0gaXNuJ3QgZXhwbGljaXRseSBwYXVzZWRcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nICE9PSBmYWxzZSkgdGhpcy5yZXN1bWUoKTtcbiAgfSBlbHNlIGlmIChldiA9PT0gJ3JlYWRhYmxlJykge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmICFzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZykge1xuICAgICAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gICAgICBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICAgICAgcG5hLm5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuUmVhZGFibGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gUmVhZGFibGUucHJvdG90eXBlLm9uO1xuXG5mdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHtcbiAgZGVidWcoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpO1xuICBzZWxmLnJlYWQoMCk7XG59XG5cbi8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUElcbi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS5cblJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIGlmICghc3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdyZXN1bWUnKTtcbiAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICByZXN1bWUodGhpcywgc3RhdGUpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHtcbiAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHBuYS5uZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgc3RyZWFtLmVtaXQoJ3Jlc3VtZScpO1xuICBmbG93KHN0cmVhbSk7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5yZWFkaW5nKSBzdHJlYW0ucmVhZCgwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHt9XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBwYXVzZWQgPSBmYWxzZTtcblxuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBlbmQnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBfdGhpcy5wdXNoKGNodW5rKTtcbiAgICB9XG5cbiAgICBfdGhpcy5wdXNoKG51bGwpO1xuICB9KTtcblxuICBzdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBkYXRhJyk7XG4gICAgaWYgKHN0YXRlLmRlY29kZXIpIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG5cbiAgICAvLyBkb24ndCBza2lwIG92ZXIgZmFsc3kgdmFsdWVzIGluIG9iamVjdE1vZGVcbiAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpIHJldHVybjtlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKSByZXR1cm47XG5cbiAgICB2YXIgcmV0ID0gX3RoaXMucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCBrUHJveHlFdmVudHMubGVuZ3RoOyBuKyspIHtcbiAgICBzdHJlYW0ub24oa1Byb3h5RXZlbnRzW25dLCB0aGlzLmVtaXQuYmluZCh0aGlzLCBrUHJveHlFdmVudHNbbl0pKTtcbiAgfVxuXG4gIC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGVcbiAgLy8gdW5kZXJseWluZyBzdHJlYW0uXG4gIHRoaXMuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICAgIGRlYnVnKCd3cmFwcGVkIF9yZWFkJywgbik7XG4gICAgaWYgKHBhdXNlZCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuXG4vLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBmcm9tTGlzdChuLCBzdGF0ZSkge1xuICAvLyBub3RoaW5nIGJ1ZmZlcmVkXG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIHZhciByZXQ7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXQgPSBzdGF0ZS5idWZmZXIuc2hpZnQoKTtlbHNlIGlmICghbiB8fCBuID49IHN0YXRlLmxlbmd0aCkge1xuICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgbGlzdFxuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSByZXQgPSBzdGF0ZS5idWZmZXIuam9pbignJyk7ZWxzZSBpZiAoc3RhdGUuYnVmZmVyLmxlbmd0aCA9PT0gMSkgcmV0ID0gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YTtlbHNlIHJldCA9IHN0YXRlLmJ1ZmZlci5jb25jYXQoc3RhdGUubGVuZ3RoKTtcbiAgICBzdGF0ZS5idWZmZXIuY2xlYXIoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyByZWFkIHBhcnQgb2YgbGlzdFxuICAgIHJldCA9IGZyb21MaXN0UGFydGlhbChuLCBzdGF0ZS5idWZmZXIsIHN0YXRlLmRlY29kZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gRXh0cmFjdHMgb25seSBlbm91Z2ggYnVmZmVyZWQgZGF0YSB0byBzYXRpc2Z5IHRoZSBhbW91bnQgcmVxdWVzdGVkLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBmcm9tTGlzdFBhcnRpYWwobiwgbGlzdCwgaGFzU3RyaW5ncykge1xuICB2YXIgcmV0O1xuICBpZiAobiA8IGxpc3QuaGVhZC5kYXRhLmxlbmd0aCkge1xuICAgIC8vIHNsaWNlIGlzIHRoZSBzYW1lIGZvciBidWZmZXJzIGFuZCBzdHJpbmdzXG4gICAgcmV0ID0gbGlzdC5oZWFkLmRhdGEuc2xpY2UoMCwgbik7XG4gICAgbGlzdC5oZWFkLmRhdGEgPSBsaXN0LmhlYWQuZGF0YS5zbGljZShuKTtcbiAgfSBlbHNlIGlmIChuID09PSBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBmaXJzdCBjaHVuayBpcyBhIHBlcmZlY3QgbWF0Y2hcbiAgICByZXQgPSBsaXN0LnNoaWZ0KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVzdWx0IHNwYW5zIG1vcmUgdGhhbiBvbmUgYnVmZmVyXG4gICAgcmV0ID0gaGFzU3RyaW5ncyA/IGNvcHlGcm9tQnVmZmVyU3RyaW5nKG4sIGxpc3QpIDogY29weUZyb21CdWZmZXIobiwgbGlzdCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBjaGFyYWN0ZXJzIGZyb20gdGhlIGxpc3Qgb2YgYnVmZmVyZWQgZGF0YVxuLy8gY2h1bmtzLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSB7XG4gIHZhciBwID0gbGlzdC5oZWFkO1xuICB2YXIgYyA9IDE7XG4gIHZhciByZXQgPSBwLmRhdGE7XG4gIG4gLT0gcmV0Lmxlbmd0aDtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICB2YXIgc3RyID0gcC5kYXRhO1xuICAgIHZhciBuYiA9IG4gPiBzdHIubGVuZ3RoID8gc3RyLmxlbmd0aCA6IG47XG4gICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSByZXQgKz0gc3RyO2Vsc2UgcmV0ICs9IHN0ci5zbGljZSgwLCBuKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gc3RyLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGEgY2h1bmtzLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlcihuLCBsaXN0KSB7XG4gIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobik7XG4gIHZhciBwID0gbGlzdC5oZWFkO1xuICB2YXIgYyA9IDE7XG4gIHAuZGF0YS5jb3B5KHJldCk7XG4gIG4gLT0gcC5kYXRhLmxlbmd0aDtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICB2YXIgYnVmID0gcC5kYXRhO1xuICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47XG4gICAgYnVmLmNvcHkocmV0LCByZXQubGVuZ3RoIC0gbiwgMCwgbmIpO1xuICAgIG4gLT0gbmI7XG4gICAgaWYgKG4gPT09IDApIHtcbiAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkge1xuICAgICAgICArK2M7XG4gICAgICAgIGlmIChwLm5leHQpIGxpc3QuaGVhZCA9IHAubmV4dDtlbHNlIGxpc3QuaGVhZCA9IGxpc3QudGFpbCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0LmhlYWQgPSBwO1xuICAgICAgICBwLmRhdGEgPSBidWYuc2xpY2UobmIpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgICsrYztcbiAgfVxuICBsaXN0Lmxlbmd0aCAtPSBjO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuXG4gIC8vIElmIHdlIGdldCBoZXJlIGJlZm9yZSBjb25zdW1pbmcgYWxsIHRoZSBieXRlcywgdGhlbiB0aGF0IGlzIGFcbiAgLy8gYnVnIGluIG5vZGUuICBTaG91bGQgbmV2ZXIgaGFwcGVuLlxuICBpZiAoc3RhdGUubGVuZ3RoID4gMCkgdGhyb3cgbmV3IEVycm9yKCdcImVuZFJlYWRhYmxlKClcIiBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbScpO1xuXG4gIGlmICghc3RhdGUuZW5kRW1pdHRlZCkge1xuICAgIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgICBwbmEubmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluZGV4T2YoeHMsIHgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoeHNbaV0gPT09IHgpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkb1xuLy8gc29tZXRoaW5nIHdpdGggdGhlIGRhdGEuICBTb21ldGltZXMgaXQncyBjYWxsZWQgYSBcImZpbHRlclwiLFxuLy8gYnV0IHRoYXQncyBub3QgYSBncmVhdCBuYW1lIGZvciBpdCwgc2luY2UgdGhhdCBpbXBsaWVzIGEgdGhpbmcgd2hlcmVcbi8vIHNvbWUgYml0cyBwYXNzIHRocm91Z2gsIGFuZCBvdGhlcnMgYXJlIHNpbXBseSBpZ25vcmVkLiAgKFRoYXQgd291bGRcbi8vIGJlIGEgdmFsaWQgZXhhbXBsZSBvZiBhIHRyYW5zZm9ybSwgb2YgY291cnNlLilcbi8vXG4vLyBXaGlsZSB0aGUgb3V0cHV0IGlzIGNhdXNhbGx5IHJlbGF0ZWQgdG8gdGhlIGlucHV0LCBpdCdzIG5vdCBhXG4vLyBuZWNlc3NhcmlseSBzeW1tZXRyaWMgb3Igc3luY2hyb25vdXMgdHJhbnNmb3JtYXRpb24uICBGb3IgZXhhbXBsZSxcbi8vIGEgemxpYiBzdHJlYW0gbWlnaHQgdGFrZSBtdWx0aXBsZSBwbGFpbi10ZXh0IHdyaXRlcygpLCBhbmQgdGhlblxuLy8gZW1pdCBhIHNpbmdsZSBjb21wcmVzc2VkIGNodW5rIHNvbWUgdGltZSBpbiB0aGUgZnV0dXJlLlxuLy9cbi8vIEhlcmUncyBob3cgdGhpcyB3b3Jrczpcbi8vXG4vLyBUaGUgVHJhbnNmb3JtIHN0cmVhbSBoYXMgYWxsIHRoZSBhc3BlY3RzIG9mIHRoZSByZWFkYWJsZSBhbmQgd3JpdGFibGVcbi8vIHN0cmVhbSBjbGFzc2VzLiAgV2hlbiB5b3Ugd3JpdGUoY2h1bmspLCB0aGF0IGNhbGxzIF93cml0ZShjaHVuayxjYilcbi8vIGludGVybmFsbHksIGFuZCByZXR1cm5zIGZhbHNlIGlmIHRoZXJlJ3MgYSBsb3Qgb2YgcGVuZGluZyB3cml0ZXNcbi8vIGJ1ZmZlcmVkIHVwLiAgV2hlbiB5b3UgY2FsbCByZWFkKCksIHRoYXQgY2FsbHMgX3JlYWQobikgdW50aWxcbi8vIHRoZXJlJ3MgZW5vdWdoIHBlbmRpbmcgcmVhZGFibGUgZGF0YSBidWZmZXJlZCB1cC5cbi8vXG4vLyBJbiBhIHRyYW5zZm9ybSBzdHJlYW0sIHRoZSB3cml0dGVuIGRhdGEgaXMgcGxhY2VkIGluIGEgYnVmZmVyLiAgV2hlblxuLy8gX3JlYWQobikgaXMgY2FsbGVkLCBpdCB0cmFuc2Zvcm1zIHRoZSBxdWV1ZWQgdXAgZGF0YSwgY2FsbGluZyB0aGVcbi8vIGJ1ZmZlcmVkIF93cml0ZSBjYidzIGFzIGl0IGNvbnN1bWVzIGNodW5rcy4gIElmIGNvbnN1bWluZyBhIHNpbmdsZVxuLy8gd3JpdHRlbiBjaHVuayB3b3VsZCByZXN1bHQgaW4gbXVsdGlwbGUgb3V0cHV0IGNodW5rcywgdGhlbiB0aGUgZmlyc3Rcbi8vIG91dHB1dHRlZCBiaXQgY2FsbHMgdGhlIHJlYWRjYiwgYW5kIHN1YnNlcXVlbnQgY2h1bmtzIGp1c3QgZ28gaW50b1xuLy8gdGhlIHJlYWQgYnVmZmVyLCBhbmQgd2lsbCBjYXVzZSBpdCB0byBlbWl0ICdyZWFkYWJsZScgaWYgbmVjZXNzYXJ5LlxuLy9cbi8vIFRoaXMgd2F5LCBiYWNrLXByZXNzdXJlIGlzIGFjdHVhbGx5IGRldGVybWluZWQgYnkgdGhlIHJlYWRpbmcgc2lkZSxcbi8vIHNpbmNlIF9yZWFkIGhhcyB0byBiZSBjYWxsZWQgdG8gc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBjaHVuay4gIEhvd2V2ZXIsXG4vLyBhIHBhdGhvbG9naWNhbCBpbmZsYXRlIHR5cGUgb2YgdHJhbnNmb3JtIGNhbiBjYXVzZSBleGNlc3NpdmUgYnVmZmVyaW5nXG4vLyBoZXJlLiAgRm9yIGV4YW1wbGUsIGltYWdpbmUgYSBzdHJlYW0gd2hlcmUgZXZlcnkgYnl0ZSBvZiBpbnB1dCBpc1xuLy8gaW50ZXJwcmV0ZWQgYXMgYW4gaW50ZWdlciBmcm9tIDAtMjU1LCBhbmQgdGhlbiByZXN1bHRzIGluIHRoYXQgbWFueVxuLy8gYnl0ZXMgb2Ygb3V0cHV0LiAgV3JpdGluZyB0aGUgNCBieXRlcyB7ZmYsZmYsZmYsZmZ9IHdvdWxkIHJlc3VsdCBpblxuLy8gMWtiIG9mIGRhdGEgYmVpbmcgb3V0cHV0LiAgSW4gdGhpcyBjYXNlLCB5b3UgY291bGQgd3JpdGUgYSB2ZXJ5IHNtYWxsXG4vLyBhbW91bnQgb2YgaW5wdXQsIGFuZCBlbmQgdXAgd2l0aCBhIHZlcnkgbGFyZ2UgYW1vdW50IG9mIG91dHB1dC4gIEluXG4vLyBzdWNoIGEgcGF0aG9sb2dpY2FsIGluZmxhdGluZyBtZWNoYW5pc20sIHRoZXJlJ2QgYmUgbm8gd2F5IHRvIHRlbGxcbi8vIHRoZSBzeXN0ZW0gdG8gc3RvcCBkb2luZyB0aGUgdHJhbnNmb3JtLiAgQSBzaW5nbGUgNE1CIHdyaXRlIGNvdWxkXG4vLyBjYXVzZSB0aGUgc3lzdGVtIHRvIHJ1biBvdXQgb2YgbWVtb3J5LlxuLy9cbi8vIEhvd2V2ZXIsIGV2ZW4gaW4gc3VjaCBhIHBhdGhvbG9naWNhbCBjYXNlLCBvbmx5IGEgc2luZ2xlIHdyaXR0ZW4gY2h1bmtcbi8vIHdvdWxkIGJlIGNvbnN1bWVkLCBhbmQgdGhlbiB0aGUgcmVzdCB3b3VsZCB3YWl0ICh1bi10cmFuc2Zvcm1lZCkgdW50aWxcbi8vIHRoZSByZXN1bHRzIG9mIHRoZSBwcmV2aW91cyB0cmFuc2Zvcm1lZCBjaHVuayB3ZXJlIGNvbnN1bWVkLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNmb3JtO1xuXG52YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSBPYmplY3QuY3JlYXRlKHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnV0aWwuaW5oZXJpdHMoVHJhbnNmb3JtLCBEdXBsZXgpO1xuXG5mdW5jdGlvbiBhZnRlclRyYW5zZm9ybShlciwgZGF0YSkge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG5cbiAgdmFyIGNiID0gdHMud3JpdGVjYjtcblxuICBpZiAoIWNiKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ3dyaXRlIGNhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lcycpKTtcbiAgfVxuXG4gIHRzLndyaXRlY2h1bmsgPSBudWxsO1xuICB0cy53cml0ZWNiID0gbnVsbDtcblxuICBpZiAoZGF0YSAhPSBudWxsKSAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICB0aGlzLnB1c2goZGF0YSk7XG5cbiAgY2IoZXIpO1xuXG4gIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHJzLnJlYWRpbmcgPSBmYWxzZTtcbiAgaWYgKHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSkgcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7XG5cbiAgRHVwbGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUgPSB7XG4gICAgYWZ0ZXJUcmFuc2Zvcm06IGFmdGVyVHJhbnNmb3JtLmJpbmQodGhpcyksXG4gICAgbmVlZFRyYW5zZm9ybTogZmFsc2UsXG4gICAgdHJhbnNmb3JtaW5nOiBmYWxzZSxcbiAgICB3cml0ZWNiOiBudWxsLFxuICAgIHdyaXRlY2h1bms6IG51bGwsXG4gICAgd3JpdGVlbmNvZGluZzogbnVsbFxuICB9O1xuXG4gIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgLy8gd2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGUgX3JlYWQgbWV0aG9kLCBhbmQgZG9uZSB0aGUgb3RoZXIgdGhpbmdzXG4gIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGVcbiAgLy8gc3luYyBndWFyZCBmbGFnLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7XG4gIH1cblxuICAvLyBXaGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHRoaXMub24oJ3ByZWZpbmlzaCcsIHByZWZpbmlzaCk7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaCgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5fZmx1c2goZnVuY3Rpb24gKGVyLCBkYXRhKSB7XG4gICAgICBkb25lKF90aGlzLCBlciwgZGF0YSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZG9uZSh0aGlzLCBudWxsLCBudWxsKTtcbiAgfVxufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgcmV0dXJuIER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZyk7XG59O1xuXG4vLyBUaGlzIGlzIHRoZSBwYXJ0IHdoZXJlIHlvdSBkbyBzdHVmZiFcbi8vIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaW4gaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuXG4vL1xuLy8gQ2FsbCBgcHVzaChuZXdDaHVuaylgIHRvIHBhc3MgYWxvbmcgdHJhbnNmb3JtZWQgb3V0cHV0XG4vLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLlxuLy9cbi8vIENhbGwgYGNiKGVycilgIHdoZW4geW91IGFyZSBkb25lIHdpdGggdGhpcyBjaHVuay4gIElmIHlvdSBwYXNzXG4vLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91XG4vLyBuZXZlciBjYWxsIGNiKCksIHRoZW4geW91J2xsIG5ldmVyIGdldCBhbm90aGVyIGNodW5rLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdfdHJhbnNmb3JtKCkgaXMgbm90IGltcGxlbWVudGVkJyk7XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy53cml0ZWNiID0gY2I7XG4gIHRzLndyaXRlY2h1bmsgPSBjaHVuaztcbiAgdHMud3JpdGVlbmNvZGluZyA9IGVuY29kaW5nO1xuICBpZiAoIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgaWYgKHRzLm5lZWRUcmFuc2Zvcm0gfHwgcnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn07XG5cbi8vIERvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIGFyZ3MgYXJlIGhlcmUuXG4vLyBfdHJhbnNmb3JtIGRvZXMgYWxsIHRoZSB3b3JrLlxuLy8gVGhhdCB3ZSBnb3QgaGVyZSBtZWFucyB0aGF0IHRoZSByZWFkYWJsZSBzaWRlIHdhbnRzIG1vcmUgZGF0YS5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcblxuICBpZiAodHMud3JpdGVjaHVuayAhPT0gbnVsbCAmJiB0cy53cml0ZWNiICYmICF0cy50cmFuc2Zvcm1pbmcpIHtcbiAgICB0cy50cmFuc2Zvcm1pbmcgPSB0cnVlO1xuICAgIHRoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLCB0cy53cml0ZWVuY29kaW5nLCB0cy5hZnRlclRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFyayB0aGF0IHdlIG5lZWQgYSB0cmFuc2Zvcm0sIHNvIHRoYXQgYW55IGRhdGEgdGhhdCBjb21lcyBpblxuICAgIC8vIHdpbGwgZ2V0IHByb2Nlc3NlZCwgbm93IHRoYXQgd2UndmUgYXNrZWQgZm9yIGl0LlxuICAgIHRzLm5lZWRUcmFuc2Zvcm0gPSB0cnVlO1xuICB9XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveS5jYWxsKHRoaXMsIGVyciwgZnVuY3Rpb24gKGVycjIpIHtcbiAgICBjYihlcnIyKTtcbiAgICBfdGhpczIuZW1pdCgnY2xvc2UnKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgaWYgKGVyKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuXG4gIGlmIChkYXRhICE9IG51bGwpIC8vIHNpbmdsZSBlcXVhbHMgY2hlY2sgZm9yIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxuICAgIHN0cmVhbS5wdXNoKGRhdGEpO1xuXG4gIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBpbiB0aGUgd3JpdGUgYnVmZmVyLCB0aGVuIHRoYXQgbWVhbnNcbiAgLy8gdGhhdCBub3RoaW5nIG1vcmUgd2lsbCBldmVyIGJlIHByb3ZpZGVkXG4gIGlmIChzdHJlYW0uX3dyaXRhYmxlU3RhdGUubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiB3cy5sZW5ndGggIT0gMCcpO1xuXG4gIGlmIChzdHJlYW0uX3RyYW5zZm9ybVN0YXRlLnRyYW5zZm9ybWluZykgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nJyk7XG5cbiAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpO1xufSIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBBIGJpdCBzaW1wbGVyIHRoYW4gcmVhZGFibGUgc3RyZWFtcy5cbi8vIEltcGxlbWVudCBhbiBhc3luYyAuX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpLCBhbmQgaXQnbGwgaGFuZGxlIGFsbFxuLy8gdGhlIGRyYWluIGV2ZW50IGVtaXNzaW9uIGFuZCBidWZmZXJpbmcuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxubW9kdWxlLmV4cG9ydHMgPSBXcml0YWJsZTtcblxuLyogPHJlcGxhY2VtZW50PiAqL1xuZnVuY3Rpb24gV3JpdGVSZXEoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB0aGlzLmNodW5rID0gY2h1bms7XG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgdGhpcy5jYWxsYmFjayA9IGNiO1xuICB0aGlzLm5leHQgPSBudWxsO1xufVxuXG4vLyBJdCBzZWVtcyBhIGxpbmtlZCBsaXN0IGJ1dCBpdCBpcyBub3Rcbi8vIHRoZXJlIHdpbGwgYmUgb25seSAyIG9mIHRoZXNlIGZvciBlYWNoIHN0cmVhbVxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMubmV4dCA9IG51bGw7XG4gIHRoaXMuZW50cnkgPSBudWxsO1xuICB0aGlzLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICBvbkNvcmtlZEZpbmlzaChfdGhpcywgc3RhdGUpO1xuICB9O1xufVxuLyogPC9yZXBsYWNlbWVudD4gKi9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBhc3luY1dyaXRlID0gIXByb2Nlc3MuYnJvd3NlciAmJiBbJ3YwLjEwJywgJ3YwLjkuJ10uaW5kZXhPZihwcm9jZXNzLnZlcnNpb24uc2xpY2UoMCwgNSkpID4gLTEgPyBzZXRJbW1lZGlhdGUgOiBwbmEubmV4dFRpY2s7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBEdXBsZXg7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuV3JpdGFibGUuV3JpdGFibGVTdGF0ZSA9IFdyaXRhYmxlU3RhdGU7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IE9iamVjdC5jcmVhdGUocmVxdWlyZSgnY29yZS11dGlsLWlzJykpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBpbnRlcm5hbFV0aWwgPSB7XG4gIGRlcHJlY2F0ZTogcmVxdWlyZSgndXRpbC1kZXByZWNhdGUnKVxufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIFN0cmVhbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0nKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG52YXIgT3VyVWludDhBcnJheSA9IGdsb2JhbC5VaW50OEFycmF5IHx8IGZ1bmN0aW9uICgpIHt9O1xuZnVuY3Rpb24gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuaykge1xuICByZXR1cm4gQnVmZmVyLmZyb20oY2h1bmspO1xufVxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG5cbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgZGVzdHJveUltcGwgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveScpO1xuXG51dGlsLmluaGVyaXRzKFdyaXRhYmxlLCBTdHJlYW0pO1xuXG5mdW5jdGlvbiBub3AoKSB7fVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHN0cmVhbSkge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIER1cGxleCBzdHJlYW1zIGFyZSBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZSwgYnV0IHNoYXJlXG4gIC8vIHRoZSBzYW1lIG9wdGlvbnMgb2JqZWN0LlxuICAvLyBIb3dldmVyLCBzb21lIGNhc2VzIHJlcXVpcmUgc2V0dGluZyBvcHRpb25zIHRvIGRpZmZlcmVudFxuICAvLyB2YWx1ZXMgZm9yIHRoZSByZWFkYWJsZSBhbmQgdGhlIHdyaXRhYmxlIHNpZGVzIG9mIHRoZSBkdXBsZXggc3RyZWFtLlxuICAvLyBUaGVzZSBvcHRpb25zIGNhbiBiZSBwcm92aWRlZCBzZXBhcmF0ZWx5IGFzIHJlYWRhYmxlWFhYIGFuZCB3cml0YWJsZVhYWC5cbiAgdmFyIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4O1xuXG4gIC8vIG9iamVjdCBzdHJlYW0gZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIG9yIG5vdCB0aGlzIHN0cmVhbVxuICAvLyBjb250YWlucyBidWZmZXJzIG9yIG9iamVjdHMuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuXG4gIGlmIChpc0R1cGxleCkgdGhpcy5vYmplY3RNb2RlID0gdGhpcy5vYmplY3RNb2RlIHx8ICEhb3B0aW9ucy53cml0YWJsZU9iamVjdE1vZGU7XG5cbiAgLy8gdGhlIHBvaW50IGF0IHdoaWNoIHdyaXRlKCkgc3RhcnRzIHJldHVybmluZyBmYWxzZVxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIHRoYXQgd2UgYWx3YXlzIHJldHVybiBmYWxzZSBpZlxuICAvLyB0aGUgZW50aXJlIGJ1ZmZlciBpcyBub3QgZmx1c2hlZCBpbW1lZGlhdGVseSBvbiB3cml0ZSgpXG4gIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIHZhciB3cml0YWJsZUh3bSA9IG9wdGlvbnMud3JpdGFibGVIaWdoV2F0ZXJNYXJrO1xuICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xuXG4gIGlmIChod20gfHwgaHdtID09PSAwKSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod207ZWxzZSBpZiAoaXNEdXBsZXggJiYgKHdyaXRhYmxlSHdtIHx8IHdyaXRhYmxlSHdtID09PSAwKSkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gd3JpdGFibGVId207ZWxzZSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBkZWZhdWx0SHdtO1xuXG4gIC8vIGNhc3QgdG8gaW50cy5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gTWF0aC5mbG9vcih0aGlzLmhpZ2hXYXRlck1hcmspO1xuXG4gIC8vIGlmIF9maW5hbCBoYXMgYmVlbiBjYWxsZWRcbiAgdGhpcy5maW5hbENhbGxlZCA9IGZhbHNlO1xuXG4gIC8vIGRyYWluIGV2ZW50IGZsYWcuXG4gIHRoaXMubmVlZERyYWluID0gZmFsc2U7XG4gIC8vIGF0IHRoZSBzdGFydCBvZiBjYWxsaW5nIGVuZCgpXG4gIHRoaXMuZW5kaW5nID0gZmFsc2U7XG4gIC8vIHdoZW4gZW5kKCkgaGFzIGJlZW4gY2FsbGVkLCBhbmQgcmV0dXJuZWRcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcbiAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIGhhcyBpdCBiZWVuIGRlc3Ryb3llZFxuICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuXG4gIC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cbiAgdmFyIG5vRGVjb2RlID0gb3B0aW9ucy5kZWNvZGVTdHJpbmdzID09PSBmYWxzZTtcbiAgdGhpcy5kZWNvZGVTdHJpbmdzID0gIW5vRGVjb2RlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG4gIHRoaXMubGVuZ3RoID0gMDtcblxuICAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuICB0aGlzLndyaXRpbmcgPSBmYWxzZTtcblxuICAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG4gIHRoaXMuY29ya2VkID0gMDtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuICB0aGlzLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG4gIHRoaXMub253cml0ZSA9IGZ1bmN0aW9uIChlcikge1xuICAgIG9ud3JpdGUoc3RyZWFtLCBlcik7XG4gIH07XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQgdGhlIHVzZXIgc3VwcGxpZXMgdG8gd3JpdGUoY2h1bmssZW5jb2RpbmcsY2IpXG4gIHRoaXMud3JpdGVjYiA9IG51bGw7XG5cbiAgLy8gdGhlIGFtb3VudCB0aGF0IGlzIGJlaW5nIHdyaXR0ZW4gd2hlbiBfd3JpdGUgaXMgY2FsbGVkLlxuICB0aGlzLndyaXRlbGVuID0gMDtcblxuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG5cbiAgLy8gbnVtYmVyIG9mIHBlbmRpbmcgdXNlci1zdXBwbGllZCB3cml0ZSBjYWxsYmFja3NcbiAgLy8gdGhpcyBtdXN0IGJlIDAgYmVmb3JlICdmaW5pc2gnIGNhbiBiZSBlbWl0dGVkXG4gIHRoaXMucGVuZGluZ2NiID0gMDtcblxuICAvLyBlbWl0IHByZWZpbmlzaCBpZiB0aGUgb25seSB0aGluZyB3ZSdyZSB3YWl0aW5nIGZvciBpcyBfd3JpdGUgY2JzXG4gIC8vIFRoaXMgaXMgcmVsZXZhbnQgZm9yIHN5bmNocm9ub3VzIFRyYW5zZm9ybSBzdHJlYW1zXG4gIHRoaXMucHJlZmluaXNoZWQgPSBmYWxzZTtcblxuICAvLyBUcnVlIGlmIHRoZSBlcnJvciB3YXMgYWxyZWFkeSBlbWl0dGVkIGFuZCBzaG91bGQgbm90IGJlIHRocm93biBhZ2FpblxuICB0aGlzLmVycm9yRW1pdHRlZCA9IGZhbHNlO1xuXG4gIC8vIGNvdW50IGJ1ZmZlcmVkIHJlcXVlc3RzXG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQgPSAwO1xuXG4gIC8vIGFsbG9jYXRlIHRoZSBmaXJzdCBDb3JrZWRSZXF1ZXN0LCB0aGVyZSBpcyBhbHdheXNcbiAgLy8gb25lIGFsbG9jYXRlZCBhbmQgZnJlZSB0byB1c2UsIGFuZCB3ZSBtYWludGFpbiBhdCBtb3N0IHR3b1xuICB0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZSA9IG5ldyBDb3JrZWRSZXF1ZXN0KHRoaXMpO1xufVxuXG5Xcml0YWJsZVN0YXRlLnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbiBnZXRCdWZmZXIoKSB7XG4gIHZhciBjdXJyZW50ID0gdGhpcy5idWZmZXJlZFJlcXVlc3Q7XG4gIHZhciBvdXQgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBvdXQucHVzaChjdXJyZW50KTtcbiAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgICAgIGdldDogaW50ZXJuYWxVdGlsLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJ1ZmZlcigpO1xuICAgICAgfSwgJ193cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyICcgKyAnaW5zdGVhZC4nLCAnREVQMDAwMycpXG4gICAgfSk7XG4gIH0gY2F0Y2ggKF8pIHt9XG59KSgpO1xuXG4vLyBUZXN0IF93cml0YWJsZVN0YXRlIGZvciBpbmhlcml0YW5jZSB0byBhY2NvdW50IGZvciBEdXBsZXggc3RyZWFtcyxcbi8vIHdob3NlIHByb3RvdHlwZSBjaGFpbiBvbmx5IHBvaW50cyB0byBSZWFkYWJsZS5cbnZhciByZWFsSGFzSW5zdGFuY2U7XG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaGFzSW5zdGFuY2UgJiYgdHlwZW9mIEZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdID09PSAnZnVuY3Rpb24nKSB7XG4gIHJlYWxIYXNJbnN0YW5jZSA9IEZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUsIFN5bWJvbC5oYXNJbnN0YW5jZSwge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICBpZiAocmVhbEhhc0luc3RhbmNlLmNhbGwodGhpcywgb2JqZWN0KSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcyAhPT0gV3JpdGFibGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgcmV0dXJuIG9iamVjdCAmJiBvYmplY3QuX3dyaXRhYmxlU3RhdGUgaW5zdGFuY2VvZiBXcml0YWJsZVN0YXRlO1xuICAgIH1cbiAgfSk7XG59IGVsc2Uge1xuICByZWFsSGFzSW5zdGFuY2UgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIHRoaXM7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlKG9wdGlvbnMpIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICAvLyBXcml0YWJsZSBjdG9yIGlzIGFwcGxpZWQgdG8gRHVwbGV4ZXMsIHRvby5cbiAgLy8gYHJlYWxIYXNJbnN0YW5jZWAgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgdXNpbmcgcGxhaW4gYGluc3RhbmNlb2ZgXG4gIC8vIHdvdWxkIHJldHVybiBmYWxzZSwgYXMgbm8gYF93cml0YWJsZVN0YXRlYCBwcm9wZXJ0eSBpcyBhdHRhY2hlZC5cblxuICAvLyBUcnlpbmcgdG8gdXNlIHRoZSBjdXN0b20gYGluc3RhbmNlb2ZgIGZvciBXcml0YWJsZSBoZXJlIHdpbGwgYWxzbyBicmVhayB0aGVcbiAgLy8gTm9kZS5qcyBMYXp5VHJhbnNmb3JtIGltcGxlbWVudGF0aW9uLCB3aGljaCBoYXMgYSBub24tdHJpdmlhbCBnZXR0ZXIgZm9yXG4gIC8vIGBfd3JpdGFibGVTdGF0ZWAgdGhhdCB3b3VsZCBsZWFkIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgaWYgKCFyZWFsSGFzSW5zdGFuY2UuY2FsbChXcml0YWJsZSwgdGhpcykgJiYgISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkge1xuICAgIHJldHVybiBuZXcgV3JpdGFibGUob3B0aW9ucyk7XG4gIH1cblxuICB0aGlzLl93cml0YWJsZVN0YXRlID0gbmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5LlxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLndyaXRldiA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGV2ID0gb3B0aW9ucy53cml0ZXY7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZGVzdHJveSA9IG9wdGlvbnMuZGVzdHJveTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maW5hbCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmluYWwgPSBvcHRpb25zLmZpbmFsO1xuICB9XG5cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59XG5cbi8vIE90aGVyd2lzZSBwZW9wbGUgY2FuIHBpcGUgV3JpdGFibGUgc3RyZWFtcywgd2hpY2ggaXMganVzdCB3cm9uZy5cbldyaXRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlJykpO1xufTtcblxuZnVuY3Rpb24gd3JpdGVBZnRlckVuZChzdHJlYW0sIGNiKSB7XG4gIHZhciBlciA9IG5ldyBFcnJvcignd3JpdGUgYWZ0ZXIgZW5kJyk7XG4gIC8vIFRPRE86IGRlZmVyIGVycm9yIGV2ZW50cyBjb25zaXN0ZW50bHkgZXZlcnl3aGVyZSwgbm90IGp1c3QgdGhlIGNiXG4gIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgcG5hLm5leHRUaWNrKGNiLCBlcik7XG59XG5cbi8vIENoZWNrcyB0aGF0IGEgdXNlci1zdXBwbGllZCBjaHVuayBpcyB2YWxpZCwgZXNwZWNpYWxseSBmb3IgdGhlIHBhcnRpY3VsYXJcbi8vIG1vZGUgdGhlIHN0cmVhbSBpcyBpbi4gQ3VycmVudGx5IHRoaXMgbWVhbnMgdGhhdCBgbnVsbGAgaXMgbmV2ZXIgYWNjZXB0ZWRcbi8vIGFuZCB1bmRlZmluZWQvbm9uLXN0cmluZyB2YWx1ZXMgYXJlIG9ubHkgYWxsb3dlZCBpbiBvYmplY3QgbW9kZS5cbmZ1bmN0aW9uIHZhbGlkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGNiKSB7XG4gIHZhciB2YWxpZCA9IHRydWU7XG4gIHZhciBlciA9IGZhbHNlO1xuXG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignTWF5IG5vdCB3cml0ZSBudWxsIHZhbHVlcyB0byBzdHJlYW0nKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTtcbiAgfVxuICBpZiAoZXIpIHtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgcG5hLm5leHRUaWNrKGNiLCBlcik7XG4gICAgdmFsaWQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsaWQ7XG59XG5cbldyaXRhYmxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gIHZhciByZXQgPSBmYWxzZTtcbiAgdmFyIGlzQnVmID0gIXN0YXRlLm9iamVjdE1vZGUgJiYgX2lzVWludDhBcnJheShjaHVuayk7XG5cbiAgaWYgKGlzQnVmICYmICFCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSB7XG4gICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChpc0J1ZikgZW5jb2RpbmcgPSAnYnVmZmVyJztlbHNlIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuXG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wO1xuXG4gIGlmIChzdGF0ZS5lbmRlZCkgd3JpdGVBZnRlckVuZCh0aGlzLCBjYik7ZWxzZSBpZiAoaXNCdWYgfHwgdmFsaWRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGNiKSkge1xuICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgIHJldCA9IHdyaXRlT3JCdWZmZXIodGhpcywgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBzdGF0ZS5jb3JrZWQrKztcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS51bmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZC0tO1xuXG4gICAgaWYgKCFzdGF0ZS53cml0aW5nICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmZpbmlzaGVkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nID0gZnVuY3Rpb24gc2V0RGVmYXVsdEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLlxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykgZW5jb2RpbmcgPSBlbmNvZGluZy50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIShbJ2hleCcsICd1dGY4JywgJ3V0Zi04JywgJ2FzY2lpJywgJ2JpbmFyeScsICdiYXNlNjQnLCAndWNzMicsICd1Y3MtMicsICd1dGYxNmxlJywgJ3V0Zi0xNmxlJywgJ3JhdyddLmluZGV4T2YoKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKCkpID4gLTEpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpO1xuICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpIHtcbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cbiAgcmV0dXJuIGNodW5rO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnd3JpdGFibGVIaWdoV2F0ZXJNYXJrJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICB9XG59KTtcblxuLy8gaWYgd2UncmUgYWxyZWFkeSB3cml0aW5nIHNvbWV0aGluZywgdGhlbiBqdXN0IHB1dCB0aGlzXG4vLyBpbiB0aGUgcXVldWUsIGFuZCB3YWl0IG91ciB0dXJuLiAgT3RoZXJ3aXNlLCBjYWxsIF93cml0ZVxuLy8gSWYgd2UgcmV0dXJuIGZhbHNlLCB0aGVuIHdlIG5lZWQgYSBkcmFpbiBldmVudCwgc28gc2V0IHRoYXQgZmxhZy5cbmZ1bmN0aW9uIHdyaXRlT3JCdWZmZXIoc3RyZWFtLCBzdGF0ZSwgaXNCdWYsIGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgaWYgKCFpc0J1Zikge1xuICAgIHZhciBuZXdDaHVuayA9IGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpO1xuICAgIGlmIChjaHVuayAhPT0gbmV3Q2h1bmspIHtcbiAgICAgIGlzQnVmID0gdHJ1ZTtcbiAgICAgIGVuY29kaW5nID0gJ2J1ZmZlcic7XG4gICAgICBjaHVuayA9IG5ld0NodW5rO1xuICAgIH1cbiAgfVxuICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgc3RhdGUubGVuZ3RoICs9IGxlbjtcblxuICB2YXIgcmV0ID0gc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgLy8gd2UgbXVzdCBlbnN1cmUgdGhhdCBwcmV2aW91cyBuZWVkRHJhaW4gd2lsbCBub3QgYmUgcmVzZXQgdG8gZmFsc2UuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0ge1xuICAgICAgY2h1bms6IGNodW5rLFxuICAgICAgZW5jb2Rpbmc6IGVuY29kaW5nLFxuICAgICAgaXNCdWY6IGlzQnVmLFxuICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgbmV4dDogbnVsbFxuICAgIH07XG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIGxhc3QubmV4dCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgfVxuICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ICs9IDE7XG4gIH0gZWxzZSB7XG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgd3JpdGV2LCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgc3RhdGUud3JpdGVsZW4gPSBsZW47XG4gIHN0YXRlLndyaXRlY2IgPSBjYjtcbiAgc3RhdGUud3JpdGluZyA9IHRydWU7XG4gIHN0YXRlLnN5bmMgPSB0cnVlO1xuICBpZiAod3JpdGV2KSBzdHJlYW0uX3dyaXRldihjaHVuaywgc3RhdGUub253cml0ZSk7ZWxzZSBzdHJlYW0uX3dyaXRlKGNodW5rLCBlbmNvZGluZywgc3RhdGUub253cml0ZSk7XG4gIHN0YXRlLnN5bmMgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb253cml0ZUVycm9yKHN0cmVhbSwgc3RhdGUsIHN5bmMsIGVyLCBjYikge1xuICAtLXN0YXRlLnBlbmRpbmdjYjtcblxuICBpZiAoc3luYykge1xuICAgIC8vIGRlZmVyIHRoZSBjYWxsYmFjayBpZiB3ZSBhcmUgYmVpbmcgY2FsbGVkIHN5bmNocm9ub3VzbHlcbiAgICAvLyB0byBhdm9pZCBwaWxpbmcgdXAgdGhpbmdzIG9uIHRoZSBzdGFja1xuICAgIHBuYS5uZXh0VGljayhjYiwgZXIpO1xuICAgIC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBhbmQgaXQgd2lsbCBhbHdheXMgaGFwcGVuXG4gICAgLy8gYWZ0ZXIgZXJyb3JcbiAgICBwbmEubmV4dFRpY2soZmluaXNoTWF5YmUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB0aGUgY2FsbGVyIGV4cGVjdCB0aGlzIHRvIGhhcHBlbiBiZWZvcmUgaWZcbiAgICAvLyBpdCBpcyBhc3luY1xuICAgIGNiKGVyKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgLy8gdGhpcyBjYW4gZW1pdCBmaW5pc2gsIGJ1dCBmaW5pc2ggbXVzdFxuICAgIC8vIGFsd2F5cyBmb2xsb3cgZXJyb3JcbiAgICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpIHtcbiAgc3RhdGUud3JpdGluZyA9IGZhbHNlO1xuICBzdGF0ZS53cml0ZWNiID0gbnVsbDtcbiAgc3RhdGUubGVuZ3RoIC09IHN0YXRlLndyaXRlbGVuO1xuICBzdGF0ZS53cml0ZWxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGUoc3RyZWFtLCBlcikge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7XG4gIHZhciBzeW5jID0gc3RhdGUuc3luYztcbiAgdmFyIGNiID0gc3RhdGUud3JpdGVjYjtcblxuICBvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpO1xuXG4gIGlmIChlcikgb253cml0ZUVycm9yKHN0cmVhbSwgc3RhdGUsIHN5bmMsIGVyLCBjYik7ZWxzZSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgYWN0dWFsbHkgcmVhZHkgdG8gZmluaXNoLCBidXQgZG9uJ3QgZW1pdCB5ZXRcbiAgICB2YXIgZmluaXNoZWQgPSBuZWVkRmluaXNoKHN0YXRlKTtcblxuICAgIGlmICghZmluaXNoZWQgJiYgIXN0YXRlLmNvcmtlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIHtcbiAgICAgIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChzeW5jKSB7XG4gICAgICAvKjxyZXBsYWNlbWVudD4qL1xuICAgICAgYXN5bmNXcml0ZShhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgICAgLyo8L3JlcGxhY2VtZW50PiovXG4gICAgfSBlbHNlIHtcbiAgICAgIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWZ0ZXJXcml0ZShzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpIHtcbiAgaWYgKCFmaW5pc2hlZCkgb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpO1xuICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgY2IoKTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbi8vIE11c3QgZm9yY2UgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uIG5leHRUaWNrLCBzbyB0aGF0IHdlIGRvbid0XG4vLyBlbWl0ICdkcmFpbicgYmVmb3JlIHRoZSB3cml0ZSgpIGNvbnN1bWVyIGdldHMgdGhlICdmYWxzZScgcmV0dXJuXG4vLyB2YWx1ZSwgYW5kIGhhcyBhIGNoYW5jZSB0byBhdHRhY2ggYSAnZHJhaW4nIGxpc3RlbmVyLlxuZnVuY3Rpb24gb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5uZWVkRHJhaW4pIHtcbiAgICBzdGF0ZS5uZWVkRHJhaW4gPSBmYWxzZTtcbiAgICBzdHJlYW0uZW1pdCgnZHJhaW4nKTtcbiAgfVxufVxuXG4vLyBpZiB0aGVyZSdzIHNvbWV0aGluZyBpbiB0aGUgYnVmZmVyIHdhaXRpbmcsIHRoZW4gcHJvY2VzcyBpdFxuZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSkge1xuICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgdmFyIGVudHJ5ID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0O1xuXG4gIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7XG4gICAgLy8gRmFzdCBjYXNlLCB3cml0ZSBldmVyeXRoaW5nIHVzaW5nIF93cml0ZXYoKVxuICAgIHZhciBsID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ7XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTtcbiAgICB2YXIgaG9sZGVyID0gc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO1xuICAgIGhvbGRlci5lbnRyeSA9IGVudHJ5O1xuXG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB2YXIgYWxsQnVmZmVycyA9IHRydWU7XG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBidWZmZXJbY291bnRdID0gZW50cnk7XG4gICAgICBpZiAoIWVudHJ5LmlzQnVmKSBhbGxCdWZmZXJzID0gZmFsc2U7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cbiAgICBidWZmZXIuYWxsQnVmZmVycyA9IGFsbEJ1ZmZlcnM7XG5cbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHRydWUsIHN0YXRlLmxlbmd0aCwgYnVmZmVyLCAnJywgaG9sZGVyLmZpbmlzaCk7XG5cbiAgICAvLyBkb1dyaXRlIGlzIGFsbW9zdCBhbHdheXMgYXN5bmMsIGRlZmVyIHRoZXNlIHRvIHNhdmUgYSBiaXQgb2YgdGltZVxuICAgIC8vIGFzIHRoZSBob3QgcGF0aCBlbmRzIHdpdGggZG9Xcml0ZVxuICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICAgIGlmIChob2xkZXIubmV4dCkge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gaG9sZGVyLm5leHQ7XG4gICAgICBob2xkZXIubmV4dCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IG5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKTtcbiAgICB9XG4gICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFNsb3cgY2FzZSwgd3JpdGUgY2h1bmtzIG9uZS1ieS1vbmVcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIHZhciBjaHVuayA9IGVudHJ5LmNodW5rO1xuICAgICAgdmFyIGVuY29kaW5nID0gZW50cnkuZW5jb2Rpbmc7XG4gICAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICAgIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcblxuICAgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS07XG4gICAgICAvLyBpZiB3ZSBkaWRuJ3QgY2FsbCB0aGUgb253cml0ZSBpbW1lZGlhdGVseSwgdGhlblxuICAgICAgLy8gaXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXQgZG9lcy5cbiAgICAgIC8vIGFsc28sIHRoYXQgbWVhbnMgdGhhdCB0aGUgY2h1bmsgYW5kIGNiIGFyZSBjdXJyZW50bHlcbiAgICAgIC8vIGJlaW5nIHByb2Nlc3NlZCwgc28gbW92ZSB0aGUgYnVmZmVyIGNvdW50ZXIgcGFzdCB0aGVtLlxuICAgICAgaWYgKHN0YXRlLndyaXRpbmcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5ID09PSBudWxsKSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgfVxuXG4gIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9IGVudHJ5O1xuICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7XG59XG5cbldyaXRhYmxlLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihuZXcgRXJyb3IoJ193cml0ZSgpIGlzIG5vdCBpbXBsZW1lbnRlZCcpKTtcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5fd3JpdGV2ID0gbnVsbDtcblxuV3JpdGFibGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gY2h1bms7XG4gICAgY2h1bmsgPSBudWxsO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkKSB0aGlzLndyaXRlKGNodW5rLCBlbmNvZGluZyk7XG5cbiAgLy8gLmVuZCgpIGZ1bGx5IHVuY29ya3NcbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZCA9IDE7XG4gICAgdGhpcy51bmNvcmsoKTtcbiAgfVxuXG4gIC8vIGlnbm9yZSB1bm5lY2Vzc2FyeSBlbmQoKSBjYWxscy5cbiAgaWYgKCFzdGF0ZS5lbmRpbmcgJiYgIXN0YXRlLmZpbmlzaGVkKSBlbmRXcml0YWJsZSh0aGlzLCBzdGF0ZSwgY2IpO1xufTtcblxuZnVuY3Rpb24gbmVlZEZpbmlzaChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuZW5kaW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPT09IG51bGwgJiYgIXN0YXRlLmZpbmlzaGVkICYmICFzdGF0ZS53cml0aW5nO1xufVxuZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RyZWFtLl9maW5hbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiLS07XG4gICAgaWYgKGVycikge1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICB9XG4gICAgc3RhdGUucHJlZmluaXNoZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTtcbiAgICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnByZWZpbmlzaGVkICYmICFzdGF0ZS5maW5hbENhbGxlZCkge1xuICAgIGlmICh0eXBlb2Ygc3RyZWFtLl9maW5hbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgICBzdGF0ZS5maW5hbENhbGxlZCA9IHRydWU7XG4gICAgICBwbmEubmV4dFRpY2soY2FsbEZpbmFsLCBzdHJlYW0sIHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucHJlZmluaXNoZWQgPSB0cnVlO1xuICAgICAgc3RyZWFtLmVtaXQoJ3ByZWZpbmlzaCcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBuZWVkID0gbmVlZEZpbmlzaChzdGF0ZSk7XG4gIGlmIChuZWVkKSB7XG4gICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpO1xuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5lZWQ7XG59XG5cbmZ1bmN0aW9uIGVuZFdyaXRhYmxlKHN0cmVhbSwgc3RhdGUsIGNiKSB7XG4gIHN0YXRlLmVuZGluZyA9IHRydWU7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICBpZiAoY2IpIHtcbiAgICBpZiAoc3RhdGUuZmluaXNoZWQpIHBuYS5uZXh0VGljayhjYik7ZWxzZSBzdHJlYW0ub25jZSgnZmluaXNoJywgY2IpO1xuICB9XG4gIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgc3RyZWFtLndyaXRhYmxlID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9uQ29ya2VkRmluaXNoKGNvcmtSZXEsIHN0YXRlLCBlcnIpIHtcbiAgdmFyIGVudHJ5ID0gY29ya1JlcS5lbnRyeTtcbiAgY29ya1JlcS5lbnRyeSA9IG51bGw7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgIHN0YXRlLnBlbmRpbmdjYi0tO1xuICAgIGNiKGVycik7XG4gICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICB9XG4gIGlmIChzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUpIHtcbiAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUubmV4dCA9IGNvcmtSZXE7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gY29ya1JlcTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyB3ZSBpZ25vcmUgdGhlIHZhbHVlIGlmIHRoZSBzdHJlYW1cbiAgICAvLyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgeWV0XG4gICAgaWYgKCF0aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhlIHVzZXIgaXMgZXhwbGljaXRseVxuICAgIC8vIG1hbmFnaW5nIGRlc3Ryb3llZFxuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gIH1cbn0pO1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLmRlc3Ryb3k7XG5Xcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLnVuZGVzdHJveTtcbldyaXRhYmxlLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gIHRoaXMuZW5kKCk7XG4gIGNiKGVycik7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbmZ1bmN0aW9uIGNvcHlCdWZmZXIoc3JjLCB0YXJnZXQsIG9mZnNldCkge1xuICBzcmMuY29weSh0YXJnZXQsIG9mZnNldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCdWZmZXJMaXN0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXJMaXN0KTtcblxuICAgIHRoaXMuaGVhZCA9IG51bGw7XG4gICAgdGhpcy50YWlsID0gbnVsbDtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBCdWZmZXJMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCh2KSB7XG4gICAgdmFyIGVudHJ5ID0geyBkYXRhOiB2LCBuZXh0OiBudWxsIH07XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkgdGhpcy50YWlsLm5leHQgPSBlbnRyeTtlbHNlIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgIHRoaXMudGFpbCA9IGVudHJ5O1xuICAgICsrdGhpcy5sZW5ndGg7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uIHVuc2hpZnQodikge1xuICAgIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogdGhpcy5oZWFkIH07XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgICB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICArK3RoaXMubGVuZ3RoO1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gc2hpZnQoKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgdmFyIHJldCA9IHRoaXMuaGVhZC5kYXRhO1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xuICAgIC0tdGhpcy5sZW5ndGg7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICBCdWZmZXJMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiBqb2luKHMpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICB2YXIgcmV0ID0gJycgKyBwLmRhdGE7XG4gICAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICAgIHJldCArPSBzICsgcC5kYXRhO1xuICAgIH1yZXR1cm4gcmV0O1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdChuKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gQnVmZmVyLmFsbG9jKDApO1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICAgIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobiA+Pj4gMCk7XG4gICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChwKSB7XG4gICAgICBjb3B5QnVmZmVyKHAuZGF0YSwgcmV0LCBpKTtcbiAgICAgIGkgKz0gcC5kYXRhLmxlbmd0aDtcbiAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgcmV0dXJuIEJ1ZmZlckxpc3Q7XG59KCk7XG5cbmlmICh1dGlsICYmIHV0aWwuaW5zcGVjdCAmJiB1dGlsLmluc3BlY3QuY3VzdG9tKSB7XG4gIG1vZHVsZS5leHBvcnRzLnByb3RvdHlwZVt1dGlsLmluc3BlY3QuY3VzdG9tXSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb2JqID0gdXRpbC5pbnNwZWN0KHsgbGVuZ3RoOiB0aGlzLmxlbmd0aCB9KTtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgb2JqO1xuICB9O1xufSIsIid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLy8gdW5kb2N1bWVudGVkIGNiKCkgQVBJLCBuZWVkZWQgZm9yIGNvcmUsIG5vdCBmb3IgcHVibGljIEFQSVxuZnVuY3Rpb24gZGVzdHJveShlcnIsIGNiKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIHJlYWRhYmxlRGVzdHJveWVkID0gdGhpcy5fcmVhZGFibGVTdGF0ZSAmJiB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZDtcbiAgdmFyIHdyaXRhYmxlRGVzdHJveWVkID0gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDtcblxuICBpZiAocmVhZGFibGVEZXN0cm95ZWQgfHwgd3JpdGFibGVEZXN0cm95ZWQpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGNiKGVycik7XG4gICAgfSBlbHNlIGlmIChlcnIgJiYgKCF0aGlzLl93cml0YWJsZVN0YXRlIHx8ICF0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCkpIHtcbiAgICAgIHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB3ZSBzZXQgZGVzdHJveWVkIHRvIHRydWUgYmVmb3JlIGZpcmluZyBlcnJvciBjYWxsYmFja3MgaW4gb3JkZXJcbiAgLy8gdG8gbWFrZSBpdCByZS1lbnRyYW5jZSBzYWZlIGluIGNhc2UgZGVzdHJveSgpIGlzIGNhbGxlZCB3aXRoaW4gY2FsbGJhY2tzXG5cbiAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cblxuICAvLyBpZiB0aGlzIGlzIGEgZHVwbGV4IHN0cmVhbSBtYXJrIHRoZSB3cml0YWJsZSBwYXJ0IGFzIGRlc3Ryb3llZCBhcyB3ZWxsXG4gIGlmICh0aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fZGVzdHJveShlcnIgfHwgbnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmICghY2IgJiYgZXJyKSB7XG4gICAgICBwbmEubmV4dFRpY2soZW1pdEVycm9yTlQsIF90aGlzLCBlcnIpO1xuICAgICAgaWYgKF90aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgICAgIF90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgY2IoZXJyKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB1bmRlc3Ryb3koKSB7XG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdEVycm9yTlQoc2VsZiwgZXJyKSB7XG4gIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVzdHJveTogZGVzdHJveSxcbiAgdW5kZXN0cm95OiB1bmRlc3Ryb3lcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcmVhZGFibGUnKS5QYXNzVGhyb3VnaFxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcycpO1xuZXhwb3J0cy5TdHJlYW0gPSBleHBvcnRzO1xuZXhwb3J0cy5SZWFkYWJsZSA9IGV4cG9ydHM7XG5leHBvcnRzLldyaXRhYmxlID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuZXhwb3J0cy5EdXBsZXggPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX2R1cGxleC5qcycpO1xuZXhwb3J0cy5UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcycpO1xuZXhwb3J0cy5QYXNzVGhyb3VnaCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9yZWFkYWJsZScpLlRyYW5zZm9ybVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzJyk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbnZhciBidWZmZXIgPSByZXF1aXJlKCdidWZmZXInKVxudmFyIEJ1ZmZlciA9IGJ1ZmZlci5CdWZmZXJcblxuLy8gYWx0ZXJuYXRpdmUgdG8gdXNpbmcgT2JqZWN0LmtleXMgZm9yIG9sZCBicm93c2Vyc1xuZnVuY3Rpb24gY29weVByb3BzIChzcmMsIGRzdCkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgZHN0W2tleV0gPSBzcmNba2V5XVxuICB9XG59XG5pZiAoQnVmZmVyLmZyb20gJiYgQnVmZmVyLmFsbG9jICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZSAmJiBCdWZmZXIuYWxsb2NVbnNhZmVTbG93KSB7XG4gIG1vZHVsZS5leHBvcnRzID0gYnVmZmVyXG59IGVsc2Uge1xuICAvLyBDb3B5IHByb3BlcnRpZXMgZnJvbSByZXF1aXJlKCdidWZmZXInKVxuICBjb3B5UHJvcHMoYnVmZmVyLCBleHBvcnRzKVxuICBleHBvcnRzLkJ1ZmZlciA9IFNhZmVCdWZmZXJcbn1cblxuZnVuY3Rpb24gU2FmZUJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gQ29weSBzdGF0aWMgbWV0aG9kcyBmcm9tIEJ1ZmZlclxuY29weVByb3BzKEJ1ZmZlciwgU2FmZUJ1ZmZlcilcblxuU2FmZUJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICB2YXIgYnVmID0gQnVmZmVyKHNpemUpXG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgYnVmLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGJ1Zi5maWxsKDApXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoc2l6ZSlcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5TbG93QnVmZmVyKHNpemUpXG59XG4iLCI7KGZ1bmN0aW9uIChzYXgpIHsgLy8gd3JhcHBlciBmb3Igbm9uLW5vZGUgZW52c1xuICBzYXgucGFyc2VyID0gZnVuY3Rpb24gKHN0cmljdCwgb3B0KSB7IHJldHVybiBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KSB9XG4gIHNheC5TQVhQYXJzZXIgPSBTQVhQYXJzZXJcbiAgc2F4LlNBWFN0cmVhbSA9IFNBWFN0cmVhbVxuICBzYXguY3JlYXRlU3RyZWFtID0gY3JlYXRlU3RyZWFtXG5cbiAgLy8gV2hlbiB3ZSBwYXNzIHRoZSBNQVhfQlVGRkVSX0xFTkdUSCBwb3NpdGlvbiwgc3RhcnQgY2hlY2tpbmcgZm9yIGJ1ZmZlciBvdmVycnVucy5cbiAgLy8gV2hlbiB3ZSBjaGVjaywgc2NoZWR1bGUgdGhlIG5leHQgY2hlY2sgZm9yIE1BWF9CVUZGRVJfTEVOR1RIIC0gKG1heChidWZmZXIgbGVuZ3RocykpLFxuICAvLyBzaW5jZSB0aGF0J3MgdGhlIGVhcmxpZXN0IHRoYXQgYSBidWZmZXIgb3ZlcnJ1biBjb3VsZCBvY2N1ci4gIFRoaXMgd2F5LCBjaGVja3MgYXJlXG4gIC8vIGFzIHJhcmUgYXMgcmVxdWlyZWQsIGJ1dCBhcyBvZnRlbiBhcyBuZWNlc3NhcnkgdG8gZW5zdXJlIG5ldmVyIGNyb3NzaW5nIHRoaXMgYm91bmQuXG4gIC8vIEZ1cnRoZXJtb3JlLCBidWZmZXJzIGFyZSBvbmx5IHRlc3RlZCBhdCBtb3N0IG9uY2UgcGVyIHdyaXRlKCksIHNvIHBhc3NpbmcgYSB2ZXJ5XG4gIC8vIGxhcmdlIHN0cmluZyBpbnRvIHdyaXRlKCkgbWlnaHQgaGF2ZSB1bmRlc2lyYWJsZSBlZmZlY3RzLCBidXQgdGhpcyBpcyBtYW5hZ2VhYmxlIGJ5XG4gIC8vIHRoZSBjYWxsZXIsIHNvIGl0IGlzIGFzc3VtZWQgdG8gYmUgc2FmZS4gIFRodXMsIGEgY2FsbCB0byB3cml0ZSgpIG1heSwgaW4gdGhlIGV4dHJlbWVcbiAgLy8gZWRnZSBjYXNlLCByZXN1bHQgaW4gY3JlYXRpbmcgYXQgbW9zdCBvbmUgY29tcGxldGUgY29weSBvZiB0aGUgc3RyaW5nIHBhc3NlZCBpbi5cbiAgLy8gU2V0IHRvIEluZmluaXR5IHRvIGhhdmUgdW5saW1pdGVkIGJ1ZmZlcnMuXG4gIHNheC5NQVhfQlVGRkVSX0xFTkdUSCA9IDY0ICogMTAyNFxuXG4gIHZhciBidWZmZXJzID0gW1xuICAgICdjb21tZW50JywgJ3NnbWxEZWNsJywgJ3RleHROb2RlJywgJ3RhZ05hbWUnLCAnZG9jdHlwZScsXG4gICAgJ3Byb2NJbnN0TmFtZScsICdwcm9jSW5zdEJvZHknLCAnZW50aXR5JywgJ2F0dHJpYk5hbWUnLFxuICAgICdhdHRyaWJWYWx1ZScsICdjZGF0YScsICdzY3JpcHQnXG4gIF1cblxuICBzYXguRVZFTlRTID0gW1xuICAgICd0ZXh0JyxcbiAgICAncHJvY2Vzc2luZ2luc3RydWN0aW9uJyxcbiAgICAnc2dtbGRlY2xhcmF0aW9uJyxcbiAgICAnZG9jdHlwZScsXG4gICAgJ2NvbW1lbnQnLFxuICAgICdvcGVudGFnc3RhcnQnLFxuICAgICdhdHRyaWJ1dGUnLFxuICAgICdvcGVudGFnJyxcbiAgICAnY2xvc2V0YWcnLFxuICAgICdvcGVuY2RhdGEnLFxuICAgICdjZGF0YScsXG4gICAgJ2Nsb3NlY2RhdGEnLFxuICAgICdlcnJvcicsXG4gICAgJ2VuZCcsXG4gICAgJ3JlYWR5JyxcbiAgICAnc2NyaXB0JyxcbiAgICAnb3Blbm5hbWVzcGFjZScsXG4gICAgJ2Nsb3NlbmFtZXNwYWNlJ1xuICBdXG5cbiAgZnVuY3Rpb24gU0FYUGFyc2VyIChzdHJpY3QsIG9wdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTQVhQYXJzZXIpKSB7XG4gICAgICByZXR1cm4gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdClcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VyID0gdGhpc1xuICAgIGNsZWFyQnVmZmVycyhwYXJzZXIpXG4gICAgcGFyc2VyLnEgPSBwYXJzZXIuYyA9ICcnXG4gICAgcGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24gPSBzYXguTUFYX0JVRkZFUl9MRU5HVEhcbiAgICBwYXJzZXIub3B0ID0gb3B0IHx8IHt9XG4gICAgcGFyc2VyLm9wdC5sb3dlcmNhc2UgPSBwYXJzZXIub3B0Lmxvd2VyY2FzZSB8fCBwYXJzZXIub3B0Lmxvd2VyY2FzZXRhZ3NcbiAgICBwYXJzZXIubG9vc2VDYXNlID0gcGFyc2VyLm9wdC5sb3dlcmNhc2UgPyAndG9Mb3dlckNhc2UnIDogJ3RvVXBwZXJDYXNlJ1xuICAgIHBhcnNlci50YWdzID0gW11cbiAgICBwYXJzZXIuY2xvc2VkID0gcGFyc2VyLmNsb3NlZFJvb3QgPSBwYXJzZXIuc2F3Um9vdCA9IGZhbHNlXG4gICAgcGFyc2VyLnRhZyA9IHBhcnNlci5lcnJvciA9IG51bGxcbiAgICBwYXJzZXIuc3RyaWN0ID0gISFzdHJpY3RcbiAgICBwYXJzZXIubm9zY3JpcHQgPSAhIShzdHJpY3QgfHwgcGFyc2VyLm9wdC5ub3NjcmlwdClcbiAgICBwYXJzZXIuc3RhdGUgPSBTLkJFR0lOXG4gICAgcGFyc2VyLnN0cmljdEVudGl0aWVzID0gcGFyc2VyLm9wdC5zdHJpY3RFbnRpdGllc1xuICAgIHBhcnNlci5FTlRJVElFUyA9IHBhcnNlci5zdHJpY3RFbnRpdGllcyA/IE9iamVjdC5jcmVhdGUoc2F4LlhNTF9FTlRJVElFUykgOiBPYmplY3QuY3JlYXRlKHNheC5FTlRJVElFUylcbiAgICBwYXJzZXIuYXR0cmliTGlzdCA9IFtdXG5cbiAgICAvLyBuYW1lc3BhY2VzIGZvcm0gYSBwcm90b3R5cGUgY2hhaW4uXG4gICAgLy8gaXQgYWx3YXlzIHBvaW50cyBhdCB0aGUgY3VycmVudCB0YWcsXG4gICAgLy8gd2hpY2ggcHJvdG9zIHRvIGl0cyBwYXJlbnQgdGFnLlxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICBwYXJzZXIubnMgPSBPYmplY3QuY3JlYXRlKHJvb3ROUylcbiAgICB9XG5cbiAgICAvLyBtb3N0bHkganVzdCBmb3IgZXJyb3IgcmVwb3J0aW5nXG4gICAgcGFyc2VyLnRyYWNrUG9zaXRpb24gPSBwYXJzZXIub3B0LnBvc2l0aW9uICE9PSBmYWxzZVxuICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgcGFyc2VyLnBvc2l0aW9uID0gcGFyc2VyLmxpbmUgPSBwYXJzZXIuY29sdW1uID0gMFxuICAgIH1cbiAgICBlbWl0KHBhcnNlciwgJ29ucmVhZHknKVxuICB9XG5cbiAgaWYgKCFPYmplY3QuY3JlYXRlKSB7XG4gICAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICBmdW5jdGlvbiBGICgpIHt9XG4gICAgICBGLnByb3RvdHlwZSA9IG9cbiAgICAgIHZhciBuZXdmID0gbmV3IEYoKVxuICAgICAgcmV0dXJuIG5ld2ZcbiAgICB9XG4gIH1cblxuICBpZiAoIU9iamVjdC5rZXlzKSB7XG4gICAgT2JqZWN0LmtleXMgPSBmdW5jdGlvbiAobykge1xuICAgICAgdmFyIGEgPSBbXVxuICAgICAgZm9yICh2YXIgaSBpbiBvKSBpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkgYS5wdXNoKGkpXG4gICAgICByZXR1cm4gYVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrQnVmZmVyTGVuZ3RoIChwYXJzZXIpIHtcbiAgICB2YXIgbWF4QWxsb3dlZCA9IE1hdGgubWF4KHNheC5NQVhfQlVGRkVSX0xFTkdUSCwgMTApXG4gICAgdmFyIG1heEFjdHVhbCA9IDBcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJ1ZmZlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbGVuID0gcGFyc2VyW2J1ZmZlcnNbaV1dLmxlbmd0aFxuICAgICAgaWYgKGxlbiA+IG1heEFsbG93ZWQpIHtcbiAgICAgICAgLy8gVGV4dC9jZGF0YSBub2RlcyBjYW4gZ2V0IGJpZywgYW5kIHNpbmNlIHRoZXkncmUgYnVmZmVyZWQsXG4gICAgICAgIC8vIHdlIGNhbiBnZXQgaGVyZSB1bmRlciBub3JtYWwgY29uZGl0aW9ucy5cbiAgICAgICAgLy8gQXZvaWQgaXNzdWVzIGJ5IGVtaXR0aW5nIHRoZSB0ZXh0IG5vZGUgbm93LFxuICAgICAgICAvLyBzbyBhdCBsZWFzdCBpdCB3b24ndCBnZXQgYW55IGJpZ2dlci5cbiAgICAgICAgc3dpdGNoIChidWZmZXJzW2ldKSB7XG4gICAgICAgICAgY2FzZSAndGV4dE5vZGUnOlxuICAgICAgICAgICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdjZGF0YSc6XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdzY3JpcHQnOlxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGVycm9yKHBhcnNlciwgJ01heCBidWZmZXIgbGVuZ3RoIGV4Y2VlZGVkOiAnICsgYnVmZmVyc1tpXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWF4QWN0dWFsID0gTWF0aC5tYXgobWF4QWN0dWFsLCBsZW4pXG4gICAgfVxuICAgIC8vIHNjaGVkdWxlIHRoZSBuZXh0IGNoZWNrIGZvciB0aGUgZWFybGllc3QgcG9zc2libGUgYnVmZmVyIG92ZXJydW4uXG4gICAgdmFyIG0gPSBzYXguTUFYX0JVRkZFUl9MRU5HVEggLSBtYXhBY3R1YWxcbiAgICBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbiA9IG0gKyBwYXJzZXIucG9zaXRpb25cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyQnVmZmVycyAocGFyc2VyKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBidWZmZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcGFyc2VyW2J1ZmZlcnNbaV1dID0gJydcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaEJ1ZmZlcnMgKHBhcnNlcikge1xuICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgaWYgKHBhcnNlci5jZGF0YSAhPT0gJycpIHtcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2RhdGEnLCBwYXJzZXIuY2RhdGEpXG4gICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgIH1cbiAgICBpZiAocGFyc2VyLnNjcmlwdCAhPT0gJycpIHtcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uc2NyaXB0JywgcGFyc2VyLnNjcmlwdClcbiAgICAgIHBhcnNlci5zY3JpcHQgPSAnJ1xuICAgIH1cbiAgfVxuXG4gIFNBWFBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgZW5kOiBmdW5jdGlvbiAoKSB7IGVuZCh0aGlzKSB9LFxuICAgIHdyaXRlOiB3cml0ZSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uICgpIHsgdGhpcy5lcnJvciA9IG51bGw7IHJldHVybiB0aGlzIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMud3JpdGUobnVsbCkgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gKCkgeyBmbHVzaEJ1ZmZlcnModGhpcykgfVxuICB9XG5cbiAgdmFyIFN0cmVhbVxuICB0cnkge1xuICAgIFN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpLlN0cmVhbVxuICB9IGNhdGNoIChleCkge1xuICAgIFN0cmVhbSA9IGZ1bmN0aW9uICgpIHt9XG4gIH1cblxuICB2YXIgc3RyZWFtV3JhcHMgPSBzYXguRVZFTlRTLmZpbHRlcihmdW5jdGlvbiAoZXYpIHtcbiAgICByZXR1cm4gZXYgIT09ICdlcnJvcicgJiYgZXYgIT09ICdlbmQnXG4gIH0pXG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyZWFtIChzdHJpY3QsIG9wdCkge1xuICAgIHJldHVybiBuZXcgU0FYU3RyZWFtKHN0cmljdCwgb3B0KVxuICB9XG5cbiAgZnVuY3Rpb24gU0FYU3RyZWFtIChzdHJpY3QsIG9wdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTQVhTdHJlYW0pKSB7XG4gICAgICByZXR1cm4gbmV3IFNBWFN0cmVhbShzdHJpY3QsIG9wdClcbiAgICB9XG5cbiAgICBTdHJlYW0uYXBwbHkodGhpcylcblxuICAgIHRoaXMuX3BhcnNlciA9IG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpXG4gICAgdGhpcy53cml0YWJsZSA9IHRydWVcbiAgICB0aGlzLnJlYWRhYmxlID0gdHJ1ZVxuXG4gICAgdmFyIG1lID0gdGhpc1xuXG4gICAgdGhpcy5fcGFyc2VyLm9uZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgbWUuZW1pdCgnZW5kJylcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJzZXIub25lcnJvciA9IGZ1bmN0aW9uIChlcikge1xuICAgICAgbWUuZW1pdCgnZXJyb3InLCBlcilcblxuICAgICAgLy8gaWYgZGlkbid0IHRocm93LCB0aGVuIG1lYW5zIGVycm9yIHdhcyBoYW5kbGVkLlxuICAgICAgLy8gZ28gYWhlYWQgYW5kIGNsZWFyIGVycm9yLCBzbyB3ZSBjYW4gd3JpdGUgYWdhaW4uXG4gICAgICBtZS5fcGFyc2VyLmVycm9yID0gbnVsbFxuICAgIH1cblxuICAgIHRoaXMuX2RlY29kZXIgPSBudWxsXG5cbiAgICBzdHJlYW1XcmFwcy5mb3JFYWNoKGZ1bmN0aW9uIChldikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1lLCAnb24nICsgZXYsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG1lLl9wYXJzZXJbJ29uJyArIGV2XVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICBtZS5yZW1vdmVBbGxMaXN0ZW5lcnMoZXYpXG4gICAgICAgICAgICBtZS5fcGFyc2VyWydvbicgKyBldl0gPSBoXG4gICAgICAgICAgICByZXR1cm4gaFxuICAgICAgICAgIH1cbiAgICAgICAgICBtZS5vbihldiwgaClcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RyZWFtLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogU0FYU3RyZWFtXG4gICAgfVxuICB9KVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgQnVmZmVyLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICBCdWZmZXIuaXNCdWZmZXIoZGF0YSkpIHtcbiAgICAgIGlmICghdGhpcy5fZGVjb2Rlcikge1xuICAgICAgICB2YXIgU0QgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpLlN0cmluZ0RlY29kZXJcbiAgICAgICAgdGhpcy5fZGVjb2RlciA9IG5ldyBTRCgndXRmOCcpXG4gICAgICB9XG4gICAgICBkYXRhID0gdGhpcy5fZGVjb2Rlci53cml0ZShkYXRhKVxuICAgIH1cblxuICAgIHRoaXMuX3BhcnNlci53cml0ZShkYXRhLnRvU3RyaW5nKCkpXG4gICAgdGhpcy5lbWl0KCdkYXRhJywgZGF0YSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICB0aGlzLndyaXRlKGNodW5rKVxuICAgIH1cbiAgICB0aGlzLl9wYXJzZXIuZW5kKClcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgaGFuZGxlcikge1xuICAgIHZhciBtZSA9IHRoaXNcbiAgICBpZiAoIW1lLl9wYXJzZXJbJ29uJyArIGV2XSAmJiBzdHJlYW1XcmFwcy5pbmRleE9mKGV2KSAhPT0gLTEpIHtcbiAgICAgIG1lLl9wYXJzZXJbJ29uJyArIGV2XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gW2FyZ3VtZW50c1swXV0gOiBBcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpXG4gICAgICAgIGFyZ3Muc3BsaWNlKDAsIDAsIGV2KVxuICAgICAgICBtZS5lbWl0LmFwcGx5KG1lLCBhcmdzKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBTdHJlYW0ucHJvdG90eXBlLm9uLmNhbGwobWUsIGV2LCBoYW5kbGVyKVxuICB9XG5cbiAgLy8gdGhpcyByZWFsbHkgbmVlZHMgdG8gYmUgcmVwbGFjZWQgd2l0aCBjaGFyYWN0ZXIgY2xhc3Nlcy5cbiAgLy8gWE1MIGFsbG93cyBhbGwgbWFubmVyIG9mIHJpZGljdWxvdXMgbnVtYmVycyBhbmQgZGlnaXRzLlxuICB2YXIgQ0RBVEEgPSAnW0NEQVRBWydcbiAgdmFyIERPQ1RZUEUgPSAnRE9DVFlQRSdcbiAgdmFyIFhNTF9OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJ1xuICB2YXIgWE1MTlNfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvJ1xuICB2YXIgcm9vdE5TID0geyB4bWw6IFhNTF9OQU1FU1BBQ0UsIHhtbG5zOiBYTUxOU19OQU1FU1BBQ0UgfVxuXG4gIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy14bWwvI05ULU5hbWVTdGFydENoYXJcbiAgLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiB3b3JrcyBvbiBzdHJpbmdzLCBhIHNpbmdsZSBjaGFyYWN0ZXIgYXQgYSB0aW1lXG4gIC8vIGFzIHN1Y2gsIGl0IGNhbm5vdCBldmVyIHN1cHBvcnQgYXN0cmFsLXBsYW5lIGNoYXJhY3RlcnMgKDEwMDAwLUVGRkZGKVxuICAvLyB3aXRob3V0IGEgc2lnbmlmaWNhbnQgYnJlYWtpbmcgY2hhbmdlIHRvIGVpdGhlciB0aGlzICBwYXJzZXIsIG9yIHRoZVxuICAvLyBKYXZhU2NyaXB0IGxhbmd1YWdlLiAgSW1wbGVtZW50YXRpb24gb2YgYW4gZW1vamktY2FwYWJsZSB4bWwgcGFyc2VyXG4gIC8vIGlzIGxlZnQgYXMgYW4gZXhlcmNpc2UgZm9yIHRoZSByZWFkZXIuXG4gIHZhciBuYW1lU3RhcnQgPSAvWzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXS9cblxuICB2YXIgbmFtZUJvZHkgPSAvWzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MC5cXGQtXS9cblxuICB2YXIgZW50aXR5U3RhcnQgPSAvWyM6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF0vXG4gIHZhciBlbnRpdHlCb2R5ID0gL1sjOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwLlxcZC1dL1xuXG4gIGZ1bmN0aW9uIGlzV2hpdGVzcGFjZSAoYykge1xuICAgIHJldHVybiBjID09PSAnICcgfHwgYyA9PT0gJ1xcbicgfHwgYyA9PT0gJ1xccicgfHwgYyA9PT0gJ1xcdCdcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUXVvdGUgKGMpIHtcbiAgICByZXR1cm4gYyA9PT0gJ1wiJyB8fCBjID09PSAnXFwnJ1xuICB9XG5cbiAgZnVuY3Rpb24gaXNBdHRyaWJFbmQgKGMpIHtcbiAgICByZXR1cm4gYyA9PT0gJz4nIHx8IGlzV2hpdGVzcGFjZShjKVxuICB9XG5cbiAgZnVuY3Rpb24gaXNNYXRjaCAocmVnZXgsIGMpIHtcbiAgICByZXR1cm4gcmVnZXgudGVzdChjKVxuICB9XG5cbiAgZnVuY3Rpb24gbm90TWF0Y2ggKHJlZ2V4LCBjKSB7XG4gICAgcmV0dXJuICFpc01hdGNoKHJlZ2V4LCBjKVxuICB9XG5cbiAgdmFyIFMgPSAwXG4gIHNheC5TVEFURSA9IHtcbiAgICBCRUdJTjogUysrLCAvLyBsZWFkaW5nIGJ5dGUgb3JkZXIgbWFyayBvciB3aGl0ZXNwYWNlXG4gICAgQkVHSU5fV0hJVEVTUEFDRTogUysrLCAvLyBsZWFkaW5nIHdoaXRlc3BhY2VcbiAgICBURVhUOiBTKyssIC8vIGdlbmVyYWwgc3R1ZmZcbiAgICBURVhUX0VOVElUWTogUysrLCAvLyAmYW1wIGFuZCBzdWNoLlxuICAgIE9QRU5fV0FLQTogUysrLCAvLyA8XG4gICAgU0dNTF9ERUNMOiBTKyssIC8vIDwhQkxBUkdcbiAgICBTR01MX0RFQ0xfUVVPVEVEOiBTKyssIC8vIDwhQkxBUkcgZm9vIFwiYmFyXG4gICAgRE9DVFlQRTogUysrLCAvLyA8IURPQ1RZUEVcbiAgICBET0NUWVBFX1FVT1RFRDogUysrLCAvLyA8IURPQ1RZUEUgXCIvL2JsYWhcbiAgICBET0NUWVBFX0RURDogUysrLCAvLyA8IURPQ1RZUEUgXCIvL2JsYWhcIiBbIC4uLlxuICAgIERPQ1RZUEVfRFREX1FVT1RFRDogUysrLCAvLyA8IURPQ1RZUEUgXCIvL2JsYWhcIiBbIFwiZm9vXG4gICAgQ09NTUVOVF9TVEFSVElORzogUysrLCAvLyA8IS1cbiAgICBDT01NRU5UOiBTKyssIC8vIDwhLS1cbiAgICBDT01NRU5UX0VORElORzogUysrLCAvLyA8IS0tIGJsYWggLVxuICAgIENPTU1FTlRfRU5ERUQ6IFMrKywgLy8gPCEtLSBibGFoIC0tXG4gICAgQ0RBVEE6IFMrKywgLy8gPCFbQ0RBVEFbIHNvbWV0aGluZ1xuICAgIENEQVRBX0VORElORzogUysrLCAvLyBdXG4gICAgQ0RBVEFfRU5ESU5HXzI6IFMrKywgLy8gXV1cbiAgICBQUk9DX0lOU1Q6IFMrKywgLy8gPD9oaVxuICAgIFBST0NfSU5TVF9CT0RZOiBTKyssIC8vIDw/aGkgdGhlcmVcbiAgICBQUk9DX0lOU1RfRU5ESU5HOiBTKyssIC8vIDw/aGkgXCJ0aGVyZVwiID9cbiAgICBPUEVOX1RBRzogUysrLCAvLyA8c3Ryb25nXG4gICAgT1BFTl9UQUdfU0xBU0g6IFMrKywgLy8gPHN0cm9uZyAvXG4gICAgQVRUUklCOiBTKyssIC8vIDxhXG4gICAgQVRUUklCX05BTUU6IFMrKywgLy8gPGEgZm9vXG4gICAgQVRUUklCX05BTUVfU0FXX1dISVRFOiBTKyssIC8vIDxhIGZvbyBfXG4gICAgQVRUUklCX1ZBTFVFOiBTKyssIC8vIDxhIGZvbz1cbiAgICBBVFRSSUJfVkFMVUVfUVVPVEVEOiBTKyssIC8vIDxhIGZvbz1cImJhclxuICAgIEFUVFJJQl9WQUxVRV9DTE9TRUQ6IFMrKywgLy8gPGEgZm9vPVwiYmFyXCJcbiAgICBBVFRSSUJfVkFMVUVfVU5RVU9URUQ6IFMrKywgLy8gPGEgZm9vPWJhclxuICAgIEFUVFJJQl9WQUxVRV9FTlRJVFlfUTogUysrLCAvLyA8Zm9vIGJhcj1cIiZxdW90O1wiXG4gICAgQVRUUklCX1ZBTFVFX0VOVElUWV9VOiBTKyssIC8vIDxmb28gYmFyPSZxdW90XG4gICAgQ0xPU0VfVEFHOiBTKyssIC8vIDwvYVxuICAgIENMT1NFX1RBR19TQVdfV0hJVEU6IFMrKywgLy8gPC9hICAgPlxuICAgIFNDUklQVDogUysrLCAvLyA8c2NyaXB0PiAuLi5cbiAgICBTQ1JJUFRfRU5ESU5HOiBTKysgLy8gPHNjcmlwdD4gLi4uIDxcbiAgfVxuXG4gIHNheC5YTUxfRU5USVRJRVMgPSB7XG4gICAgJ2FtcCc6ICcmJyxcbiAgICAnZ3QnOiAnPicsXG4gICAgJ2x0JzogJzwnLFxuICAgICdxdW90JzogJ1wiJyxcbiAgICAnYXBvcyc6IFwiJ1wiXG4gIH1cblxuICBzYXguRU5USVRJRVMgPSB7XG4gICAgJ2FtcCc6ICcmJyxcbiAgICAnZ3QnOiAnPicsXG4gICAgJ2x0JzogJzwnLFxuICAgICdxdW90JzogJ1wiJyxcbiAgICAnYXBvcyc6IFwiJ1wiLFxuICAgICdBRWxpZyc6IDE5OCxcbiAgICAnQWFjdXRlJzogMTkzLFxuICAgICdBY2lyYyc6IDE5NCxcbiAgICAnQWdyYXZlJzogMTkyLFxuICAgICdBcmluZyc6IDE5NyxcbiAgICAnQXRpbGRlJzogMTk1LFxuICAgICdBdW1sJzogMTk2LFxuICAgICdDY2VkaWwnOiAxOTksXG4gICAgJ0VUSCc6IDIwOCxcbiAgICAnRWFjdXRlJzogMjAxLFxuICAgICdFY2lyYyc6IDIwMixcbiAgICAnRWdyYXZlJzogMjAwLFxuICAgICdFdW1sJzogMjAzLFxuICAgICdJYWN1dGUnOiAyMDUsXG4gICAgJ0ljaXJjJzogMjA2LFxuICAgICdJZ3JhdmUnOiAyMDQsXG4gICAgJ0l1bWwnOiAyMDcsXG4gICAgJ050aWxkZSc6IDIwOSxcbiAgICAnT2FjdXRlJzogMjExLFxuICAgICdPY2lyYyc6IDIxMixcbiAgICAnT2dyYXZlJzogMjEwLFxuICAgICdPc2xhc2gnOiAyMTYsXG4gICAgJ090aWxkZSc6IDIxMyxcbiAgICAnT3VtbCc6IDIxNCxcbiAgICAnVEhPUk4nOiAyMjIsXG4gICAgJ1VhY3V0ZSc6IDIxOCxcbiAgICAnVWNpcmMnOiAyMTksXG4gICAgJ1VncmF2ZSc6IDIxNyxcbiAgICAnVXVtbCc6IDIyMCxcbiAgICAnWWFjdXRlJzogMjIxLFxuICAgICdhYWN1dGUnOiAyMjUsXG4gICAgJ2FjaXJjJzogMjI2LFxuICAgICdhZWxpZyc6IDIzMCxcbiAgICAnYWdyYXZlJzogMjI0LFxuICAgICdhcmluZyc6IDIyOSxcbiAgICAnYXRpbGRlJzogMjI3LFxuICAgICdhdW1sJzogMjI4LFxuICAgICdjY2VkaWwnOiAyMzEsXG4gICAgJ2VhY3V0ZSc6IDIzMyxcbiAgICAnZWNpcmMnOiAyMzQsXG4gICAgJ2VncmF2ZSc6IDIzMixcbiAgICAnZXRoJzogMjQwLFxuICAgICdldW1sJzogMjM1LFxuICAgICdpYWN1dGUnOiAyMzcsXG4gICAgJ2ljaXJjJzogMjM4LFxuICAgICdpZ3JhdmUnOiAyMzYsXG4gICAgJ2l1bWwnOiAyMzksXG4gICAgJ250aWxkZSc6IDI0MSxcbiAgICAnb2FjdXRlJzogMjQzLFxuICAgICdvY2lyYyc6IDI0NCxcbiAgICAnb2dyYXZlJzogMjQyLFxuICAgICdvc2xhc2gnOiAyNDgsXG4gICAgJ290aWxkZSc6IDI0NSxcbiAgICAnb3VtbCc6IDI0NixcbiAgICAnc3psaWcnOiAyMjMsXG4gICAgJ3Rob3JuJzogMjU0LFxuICAgICd1YWN1dGUnOiAyNTAsXG4gICAgJ3VjaXJjJzogMjUxLFxuICAgICd1Z3JhdmUnOiAyNDksXG4gICAgJ3V1bWwnOiAyNTIsXG4gICAgJ3lhY3V0ZSc6IDI1MyxcbiAgICAneXVtbCc6IDI1NSxcbiAgICAnY29weSc6IDE2OSxcbiAgICAncmVnJzogMTc0LFxuICAgICduYnNwJzogMTYwLFxuICAgICdpZXhjbCc6IDE2MSxcbiAgICAnY2VudCc6IDE2MixcbiAgICAncG91bmQnOiAxNjMsXG4gICAgJ2N1cnJlbic6IDE2NCxcbiAgICAneWVuJzogMTY1LFxuICAgICdicnZiYXInOiAxNjYsXG4gICAgJ3NlY3QnOiAxNjcsXG4gICAgJ3VtbCc6IDE2OCxcbiAgICAnb3JkZic6IDE3MCxcbiAgICAnbGFxdW8nOiAxNzEsXG4gICAgJ25vdCc6IDE3MixcbiAgICAnc2h5JzogMTczLFxuICAgICdtYWNyJzogMTc1LFxuICAgICdkZWcnOiAxNzYsXG4gICAgJ3BsdXNtbic6IDE3NyxcbiAgICAnc3VwMSc6IDE4NSxcbiAgICAnc3VwMic6IDE3OCxcbiAgICAnc3VwMyc6IDE3OSxcbiAgICAnYWN1dGUnOiAxODAsXG4gICAgJ21pY3JvJzogMTgxLFxuICAgICdwYXJhJzogMTgyLFxuICAgICdtaWRkb3QnOiAxODMsXG4gICAgJ2NlZGlsJzogMTg0LFxuICAgICdvcmRtJzogMTg2LFxuICAgICdyYXF1byc6IDE4NyxcbiAgICAnZnJhYzE0JzogMTg4LFxuICAgICdmcmFjMTInOiAxODksXG4gICAgJ2ZyYWMzNCc6IDE5MCxcbiAgICAnaXF1ZXN0JzogMTkxLFxuICAgICd0aW1lcyc6IDIxNSxcbiAgICAnZGl2aWRlJzogMjQ3LFxuICAgICdPRWxpZyc6IDMzOCxcbiAgICAnb2VsaWcnOiAzMzksXG4gICAgJ1NjYXJvbic6IDM1MixcbiAgICAnc2Nhcm9uJzogMzUzLFxuICAgICdZdW1sJzogMzc2LFxuICAgICdmbm9mJzogNDAyLFxuICAgICdjaXJjJzogNzEwLFxuICAgICd0aWxkZSc6IDczMixcbiAgICAnQWxwaGEnOiA5MTMsXG4gICAgJ0JldGEnOiA5MTQsXG4gICAgJ0dhbW1hJzogOTE1LFxuICAgICdEZWx0YSc6IDkxNixcbiAgICAnRXBzaWxvbic6IDkxNyxcbiAgICAnWmV0YSc6IDkxOCxcbiAgICAnRXRhJzogOTE5LFxuICAgICdUaGV0YSc6IDkyMCxcbiAgICAnSW90YSc6IDkyMSxcbiAgICAnS2FwcGEnOiA5MjIsXG4gICAgJ0xhbWJkYSc6IDkyMyxcbiAgICAnTXUnOiA5MjQsXG4gICAgJ051JzogOTI1LFxuICAgICdYaSc6IDkyNixcbiAgICAnT21pY3Jvbic6IDkyNyxcbiAgICAnUGknOiA5MjgsXG4gICAgJ1Jobyc6IDkyOSxcbiAgICAnU2lnbWEnOiA5MzEsXG4gICAgJ1RhdSc6IDkzMixcbiAgICAnVXBzaWxvbic6IDkzMyxcbiAgICAnUGhpJzogOTM0LFxuICAgICdDaGknOiA5MzUsXG4gICAgJ1BzaSc6IDkzNixcbiAgICAnT21lZ2EnOiA5MzcsXG4gICAgJ2FscGhhJzogOTQ1LFxuICAgICdiZXRhJzogOTQ2LFxuICAgICdnYW1tYSc6IDk0NyxcbiAgICAnZGVsdGEnOiA5NDgsXG4gICAgJ2Vwc2lsb24nOiA5NDksXG4gICAgJ3pldGEnOiA5NTAsXG4gICAgJ2V0YSc6IDk1MSxcbiAgICAndGhldGEnOiA5NTIsXG4gICAgJ2lvdGEnOiA5NTMsXG4gICAgJ2thcHBhJzogOTU0LFxuICAgICdsYW1iZGEnOiA5NTUsXG4gICAgJ211JzogOTU2LFxuICAgICdudSc6IDk1NyxcbiAgICAneGknOiA5NTgsXG4gICAgJ29taWNyb24nOiA5NTksXG4gICAgJ3BpJzogOTYwLFxuICAgICdyaG8nOiA5NjEsXG4gICAgJ3NpZ21hZic6IDk2MixcbiAgICAnc2lnbWEnOiA5NjMsXG4gICAgJ3RhdSc6IDk2NCxcbiAgICAndXBzaWxvbic6IDk2NSxcbiAgICAncGhpJzogOTY2LFxuICAgICdjaGknOiA5NjcsXG4gICAgJ3BzaSc6IDk2OCxcbiAgICAnb21lZ2EnOiA5NjksXG4gICAgJ3RoZXRhc3ltJzogOTc3LFxuICAgICd1cHNpaCc6IDk3OCxcbiAgICAncGl2JzogOTgyLFxuICAgICdlbnNwJzogODE5NCxcbiAgICAnZW1zcCc6IDgxOTUsXG4gICAgJ3RoaW5zcCc6IDgyMDEsXG4gICAgJ3p3bmonOiA4MjA0LFxuICAgICd6d2onOiA4MjA1LFxuICAgICdscm0nOiA4MjA2LFxuICAgICdybG0nOiA4MjA3LFxuICAgICduZGFzaCc6IDgyMTEsXG4gICAgJ21kYXNoJzogODIxMixcbiAgICAnbHNxdW8nOiA4MjE2LFxuICAgICdyc3F1byc6IDgyMTcsXG4gICAgJ3NicXVvJzogODIxOCxcbiAgICAnbGRxdW8nOiA4MjIwLFxuICAgICdyZHF1byc6IDgyMjEsXG4gICAgJ2JkcXVvJzogODIyMixcbiAgICAnZGFnZ2VyJzogODIyNCxcbiAgICAnRGFnZ2VyJzogODIyNSxcbiAgICAnYnVsbCc6IDgyMjYsXG4gICAgJ2hlbGxpcCc6IDgyMzAsXG4gICAgJ3Blcm1pbCc6IDgyNDAsXG4gICAgJ3ByaW1lJzogODI0MixcbiAgICAnUHJpbWUnOiA4MjQzLFxuICAgICdsc2FxdW8nOiA4MjQ5LFxuICAgICdyc2FxdW8nOiA4MjUwLFxuICAgICdvbGluZSc6IDgyNTQsXG4gICAgJ2ZyYXNsJzogODI2MCxcbiAgICAnZXVybyc6IDgzNjQsXG4gICAgJ2ltYWdlJzogODQ2NSxcbiAgICAnd2VpZXJwJzogODQ3MixcbiAgICAncmVhbCc6IDg0NzYsXG4gICAgJ3RyYWRlJzogODQ4MixcbiAgICAnYWxlZnN5bSc6IDg1MDEsXG4gICAgJ2xhcnInOiA4NTkyLFxuICAgICd1YXJyJzogODU5MyxcbiAgICAncmFycic6IDg1OTQsXG4gICAgJ2RhcnInOiA4NTk1LFxuICAgICdoYXJyJzogODU5NixcbiAgICAnY3JhcnInOiA4NjI5LFxuICAgICdsQXJyJzogODY1NixcbiAgICAndUFycic6IDg2NTcsXG4gICAgJ3JBcnInOiA4NjU4LFxuICAgICdkQXJyJzogODY1OSxcbiAgICAnaEFycic6IDg2NjAsXG4gICAgJ2ZvcmFsbCc6IDg3MDQsXG4gICAgJ3BhcnQnOiA4NzA2LFxuICAgICdleGlzdCc6IDg3MDcsXG4gICAgJ2VtcHR5JzogODcwOSxcbiAgICAnbmFibGEnOiA4NzExLFxuICAgICdpc2luJzogODcxMixcbiAgICAnbm90aW4nOiA4NzEzLFxuICAgICduaSc6IDg3MTUsXG4gICAgJ3Byb2QnOiA4NzE5LFxuICAgICdzdW0nOiA4NzIxLFxuICAgICdtaW51cyc6IDg3MjIsXG4gICAgJ2xvd2FzdCc6IDg3MjcsXG4gICAgJ3JhZGljJzogODczMCxcbiAgICAncHJvcCc6IDg3MzMsXG4gICAgJ2luZmluJzogODczNCxcbiAgICAnYW5nJzogODczNixcbiAgICAnYW5kJzogODc0MyxcbiAgICAnb3InOiA4NzQ0LFxuICAgICdjYXAnOiA4NzQ1LFxuICAgICdjdXAnOiA4NzQ2LFxuICAgICdpbnQnOiA4NzQ3LFxuICAgICd0aGVyZTQnOiA4NzU2LFxuICAgICdzaW0nOiA4NzY0LFxuICAgICdjb25nJzogODc3MyxcbiAgICAnYXN5bXAnOiA4Nzc2LFxuICAgICduZSc6IDg4MDAsXG4gICAgJ2VxdWl2JzogODgwMSxcbiAgICAnbGUnOiA4ODA0LFxuICAgICdnZSc6IDg4MDUsXG4gICAgJ3N1Yic6IDg4MzQsXG4gICAgJ3N1cCc6IDg4MzUsXG4gICAgJ25zdWInOiA4ODM2LFxuICAgICdzdWJlJzogODgzOCxcbiAgICAnc3VwZSc6IDg4MzksXG4gICAgJ29wbHVzJzogODg1MyxcbiAgICAnb3RpbWVzJzogODg1NSxcbiAgICAncGVycCc6IDg4NjksXG4gICAgJ3Nkb3QnOiA4OTAxLFxuICAgICdsY2VpbCc6IDg5NjgsXG4gICAgJ3JjZWlsJzogODk2OSxcbiAgICAnbGZsb29yJzogODk3MCxcbiAgICAncmZsb29yJzogODk3MSxcbiAgICAnbGFuZyc6IDkwMDEsXG4gICAgJ3JhbmcnOiA5MDAyLFxuICAgICdsb3onOiA5Njc0LFxuICAgICdzcGFkZXMnOiA5ODI0LFxuICAgICdjbHVicyc6IDk4MjcsXG4gICAgJ2hlYXJ0cyc6IDk4MjksXG4gICAgJ2RpYW1zJzogOTgzMFxuICB9XG5cbiAgT2JqZWN0LmtleXMoc2F4LkVOVElUSUVTKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgZSA9IHNheC5FTlRJVElFU1trZXldXG4gICAgdmFyIHMgPSB0eXBlb2YgZSA9PT0gJ251bWJlcicgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpIDogZVxuICAgIHNheC5FTlRJVElFU1trZXldID0gc1xuICB9KVxuXG4gIGZvciAodmFyIHMgaW4gc2F4LlNUQVRFKSB7XG4gICAgc2F4LlNUQVRFW3NheC5TVEFURVtzXV0gPSBzXG4gIH1cblxuICAvLyBzaG9ydGhhbmRcbiAgUyA9IHNheC5TVEFURVxuXG4gIGZ1bmN0aW9uIGVtaXQgKHBhcnNlciwgZXZlbnQsIGRhdGEpIHtcbiAgICBwYXJzZXJbZXZlbnRdICYmIHBhcnNlcltldmVudF0oZGF0YSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXROb2RlIChwYXJzZXIsIG5vZGVUeXBlLCBkYXRhKSB7XG4gICAgaWYgKHBhcnNlci50ZXh0Tm9kZSkgY2xvc2VUZXh0KHBhcnNlcilcbiAgICBlbWl0KHBhcnNlciwgbm9kZVR5cGUsIGRhdGEpXG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRleHQgKHBhcnNlcikge1xuICAgIHBhcnNlci50ZXh0Tm9kZSA9IHRleHRvcHRzKHBhcnNlci5vcHQsIHBhcnNlci50ZXh0Tm9kZSlcbiAgICBpZiAocGFyc2VyLnRleHROb2RlKSBlbWl0KHBhcnNlciwgJ29udGV4dCcsIHBhcnNlci50ZXh0Tm9kZSlcbiAgICBwYXJzZXIudGV4dE5vZGUgPSAnJ1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dG9wdHMgKG9wdCwgdGV4dCkge1xuICAgIGlmIChvcHQudHJpbSkgdGV4dCA9IHRleHQudHJpbSgpXG4gICAgaWYgKG9wdC5ub3JtYWxpemUpIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xccysvZywgJyAnKVxuICAgIHJldHVybiB0ZXh0XG4gIH1cblxuICBmdW5jdGlvbiBlcnJvciAocGFyc2VyLCBlcikge1xuICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgaWYgKHBhcnNlci50cmFja1Bvc2l0aW9uKSB7XG4gICAgICBlciArPSAnXFxuTGluZTogJyArIHBhcnNlci5saW5lICtcbiAgICAgICAgJ1xcbkNvbHVtbjogJyArIHBhcnNlci5jb2x1bW4gK1xuICAgICAgICAnXFxuQ2hhcjogJyArIHBhcnNlci5jXG4gICAgfVxuICAgIGVyID0gbmV3IEVycm9yKGVyKVxuICAgIHBhcnNlci5lcnJvciA9IGVyXG4gICAgZW1pdChwYXJzZXIsICdvbmVycm9yJywgZXIpXG4gICAgcmV0dXJuIHBhcnNlclxuICB9XG5cbiAgZnVuY3Rpb24gZW5kIChwYXJzZXIpIHtcbiAgICBpZiAocGFyc2VyLnNhd1Jvb3QgJiYgIXBhcnNlci5jbG9zZWRSb290KSBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuY2xvc2VkIHJvb3QgdGFnJylcbiAgICBpZiAoKHBhcnNlci5zdGF0ZSAhPT0gUy5CRUdJTikgJiZcbiAgICAgIChwYXJzZXIuc3RhdGUgIT09IFMuQkVHSU5fV0hJVEVTUEFDRSkgJiZcbiAgICAgIChwYXJzZXIuc3RhdGUgIT09IFMuVEVYVCkpIHtcbiAgICAgIGVycm9yKHBhcnNlciwgJ1VuZXhwZWN0ZWQgZW5kJylcbiAgICB9XG4gICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICBwYXJzZXIuYyA9ICcnXG4gICAgcGFyc2VyLmNsb3NlZCA9IHRydWVcbiAgICBlbWl0KHBhcnNlciwgJ29uZW5kJylcbiAgICBTQVhQYXJzZXIuY2FsbChwYXJzZXIsIHBhcnNlci5zdHJpY3QsIHBhcnNlci5vcHQpXG4gICAgcmV0dXJuIHBhcnNlclxuICB9XG5cbiAgZnVuY3Rpb24gc3RyaWN0RmFpbCAocGFyc2VyLCBtZXNzYWdlKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJzZXIgIT09ICdvYmplY3QnIHx8ICEocGFyc2VyIGluc3RhbmNlb2YgU0FYUGFyc2VyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCB0byBzdHJpY3RGYWlsJylcbiAgICB9XG4gICAgaWYgKHBhcnNlci5zdHJpY3QpIHtcbiAgICAgIGVycm9yKHBhcnNlciwgbWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBuZXdUYWcgKHBhcnNlcikge1xuICAgIGlmICghcGFyc2VyLnN0cmljdCkgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIudGFnTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpXG4gICAgdmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlclxuICAgIHZhciB0YWcgPSBwYXJzZXIudGFnID0geyBuYW1lOiBwYXJzZXIudGFnTmFtZSwgYXR0cmlidXRlczoge30gfVxuXG4gICAgLy8gd2lsbCBiZSBvdmVycmlkZGVuIGlmIHRhZyBjb250YWlscyBhbiB4bWxucz1cImZvb1wiIG9yIHhtbG5zOmZvbz1cImJhclwiXG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIHRhZy5ucyA9IHBhcmVudC5uc1xuICAgIH1cbiAgICBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwXG4gICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVudGFnc3RhcnQnLCB0YWcpXG4gIH1cblxuICBmdW5jdGlvbiBxbmFtZSAobmFtZSwgYXR0cmlidXRlKSB7XG4gICAgdmFyIGkgPSBuYW1lLmluZGV4T2YoJzonKVxuICAgIHZhciBxdWFsTmFtZSA9IGkgPCAwID8gWyAnJywgbmFtZSBdIDogbmFtZS5zcGxpdCgnOicpXG4gICAgdmFyIHByZWZpeCA9IHF1YWxOYW1lWzBdXG4gICAgdmFyIGxvY2FsID0gcXVhbE5hbWVbMV1cblxuICAgIC8vIDx4IFwieG1sbnNcIj1cImh0dHA6Ly9mb29cIj5cbiAgICBpZiAoYXR0cmlidXRlICYmIG5hbWUgPT09ICd4bWxucycpIHtcbiAgICAgIHByZWZpeCA9ICd4bWxucydcbiAgICAgIGxvY2FsID0gJydcbiAgICB9XG5cbiAgICByZXR1cm4geyBwcmVmaXg6IHByZWZpeCwgbG9jYWw6IGxvY2FsIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dHJpYiAocGFyc2VyKSB7XG4gICAgaWYgKCFwYXJzZXIuc3RyaWN0KSB7XG4gICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJOYW1lW3BhcnNlci5sb29zZUNhc2VdKClcbiAgICB9XG5cbiAgICBpZiAocGFyc2VyLmF0dHJpYkxpc3QuaW5kZXhPZihwYXJzZXIuYXR0cmliTmFtZSkgIT09IC0xIHx8XG4gICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkocGFyc2VyLmF0dHJpYk5hbWUpKSB7XG4gICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgdmFyIHFuID0gcW5hbWUocGFyc2VyLmF0dHJpYk5hbWUsIHRydWUpXG4gICAgICB2YXIgcHJlZml4ID0gcW4ucHJlZml4XG4gICAgICB2YXIgbG9jYWwgPSBxbi5sb2NhbFxuXG4gICAgICBpZiAocHJlZml4ID09PSAneG1sbnMnKSB7XG4gICAgICAgIC8vIG5hbWVzcGFjZSBiaW5kaW5nIGF0dHJpYnV0ZS4gcHVzaCB0aGUgYmluZGluZyBpbnRvIHNjb3BlXG4gICAgICAgIGlmIChsb2NhbCA9PT0gJ3htbCcgJiYgcGFyc2VyLmF0dHJpYlZhbHVlICE9PSBYTUxfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsXG4gICAgICAgICAgICAneG1sOiBwcmVmaXggbXVzdCBiZSBib3VuZCB0byAnICsgWE1MX05BTUVTUEFDRSArICdcXG4nICtcbiAgICAgICAgICAgICdBY3R1YWw6ICcgKyBwYXJzZXIuYXR0cmliVmFsdWUpXG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWwgPT09ICd4bWxucycgJiYgcGFyc2VyLmF0dHJpYlZhbHVlICE9PSBYTUxOU19OQU1FU1BBQ0UpIHtcbiAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICd4bWxuczogcHJlZml4IG11c3QgYmUgYm91bmQgdG8gJyArIFhNTE5TX05BTUVTUEFDRSArICdcXG4nICtcbiAgICAgICAgICAgICdBY3R1YWw6ICcgKyBwYXJzZXIuYXR0cmliVmFsdWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHRhZyA9IHBhcnNlci50YWdcbiAgICAgICAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgICAgICAgaWYgKHRhZy5ucyA9PT0gcGFyZW50Lm5zKSB7XG4gICAgICAgICAgICB0YWcubnMgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5ucylcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFnLm5zW2xvY2FsXSA9IHBhcnNlci5hdHRyaWJWYWx1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGRlZmVyIG9uYXR0cmlidXRlIGV2ZW50cyB1bnRpbCBhbGwgYXR0cmlidXRlcyBoYXZlIGJlZW4gc2VlblxuICAgICAgLy8gc28gYW55IG5ldyBiaW5kaW5ncyBjYW4gdGFrZSBlZmZlY3QuIHByZXNlcnZlIGF0dHJpYnV0ZSBvcmRlclxuICAgICAgLy8gc28gZGVmZXJyZWQgZXZlbnRzIGNhbiBiZSBlbWl0dGVkIGluIGRvY3VtZW50IG9yZGVyXG4gICAgICBwYXJzZXIuYXR0cmliTGlzdC5wdXNoKFtwYXJzZXIuYXR0cmliTmFtZSwgcGFyc2VyLmF0dHJpYlZhbHVlXSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW4gbm9uLXhtbG5zIG1vZGUsIHdlIGNhbiBlbWl0IHRoZSBldmVudCByaWdodCBhd2F5XG4gICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbcGFyc2VyLmF0dHJpYk5hbWVdID0gcGFyc2VyLmF0dHJpYlZhbHVlXG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmF0dHJpYnV0ZScsIHtcbiAgICAgICAgbmFtZTogcGFyc2VyLmF0dHJpYk5hbWUsXG4gICAgICAgIHZhbHVlOiBwYXJzZXIuYXR0cmliVmFsdWVcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlblRhZyAocGFyc2VyLCBzZWxmQ2xvc2luZykge1xuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICAvLyBlbWl0IG5hbWVzcGFjZSBiaW5kaW5nIGV2ZW50c1xuICAgICAgdmFyIHRhZyA9IHBhcnNlci50YWdcblxuICAgICAgLy8gYWRkIG5hbWVzcGFjZSBpbmZvIHRvIHRhZ1xuICAgICAgdmFyIHFuID0gcW5hbWUocGFyc2VyLnRhZ05hbWUpXG4gICAgICB0YWcucHJlZml4ID0gcW4ucHJlZml4XG4gICAgICB0YWcubG9jYWwgPSBxbi5sb2NhbFxuICAgICAgdGFnLnVyaSA9IHRhZy5uc1txbi5wcmVmaXhdIHx8ICcnXG5cbiAgICAgIGlmICh0YWcucHJlZml4ICYmICF0YWcudXJpKSB7XG4gICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5ib3VuZCBuYW1lc3BhY2UgcHJlZml4OiAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwYXJzZXIudGFnTmFtZSkpXG4gICAgICAgIHRhZy51cmkgPSBxbi5wcmVmaXhcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlclxuICAgICAgaWYgKHRhZy5ucyAmJiBwYXJlbnQubnMgIT09IHRhZy5ucykge1xuICAgICAgICBPYmplY3Qua2V5cyh0YWcubnMpLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW5uYW1lc3BhY2UnLCB7XG4gICAgICAgICAgICBwcmVmaXg6IHAsXG4gICAgICAgICAgICB1cmk6IHRhZy5uc1twXVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8vIGhhbmRsZSBkZWZlcnJlZCBvbmF0dHJpYnV0ZSBldmVudHNcbiAgICAgIC8vIE5vdGU6IGRvIG5vdCBhcHBseSBkZWZhdWx0IG5zIHRvIGF0dHJpYnV0ZXM6XG4gICAgICAvLyAgIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy14bWwtbmFtZXMvI2RlZmF1bHRpbmdcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBudiA9IHBhcnNlci5hdHRyaWJMaXN0W2ldXG4gICAgICAgIHZhciBuYW1lID0gbnZbMF1cbiAgICAgICAgdmFyIHZhbHVlID0gbnZbMV1cbiAgICAgICAgdmFyIHF1YWxOYW1lID0gcW5hbWUobmFtZSwgdHJ1ZSlcbiAgICAgICAgdmFyIHByZWZpeCA9IHF1YWxOYW1lLnByZWZpeFxuICAgICAgICB2YXIgbG9jYWwgPSBxdWFsTmFtZS5sb2NhbFxuICAgICAgICB2YXIgdXJpID0gcHJlZml4ID09PSAnJyA/ICcnIDogKHRhZy5uc1twcmVmaXhdIHx8ICcnKVxuICAgICAgICB2YXIgYSA9IHtcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBwcmVmaXg6IHByZWZpeCxcbiAgICAgICAgICBsb2NhbDogbG9jYWwsXG4gICAgICAgICAgdXJpOiB1cmlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYW55IGF0dHJpYnV0ZXMgd2l0aCBhbiB1bmRlZmluZWQgbmFtZXNwYWNlLFxuICAgICAgICAvLyB0aGVuIGZhaWwgb24gdGhlbSBub3cuXG4gICAgICAgIGlmIChwcmVmaXggJiYgcHJlZml4ICE9PSAneG1sbnMnICYmICF1cmkpIHtcbiAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuYm91bmQgbmFtZXNwYWNlIHByZWZpeDogJyArXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcmVmaXgpKVxuICAgICAgICAgIGEudXJpID0gcHJlZml4XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzW25hbWVdID0gYVxuICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmF0dHJpYnV0ZScsIGEpXG4gICAgICB9XG4gICAgICBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwXG4gICAgfVxuXG4gICAgcGFyc2VyLnRhZy5pc1NlbGZDbG9zaW5nID0gISFzZWxmQ2xvc2luZ1xuXG4gICAgLy8gcHJvY2VzcyB0aGUgdGFnXG4gICAgcGFyc2VyLnNhd1Jvb3QgPSB0cnVlXG4gICAgcGFyc2VyLnRhZ3MucHVzaChwYXJzZXIudGFnKVxuICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3BlbnRhZycsIHBhcnNlci50YWcpXG4gICAgaWYgKCFzZWxmQ2xvc2luZykge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciA8c2NyaXB0PiBpbiBub24tc3RyaWN0IG1vZGUuXG4gICAgICBpZiAoIXBhcnNlci5ub3NjcmlwdCAmJiBwYXJzZXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2NyaXB0Jykge1xuICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICB9XG4gICAgICBwYXJzZXIudGFnID0gbnVsbFxuICAgICAgcGFyc2VyLnRhZ05hbWUgPSAnJ1xuICAgIH1cbiAgICBwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VUYWcgKHBhcnNlcikge1xuICAgIGlmICghcGFyc2VyLnRhZ05hbWUpIHtcbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnV2VpcmQgZW1wdHkgY2xvc2UgdGFnLicpXG4gICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwvPidcbiAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHBhcnNlci5zY3JpcHQpIHtcbiAgICAgIGlmIChwYXJzZXIudGFnTmFtZSAhPT0gJ3NjcmlwdCcpIHtcbiAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPC8nICsgcGFyc2VyLnRhZ05hbWUgKyAnPidcbiAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSAnJ1xuICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uc2NyaXB0JywgcGFyc2VyLnNjcmlwdClcbiAgICAgIHBhcnNlci5zY3JpcHQgPSAnJ1xuICAgIH1cblxuICAgIC8vIGZpcnN0IG1ha2Ugc3VyZSB0aGF0IHRoZSBjbG9zaW5nIHRhZyBhY3R1YWxseSBleGlzdHMuXG4gICAgLy8gPGE+PGI+PC9jPjwvYj48L2E+IHdpbGwgY2xvc2UgZXZlcnl0aGluZywgb3RoZXJ3aXNlLlxuICAgIHZhciB0ID0gcGFyc2VyLnRhZ3MubGVuZ3RoXG4gICAgdmFyIHRhZ05hbWUgPSBwYXJzZXIudGFnTmFtZVxuICAgIGlmICghcGFyc2VyLnN0cmljdCkge1xuICAgICAgdGFnTmFtZSA9IHRhZ05hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKVxuICAgIH1cbiAgICB2YXIgY2xvc2VUbyA9IHRhZ05hbWVcbiAgICB3aGlsZSAodC0tKSB7XG4gICAgICB2YXIgY2xvc2UgPSBwYXJzZXIudGFnc1t0XVxuICAgICAgaWYgKGNsb3NlLm5hbWUgIT09IGNsb3NlVG8pIHtcbiAgICAgICAgLy8gZmFpbCB0aGUgZmlyc3QgdGltZSBpbiBzdHJpY3QgbW9kZVxuICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuZXhwZWN0ZWQgY2xvc2UgdGFnJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGlkbid0IGZpbmQgaXQuICB3ZSBhbHJlYWR5IGZhaWxlZCBmb3Igc3RyaWN0LCBzbyBqdXN0IGFib3J0LlxuICAgIGlmICh0IDwgMCkge1xuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbm1hdGNoZWQgY2xvc2luZyB0YWc6ICcgKyBwYXJzZXIudGFnTmFtZSlcbiAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSAnPC8nICsgcGFyc2VyLnRhZ05hbWUgKyAnPidcbiAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHBhcnNlci50YWdOYW1lID0gdGFnTmFtZVxuICAgIHZhciBzID0gcGFyc2VyLnRhZ3MubGVuZ3RoXG4gICAgd2hpbGUgKHMtLSA+IHQpIHtcbiAgICAgIHZhciB0YWcgPSBwYXJzZXIudGFnID0gcGFyc2VyLnRhZ3MucG9wKClcbiAgICAgIHBhcnNlci50YWdOYW1lID0gcGFyc2VyLnRhZy5uYW1lXG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNsb3NldGFnJywgcGFyc2VyLnRhZ05hbWUpXG5cbiAgICAgIHZhciB4ID0ge31cbiAgICAgIGZvciAodmFyIGkgaW4gdGFnLm5zKSB7XG4gICAgICAgIHhbaV0gPSB0YWcubnNbaV1cbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlclxuICAgICAgaWYgKHBhcnNlci5vcHQueG1sbnMgJiYgdGFnLm5zICE9PSBwYXJlbnQubnMpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG5hbWVzcGFjZSBiaW5kaW5ncyBpbnRyb2R1Y2VkIGJ5IHRhZ1xuICAgICAgICBPYmplY3Qua2V5cyh0YWcubnMpLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICB2YXIgbiA9IHRhZy5uc1twXVxuICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2xvc2VuYW1lc3BhY2UnLCB7IHByZWZpeDogcCwgdXJpOiBuIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0ID09PSAwKSBwYXJzZXIuY2xvc2VkUm9vdCA9IHRydWVcbiAgICBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9IHBhcnNlci5hdHRyaWJOYW1lID0gJydcbiAgICBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwXG4gICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUVudGl0eSAocGFyc2VyKSB7XG4gICAgdmFyIGVudGl0eSA9IHBhcnNlci5lbnRpdHlcbiAgICB2YXIgZW50aXR5TEMgPSBlbnRpdHkudG9Mb3dlckNhc2UoKVxuICAgIHZhciBudW1cbiAgICB2YXIgbnVtU3RyID0gJydcblxuICAgIGlmIChwYXJzZXIuRU5USVRJRVNbZW50aXR5XSkge1xuICAgICAgcmV0dXJuIHBhcnNlci5FTlRJVElFU1tlbnRpdHldXG4gICAgfVxuICAgIGlmIChwYXJzZXIuRU5USVRJRVNbZW50aXR5TENdKSB7XG4gICAgICByZXR1cm4gcGFyc2VyLkVOVElUSUVTW2VudGl0eUxDXVxuICAgIH1cbiAgICBlbnRpdHkgPSBlbnRpdHlMQ1xuICAgIGlmIChlbnRpdHkuY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIGlmIChlbnRpdHkuY2hhckF0KDEpID09PSAneCcpIHtcbiAgICAgICAgZW50aXR5ID0gZW50aXR5LnNsaWNlKDIpXG4gICAgICAgIG51bSA9IHBhcnNlSW50KGVudGl0eSwgMTYpXG4gICAgICAgIG51bVN0ciA9IG51bS50b1N0cmluZygxNilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVudGl0eSA9IGVudGl0eS5zbGljZSgxKVxuICAgICAgICBudW0gPSBwYXJzZUludChlbnRpdHksIDEwKVxuICAgICAgICBudW1TdHIgPSBudW0udG9TdHJpbmcoMTApXG4gICAgICB9XG4gICAgfVxuICAgIGVudGl0eSA9IGVudGl0eS5yZXBsYWNlKC9eMCsvLCAnJylcbiAgICBpZiAoaXNOYU4obnVtKSB8fCBudW1TdHIudG9Mb3dlckNhc2UoKSAhPT0gZW50aXR5KSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgY2hhcmFjdGVyIGVudGl0eScpXG4gICAgICByZXR1cm4gJyYnICsgcGFyc2VyLmVudGl0eSArICc7J1xuICAgIH1cblxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChudW0pXG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbldoaXRlU3BhY2UgKHBhcnNlciwgYykge1xuICAgIGlmIChjID09PSAnPCcpIHtcbiAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9XQUtBXG4gICAgICBwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiA9IHBhcnNlci5wb3NpdGlvblxuICAgIH0gZWxzZSBpZiAoIWlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgLy8gaGF2ZSB0byBwcm9jZXNzIHRoaXMgYXMgYSB0ZXh0IG5vZGUuXG4gICAgICAvLyB3ZWlyZCwgYnV0IGhhcHBlbnMuXG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ05vbi13aGl0ZXNwYWNlIGJlZm9yZSBmaXJzdCB0YWcuJylcbiAgICAgIHBhcnNlci50ZXh0Tm9kZSA9IGNcbiAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoYXJBdCAoY2h1bmssIGkpIHtcbiAgICB2YXIgcmVzdWx0ID0gJydcbiAgICBpZiAoaSA8IGNodW5rLmxlbmd0aCkge1xuICAgICAgcmVzdWx0ID0gY2h1bmsuY2hhckF0KGkpXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlIChjaHVuaykge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzXG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHRocm93IHRoaXMuZXJyb3JcbiAgICB9XG4gICAgaWYgKHBhcnNlci5jbG9zZWQpIHtcbiAgICAgIHJldHVybiBlcnJvcihwYXJzZXIsXG4gICAgICAgICdDYW5ub3Qgd3JpdGUgYWZ0ZXIgY2xvc2UuIEFzc2lnbiBhbiBvbnJlYWR5IGhhbmRsZXIuJylcbiAgICB9XG4gICAgaWYgKGNodW5rID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZW5kKHBhcnNlcilcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNodW5rID0gY2h1bmsudG9TdHJpbmcoKVxuICAgIH1cbiAgICB2YXIgaSA9IDBcbiAgICB2YXIgYyA9ICcnXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGMgPSBjaGFyQXQoY2h1bmssIGkrKylcbiAgICAgIHBhcnNlci5jID0gY1xuXG4gICAgICBpZiAoIWMpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcnNlci50cmFja1Bvc2l0aW9uKSB7XG4gICAgICAgIHBhcnNlci5wb3NpdGlvbisrXG4gICAgICAgIGlmIChjID09PSAnXFxuJykge1xuICAgICAgICAgIHBhcnNlci5saW5lKytcbiAgICAgICAgICBwYXJzZXIuY29sdW1uID0gMFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnNlci5jb2x1bW4rK1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAocGFyc2VyLnN0YXRlKSB7XG4gICAgICAgIGNhc2UgUy5CRUdJTjpcbiAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkJFR0lOX1dISVRFU1BBQ0VcbiAgICAgICAgICBpZiAoYyA9PT0gJ1xcdUZFRkYnKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBiZWdpbldoaXRlU3BhY2UocGFyc2VyLCBjKVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkJFR0lOX1dISVRFU1BBQ0U6XG4gICAgICAgICAgYmVnaW5XaGl0ZVNwYWNlKHBhcnNlciwgYylcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5URVhUOlxuICAgICAgICAgIGlmIChwYXJzZXIuc2F3Um9vdCAmJiAhcGFyc2VyLmNsb3NlZFJvb3QpIHtcbiAgICAgICAgICAgIHZhciBzdGFydGkgPSBpIC0gMVxuICAgICAgICAgICAgd2hpbGUgKGMgJiYgYyAhPT0gJzwnICYmIGMgIT09ICcmJykge1xuICAgICAgICAgICAgICBjID0gY2hhckF0KGNodW5rLCBpKyspXG4gICAgICAgICAgICAgIGlmIChjICYmIHBhcnNlci50cmFja1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VyLnBvc2l0aW9uKytcbiAgICAgICAgICAgICAgICBpZiAoYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgIHBhcnNlci5saW5lKytcbiAgICAgICAgICAgICAgICAgIHBhcnNlci5jb2x1bW4gPSAwXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBhcnNlci5jb2x1bW4rK1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLnRleHROb2RlICs9IGNodW5rLnN1YnN0cmluZyhzdGFydGksIGkgLSAxKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYyA9PT0gJzwnICYmICEocGFyc2VyLnNhd1Jvb3QgJiYgcGFyc2VyLmNsb3NlZFJvb3QgJiYgIXBhcnNlci5zdHJpY3QpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fV0FLQVxuICAgICAgICAgICAgcGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gPSBwYXJzZXIucG9zaXRpb25cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UoYykgJiYgKCFwYXJzZXIuc2F3Um9vdCB8fCBwYXJzZXIuY2xvc2VkUm9vdCkpIHtcbiAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdUZXh0IGRhdGEgb3V0c2lkZSBvZiByb290IG5vZGUuJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnJicpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUX0VOVElUWVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnRleHROb2RlICs9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuU0NSSVBUOlxuICAgICAgICAgIC8vIG9ubHkgbm9uLXN0cmljdFxuICAgICAgICAgIGlmIChjID09PSAnPCcpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUX0VORElOR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc2NyaXB0ICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuU0NSSVBUX0VORElORzpcbiAgICAgICAgICBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8JyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLk9QRU5fV0FLQTpcbiAgICAgICAgICAvLyBlaXRoZXIgYSAvLCA/LCAhLCBvciB0ZXh0IGlzIGNvbWluZyBuZXh0LlxuICAgICAgICAgIGlmIChjID09PSAnIScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciBpdC4uLlxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHXG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9IGNcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUdcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdE5hbWUgPSBwYXJzZXIucHJvY0luc3RCb2R5ID0gJydcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmVuY29kZWQgPCcpXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSB3YXMgc29tZSB3aGl0ZXNwYWNlLCB0aGVuIGFkZCB0aGF0IGluLlxuICAgICAgICAgICAgaWYgKHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uICsgMSA8IHBhcnNlci5wb3NpdGlvbikge1xuICAgICAgICAgICAgICB2YXIgcGFkID0gcGFyc2VyLnBvc2l0aW9uIC0gcGFyc2VyLnN0YXJ0VGFnUG9zaXRpb25cbiAgICAgICAgICAgICAgYyA9IG5ldyBBcnJheShwYWQpLmpvaW4oJyAnKSArIGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSAnPCcgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuU0dNTF9ERUNMOlxuICAgICAgICAgIGlmICgocGFyc2VyLnNnbWxEZWNsICsgYykudG9VcHBlckNhc2UoKSA9PT0gQ0RBVEEpIHtcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3BlbmNkYXRhJylcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VyLnNnbWxEZWNsICsgYyA9PT0gJy0tJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UXG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoKHBhcnNlci5zZ21sRGVjbCArIGMpLnRvVXBwZXJDYXNlKCkgPT09IERPQ1RZUEUpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRVxuICAgICAgICAgICAgaWYgKHBhcnNlci5kb2N0eXBlIHx8IHBhcnNlci5zYXdSb290KSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLFxuICAgICAgICAgICAgICAgICdJbmFwcHJvcHJpYXRlbHkgbG9jYXRlZCBkb2N0eXBlIGRlY2xhcmF0aW9uJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5kb2N0eXBlID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uc2dtbGRlY2xhcmF0aW9uJywgcGFyc2VyLnNnbWxEZWNsKVxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0xfUVVPVEVEXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TR01MX0RFQ0xfUVVPVEVEOlxuICAgICAgICAgIGlmIChjID09PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0xcbiAgICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25kb2N0eXBlJywgcGFyc2VyLmRvY3R5cGUpXG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSA9IHRydWUgLy8ganVzdCByZW1lbWJlciB0aGF0IHdlIHNhdyBpdC5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgICAgaWYgKGMgPT09ICdbJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX1FVT1RFRFxuICAgICAgICAgICAgICBwYXJzZXIucSA9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRV9RVU9URUQ6XG4gICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgIGlmIChjID09PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfRFREOlxuICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICBpZiAoYyA9PT0gJ10nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9EVERfUVVPVEVEXG4gICAgICAgICAgICBwYXJzZXIucSA9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRV9EVERfUVVPVEVEOlxuICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICBpZiAoYyA9PT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9EVERcbiAgICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ09NTUVOVDpcbiAgICAgICAgICBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ09NTUVOVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UX0VOREVEXG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCA9IHRleHRvcHRzKHBhcnNlci5vcHQsIHBhcnNlci5jb21tZW50KVxuICAgICAgICAgICAgaWYgKHBhcnNlci5jb21tZW50KSB7XG4gICAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY29tbWVudCcsIHBhcnNlci5jb21tZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSAnJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCArPSAnLScgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ09NTUVOVF9FTkRFRDpcbiAgICAgICAgICBpZiAoYyAhPT0gJz4nKSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ01hbGZvcm1lZCBjb21tZW50JylcbiAgICAgICAgICAgIC8vIGFsbG93IDwhLS0gYmxhaCAtLSBibG9vIC0tPiBpbiBub24tc3RyaWN0IG1vZGUsXG4gICAgICAgICAgICAvLyB3aGljaCBpcyBhIGNvbW1lbnQgb2YgXCIgYmxhaCAtLSBibG9vIFwiXG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCArPSAnLS0nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DREFUQTpcbiAgICAgICAgICBpZiAoYyA9PT0gJ10nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBX0VORElOR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DREFUQV9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQV9FTkRJTkdfMlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgKz0gJ10nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DREFUQV9FTkRJTkdfMjpcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VyLmNkYXRhKSB7XG4gICAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2RhdGEnLCBwYXJzZXIuY2RhdGEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNsb3NlY2RhdGEnKVxuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJ10nKSB7XG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgKz0gJ10nXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSArPSAnXV0nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5QUk9DX0lOU1Q6XG4gICAgICAgICAgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0JPRFlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0TmFtZSArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlBST0NfSU5TVF9CT0RZOlxuICAgICAgICAgIGlmICghcGFyc2VyLnByb2NJbnN0Qm9keSAmJiBpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0VORElOR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3RCb2R5ICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuUFJPQ19JTlNUX0VORElORzpcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnByb2Nlc3NpbmdpbnN0cnVjdGlvbicsIHtcbiAgICAgICAgICAgICAgbmFtZTogcGFyc2VyLnByb2NJbnN0TmFtZSxcbiAgICAgICAgICAgICAgYm9keTogcGFyc2VyLnByb2NJbnN0Qm9keVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdE5hbWUgPSBwYXJzZXIucHJvY0luc3RCb2R5ID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3RCb2R5ICs9ICc/JyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0JPRFlcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuT1BFTl9UQUc6XG4gICAgICAgICAgaWYgKGlzTWF0Y2gobmFtZUJvZHksIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1RhZyhwYXJzZXIpXG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR19TTEFTSFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgY2hhcmFjdGVyIGluIHRhZyBuYW1lJylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1RBR19TTEFTSDpcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBvcGVuVGFnKHBhcnNlciwgdHJ1ZSlcbiAgICAgICAgICAgIGNsb3NlVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdGb3J3YXJkLXNsYXNoIGluIG9wZW5pbmcgdGFnIG5vdCBmb2xsb3dlZCBieSA+JylcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQjpcbiAgICAgICAgICAvLyBoYXZlbid0IHJlYWQgdGhlIGF0dHJpYnV0ZSBuYW1lIHlldC5cbiAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR19TTEFTSFxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IGNcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9OQU1FOlxuICAgICAgICAgIGlmIChjID09PSAnPScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnQXR0cmlidXRlIHdpdGhvdXQgdmFsdWUnKVxuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gcGFyc2VyLmF0dHJpYk5hbWVcbiAgICAgICAgICAgIGF0dHJpYihwYXJzZXIpXG4gICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRV9TQVdfV0hJVEVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZUJvZHksIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9OQU1FX1NBV19XSElURTpcbiAgICAgICAgICBpZiAoYyA9PT0gJz0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0F0dHJpYnV0ZSB3aXRob3V0IHZhbHVlJylcbiAgICAgICAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlc1twYXJzZXIuYXR0cmliTmFtZV0gPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uYXR0cmlidXRlJywge1xuICAgICAgICAgICAgICBuYW1lOiBwYXJzZXIuYXR0cmliTmFtZSxcbiAgICAgICAgICAgICAgdmFsdWU6ICcnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSAnJ1xuICAgICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gY1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUU6XG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5xID0gY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfUVVPVEVEXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlJylcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1VOUVVPVEVEXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9RVU9URUQ6XG4gICAgICAgICAgaWYgKGMgIT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0VOVElUWV9RXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgKz0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfQ0xPU0VEXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0NMT1NFRDpcbiAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR19TTEFTSFxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ05vIHdoaXRlc3BhY2UgYmV0d2VlbiBhdHRyaWJ1dGVzJylcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gY1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX1VOUVVPVEVEOlxuICAgICAgICAgIGlmICghaXNBdHRyaWJFbmQoYykpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnJicpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfRU5USVRZX1VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSArPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBhdHRyaWIocGFyc2VyKVxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQlxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DTE9TRV9UQUc6XG4gICAgICAgICAgaWYgKCFwYXJzZXIudGFnTmFtZSkge1xuICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChub3RNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG4gICAgICAgICAgICAgIGlmIChwYXJzZXIuc2NyaXB0KSB7XG4gICAgICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPC8nICsgY1xuICAgICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIHRhZ25hbWUgaW4gY2xvc2luZyB0YWcuJylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGNsb3NlVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZUJvZHksIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSArPSBjXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJzZXIuc2NyaXB0KSB7XG4gICAgICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZVxuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIHRhZ25hbWUgaW4gY2xvc2luZyB0YWcnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUdfU0FXX1dISVRFXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNMT1NFX1RBR19TQVdfV0hJVEU6XG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgY2xvc2VUYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBjbG9zaW5nIHRhZycpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlRFWFRfRU5USVRZOlxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9ROlxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9VOlxuICAgICAgICAgIHZhciByZXR1cm5TdGF0ZVxuICAgICAgICAgIHZhciBidWZmZXJcbiAgICAgICAgICBzd2l0Y2ggKHBhcnNlci5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBTLlRFWFRfRU5USVRZOlxuICAgICAgICAgICAgICByZXR1cm5TdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgICAgICBidWZmZXIgPSAndGV4dE5vZGUnXG4gICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1E6XG4gICAgICAgICAgICAgIHJldHVyblN0YXRlID0gUy5BVFRSSUJfVkFMVUVfUVVPVEVEXG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICdhdHRyaWJWYWx1ZSdcbiAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTpcbiAgICAgICAgICAgICAgcmV0dXJuU3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRFxuICAgICAgICAgICAgICBidWZmZXIgPSAnYXR0cmliVmFsdWUnXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGMgPT09ICc7Jykge1xuICAgICAgICAgICAgcGFyc2VyW2J1ZmZlcl0gKz0gcGFyc2VFbnRpdHkocGFyc2VyKVxuICAgICAgICAgICAgcGFyc2VyLmVudGl0eSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSByZXR1cm5TdGF0ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChwYXJzZXIuZW50aXR5Lmxlbmd0aCA/IGVudGl0eUJvZHkgOiBlbnRpdHlTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgY2hhcmFjdGVyIGluIGVudGl0eSBuYW1lJylcbiAgICAgICAgICAgIHBhcnNlcltidWZmZXJdICs9ICcmJyArIHBhcnNlci5lbnRpdHkgKyBjXG4gICAgICAgICAgICBwYXJzZXIuZW50aXR5ID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXJzZXIsICdVbmtub3duIHN0YXRlOiAnICsgcGFyc2VyLnN0YXRlKVxuICAgICAgfVxuICAgIH0gLy8gd2hpbGVcblxuICAgIGlmIChwYXJzZXIucG9zaXRpb24gPj0gcGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24pIHtcbiAgICAgIGNoZWNrQnVmZmVyTGVuZ3RoKHBhcnNlcilcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlclxuICB9XG5cbiAgLyohIGh0dHA6Ly9tdGhzLmJlL2Zyb21jb2RlcG9pbnQgdjAuMS4wIGJ5IEBtYXRoaWFzICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghU3RyaW5nLmZyb21Db2RlUG9pbnQpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGVcbiAgICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3JcbiAgICAgIHZhciBmcm9tQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgTUFYX1NJWkUgPSAweDQwMDBcbiAgICAgICAgdmFyIGNvZGVVbml0cyA9IFtdXG4gICAgICAgIHZhciBoaWdoU3Vycm9nYXRlXG4gICAgICAgIHZhciBsb3dTdXJyb2dhdGVcbiAgICAgICAgdmFyIGluZGV4ID0gLTFcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gJydcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gJydcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgY29kZVBvaW50ID0gTnVtYmVyKGFyZ3VtZW50c1tpbmRleF0pXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWlzRmluaXRlKGNvZGVQb2ludCkgfHwgLy8gYE5hTmAsIGArSW5maW5pdHlgLCBvciBgLUluZmluaXR5YFxuICAgICAgICAgICAgY29kZVBvaW50IDwgMCB8fCAvLyBub3QgYSB2YWxpZCBVbmljb2RlIGNvZGUgcG9pbnRcbiAgICAgICAgICAgIGNvZGVQb2ludCA+IDB4MTBGRkZGIHx8IC8vIG5vdCBhIHZhbGlkIFVuaWNvZGUgY29kZSBwb2ludFxuICAgICAgICAgICAgZmxvb3IoY29kZVBvaW50KSAhPT0gY29kZVBvaW50IC8vIG5vdCBhbiBpbnRlZ2VyXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQ6ICcgKyBjb2RlUG9pbnQpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb2RlUG9pbnQgPD0gMHhGRkZGKSB7IC8vIEJNUCBjb2RlIHBvaW50XG4gICAgICAgICAgICBjb2RlVW5pdHMucHVzaChjb2RlUG9pbnQpXG4gICAgICAgICAgfSBlbHNlIHsgLy8gQXN0cmFsIGNvZGUgcG9pbnQ7IHNwbGl0IGluIHN1cnJvZ2F0ZSBoYWx2ZXNcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmcjc3Vycm9nYXRlLWZvcm11bGFlXG4gICAgICAgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgICAgICAgaGlnaFN1cnJvZ2F0ZSA9IChjb2RlUG9pbnQgPj4gMTApICsgMHhEODAwXG4gICAgICAgICAgICBsb3dTdXJyb2dhdGUgPSAoY29kZVBvaW50ICUgMHg0MDApICsgMHhEQzAwXG4gICAgICAgICAgICBjb2RlVW5pdHMucHVzaChoaWdoU3Vycm9nYXRlLCBsb3dTdXJyb2dhdGUpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCArIDEgPT09IGxlbmd0aCB8fCBjb2RlVW5pdHMubGVuZ3RoID4gTUFYX1NJWkUpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmdGcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgY29kZVVuaXRzKVxuICAgICAgICAgICAgY29kZVVuaXRzLmxlbmd0aCA9IDBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZywgJ2Zyb21Db2RlUG9pbnQnLCB7XG4gICAgICAgICAgdmFsdWU6IGZyb21Db2RlUG9pbnQsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTdHJpbmcuZnJvbUNvZGVQb2ludCA9IGZyb21Db2RlUG9pbnRcbiAgICAgIH1cbiAgICB9KCkpXG4gIH1cbn0pKHR5cGVvZiBleHBvcnRzID09PSAndW5kZWZpbmVkJyA/IHRoaXMuc2F4ID0ge30gOiBleHBvcnRzKVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbm1vZHVsZS5leHBvcnRzID0gU3RyZWFtO1xuXG52YXIgRUUgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5pbmhlcml0cyhTdHJlYW0sIEVFKTtcblN0cmVhbS5SZWFkYWJsZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9yZWFkYWJsZS5qcycpO1xuU3RyZWFtLldyaXRhYmxlID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3dyaXRhYmxlLmpzJyk7XG5TdHJlYW0uRHVwbGV4ID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL2R1cGxleC5qcycpO1xuU3RyZWFtLlRyYW5zZm9ybSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS90cmFuc2Zvcm0uanMnKTtcblN0cmVhbS5QYXNzVGhyb3VnaCA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9wYXNzdGhyb3VnaC5qcycpO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjQueFxuU3RyZWFtLlN0cmVhbSA9IFN0cmVhbTtcblxuXG5cbi8vIG9sZC1zdHlsZSBzdHJlYW1zLiAgTm90ZSB0aGF0IHRoZSBwaXBlIG1ldGhvZCAodGhlIG9ubHkgcmVsZXZhbnRcbi8vIHBhcnQgb2YgdGhpcyBjbGFzcykgaXMgb3ZlcnJpZGRlbiBpbiB0aGUgUmVhZGFibGUgY2xhc3MuXG5cbmZ1bmN0aW9uIFN0cmVhbSgpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbn1cblxuU3RyZWFtLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oZGVzdCwgb3B0aW9ucykge1xuICB2YXIgc291cmNlID0gdGhpcztcblxuICBmdW5jdGlvbiBvbmRhdGEoY2h1bmspIHtcbiAgICBpZiAoZGVzdC53cml0YWJsZSkge1xuICAgICAgaWYgKGZhbHNlID09PSBkZXN0LndyaXRlKGNodW5rKSAmJiBzb3VyY2UucGF1c2UpIHtcbiAgICAgICAgc291cmNlLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdkYXRhJywgb25kYXRhKTtcblxuICBmdW5jdGlvbiBvbmRyYWluKCkge1xuICAgIGlmIChzb3VyY2UucmVhZGFibGUgJiYgc291cmNlLnJlc3VtZSkge1xuICAgICAgc291cmNlLnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7XG5cbiAgLy8gSWYgdGhlICdlbmQnIG9wdGlvbiBpcyBub3Qgc3VwcGxpZWQsIGRlc3QuZW5kKCkgd2lsbCBiZSBjYWxsZWQgd2hlblxuICAvLyBzb3VyY2UgZ2V0cyB0aGUgJ2VuZCcgb3IgJ2Nsb3NlJyBldmVudHMuICBPbmx5IGRlc3QuZW5kKCkgb25jZS5cbiAgaWYgKCFkZXN0Ll9pc1N0ZGlvICYmICghb3B0aW9ucyB8fCBvcHRpb25zLmVuZCAhPT0gZmFsc2UpKSB7XG4gICAgc291cmNlLm9uKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLm9uKCdjbG9zZScsIG9uY2xvc2UpO1xuICB9XG5cbiAgdmFyIGRpZE9uRW5kID0gZmFsc2U7XG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuO1xuICAgIGRpZE9uRW5kID0gdHJ1ZTtcblxuICAgIGRlc3QuZW5kKCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBkZXN0LmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIGRlc3QuZGVzdHJveSgpO1xuICB9XG5cbiAgLy8gZG9uJ3QgbGVhdmUgZGFuZ2xpbmcgcGlwZXMgd2hlbiB0aGVyZSBhcmUgZXJyb3JzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgY2xlYW51cCgpO1xuICAgIGlmIChFRS5saXN0ZW5lckNvdW50KHRoaXMsICdlcnJvcicpID09PSAwKSB7XG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkIHN0cmVhbSBlcnJvciBpbiBwaXBlLlxuICAgIH1cbiAgfVxuXG4gIHNvdXJjZS5vbignZXJyb3InLCBvbmVycm9yKTtcbiAgZGVzdC5vbignZXJyb3InLCBvbmVycm9yKTtcblxuICAvLyByZW1vdmUgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgdGhhdCB3ZXJlIGFkZGVkLlxuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcblxuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcblxuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBjbGVhbnVwKTtcbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsZWFudXApO1xuICB9XG5cbiAgc291cmNlLm9uKCdlbmQnLCBjbGVhbnVwKTtcbiAgc291cmNlLm9uKCdjbG9zZScsIGNsZWFudXApO1xuXG4gIGRlc3Qub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5lbWl0KCdwaXBlJywgc291cmNlKTtcblxuICAvLyBBbGxvdyBmb3IgdW5peC1saWtlIHVzYWdlOiBBLnBpcGUoQikucGlwZShDKVxuICByZXR1cm4gZGVzdDtcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGlzRW5jb2RpbmcgPSBCdWZmZXIuaXNFbmNvZGluZyB8fCBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgZW5jb2RpbmcgPSAnJyArIGVuY29kaW5nO1xuICBzd2l0Y2ggKGVuY29kaW5nICYmIGVuY29kaW5nLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOmNhc2UgJ3V0ZjgnOmNhc2UgJ3V0Zi04JzpjYXNlICdhc2NpaSc6Y2FzZSAnYmluYXJ5JzpjYXNlICdiYXNlNjQnOmNhc2UgJ3VjczInOmNhc2UgJ3Vjcy0yJzpjYXNlICd1dGYxNmxlJzpjYXNlICd1dGYtMTZsZSc6Y2FzZSAncmF3JzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVFbmNvZGluZyhlbmMpIHtcbiAgaWYgKCFlbmMpIHJldHVybiAndXRmOCc7XG4gIHZhciByZXRyaWVkO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jKSB7XG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuICd1dGY4JztcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiAndXRmMTZsZSc7XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuICdsYXRpbjEnO1xuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBlbmM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocmV0cmllZCkgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgICAgZW5jID0gKCcnICsgZW5jKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXRyaWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIERvIG5vdCBjYWNoZSBgQnVmZmVyLmlzRW5jb2RpbmdgIHdoZW4gY2hlY2tpbmcgZW5jb2RpbmcgbmFtZXMgYXMgc29tZVxuLy8gbW9kdWxlcyBtb25rZXktcGF0Y2ggaXQgdG8gc3VwcG9ydCBhZGRpdGlvbmFsIGVuY29kaW5nc1xuZnVuY3Rpb24gbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIHZhciBuZW5jID0gX25vcm1hbGl6ZUVuY29kaW5nKGVuYyk7XG4gIGlmICh0eXBlb2YgbmVuYyAhPT0gJ3N0cmluZycgJiYgKEJ1ZmZlci5pc0VuY29kaW5nID09PSBpc0VuY29kaW5nIHx8ICFpc0VuY29kaW5nKGVuYykpKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmMpO1xuICByZXR1cm4gbmVuYyB8fCBlbmM7XG59XG5cbi8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2Zcbi8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZVxuLy8gY2hhcmFjdGVycy5cbmV4cG9ydHMuU3RyaW5nRGVjb2RlciA9IFN0cmluZ0RlY29kZXI7XG5mdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKSB7XG4gIHRoaXMuZW5jb2RpbmcgPSBub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZyk7XG4gIHZhciBuYjtcbiAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICB0aGlzLnRleHQgPSB1dGYxNlRleHQ7XG4gICAgICB0aGlzLmVuZCA9IHV0ZjE2RW5kO1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXRmOCc6XG4gICAgICB0aGlzLmZpbGxMYXN0ID0gdXRmOEZpbGxMYXN0O1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIHRoaXMudGV4dCA9IGJhc2U2NFRleHQ7XG4gICAgICB0aGlzLmVuZCA9IGJhc2U2NEVuZDtcbiAgICAgIG5iID0gMztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLndyaXRlID0gc2ltcGxlV3JpdGU7XG4gICAgICB0aGlzLmVuZCA9IHNpbXBsZUVuZDtcbiAgICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgdGhpcy5sYXN0VG90YWwgPSAwO1xuICB0aGlzLmxhc3RDaGFyID0gQnVmZmVyLmFsbG9jVW5zYWZlKG5iKTtcbn1cblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG4gIHZhciByO1xuICB2YXIgaTtcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICByID0gdGhpcy5maWxsTGFzdChidWYpO1xuICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiAnJztcbiAgICBpID0gdGhpcy5sYXN0TmVlZDtcbiAgICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgfSBlbHNlIHtcbiAgICBpID0gMDtcbiAgfVxuICBpZiAoaSA8IGJ1Zi5sZW5ndGgpIHJldHVybiByID8gciArIHRoaXMudGV4dChidWYsIGkpIDogdGhpcy50ZXh0KGJ1ZiwgaSk7XG4gIHJldHVybiByIHx8ICcnO1xufTtcblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZW5kID0gdXRmOEVuZDtcblxuLy8gUmV0dXJucyBvbmx5IGNvbXBsZXRlIGNoYXJhY3RlcnMgaW4gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLnRleHQgPSB1dGY4VGV4dDtcblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBwYXJ0aWFsIG5vbi1VVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlclxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZmlsbExhc3QgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHtcbiAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59O1xuXG4vLyBDaGVja3MgdGhlIHR5cGUgb2YgYSBVVEYtOCBieXRlLCB3aGV0aGVyIGl0J3MgQVNDSUksIGEgbGVhZGluZyBieXRlLCBvciBhXG4vLyBjb250aW51YXRpb24gYnl0ZS4gSWYgYW4gaW52YWxpZCBieXRlIGlzIGRldGVjdGVkLCAtMiBpcyByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSkge1xuICBpZiAoYnl0ZSA8PSAweDdGKSByZXR1cm4gMDtlbHNlIGlmIChieXRlID4+IDUgPT09IDB4MDYpIHJldHVybiAyO2Vsc2UgaWYgKGJ5dGUgPj4gNCA9PT0gMHgwRSkgcmV0dXJuIDM7ZWxzZSBpZiAoYnl0ZSA+PiAzID09PSAweDFFKSByZXR1cm4gNDtcbiAgcmV0dXJuIGJ5dGUgPj4gNiA9PT0gMHgwMiA/IC0xIDogLTI7XG59XG5cbi8vIENoZWNrcyBhdCBtb3N0IDMgYnl0ZXMgYXQgdGhlIGVuZCBvZiBhIEJ1ZmZlciBpbiBvcmRlciB0byBkZXRlY3QgYW5cbi8vIGluY29tcGxldGUgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIuIFRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgKDIsIDMsIG9yIDQpXG4vLyBuZWVkZWQgdG8gY29tcGxldGUgdGhlIFVURi04IGNoYXJhY3RlciAoaWYgYXBwbGljYWJsZSkgYXJlIHJldHVybmVkLlxuZnVuY3Rpb24gdXRmOENoZWNrSW5jb21wbGV0ZShzZWxmLCBidWYsIGkpIHtcbiAgdmFyIGogPSBidWYubGVuZ3RoIC0gMTtcbiAgaWYgKGogPCBpKSByZXR1cm4gMDtcbiAgdmFyIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDE7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDI7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHtcbiAgICAgIGlmIChuYiA9PT0gMikgbmIgPSAwO2Vsc2Ugc2VsZi5sYXN0TmVlZCA9IG5iIC0gMztcbiAgICB9XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG4vLyBWYWxpZGF0ZXMgYXMgbWFueSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgYXNcbi8vIG5lZWRlZCBvciBhcmUgYXZhaWxhYmxlLiBJZiB3ZSBzZWUgYSBub24tY29udGludWF0aW9uIGJ5dGUgd2hlcmUgd2UgZXhwZWN0XG4vLyBvbmUsIHdlIFwicmVwbGFjZVwiIHRoZSB2YWxpZGF0ZWQgY29udGludWF0aW9uIGJ5dGVzIHdlJ3ZlIHNlZW4gc28gZmFyIHdpdGhcbi8vIGEgc2luZ2xlIFVURi04IHJlcGxhY2VtZW50IGNoYXJhY3RlciAoJ1xcdWZmZmQnKSwgdG8gbWF0Y2ggdjgncyBVVEYtOCBkZWNvZGluZ1xuLy8gYmVoYXZpb3IuIFRoZSBjb250aW51YXRpb24gYnl0ZSBjaGVjayBpcyBpbmNsdWRlZCB0aHJlZSB0aW1lcyBpbiB0aGUgY2FzZVxuLy8gd2hlcmUgYWxsIG9mIHRoZSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgY2hhcmFjdGVyIGV4aXN0IGluIHRoZSBzYW1lIGJ1ZmZlci5cbi8vIEl0IGlzIGFsc28gZG9uZSB0aGlzIHdheSBhcyBhIHNsaWdodCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpbnN0ZWFkIG9mIHVzaW5nIGFcbi8vIGxvb3AuXG5mdW5jdGlvbiB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHNlbGYsIGJ1ZiwgcCkge1xuICBpZiAoKGJ1ZlswXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgc2VsZi5sYXN0TmVlZCA9IDA7XG4gICAgcmV0dXJuICdcXHVmZmZkJztcbiAgfVxuICBpZiAoc2VsZi5sYXN0TmVlZCA+IDEgJiYgYnVmLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoKGJ1ZlsxXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgICBzZWxmLmxhc3ROZWVkID0gMTtcbiAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgfVxuICAgIGlmIChzZWxmLmxhc3ROZWVkID4gMiAmJiBidWYubGVuZ3RoID4gMikge1xuICAgICAgaWYgKChidWZbMl0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgICBzZWxmLmxhc3ROZWVkID0gMjtcbiAgICAgICAgcmV0dXJuICdcXHVmZmZkJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3RlciB1c2luZyBieXRlcyBmcm9tIGEgQnVmZmVyLlxuZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zikge1xuICB2YXIgcCA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZDtcbiAgdmFyIHIgPSB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsIGJ1ZiwgcCk7XG4gIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiByO1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgcCwgMCwgdGhpcy5sYXN0TmVlZCk7XG4gICAgcmV0dXJuIHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywgMCwgdGhpcy5sYXN0VG90YWwpO1xuICB9XG4gIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59XG5cbi8vIFJldHVybnMgYWxsIGNvbXBsZXRlIFVURi04IGNoYXJhY3RlcnMgaW4gYSBCdWZmZXIuIElmIHRoZSBCdWZmZXIgZW5kZWQgb24gYVxuLy8gcGFydGlhbCBjaGFyYWN0ZXIsIHRoZSBjaGFyYWN0ZXIncyBieXRlcyBhcmUgYnVmZmVyZWQgdW50aWwgdGhlIHJlcXVpcmVkXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXJlIGF2YWlsYWJsZS5cbmZ1bmN0aW9uIHV0ZjhUZXh0KGJ1ZiwgaSkge1xuICB2YXIgdG90YWwgPSB1dGY4Q2hlY2tJbmNvbXBsZXRlKHRoaXMsIGJ1ZiwgaSk7XG4gIGlmICghdGhpcy5sYXN0TmVlZCkgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGkpO1xuICB0aGlzLmxhc3RUb3RhbCA9IHRvdGFsO1xuICB2YXIgZW5kID0gYnVmLmxlbmd0aCAtICh0b3RhbCAtIHRoaXMubGFzdE5lZWQpO1xuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCAwLCBlbmQpO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGY4JywgaSwgZW5kKTtcbn1cblxuLy8gRm9yIFVURi04LCBhIHJlcGxhY2VtZW50IGNoYXJhY3RlciBpcyBhZGRlZCB3aGVuIGVuZGluZyBvbiBhIHBhcnRpYWxcbi8vIGNoYXJhY3Rlci5cbmZ1bmN0aW9uIHV0ZjhFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgJ1xcdWZmZmQnO1xuICByZXR1cm4gcjtcbn1cblxuLy8gVVRGLTE2TEUgdHlwaWNhbGx5IG5lZWRzIHR3byBieXRlcyBwZXIgY2hhcmFjdGVyLCBidXQgZXZlbiBpZiB3ZSBoYXZlIGFuIGV2ZW5cbi8vIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUsIHdlIG5lZWQgdG8gY2hlY2sgaWYgd2UgZW5kIG9uIGEgbGVhZGluZy9oaWdoXG4vLyBzdXJyb2dhdGUuIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCB0d28gYnl0ZXMgaW4gb3JkZXIgdG9cbi8vIGRlY29kZSB0aGUgbGFzdCBjaGFyYWN0ZXIgcHJvcGVybHkuXG5mdW5jdGlvbiB1dGYxNlRleHQoYnVmLCBpKSB7XG4gIGlmICgoYnVmLmxlbmd0aCAtIGkpICUgMiA9PT0gMCkge1xuICAgIHZhciByID0gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHZhciBjID0gci5jaGFyQ29kZUF0KHIubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERCRkYpIHtcbiAgICAgICAgdGhpcy5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHRoaXMubGFzdFRvdGFsID0gNDtcbiAgICAgICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgICAgIHRoaXMubGFzdENoYXJbMV0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gci5zbGljZSgwLCAtMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG4gIHRoaXMubGFzdE5lZWQgPSAxO1xuICB0aGlzLmxhc3RUb3RhbCA9IDI7XG4gIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSwgYnVmLmxlbmd0aCAtIDEpO1xufVxuXG4vLyBGb3IgVVRGLTE2TEUgd2UgZG8gbm90IGV4cGxpY2l0bHkgYXBwZW5kIHNwZWNpYWwgcmVwbGFjZW1lbnQgY2hhcmFjdGVycyBpZiB3ZVxuLy8gZW5kIG9uIGEgcGFydGlhbCBjaGFyYWN0ZXIsIHdlIHNpbXBseSBsZXQgdjggaGFuZGxlIHRoYXQuXG5mdW5jdGlvbiB1dGYxNkVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkge1xuICAgIHZhciBlbmQgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gICAgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCd1dGYxNmxlJywgMCwgZW5kKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VGV4dChidWYsIGkpIHtcbiAgdmFyIG4gPSAoYnVmLmxlbmd0aCAtIGkpICUgMztcbiAgaWYgKG4gPT09IDApIHJldHVybiBidWYudG9TdHJpbmcoJ2Jhc2U2NCcsIGkpO1xuICB0aGlzLmxhc3ROZWVkID0gMyAtIG47XG4gIHRoaXMubGFzdFRvdGFsID0gMztcbiAgaWYgKG4gPT09IDEpIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAyXTtcbiAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpLCBidWYubGVuZ3RoIC0gbik7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NEVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCdiYXNlNjQnLCAwLCAzIC0gdGhpcy5sYXN0TmVlZCk7XG4gIHJldHVybiByO1xufVxuXG4vLyBQYXNzIGJ5dGVzIG9uIHRocm91Z2ggZm9yIHNpbmdsZS1ieXRlIGVuY29kaW5ncyAoZS5nLiBhc2NpaSwgbGF0aW4xLCBoZXgpXG5mdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpIHtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRW5kKGJ1Zikge1xuICByZXR1cm4gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbn0iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTsiLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZXByZWNhdGU7XG5cbi8qKlxuICogTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbiAqIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS5ub0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50aHJvd0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIHRocm93IGFuIEVycm9yIHdoZW4gaW52b2tlZC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLnRyYWNlRGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnNcbiAqIHdpbGwgaW52b2tlIGBjb25zb2xlLnRyYWNlKClgIGluc3RlYWQgb2YgYGNvbnNvbGUuZXJyb3IoKWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gZGVwcmVjYXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gdGhlIHN0cmluZyB0byBwcmludCB0byB0aGUgY29uc29sZSB3aGVuIGBmbmAgaXMgaW52b2tlZFxuICogQHJldHVybnMge0Z1bmN0aW9ufSBhIG5ldyBcImRlcHJlY2F0ZWRcIiB2ZXJzaW9uIG9mIGBmbmBcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVwcmVjYXRlIChmbiwgbXNnKSB7XG4gIGlmIChjb25maWcoJ25vRGVwcmVjYXRpb24nKSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKGNvbmZpZygndGhyb3dEZXByZWNhdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcoJ3RyYWNlRGVwcmVjYXRpb24nKSkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGBsb2NhbFN0b3JhZ2VgIGZvciBib29sZWFuIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb25maWcgKG5hbWUpIHtcbiAgLy8gYWNjZXNzaW5nIGdsb2JhbC5sb2NhbFN0b3JhZ2UgY2FuIHRyaWdnZXIgYSBET01FeGNlcHRpb24gaW4gc2FuZGJveGVkIGlmcmFtZXNcbiAgdHJ5IHtcbiAgICBpZiAoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpIHJldHVybiBmYWxzZTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdmFsID0gZ2xvYmFsLmxvY2FsU3RvcmFnZVtuYW1lXTtcbiAgaWYgKG51bGwgPT0gdmFsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBTdHJpbmcodmFsKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG59XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgZXhwb3J0cy5zdHJpcEJPTSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmIChzdHJbMF0gPT09ICdcXHVGRUZGJykge1xuICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciBidWlsZGVyLCBkZWZhdWx0cywgZXNjYXBlQ0RBVEEsIHJlcXVpcmVzQ0RBVEEsIHdyYXBDREFUQSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgYnVpbGRlciA9IHJlcXVpcmUoJ3htbGJ1aWxkZXInKTtcblxuICBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKS5kZWZhdWx0cztcblxuICByZXF1aXJlc0NEQVRBID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSBcInN0cmluZ1wiICYmIChlbnRyeS5pbmRleE9mKCcmJykgPj0gMCB8fCBlbnRyeS5pbmRleE9mKCc+JykgPj0gMCB8fCBlbnRyeS5pbmRleE9mKCc8JykgPj0gMCk7XG4gIH07XG5cbiAgd3JhcENEQVRBID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgICByZXR1cm4gXCI8IVtDREFUQVtcIiArIChlc2NhcGVDREFUQShlbnRyeSkpICsgXCJdXT5cIjtcbiAgfTtcblxuICBlc2NhcGVDREFUQSA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgcmV0dXJuIGVudHJ5LnJlcGxhY2UoJ11dPicsICddXV1dPjwhW0NEQVRBWz4nKTtcbiAgfTtcblxuICBleHBvcnRzLkJ1aWxkZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gQnVpbGRlcihvcHRzKSB7XG4gICAgICB2YXIga2V5LCByZWYsIHZhbHVlO1xuICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICByZWYgPSBkZWZhdWx0c1tcIjAuMlwiXTtcbiAgICAgIGZvciAoa2V5IGluIHJlZikge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICB2YWx1ZSA9IHJlZltrZXldO1xuICAgICAgICB0aGlzLm9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgZm9yIChrZXkgaW4gb3B0cykge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChvcHRzLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsdWUgPSBvcHRzW2tleV07XG4gICAgICAgIHRoaXMub3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgQnVpbGRlci5wcm90b3R5cGUuYnVpbGRPYmplY3QgPSBmdW5jdGlvbihyb290T2JqKSB7XG4gICAgICB2YXIgYXR0cmtleSwgY2hhcmtleSwgcmVuZGVyLCByb290RWxlbWVudCwgcm9vdE5hbWU7XG4gICAgICBhdHRya2V5ID0gdGhpcy5vcHRpb25zLmF0dHJrZXk7XG4gICAgICBjaGFya2V5ID0gdGhpcy5vcHRpb25zLmNoYXJrZXk7XG4gICAgICBpZiAoKE9iamVjdC5rZXlzKHJvb3RPYmopLmxlbmd0aCA9PT0gMSkgJiYgKHRoaXMub3B0aW9ucy5yb290TmFtZSA9PT0gZGVmYXVsdHNbJzAuMiddLnJvb3ROYW1lKSkge1xuICAgICAgICByb290TmFtZSA9IE9iamVjdC5rZXlzKHJvb3RPYmopWzBdO1xuICAgICAgICByb290T2JqID0gcm9vdE9ialtyb290TmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290TmFtZSA9IHRoaXMub3B0aW9ucy5yb290TmFtZTtcbiAgICAgIH1cbiAgICAgIHJlbmRlciA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWxlbWVudCwgb2JqKSB7XG4gICAgICAgICAgdmFyIGF0dHIsIGNoaWxkLCBlbnRyeSwgaW5kZXgsIGtleSwgdmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5jZGF0YSAmJiByZXF1aXJlc0NEQVRBKG9iaikpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5yYXcod3JhcENEQVRBKG9iaikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZWxlbWVudC50eHQob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgZm9yIChpbmRleCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwob2JqLCBpbmRleCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjaGlsZCA9IG9ialtpbmRleF07XG4gICAgICAgICAgICAgIGZvciAoa2V5IGluIGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgZW50cnkgPSBjaGlsZFtrZXldO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSByZW5kZXIoZWxlbWVudC5lbGUoa2V5KSwgZW50cnkpLnVwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKG9iaiwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgICAgIGNoaWxkID0gb2JqW2tleV07XG4gICAgICAgICAgICAgIGlmIChrZXkgPT09IGF0dHJrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoaWxkID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKGF0dHIgaW4gY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjaGlsZFthdHRyXTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQuYXR0KGF0dHIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBjaGFya2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuY2RhdGEgJiYgcmVxdWlyZXNDREFUQShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnJhdyh3cmFwQ0RBVEEoY2hpbGQpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQudHh0KGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGluZGV4IGluIGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChjaGlsZCwgaW5kZXgpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGVudHJ5ID0gY2hpbGRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuY2RhdGEgJiYgcmVxdWlyZXNDREFUQShlbnRyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5lbGUoa2V5KS5yYXcod3JhcENEQVRBKGVudHJ5KSkudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5lbGUoa2V5LCBlbnRyeSkudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IHJlbmRlcihlbGVtZW50LmVsZShrZXkpLCBlbnRyeSkudXAoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHJlbmRlcihlbGVtZW50LmVsZShrZXkpLCBjaGlsZCkudXAoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJyAmJiBfdGhpcy5vcHRpb25zLmNkYXRhICYmIHJlcXVpcmVzQ0RBVEEoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5lbGUoa2V5KS5yYXcod3JhcENEQVRBKGNoaWxkKSkudXAoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSAnJztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LmVsZShrZXksIGNoaWxkLnRvU3RyaW5nKCkpLnVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICByb290RWxlbWVudCA9IGJ1aWxkZXIuY3JlYXRlKHJvb3ROYW1lLCB0aGlzLm9wdGlvbnMueG1sZGVjLCB0aGlzLm9wdGlvbnMuZG9jdHlwZSwge1xuICAgICAgICBoZWFkbGVzczogdGhpcy5vcHRpb25zLmhlYWRsZXNzLFxuICAgICAgICBhbGxvd1N1cnJvZ2F0ZUNoYXJzOiB0aGlzLm9wdGlvbnMuYWxsb3dTdXJyb2dhdGVDaGFyc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVuZGVyKHJvb3RFbGVtZW50LCByb290T2JqKS5lbmQodGhpcy5vcHRpb25zLnJlbmRlck9wdHMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQnVpbGRlcjtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgZXhwb3J0cy5kZWZhdWx0cyA9IHtcbiAgICBcIjAuMVwiOiB7XG4gICAgICBleHBsaWNpdENoYXJrZXk6IGZhbHNlLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG5vcm1hbGl6ZTogdHJ1ZSxcbiAgICAgIG5vcm1hbGl6ZVRhZ3M6IGZhbHNlLFxuICAgICAgYXR0cmtleTogXCJAXCIsXG4gICAgICBjaGFya2V5OiBcIiNcIixcbiAgICAgIGV4cGxpY2l0QXJyYXk6IGZhbHNlLFxuICAgICAgaWdub3JlQXR0cnM6IGZhbHNlLFxuICAgICAgbWVyZ2VBdHRyczogZmFsc2UsXG4gICAgICBleHBsaWNpdFJvb3Q6IGZhbHNlLFxuICAgICAgdmFsaWRhdG9yOiBudWxsLFxuICAgICAgeG1sbnM6IGZhbHNlLFxuICAgICAgZXhwbGljaXRDaGlsZHJlbjogZmFsc2UsXG4gICAgICBjaGlsZGtleTogJ0BAJyxcbiAgICAgIGNoYXJzQXNDaGlsZHJlbjogZmFsc2UsXG4gICAgICBpbmNsdWRlV2hpdGVDaGFyczogZmFsc2UsXG4gICAgICBhc3luYzogZmFsc2UsXG4gICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICBhdHRyTmFtZVByb2Nlc3NvcnM6IG51bGwsXG4gICAgICBhdHRyVmFsdWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgdGFnTmFtZVByb2Nlc3NvcnM6IG51bGwsXG4gICAgICB2YWx1ZVByb2Nlc3NvcnM6IG51bGwsXG4gICAgICBlbXB0eVRhZzogJydcbiAgICB9LFxuICAgIFwiMC4yXCI6IHtcbiAgICAgIGV4cGxpY2l0Q2hhcmtleTogZmFsc2UsXG4gICAgICB0cmltOiBmYWxzZSxcbiAgICAgIG5vcm1hbGl6ZTogZmFsc2UsXG4gICAgICBub3JtYWxpemVUYWdzOiBmYWxzZSxcbiAgICAgIGF0dHJrZXk6IFwiJFwiLFxuICAgICAgY2hhcmtleTogXCJfXCIsXG4gICAgICBleHBsaWNpdEFycmF5OiB0cnVlLFxuICAgICAgaWdub3JlQXR0cnM6IGZhbHNlLFxuICAgICAgbWVyZ2VBdHRyczogZmFsc2UsXG4gICAgICBleHBsaWNpdFJvb3Q6IHRydWUsXG4gICAgICB2YWxpZGF0b3I6IG51bGwsXG4gICAgICB4bWxuczogZmFsc2UsXG4gICAgICBleHBsaWNpdENoaWxkcmVuOiBmYWxzZSxcbiAgICAgIHByZXNlcnZlQ2hpbGRyZW5PcmRlcjogZmFsc2UsXG4gICAgICBjaGlsZGtleTogJyQkJyxcbiAgICAgIGNoYXJzQXNDaGlsZHJlbjogZmFsc2UsXG4gICAgICBpbmNsdWRlV2hpdGVDaGFyczogZmFsc2UsXG4gICAgICBhc3luYzogZmFsc2UsXG4gICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICBhdHRyTmFtZVByb2Nlc3NvcnM6IG51bGwsXG4gICAgICBhdHRyVmFsdWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgdGFnTmFtZVByb2Nlc3NvcnM6IG51bGwsXG4gICAgICB2YWx1ZVByb2Nlc3NvcnM6IG51bGwsXG4gICAgICByb290TmFtZTogJ3Jvb3QnLFxuICAgICAgeG1sZGVjOiB7XG4gICAgICAgICd2ZXJzaW9uJzogJzEuMCcsXG4gICAgICAgICdlbmNvZGluZyc6ICdVVEYtOCcsXG4gICAgICAgICdzdGFuZGFsb25lJzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRvY3R5cGU6IG51bGwsXG4gICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICdwcmV0dHknOiB0cnVlLFxuICAgICAgICAnaW5kZW50JzogJyAgJyxcbiAgICAgICAgJ25ld2xpbmUnOiAnXFxuJ1xuICAgICAgfSxcbiAgICAgIGhlYWRsZXNzOiBmYWxzZSxcbiAgICAgIGNodW5rU2l6ZTogMTAwMDAsXG4gICAgICBlbXB0eVRhZzogJycsXG4gICAgICBjZGF0YTogZmFsc2VcbiAgICB9XG4gIH07XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIGJvbSwgZGVmYXVsdHMsIGV2ZW50cywgaXNFbXB0eSwgcHJvY2Vzc0l0ZW0sIHByb2Nlc3NvcnMsIHNheCwgc2V0SW1tZWRpYXRlLFxuICAgIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgc2F4ID0gcmVxdWlyZSgnc2F4Jyk7XG5cbiAgZXZlbnRzID0gcmVxdWlyZSgnZXZlbnRzJyk7XG5cbiAgYm9tID0gcmVxdWlyZSgnLi9ib20nKTtcblxuICBwcm9jZXNzb3JzID0gcmVxdWlyZSgnLi9wcm9jZXNzb3JzJyk7XG5cbiAgc2V0SW1tZWRpYXRlID0gcmVxdWlyZSgndGltZXJzJykuc2V0SW1tZWRpYXRlO1xuXG4gIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpLmRlZmF1bHRzO1xuXG4gIGlzRW1wdHkgPSBmdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgKHRoaW5nICE9IG51bGwpICYmIE9iamVjdC5rZXlzKHRoaW5nKS5sZW5ndGggPT09IDA7XG4gIH07XG5cbiAgcHJvY2Vzc0l0ZW0gPSBmdW5jdGlvbihwcm9jZXNzb3JzLCBpdGVtLCBrZXkpIHtcbiAgICB2YXIgaSwgbGVuLCBwcm9jZXNzO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IHByb2Nlc3NvcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHByb2Nlc3MgPSBwcm9jZXNzb3JzW2ldO1xuICAgICAgaXRlbSA9IHByb2Nlc3MoaXRlbSwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG4gIH07XG5cbiAgZXhwb3J0cy5QYXJzZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChQYXJzZXIsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gUGFyc2VyKG9wdHMpIHtcbiAgICAgIHRoaXMucGFyc2VTdHJpbmdQcm9taXNlID0gYmluZCh0aGlzLnBhcnNlU3RyaW5nUHJvbWlzZSwgdGhpcyk7XG4gICAgICB0aGlzLnBhcnNlU3RyaW5nID0gYmluZCh0aGlzLnBhcnNlU3RyaW5nLCB0aGlzKTtcbiAgICAgIHRoaXMucmVzZXQgPSBiaW5kKHRoaXMucmVzZXQsIHRoaXMpO1xuICAgICAgdGhpcy5hc3NpZ25PclB1c2ggPSBiaW5kKHRoaXMuYXNzaWduT3JQdXNoLCB0aGlzKTtcbiAgICAgIHRoaXMucHJvY2Vzc0FzeW5jID0gYmluZCh0aGlzLnByb2Nlc3NBc3luYywgdGhpcyk7XG4gICAgICB2YXIga2V5LCByZWYsIHZhbHVlO1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGV4cG9ydHMuUGFyc2VyKSkge1xuICAgICAgICByZXR1cm4gbmV3IGV4cG9ydHMuUGFyc2VyKG9wdHMpO1xuICAgICAgfVxuICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICByZWYgPSBkZWZhdWx0c1tcIjAuMlwiXTtcbiAgICAgIGZvciAoa2V5IGluIHJlZikge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICB2YWx1ZSA9IHJlZltrZXldO1xuICAgICAgICB0aGlzLm9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgZm9yIChrZXkgaW4gb3B0cykge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChvcHRzLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsdWUgPSBvcHRzW2tleV07XG4gICAgICAgIHRoaXMub3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnhtbG5zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy54bWxuc2tleSA9IHRoaXMub3B0aW9ucy5hdHRya2V5ICsgXCJuc1wiO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub3JtYWxpemVUYWdzKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnRhZ05hbWVQcm9jZXNzb3JzKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLnRhZ05hbWVQcm9jZXNzb3JzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnRhZ05hbWVQcm9jZXNzb3JzLnVuc2hpZnQocHJvY2Vzc29ycy5ub3JtYWxpemUpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIFBhcnNlci5wcm90b3R5cGUucHJvY2Vzc0FzeW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2h1bmssIGVycjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZy5sZW5ndGggPD0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZSkge1xuICAgICAgICAgIGNodW5rID0gdGhpcy5yZW1haW5pbmc7XG4gICAgICAgICAgdGhpcy5yZW1haW5pbmcgPSAnJztcbiAgICAgICAgICB0aGlzLnNheFBhcnNlciA9IHRoaXMuc2F4UGFyc2VyLndyaXRlKGNodW5rKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zYXhQYXJzZXIuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaHVuayA9IHRoaXMucmVtYWluaW5nLnN1YnN0cigwLCB0aGlzLm9wdGlvbnMuY2h1bmtTaXplKTtcbiAgICAgICAgICB0aGlzLnJlbWFpbmluZyA9IHRoaXMucmVtYWluaW5nLnN1YnN0cih0aGlzLm9wdGlvbnMuY2h1bmtTaXplLCB0aGlzLnJlbWFpbmluZy5sZW5ndGgpO1xuICAgICAgICAgIHRoaXMuc2F4UGFyc2VyID0gdGhpcy5zYXhQYXJzZXIud3JpdGUoY2h1bmspO1xuICAgICAgICAgIHJldHVybiBzZXRJbW1lZGlhdGUodGhpcy5wcm9jZXNzQXN5bmMpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgZXJyID0gZXJyb3IxO1xuICAgICAgICBpZiAoIXRoaXMuc2F4UGFyc2VyLmVyclRocm93bikge1xuICAgICAgICAgIHRoaXMuc2F4UGFyc2VyLmVyclRocm93biA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUuYXNzaWduT3JQdXNoID0gZnVuY3Rpb24ob2JqLCBrZXksIG5ld1ZhbHVlKSB7XG4gICAgICBpZiAoIShrZXkgaW4gb2JqKSkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5leHBsaWNpdEFycmF5KSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtrZXldID0gbmV3VmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtrZXldID0gW25ld1ZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCEob2JqW2tleV0gaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICBvYmpba2V5XSA9IFtvYmpba2V5XV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9ialtrZXldLnB1c2gobmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXR0cmtleSwgY2hhcmtleSwgb250ZXh0LCBzdGFjaztcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLnNheFBhcnNlciA9IHNheC5wYXJzZXIodGhpcy5vcHRpb25zLnN0cmljdCwge1xuICAgICAgICB0cmltOiBmYWxzZSxcbiAgICAgICAgbm9ybWFsaXplOiBmYWxzZSxcbiAgICAgICAgeG1sbnM6IHRoaXMub3B0aW9ucy54bWxuc1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNheFBhcnNlci5lcnJUaHJvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyLm9uZXJyb3IgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgX3RoaXMuc2F4UGFyc2VyLnJlc3VtZSgpO1xuICAgICAgICAgIGlmICghX3RoaXMuc2F4UGFyc2VyLmVyclRocm93bikge1xuICAgICAgICAgICAgX3RoaXMuc2F4UGFyc2VyLmVyclRocm93biA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdChcImVycm9yXCIsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyLm9uZW5kID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIV90aGlzLnNheFBhcnNlci5lbmRlZCkge1xuICAgICAgICAgICAgX3RoaXMuc2F4UGFyc2VyLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KFwiZW5kXCIsIF90aGlzLnJlc3VsdE9iamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICB0aGlzLnNheFBhcnNlci5lbmRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5FWFBMSUNJVF9DSEFSS0VZID0gdGhpcy5vcHRpb25zLmV4cGxpY2l0Q2hhcmtleTtcbiAgICAgIHRoaXMucmVzdWx0T2JqZWN0ID0gbnVsbDtcbiAgICAgIHN0YWNrID0gW107XG4gICAgICBhdHRya2V5ID0gdGhpcy5vcHRpb25zLmF0dHJrZXk7XG4gICAgICBjaGFya2V5ID0gdGhpcy5vcHRpb25zLmNoYXJrZXk7XG4gICAgICB0aGlzLnNheFBhcnNlci5vbm9wZW50YWcgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICB2YXIga2V5LCBuZXdWYWx1ZSwgb2JqLCBwcm9jZXNzZWRLZXksIHJlZjtcbiAgICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgICBvYmpbY2hhcmtleV0gPSBcIlwiO1xuICAgICAgICAgIGlmICghX3RoaXMub3B0aW9ucy5pZ25vcmVBdHRycykge1xuICAgICAgICAgICAgcmVmID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gcmVmKSB7XG4gICAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZiwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgICAgIGlmICghKGF0dHJrZXkgaW4gb2JqKSAmJiAhX3RoaXMub3B0aW9ucy5tZXJnZUF0dHJzKSB7XG4gICAgICAgICAgICAgICAgb2JqW2F0dHJrZXldID0ge307XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbmV3VmFsdWUgPSBfdGhpcy5vcHRpb25zLmF0dHJWYWx1ZVByb2Nlc3NvcnMgPyBwcm9jZXNzSXRlbShfdGhpcy5vcHRpb25zLmF0dHJWYWx1ZVByb2Nlc3NvcnMsIG5vZGUuYXR0cmlidXRlc1trZXldLCBrZXkpIDogbm9kZS5hdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICAgIHByb2Nlc3NlZEtleSA9IF90aGlzLm9wdGlvbnMuYXR0ck5hbWVQcm9jZXNzb3JzID8gcHJvY2Vzc0l0ZW0oX3RoaXMub3B0aW9ucy5hdHRyTmFtZVByb2Nlc3NvcnMsIGtleSkgOiBrZXk7XG4gICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLm1lcmdlQXR0cnMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hc3NpZ25PclB1c2gob2JqLCBwcm9jZXNzZWRLZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbYXR0cmtleV1bcHJvY2Vzc2VkS2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG9ialtcIiNuYW1lXCJdID0gX3RoaXMub3B0aW9ucy50YWdOYW1lUHJvY2Vzc29ycyA/IHByb2Nlc3NJdGVtKF90aGlzLm9wdGlvbnMudGFnTmFtZVByb2Nlc3NvcnMsIG5vZGUubmFtZSkgOiBub2RlLm5hbWU7XG4gICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMueG1sbnMpIHtcbiAgICAgICAgICAgIG9ialtfdGhpcy5vcHRpb25zLnhtbG5za2V5XSA9IHtcbiAgICAgICAgICAgICAgdXJpOiBub2RlLnVyaSxcbiAgICAgICAgICAgICAgbG9jYWw6IG5vZGUubG9jYWxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdGFjay5wdXNoKG9iaik7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyLm9uY2xvc2V0YWcgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjZGF0YSwgZW1wdHlTdHIsIGtleSwgbm9kZSwgbm9kZU5hbWUsIG9iaiwgb2JqQ2xvbmUsIG9sZCwgcywgeHBhdGg7XG4gICAgICAgICAgb2JqID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgbm9kZU5hbWUgPSBvYmpbXCIjbmFtZVwiXTtcbiAgICAgICAgICBpZiAoIV90aGlzLm9wdGlvbnMuZXhwbGljaXRDaGlsZHJlbiB8fCAhX3RoaXMub3B0aW9ucy5wcmVzZXJ2ZUNoaWxkcmVuT3JkZXIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpbXCIjbmFtZVwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9iai5jZGF0YSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY2RhdGEgPSBvYmouY2RhdGE7XG4gICAgICAgICAgICBkZWxldGUgb2JqLmNkYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKG9ialtjaGFya2V5XS5tYXRjaCgvXlxccyokLykgJiYgIWNkYXRhKSB7XG4gICAgICAgICAgICBlbXB0eVN0ciA9IG9ialtjaGFya2V5XTtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpbY2hhcmtleV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLnRyaW0pIHtcbiAgICAgICAgICAgICAgb2JqW2NoYXJrZXldID0gb2JqW2NoYXJrZXldLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgICBvYmpbY2hhcmtleV0gPSBvYmpbY2hhcmtleV0ucmVwbGFjZSgvXFxzezIsfS9nLCBcIiBcIikudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqW2NoYXJrZXldID0gX3RoaXMub3B0aW9ucy52YWx1ZVByb2Nlc3NvcnMgPyBwcm9jZXNzSXRlbShfdGhpcy5vcHRpb25zLnZhbHVlUHJvY2Vzc29ycywgb2JqW2NoYXJrZXldLCBub2RlTmFtZSkgOiBvYmpbY2hhcmtleV07XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDEgJiYgY2hhcmtleSBpbiBvYmogJiYgIV90aGlzLkVYUExJQ0lUX0NIQVJLRVkpIHtcbiAgICAgICAgICAgICAgb2JqID0gb2JqW2NoYXJrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFbXB0eShvYmopKSB7XG4gICAgICAgICAgICBvYmogPSBfdGhpcy5vcHRpb25zLmVtcHR5VGFnICE9PSAnJyA/IF90aGlzLm9wdGlvbnMuZW1wdHlUYWcgOiBlbXB0eVN0cjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMudmFsaWRhdG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgIHhwYXRoID0gXCIvXCIgKyAoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YXIgaSwgbGVuLCByZXN1bHRzO1xuICAgICAgICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHN0YWNrLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHN0YWNrW2ldO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChub2RlW1wiI25hbWVcIl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfSkoKSkuY29uY2F0KG5vZGVOYW1lKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyIGVycjtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqID0gX3RoaXMub3B0aW9ucy52YWxpZGF0b3IoeHBhdGgsIHMgJiYgc1tub2RlTmFtZV0sIG9iaik7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICAgICAgICAgIGVyciA9IGVycm9yMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmV4cGxpY2l0Q2hpbGRyZW4gJiYgIV90aGlzLm9wdGlvbnMubWVyZ2VBdHRycyAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLnByZXNlcnZlQ2hpbGRyZW5PcmRlcikge1xuICAgICAgICAgICAgICBub2RlID0ge307XG4gICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmF0dHJrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgbm9kZVtfdGhpcy5vcHRpb25zLmF0dHJrZXldID0gb2JqW190aGlzLm9wdGlvbnMuYXR0cmtleV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9ialtfdGhpcy5vcHRpb25zLmF0dHJrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghX3RoaXMub3B0aW9ucy5jaGFyc0FzQ2hpbGRyZW4gJiYgX3RoaXMub3B0aW9ucy5jaGFya2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIG5vZGVbX3RoaXMub3B0aW9ucy5jaGFya2V5XSA9IG9ialtfdGhpcy5vcHRpb25zLmNoYXJrZXldO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpbX3RoaXMub3B0aW9ucy5jaGFya2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZVtfdGhpcy5vcHRpb25zLmNoaWxka2V5XSA9IG9iajtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvYmogPSBub2RlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzKSB7XG4gICAgICAgICAgICAgIHNbX3RoaXMub3B0aW9ucy5jaGlsZGtleV0gPSBzW190aGlzLm9wdGlvbnMuY2hpbGRrZXldIHx8IFtdO1xuICAgICAgICAgICAgICBvYmpDbG9uZSA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChvYmosIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIG9iakNsb25lW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzW190aGlzLm9wdGlvbnMuY2hpbGRrZXldLnB1c2gob2JqQ2xvbmUpO1xuICAgICAgICAgICAgICBkZWxldGUgb2JqW1wiI25hbWVcIl07XG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMSAmJiBjaGFya2V5IGluIG9iaiAmJiAhX3RoaXMuRVhQTElDSVRfQ0hBUktFWSkge1xuICAgICAgICAgICAgICAgIG9iaiA9IG9ialtjaGFya2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFzc2lnbk9yUHVzaChzLCBub2RlTmFtZSwgb2JqKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuZXhwbGljaXRSb290KSB7XG4gICAgICAgICAgICAgIG9sZCA9IG9iajtcbiAgICAgICAgICAgICAgb2JqID0ge307XG4gICAgICAgICAgICAgIG9ialtub2RlTmFtZV0gPSBvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5yZXN1bHRPYmplY3QgPSBvYmo7XG4gICAgICAgICAgICBfdGhpcy5zYXhQYXJzZXIuZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoXCJlbmRcIiwgX3RoaXMucmVzdWx0T2JqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIG9udGV4dCA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgIHZhciBjaGFyQ2hpbGQsIHM7XG4gICAgICAgICAgcyA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICBzW2NoYXJrZXldICs9IHRleHQ7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5leHBsaWNpdENoaWxkcmVuICYmIF90aGlzLm9wdGlvbnMucHJlc2VydmVDaGlsZHJlbk9yZGVyICYmIF90aGlzLm9wdGlvbnMuY2hhcnNBc0NoaWxkcmVuICYmIChfdGhpcy5vcHRpb25zLmluY2x1ZGVXaGl0ZUNoYXJzIHx8IHRleHQucmVwbGFjZSgvXFxcXG4vZywgJycpLnRyaW0oKSAhPT0gJycpKSB7XG4gICAgICAgICAgICAgIHNbX3RoaXMub3B0aW9ucy5jaGlsZGtleV0gPSBzW190aGlzLm9wdGlvbnMuY2hpbGRrZXldIHx8IFtdO1xuICAgICAgICAgICAgICBjaGFyQ2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgJyNuYW1lJzogJ19fdGV4dF9fJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBjaGFyQ2hpbGRbY2hhcmtleV0gPSB0ZXh0O1xuICAgICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5ub3JtYWxpemUpIHtcbiAgICAgICAgICAgICAgICBjaGFyQ2hpbGRbY2hhcmtleV0gPSBjaGFyQ2hpbGRbY2hhcmtleV0ucmVwbGFjZSgvXFxzezIsfS9nLCBcIiBcIikudHJpbSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNbX3RoaXMub3B0aW9ucy5jaGlsZGtleV0ucHVzaChjaGFyQ2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICB0aGlzLnNheFBhcnNlci5vbnRleHQgPSBvbnRleHQ7XG4gICAgICByZXR1cm4gdGhpcy5zYXhQYXJzZXIub25jZGF0YSA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgIHZhciBzO1xuICAgICAgICAgIHMgPSBvbnRleHQodGV4dCk7XG4gICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzLmNkYXRhID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZVN0cmluZyA9IGZ1bmN0aW9uKHN0ciwgY2IpIHtcbiAgICAgIHZhciBlcnI7XG4gICAgICBpZiAoKGNiICE9IG51bGwpICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRoaXMub24oXCJlbmRcIiwgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgIHJldHVybiBjYihudWxsLCByZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbihcImVycm9yXCIsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBzdHIgPSBzdHIudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHN0ci50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KFwiZW5kXCIsIG51bGwpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0ciA9IGJvbS5zdHJpcEJPTShzdHIpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFzeW5jKSB7XG4gICAgICAgICAgdGhpcy5yZW1haW5pbmcgPSBzdHI7XG4gICAgICAgICAgc2V0SW1tZWRpYXRlKHRoaXMucHJvY2Vzc0FzeW5jKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zYXhQYXJzZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2F4UGFyc2VyLndyaXRlKHN0cikuY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICBlcnIgPSBlcnJvcjE7XG4gICAgICAgIGlmICghKHRoaXMuc2F4UGFyc2VyLmVyclRocm93biB8fCB0aGlzLnNheFBhcnNlci5lbmRlZCkpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zYXhQYXJzZXIuZXJyVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNheFBhcnNlci5lbmRlZCkge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlU3RyaW5nUHJvbWlzZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnBhcnNlU3RyaW5nKHN0ciwgZnVuY3Rpb24oZXJyLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBQYXJzZXI7XG5cbiAgfSkoZXZlbnRzKTtcblxuICBleHBvcnRzLnBhcnNlU3RyaW5nID0gZnVuY3Rpb24oc3RyLCBhLCBiKSB7XG4gICAgdmFyIGNiLCBvcHRpb25zLCBwYXJzZXI7XG4gICAgaWYgKGIgIT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiBiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gYjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3B0aW9ucyA9IGE7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IGE7XG4gICAgICB9XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIHBhcnNlciA9IG5ldyBleHBvcnRzLlBhcnNlcihvcHRpb25zKTtcbiAgICByZXR1cm4gcGFyc2VyLnBhcnNlU3RyaW5nKHN0ciwgY2IpO1xuICB9O1xuXG4gIGV4cG9ydHMucGFyc2VTdHJpbmdQcm9taXNlID0gZnVuY3Rpb24oc3RyLCBhKSB7XG4gICAgdmFyIG9wdGlvbnMsIHBhcnNlcjtcbiAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG4gICAgICBvcHRpb25zID0gYTtcbiAgICB9XG4gICAgcGFyc2VyID0gbmV3IGV4cG9ydHMuUGFyc2VyKG9wdGlvbnMpO1xuICAgIHJldHVybiBwYXJzZXIucGFyc2VTdHJpbmdQcm9taXNlKHN0cik7XG4gIH07XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIHByZWZpeE1hdGNoO1xuXG4gIHByZWZpeE1hdGNoID0gbmV3IFJlZ0V4cCgvKD8heG1sbnMpXi4qOi8pO1xuXG4gIGV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9O1xuXG4gIGV4cG9ydHMuZmlyc3RDaGFyTG93ZXJDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbiAgfTtcblxuICBleHBvcnRzLnN0cmlwUHJlZml4ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKHByZWZpeE1hdGNoLCAnJyk7XG4gIH07XG5cbiAgZXhwb3J0cy5wYXJzZU51bWJlcnMgPSBmdW5jdGlvbihzdHIpIHtcbiAgICBpZiAoIWlzTmFOKHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ciAlIDEgPT09IDAgPyBwYXJzZUludChzdHIsIDEwKSA6IHBhcnNlRmxvYXQoc3RyKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICBleHBvcnRzLnBhcnNlQm9vbGVhbnMgPSBmdW5jdGlvbihzdHIpIHtcbiAgICBpZiAoL14oPzp0cnVlfGZhbHNlKSQvaS50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIGJ1aWxkZXIsIGRlZmF1bHRzLCBwYXJzZXIsIHByb2Nlc3NvcnMsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuICBidWlsZGVyID0gcmVxdWlyZSgnLi9idWlsZGVyJyk7XG5cbiAgcGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZXInKTtcblxuICBwcm9jZXNzb3JzID0gcmVxdWlyZSgnLi9wcm9jZXNzb3JzJyk7XG5cbiAgZXhwb3J0cy5kZWZhdWx0cyA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuXG4gIGV4cG9ydHMucHJvY2Vzc29ycyA9IHByb2Nlc3NvcnM7XG5cbiAgZXhwb3J0cy5WYWxpZGF0aW9uRXJyb3IgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChWYWxpZGF0aW9uRXJyb3IsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIFZhbGlkYXRpb25FcnJvcjtcblxuICB9KShFcnJvcik7XG5cbiAgZXhwb3J0cy5CdWlsZGVyID0gYnVpbGRlci5CdWlsZGVyO1xuXG4gIGV4cG9ydHMuUGFyc2VyID0gcGFyc2VyLlBhcnNlcjtcblxuICBleHBvcnRzLnBhcnNlU3RyaW5nID0gcGFyc2VyLnBhcnNlU3RyaW5nO1xuXG4gIGV4cG9ydHMucGFyc2VTdHJpbmdQcm9taXNlID0gcGFyc2VyLnBhcnNlU3RyaW5nUHJvbWlzZTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIERpc2Nvbm5lY3RlZDogMSxcbiAgICBQcmVjZWRpbmc6IDIsXG4gICAgRm9sbG93aW5nOiA0LFxuICAgIENvbnRhaW5zOiA4LFxuICAgIENvbnRhaW5lZEJ5OiAxNixcbiAgICBJbXBsZW1lbnRhdGlvblNwZWNpZmljOiAzMlxuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgRWxlbWVudDogMSxcbiAgICBBdHRyaWJ1dGU6IDIsXG4gICAgVGV4dDogMyxcbiAgICBDRGF0YTogNCxcbiAgICBFbnRpdHlSZWZlcmVuY2U6IDUsXG4gICAgRW50aXR5RGVjbGFyYXRpb246IDYsXG4gICAgUHJvY2Vzc2luZ0luc3RydWN0aW9uOiA3LFxuICAgIENvbW1lbnQ6IDgsXG4gICAgRG9jdW1lbnQ6IDksXG4gICAgRG9jVHlwZTogMTAsXG4gICAgRG9jdW1lbnRGcmFnbWVudDogMTEsXG4gICAgTm90YXRpb25EZWNsYXJhdGlvbjogMTIsXG4gICAgRGVjbGFyYXRpb246IDIwMSxcbiAgICBSYXc6IDIwMixcbiAgICBBdHRyaWJ1dGVEZWNsYXJhdGlvbjogMjAzLFxuICAgIEVsZW1lbnREZWNsYXJhdGlvbjogMjA0LFxuICAgIER1bW15OiAyMDVcbiAgfTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBhc3NpZ24sIGdldFZhbHVlLCBpc0FycmF5LCBpc0VtcHR5LCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgaXNQbGFpbk9iamVjdCxcbiAgICBzbGljZSA9IFtdLnNsaWNlLFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBhc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSwga2V5LCBsZW4sIHNvdXJjZSwgc291cmNlcywgdGFyZ2V0O1xuICAgIHRhcmdldCA9IGFyZ3VtZW50c1swXSwgc291cmNlcyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIGlmIChpc0Z1bmN0aW9uKE9iamVjdC5hc3NpZ24pKSB7XG4gICAgICBPYmplY3QuYXNzaWduLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc291cmNlID0gc291cmNlc1tpXTtcbiAgICAgICAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICBpc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuICEhdmFsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICB9O1xuXG4gIGlzT2JqZWN0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gISF2YWwgJiYgKChyZWYgPSB0eXBlb2YgdmFsKSA9PT0gJ2Z1bmN0aW9uJyB8fCByZWYgPT09ICdvYmplY3QnKTtcbiAgfTtcblxuICBpc0FycmF5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oQXJyYXkuaXNBcnJheSkpIHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9XG4gIH07XG5cbiAgaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciBrZXk7XG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmV0dXJuICF2YWwubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGtleSBpbiB2YWwpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwodmFsLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgY3RvciwgcHJvdG87XG4gICAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgKHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbCkpICYmIChjdG9yID0gcHJvdG8uY29uc3RydWN0b3IpICYmICh0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJykgJiYgKGN0b3IgaW5zdGFuY2VvZiBjdG9yKSAmJiAoRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY3RvcikgPT09IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKE9iamVjdCkpO1xuICB9O1xuXG4gIGdldFZhbHVlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqLnZhbHVlT2YpKSB7XG4gICAgICByZXR1cm4gb2JqLnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMuYXNzaWduID0gYXNzaWduO1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbiAgbW9kdWxlLmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbiAgbW9kdWxlLmV4cG9ydHMuaXNFbXB0eSA9IGlzRW1wdHk7XG5cbiAgbW9kdWxlLmV4cG9ydHMuaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7XG5cbiAgbW9kdWxlLmV4cG9ydHMuZ2V0VmFsdWUgPSBnZXRWYWx1ZTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIE5vbmU6IDAsXG4gICAgT3BlblRhZzogMSxcbiAgICBJbnNpZGVUYWc6IDIsXG4gICAgQ2xvc2VUYWc6IDNcbiAgfTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgWE1MQXR0cmlidXRlLCBYTUxOb2RlO1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTEF0dHJpYnV0ZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxBdHRyaWJ1dGUocGFyZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5wYXJlbnQub3B0aW9ucztcbiAgICAgICAgdGhpcy5zdHJpbmdpZnkgPSB0aGlzLnBhcmVudC5zdHJpbmdpZnk7XG4gICAgICB9XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYXR0cmlidXRlIG5hbWUuIFwiICsgdGhpcy5kZWJ1Z0luZm8obmFtZSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkubmFtZShuYW1lKTtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5hdHRWYWx1ZSh2YWx1ZSk7XG4gICAgICB0aGlzLnR5cGUgPSBOb2RlVHlwZS5BdHRyaWJ1dGU7XG4gICAgICB0aGlzLmlzSWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2NoZW1hVHlwZUluZm8gPSBudWxsO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxBdHRyaWJ1dGUucHJvdG90eXBlLCAnbm9kZVR5cGUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTEF0dHJpYnV0ZS5wcm90b3R5cGUsICdvd25lckVsZW1lbnQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MQXR0cmlidXRlLnByb3RvdHlwZSwgJ3RleHRDb250ZW50Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSA9IHZhbHVlIHx8ICcnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTEF0dHJpYnV0ZS5wcm90b3R5cGUsICduYW1lc3BhY2VVUkknLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MQXR0cmlidXRlLnByb3RvdHlwZSwgJ3ByZWZpeCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxBdHRyaWJ1dGUucHJvdG90eXBlLCAnbG9jYWxOYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxBdHRyaWJ1dGUucHJvdG90eXBlLCAnc3BlY2lmaWVkJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBYTUxBdHRyaWJ1dGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQXR0cmlidXRlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLmF0dHJpYnV0ZSh0aGlzLCB0aGlzLm9wdGlvbnMud3JpdGVyLmZpbHRlck9wdGlvbnMob3B0aW9ucykpO1xuICAgIH07XG5cbiAgICBYTUxBdHRyaWJ1dGUucHJvdG90eXBlLmRlYnVnSW5mbyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIG5hbWUgPSBuYW1lIHx8IHRoaXMubmFtZTtcbiAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwicGFyZW50OiA8XCIgKyB0aGlzLnBhcmVudC5uYW1lICsgXCI+XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJhdHRyaWJ1dGU6IHtcIiArIG5hbWUgKyBcIn0sIHBhcmVudDogPFwiICsgdGhpcy5wYXJlbnQubmFtZSArIFwiPlwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxBdHRyaWJ1dGUucHJvdG90eXBlLmlzRXF1YWxOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgaWYgKG5vZGUubmFtZXNwYWNlVVJJICE9PSB0aGlzLm5hbWVzcGFjZVVSSSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5wcmVmaXggIT09IHRoaXMucHJlZml4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmxvY2FsTmFtZSAhPT0gdGhpcy5sb2NhbE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUudmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxBdHRyaWJ1dGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgWE1MQ0RhdGEsIFhNTENoYXJhY3RlckRhdGEsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vTm9kZVR5cGUnKTtcblxuICBYTUxDaGFyYWN0ZXJEYXRhID0gcmVxdWlyZSgnLi9YTUxDaGFyYWN0ZXJEYXRhJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxDRGF0YSA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTENEYXRhLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTENEYXRhKHBhcmVudCwgdGV4dCkge1xuICAgICAgWE1MQ0RhdGEuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBDREFUQSB0ZXh0LiBcIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gXCIjY2RhdGEtc2VjdGlvblwiO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuQ0RhdGE7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkuY2RhdGEodGV4dCk7XG4gICAgfVxuXG4gICAgWE1MQ0RhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQ0RhdGEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuY2RhdGEodGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTENEYXRhO1xuXG4gIH0pKFhNTENoYXJhY3RlckRhdGEpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTENoYXJhY3RlckRhdGEsIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxDaGFyYWN0ZXJEYXRhID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MQ2hhcmFjdGVyRGF0YSwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxDaGFyYWN0ZXJEYXRhKHBhcmVudCkge1xuICAgICAgWE1MQ2hhcmFjdGVyRGF0YS5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxDaGFyYWN0ZXJEYXRhLnByb3RvdHlwZSwgJ2RhdGEnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlID0gdmFsdWUgfHwgJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsICdsZW5ndGgnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsICd0ZXh0Q29udGVudCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPSB2YWx1ZSB8fCAnJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFhNTENoYXJhY3RlckRhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUuc3Vic3RyaW5nRGF0YSA9IGZ1bmN0aW9uKG9mZnNldCwgY291bnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUuYXBwZW5kRGF0YSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxDaGFyYWN0ZXJEYXRhLnByb3RvdHlwZS5pbnNlcnREYXRhID0gZnVuY3Rpb24ob2Zmc2V0LCBhcmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUuZGVsZXRlRGF0YSA9IGZ1bmN0aW9uKG9mZnNldCwgY291bnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUucmVwbGFjZURhdGEgPSBmdW5jdGlvbihvZmZzZXQsIGNvdW50LCBhcmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUuaXNFcXVhbE5vZGUgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAoIVhNTENoYXJhY3RlckRhdGEuX19zdXBlcl9fLmlzRXF1YWxOb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykuaXNFcXVhbE5vZGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdGhpcy5kYXRhKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MQ2hhcmFjdGVyRGF0YTtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgWE1MQ2hhcmFjdGVyRGF0YSwgWE1MQ29tbWVudCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTENoYXJhY3RlckRhdGEgPSByZXF1aXJlKCcuL1hNTENoYXJhY3RlckRhdGEnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTENvbW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxDb21tZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTENvbW1lbnQocGFyZW50LCB0ZXh0KSB7XG4gICAgICBYTUxDb21tZW50Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY29tbWVudCB0ZXh0LiBcIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gXCIjY29tbWVudFwiO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuQ29tbWVudDtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5jb21tZW50KHRleHQpO1xuICAgIH1cblxuICAgIFhNTENvbW1lbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQ29tbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5jb21tZW50KHRoaXMsIHRoaXMub3B0aW9ucy53cml0ZXIuZmlsdGVyT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxDb21tZW50O1xuXG4gIH0pKFhNTENoYXJhY3RlckRhdGEpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERPTUNvbmZpZ3VyYXRpb24sIFhNTERPTUVycm9ySGFuZGxlciwgWE1MRE9NU3RyaW5nTGlzdDtcblxuICBYTUxET01FcnJvckhhbmRsZXIgPSByZXF1aXJlKCcuL1hNTERPTUVycm9ySGFuZGxlcicpO1xuXG4gIFhNTERPTVN0cmluZ0xpc3QgPSByZXF1aXJlKCcuL1hNTERPTVN0cmluZ0xpc3QnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERPTUNvbmZpZ3VyYXRpb24gPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gWE1MRE9NQ29uZmlndXJhdGlvbigpIHtcbiAgICAgIHZhciBjbG9uZWRTZWxmO1xuICAgICAgdGhpcy5kZWZhdWx0UGFyYW1zID0ge1xuICAgICAgICBcImNhbm9uaWNhbC1mb3JtXCI6IGZhbHNlLFxuICAgICAgICBcImNkYXRhLXNlY3Rpb25zXCI6IGZhbHNlLFxuICAgICAgICBcImNvbW1lbnRzXCI6IGZhbHNlLFxuICAgICAgICBcImRhdGF0eXBlLW5vcm1hbGl6YXRpb25cIjogZmFsc2UsXG4gICAgICAgIFwiZWxlbWVudC1jb250ZW50LXdoaXRlc3BhY2VcIjogdHJ1ZSxcbiAgICAgICAgXCJlbnRpdGllc1wiOiB0cnVlLFxuICAgICAgICBcImVycm9yLWhhbmRsZXJcIjogbmV3IFhNTERPTUVycm9ySGFuZGxlcigpLFxuICAgICAgICBcImluZm9zZXRcIjogdHJ1ZSxcbiAgICAgICAgXCJ2YWxpZGF0ZS1pZi1zY2hlbWFcIjogZmFsc2UsXG4gICAgICAgIFwibmFtZXNwYWNlc1wiOiB0cnVlLFxuICAgICAgICBcIm5hbWVzcGFjZS1kZWNsYXJhdGlvbnNcIjogdHJ1ZSxcbiAgICAgICAgXCJub3JtYWxpemUtY2hhcmFjdGVyc1wiOiBmYWxzZSxcbiAgICAgICAgXCJzY2hlbWEtbG9jYXRpb25cIjogJycsXG4gICAgICAgIFwic2NoZW1hLXR5cGVcIjogJycsXG4gICAgICAgIFwic3BsaXQtY2RhdGEtc2VjdGlvbnNcIjogdHJ1ZSxcbiAgICAgICAgXCJ2YWxpZGF0ZVwiOiBmYWxzZSxcbiAgICAgICAgXCJ3ZWxsLWZvcm1lZFwiOiB0cnVlXG4gICAgICB9O1xuICAgICAgdGhpcy5wYXJhbXMgPSBjbG9uZWRTZWxmID0gT2JqZWN0LmNyZWF0ZSh0aGlzLmRlZmF1bHRQYXJhbXMpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxET01Db25maWd1cmF0aW9uLnByb3RvdHlwZSwgJ3BhcmFtZXRlck5hbWVzJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBYTUxET01TdHJpbmdMaXN0KE9iamVjdC5rZXlzKHRoaXMuZGVmYXVsdFBhcmFtcykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgWE1MRE9NQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuZ2V0UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgaWYgKHRoaXMucGFyYW1zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtc1tuYW1lXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxET01Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jYW5TZXRQYXJhbWV0ZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIFhNTERPTUNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLnNldFBhcmFtZXRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWxldGUgdGhpcy5wYXJhbXNbbmFtZV07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxET01Db25maWd1cmF0aW9uO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRE9NRXJyb3JIYW5kbGVyO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRE9NRXJyb3JIYW5kbGVyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTERPTUVycm9ySGFuZGxlcigpIHt9XG5cbiAgICBYTUxET01FcnJvckhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUVycm9yID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxET01FcnJvckhhbmRsZXI7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxET01JbXBsZW1lbnRhdGlvbjtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERPTUltcGxlbWVudGF0aW9uID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTERPTUltcGxlbWVudGF0aW9uKCkge31cblxuICAgIFhNTERPTUltcGxlbWVudGF0aW9uLnByb3RvdHlwZS5oYXNGZWF0dXJlID0gZnVuY3Rpb24oZmVhdHVyZSwgdmVyc2lvbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIFhNTERPTUltcGxlbWVudGF0aW9uLnByb3RvdHlwZS5jcmVhdGVEb2N1bWVudFR5cGUgPSBmdW5jdGlvbihxdWFsaWZpZWROYW1lLCBwdWJsaWNJZCwgc3lzdGVtSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG5cbiAgICBYTUxET01JbXBsZW1lbnRhdGlvbi5wcm90b3R5cGUuY3JlYXRlRG9jdW1lbnQgPSBmdW5jdGlvbihuYW1lc3BhY2VVUkksIHF1YWxpZmllZE5hbWUsIGRvY3R5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG5cbiAgICBYTUxET01JbXBsZW1lbnRhdGlvbi5wcm90b3R5cGUuY3JlYXRlSFRNTERvY3VtZW50ID0gZnVuY3Rpb24odGl0bGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG5cbiAgICBYTUxET01JbXBsZW1lbnRhdGlvbi5wcm90b3R5cGUuZ2V0RmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIHZlcnNpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRE9NSW1wbGVtZW50YXRpb247XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxET01TdHJpbmdMaXN0O1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRE9NU3RyaW5nTGlzdCA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxET01TdHJpbmdMaXN0KGFycikge1xuICAgICAgdGhpcy5hcnIgPSBhcnIgfHwgW107XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERPTVN0cmluZ0xpc3QucHJvdG90eXBlLCAnbGVuZ3RoJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFhNTERPTVN0cmluZ0xpc3QucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgcmV0dXJuIHRoaXMuYXJyW2luZGV4XSB8fCBudWxsO1xuICAgIH07XG5cbiAgICBYTUxET01TdHJpbmdMaXN0LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIHRoaXMuYXJyLmluZGV4T2Yoc3RyKSAhPT0gLTE7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxET01TdHJpbmdMaXN0O1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgTm9kZVR5cGUsIFhNTERUREF0dExpc3QsIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05vZGVUeXBlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEVERBdHRMaXN0ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRFREQXR0TGlzdCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEVERBdHRMaXN0KHBhcmVudCwgZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgWE1MRFREQXR0TGlzdC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKGVsZW1lbnROYW1lID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBEVEQgZWxlbWVudCBuYW1lLiBcIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgICAgfVxuICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBhdHRyaWJ1dGUgbmFtZS4gXCIgKyB0aGlzLmRlYnVnSW5mbyhlbGVtZW50TmFtZSkpO1xuICAgICAgfVxuICAgICAgaWYgKCFhdHRyaWJ1dGVUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRFREIGF0dHJpYnV0ZSB0eXBlLiBcIiArIHRoaXMuZGVidWdJbmZvKGVsZW1lbnROYW1lKSk7XG4gICAgICB9XG4gICAgICBpZiAoIWRlZmF1bHRWYWx1ZVR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBEVEQgYXR0cmlidXRlIGRlZmF1bHQuIFwiICsgdGhpcy5kZWJ1Z0luZm8oZWxlbWVudE5hbWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZhdWx0VmFsdWVUeXBlLmluZGV4T2YoJyMnKSAhPT0gMCkge1xuICAgICAgICBkZWZhdWx0VmFsdWVUeXBlID0gJyMnICsgZGVmYXVsdFZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIGlmICghZGVmYXVsdFZhbHVlVHlwZS5tYXRjaCgvXigjUkVRVUlSRUR8I0lNUExJRUR8I0ZJWEVEfCNERUZBVUxUKSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRlZmF1bHQgdmFsdWUgdHlwZTsgZXhwZWN0ZWQ6ICNSRVFVSVJFRCwgI0lNUExJRUQsICNGSVhFRCBvciAjREVGQVVMVC4gXCIgKyB0aGlzLmRlYnVnSW5mbyhlbGVtZW50TmFtZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAmJiAhZGVmYXVsdFZhbHVlVHlwZS5tYXRjaCgvXigjRklYRUR8I0RFRkFVTFQpJC8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlZmF1bHQgdmFsdWUgb25seSBhcHBsaWVzIHRvICNGSVhFRCBvciAjREVGQVVMVC4gXCIgKyB0aGlzLmRlYnVnSW5mbyhlbGVtZW50TmFtZSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbGVtZW50TmFtZSA9IHRoaXMuc3RyaW5naWZ5Lm5hbWUoZWxlbWVudE5hbWUpO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuQXR0cmlidXRlRGVjbGFyYXRpb247XG4gICAgICB0aGlzLmF0dHJpYnV0ZU5hbWUgPSB0aGlzLnN0cmluZ2lmeS5uYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgdGhpcy5hdHRyaWJ1dGVUeXBlID0gdGhpcy5zdHJpbmdpZnkuZHRkQXR0VHlwZShhdHRyaWJ1dGVUeXBlKTtcbiAgICAgIGlmIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5kdGRBdHREZWZhdWx0KGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHRWYWx1ZVR5cGUgPSBkZWZhdWx0VmFsdWVUeXBlO1xuICAgIH1cblxuICAgIFhNTERUREF0dExpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuZHRkQXR0TGlzdCh0aGlzLCB0aGlzLm9wdGlvbnMud3JpdGVyLmZpbHRlck9wdGlvbnMob3B0aW9ucykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRFREQXR0TGlzdDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgWE1MRFRERWxlbWVudCwgWE1MTm9kZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vTm9kZVR5cGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERUREVsZW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVERFbGVtZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERUREVsZW1lbnQocGFyZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgWE1MRFRERWxlbWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBlbGVtZW50IG5hbWUuIFwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gJygjUENEQVRBKSc7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSAnKCcgKyB2YWx1ZS5qb2luKCcsJykgKyAnKSc7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5uYW1lKG5hbWUpO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuRWxlbWVudERlY2xhcmF0aW9uO1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmR0ZEVsZW1lbnRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgWE1MRFRERWxlbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5kdGRFbGVtZW50KHRoaXMsIHRoaXMub3B0aW9ucy53cml0ZXIuZmlsdGVyT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEVERFbGVtZW50O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIE5vZGVUeXBlLCBYTUxEVERFbnRpdHksIFhNTE5vZGUsIGlzT2JqZWN0LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgaXNPYmplY3QgPSByZXF1aXJlKCcuL1V0aWxpdHknKS5pc09iamVjdDtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05vZGVUeXBlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEVERFbnRpdHkgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVERFbnRpdHksIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MRFRERW50aXR5KHBhcmVudCwgcGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBYTUxEVERFbnRpdHkuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBEVEQgZW50aXR5IG5hbWUuIFwiICsgdGhpcy5kZWJ1Z0luZm8obmFtZSkpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBEVEQgZW50aXR5IHZhbHVlLiBcIiArIHRoaXMuZGVidWdJbmZvKG5hbWUpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGUgPSAhIXBlO1xuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkubmFtZShuYW1lKTtcbiAgICAgIHRoaXMudHlwZSA9IE5vZGVUeXBlLkVudGl0eURlY2xhcmF0aW9uO1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmR0ZEVudGl0eVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXZhbHVlLnB1YklEICYmICF2YWx1ZS5zeXNJRCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlB1YmxpYyBhbmQvb3Igc3lzdGVtIGlkZW50aWZpZXJzIGFyZSByZXF1aXJlZCBmb3IgYW4gZXh0ZXJuYWwgZW50aXR5LiBcIiArIHRoaXMuZGVidWdJbmZvKG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUucHViSUQgJiYgIXZhbHVlLnN5c0lEKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3lzdGVtIGlkZW50aWZpZXIgaXMgcmVxdWlyZWQgZm9yIGEgcHVibGljIGV4dGVybmFsIGVudGl0eS4gXCIgKyB0aGlzLmRlYnVnSW5mbyhuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuICAgICAgICBpZiAodmFsdWUucHViSUQgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMucHViSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRQdWJJRCh2YWx1ZS5wdWJJRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLnN5c0lEICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnN5c0lEID0gdGhpcy5zdHJpbmdpZnkuZHRkU3lzSUQodmFsdWUuc3lzSUQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5uRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5uRGF0YSA9IHRoaXMuc3RyaW5naWZ5LmR0ZE5EYXRhKHZhbHVlLm5EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZSAmJiB0aGlzLm5EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90YXRpb24gZGVjbGFyYXRpb24gaXMgbm90IGFsbG93ZWQgaW4gYSBwYXJhbWV0ZXIgZW50aXR5LiBcIiArIHRoaXMuZGVidWdJbmZvKG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEVERFbnRpdHkucHJvdG90eXBlLCAncHVibGljSWQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wdWJJRDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEVERFbnRpdHkucHJvdG90eXBlLCAnc3lzdGVtSWQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXNJRDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEVERFbnRpdHkucHJvdG90eXBlLCAnbm90YXRpb25OYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubkRhdGEgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEVERFbnRpdHkucHJvdG90eXBlLCAnaW5wdXRFbmNvZGluZycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERUREVudGl0eS5wcm90b3R5cGUsICd4bWxFbmNvZGluZycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERUREVudGl0eS5wcm90b3R5cGUsICd4bWxWZXJzaW9uJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBYTUxEVERFbnRpdHkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuZHRkRW50aXR5KHRoaXMsIHRoaXMub3B0aW9ucy53cml0ZXIuZmlsdGVyT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEVERFbnRpdHk7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgTm9kZVR5cGUsIFhNTERURE5vdGF0aW9uLCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRFRETm90YXRpb24gPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVEROb3RhdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEVEROb3RhdGlvbihwYXJlbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBYTUxEVEROb3RhdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBub3RhdGlvbiBuYW1lLiBcIiArIHRoaXMuZGVidWdJbmZvKG5hbWUpKTtcbiAgICAgIH1cbiAgICAgIGlmICghdmFsdWUucHViSUQgJiYgIXZhbHVlLnN5c0lEKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlB1YmxpYyBvciBzeXN0ZW0gaWRlbnRpZmllcnMgYXJlIHJlcXVpcmVkIGZvciBhbiBleHRlcm5hbCBlbnRpdHkuIFwiICsgdGhpcy5kZWJ1Z0luZm8obmFtZSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkubmFtZShuYW1lKTtcbiAgICAgIHRoaXMudHlwZSA9IE5vZGVUeXBlLk5vdGF0aW9uRGVjbGFyYXRpb247XG4gICAgICBpZiAodmFsdWUucHViSUQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnB1YklEID0gdGhpcy5zdHJpbmdpZnkuZHRkUHViSUQodmFsdWUucHViSUQpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLnN5c0lEICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zeXNJRCA9IHRoaXMuc3RyaW5naWZ5LmR0ZFN5c0lEKHZhbHVlLnN5c0lEKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRFRETm90YXRpb24ucHJvdG90eXBlLCAncHVibGljSWQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wdWJJRDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEVEROb3RhdGlvbi5wcm90b3R5cGUsICdzeXN0ZW1JZCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5c0lEO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgWE1MRFRETm90YXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuZHRkTm90YXRpb24odGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERURE5vdGF0aW9uO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIE5vZGVUeXBlLCBYTUxEZWNsYXJhdGlvbiwgWE1MTm9kZSwgaXNPYmplY3QsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBpc09iamVjdCA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLmlzT2JqZWN0O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vTm9kZVR5cGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERlY2xhcmF0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRGVjbGFyYXRpb24sIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MRGVjbGFyYXRpb24ocGFyZW50LCB2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSkge1xuICAgICAgdmFyIHJlZjtcbiAgICAgIFhNTERlY2xhcmF0aW9uLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAoaXNPYmplY3QodmVyc2lvbikpIHtcbiAgICAgICAgcmVmID0gdmVyc2lvbiwgdmVyc2lvbiA9IHJlZi52ZXJzaW9uLCBlbmNvZGluZyA9IHJlZi5lbmNvZGluZywgc3RhbmRhbG9uZSA9IHJlZi5zdGFuZGFsb25lO1xuICAgICAgfVxuICAgICAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgICAgIHZlcnNpb24gPSAnMS4wJztcbiAgICAgIH1cbiAgICAgIHRoaXMudHlwZSA9IE5vZGVUeXBlLkRlY2xhcmF0aW9uO1xuICAgICAgdGhpcy52ZXJzaW9uID0gdGhpcy5zdHJpbmdpZnkueG1sVmVyc2lvbih2ZXJzaW9uKTtcbiAgICAgIGlmIChlbmNvZGluZyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSB0aGlzLnN0cmluZ2lmeS54bWxFbmNvZGluZyhlbmNvZGluZyk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhbmRhbG9uZSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhbmRhbG9uZSA9IHRoaXMuc3RyaW5naWZ5LnhtbFN0YW5kYWxvbmUoc3RhbmRhbG9uZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MRGVjbGFyYXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuZGVjbGFyYXRpb24odGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERlY2xhcmF0aW9uO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIE5vZGVUeXBlLCBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEb2NUeXBlLCBYTUxOYW1lZE5vZGVNYXAsIFhNTE5vZGUsIGlzT2JqZWN0LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgaXNPYmplY3QgPSByZXF1aXJlKCcuL1V0aWxpdHknKS5pc09iamVjdDtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05vZGVUeXBlJyk7XG5cbiAgWE1MRFREQXR0TGlzdCA9IHJlcXVpcmUoJy4vWE1MRFREQXR0TGlzdCcpO1xuXG4gIFhNTERUREVudGl0eSA9IHJlcXVpcmUoJy4vWE1MRFRERW50aXR5Jyk7XG5cbiAgWE1MRFRERWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRFRERWxlbWVudCcpO1xuXG4gIFhNTERURE5vdGF0aW9uID0gcmVxdWlyZSgnLi9YTUxEVEROb3RhdGlvbicpO1xuXG4gIFhNTE5hbWVkTm9kZU1hcCA9IHJlcXVpcmUoJy4vWE1MTmFtZWROb2RlTWFwJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEb2NUeXBlID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRG9jVHlwZSwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEb2NUeXBlKHBhcmVudCwgcHViSUQsIHN5c0lEKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGxlbiwgcmVmLCByZWYxLCByZWYyO1xuICAgICAgWE1MRG9jVHlwZS5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuRG9jVHlwZTtcbiAgICAgIGlmIChwYXJlbnQuY2hpbGRyZW4pIHtcbiAgICAgICAgcmVmID0gcGFyZW50LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gTm9kZVR5cGUuRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gY2hpbGQubmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5kb2N1bWVudE9iamVjdCA9IHBhcmVudDtcbiAgICAgIGlmIChpc09iamVjdChwdWJJRCkpIHtcbiAgICAgICAgcmVmMSA9IHB1YklELCBwdWJJRCA9IHJlZjEucHViSUQsIHN5c0lEID0gcmVmMS5zeXNJRDtcbiAgICAgIH1cbiAgICAgIGlmIChzeXNJRCA9PSBudWxsKSB7XG4gICAgICAgIHJlZjIgPSBbcHViSUQsIHN5c0lEXSwgc3lzSUQgPSByZWYyWzBdLCBwdWJJRCA9IHJlZjJbMV07XG4gICAgICB9XG4gICAgICBpZiAocHViSUQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnB1YklEID0gdGhpcy5zdHJpbmdpZnkuZHRkUHViSUQocHViSUQpO1xuICAgICAgfVxuICAgICAgaWYgKHN5c0lEICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zeXNJRCA9IHRoaXMuc3RyaW5naWZ5LmR0ZFN5c0lEKHN5c0lEKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRG9jVHlwZS5wcm90b3R5cGUsICdlbnRpdGllcycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGlsZCwgaSwgbGVuLCBub2RlcywgcmVmO1xuICAgICAgICBub2RlcyA9IHt9O1xuICAgICAgICByZWYgPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgICBpZiAoKGNoaWxkLnR5cGUgPT09IE5vZGVUeXBlLkVudGl0eURlY2xhcmF0aW9uKSAmJiAhY2hpbGQucGUpIHtcbiAgICAgICAgICAgIG5vZGVzW2NoaWxkLm5hbWVdID0gY2hpbGQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWE1MTmFtZWROb2RlTWFwKG5vZGVzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEb2NUeXBlLnByb3RvdHlwZSwgJ25vdGF0aW9ucycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGlsZCwgaSwgbGVuLCBub2RlcywgcmVmO1xuICAgICAgICBub2RlcyA9IHt9O1xuICAgICAgICByZWYgPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gTm9kZVR5cGUuTm90YXRpb25EZWNsYXJhdGlvbikge1xuICAgICAgICAgICAgbm9kZXNbY2hpbGQubmFtZV0gPSBjaGlsZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBYTUxOYW1lZE5vZGVNYXAobm9kZXMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERvY1R5cGUucHJvdG90eXBlLCAncHVibGljSWQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wdWJJRDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEb2NUeXBlLnByb3RvdHlwZSwgJ3N5c3RlbUlkJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzSUQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRG9jVHlwZS5wcm90b3R5cGUsICdpbnRlcm5hbFN1YnNldCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERWxlbWVudCh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmF0dExpc3QgPSBmdW5jdGlvbihlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEVERBdHRMaXN0KHRoaXMsIGVsZW1lbnROYW1lLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBkZWZhdWx0VmFsdWVUeXBlLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5lbnRpdHkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIGZhbHNlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLnBFbnRpdHkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIHRydWUsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUubm90YXRpb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRETm90YXRpb24odGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLmRvY1R5cGUodGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUuZWxlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5hdHQgPSBmdW5jdGlvbihlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdHRMaXN0KGVsZW1lbnROYW1lLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBkZWZhdWx0VmFsdWVUeXBlLCBkZWZhdWx0VmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5lbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW50aXR5KG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUucGVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wRW50aXR5KG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUubm90ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vdGF0aW9uKG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnJvb3QoKSB8fCB0aGlzLmRvY3VtZW50T2JqZWN0O1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5pc0VxdWFsTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghWE1MRG9jVHlwZS5fX3N1cGVyX18uaXNFcXVhbE5vZGUuYXBwbHkodGhpcywgYXJndW1lbnRzKS5pc0VxdWFsTm9kZShub2RlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5uYW1lICE9PSB0aGlzLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUucHVibGljSWQgIT09IHRoaXMucHVibGljSWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuc3lzdGVtSWQgIT09IHRoaXMuc3lzdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEb2NUeXBlO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIE5vZGVUeXBlLCBYTUxET01Db25maWd1cmF0aW9uLCBYTUxET01JbXBsZW1lbnRhdGlvbiwgWE1MRG9jdW1lbnQsIFhNTE5vZGUsIFhNTFN0cmluZ1dyaXRlciwgWE1MU3RyaW5naWZpZXIsIGlzUGxhaW5PYmplY3QsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBpc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuaXNQbGFpbk9iamVjdDtcblxuICBYTUxET01JbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRE9NSW1wbGVtZW50YXRpb24nKTtcblxuICBYTUxET01Db25maWd1cmF0aW9uID0gcmVxdWlyZSgnLi9YTUxET01Db25maWd1cmF0aW9uJyk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTFN0cmluZ2lmaWVyID0gcmVxdWlyZSgnLi9YTUxTdHJpbmdpZmllcicpO1xuXG4gIFhNTFN0cmluZ1dyaXRlciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5nV3JpdGVyJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEb2N1bWVudCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTERvY3VtZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERvY3VtZW50KG9wdGlvbnMpIHtcbiAgICAgIFhNTERvY3VtZW50Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG51bGwpO1xuICAgICAgdGhpcy5uYW1lID0gXCIjZG9jdW1lbnRcIjtcbiAgICAgIHRoaXMudHlwZSA9IE5vZGVUeXBlLkRvY3VtZW50O1xuICAgICAgdGhpcy5kb2N1bWVudFVSSSA9IG51bGw7XG4gICAgICB0aGlzLmRvbUNvbmZpZyA9IG5ldyBYTUxET01Db25maWd1cmF0aW9uKCk7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgaWYgKCFvcHRpb25zLndyaXRlcikge1xuICAgICAgICBvcHRpb25zLndyaXRlciA9IG5ldyBYTUxTdHJpbmdXcml0ZXIoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLnN0cmluZ2lmeSA9IG5ldyBYTUxTdHJpbmdpZmllcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRG9jdW1lbnQucHJvdG90eXBlLCAnaW1wbGVtZW50YXRpb24nLCB7XG4gICAgICB2YWx1ZTogbmV3IFhNTERPTUltcGxlbWVudGF0aW9uKClcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEb2N1bWVudC5wcm90b3R5cGUsICdkb2N0eXBlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoaWxkLCBpLCBsZW4sIHJlZjtcbiAgICAgICAgcmVmID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IE5vZGVUeXBlLkRvY1R5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRG9jdW1lbnQucHJvdG90eXBlLCAnZG9jdW1lbnRFbGVtZW50Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdE9iamVjdCB8fCBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERvY3VtZW50LnByb3RvdHlwZSwgJ2lucHV0RW5jb2RpbmcnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEb2N1bWVudC5wcm90b3R5cGUsICdzdHJpY3RFcnJvckNoZWNraW5nJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERvY3VtZW50LnByb3RvdHlwZSwgJ3htbEVuY29kaW5nJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoICE9PSAwICYmIHRoaXMuY2hpbGRyZW5bMF0udHlwZSA9PT0gTm9kZVR5cGUuRGVjbGFyYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlblswXS5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERvY3VtZW50LnByb3RvdHlwZSwgJ3htbFN0YW5kYWxvbmUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggIT09IDAgJiYgdGhpcy5jaGlsZHJlblswXS50eXBlID09PSBOb2RlVHlwZS5EZWNsYXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuWzBdLnN0YW5kYWxvbmUgPT09ICd5ZXMnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTERvY3VtZW50LnByb3RvdHlwZSwgJ3htbFZlcnNpb24nLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggIT09IDAgJiYgdGhpcy5jaGlsZHJlblswXS50eXBlID09PSBOb2RlVHlwZS5EZWNsYXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuWzBdLnZlcnNpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwiMS4wXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEb2N1bWVudC5wcm90b3R5cGUsICdVUkwnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudFVSSTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEb2N1bWVudC5wcm90b3R5cGUsICdvcmlnaW4nLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxEb2N1bWVudC5wcm90b3R5cGUsICdjb21wYXRNb2RlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRG9jdW1lbnQucHJvdG90eXBlLCAnY2hhcmFjdGVyU2V0Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRG9jdW1lbnQucHJvdG90eXBlLCAnY29udGVudFR5cGUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbih3cml0ZXIpIHtcbiAgICAgIHZhciB3cml0ZXJPcHRpb25zO1xuICAgICAgd3JpdGVyT3B0aW9ucyA9IHt9O1xuICAgICAgaWYgKCF3cml0ZXIpIHtcbiAgICAgICAgd3JpdGVyID0gdGhpcy5vcHRpb25zLndyaXRlcjtcbiAgICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh3cml0ZXIpKSB7XG4gICAgICAgIHdyaXRlck9wdGlvbnMgPSB3cml0ZXI7XG4gICAgICAgIHdyaXRlciA9IHRoaXMub3B0aW9ucy53cml0ZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JpdGVyLmRvY3VtZW50KHRoaXMsIHdyaXRlci5maWx0ZXJPcHRpb25zKHdyaXRlck9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuZG9jdW1lbnQodGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0YWdOYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVUZXh0Tm9kZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVDREFUQVNlY3Rpb24gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbih0YXJnZXQsIGRhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVudGl0eVJlZmVyZW5jZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lID0gZnVuY3Rpb24odGFnbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZSA9IGZ1bmN0aW9uKGltcG9ydGVkTm9kZSwgZGVlcCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudE5TID0gZnVuY3Rpb24obmFtZXNwYWNlVVJJLCBxdWFsaWZpZWROYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKG5hbWVzcGFjZVVSSSwgcXVhbGlmaWVkTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyA9IGZ1bmN0aW9uKG5hbWVzcGFjZVVSSSwgbG9jYWxOYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50QnlJZCA9IGZ1bmN0aW9uKGVsZW1lbnRJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUuYWRvcHROb2RlID0gZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5ub3JtYWxpemVEb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUucmVuYW1lTm9kZSA9IGZ1bmN0aW9uKG5vZGUsIG5hbWVzcGFjZVVSSSwgcXVhbGlmaWVkTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24oZXZlbnRJbnRlcmZhY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZVJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVOb2RlSXRlcmF0b3IgPSBmdW5jdGlvbihyb290LCB3aGF0VG9TaG93LCBmaWx0ZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZVRyZWVXYWxrZXIgPSBmdW5jdGlvbihyb290LCB3aGF0VG9TaG93LCBmaWx0ZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERvY3VtZW50O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIE5vZGVUeXBlLCBXcml0ZXJTdGF0ZSwgWE1MQXR0cmlidXRlLCBYTUxDRGF0YSwgWE1MQ29tbWVudCwgWE1MRFREQXR0TGlzdCwgWE1MRFRERWxlbWVudCwgWE1MRFRERW50aXR5LCBYTUxEVEROb3RhdGlvbiwgWE1MRGVjbGFyYXRpb24sIFhNTERvY1R5cGUsIFhNTERvY3VtZW50LCBYTUxEb2N1bWVudENCLCBYTUxFbGVtZW50LCBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIFhNTFJhdywgWE1MU3RyaW5nV3JpdGVyLCBYTUxTdHJpbmdpZmllciwgWE1MVGV4dCwgZ2V0VmFsdWUsIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0LCByZWYsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIHJlZiA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLCBpc09iamVjdCA9IHJlZi5pc09iamVjdCwgaXNGdW5jdGlvbiA9IHJlZi5pc0Z1bmN0aW9uLCBpc1BsYWluT2JqZWN0ID0gcmVmLmlzUGxhaW5PYmplY3QsIGdldFZhbHVlID0gcmVmLmdldFZhbHVlO1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTERvY3VtZW50ID0gcmVxdWlyZSgnLi9YTUxEb2N1bWVudCcpO1xuXG4gIFhNTEVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTEVsZW1lbnQnKTtcblxuICBYTUxDRGF0YSA9IHJlcXVpcmUoJy4vWE1MQ0RhdGEnKTtcblxuICBYTUxDb21tZW50ID0gcmVxdWlyZSgnLi9YTUxDb21tZW50Jyk7XG5cbiAgWE1MUmF3ID0gcmVxdWlyZSgnLi9YTUxSYXcnKTtcblxuICBYTUxUZXh0ID0gcmVxdWlyZSgnLi9YTUxUZXh0Jyk7XG5cbiAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gcmVxdWlyZSgnLi9YTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24nKTtcblxuICBYTUxEZWNsYXJhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRGVjbGFyYXRpb24nKTtcblxuICBYTUxEb2NUeXBlID0gcmVxdWlyZSgnLi9YTUxEb2NUeXBlJyk7XG5cbiAgWE1MRFREQXR0TGlzdCA9IHJlcXVpcmUoJy4vWE1MRFREQXR0TGlzdCcpO1xuXG4gIFhNTERUREVudGl0eSA9IHJlcXVpcmUoJy4vWE1MRFRERW50aXR5Jyk7XG5cbiAgWE1MRFRERWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRFRERWxlbWVudCcpO1xuXG4gIFhNTERURE5vdGF0aW9uID0gcmVxdWlyZSgnLi9YTUxEVEROb3RhdGlvbicpO1xuXG4gIFhNTEF0dHJpYnV0ZSA9IHJlcXVpcmUoJy4vWE1MQXR0cmlidXRlJyk7XG5cbiAgWE1MU3RyaW5naWZpZXIgPSByZXF1aXJlKCcuL1hNTFN0cmluZ2lmaWVyJyk7XG5cbiAgWE1MU3RyaW5nV3JpdGVyID0gcmVxdWlyZSgnLi9YTUxTdHJpbmdXcml0ZXInKTtcblxuICBXcml0ZXJTdGF0ZSA9IHJlcXVpcmUoJy4vV3JpdGVyU3RhdGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERvY3VtZW50Q0IgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gWE1MRG9jdW1lbnRDQihvcHRpb25zLCBvbkRhdGEsIG9uRW5kKSB7XG4gICAgICB2YXIgd3JpdGVyT3B0aW9ucztcbiAgICAgIHRoaXMubmFtZSA9IFwiP3htbFwiO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuRG9jdW1lbnQ7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgd3JpdGVyT3B0aW9ucyA9IHt9O1xuICAgICAgaWYgKCFvcHRpb25zLndyaXRlcikge1xuICAgICAgICBvcHRpb25zLndyaXRlciA9IG5ldyBYTUxTdHJpbmdXcml0ZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChvcHRpb25zLndyaXRlcikpIHtcbiAgICAgICAgd3JpdGVyT3B0aW9ucyA9IG9wdGlvbnMud3JpdGVyO1xuICAgICAgICBvcHRpb25zLndyaXRlciA9IG5ldyBYTUxTdHJpbmdXcml0ZXIoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLndyaXRlciA9IG9wdGlvbnMud3JpdGVyO1xuICAgICAgdGhpcy53cml0ZXJPcHRpb25zID0gdGhpcy53cml0ZXIuZmlsdGVyT3B0aW9ucyh3cml0ZXJPcHRpb25zKTtcbiAgICAgIHRoaXMuc3RyaW5naWZ5ID0gbmV3IFhNTFN0cmluZ2lmaWVyKG9wdGlvbnMpO1xuICAgICAgdGhpcy5vbkRhdGFDYWxsYmFjayA9IG9uRGF0YSB8fCBmdW5jdGlvbigpIHt9O1xuICAgICAgdGhpcy5vbkVuZENhbGxiYWNrID0gb25FbmQgfHwgZnVuY3Rpb24oKSB7fTtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5jdXJyZW50TGV2ZWwgPSAtMTtcbiAgICAgIHRoaXMub3BlblRhZ3MgPSB7fTtcbiAgICAgIHRoaXMuZG9jdW1lbnRTdGFydGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmRvY3VtZW50Q29tcGxldGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnJvb3QgPSBudWxsO1xuICAgIH1cblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNyZWF0ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBhdHQsIGF0dE5hbWUsIGF0dHJpYnV0ZXMsIGNoaWxkLCBpLCBsZW4sIHJlZjEsIHJlZjI7XG4gICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICBjYXNlIE5vZGVUeXBlLkNEYXRhOlxuICAgICAgICAgIHRoaXMuY2RhdGEobm9kZS52YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuQ29tbWVudDpcbiAgICAgICAgICB0aGlzLmNvbW1lbnQobm9kZS52YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuRWxlbWVudDpcbiAgICAgICAgICBhdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgcmVmMSA9IG5vZGUuYXR0cmlicztcbiAgICAgICAgICBmb3IgKGF0dE5hbWUgaW4gcmVmMSkge1xuICAgICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmMSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgYXR0ID0gcmVmMVthdHROYW1lXTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0TmFtZV0gPSBhdHQudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubm9kZShub2RlLm5hbWUsIGF0dHJpYnV0ZXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5vZGVUeXBlLkR1bW15OlxuICAgICAgICAgIHRoaXMuZHVtbXkoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5SYXc6XG4gICAgICAgICAgdGhpcy5yYXcobm9kZS52YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuVGV4dDpcbiAgICAgICAgICB0aGlzLnRleHQobm9kZS52YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuUHJvY2Vzc2luZ0luc3RydWN0aW9uOlxuICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24obm9kZS50YXJnZXQsIG5vZGUudmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgWE1MIG5vZGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIGEgSlMgb2JqZWN0OiBcIiArIG5vZGUuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICB9XG4gICAgICByZWYyID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZjIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWYyW2ldO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoaWxkTm9kZShjaGlsZCk7XG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBOb2RlVHlwZS5FbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy51cCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZHVtbXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub2RlID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIHJlZjE7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgbm9kZSBuYW1lLlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJvb3QgJiYgdGhpcy5jdXJyZW50TGV2ZWwgPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IGNhbiBvbmx5IGhhdmUgb25lIHJvb3Qgbm9kZS4gXCIgKyB0aGlzLmRlYnVnSW5mbyhuYW1lKSk7XG4gICAgICB9XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBuYW1lID0gZ2V0VmFsdWUobmFtZSk7XG4gICAgICBpZiAoYXR0cmlidXRlcyA9PSBudWxsKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGF0dHJpYnV0ZXMgPSBnZXRWYWx1ZShhdHRyaWJ1dGVzKTtcbiAgICAgIGlmICghaXNPYmplY3QoYXR0cmlidXRlcykpIHtcbiAgICAgICAgcmVmMSA9IFthdHRyaWJ1dGVzLCB0ZXh0XSwgdGV4dCA9IHJlZjFbMF0sIGF0dHJpYnV0ZXMgPSByZWYxWzFdO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5ldyBYTUxFbGVtZW50KHRoaXMsIG5hbWUsIGF0dHJpYnV0ZXMpO1xuICAgICAgdGhpcy5jdXJyZW50Tm9kZS5jaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5jdXJyZW50TGV2ZWwrKztcbiAgICAgIHRoaXMub3BlblRhZ3NbdGhpcy5jdXJyZW50TGV2ZWxdID0gdGhpcy5jdXJyZW50Tm9kZTtcbiAgICAgIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy50ZXh0KHRleHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGxlbiwgb2xkVmFsaWRhdGlvbkZsYWcsIHJlZjEsIHJvb3Q7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZSAmJiB0aGlzLmN1cnJlbnROb2RlLnR5cGUgPT09IE5vZGVUeXBlLkRvY1R5cGUpIHtcbiAgICAgICAgdGhpcy5kdGRFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSB8fCBpc09iamVjdChuYW1lKSB8fCBpc0Z1bmN0aW9uKG5hbWUpKSB7XG4gICAgICAgICAgb2xkVmFsaWRhdGlvbkZsYWcgPSB0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uO1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgIHJvb3QgPSBuZXcgWE1MRG9jdW1lbnQodGhpcy5vcHRpb25zKS5lbGVtZW50KCdURU1QX1JPT1QnKTtcbiAgICAgICAgICByb290LmVsZW1lbnQobmFtZSk7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbiA9IG9sZFZhbGlkYXRpb25GbGFnO1xuICAgICAgICAgIHJlZjEgPSByb290LmNoaWxkcmVuO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZjEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkID0gcmVmMVtpXTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2hpbGROb2RlKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChjaGlsZC50eXBlID09PSBOb2RlVHlwZS5FbGVtZW50KSB7XG4gICAgICAgICAgICAgIHRoaXMudXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5ub2RlKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuYXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBhdHROYW1lLCBhdHRWYWx1ZTtcbiAgICAgIGlmICghdGhpcy5jdXJyZW50Tm9kZSB8fCB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImF0dCgpIGNhbiBvbmx5IGJlIHVzZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgYW4gZWxlKCkgY2FsbCBpbiBjYWxsYmFjayBtb2RlLiBcIiArIHRoaXMuZGVidWdJbmZvKG5hbWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IGdldFZhbHVlKG5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgIGZvciAoYXR0TmFtZSBpbiBuYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwobmFtZSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGF0dFZhbHVlID0gbmFtZVthdHROYW1lXTtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZShhdHROYW1lLCBhdHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmtlZXBOdWxsQXR0cmlidXRlcyAmJiAodmFsdWUgPT0gbnVsbCkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmF0dHJpYnNbbmFtZV0gPSBuZXcgWE1MQXR0cmlidXRlKHRoaXMsIG5hbWUsIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmF0dHJpYnNbbmFtZV0gPSBuZXcgWE1MQXR0cmlidXRlKHRoaXMsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTFRleHQodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIudGV4dChub2RlLCB0aGlzLndyaXRlck9wdGlvbnMsIHRoaXMuY3VycmVudExldmVsICsgMSksIHRoaXMuY3VycmVudExldmVsICsgMSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuY2RhdGEgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTENEYXRhKHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmNkYXRhKG5vZGUsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5jb21tZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbm9kZSA9IG5ldyBYTUxDb21tZW50KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmNvbW1lbnQobm9kZSwgdGhpcy53cml0ZXJPcHRpb25zLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MUmF3KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLnJhdyhub2RlLCB0aGlzLndyaXRlck9wdGlvbnMsIHRoaXMuY3VycmVudExldmVsICsgMSksIHRoaXMuY3VycmVudExldmVsICsgMSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuaW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICB2YXIgaSwgaW5zVGFyZ2V0LCBpbnNWYWx1ZSwgbGVuLCBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgaWYgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgIHRhcmdldCA9IGdldFZhbHVlKHRhcmdldCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICB2YWx1ZSA9IGdldFZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gdGFyZ2V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaW5zVGFyZ2V0ID0gdGFyZ2V0W2ldO1xuICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24oaW5zVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAoaW5zVGFyZ2V0IGluIHRhcmdldCkge1xuICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHRhcmdldCwgaW5zVGFyZ2V0KSkgY29udGludWU7XG4gICAgICAgICAgaW5zVmFsdWUgPSB0YXJnZXRbaW5zVGFyZ2V0XTtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9uKGluc1RhcmdldCwgaW5zVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5ldyBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24odGhpcywgdGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihub2RlLCB0aGlzLndyaXRlck9wdGlvbnMsIHRoaXMuY3VycmVudExldmVsICsgMSksIHRoaXMuY3VycmVudExldmVsICsgMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZGVjbGFyYXRpb24gPSBmdW5jdGlvbih2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBpZiAodGhpcy5kb2N1bWVudFN0YXJ0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZGVjbGFyYXRpb24oKSBtdXN0IGJlIHRoZSBmaXJzdCBub2RlLlwiKTtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXcgWE1MRGVjbGFyYXRpb24odGhpcywgdmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZGVjbGFyYXRpb24obm9kZSwgdGhpcy53cml0ZXJPcHRpb25zLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRvY3R5cGUgPSBmdW5jdGlvbihyb290LCBwdWJJRCwgc3lzSUQpIHtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIGlmIChyb290ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByb290IG5vZGUgbmFtZS5cIik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImR0ZCgpIG11c3QgY29tZSBiZWZvcmUgdGhlIHJvb3Qgbm9kZS5cIik7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnROb2RlID0gbmV3IFhNTERvY1R5cGUodGhpcywgcHViSUQsIHN5c0lEKTtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUucm9vdE5vZGVOYW1lID0gcm9vdDtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUuY2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuY3VycmVudExldmVsKys7XG4gICAgICB0aGlzLm9wZW5UYWdzW3RoaXMuY3VycmVudExldmVsXSA9IHRoaXMuY3VycmVudE5vZGU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZHRkRWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRERWxlbWVudCh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGRFbGVtZW50KG5vZGUsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5hdHRMaXN0ID0gZnVuY3Rpb24oZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTERUREF0dExpc3QodGhpcywgZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGRBdHRMaXN0KG5vZGUsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5lbnRpdHkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTERUREVudGl0eSh0aGlzLCBmYWxzZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkRW50aXR5KG5vZGUsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5wRW50aXR5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbm9kZSA9IG5ldyBYTUxEVERFbnRpdHkodGhpcywgdHJ1ZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkRW50aXR5KG5vZGUsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub3RhdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRETm90YXRpb24odGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkTm90YXRpb24obm9kZSwgdGhpcy53cml0ZXJPcHRpb25zLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWwgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBkb2N1bWVudCBub2RlIGhhcyBubyBwYXJlbnQuXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICB0aGlzLmNsb3NlTm9kZSh0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9wZW5Ob2RlKHRoaXMuY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jbG9zZU5vZGUodGhpcy5vcGVuVGFnc1t0aGlzLmN1cnJlbnRMZXZlbF0pO1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRoaXMub3BlblRhZ3NbdGhpcy5jdXJyZW50TGV2ZWxdO1xuICAgICAgdGhpcy5jdXJyZW50TGV2ZWwtLTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHdoaWxlICh0aGlzLmN1cnJlbnRMZXZlbCA+PSAwKSB7XG4gICAgICAgIHRoaXMudXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm9uRW5kKCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9wZW5DdXJyZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbk5vZGUodGhpcy5jdXJyZW50Tm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9wZW5Ob2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIGF0dCwgY2h1bmssIG5hbWUsIHJlZjE7XG4gICAgICBpZiAoIW5vZGUuaXNPcGVuKSB7XG4gICAgICAgIGlmICghdGhpcy5yb290ICYmIHRoaXMuY3VycmVudExldmVsID09PSAwICYmIG5vZGUudHlwZSA9PT0gTm9kZVR5cGUuRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgY2h1bmsgPSAnJztcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gTm9kZVR5cGUuRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMud3JpdGVyT3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk9wZW5UYWc7XG4gICAgICAgICAgY2h1bmsgPSB0aGlzLndyaXRlci5pbmRlbnQobm9kZSwgdGhpcy53cml0ZXJPcHRpb25zLCB0aGlzLmN1cnJlbnRMZXZlbCkgKyAnPCcgKyBub2RlLm5hbWU7XG4gICAgICAgICAgcmVmMSA9IG5vZGUuYXR0cmlicztcbiAgICAgICAgICBmb3IgKG5hbWUgaW4gcmVmMSkge1xuICAgICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmMSwgbmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgYXR0ID0gcmVmMVtuYW1lXTtcbiAgICAgICAgICAgIGNodW5rICs9IHRoaXMud3JpdGVyLmF0dHJpYnV0ZShhdHQsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaHVuayArPSAobm9kZS5jaGlsZHJlbiA/ICc+JyA6ICcvPicpICsgdGhpcy53cml0ZXIuZW5kbGluZShub2RlLCB0aGlzLndyaXRlck9wdGlvbnMsIHRoaXMuY3VycmVudExldmVsKTtcbiAgICAgICAgICB0aGlzLndyaXRlck9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5JbnNpZGVUYWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy53cml0ZXJPcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuT3BlblRhZztcbiAgICAgICAgICBjaHVuayA9IHRoaXMud3JpdGVyLmluZGVudChub2RlLCB0aGlzLndyaXRlck9wdGlvbnMsIHRoaXMuY3VycmVudExldmVsKSArICc8IURPQ1RZUEUgJyArIG5vZGUucm9vdE5vZGVOYW1lO1xuICAgICAgICAgIGlmIChub2RlLnB1YklEICYmIG5vZGUuc3lzSUQpIHtcbiAgICAgICAgICAgIGNodW5rICs9ICcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCIgXCInICsgbm9kZS5zeXNJRCArICdcIic7XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgICAgICBjaHVuayArPSAnIFNZU1RFTSBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNodW5rICs9ICcgWyc7XG4gICAgICAgICAgICB0aGlzLndyaXRlck9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5JbnNpZGVUYWc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVyT3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkNsb3NlVGFnO1xuICAgICAgICAgICAgY2h1bmsgKz0gJz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaHVuayArPSB0aGlzLndyaXRlci5lbmRsaW5lKG5vZGUsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25EYXRhKGNodW5rLCB0aGlzLmN1cnJlbnRMZXZlbCk7XG4gICAgICAgIHJldHVybiBub2RlLmlzT3BlbiA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNsb3NlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjaHVuaztcbiAgICAgIGlmICghbm9kZS5pc0Nsb3NlZCkge1xuICAgICAgICBjaHVuayA9ICcnO1xuICAgICAgICB0aGlzLndyaXRlck9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gTm9kZVR5cGUuRWxlbWVudCkge1xuICAgICAgICAgIGNodW5rID0gdGhpcy53cml0ZXIuaW5kZW50KG5vZGUsIHRoaXMud3JpdGVyT3B0aW9ucywgdGhpcy5jdXJyZW50TGV2ZWwpICsgJzwvJyArIG5vZGUubmFtZSArICc+JyArIHRoaXMud3JpdGVyLmVuZGxpbmUobm9kZSwgdGhpcy53cml0ZXJPcHRpb25zLCB0aGlzLmN1cnJlbnRMZXZlbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2h1bmsgPSB0aGlzLndyaXRlci5pbmRlbnQobm9kZSwgdGhpcy53cml0ZXJPcHRpb25zLCB0aGlzLmN1cnJlbnRMZXZlbCkgKyAnXT4nICsgdGhpcy53cml0ZXIuZW5kbGluZShub2RlLCB0aGlzLndyaXRlck9wdGlvbnMsIHRoaXMuY3VycmVudExldmVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyaXRlck9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5Ob25lO1xuICAgICAgICB0aGlzLm9uRGF0YShjaHVuaywgdGhpcy5jdXJyZW50TGV2ZWwpO1xuICAgICAgICByZXR1cm4gbm9kZS5pc0Nsb3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uKGNodW5rLCBsZXZlbCkge1xuICAgICAgdGhpcy5kb2N1bWVudFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMub25EYXRhQ2FsbGJhY2soY2h1bmssIGxldmVsICsgMSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvY3VtZW50Q29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzLm9uRW5kQ2FsbGJhY2soKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZGVidWdJbmZvID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIm5vZGU6IDxcIiArIG5hbWUgKyBcIj5cIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm5vZCA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnR4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZGF0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNkYXRhKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuY29tID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5pbnMgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZGVjID0gZnVuY3Rpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlY2xhcmF0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZHRkID0gZnVuY3Rpb24ocm9vdCwgcHViSUQsIHN5c0lEKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2N0eXBlKHJvb3QsIHB1YklELCBzeXNJRCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmUgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50KG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5uID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZShuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZGF0YSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tbWVudCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmF3KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuaSA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5hdHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlICYmIHRoaXMuY3VycmVudE5vZGUudHlwZSA9PT0gTm9kZVR5cGUuRG9jVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUgJiYgdGhpcy5jdXJyZW50Tm9kZS50eXBlID09PSBOb2RlVHlwZS5Eb2NUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5lbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW50aXR5KG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUucGVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wRW50aXR5KG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUubm90ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vdGF0aW9uKG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERvY3VtZW50Q0I7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgWE1MRHVtbXksIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05vZGVUeXBlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEdW1teSA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTER1bW15LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTER1bW15KHBhcmVudCkge1xuICAgICAgWE1MRHVtbXkuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIHRoaXMudHlwZSA9IE5vZGVUeXBlLkR1bW15O1xuICAgIH1cblxuICAgIFhNTER1bW15LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTER1bW15LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTER1bW15O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIE5vZGVUeXBlLCBYTUxBdHRyaWJ1dGUsIFhNTEVsZW1lbnQsIFhNTE5hbWVkTm9kZU1hcCwgWE1MTm9kZSwgZ2V0VmFsdWUsIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCByZWYsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICByZWYgPSByZXF1aXJlKCcuL1V0aWxpdHknKSwgaXNPYmplY3QgPSByZWYuaXNPYmplY3QsIGlzRnVuY3Rpb24gPSByZWYuaXNGdW5jdGlvbiwgZ2V0VmFsdWUgPSByZWYuZ2V0VmFsdWU7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTEF0dHJpYnV0ZSA9IHJlcXVpcmUoJy4vWE1MQXR0cmlidXRlJyk7XG5cbiAgWE1MTmFtZWROb2RlTWFwID0gcmVxdWlyZSgnLi9YTUxOYW1lZE5vZGVNYXAnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTEVsZW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxFbGVtZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTEVsZW1lbnQocGFyZW50LCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgICB2YXIgY2hpbGQsIGosIGxlbiwgcmVmMTtcbiAgICAgIFhNTEVsZW1lbnQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBlbGVtZW50IG5hbWUuIFwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5uYW1lKG5hbWUpO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuRWxlbWVudDtcbiAgICAgIHRoaXMuYXR0cmlicyA9IHt9O1xuICAgICAgdGhpcy5zY2hlbWFUeXBlSW5mbyA9IG51bGw7XG4gICAgICBpZiAoYXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlKGF0dHJpYnV0ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudC50eXBlID09PSBOb2RlVHlwZS5Eb2N1bWVudCkge1xuICAgICAgICB0aGlzLmlzUm9vdCA9IHRydWU7XG4gICAgICAgIHRoaXMuZG9jdW1lbnRPYmplY3QgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudC5yb290T2JqZWN0ID0gdGhpcztcbiAgICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbikge1xuICAgICAgICAgIHJlZjEgPSBwYXJlbnQuY2hpbGRyZW47XG4gICAgICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgY2hpbGQgPSByZWYxW2pdO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IE5vZGVUeXBlLkRvY1R5cGUpIHtcbiAgICAgICAgICAgICAgY2hpbGQubmFtZSA9IHRoaXMubmFtZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTEVsZW1lbnQucHJvdG90eXBlLCAndGFnTmFtZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRWxlbWVudC5wcm90b3R5cGUsICduYW1lc3BhY2VVUkknLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRWxlbWVudC5wcm90b3R5cGUsICdwcmVmaXgnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRWxlbWVudC5wcm90b3R5cGUsICdsb2NhbE5hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTEVsZW1lbnQucHJvdG90eXBlLCAnaWQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRWxlbWVudC5wcm90b3R5cGUsICdjbGFzc05hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRWxlbWVudC5wcm90b3R5cGUsICdjbGFzc0xpc3QnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MRWxlbWVudC5wcm90b3R5cGUsICdhdHRyaWJ1dGVzJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmF0dHJpYnV0ZU1hcCB8fCAhdGhpcy5hdHRyaWJ1dGVNYXAubm9kZXMpIHtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU1hcCA9IG5ldyBYTUxOYW1lZE5vZGVNYXAodGhpcy5hdHRyaWJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVNYXA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGF0dCwgYXR0TmFtZSwgY2xvbmVkU2VsZiwgcmVmMTtcbiAgICAgIGNsb25lZFNlbGYgPSBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgICAgaWYgKGNsb25lZFNlbGYuaXNSb290KSB7XG4gICAgICAgIGNsb25lZFNlbGYuZG9jdW1lbnRPYmplY3QgPSBudWxsO1xuICAgICAgfVxuICAgICAgY2xvbmVkU2VsZi5hdHRyaWJzID0ge307XG4gICAgICByZWYxID0gdGhpcy5hdHRyaWJzO1xuICAgICAgZm9yIChhdHROYW1lIGluIHJlZjEpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmMSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICBhdHQgPSByZWYxW2F0dE5hbWVdO1xuICAgICAgICBjbG9uZWRTZWxmLmF0dHJpYnNbYXR0TmFtZV0gPSBhdHQuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIGNsb25lZFNlbGYuY2hpbGRyZW4gPSBbXTtcbiAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICB2YXIgY2xvbmVkQ2hpbGQ7XG4gICAgICAgIGNsb25lZENoaWxkID0gY2hpbGQuY2xvbmUoKTtcbiAgICAgICAgY2xvbmVkQ2hpbGQucGFyZW50ID0gY2xvbmVkU2VsZjtcbiAgICAgICAgcmV0dXJuIGNsb25lZFNlbGYuY2hpbGRyZW4ucHVzaChjbG9uZWRDaGlsZCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjbG9uZWRTZWxmO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5hdHRyaWJ1dGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGF0dE5hbWUsIGF0dFZhbHVlO1xuICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgICBuYW1lID0gZ2V0VmFsdWUobmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgICAgZm9yIChhdHROYW1lIGluIG5hbWUpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChuYW1lLCBhdHROYW1lKSkgY29udGludWU7XG4gICAgICAgICAgYXR0VmFsdWUgPSBuYW1lW2F0dE5hbWVdO1xuICAgICAgICAgIHRoaXMuYXR0cmlidXRlKGF0dE5hbWUsIGF0dFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5hcHBseSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMua2VlcE51bGxBdHRyaWJ1dGVzICYmICh2YWx1ZSA9PSBudWxsKSkge1xuICAgICAgICAgIHRoaXMuYXR0cmlic1tuYW1lXSA9IG5ldyBYTUxBdHRyaWJ1dGUodGhpcywgbmFtZSwgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuYXR0cmlic1tuYW1lXSA9IG5ldyBYTUxBdHRyaWJ1dGUodGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGF0dE5hbWUsIGosIGxlbjtcbiAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBhdHRyaWJ1dGUgbmFtZS4gXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICAgIH1cbiAgICAgIG5hbWUgPSBnZXRWYWx1ZShuYW1lKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IG5hbWUubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICBhdHROYW1lID0gbmFtZVtqXTtcbiAgICAgICAgICBkZWxldGUgdGhpcy5hdHRyaWJzW2F0dE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgdGhpcy5hdHRyaWJzW25hbWVdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuZWxlbWVudCh0aGlzLCB0aGlzLm9wdGlvbnMud3JpdGVyLmZpbHRlck9wdGlvbnMob3B0aW9ucykpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5hdHQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBpZiAodGhpcy5hdHRyaWJzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnNbbmFtZV0udmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTm9kZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGlmICh0aGlzLmF0dHJpYnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlic1tuYW1lXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVOb2RlID0gZnVuY3Rpb24obmV3QXR0cikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGVOb2RlID0gZnVuY3Rpb24ob2xkQXR0cikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTlMgPSBmdW5jdGlvbihuYW1lc3BhY2VVUkksIGxvY2FsTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKG5hbWVzcGFjZVVSSSwgcXVhbGlmaWVkTmFtZSwgdmFsdWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlTlMgPSBmdW5jdGlvbihuYW1lc3BhY2VVUkksIGxvY2FsTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVOb2RlTlMgPSBmdW5jdGlvbihuYW1lc3BhY2VVUkksIGxvY2FsTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVOb2RlTlMgPSBmdW5jdGlvbihuZXdBdHRyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMgPSBmdW5jdGlvbihuYW1lc3BhY2VVUkksIGxvY2FsTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5oYXNBdHRyaWJ1dGUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdHRyaWJzLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5oYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKG5hbWVzcGFjZVVSSSwgbG9jYWxOYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLnNldElkQXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSwgaXNJZCkge1xuICAgICAgaWYgKHRoaXMuYXR0cmlicy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJzW25hbWVdLmlzSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuc2V0SWRBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKG5hbWVzcGFjZVVSSSwgbG9jYWxOYW1lLCBpc0lkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLnNldElkQXR0cmlidXRlTm9kZSA9IGZ1bmN0aW9uKGlkQXR0ciwgaXNJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGZ1bmN0aW9uKHRhZ25hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyA9IGZ1bmN0aW9uKG5hbWVzcGFjZVVSSSwgbG9jYWxOYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbihjbGFzc05hbWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLmlzRXF1YWxOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIGksIGosIHJlZjE7XG4gICAgICBpZiAoIVhNTEVsZW1lbnQuX19zdXBlcl9fLmlzRXF1YWxOb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykuaXNFcXVhbE5vZGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUubmFtZXNwYWNlVVJJICE9PSB0aGlzLm5hbWVzcGFjZVVSSSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5wcmVmaXggIT09IHRoaXMucHJlZml4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmxvY2FsTmFtZSAhPT0gdGhpcy5sb2NhbE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuYXR0cmlicy5sZW5ndGggIT09IHRoaXMuYXR0cmlicy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gaiA9IDAsIHJlZjEgPSB0aGlzLmF0dHJpYnMubGVuZ3RoIC0gMTsgMCA8PSByZWYxID8gaiA8PSByZWYxIDogaiA+PSByZWYxOyBpID0gMCA8PSByZWYxID8gKytqIDogLS1qKSB7XG4gICAgICAgIGlmICghdGhpcy5hdHRyaWJzW2ldLmlzRXF1YWxOb2RlKG5vZGUuYXR0cmlic1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRWxlbWVudDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxOYW1lZE5vZGVNYXA7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxOYW1lZE5vZGVNYXAgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gWE1MTmFtZWROb2RlTWFwKG5vZGVzKSB7XG4gICAgICB0aGlzLm5vZGVzID0gbm9kZXM7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTE5hbWVkTm9kZU1hcC5wcm90b3R5cGUsICdsZW5ndGgnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5ub2RlcykubGVuZ3RoIHx8IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBYTUxOYW1lZE5vZGVNYXAucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2RlcyA9IG51bGw7XG4gICAgfTtcblxuICAgIFhNTE5hbWVkTm9kZU1hcC5wcm90b3R5cGUuZ2V0TmFtZWRJdGVtID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZXNbbmFtZV07XG4gICAgfTtcblxuICAgIFhNTE5hbWVkTm9kZU1hcC5wcm90b3R5cGUuc2V0TmFtZWRJdGVtID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIG9sZE5vZGU7XG4gICAgICBvbGROb2RlID0gdGhpcy5ub2Rlc1tub2RlLm5vZGVOYW1lXTtcbiAgICAgIHRoaXMubm9kZXNbbm9kZS5ub2RlTmFtZV0gPSBub2RlO1xuICAgICAgcmV0dXJuIG9sZE5vZGUgfHwgbnVsbDtcbiAgICB9O1xuXG4gICAgWE1MTmFtZWROb2RlTWFwLnByb3RvdHlwZS5yZW1vdmVOYW1lZEl0ZW0gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgb2xkTm9kZTtcbiAgICAgIG9sZE5vZGUgPSB0aGlzLm5vZGVzW25hbWVdO1xuICAgICAgZGVsZXRlIHRoaXMubm9kZXNbbmFtZV07XG4gICAgICByZXR1cm4gb2xkTm9kZSB8fCBudWxsO1xuICAgIH07XG5cbiAgICBYTUxOYW1lZE5vZGVNYXAucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZXNbT2JqZWN0LmtleXModGhpcy5ub2RlcylbaW5kZXhdXSB8fCBudWxsO1xuICAgIH07XG5cbiAgICBYTUxOYW1lZE5vZGVNYXAucHJvdG90eXBlLmdldE5hbWVkSXRlbU5TID0gZnVuY3Rpb24obmFtZXNwYWNlVVJJLCBsb2NhbE5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG5cbiAgICBYTUxOYW1lZE5vZGVNYXAucHJvdG90eXBlLnNldE5hbWVkSXRlbU5TID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfTtcblxuICAgIFhNTE5hbWVkTm9kZU1hcC5wcm90b3R5cGUucmVtb3ZlTmFtZWRJdGVtTlMgPSBmdW5jdGlvbihuYW1lc3BhY2VVUkksIGxvY2FsTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxOYW1lZE5vZGVNYXA7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBEb2N1bWVudFBvc2l0aW9uLCBOb2RlVHlwZSwgWE1MQ0RhdGEsIFhNTENvbW1lbnQsIFhNTERlY2xhcmF0aW9uLCBYTUxEb2NUeXBlLCBYTUxEdW1teSwgWE1MRWxlbWVudCwgWE1MTmFtZWROb2RlTWFwLCBYTUxOb2RlLCBYTUxOb2RlTGlzdCwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBYTUxSYXcsIFhNTFRleHQsIGdldFZhbHVlLCBpc0VtcHR5LCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgcmVmMSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgcmVmMSA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLCBpc09iamVjdCA9IHJlZjEuaXNPYmplY3QsIGlzRnVuY3Rpb24gPSByZWYxLmlzRnVuY3Rpb24sIGlzRW1wdHkgPSByZWYxLmlzRW1wdHksIGdldFZhbHVlID0gcmVmMS5nZXRWYWx1ZTtcblxuICBYTUxFbGVtZW50ID0gbnVsbDtcblxuICBYTUxDRGF0YSA9IG51bGw7XG5cbiAgWE1MQ29tbWVudCA9IG51bGw7XG5cbiAgWE1MRGVjbGFyYXRpb24gPSBudWxsO1xuXG4gIFhNTERvY1R5cGUgPSBudWxsO1xuXG4gIFhNTFJhdyA9IG51bGw7XG5cbiAgWE1MVGV4dCA9IG51bGw7XG5cbiAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gbnVsbDtcblxuICBYTUxEdW1teSA9IG51bGw7XG5cbiAgTm9kZVR5cGUgPSBudWxsO1xuXG4gIFhNTE5vZGVMaXN0ID0gbnVsbDtcblxuICBYTUxOYW1lZE5vZGVNYXAgPSBudWxsO1xuXG4gIERvY3VtZW50UG9zaXRpb24gPSBudWxsO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MTm9kZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxOb2RlKHBhcmVudDEpIHtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50MTtcbiAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLnBhcmVudC5vcHRpb25zO1xuICAgICAgICB0aGlzLnN0cmluZ2lmeSA9IHRoaXMucGFyZW50LnN0cmluZ2lmeTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgdGhpcy5iYXNlVVJJID0gbnVsbDtcbiAgICAgIGlmICghWE1MRWxlbWVudCkge1xuICAgICAgICBYTUxFbGVtZW50ID0gcmVxdWlyZSgnLi9YTUxFbGVtZW50Jyk7XG4gICAgICAgIFhNTENEYXRhID0gcmVxdWlyZSgnLi9YTUxDRGF0YScpO1xuICAgICAgICBYTUxDb21tZW50ID0gcmVxdWlyZSgnLi9YTUxDb21tZW50Jyk7XG4gICAgICAgIFhNTERlY2xhcmF0aW9uID0gcmVxdWlyZSgnLi9YTUxEZWNsYXJhdGlvbicpO1xuICAgICAgICBYTUxEb2NUeXBlID0gcmVxdWlyZSgnLi9YTUxEb2NUeXBlJyk7XG4gICAgICAgIFhNTFJhdyA9IHJlcXVpcmUoJy4vWE1MUmF3Jyk7XG4gICAgICAgIFhNTFRleHQgPSByZXF1aXJlKCcuL1hNTFRleHQnKTtcbiAgICAgICAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gcmVxdWlyZSgnLi9YTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24nKTtcbiAgICAgICAgWE1MRHVtbXkgPSByZXF1aXJlKCcuL1hNTER1bW15Jyk7XG4gICAgICAgIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuICAgICAgICBYTUxOb2RlTGlzdCA9IHJlcXVpcmUoJy4vWE1MTm9kZUxpc3QnKTtcbiAgICAgICAgWE1MTmFtZWROb2RlTWFwID0gcmVxdWlyZSgnLi9YTUxOYW1lZE5vZGVNYXAnKTtcbiAgICAgICAgRG9jdW1lbnRQb3NpdGlvbiA9IHJlcXVpcmUoJy4vRG9jdW1lbnRQb3NpdGlvbicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxOb2RlLnByb3RvdHlwZSwgJ25vZGVOYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxOb2RlLnByb3RvdHlwZSwgJ25vZGVUeXBlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxOb2RlLnByb3RvdHlwZSwgJ25vZGVWYWx1ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTE5vZGUucHJvdG90eXBlLCAncGFyZW50Tm9kZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxOb2RlLnByb3RvdHlwZSwgJ2NoaWxkTm9kZXMnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hpbGROb2RlTGlzdCB8fCAhdGhpcy5jaGlsZE5vZGVMaXN0Lm5vZGVzKSB7XG4gICAgICAgICAgdGhpcy5jaGlsZE5vZGVMaXN0ID0gbmV3IFhNTE5vZGVMaXN0KHRoaXMuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkTm9kZUxpc3Q7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MTm9kZS5wcm90b3R5cGUsICdmaXJzdENoaWxkJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0gfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxOb2RlLnByb3RvdHlwZSwgJ2xhc3RDaGlsZCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxOb2RlLnByb3RvdHlwZSwgJ3ByZXZpb3VzU2libGluZycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNoaWxkcmVuW2kgLSAxXSB8fCBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTE5vZGUucHJvdG90eXBlLCAnbmV4dFNpYmxpbmcnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5jaGlsZHJlbltpICsgMV0gfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxOb2RlLnByb3RvdHlwZSwgJ293bmVyRG9jdW1lbnQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudCgpIHx8IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoWE1MTm9kZS5wcm90b3R5cGUsICd0ZXh0Q29udGVudCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGlsZCwgaiwgbGVuLCByZWYyLCBzdHI7XG4gICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSBOb2RlVHlwZS5FbGVtZW50IHx8IHRoaXMubm9kZVR5cGUgPT09IE5vZGVUeXBlLkRvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgICByZWYyID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYyLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHJlZjJbal07XG4gICAgICAgICAgICBpZiAoY2hpbGQudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgc3RyICs9IGNoaWxkLnRleHRDb250ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbihwYXJlbnQpIHtcbiAgICAgIHZhciBjaGlsZCwgaiwgbGVuLCByZWYyLCByZXN1bHRzO1xuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHBhcmVudC5vcHRpb25zO1xuICAgICAgICB0aGlzLnN0cmluZ2lmeSA9IHBhcmVudC5zdHJpbmdpZnk7XG4gICAgICB9XG4gICAgICByZWYyID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZjIubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWYyW2pdO1xuICAgICAgICByZXN1bHRzLnB1c2goY2hpbGQuc2V0UGFyZW50KHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5lbGVtZW50ID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIGNoaWxkTm9kZSwgaXRlbSwgaiwgaywga2V5LCBsYXN0Q2hpbGQsIGxlbiwgbGVuMSwgcmVmMiwgcmVmMywgdmFsO1xuICAgICAgbGFzdENoaWxkID0gbnVsbDtcbiAgICAgIGlmIChhdHRyaWJ1dGVzID09PSBudWxsICYmICh0ZXh0ID09IG51bGwpKSB7XG4gICAgICAgIHJlZjIgPSBbe30sIG51bGxdLCBhdHRyaWJ1dGVzID0gcmVmMlswXSwgdGV4dCA9IHJlZjJbMV07XG4gICAgICB9XG4gICAgICBpZiAoYXR0cmlidXRlcyA9PSBudWxsKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGF0dHJpYnV0ZXMgPSBnZXRWYWx1ZShhdHRyaWJ1dGVzKTtcbiAgICAgIGlmICghaXNPYmplY3QoYXR0cmlidXRlcykpIHtcbiAgICAgICAgcmVmMyA9IFthdHRyaWJ1dGVzLCB0ZXh0XSwgdGV4dCA9IHJlZjNbMF0sIGF0dHJpYnV0ZXMgPSByZWYzWzFdO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgICBuYW1lID0gZ2V0VmFsdWUobmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICBmb3IgKGogPSAwLCBsZW4gPSBuYW1lLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgaXRlbSA9IG5hbWVbal07XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24obmFtZSkpIHtcbiAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KG5hbWUuYXBwbHkoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgIGZvciAoa2V5IGluIG5hbWUpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChuYW1lLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICB2YWwgPSBuYW1lW2tleV07XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsKSkge1xuICAgICAgICAgICAgdmFsID0gdmFsLmFwcGx5KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydEF0dEtleSAmJiBrZXkuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0QXR0S2V5KSA9PT0gMCkge1xuICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5hdHRyaWJ1dGUoa2V5LnN1YnN0cih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0QXR0S2V5Lmxlbmd0aCksIHZhbCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnNlcGFyYXRlQXJyYXlJdGVtcyAmJiBBcnJheS5pc0FycmF5KHZhbCkgJiYgaXNFbXB0eSh2YWwpKSB7XG4gICAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmR1bW15KCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmIGlzRW1wdHkodmFsKSkge1xuICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KGtleSk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmtlZXBOdWxsTm9kZXMgJiYgKHZhbCA9PSBudWxsKSkge1xuICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5kdW1teSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5zZXBhcmF0ZUFycmF5SXRlbXMgJiYgQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBmb3IgKGsgPSAwLCBsZW4xID0gdmFsLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgICBpdGVtID0gdmFsW2tdO1xuICAgICAgICAgICAgICBjaGlsZE5vZGUgPSB7fTtcbiAgICAgICAgICAgICAgY2hpbGROb2RlW2tleV0gPSBpdGVtO1xuICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmVsZW1lbnQoY2hpbGROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFRleHRLZXkgJiYga2V5LmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydFRleHRLZXkpID09PSAwKSB7XG4gICAgICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KGtleSk7XG4gICAgICAgICAgICAgIGxhc3RDaGlsZC5lbGVtZW50KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChrZXksIHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMua2VlcE51bGxOb2RlcyAmJiB0ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZHVtbXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFRleHRLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRUZXh0S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMudGV4dCh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydENEYXRhS2V5ICYmIG5hbWUuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0Q0RhdGFLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5jZGF0YSh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydENvbW1lbnRLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRDb21tZW50S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuY29tbWVudCh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFJhd0tleSAmJiBuYW1lLmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydFJhd0tleSkgPT09IDApIHtcbiAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLnJhdyh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFBJS2V5ICYmIG5hbWUuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UElLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5pbnN0cnVjdGlvbihuYW1lLnN1YnN0cih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UElLZXkubGVuZ3RoKSwgdGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5ub2RlKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobGFzdENoaWxkID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNyZWF0ZSBhbnkgZWxlbWVudHMgd2l0aDogXCIgKyBuYW1lICsgXCIuIFwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGFzdENoaWxkO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICB2YXIgY2hpbGQsIGksIG5ld0NoaWxkLCByZWZDaGlsZCwgcmVtb3ZlZDtcbiAgICAgIGlmIChuYW1lICE9IG51bGwgPyBuYW1lLnR5cGUgOiB2b2lkIDApIHtcbiAgICAgICAgbmV3Q2hpbGQgPSBuYW1lO1xuICAgICAgICByZWZDaGlsZCA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIG5ld0NoaWxkLnNldFBhcmVudCh0aGlzKTtcbiAgICAgICAgaWYgKHJlZkNoaWxkKSB7XG4gICAgICAgICAgaSA9IGNoaWxkcmVuLmluZGV4T2YocmVmQ2hpbGQpO1xuICAgICAgICAgIHJlbW92ZWQgPSBjaGlsZHJlbi5zcGxpY2UoaSk7XG4gICAgICAgICAgY2hpbGRyZW4ucHVzaChuZXdDaGlsZCk7XG4gICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLnB1c2gobmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdDaGlsZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmlzUm9vdCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbnNlcnQgZWxlbWVudHMgYXQgcm9vdCBsZXZlbC4gXCIgKyB0aGlzLmRlYnVnSW5mbyhuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSk7XG4gICAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmluc2VydEFmdGVyID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaWYgKHRoaXMuaXNSb290KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbnNlcnQgZWxlbWVudHMgYXQgcm9vdCBsZXZlbC4gXCIgKyB0aGlzLmRlYnVnSW5mbyhuYW1lKSk7XG4gICAgICB9XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSArIDEpO1xuICAgICAgY2hpbGQgPSB0aGlzLnBhcmVudC5lbGVtZW50KG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpLCByZWYyO1xuICAgICAgaWYgKHRoaXMuaXNSb290KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZW1vdmUgdGhlIHJvb3QgZWxlbWVudC4gXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICAgIH1cbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgW10uc3BsaWNlLmFwcGx5KHRoaXMucGFyZW50LmNoaWxkcmVuLCBbaSwgaSAtIGkgKyAxXS5jb25jYXQocmVmMiA9IFtdKSksIHJlZjI7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLm5vZGUgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICB2YXIgY2hpbGQsIHJlZjI7XG4gICAgICBpZiAobmFtZSAhPSBudWxsKSB7XG4gICAgICAgIG5hbWUgPSBnZXRWYWx1ZShuYW1lKTtcbiAgICAgIH1cbiAgICAgIGF0dHJpYnV0ZXMgfHwgKGF0dHJpYnV0ZXMgPSB7fSk7XG4gICAgICBhdHRyaWJ1dGVzID0gZ2V0VmFsdWUoYXR0cmlidXRlcyk7XG4gICAgICBpZiAoIWlzT2JqZWN0KGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIHJlZjIgPSBbYXR0cmlidXRlcywgdGV4dF0sIHRleHQgPSByZWYyWzBdLCBhdHRyaWJ1dGVzID0gcmVmMlsxXTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gbmV3IFhNTEVsZW1lbnQodGhpcywgbmFtZSwgYXR0cmlidXRlcyk7XG4gICAgICBpZiAodGV4dCAhPSBudWxsKSB7XG4gICAgICAgIGNoaWxkLnRleHQodGV4dCk7XG4gICAgICB9XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZDtcbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gbmV3IFhNTFRleHQodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jZGF0YSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxDRGF0YSh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNvbW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MQ29tbWVudCh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNvbW1lbnRCZWZvcmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICByZW1vdmVkID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGkpO1xuICAgICAgY2hpbGQgPSB0aGlzLnBhcmVudC5jb21tZW50KHZhbHVlKTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucGFyZW50LmNoaWxkcmVuLCByZW1vdmVkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jb21tZW50QWZ0ZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICByZW1vdmVkID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGkgKyAxKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuY29tbWVudCh2YWx1ZSk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUucmF3ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZDtcbiAgICAgIGNoaWxkID0gbmV3IFhNTFJhdyh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmR1bW15ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEdW1teSh0aGlzKTtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICB2YXIgaW5zVGFyZ2V0LCBpbnNWYWx1ZSwgaW5zdHJ1Y3Rpb24sIGosIGxlbjtcbiAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICB0YXJnZXQgPSBnZXRWYWx1ZSh0YXJnZXQpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFsdWUgPSBnZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHRhcmdldC5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIGluc1RhcmdldCA9IHRhcmdldFtqXTtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9uKGluc1RhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICBmb3IgKGluc1RhcmdldCBpbiB0YXJnZXQpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh0YXJnZXQsIGluc1RhcmdldCkpIGNvbnRpbnVlO1xuICAgICAgICAgIGluc1ZhbHVlID0gdGFyZ2V0W2luc1RhcmdldF07XG4gICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbihpbnNUYXJnZXQsIGluc1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5hcHBseSgpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RydWN0aW9uID0gbmV3IFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbih0aGlzLCB0YXJnZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbnN0cnVjdGlvbkJlZm9yZSA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuaW5zdHJ1Y3Rpb24odGFyZ2V0LCB2YWx1ZSk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zdHJ1Y3Rpb25BZnRlciA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpICsgMSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50Lmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHZhciBkb2MsIHhtbGRlYztcbiAgICAgIGRvYyA9IHRoaXMuZG9jdW1lbnQoKTtcbiAgICAgIHhtbGRlYyA9IG5ldyBYTUxEZWNsYXJhdGlvbihkb2MsIHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICAgIGlmIChkb2MuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRvYy5jaGlsZHJlbi51bnNoaWZ0KHhtbGRlYyk7XG4gICAgICB9IGVsc2UgaWYgKGRvYy5jaGlsZHJlblswXS50eXBlID09PSBOb2RlVHlwZS5EZWNsYXJhdGlvbikge1xuICAgICAgICBkb2MuY2hpbGRyZW5bMF0gPSB4bWxkZWM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2MuY2hpbGRyZW4udW5zaGlmdCh4bWxkZWMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvYy5yb290KCkgfHwgZG9jO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kdGQgPSBmdW5jdGlvbihwdWJJRCwgc3lzSUQpIHtcbiAgICAgIHZhciBjaGlsZCwgZG9jLCBkb2N0eXBlLCBpLCBqLCBrLCBsZW4sIGxlbjEsIHJlZjIsIHJlZjM7XG4gICAgICBkb2MgPSB0aGlzLmRvY3VtZW50KCk7XG4gICAgICBkb2N0eXBlID0gbmV3IFhNTERvY1R5cGUoZG9jLCBwdWJJRCwgc3lzSUQpO1xuICAgICAgcmVmMiA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IGogPSAwLCBsZW4gPSByZWYyLmxlbmd0aDsgaiA8IGxlbjsgaSA9ICsraikge1xuICAgICAgICBjaGlsZCA9IHJlZjJbaV07XG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBOb2RlVHlwZS5Eb2NUeXBlKSB7XG4gICAgICAgICAgZG9jLmNoaWxkcmVuW2ldID0gZG9jdHlwZTtcbiAgICAgICAgICByZXR1cm4gZG9jdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVmMyA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IGsgPSAwLCBsZW4xID0gcmVmMy5sZW5ndGg7IGsgPCBsZW4xOyBpID0gKytrKSB7XG4gICAgICAgIGNoaWxkID0gcmVmM1tpXTtcbiAgICAgICAgaWYgKGNoaWxkLmlzUm9vdCkge1xuICAgICAgICAgIGRvYy5jaGlsZHJlbi5zcGxpY2UoaSwgMCwgZG9jdHlwZSk7XG4gICAgICAgICAgcmV0dXJuIGRvY3R5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvYy5jaGlsZHJlbi5wdXNoKGRvY3R5cGUpO1xuICAgICAgcmV0dXJuIGRvY3R5cGU7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc1Jvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJvb3Qgbm9kZSBoYXMgbm8gcGFyZW50LiBVc2UgZG9jKCkgaWYgeW91IG5lZWQgdG8gZ2V0IHRoZSBkb2N1bWVudCBvYmplY3QuXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIG5vZGUgPSB0aGlzO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gTm9kZVR5cGUuRG9jdW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5yb290T2JqZWN0O1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGUuaXNSb290KSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRvY3VtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIG5vZGUgPSB0aGlzO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gTm9kZVR5cGUuRG9jdW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQoKS5lbmQob3B0aW9ucyk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICBpZiAoaSA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBhdCB0aGUgZmlyc3Qgbm9kZS4gXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5jaGlsZHJlbltpIC0gMV07XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICBpZiAoaSA9PT0gLTEgfHwgaSA9PT0gdGhpcy5wYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IGF0IHRoZSBsYXN0IG5vZGUuIFwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2hpbGRyZW5baSArIDFdO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbXBvcnREb2N1bWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIGNsb25lZFJvb3Q7XG4gICAgICBjbG9uZWRSb290ID0gZG9jLnJvb3QoKS5jbG9uZSgpO1xuICAgICAgY2xvbmVkUm9vdC5wYXJlbnQgPSB0aGlzO1xuICAgICAgY2xvbmVkUm9vdC5pc1Jvb3QgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjbG9uZWRSb290KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kZWJ1Z0luZm8gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgcmVmMiwgcmVmMztcbiAgICAgIG5hbWUgPSBuYW1lIHx8IHRoaXMubmFtZTtcbiAgICAgIGlmICgobmFtZSA9PSBudWxsKSAmJiAhKChyZWYyID0gdGhpcy5wYXJlbnQpICE9IG51bGwgPyByZWYyLm5hbWUgOiB2b2lkIDApKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwicGFyZW50OiA8XCIgKyB0aGlzLnBhcmVudC5uYW1lICsgXCI+XCI7XG4gICAgICB9IGVsc2UgaWYgKCEoKHJlZjMgPSB0aGlzLnBhcmVudCkgIT0gbnVsbCA/IHJlZjMubmFtZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgcmV0dXJuIFwibm9kZTogPFwiICsgbmFtZSArIFwiPlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwibm9kZTogPFwiICsgbmFtZSArIFwiPiwgcGFyZW50OiA8XCIgKyB0aGlzLnBhcmVudC5uYW1lICsgXCI+XCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmVsZSA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLm5vZCA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnR4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZGF0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNkYXRhKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY29tID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbnMgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZG9jID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2N1bWVudCgpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kZWMgPSBmdW5jdGlvbih2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVjbGFyYXRpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5lID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubiA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2RhdGEodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJhdyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmkgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudXAoKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW1wb3J0WE1MQnVpbGRlciA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIHRoaXMuaW1wb3J0RG9jdW1lbnQoZG9jKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUucmVwbGFjZUNoaWxkID0gZnVuY3Rpb24obmV3Q2hpbGQsIG9sZENoaWxkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24ob2xkQ2hpbGQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbihuZXdDaGlsZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5oYXNDaGlsZE5vZGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggIT09IDA7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNsb25lTm9kZSA9IGZ1bmN0aW9uKGRlZXApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24oZmVhdHVyZSwgdmVyc2lvbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmhhc0F0dHJpYnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dHJpYnMubGVuZ3RoICE9PSAwO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICB2YXIgcmVmLCByZXM7XG4gICAgICByZWYgPSB0aGlzO1xuICAgICAgaWYgKHJlZiA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZG9jdW1lbnQoKSAhPT0gb3RoZXIuZG9jdW1lbnQoKSkge1xuICAgICAgICByZXMgPSBEb2N1bWVudFBvc2l0aW9uLkRpc2Nvbm5lY3RlZCB8IERvY3VtZW50UG9zaXRpb24uSW1wbGVtZW50YXRpb25TcGVjaWZpYztcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcbiAgICAgICAgICByZXMgfD0gRG9jdW1lbnRQb3NpdGlvbi5QcmVjZWRpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzIHw9IERvY3VtZW50UG9zaXRpb24uRm9sbG93aW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9IGVsc2UgaWYgKHJlZi5pc0FuY2VzdG9yKG90aGVyKSkge1xuICAgICAgICByZXR1cm4gRG9jdW1lbnRQb3NpdGlvbi5Db250YWlucyB8IERvY3VtZW50UG9zaXRpb24uUHJlY2VkaW5nO1xuICAgICAgfSBlbHNlIGlmIChyZWYuaXNEZXNjZW5kYW50KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gRG9jdW1lbnRQb3NpdGlvbi5Db250YWlucyB8IERvY3VtZW50UG9zaXRpb24uRm9sbG93aW5nO1xuICAgICAgfSBlbHNlIGlmIChyZWYuaXNQcmVjZWRpbmcob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBEb2N1bWVudFBvc2l0aW9uLlByZWNlZGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBEb2N1bWVudFBvc2l0aW9uLkZvbGxvd2luZztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaXNTYW1lTm9kZSA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmxvb2t1cFByZWZpeCA9IGZ1bmN0aW9uKG5hbWVzcGFjZVVSSSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pc0RlZmF1bHROYW1lc3BhY2UgPSBmdW5jdGlvbihuYW1lc3BhY2VVUkkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubG9va3VwTmFtZXNwYWNlVVJJID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmlzRXF1YWxOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIGksIGosIHJlZjI7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gdGhpcy5ub2RlVHlwZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggIT09IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IGogPSAwLCByZWYyID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyAwIDw9IHJlZjIgPyBqIDw9IHJlZjIgOiBqID49IHJlZjI7IGkgPSAwIDw9IHJlZjIgPyArK2ogOiAtLWopIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG5vZGUuY2hpbGRyZW5baV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZ2V0RmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIHZlcnNpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuc2V0VXNlckRhdGEgPSBmdW5jdGlvbihrZXksIGRhdGEsIGhhbmRsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZ2V0VXNlckRhdGEgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgRE9NIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgaWYgKCFvdGhlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3RoZXIgPT09IHRoaXMgfHwgdGhpcy5pc0Rlc2NlbmRhbnQob3RoZXIpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pc0Rlc2NlbmRhbnQgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICB2YXIgY2hpbGQsIGlzRGVzY2VuZGFudENoaWxkLCBqLCBsZW4sIHJlZjI7XG4gICAgICByZWYyID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZjIubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWYyW2pdO1xuICAgICAgICBpZiAobm9kZSA9PT0gY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpc0Rlc2NlbmRhbnRDaGlsZCA9IGNoaWxkLmlzRGVzY2VuZGFudChub2RlKTtcbiAgICAgICAgaWYgKGlzRGVzY2VuZGFudENoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaXNBbmNlc3RvciA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLmlzRGVzY2VuZGFudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaXNQcmVjZWRpbmcgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICB2YXIgbm9kZVBvcywgdGhpc1BvcztcbiAgICAgIG5vZGVQb3MgPSB0aGlzLnRyZWVQb3NpdGlvbihub2RlKTtcbiAgICAgIHRoaXNQb3MgPSB0aGlzLnRyZWVQb3NpdGlvbih0aGlzKTtcbiAgICAgIGlmIChub2RlUG9zID09PSAtMSB8fCB0aGlzUG9zID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbm9kZVBvcyA8IHRoaXNQb3M7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmlzRm9sbG93aW5nID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIG5vZGVQb3MsIHRoaXNQb3M7XG4gICAgICBub2RlUG9zID0gdGhpcy50cmVlUG9zaXRpb24obm9kZSk7XG4gICAgICB0aGlzUG9zID0gdGhpcy50cmVlUG9zaXRpb24odGhpcyk7XG4gICAgICBpZiAobm9kZVBvcyA9PT0gLTEgfHwgdGhpc1BvcyA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5vZGVQb3MgPiB0aGlzUG9zO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS50cmVlUG9zaXRpb24gPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICB2YXIgZm91bmQsIHBvcztcbiAgICAgIHBvcyA9IDA7XG4gICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgdGhpcy5mb3JlYWNoVHJlZU5vZGUodGhpcy5kb2N1bWVudCgpLCBmdW5jdGlvbihjaGlsZE5vZGUpIHtcbiAgICAgICAgcG9zKys7XG4gICAgICAgIGlmICghZm91bmQgJiYgY2hpbGROb2RlID09PSBub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZm9yZWFjaFRyZWVOb2RlID0gZnVuY3Rpb24obm9kZSwgZnVuYykge1xuICAgICAgdmFyIGNoaWxkLCBqLCBsZW4sIHJlZjIsIHJlcztcbiAgICAgIG5vZGUgfHwgKG5vZGUgPSB0aGlzLmRvY3VtZW50KCkpO1xuICAgICAgcmVmMiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYyLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGNoaWxkID0gcmVmMltqXTtcbiAgICAgICAgaWYgKHJlcyA9IGZ1bmMoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMgPSB0aGlzLmZvcmVhY2hUcmVlTm9kZShjaGlsZCwgZnVuYyk7XG4gICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTE5vZGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxOb2RlTGlzdDtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTE5vZGVMaXN0ID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTE5vZGVMaXN0KG5vZGVzKSB7XG4gICAgICB0aGlzLm5vZGVzID0gbm9kZXM7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTE5vZGVMaXN0LnByb3RvdHlwZSwgJ2xlbmd0aCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aCB8fCAwO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgWE1MTm9kZUxpc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2RlcyA9IG51bGw7XG4gICAgfTtcblxuICAgIFhNTE5vZGVMaXN0LnByb3RvdHlwZS5pdGVtID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGVzW2luZGV4XSB8fCBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MTm9kZUxpc3Q7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgWE1MQ2hhcmFjdGVyRGF0YSwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05vZGVUeXBlJyk7XG5cbiAgWE1MQ2hhcmFjdGVyRGF0YSA9IHJlcXVpcmUoJy4vWE1MQ2hhcmFjdGVyRGF0YScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbihwYXJlbnQsIHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgaW5zdHJ1Y3Rpb24gdGFyZ2V0LiBcIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuUHJvY2Vzc2luZ0luc3RydWN0aW9uO1xuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLnN0cmluZ2lmeS5pbnNUYXJnZXQodGFyZ2V0KTtcbiAgICAgIHRoaXMubmFtZSA9IHRoaXMudGFyZ2V0O1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5pbnNWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24odGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLnByb3RvdHlwZS5pc0VxdWFsTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLl9fc3VwZXJfXy5pc0VxdWFsTm9kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLmlzRXF1YWxOb2RlKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLnRhcmdldCAhPT0gdGhpcy50YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb247XG5cbiAgfSkoWE1MQ2hhcmFjdGVyRGF0YSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgTm9kZVR5cGUsIFhNTE5vZGUsIFhNTFJhdyxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFJhdyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTFJhdywgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxSYXcocGFyZW50LCB0ZXh0KSB7XG4gICAgICBYTUxSYXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByYXcgdGV4dC4gXCIgKyB0aGlzLmRlYnVnSW5mbygpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudHlwZSA9IE5vZGVUeXBlLlJhdztcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5yYXcodGV4dCk7XG4gICAgfVxuXG4gICAgWE1MUmF3LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTFJhdy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5yYXcodGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTFJhdztcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgV3JpdGVyU3RhdGUsIFhNTFN0cmVhbVdyaXRlciwgWE1MV3JpdGVyQmFzZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTFdyaXRlckJhc2UgPSByZXF1aXJlKCcuL1hNTFdyaXRlckJhc2UnKTtcblxuICBXcml0ZXJTdGF0ZSA9IHJlcXVpcmUoJy4vV3JpdGVyU3RhdGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFN0cmVhbVdyaXRlciA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTFN0cmVhbVdyaXRlciwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxTdHJlYW1Xcml0ZXIoc3RyZWFtLCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgIFhNTFN0cmVhbVdyaXRlci5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmVuZGxpbmUgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgaWYgKG5vZGUuaXNMYXN0Um9vdE5vZGUgJiYgb3B0aW9ucy5zdGF0ZSA9PT0gV3JpdGVyU3RhdGUuQ2xvc2VUYWcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFhNTFN0cmVhbVdyaXRlci5fX3N1cGVyX18uZW5kbGluZS5jYWxsKHRoaXMsIG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kb2N1bWVudCA9IGZ1bmN0aW9uKGRvYywgb3B0aW9ucykge1xuICAgICAgdmFyIGNoaWxkLCBpLCBqLCBrLCBsZW4sIGxlbjEsIHJlZiwgcmVmMSwgcmVzdWx0cztcbiAgICAgIHJlZiA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBpID0gKytqKSB7XG4gICAgICAgIGNoaWxkID0gcmVmW2ldO1xuICAgICAgICBjaGlsZC5pc0xhc3RSb290Tm9kZSA9IGkgPT09IGRvYy5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IHRoaXMuZmlsdGVyT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHJlZjEgPSBkb2MuY2hpbGRyZW47XG4gICAgICByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGsgPSAwLCBsZW4xID0gcmVmMS5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWYxW2tdO1xuICAgICAgICByZXN1bHRzLnB1c2godGhpcy53cml0ZUNoaWxkTm9kZShjaGlsZCwgb3B0aW9ucywgMCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuYXR0cmlidXRlID0gZnVuY3Rpb24oYXR0LCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKFhNTFN0cmVhbVdyaXRlci5fX3N1cGVyX18uYXR0cmlidXRlLmNhbGwodGhpcywgYXR0LCBvcHRpb25zLCBsZXZlbCkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmNkYXRhID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZShYTUxTdHJlYW1Xcml0ZXIuX19zdXBlcl9fLmNkYXRhLmNhbGwodGhpcywgbm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5jb21tZW50ID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZShYTUxTdHJlYW1Xcml0ZXIuX19zdXBlcl9fLmNvbW1lbnQuY2FsbCh0aGlzLCBub2RlLCBvcHRpb25zLCBsZXZlbCkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZShYTUxTdHJlYW1Xcml0ZXIuX19zdXBlcl9fLmRlY2xhcmF0aW9uLmNhbGwodGhpcywgbm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kb2NUeXBlID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHZhciBjaGlsZCwgaiwgbGVuLCByZWY7XG4gICAgICBsZXZlbCB8fCAobGV2ZWwgPSAwKTtcbiAgICAgIHRoaXMub3Blbk5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk9wZW5UYWc7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLmluZGVudChub2RlLCBvcHRpb25zLCBsZXZlbCkpO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJzwhRE9DVFlQRSAnICsgbm9kZS5yb290KCkubmFtZSk7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCIgXCInICsgbm9kZS5zeXNJRCArICdcIicpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBbJyk7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZW5kbGluZShub2RlLCBvcHRpb25zLCBsZXZlbCkpO1xuICAgICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuSW5zaWRlVGFnO1xuICAgICAgICByZWYgPSBub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZltqXTtcbiAgICAgICAgICB0aGlzLndyaXRlQ2hpbGROb2RlKGNoaWxkLCBvcHRpb25zLCBsZXZlbCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJ10nKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKG9wdGlvbnMuc3BhY2VCZWZvcmVTbGFzaCArICc+Jyk7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5Ob25lO1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc2VOb2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5lbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHZhciBhdHQsIGNoaWxkLCBjaGlsZE5vZGVDb3VudCwgZmlyc3RDaGlsZE5vZGUsIGosIGxlbiwgbmFtZSwgcHJldHR5U3VwcHJlc3NlZCwgcmVmLCByZWYxO1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICB0aGlzLm9wZW5Ob2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5PcGVuVGFnO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5pbmRlbnQobm9kZSwgb3B0aW9ucywgbGV2ZWwpICsgJzwnICsgbm9kZS5uYW1lKTtcbiAgICAgIHJlZiA9IG5vZGUuYXR0cmlicztcbiAgICAgIGZvciAobmFtZSBpbiByZWYpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBuYW1lKSkgY29udGludWU7XG4gICAgICAgIGF0dCA9IHJlZltuYW1lXTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUoYXR0LCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICB9XG4gICAgICBjaGlsZE5vZGVDb3VudCA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgZmlyc3RDaGlsZE5vZGUgPSBjaGlsZE5vZGVDb3VudCA9PT0gMCA/IG51bGwgOiBub2RlLmNoaWxkcmVuWzBdO1xuICAgICAgaWYgKGNoaWxkTm9kZUNvdW50ID09PSAwIHx8IG5vZGUuY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4gKGUudHlwZSA9PT0gTm9kZVR5cGUuVGV4dCB8fCBlLnR5cGUgPT09IE5vZGVUeXBlLlJhdykgJiYgZS52YWx1ZSA9PT0gJyc7XG4gICAgICB9KSkge1xuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd0VtcHR5KSB7XG4gICAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJz4nKTtcbiAgICAgICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJzwvJyArIG5vZGUubmFtZSArICc+Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkNsb3NlVGFnO1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKG9wdGlvbnMuc3BhY2VCZWZvcmVTbGFzaCArICcvPicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucHJldHR5ICYmIGNoaWxkTm9kZUNvdW50ID09PSAxICYmIChmaXJzdENoaWxkTm9kZS50eXBlID09PSBOb2RlVHlwZS5UZXh0IHx8IGZpcnN0Q2hpbGROb2RlLnR5cGUgPT09IE5vZGVUeXBlLlJhdykgJiYgKGZpcnN0Q2hpbGROb2RlLnZhbHVlICE9IG51bGwpKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc+Jyk7XG4gICAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5JbnNpZGVUYWc7XG4gICAgICAgIG9wdGlvbnMuc3VwcHJlc3NQcmV0dHlDb3VudCsrO1xuICAgICAgICBwcmV0dHlTdXBwcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53cml0ZUNoaWxkTm9kZShmaXJzdENoaWxkTm9kZSwgb3B0aW9ucywgbGV2ZWwgKyAxKTtcbiAgICAgICAgb3B0aW9ucy5zdXBwcmVzc1ByZXR0eUNvdW50LS07XG4gICAgICAgIHByZXR0eVN1cHByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkNsb3NlVGFnO1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPC8nICsgbm9kZS5uYW1lICsgJz4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc+JyArIHRoaXMuZW5kbGluZShub2RlLCBvcHRpb25zLCBsZXZlbCkpO1xuICAgICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuSW5zaWRlVGFnO1xuICAgICAgICByZWYxID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIGNoaWxkID0gcmVmMVtqXTtcbiAgICAgICAgICB0aGlzLndyaXRlQ2hpbGROb2RlKGNoaWxkLCBvcHRpb25zLCBsZXZlbCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5pbmRlbnQobm9kZSwgb3B0aW9ucywgbGV2ZWwpICsgJzwvJyArIG5vZGUubmFtZSArICc+Jyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5Ob25lO1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc2VOb2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKFhNTFN0cmVhbVdyaXRlci5fX3N1cGVyX18ucHJvY2Vzc2luZ0luc3RydWN0aW9uLmNhbGwodGhpcywgbm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKFhNTFN0cmVhbVdyaXRlci5fX3N1cGVyX18ucmF3LmNhbGwodGhpcywgbm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZShYTUxTdHJlYW1Xcml0ZXIuX19zdXBlcl9fLnRleHQuY2FsbCh0aGlzLCBub2RlLCBvcHRpb25zLCBsZXZlbCkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmR0ZEF0dExpc3QgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKFhNTFN0cmVhbVdyaXRlci5fX3N1cGVyX18uZHRkQXR0TGlzdC5jYWxsKHRoaXMsIG5vZGUsIG9wdGlvbnMsIGxldmVsKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZHRkRWxlbWVudCA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoWE1MU3RyZWFtV3JpdGVyLl9fc3VwZXJfXy5kdGRFbGVtZW50LmNhbGwodGhpcywgbm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kdGRFbnRpdHkgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKFhNTFN0cmVhbVdyaXRlci5fX3N1cGVyX18uZHRkRW50aXR5LmNhbGwodGhpcywgbm9kZSwgb3B0aW9ucywgbGV2ZWwpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kdGROb3RhdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoWE1MU3RyZWFtV3JpdGVyLl9fc3VwZXJfXy5kdGROb3RhdGlvbi5jYWxsKHRoaXMsIG5vZGUsIG9wdGlvbnMsIGxldmVsKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxTdHJlYW1Xcml0ZXI7XG5cbiAgfSkoWE1MV3JpdGVyQmFzZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MU3RyaW5nV3JpdGVyLCBYTUxXcml0ZXJCYXNlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MV3JpdGVyQmFzZSA9IHJlcXVpcmUoJy4vWE1MV3JpdGVyQmFzZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MU3RyaW5nV3JpdGVyID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MU3RyaW5nV3JpdGVyLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTFN0cmluZ1dyaXRlcihvcHRpb25zKSB7XG4gICAgICBYTUxTdHJpbmdXcml0ZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5kb2N1bWVudCA9IGZ1bmN0aW9uKGRvYywgb3B0aW9ucykge1xuICAgICAgdmFyIGNoaWxkLCBpLCBsZW4sIHIsIHJlZjtcbiAgICAgIG9wdGlvbnMgPSB0aGlzLmZpbHRlck9wdGlvbnMob3B0aW9ucyk7XG4gICAgICByID0gJyc7XG4gICAgICByZWYgPSBkb2MuY2hpbGRyZW47XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICAgIHIgKz0gdGhpcy53cml0ZUNoaWxkTm9kZShjaGlsZCwgb3B0aW9ucywgMCk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5wcmV0dHkgJiYgci5zbGljZSgtb3B0aW9ucy5uZXdsaW5lLmxlbmd0aCkgPT09IG9wdGlvbnMubmV3bGluZSkge1xuICAgICAgICByID0gci5zbGljZSgwLCAtb3B0aW9ucy5uZXdsaW5lLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTFN0cmluZ1dyaXRlcjtcblxuICB9KShYTUxXcml0ZXJCYXNlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxTdHJpbmdpZmllcixcbiAgICBiaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxTdHJpbmdpZmllciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxTdHJpbmdpZmllcihvcHRpb25zKSB7XG4gICAgICB0aGlzLmFzc2VydExlZ2FsTmFtZSA9IGJpbmQodGhpcy5hc3NlcnRMZWdhbE5hbWUsIHRoaXMpO1xuICAgICAgdGhpcy5hc3NlcnRMZWdhbENoYXIgPSBiaW5kKHRoaXMuYXNzZXJ0TGVnYWxDaGFyLCB0aGlzKTtcbiAgICAgIHZhciBrZXksIHJlZiwgdmFsdWU7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZlcnNpb24gPSAnMS4wJztcbiAgICAgIH1cbiAgICAgIHJlZiA9IG9wdGlvbnMuc3RyaW5naWZ5IHx8IHt9O1xuICAgICAgZm9yIChrZXkgaW4gcmVmKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZiwga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxOYW1lKCcnICsgdmFsIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIodGhpcy50ZXh0RXNjYXBlKCcnICsgdmFsIHx8ICcnKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jZGF0YSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgdmFsID0gdmFsLnJlcGxhY2UoJ11dPicsICddXV1dPjwhW0NEQVRBWz4nKTtcbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgaWYgKHZhbC5tYXRjaCgvLS0vKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb21tZW50IHRleHQgY2Fubm90IGNvbnRhaW4gZG91YmxlLWh5cGVuOiBcIiArIHZhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIodmFsKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmF0dFZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHRoaXMuYXR0RXNjYXBlKHZhbCA9ICcnICsgdmFsIHx8ICcnKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5pbnNUYXJnZXQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIoJycgKyB2YWwgfHwgJycpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuaW5zVmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICh2YWwubWF0Y2goL1xcPz4vKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gdmFsdWU6IFwiICsgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUueG1sVmVyc2lvbiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgaWYgKCF2YWwubWF0Y2goLzFcXC5bMC05XSsvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZlcnNpb24gbnVtYmVyOiBcIiArIHZhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUueG1sRW5jb2RpbmcgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICghdmFsLm1hdGNoKC9eW0EtWmEtel0oPzpbQS1aYS16MC05Ll8tXSkqJC8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZW5jb2Rpbmc6IFwiICsgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUueG1sU3RhbmRhbG9uZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIFwieWVzXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJub1wiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkUHViSUQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIoJycgKyB2YWwgfHwgJycpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkU3lzSUQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIoJycgKyB2YWwgfHwgJycpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkRWxlbWVudFZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKCcnICsgdmFsIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZEF0dFR5cGUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIoJycgKyB2YWwgfHwgJycpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkQXR0RGVmYXVsdCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcignJyArIHZhbCB8fCAnJyk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5kdGRFbnRpdHlWYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcignJyArIHZhbCB8fCAnJyk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5kdGRORGF0YSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcignJyArIHZhbCB8fCAnJyk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0QXR0S2V5ID0gJ0AnO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRQSUtleSA9ICc/JztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0VGV4dEtleSA9ICcjdGV4dCc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydENEYXRhS2V5ID0gJyNjZGF0YSc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydENvbW1lbnRLZXkgPSAnI2NvbW1lbnQnO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRSYXdLZXkgPSAnI3Jhdyc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXNzZXJ0TGVnYWxDaGFyID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgcmVnZXgsIHJlcztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9XG4gICAgICByZWdleCA9ICcnO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy52ZXJzaW9uID09PSAnMS4wJykge1xuICAgICAgICByZWdleCA9IC9bXFwwLVxceDA4XFx4MEJcXGZcXHgwRS1cXHgxRlxcdUZGRkVcXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXS87XG4gICAgICAgIGlmIChyZXMgPSBzdHIubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gc3RyaW5nOiBcIiArIHN0ciArIFwiIGF0IGluZGV4IFwiICsgcmVzLmluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMudmVyc2lvbiA9PT0gJzEuMScpIHtcbiAgICAgICAgcmVnZXggPSAvW1xcMFxcdUZGRkVcXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXS87XG4gICAgICAgIGlmIChyZXMgPSBzdHIubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gc3RyaW5nOiBcIiArIHN0ciArIFwiIGF0IGluZGV4IFwiICsgcmVzLmluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmFzc2VydExlZ2FsTmFtZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgdmFyIHJlZ2V4O1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub1ZhbGlkYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHN0cik7XG4gICAgICByZWdleCA9IC9eKFs6QS1aX2EtelxceEMwLVxceEQ2XFx4RDgtXFx4RjZcXHhGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQ1xcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdfFtcXHVEODAwLVxcdURCN0ZdW1xcdURDMDAtXFx1REZGRl0pKFtcXHgyRFxcLjAtOkEtWl9hLXpcXHhCN1xceEMwLVxceEQ2XFx4RDgtXFx4RjZcXHhGOC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQ1xcdTIwMERcXHUyMDNGXFx1MjA0MFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF18W1xcdUQ4MDAtXFx1REI3Rl1bXFx1REMwMC1cXHVERkZGXSkqJC87XG4gICAgICBpZiAoIXN0ci5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS50ZXh0RXNjYXBlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgYW1wcmVnZXg7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5vVmFsaWRhdGlvbikge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgfVxuICAgICAgYW1wcmVnZXggPSB0aGlzLm9wdGlvbnMubm9Eb3VibGVFbmNvZGluZyA/IC8oPyEmXFxTKzspJi9nIDogLyYvZztcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZShhbXByZWdleCwgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC9cXHIvZywgJyYjeEQ7Jyk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5hdHRFc2NhcGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciBhbXByZWdleDtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9XG4gICAgICBhbXByZWdleCA9IHRoaXMub3B0aW9ucy5ub0RvdWJsZUVuY29kaW5nID8gLyg/ISZcXFMrOykmL2cgOiAvJi9nO1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKGFtcHJlZ2V4LCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLnJlcGxhY2UoL1xcdC9nLCAnJiN4OTsnKS5yZXBsYWNlKC9cXG4vZywgJyYjeEE7JykucmVwbGFjZSgvXFxyL2csICcmI3hEOycpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyaW5naWZpZXI7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOb2RlVHlwZSwgWE1MQ2hhcmFjdGVyRGF0YSwgWE1MVGV4dCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTENoYXJhY3RlckRhdGEgPSByZXF1aXJlKCcuL1hNTENoYXJhY3RlckRhdGEnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFRleHQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxUZXh0LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTFRleHQocGFyZW50LCB0ZXh0KSB7XG4gICAgICBYTUxUZXh0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZWxlbWVudCB0ZXh0LiBcIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gXCIjdGV4dFwiO1xuICAgICAgdGhpcy50eXBlID0gTm9kZVR5cGUuVGV4dDtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS50ZXh0KHRleHQpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYTUxUZXh0LnByb3RvdHlwZSwgJ2lzRWxlbWVudENvbnRlbnRXaGl0ZXNwYWNlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBET00gbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cIiArIHRoaXMuZGVidWdJbmZvKCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhNTFRleHQucHJvdG90eXBlLCAnd2hvbGVUZXh0Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5leHQsIHByZXYsIHN0cjtcbiAgICAgICAgc3RyID0gJyc7XG4gICAgICAgIHByZXYgPSB0aGlzLnByZXZpb3VzU2libGluZztcbiAgICAgICAgd2hpbGUgKHByZXYpIHtcbiAgICAgICAgICBzdHIgPSBwcmV2LmRhdGEgKyBzdHI7XG4gICAgICAgICAgcHJldiA9IHByZXYucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSB0aGlzLmRhdGE7XG4gICAgICAgIG5leHQgPSB0aGlzLm5leHRTaWJsaW5nO1xuICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgIHN0ciA9IHN0ciArIG5leHQuZGF0YTtcbiAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgWE1MVGV4dC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxUZXh0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnRleHQodGhpcywgdGhpcy5vcHRpb25zLndyaXRlci5maWx0ZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgWE1MVGV4dC5wcm90b3R5cGUuc3BsaXRUZXh0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIFhNTFRleHQucHJvdG90eXBlLnJlcGxhY2VXaG9sZVRleHQgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIERPTSBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiICsgdGhpcy5kZWJ1Z0luZm8oKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxUZXh0O1xuXG4gIH0pKFhNTENoYXJhY3RlckRhdGEpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIE5vZGVUeXBlLCBXcml0ZXJTdGF0ZSwgWE1MQ0RhdGEsIFhNTENvbW1lbnQsIFhNTERUREF0dExpc3QsIFhNTERUREVsZW1lbnQsIFhNTERUREVudGl0eSwgWE1MRFRETm90YXRpb24sIFhNTERlY2xhcmF0aW9uLCBYTUxEb2NUeXBlLCBYTUxEdW1teSwgWE1MRWxlbWVudCwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBYTUxSYXcsIFhNTFRleHQsIFhNTFdyaXRlckJhc2UsIGFzc2lnbixcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgYXNzaWduID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuYXNzaWduO1xuXG4gIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9Ob2RlVHlwZScpO1xuXG4gIFhNTERlY2xhcmF0aW9uID0gcmVxdWlyZSgnLi9YTUxEZWNsYXJhdGlvbicpO1xuXG4gIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcblxuICBYTUxDRGF0YSA9IHJlcXVpcmUoJy4vWE1MQ0RhdGEnKTtcblxuICBYTUxDb21tZW50ID0gcmVxdWlyZSgnLi9YTUxDb21tZW50Jyk7XG5cbiAgWE1MRWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRWxlbWVudCcpO1xuXG4gIFhNTFJhdyA9IHJlcXVpcmUoJy4vWE1MUmF3Jyk7XG5cbiAgWE1MVGV4dCA9IHJlcXVpcmUoJy4vWE1MVGV4dCcpO1xuXG4gIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IHJlcXVpcmUoJy4vWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uJyk7XG5cbiAgWE1MRHVtbXkgPSByZXF1aXJlKCcuL1hNTER1bW15Jyk7XG5cbiAgWE1MRFREQXR0TGlzdCA9IHJlcXVpcmUoJy4vWE1MRFREQXR0TGlzdCcpO1xuXG4gIFhNTERUREVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTERUREVsZW1lbnQnKTtcblxuICBYTUxEVERFbnRpdHkgPSByZXF1aXJlKCcuL1hNTERUREVudGl0eScpO1xuXG4gIFhNTERURE5vdGF0aW9uID0gcmVxdWlyZSgnLi9YTUxEVEROb3RhdGlvbicpO1xuXG4gIFdyaXRlclN0YXRlID0gcmVxdWlyZSgnLi9Xcml0ZXJTdGF0ZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MV3JpdGVyQmFzZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxXcml0ZXJCYXNlKG9wdGlvbnMpIHtcbiAgICAgIHZhciBrZXksIHJlZiwgdmFsdWU7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHJlZiA9IG9wdGlvbnMud3JpdGVyIHx8IHt9O1xuICAgICAgZm9yIChrZXkgaW4gcmVmKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZiwga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICAgIHRoaXNbXCJfXCIgKyBrZXldID0gdGhpc1trZXldO1xuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxXcml0ZXJCYXNlLnByb3RvdHlwZS5maWx0ZXJPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGZpbHRlcmVkT3B0aW9ucywgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZWY2O1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICBmaWx0ZXJlZE9wdGlvbnMgPSB7XG4gICAgICAgIHdyaXRlcjogdGhpc1xuICAgICAgfTtcbiAgICAgIGZpbHRlcmVkT3B0aW9ucy5wcmV0dHkgPSBvcHRpb25zLnByZXR0eSB8fCBmYWxzZTtcbiAgICAgIGZpbHRlcmVkT3B0aW9ucy5hbGxvd0VtcHR5ID0gb3B0aW9ucy5hbGxvd0VtcHR5IHx8IGZhbHNlO1xuICAgICAgZmlsdGVyZWRPcHRpb25zLmluZGVudCA9IChyZWYgPSBvcHRpb25zLmluZGVudCkgIT0gbnVsbCA/IHJlZiA6ICcgICc7XG4gICAgICBmaWx0ZXJlZE9wdGlvbnMubmV3bGluZSA9IChyZWYxID0gb3B0aW9ucy5uZXdsaW5lKSAhPSBudWxsID8gcmVmMSA6ICdcXG4nO1xuICAgICAgZmlsdGVyZWRPcHRpb25zLm9mZnNldCA9IChyZWYyID0gb3B0aW9ucy5vZmZzZXQpICE9IG51bGwgPyByZWYyIDogMDtcbiAgICAgIGZpbHRlcmVkT3B0aW9ucy5kb250UHJldHR5VGV4dE5vZGVzID0gKHJlZjMgPSAocmVmNCA9IG9wdGlvbnMuZG9udFByZXR0eVRleHROb2RlcykgIT0gbnVsbCA/IHJlZjQgOiBvcHRpb25zLmRvbnRwcmV0dHl0ZXh0bm9kZXMpICE9IG51bGwgPyByZWYzIDogMDtcbiAgICAgIGZpbHRlcmVkT3B0aW9ucy5zcGFjZUJlZm9yZVNsYXNoID0gKHJlZjUgPSAocmVmNiA9IG9wdGlvbnMuc3BhY2VCZWZvcmVTbGFzaCkgIT0gbnVsbCA/IHJlZjYgOiBvcHRpb25zLnNwYWNlYmVmb3Jlc2xhc2gpICE9IG51bGwgPyByZWY1IDogJyc7XG4gICAgICBpZiAoZmlsdGVyZWRPcHRpb25zLnNwYWNlQmVmb3JlU2xhc2ggPT09IHRydWUpIHtcbiAgICAgICAgZmlsdGVyZWRPcHRpb25zLnNwYWNlQmVmb3JlU2xhc2ggPSAnICc7XG4gICAgICB9XG4gICAgICBmaWx0ZXJlZE9wdGlvbnMuc3VwcHJlc3NQcmV0dHlDb3VudCA9IDA7XG4gICAgICBmaWx0ZXJlZE9wdGlvbnMudXNlciA9IHt9O1xuICAgICAgZmlsdGVyZWRPcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuTm9uZTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZE9wdGlvbnM7XG4gICAgfTtcblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLmluZGVudCA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICB2YXIgaW5kZW50TGV2ZWw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJldHR5IHx8IG9wdGlvbnMuc3VwcHJlc3NQcmV0dHlDb3VudCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucHJldHR5KSB7XG4gICAgICAgIGluZGVudExldmVsID0gKGxldmVsIHx8IDApICsgb3B0aW9ucy5vZmZzZXQgKyAxO1xuICAgICAgICBpZiAoaW5kZW50TGV2ZWwgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBcnJheShpbmRlbnRMZXZlbCkuam9pbihvcHRpb25zLmluZGVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuZW5kbGluZSA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICBpZiAoIW9wdGlvbnMucHJldHR5IHx8IG9wdGlvbnMuc3VwcHJlc3NQcmV0dHlDb3VudCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5uZXdsaW5lO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxXcml0ZXJCYXNlLnByb3RvdHlwZS5hdHRyaWJ1dGUgPSBmdW5jdGlvbihhdHQsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHRoaXMub3BlbkF0dHJpYnV0ZShhdHQsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIHIgPSAnICcgKyBhdHQubmFtZSArICc9XCInICsgYXR0LnZhbHVlICsgJ1wiJztcbiAgICAgIHRoaXMuY2xvc2VBdHRyaWJ1dGUoYXR0LCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuY2RhdGEgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgdmFyIHI7XG4gICAgICB0aGlzLm9wZW5Ob2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5PcGVuVGFnO1xuICAgICAgciA9IHRoaXMuaW5kZW50KG5vZGUsIG9wdGlvbnMsIGxldmVsKSArICc8IVtDREFUQVsnO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkluc2lkZVRhZztcbiAgICAgIHIgKz0gbm9kZS52YWx1ZTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgIHIgKz0gJ11dPicgKyB0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk5vbmU7XG4gICAgICB0aGlzLmNsb3NlTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHRoaXMub3Blbk5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk9wZW5UYWc7XG4gICAgICByID0gdGhpcy5pbmRlbnQobm9kZSwgb3B0aW9ucywgbGV2ZWwpICsgJzwhLS0gJztcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5JbnNpZGVUYWc7XG4gICAgICByICs9IG5vZGUudmFsdWU7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICByICs9ICcgLS0+JyArIHRoaXMuZW5kbGluZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuTm9uZTtcbiAgICAgIHRoaXMuY2xvc2VOb2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxXcml0ZXJCYXNlLnByb3RvdHlwZS5kZWNsYXJhdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHRoaXMub3Blbk5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk9wZW5UYWc7XG4gICAgICByID0gdGhpcy5pbmRlbnQobm9kZSwgb3B0aW9ucywgbGV2ZWwpICsgJzw/eG1sJztcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5JbnNpZGVUYWc7XG4gICAgICByICs9ICcgdmVyc2lvbj1cIicgKyBub2RlLnZlcnNpb24gKyAnXCInO1xuICAgICAgaWYgKG5vZGUuZW5jb2RpbmcgIT0gbnVsbCkge1xuICAgICAgICByICs9ICcgZW5jb2Rpbmc9XCInICsgbm9kZS5lbmNvZGluZyArICdcIic7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5zdGFuZGFsb25lICE9IG51bGwpIHtcbiAgICAgICAgciArPSAnIHN0YW5kYWxvbmU9XCInICsgbm9kZS5zdGFuZGFsb25lICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgIHIgKz0gb3B0aW9ucy5zcGFjZUJlZm9yZVNsYXNoICsgJz8+JztcbiAgICAgIHIgKz0gdGhpcy5lbmRsaW5lKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5Ob25lO1xuICAgICAgdGhpcy5jbG9zZU5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLmRvY1R5cGUgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgdmFyIGNoaWxkLCBpLCBsZW4sIHIsIHJlZjtcbiAgICAgIGxldmVsIHx8IChsZXZlbCA9IDApO1xuICAgICAgdGhpcy5vcGVuTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuT3BlblRhZztcbiAgICAgIHIgPSB0aGlzLmluZGVudChub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICByICs9ICc8IURPQ1RZUEUgJyArIG5vZGUucm9vdCgpLm5hbWU7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICByICs9ICcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICByICs9ICcgWyc7XG4gICAgICAgIHIgKz0gdGhpcy5lbmRsaW5lKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkluc2lkZVRhZztcbiAgICAgICAgcmVmID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICAgICAgciArPSB0aGlzLndyaXRlQ2hpbGROb2RlKGNoaWxkLCBvcHRpb25zLCBsZXZlbCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgICAgciArPSAnXSc7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICByICs9IG9wdGlvbnMuc3BhY2VCZWZvcmVTbGFzaCArICc+JztcbiAgICAgIHIgKz0gdGhpcy5lbmRsaW5lKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5Ob25lO1xuICAgICAgdGhpcy5jbG9zZU5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgdmFyIGF0dCwgY2hpbGQsIGNoaWxkTm9kZUNvdW50LCBmaXJzdENoaWxkTm9kZSwgaSwgaiwgbGVuLCBsZW4xLCBuYW1lLCBwcmV0dHlTdXBwcmVzc2VkLCByLCByZWYsIHJlZjEsIHJlZjI7XG4gICAgICBsZXZlbCB8fCAobGV2ZWwgPSAwKTtcbiAgICAgIHByZXR0eVN1cHByZXNzZWQgPSBmYWxzZTtcbiAgICAgIHIgPSAnJztcbiAgICAgIHRoaXMub3Blbk5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk9wZW5UYWc7XG4gICAgICByICs9IHRoaXMuaW5kZW50KG5vZGUsIG9wdGlvbnMsIGxldmVsKSArICc8JyArIG5vZGUubmFtZTtcbiAgICAgIHJlZiA9IG5vZGUuYXR0cmlicztcbiAgICAgIGZvciAobmFtZSBpbiByZWYpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBuYW1lKSkgY29udGludWU7XG4gICAgICAgIGF0dCA9IHJlZltuYW1lXTtcbiAgICAgICAgciArPSB0aGlzLmF0dHJpYnV0ZShhdHQsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkTm9kZUNvdW50ID0gbm9kZS5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICBmaXJzdENoaWxkTm9kZSA9IGNoaWxkTm9kZUNvdW50ID09PSAwID8gbnVsbCA6IG5vZGUuY2hpbGRyZW5bMF07XG4gICAgICBpZiAoY2hpbGROb2RlQ291bnQgPT09IDAgfHwgbm9kZS5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiAoZS50eXBlID09PSBOb2RlVHlwZS5UZXh0IHx8IGUudHlwZSA9PT0gTm9kZVR5cGUuUmF3KSAmJiBlLnZhbHVlID09PSAnJztcbiAgICAgIH0pKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmFsbG93RW1wdHkpIHtcbiAgICAgICAgICByICs9ICc+JztcbiAgICAgICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICAgICAgciArPSAnPC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICAgICAgciArPSBvcHRpb25zLnNwYWNlQmVmb3JlU2xhc2ggKyAnLz4nICsgdGhpcy5lbmRsaW5lKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnByZXR0eSAmJiBjaGlsZE5vZGVDb3VudCA9PT0gMSAmJiAoZmlyc3RDaGlsZE5vZGUudHlwZSA9PT0gTm9kZVR5cGUuVGV4dCB8fCBmaXJzdENoaWxkTm9kZS50eXBlID09PSBOb2RlVHlwZS5SYXcpICYmIChmaXJzdENoaWxkTm9kZS52YWx1ZSAhPSBudWxsKSkge1xuICAgICAgICByICs9ICc+JztcbiAgICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkluc2lkZVRhZztcbiAgICAgICAgb3B0aW9ucy5zdXBwcmVzc1ByZXR0eUNvdW50Kys7XG4gICAgICAgIHByZXR0eVN1cHByZXNzZWQgPSB0cnVlO1xuICAgICAgICByICs9IHRoaXMud3JpdGVDaGlsZE5vZGUoZmlyc3RDaGlsZE5vZGUsIG9wdGlvbnMsIGxldmVsICsgMSk7XG4gICAgICAgIG9wdGlvbnMuc3VwcHJlc3NQcmV0dHlDb3VudC0tO1xuICAgICAgICBwcmV0dHlTdXBwcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgICAgciArPSAnPC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChvcHRpb25zLmRvbnRQcmV0dHlUZXh0Tm9kZXMpIHtcbiAgICAgICAgICByZWYxID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYxLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHJlZjFbaV07XG4gICAgICAgICAgICBpZiAoKGNoaWxkLnR5cGUgPT09IE5vZGVUeXBlLlRleHQgfHwgY2hpbGQudHlwZSA9PT0gTm9kZVR5cGUuUmF3KSAmJiAoY2hpbGQudmFsdWUgIT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5zdXBwcmVzc1ByZXR0eUNvdW50Kys7XG4gICAgICAgICAgICAgIHByZXR0eVN1cHByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgciArPSAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuSW5zaWRlVGFnO1xuICAgICAgICByZWYyID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHJlZjIubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgICAgY2hpbGQgPSByZWYyW2pdO1xuICAgICAgICAgIHIgKz0gdGhpcy53cml0ZUNoaWxkTm9kZShjaGlsZCwgb3B0aW9ucywgbGV2ZWwgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICAgIHIgKz0gdGhpcy5pbmRlbnQobm9kZSwgb3B0aW9ucywgbGV2ZWwpICsgJzwvJyArIG5vZGUubmFtZSArICc+JztcbiAgICAgICAgaWYgKHByZXR0eVN1cHByZXNzZWQpIHtcbiAgICAgICAgICBvcHRpb25zLnN1cHByZXNzUHJldHR5Q291bnQtLTtcbiAgICAgICAgfVxuICAgICAgICByICs9IHRoaXMuZW5kbGluZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5Ob25lO1xuICAgICAgfVxuICAgICAgdGhpcy5jbG9zZU5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLndyaXRlQ2hpbGROb2RlID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuQ0RhdGE6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2RhdGEobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgICBjYXNlIE5vZGVUeXBlLkNvbW1lbnQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWVudChub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuRWxlbWVudDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50KG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5SYXc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmF3KG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5UZXh0OlxuICAgICAgICAgIHJldHVybiB0aGlzLnRleHQobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgICBjYXNlIE5vZGVUeXBlLlByb2Nlc3NpbmdJbnN0cnVjdGlvbjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgICBjYXNlIE5vZGVUeXBlLkR1bW15OlxuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5EZWNsYXJhdGlvbjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5kZWNsYXJhdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuRG9jVHlwZTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5kb2NUeXBlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5BdHRyaWJ1dGVEZWNsYXJhdGlvbjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5kdGRBdHRMaXN0KG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5FbGVtZW50RGVjbGFyYXRpb246XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZHRkRWxlbWVudChub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICAgIGNhc2UgTm9kZVR5cGUuRW50aXR5RGVjbGFyYXRpb246XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZHRkRW50aXR5KG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5Ob3RhdGlvbkRlY2xhcmF0aW9uOlxuICAgICAgICAgIHJldHVybiB0aGlzLmR0ZE5vdGF0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIFhNTCBub2RlIHR5cGU6IFwiICsgbm9kZS5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUucHJvY2Vzc2luZ0luc3RydWN0aW9uID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgdGhpcy5vcGVuTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuT3BlblRhZztcbiAgICAgIHIgPSB0aGlzLmluZGVudChub2RlLCBvcHRpb25zLCBsZXZlbCkgKyAnPD8nO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkluc2lkZVRhZztcbiAgICAgIHIgKz0gbm9kZS50YXJnZXQ7XG4gICAgICBpZiAobm9kZS52YWx1ZSkge1xuICAgICAgICByICs9ICcgJyArIG5vZGUudmFsdWU7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICByICs9IG9wdGlvbnMuc3BhY2VCZWZvcmVTbGFzaCArICc/Pic7XG4gICAgICByICs9IHRoaXMuZW5kbGluZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuTm9uZTtcbiAgICAgIHRoaXMuY2xvc2VOb2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxXcml0ZXJCYXNlLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgdmFyIHI7XG4gICAgICB0aGlzLm9wZW5Ob2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5PcGVuVGFnO1xuICAgICAgciA9IHRoaXMuaW5kZW50KG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5JbnNpZGVUYWc7XG4gICAgICByICs9IG5vZGUudmFsdWU7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuQ2xvc2VUYWc7XG4gICAgICByICs9IHRoaXMuZW5kbGluZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuTm9uZTtcbiAgICAgIHRoaXMuY2xvc2VOb2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxXcml0ZXJCYXNlLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgdGhpcy5vcGVuTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuT3BlblRhZztcbiAgICAgIHIgPSB0aGlzLmluZGVudChub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuSW5zaWRlVGFnO1xuICAgICAgciArPSBub2RlLnZhbHVlO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkNsb3NlVGFnO1xuICAgICAgciArPSB0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk5vbmU7XG4gICAgICB0aGlzLmNsb3NlTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuZHRkQXR0TGlzdCA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHRoaXMub3Blbk5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk9wZW5UYWc7XG4gICAgICByID0gdGhpcy5pbmRlbnQobm9kZSwgb3B0aW9ucywgbGV2ZWwpICsgJzwhQVRUTElTVCc7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuSW5zaWRlVGFnO1xuICAgICAgciArPSAnICcgKyBub2RlLmVsZW1lbnROYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVOYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVUeXBlO1xuICAgICAgaWYgKG5vZGUuZGVmYXVsdFZhbHVlVHlwZSAhPT0gJyNERUZBVUxUJykge1xuICAgICAgICByICs9ICcgJyArIG5vZGUuZGVmYXVsdFZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICByICs9ICcgXCInICsgbm9kZS5kZWZhdWx0VmFsdWUgKyAnXCInO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkNsb3NlVGFnO1xuICAgICAgciArPSBvcHRpb25zLnNwYWNlQmVmb3JlU2xhc2ggKyAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk5vbmU7XG4gICAgICB0aGlzLmNsb3NlTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuZHRkRWxlbWVudCA9IGZ1bmN0aW9uKG5vZGUsIG9wdGlvbnMsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHRoaXMub3Blbk5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk9wZW5UYWc7XG4gICAgICByID0gdGhpcy5pbmRlbnQobm9kZSwgb3B0aW9ucywgbGV2ZWwpICsgJzwhRUxFTUVOVCc7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuSW5zaWRlVGFnO1xuICAgICAgciArPSAnICcgKyBub2RlLm5hbWUgKyAnICcgKyBub2RlLnZhbHVlO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkNsb3NlVGFnO1xuICAgICAgciArPSBvcHRpb25zLnNwYWNlQmVmb3JlU2xhc2ggKyAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk5vbmU7XG4gICAgICB0aGlzLmNsb3NlTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuZHRkRW50aXR5ID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgdGhpcy5vcGVuTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICBvcHRpb25zLnN0YXRlID0gV3JpdGVyU3RhdGUuT3BlblRhZztcbiAgICAgIHIgPSB0aGlzLmluZGVudChub2RlLCBvcHRpb25zLCBsZXZlbCkgKyAnPCFFTlRJVFknO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkluc2lkZVRhZztcbiAgICAgIGlmIChub2RlLnBlKSB7XG4gICAgICAgIHIgKz0gJyAlJztcbiAgICAgIH1cbiAgICAgIHIgKz0gJyAnICsgbm9kZS5uYW1lO1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgciArPSAnIFwiJyArIG5vZGUudmFsdWUgKyAnXCInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5vZGUucHViSUQgJiYgbm9kZS5zeXNJRCkge1xuICAgICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgICAgciArPSAnIFNZU1RFTSBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5uRGF0YSkge1xuICAgICAgICAgIHIgKz0gJyBOREFUQSAnICsgbm9kZS5uRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLkNsb3NlVGFnO1xuICAgICAgciArPSBvcHRpb25zLnNwYWNlQmVmb3JlU2xhc2ggKyAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgb3B0aW9ucy5zdGF0ZSA9IFdyaXRlclN0YXRlLk5vbmU7XG4gICAgICB0aGlzLmNsb3NlTm9kZShub2RlLCBvcHRpb25zLCBsZXZlbCk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuZHRkTm90YXRpb24gPSBmdW5jdGlvbihub2RlLCBvcHRpb25zLCBsZXZlbCkge1xuICAgICAgdmFyIHI7XG4gICAgICB0aGlzLm9wZW5Ob2RlKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5PcGVuVGFnO1xuICAgICAgciA9IHRoaXMuaW5kZW50KG5vZGUsIG9wdGlvbnMsIGxldmVsKSArICc8IU5PVEFUSU9OJztcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5JbnNpZGVUYWc7XG4gICAgICByICs9ICcgJyArIG5vZGUubmFtZTtcbiAgICAgIGlmIChub2RlLnB1YklEICYmIG5vZGUuc3lzSUQpIHtcbiAgICAgICAgciArPSAnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnB1YklEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIic7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuc3lzSUQpIHtcbiAgICAgICAgciArPSAnIFNZU1RFTSBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5DbG9zZVRhZztcbiAgICAgIHIgKz0gb3B0aW9ucy5zcGFjZUJlZm9yZVNsYXNoICsgJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUsIG9wdGlvbnMsIGxldmVsKTtcbiAgICAgIG9wdGlvbnMuc3RhdGUgPSBXcml0ZXJTdGF0ZS5Ob25lO1xuICAgICAgdGhpcy5jbG9zZU5vZGUobm9kZSwgb3B0aW9ucywgbGV2ZWwpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLm9wZW5Ob2RlID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHt9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuY2xvc2VOb2RlID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucywgbGV2ZWwpIHt9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUub3BlbkF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dCwgb3B0aW9ucywgbGV2ZWwpIHt9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuY2xvc2VBdHRyaWJ1dGUgPSBmdW5jdGlvbihhdHQsIG9wdGlvbnMsIGxldmVsKSB7fTtcblxuICAgIHJldHVybiBYTUxXcml0ZXJCYXNlO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgTm9kZVR5cGUsIFdyaXRlclN0YXRlLCBYTUxET01JbXBsZW1lbnRhdGlvbiwgWE1MRG9jdW1lbnQsIFhNTERvY3VtZW50Q0IsIFhNTFN0cmVhbVdyaXRlciwgWE1MU3RyaW5nV3JpdGVyLCBhc3NpZ24sIGlzRnVuY3Rpb24sIHJlZjtcblxuICByZWYgPSByZXF1aXJlKCcuL1V0aWxpdHknKSwgYXNzaWduID0gcmVmLmFzc2lnbiwgaXNGdW5jdGlvbiA9IHJlZi5pc0Z1bmN0aW9uO1xuXG4gIFhNTERPTUltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9YTUxET01JbXBsZW1lbnRhdGlvbicpO1xuXG4gIFhNTERvY3VtZW50ID0gcmVxdWlyZSgnLi9YTUxEb2N1bWVudCcpO1xuXG4gIFhNTERvY3VtZW50Q0IgPSByZXF1aXJlKCcuL1hNTERvY3VtZW50Q0InKTtcblxuICBYTUxTdHJpbmdXcml0ZXIgPSByZXF1aXJlKCcuL1hNTFN0cmluZ1dyaXRlcicpO1xuXG4gIFhNTFN0cmVhbVdyaXRlciA9IHJlcXVpcmUoJy4vWE1MU3RyZWFtV3JpdGVyJyk7XG5cbiAgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05vZGVUeXBlJyk7XG5cbiAgV3JpdGVyU3RhdGUgPSByZXF1aXJlKCcuL1dyaXRlclN0YXRlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMuY3JlYXRlID0gZnVuY3Rpb24obmFtZSwgeG1sZGVjLCBkb2N0eXBlLCBvcHRpb25zKSB7XG4gICAgdmFyIGRvYywgcm9vdDtcbiAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSb290IGVsZW1lbnQgbmVlZHMgYSBuYW1lLlwiKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IGFzc2lnbih7fSwgeG1sZGVjLCBkb2N0eXBlLCBvcHRpb25zKTtcbiAgICBkb2MgPSBuZXcgWE1MRG9jdW1lbnQob3B0aW9ucyk7XG4gICAgcm9vdCA9IGRvYy5lbGVtZW50KG5hbWUpO1xuICAgIGlmICghb3B0aW9ucy5oZWFkbGVzcykge1xuICAgICAgZG9jLmRlY2xhcmF0aW9uKG9wdGlvbnMpO1xuICAgICAgaWYgKChvcHRpb25zLnB1YklEICE9IG51bGwpIHx8IChvcHRpb25zLnN5c0lEICE9IG51bGwpKSB7XG4gICAgICAgIGRvYy5kdGQob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByb290O1xuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzLmJlZ2luID0gZnVuY3Rpb24ob3B0aW9ucywgb25EYXRhLCBvbkVuZCkge1xuICAgIHZhciByZWYxO1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICByZWYxID0gW29wdGlvbnMsIG9uRGF0YV0sIG9uRGF0YSA9IHJlZjFbMF0sIG9uRW5kID0gcmVmMVsxXTtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKG9uRGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBYTUxEb2N1bWVudENCKG9wdGlvbnMsIG9uRGF0YSwgb25FbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFhNTERvY3VtZW50KG9wdGlvbnMpO1xuICAgIH1cbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cy5zdHJpbmdXcml0ZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBYTUxTdHJpbmdXcml0ZXIob3B0aW9ucyk7XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMuc3RyZWFtV3JpdGVyID0gZnVuY3Rpb24oc3RyZWFtLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBYTUxTdHJlYW1Xcml0ZXIoc3RyZWFtLCBvcHRpb25zKTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cy5pbXBsZW1lbnRhdGlvbiA9IG5ldyBYTUxET01JbXBsZW1lbnRhdGlvbigpO1xuXG4gIG1vZHVsZS5leHBvcnRzLm5vZGVUeXBlID0gTm9kZVR5cGU7XG5cbiAgbW9kdWxlLmV4cG9ydHMud3JpdGVyU3RhdGUgPSBXcml0ZXJTdGF0ZTtcblxufSkuY2FsbCh0aGlzKTtcbiIsImltcG9ydCB7RGFtYWdlQXBwbGljYXRpb25EaWFsb2d9IGZyb20gXCIuLi9hcHBzL2RpYWxvZ3MvRGFtYWdlQXBwbGljYXRpb25EaWFsb2dcIjtcbmltcG9ydCB7U1I1QWN0b3J9IGZyb20gXCIuL1NSNUFjdG9yXCI7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuXG5leHBvcnQgY2xhc3MgRGFtYWdlQXBwbGljYXRpb25GbG93IHtcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIGZsb3cgdG8gYXBwbHkgZGFtYWdlIHRvIG11bHRpcGxlIGFjdG9ycyB3aXRoIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgKiBUaGlzIHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgY2hhbmdpbmcgdGhlIGRhbWFnZSB0eXBlIGlmIG5lY2Vzc2FyeVxuICAgICAqIEBwYXJhbSBhY3RvcnMgVGhlIGFjdG9ycyB0aGF0IGFyZSBhZmZlY3RlZFxuICAgICAqIEBwYXJhbSBkYW1hZ2UgVGhlIGRhbWFnZSB0aGUgYWN0b3JzIHdpbGwgcmVjZWl2ZVxuICAgICAqL1xuICAgIGFzeW5jIHJ1bkFwcGx5RGFtYWdlKGFjdG9yczogU1I1QWN0b3JbXSwgZGFtYWdlIDogRGFtYWdlRGF0YSkge1xuICAgICAgICAvLyBTaG93IHVzZXIgdGhlIGFmZmVjdGVkIGFjdG9ycyBhbmQgdGhlIGRhbWFnZSB2YWx1ZXNcbiAgICAgICAgY29uc3QgZGFtYWdlQXBwbGljYXRpb25EaWFsb2cgPSBhd2FpdCBuZXcgRGFtYWdlQXBwbGljYXRpb25EaWFsb2coYWN0b3JzLCBkYW1hZ2UpO1xuICAgICAgICBhd2FpdCBkYW1hZ2VBcHBsaWNhdGlvbkRpYWxvZy5zZWxlY3QoKTtcblxuICAgICAgICBpZiAoZGFtYWdlQXBwbGljYXRpb25EaWFsb2cuY2FuY2VsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFjdG9ycy5mb3JFYWNoKChhY3RvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseURhbWFnZVRvQWN0b3IoYWN0b3IsIGRhbWFnZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBBcHBseSBhbGwgdHlwZXMgb2YgZGFtYWdlIHRvIHRoZSBhY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYW1hZ2UgVGhlIGRhbWFnZSB0byBhcHBseS4gU3R1biBkYW1hZ2Ugd2lsbCBiZSB0dXJuZWQgdG8gcGh5c2ljYWwgZm9yIGdydW50cy5cbiAgICAgKi9cbiAgICBhc3luYyBhcHBseURhbWFnZVRvQWN0b3IoYWN0b3IgOiBTUjVBY3RvciwgZGFtYWdlOiBEYW1hZ2VEYXRhKSB7XG4gICAgICAgIGlmIChkYW1hZ2UudmFsdWUgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgY2hhbmdlIHRoZSBkYW1hZ2UgdHlwZSBmcm9tIHN0dW4gdG8gcGh5c2ljYWwgZm9yIGdydW50cyAodGhleSBkbyBub3QgaGF2ZSBhIHN0dW4gdHJhY2spXG4gICAgICAgIC8vIFdlIGFyZSBub3QgZG9pbmcgdGhpcyBlYXJsaWVyIGluIHRoZSBzb2FrIGZsb3cgdG8gYXZvaWQgY29uZnVzaW5nIHRoZSB1c2VyIFxuICAgICAgICBkYW1hZ2UgPSB0aGlzLmNoYW5nZVN0dW5Ub1BoeXNpY2FsRm9yR3J1bnRzKGFjdG9yLCBkYW1hZ2UpO1xuXG4gICAgICAgIC8vIEFwcGx5IGRhbWFnZSBhbmQgcmVzdWx0aW5nIG92ZXJmbG93IHRvIHRoZSBhY2NvcmRpbmcgdHJhY2suXG4gICAgICAgIC8vIFRoZSBhbW91bnQgYW5kIHR5cGUgZGFtYWdlIGNhbiB2YWx1ZSBpbiB0aGUgcHJvY2Vzcy5cbiAgICAgICAgaWYgKGRhbWFnZS50eXBlLnZhbHVlID09PSAnbWF0cml4Jykge1xuICAgICAgICAgICAgZGFtYWdlID0gYXdhaXQgYWN0b3IuYWRkTWF0cml4RGFtYWdlKGRhbWFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGFtYWdlLnR5cGUudmFsdWUgPT09ICdzdHVuJykge1xuICAgICAgICAgICAgZGFtYWdlID0gYXdhaXQgYWN0b3IuYWRkU3R1bkRhbWFnZShkYW1hZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhbWFnZS50eXBlLnZhbHVlID09PSAncGh5c2ljYWwnKSB7XG4gICAgICAgICAgICBhd2FpdCBhY3Rvci5hZGRQaHlzaWNhbERhbWFnZShkYW1hZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTk9URTogRm9yIHN0dWZmIGxpa2UgaGVhbGluZyB0aGUgbGFzdCB3b3VuZCBieSBtYWdpYywgaXQgbWlnaHQgYWxzbyBiZSBpbnRlcmVzdGluZyB0byBzdG9yZSBhbmQgZ2l2ZVxuICAgICAgICAvLyAgICAgICBhbiBvdmVydmlldyBvZiBlYWNoIGRhbWFnZS93b3VuZCBhcHBsaWVkIHRvIHNlbGVjdCBmcm9tLlxuICAgICAgICAvLyBhd2FpdCB0aGlzLnVwZGF0ZSh7J2RhdGEudHJhY2snOiB0aGlzLmRhdGEuZGF0YS50cmFja30pO1xuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgY2hhbmdlcyBpbiBhY3RvciBzdGF0dXMgKGRlYXRoIGFuZCBzdWNoKVxuICAgIH1cblxuICAgIHByaXZhdGUgY2hhbmdlU3R1blRvUGh5c2ljYWxGb3JHcnVudHMoYWN0b3IgOiBTUjVBY3RvciwgZGFtYWdlOiBEYW1hZ2VEYXRhKTogRGFtYWdlRGF0YSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWREYW1hZ2UgPSBkdXBsaWNhdGUoZGFtYWdlKTtcbiAgICAgICAgaWYgKCFhY3Rvci5pc0dydW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVkRGFtYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR3J1bnRzIGRvIG5vdCBoYXZlIGEgc3R1biB0cmFjayBhbmQgd2lsbCBhbHdheXMgcmVjZWl2ZSBwaHlzaWNhbCBkYW1hZ2UuXG4gICAgICAgIGlmIChkYW1hZ2UudHlwZS52YWx1ZSA9PT0gJ3N0dW4nKSB7XG4gICAgICAgICAgICB1cGRhdGVkRGFtYWdlLnR5cGUudmFsdWUgPSAncGh5c2ljYWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWREYW1hZ2U7XG4gICAgfVxufSIsImltcG9ydCB7U2hhZG93cnVuUm9sbCwgU2hhZG93cnVuUm9sbGVyfSBmcm9tICcuLi9yb2xscy9TaGFkb3dydW5Sb2xsZXInO1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7U1I1SXRlbX0gZnJvbSAnLi4vaXRlbS9TUjVJdGVtJztcbmltcG9ydCB7RkxBR1MsIFNLSUxMX0RFRkFVTFRfTkFNRSwgU1IsIFNZU1RFTV9OQU1FfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHtQYXJ0c0xpc3R9IGZyb20gJy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5pbXBvcnQge0FjdG9yUHJlcEZhY3Rvcnl9IGZyb20gJy4vcHJlcC9BY3RvclByZXBGYWN0b3J5JztcbmltcG9ydCB7U2hhZG93cnVuQWN0b3JEaWFsb2dzfSBmcm9tIFwiLi4vYXBwcy9kaWFsb2dzL1NoYWRvd3J1bkFjdG9yRGlhbG9nc1wiO1xuaW1wb3J0IHtjcmVhdGVSb2xsQ2hhdE1lc3NhZ2V9IGZyb20gXCIuLi9jaGF0XCI7XG5pbXBvcnQge1NSNUNvbWJhdH0gZnJvbSBcIi4uL2NvbWJhdC9TUjVDb21iYXRcIjtcbmltcG9ydCB7TW9kaWZpZXJzfSBmcm9tIFwiLi4vc3I1L01vZGlmaWVyc1wiO1xuaW1wb3J0IHtTb2FrRmxvd30gZnJvbSAnLi9Tb2FrRmxvdyc7XG5pbXBvcnQge0RlZmF1bHRWYWx1ZXN9IGZyb20gJy4uL2RhdGFUZW1wbGF0ZXMnO1xuaW1wb3J0IHtTa2lsbEZsb3d9IGZyb20gXCIuL1NraWxsRmxvd1wiO1xuaW1wb3J0IEFjdG9yUm9sbE9wdGlvbnMgPSBTaGFkb3dydW4uQWN0b3JSb2xsT3B0aW9ucztcbmltcG9ydCBEZWZlbnNlUm9sbE9wdGlvbnMgPSBTaGFkb3dydW4uRGVmZW5zZVJvbGxPcHRpb25zO1xuaW1wb3J0IFNvYWtSb2xsT3B0aW9ucyA9IFNoYWRvd3J1bi5Tb2FrUm9sbE9wdGlvbnM7XG5pbXBvcnQgQXR0cmlidXRlRmllbGQgPSBTaGFkb3dydW4uQXR0cmlidXRlRmllbGQ7XG5pbXBvcnQgU2tpbGxSb2xsT3B0aW9ucyA9IFNoYWRvd3J1bi5Ta2lsbFJvbGxPcHRpb25zO1xuaW1wb3J0IFNraWxsRmllbGQgPSBTaGFkb3dydW4uU2tpbGxGaWVsZDtcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XG5pbXBvcnQgTGltaXRGaWVsZCA9IFNoYWRvd3J1bi5MaW1pdEZpZWxkO1xuaW1wb3J0IFNSNUFjdG9yVHlwZSA9IFNoYWRvd3J1bi5TUjVBY3RvclR5cGU7XG5pbXBvcnQgRWRnZUF0dHJpYnV0ZUZpZWxkID0gU2hhZG93cnVuLkVkZ2VBdHRyaWJ1dGVGaWVsZDtcbmltcG9ydCBWZWhpY2xlQWN0b3JEYXRhID0gU2hhZG93cnVuLlZlaGljbGVBY3RvckRhdGE7XG5pbXBvcnQgVmVoaWNsZVN0YXQgPSBTaGFkb3dydW4uVmVoaWNsZVN0YXQ7XG5pbXBvcnQgQXR0cmlidXRlcyA9IFNoYWRvd3J1bi5BdHRyaWJ1dGVzO1xuaW1wb3J0IExpbWl0cyA9IFNoYWRvd3J1bi5MaW1pdHM7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuaW1wb3J0IFRyYWNrVHlwZSA9IFNoYWRvd3J1bi5UcmFja1R5cGU7XG5pbXBvcnQgT3ZlcmZsb3dUcmFja1R5cGUgPSBTaGFkb3dydW4uT3ZlcmZsb3dUcmFja1R5cGU7XG5pbXBvcnQgU3BlbGxEZWZlbnNlT3B0aW9ucyA9IFNoYWRvd3J1bi5TcGVsbERlZmVuc2VPcHRpb25zO1xuaW1wb3J0IE51bWJlck9yRW1wdHkgPSBTaGFkb3dydW4uTnVtYmVyT3JFbXB0eTtcbmltcG9ydCBDaGFyYWN0ZXJBY3RvckRhdGEgPSBTaGFkb3dydW4uQ2hhcmFjdGVyQWN0b3JEYXRhO1xuaW1wb3J0IFNSNVZlaGljbGVUeXBlID0gU2hhZG93cnVuLlNSNVZlaGljbGVUeXBlO1xuaW1wb3J0IFZlaGljbGVTdGF0cyA9IFNoYWRvd3J1bi5WZWhpY2xlU3RhdHM7XG5pbXBvcnQgU1I1Q2hhcmFjdGVyVHlwZSA9IFNoYWRvd3J1bi5TUjVDaGFyYWN0ZXJUeXBlO1xuaW1wb3J0IEFjdG9yQXJtb3JEYXRhID0gU2hhZG93cnVuLkFjdG9yQXJtb3JEYXRhO1xuaW1wb3J0IENvbmRpdGlvbkRhdGEgPSBTaGFkb3dydW4uQ29uZGl0aW9uRGF0YTtcbmltcG9ydCBTUjVTcGlyaXRUeXBlID0gU2hhZG93cnVuLlNSNVNwaXJpdFR5cGU7XG5pbXBvcnQgU1I1U3ByaXRlVHlwZSA9IFNoYWRvd3J1bi5TUjVTcHJpdGVUeXBlO1xuaW1wb3J0IFNSNUNyaXR0ZXJUeXBlID0gU2hhZG93cnVuLlNSNUNyaXR0ZXJUeXBlO1xuaW1wb3J0IFNSNUFjdG9yRGF0YSA9IFNoYWRvd3J1bi5TUjVBY3RvckRhdGE7XG5pbXBvcnQgU2tpbGxzID0gU2hhZG93cnVuLlNraWxscztcbmltcG9ydCB7U2tpbGxSdWxlc30gZnJvbSBcIi4vU2tpbGxSdWxlc1wiO1xuaW1wb3J0IHsgU29ha1J1bGVzIH0gZnJvbSAnLi9Tb2FrUnVsZXMnO1xuXG5leHBvcnQgY2xhc3MgU1I1QWN0b3IgZXh0ZW5kcyBBY3RvcjxTUjVBY3RvckRhdGE+IHtcbiAgICAvLyBOT1RFOiBPdmVyd3JpdGUgQWN0b3IuZGF0YSBhZGRpdGlvbmFsbHkgdG8gZXh0ZW5kcyBBY3RvcjxUIGFzIFNSNUFjdG9ydHlwZS5EYXRhOiBTUjVBY3RvckRhdGE+IHRvIHN0aWxsIGhhdmVcbiAgICAvLyAgICAgICBhY2Nlc3MgdG8gQWN0b3IuZGF0YS50eXBlIGNoZWNrcy5cbiAgICBkYXRhOiBTUjVBY3RvclR5cGU7XG5cbiAgICBnZXRPdmVyd2F0Y2hTY29yZSgpIHtcbiAgICAgICAgY29uc3Qgb3MgPSB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdvdmVyd2F0Y2hTY29yZScpO1xuICAgICAgICByZXR1cm4gb3MgIT09IHVuZGVmaW5lZCA/IG9zIDogMDtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRPdmVyd2F0Y2hTY29yZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNOYU4obnVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ292ZXJ3YXRjaFNjb3JlJywgbnVtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZXBhcmVEYXRhKCkge1xuICAgICAgICBzdXBlci5wcmVwYXJlRGF0YSgpO1xuXG4gICAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IHRoaXMuZGF0YSBhcyBTUjVBY3RvclR5cGU7XG4gICAgICAgIGNvbnN0IHByZXBwZXIgPSBBY3RvclByZXBGYWN0b3J5LkNyZWF0ZShhY3RvckRhdGEpO1xuICAgICAgICBpZiAocHJlcHBlcikge1xuICAgICAgICAgICAgcHJlcHBlci5wcmVwYXJlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRNb2RpZmllcihtb2RpZmllck5hbWU6IHN0cmluZyk6IE51bWJlck9yRW1wdHkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEubW9kaWZpZXJzW21vZGlmaWVyTmFtZV07XG4gICAgfVxuXG4gICAgZmluZEFjdGl2ZVNraWxsKHNraWxsTmFtZT86IHN0cmluZyk6IFNraWxsRmllbGQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoc2tpbGxOYW1lID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFNlYXJjaCBmb3IgbGVnYWN5IHNraWxscyB3aXRoIHRoZWlyIG5hbWUgYXMgaWQuXG4gICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5kYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZVtza2lsbE5hbWVdO1xuICAgICAgICBpZiAoc2tpbGwpIHJldHVybiBza2lsbDtcbiAgICAgICAgLy8gU2VhcmNoIGZvciBjdXN0b20gc2tpbGxzIHdpdGggYSByYW5kb20gaWQuXG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuZGF0YS5kYXRhLnNraWxscy5hY3RpdmUpLmZpbmQoc2tpbGwgPT4gc2tpbGwubmFtZSA9PT0gc2tpbGxOYW1lKTtcbiAgICB9XG5cbiAgICBmaW5kQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU/OiBzdHJpbmcpOiBBdHRyaWJ1dGVGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgIH1cblxuICAgIGZpbmRWZWhpY2xlU3RhdChzdGF0TmFtZT86IHN0cmluZyk6IFZlaGljbGVTdGF0IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHN0YXROYW1lID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCB2ZWhpY2xlU3RhdHMgPSB0aGlzLmdldFZlaGljbGVTdGF0cygpO1xuICAgICAgICBpZiAodmVoaWNsZVN0YXRzKVxuICAgICAgICAgICAgcmV0dXJuIHZlaGljbGVTdGF0c1tzdGF0TmFtZV07XG4gICAgfVxuXG4gICAgZmluZExpbWl0RnJvbUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lPzogc3RyaW5nKTogTGltaXRGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuZmluZEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGU/LmxpbWl0KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGltaXQoYXR0cmlidXRlLmxpbWl0KTtcbiAgICB9XG5cbiAgICBmaW5kTGltaXQobGltaXROYW1lPzogc3RyaW5nKTogTGltaXRGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghbGltaXROYW1lKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEubGltaXRzW2xpbWl0TmFtZV07XG4gICAgfVxuXG4gICAgZ2V0V291bmRNb2RpZmllcigpOiBudW1iZXIge1xuICAgICAgICBpZiAoIShcIndvdW5kc1wiIGluIHRoaXMuZGF0YS5kYXRhKSkgcmV0dXJuIDA7XG4gICAgICAgIHJldHVybiAtMSAqIHRoaXMuZGF0YS5kYXRhLndvdW5kcy52YWx1ZSB8fCAwO1xuICAgIH1cblxuICAgIC8qKiBVc2UgZWRnZSBvbiBhY3RvcnMgdGhhdCBoYXZlIGFuIGVkZ2UgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogTk9URTogVGhpcyBkb2Vzbid0IG9ubHkgaW5jbHVkZSBjaGFyYWN0ZXJzIGJ1dCBzcGlyaXRzLCBjcml0dGVycyBhbmQgbW9yZS5cbiAgICAgKi9cbiAgICBhc3luYyB1c2VFZGdlKGJ5OiBudW1iZXIgPSAtMSkge1xuICAgICAgICBjb25zdCBlZGdlID0gdGhpcy5nZXRFZGdlKCk7XG4gICAgICAgIGlmIChlZGdlICYmIGVkZ2UudmFsdWUgPT09IDApIHJldHVybjtcbiAgICAgICAgLy8gTk9URTogVGhlcmUgdXNlZCB0byBiZSBhIGJ1ZyB3aGljaCBjb3VsZCBsb3dlciBlZGdlIHVzYWdlIGJlbG93IHplcm8uIExldCdzIHF1aWV0bHkgaWdub3JlIGFuZCByZXNldC4gOilcbiAgICAgICAgY29uc3QgdXNlc0xlZnQgPSBlZGdlLnVzZXMgPiAwID8gZWRnZS51c2VzIDogMDtcbiAgICAgICAgY29uc3QgdXNlcyA9IE1hdGgubWluKGVkZ2UudmFsdWUsIHVzZXNMZWZ0ICsgYnkpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsnZGF0YS5hdHRyaWJ1dGVzLmVkZ2UudXNlcyc6IHVzZXN9KTtcbiAgICB9XG5cbiAgICBnZXRFZGdlKCk6IEVkZ2VBdHRyaWJ1dGVGaWVsZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLmVkZ2U7XG4gICAgfVxuXG4gICAgaGFzQXJtb3IoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBcImFybW9yXCIgaW4gdGhpcy5kYXRhLmRhdGE7XG4gICAgfVxuXG4gICAgZ2V0QXJtb3IoKTogQWN0b3JBcm1vckRhdGEge1xuICAgICAgICBpZiAoXCJhcm1vclwiIGluIHRoaXMuZGF0YS5kYXRhKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmFybW9yO1xuXG4gICAgICAgIHJldHVybiBEZWZhdWx0VmFsdWVzLmFjdG9yQXJtb3JEYXRhKCk7XG4gICAgfVxuXG4gICAgZ2V0T3duZWRTUjVJdGVtKGl0ZW1JZDogc3RyaW5nKTogU1I1SXRlbSB8IG51bGwge1xuICAgICAgICByZXR1cm4gKHN1cGVyLmdldE93bmVkSXRlbShpdGVtSWQpIGFzIHVua25vd24pIGFzIFNSNUl0ZW07XG4gICAgfVxuXG4gICAgZ2V0TWF0cml4RGV2aWNlKCk6IFNSNUl0ZW0gfCB1bmRlZmluZWQgfCBudWxsIHtcbiAgICAgICAgaWYgKCEoXCJtYXRyaXhcIiBpbiB0aGlzLmRhdGEuZGF0YSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdGhpcy5kYXRhLmRhdGEubWF0cml4O1xuICAgICAgICBpZiAobWF0cml4LmRldmljZSkgcmV0dXJuIHRoaXMuZ2V0T3duZWRTUjVJdGVtKG1hdHJpeC5kZXZpY2UpO1xuICAgIH1cblxuICAgIGdldEZ1bGxEZWZlbnNlQXR0cmlidXRlKCk6IEF0dHJpYnV0ZUZpZWxkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWZWhpY2xlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRWZWhpY2xlU3RhdCgncGlsb3QnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQ2hhcmFjdGVyKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IHRoaXMuYXNDaGFyYWN0ZXJEYXRhKCk7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGF0dCA9IGNoYXJhY3Rlci5kYXRhLmZ1bGxfZGVmZW5zZV9hdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgaWYgKCFhdHQpIGF0dCA9ICd3aWxscG93ZXInO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRBdHRyaWJ1dGUoYXR0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEVxdWlwcGVkV2VhcG9ucygpOiBTUjVJdGVtW10ge1xuICAgICAgICAvLyBAdHMtaWdub3JlIC8vIFRPRE86IEhvdyB0byBkZWZpbmUgU1I1QWN0b3IuaXRlbXMgYXMgU1I1SXRlbVtdP1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoKGl0ZW06IFNSNUl0ZW0pID0+IGl0ZW0uaXNFcXVpcHBlZCgpICYmIGl0ZW0uaXNXZWFwb24oKSk7XG4gICAgfVxuXG4gICAgZ2V0UmVjb2lsQ29tcGVuc2F0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIGxldCB0b3RhbCA9IDE7IC8vIGFsd2F5cyBnZXQgMVxuICAgICAgICBjb25zdCBzdHJlbmd0aCA9IHRoaXMuZmluZEF0dHJpYnV0ZSgnc3RyZW5ndGgnKTtcbiAgICAgICAgaWYgKHN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB0b3RhbCArPSBNYXRoLmNlaWwoc3RyZW5ndGgudmFsdWUgLyAzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgfVxuXG4gICAgZ2V0RGV2aWNlUmF0aW5nKCk6IG51bWJlciB7XG4gICAgICAgIGlmICghKFwibWF0cml4XCIgaW4gdGhpcy5kYXRhLmRhdGEpKSByZXR1cm4gMDtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAvLyBwYXJzZUludCBkb2VzIGluZGVlZCBhbGxvdyBudW1iZXIgdHlwZXMuXG4gICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmRhdGEuZGF0YS5tYXRyaXgucmF0aW5nKTtcbiAgICB9XG5cbiAgICBnZXRBdHRyaWJ1dGVzKCk6IEF0dHJpYnV0ZXMge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlcztcbiAgICB9XG5cbiAgICBnZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nKTogQXR0cmlidXRlRmllbGQge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gdGhpcy5nZXRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzW25hbWVdO1xuICAgIH1cblxuICAgIGdldExpbWl0cygpOiBMaW1pdHMge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEubGltaXRzO1xuICAgIH1cblxuICAgIGdldExpbWl0KG5hbWU6IHN0cmluZyk6IExpbWl0RmllbGQge1xuICAgICAgICBjb25zdCBsaW1pdHMgPSB0aGlzLmdldExpbWl0cygpO1xuICAgICAgICByZXR1cm4gbGltaXRzW25hbWVdO1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gYWN0b3IgdHlwZSwgd2hpY2ggY2FuIGJlIGRpZmZlcmVudCBraW5kIG9mIGFjdG9ycyBmcm9tICdjaGFyYWN0ZXInIHRvICd2ZWhpY2xlJy5cbiAgICAgKiAgUGxlYXNlIGNoZWNrIFNSNUFjdG9yVHlwZSBmb3IgcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIGdldFR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlO1xuICAgIH1cblxuICAgIGlzQ2hhcmFjdGVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlKCkgPT09ICdjaGFyYWN0ZXInO1xuICAgIH1cblxuICAgIGlzU3Bpcml0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlKCkgPT09ICdzcGlyaXQnO1xuICAgIH1cblxuICAgIGlzU3ByaXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlKCkgPT09ICdzcHJpdGUnO1xuICAgIH1cblxuICAgIGlzVmVoaWNsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZSgpID09PSAndmVoaWNsZSc7XG4gICAgfVxuXG4gICAgaXNHcnVudCgpIHtcbiAgICAgICAgaWYgKCEoXCJpc19ucGNcIiBpbiB0aGlzLmRhdGEuZGF0YSkgfHwgIShcIm5wY1wiIGluIHRoaXMuZGF0YS5kYXRhKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5pc19ucGMgJiYgdGhpcy5kYXRhLmRhdGEubnBjLmlzX2dydW50O1xuICAgIH1cblxuICAgIGlzQ3JpdHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZSgpID09PSAnY3JpdHRlcic7XG4gICAgfVxuXG4gICAgZ2V0VmVoaWNsZVR5cGVTa2lsbE5hbWUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCEoXCJ2ZWhpY2xlVHlwZVwiIGluIHRoaXMuZGF0YS5kYXRhKSkgcmV0dXJuO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5kYXRhLmRhdGEudmVoaWNsZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Fpcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdwaWxvdF9haXJjcmFmdCc7XG4gICAgICAgICAgICBjYXNlICdncm91bmQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAncGlsb3RfZ3JvdW5kX2NyYWZ0JztcbiAgICAgICAgICAgIGNhc2UgJ3dhdGVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3BpbG90X3dhdGVyX2NyYWZ0JztcbiAgICAgICAgICAgIGNhc2UgJ2Flcm9zcGFjZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdwaWxvdF9hZXJvc3BhY2UnO1xuICAgICAgICAgICAgY2FzZSAnd2Fsa2VyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3BpbG90X3dhbGtlcic7XG4gICAgICAgICAgICBjYXNlICdleG90aWMnOlxuICAgICAgICAgICAgICAgIHJldHVybidwaWxvdF9leG90aWNfdmVoaWNsZSc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFZlaGljbGVUeXBlU2tpbGwoKTogU2tpbGxGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzVmVoaWNsZSgpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0VmVoaWNsZVR5cGVTa2lsbE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEFjdGl2ZVNraWxsKG5hbWUpO1xuICAgIH1cblxuICAgIGdldFNraWxscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLnNraWxscztcbiAgICB9XG4gICAgZ2V0QWN0aXZlU2tpbGxzKCk6IFNraWxscyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5za2lsbHMuYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZnVsbCBwb29sIG9mIGEgc2tpbGwgaW5jbHVkaW5nIGF0dHJpYnV0ZSBhbmQgcG9zc2libGUgc3BlY2lhbGl6YXRpb24gYm9udXMuXG4gICAgICogQHBhcmFtIHNraWxsSWQgVGhlIElEIG9mIHRoZSBza2lsbC4gTm90ZSB0aGF0IHRoaXMgY2FuIGRpZmZlciBmcm9tIHdoYXQgaXMgc2hvd24gaW4gdGhlIHNraWxsIGxpc3QuIElmIHlvdSdyZVxuICAgICAqICAgICAgICAgICAgICAgIHVuc3VyZSBhYm91dCB0aGUgaWQgYW5kIHdhbnQgdG8gc2VhcmNoXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQW4gb2JqZWN0IHRvIGNoYW5nZSB0aGUgYmVoYXZpb3VyLlxuICAgICAqICAgICAgICAgICAgICAgIFRoZSBwcm9wZXJ0eSBzcGVjaWFsaXphdGlvbiB3aWxsIHRyaWdnZXIgdGhlIHBvb2wgdmFsdWUgdG8gYmUgcmFpc2VkIGJ5IGEgc3BlY2lhbGl6YXRpb24gbW9kaWZpZXJcbiAgICAgKiAgICAgICAgICAgICAgICBUaGUgcHJvcGVydHkgYnlMYmFsZSB3aWxsIGNhdXNlIHRoZSBwYXJhbSBza2lsbElkIHRvIGJlIGludGVycHJldGVkIGFzIHRoZSBzaG93biBpMThuIGxhYmVsLlxuICAgICAqL1xuICAgIGdldFBvb2woc2tpbGxJZDogc3RyaW5nLCBvcHRpb25zPSB7c3BlY2lhbGl6YXRpb246IGZhbHNlLCBieUxhYmVsOiBmYWxzZX0pOiBudW1iZXIge1xuICAgICAgICBjb25zdCBza2lsbCA9IG9wdGlvbnMuYnlMYWJlbCA/IHRoaXMuZ2V0U2tpbGxCeUxhYmVsKHNraWxsSWQpIDogdGhpcy5nZXRTa2lsbChza2lsbElkKTtcbiAgICAgICAgaWYgKCFza2lsbCB8fCAhc2tpbGwuYXR0cmlidXRlKSByZXR1cm4gMDtcbiAgICAgICAgaWYgKCFTa2lsbEZsb3cuYWxsb3dSb2xsKHNraWxsKSkgcmV0dXJuIDA7XG5cbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gdGhpcy5nZXRBdHRyaWJ1dGUoc2tpbGwuYXR0cmlidXRlKTtcblxuICAgICAgICAvLyBBbiBhdHRyaWJ1dGUgY2FuIGhhdmUgYSBOYU4gdmFsdWUgaWYgbm8gdmFsdWUgaGFzIGJlZW4gc2V0IHlldC4gRG8gdGhlIHNraWxsIGZvciBjb25zaXN0ZW5jeS5cbiAgICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSB0eXBlb2YgYXR0cmlidXRlLnZhbHVlID09PSAnbnVtYmVyJyA/IGF0dHJpYnV0ZS52YWx1ZSA6IDA7XG4gICAgICAgIGNvbnN0IHNraWxsVmFsdWUgPSB0eXBlb2Ygc2tpbGwudmFsdWUgPT09ICdudW1iZXInID8gc2tpbGwudmFsdWUgOiAwO1xuXG4gICAgICAgIGlmIChTa2lsbFJ1bGVzLm11c3REZWZhdWx0VG9Sb2xsKHNraWxsKSAmJiBTa2lsbFJ1bGVzLmFsbG93RGVmYXVsdGluZ1JvbGwoc2tpbGwpKSB7XG4gICAgICAgICAgICByZXR1cm4gU2tpbGxSdWxlcy5nZXREZWZhdWx0aW5nTW9kaWZpZXIoKSArIGF0dHJpYnV0ZVZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3BlY2lhbGl6YXRpb25Cb251cyA9IG9wdGlvbnMuc3BlY2lhbGl6YXRpb24gPyBTUi5za2lsbC5TUEVDSUFMSVpBVElPTl9NT0RJRklFUiA6IDA7XG4gICAgICAgIHJldHVybiBza2lsbFZhbHVlICsgYXR0cmlidXRlVmFsdWUgKyBzcGVjaWFsaXphdGlvbkJvbnVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBza2lsbCBlaXRoZXIgYnkgaWQgb3IgbGFiZWwuXG4gICAgICpcbiAgICAgKiBTa2lsbHMgYXJlIG1hcHBlZCBieSBhbiBpZCwgd2hpY2ggY2FuIGJlIGEgZWl0aGVyIGEgbG93ZXIgY2FzZSBuYW1lIChsZWdhY3kgc2tpbGxzKSBvciBhIHNob3J0IHVpZCAoY3VzdG9tLCBsYW5ndWFnZSwga25vd2xlZGdlKS5cbiAgICAgKiBMZWdhY3kgc2tpbGxzIHVzZSB0aGVpciBuYW1lIGFzIHRoZSBpZCwgd2hpbGUgbm90IGhhdmluZyBhIG5hbWUgc2V0IG9uIHRoZSBTa2lsbEZpZWxkLlxuICAgICAqIEN1c3RvbSBza2lsbHMgdXNlIGFuIGlkIGFuZCBoYXZlIHRoZWlyIG5hbWUgc2V0LCBob3dldmVyIG5vIGxhYmVsLiBUaGlzIGdvZXMgZm9yIGFjdGl2ZSwgbGFuZ3VhZ2UgYW5kIGtub3dsZWRnZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IE5vcm1hbGl6aW5nIHNraWxsIG1hcHBpbmcgZnJvbSBhY3RpdmUsIGxhbmd1YWdlIGFuZCBrbm93bGVkZ2UgdG8gYSBzaW5nbGUgc2tpbGxzIHdpdGggYSB0eXBlIHByb3BlcnR5IHdvdWxkXG4gICAgICogICAgICAgY2xlYXIgdGhpcyBmdW5jdGlvbiB1cC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBFaXRoZXIgdGhlIHNlYXJjaGVkIGlkLCBuYW1lIG9yIHRyYW5zbGF0ZWQgbGFiZWwgb2YgYSBza2lsbFxuICAgICAqIEBwYXJhbSBvcHRpb25zIC5ieUxhYmVsIHdoZW4gdHJ1ZSBzZWFyY2ggd2lsbCB0cnkgdG8gbWF0Y2ggZ2l2ZW4gc2tpbGxJZCB3aXRoIHRoZSB0cmFuc2xhdGVkIGxhYmVsXG4gICAgICovXG4gICAgZ2V0U2tpbGwoaWQ6IHN0cmluZywgb3B0aW9ucz0ge2J5TGFiZWw6IGZhbHNlfSk6IFNraWxsRmllbGQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAob3B0aW9ucy5ieUxhYmVsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2tpbGxCeUxhYmVsKGlkKTtcblxuICAgICAgICBjb25zdCB7IHNraWxscyB9ID0gdGhpcy5kYXRhLmRhdGE7XG5cbiAgICAgICAgLy8gRmluZCBza2lsbCBieSBkaXJlY3QgaWQgdG8ga2V5IG1hdGNoaW5nLlxuICAgICAgICBpZiAoc2tpbGxzLmFjdGl2ZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBza2lsbHMuYWN0aXZlW2lkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpbGxzLmxhbmd1YWdlLnZhbHVlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNraWxscy5sYW5ndWFnZS52YWx1ZVtpZF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gS25vd2xlZGdlIHNraWxscyBhcmUgZGUtbm9ybWFsaXplZCBpbnRvIGNhdGVnb3JpZXMgKHN0cmVldCwgaG9iYnksIC4uLilcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeUtleSBpbiBza2lsbHMua25vd2xlZGdlKSB7XG4gICAgICAgICAgICBpZiAoc2tpbGxzLmtub3dsZWRnZS5oYXNPd25Qcm9wZXJ0eShjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHNraWxscy5rbm93bGVkZ2VbY2F0ZWdvcnlLZXldO1xuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS52YWx1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5LnZhbHVlW2lkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggYWxsIHNraWxscyBmb3IgYSBtYXRjaGluZyBpMThuIHRyYW5zbGF0aW9uIGxhYmVsLlxuICAgICAqIE5PVEU6IFlvdSBzaG91bGQgdXNlIGdldFNraWxsIGlmIHlvdSBoYXZlIHRoZSBza2lsbElkIHJlYWR5LiBPbmx5IHVzZSB0aGlzIGZvciBlYXNlIG9mIHVzZSFcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzZWFyY2hlZEZvciBUaGUgdHJhbnNsYXRlZCBvdXRwdXQgb2YgZWl0aGVyIHRoZSBza2lsbCBsYWJlbCAoYWZ0ZXIgbG9jYWxpemUpIG9yIG5hbWUgb2YgdGhlIHNraWxsIGluIHF1ZXN0aW9uLlxuICAgICAqIEByZXR1cm4gVGhlIGZpcnN0IHNraWxsIGZvdW5kIHdpdGggYSBtYXRjaGluZyB0cmFuc2xhdGlvbiBvciBuYW1lLlxuICAgICAqL1xuICAgIGdldFNraWxsQnlMYWJlbChzZWFyY2hlZEZvcjogc3RyaW5nKTogU2tpbGxGaWVsZHx1bmRlZmluZWQge1xuICAgICAgICBpZiAoIXNlYXJjaGVkRm9yKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcG9zc2libGVNYXRjaCA9IChza2lsbDogU2tpbGxGaWVsZCk6IHN0cmluZyA9PiAgc2tpbGwubGFiZWwgPyBnYW1lLmkxOG4ubG9jYWxpemUoc2tpbGwubGFiZWwpIDogc2tpbGwubmFtZTtcblxuICAgICAgICBjb25zdCB7c2tpbGxzfSA9IHRoaXMuZGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgT2JqZWN0LnZhbHVlcyhza2lsbHMuYWN0aXZlKSkge1xuICAgICAgICAgICAgaWYgKHNlYXJjaGVkRm9yID09PSBwb3NzaWJsZU1hdGNoKHNraWxsKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2tpbGw7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIE9iamVjdC52YWx1ZXMoc2tpbGxzLmxhbmd1YWdlLnZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHNlYXJjaGVkRm9yID09PSBwb3NzaWJsZU1hdGNoKHNraWxsKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2tpbGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYWxsIGRpZmZlcmVudCBrbm93bGVkZ2Ugc2tpbGwgY2F0ZWdvcmllc1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHNraWxscy5rbm93bGVkZ2UpIHtcbiAgICAgICAgICAgIGlmICghc2tpbGxzLmtub3dsZWRnZS5oYXNPd25Qcm9wZXJ0eShjYXRlZ29yeUtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gVHlwZXNjcmlwdCBjYW4ndCBmb2xsb3cgdGhlIGZsb3cgaGVyZS4uLlxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlTa2lsbHMgPSBza2lsbHMua25vd2xlZGdlW2NhdGVnb3J5S2V5XS52YWx1ZSBhcyBTa2lsbEZpZWxkW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIE9iamVjdC52YWx1ZXMoY2F0ZWdvcnlTa2lsbHMpICkge1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hlZEZvciA9PT0gcG9zc2libGVNYXRjaChza2lsbCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBza2lsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFNraWxsTGFiZWwoc2tpbGxJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmdldFNraWxsKHNraWxsSWQpO1xuICAgICAgICBpZiAoIXNraWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2tpbGwubGFiZWwgPyBza2lsbC5sYWJlbCA6IHNraWxsLm5hbWUgPyBza2lsbC5uYW1lIDogJyc7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkS25vd2xlZGdlU2tpbGwoY2F0ZWdvcnksIHNraWxsPyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTa2lsbCA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgc3BlY3M6IFtdLFxuICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICB9O1xuICAgICAgICBza2lsbCA9IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRTa2lsbCxcbiAgICAgICAgICAgIC4uLnNraWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGlkID0gcmFuZG9tSUQoMTYpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHt9O1xuICAgICAgICB2YWx1ZVtpZF0gPSBza2lsbDtcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gYGRhdGEuc2tpbGxzLmtub3dsZWRnZS4ke2NhdGVnb3J5fS52YWx1ZWA7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgdXBkYXRlRGF0YVtmaWVsZE5hbWVdID0gdmFsdWU7XG5cbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUodXBkYXRlRGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZEFjdGl2ZVNraWxsKHNraWxsRGF0YTogUGFydGlhbDxTa2lsbEZpZWxkPiA9IHtuYW1lOiBTS0lMTF9ERUZBVUxUX05BTUV9KTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSBEZWZhdWx0VmFsdWVzLnNraWxsRGF0YShza2lsbERhdGEpO1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZVNraWxsc1BhdGggPSAnZGF0YS5za2lsbHMuYWN0aXZlJztcbiAgICAgICAgY29uc3QgdXBkYXRlU2tpbGxEYXRhUmVzdWx0ID0gSGVscGVycy5nZXRSYW5kb21JZFNraWxsRmllbGREYXRhRW50cnkoYWN0aXZlU2tpbGxzUGF0aCwgc2tpbGwpO1xuXG4gICAgICAgIGlmICghdXBkYXRlU2tpbGxEYXRhUmVzdWx0KSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qge3VwZGF0ZVNraWxsRGF0YSwgaWR9ID0gdXBkYXRlU2tpbGxEYXRhUmVzdWx0O1xuXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHVwZGF0ZVNraWxsRGF0YSBhcyBvYmplY3QpO1xuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBhc3luYyByZW1vdmVMYW5ndWFnZVNraWxsKHNraWxsSWQpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IEhlbHBlcnMuZ2V0RGVsZXRlRGF0YUVudHJ5KCdkYXRhLnNraWxscy5sYW5ndWFnZS52YWx1ZScsIHNraWxsSWQpO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICB9XG5cbiAgICBhc3luYyBhZGRMYW5ndWFnZVNraWxsKHNraWxsKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNraWxsID0ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICBzcGVjczogW10sXG4gICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAvLyBUT0RPOiBCVUcgTW9kaWZpYWJsZVZhbHVlIGlzIE1vZExpc3Q8bnVtYmVyPltdIGFuZCBub3QgbnVtYmVyXG4gICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgIH07XG4gICAgICAgIHNraWxsID0ge1xuICAgICAgICAgICAgLi4uZGVmYXVsdFNraWxsLFxuICAgICAgICAgICAgLi4uc2tpbGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaWQgPSByYW5kb21JRCgxNik7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ge307XG4gICAgICAgIHZhbHVlW2lkXSA9IHNraWxsO1xuICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBgZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWVgO1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgIHVwZGF0ZURhdGFbZmllbGROYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHVwZGF0ZURhdGEpO1xuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBhc3luYyByZW1vdmVLbm93bGVkZ2VTa2lsbChza2lsbElkLCBjYXRlZ29yeSkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gSGVscGVycy5nZXREZWxldGVEYXRhRW50cnkoYGRhdGEuc2tpbGxzLmtub3dsZWRnZS4ke2NhdGVnb3J5fS52YWx1ZWAsIHNraWxsSWQpO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICB9XG5cbiAgICAvKiogRGVsZXRlIHRoZSBnaXZlbiBhY3RpdmUgc2tpbGwgYnkgaXQncyBpZC4gSXQgZG9lc24ndFxuICAgICAqXG4gICAgICogQHBhcmFtIHNraWxsSWQgRWl0aGVyIGEgcmFuZG9tIGlkIGZvciBjdXN0b20gc2tpbGxzIG9yIHRoZSBza2lsbHMgbmFtZSB1c2VkIGFzIGFuIGlkLlxuICAgICAqL1xuICAgIGFzeW5jIHJlbW92ZUFjdGl2ZVNraWxsKHNraWxsSWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBhY3RpdmVTa2lsbHMgPSB0aGlzLmdldEFjdGl2ZVNraWxscygpO1xuICAgICAgICBpZiAoIWFjdGl2ZVNraWxscy5oYXNPd25Qcm9wZXJ0eShza2lsbElkKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuZ2V0U2tpbGwoc2tpbGxJZCk7XG4gICAgICAgIGlmICghc2tpbGwpIHJldHVybjtcblxuICAgICAgICAvLyBEb24ndCBkZWxldGUgbGVnYWN5IHNraWxscyB0byBhbGxvdyBwcmVwYXJlZCBpdGVtcyB0byB1c2UgdGhlbSwgc2hvdWxkIHRoZSB1c2VyIGRlbGV0ZSBieSBhY2NpZGVudC5cbiAgICAgICAgLy8gTmV3IGN1c3RvbSBza2lsbHMgd29uJ3QgaGF2ZSBhIGxhYmVsIHNldCBhbHNvLlxuICAgICAgICBpZiAoc2tpbGwubmFtZSA9PT0gJycgJiYgc2tpbGwubGFiZWwgIT09IHVuZGVmaW5lZCAmJiBza2lsbC5sYWJlbCAhPT0gJycpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGlkZVNraWxsKHNraWxsSWQpO1xuICAgICAgICAgICAgLy8gTk9URTogRm9yIHNvbWUgcmVhc29uIHVubGlua2VkIHRva2VuIGFjdG9ycyB3b24ndCBjYXVzZSBhIHJlbmRlciBvbiB1cGRhdGU/XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGF0YS50b2tlbi5hY3RvckxpbmspXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zaGVldC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBjdXN0b20gc2tpbGxzIHdpdGhvdXQgbWVyY3khXG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBIZWxwZXJzLmdldERlbGV0ZURhdGFFbnRyeSgnZGF0YS5za2lsbHMuYWN0aXZlJywgc2tpbGxJZCk7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmsgdGhlIGdpdmVuIHNraWxsIGFzIGhpZGRlbi5cbiAgICAgKlxuICAgICAqIE5PVEU6IEhpZGluZyBza2lsbHMgaGFzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2tpbGxJZCBUaGUgaWQgb2YgYW55IHR5cGUgb2Ygc2tpbGwuXG4gICAgICovXG4gICAgYXN5bmMgaGlkZVNraWxsKHNraWxsSWQ6IHN0cmluZykge1xuICAgICAgICBpZiAoIXNraWxsSWQpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmdldFNraWxsKHNraWxsSWQpO1xuICAgICAgICBpZiAoIXNraWxsKSByZXR1cm47XG5cbiAgICAgICAgc2tpbGwuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IEhlbHBlcnMuZ2V0VXBkYXRlRGF0YUVudHJ5KGBkYXRhLnNraWxscy5hY3RpdmUuJHtza2lsbElkfWAsIHNraWxsKTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUodXBkYXRlRGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbWFyayB0aGUgZ2l2ZW4gc2tpbGwgYXMgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2lsbElkIFRoZSBpZCBvZiBhbnkgdHlwZSBvZiBza2lsbC5cbiAgICAgKi9cbiAgICBhc3luYyBzaG93U2tpbGwoc2tpbGxJZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghc2tpbGxJZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuZ2V0U2tpbGwoc2tpbGxJZCk7XG4gICAgICAgIGlmICghc2tpbGwpIHJldHVybjtcblxuICAgICAgICBza2lsbC5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IEhlbHBlcnMuZ2V0VXBkYXRlRGF0YUVudHJ5KGBkYXRhLnNraWxscy5hY3RpdmUuJHtza2lsbElkfWAsIHNraWxsKTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUodXBkYXRlRGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBhbGwgaGlkZGVuIHNraWxscy5cbiAgICAgKi9cbiAgICBhc3luYyBzaG93SGlkZGVuU2tpbGxzKCkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG5cbiAgICAgICAgY29uc3Qgc2tpbGxzID0gdGhpcy5nZXRBY3RpdmVTa2lsbHMoKTtcbiAgICAgICAgZm9yIChjb25zdCBbaWQsIHNraWxsXSBvZiBPYmplY3QuZW50cmllcyhza2lsbHMpKSB7XG4gICAgICAgICAgICBpZiAoc2tpbGwuaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgc2tpbGwuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVtgZGF0YS5za2lsbHMuYWN0aXZlLiR7aWR9YF0gPSBza2lsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdXBkYXRlRGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgICAgICAvLyBOT1RFOiBGb3Igc29tZSByZWFzb24gdW5saW5rZWQgdG9rZW4gYWN0b3JzIHdvbid0IGNhdXNlIGEgcmVuZGVyIG9uIHVwZGF0ZT9cbiAgICAgICAgaWYgKCF0aGlzLmRhdGEudG9rZW4uYWN0b3JMaW5rKVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2hlZXQucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcm9sbEZhZGUob3B0aW9uczogQWN0b3JSb2xsT3B0aW9ucyA9IHt9LCBpbmNvbWluZyA9IC0xKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsfHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCB3aWwgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlcy53aWxscG93ZXIpO1xuICAgICAgICBjb25zdCByZXMgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlcy5yZXNvbmFuY2UpO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhLmRhdGE7XG5cbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCh3aWwubGFiZWwsIHdpbC52YWx1ZSk7XG4gICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQocmVzLmxhYmVsLCByZXMudmFsdWUpO1xuICAgICAgICBpZiAoZGF0YS5tb2RpZmllcnMuZmFkZSkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkJvbnVzJywgZGF0YS5tb2RpZmllcnMuZmFkZSk7XG5cbiAgICAgICAgbGV0IHRpdGxlID0gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUmVzaXN0Jyl9ICR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRmFkZScpfWA7XG5cbiAgICAgICAgY29uc3QgYWN0b3IgPSB0aGlzO1xuICAgICAgICBjb25zdCByb2xsID0gYXdhaXQgU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIGFjdG9yLFxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgd291bmRzOiBmYWxzZSxcbiAgICAgICAgICAgIGhpZGVSb2xsTWVzc2FnZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJvbGwpIHJldHVybjtcblxuICAgICAgICAvLyBSZWR1Y2UgZGFtYWdlIGJ5IHNvYWsgcm9sbCBhbmQgaW5mb3JtIHVzZXIuXG4gICAgICAgIGNvbnN0IGluY29taW5nRGFtYWdlID0gSGVscGVycy5jcmVhdGVEYW1hZ2VEYXRhKGluY29taW5nLCAnc3R1bicpO1xuICAgICAgICBjb25zdCBkYW1hZ2UgPSBIZWxwZXJzLnJlZHVjZURhbWFnZUJ5SGl0cyhpbmNvbWluZ0RhbWFnZSwgcm9sbC5oaXRzLCAnU1I1LkZhZGUnKTtcblxuICAgICAgICBhd2FpdCBjcmVhdGVSb2xsQ2hhdE1lc3NhZ2Uoe3RpdGxlLCByb2xsLCBhY3RvciwgZGFtYWdlfSk7XG5cbiAgICAgICAgcmV0dXJuIHJvbGw7XG4gICAgfVxuXG4gICAgYXN5bmMgcm9sbERyYWluKG9wdGlvbnM6IEFjdG9yUm9sbE9wdGlvbnMgPSB7fSwgaW5jb21pbmcgPSAtMSk6IFByb21pc2U8U2hhZG93cnVuUm9sbHx1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ2hhcmFjdGVyKCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhLmRhdGEgYXMgQ2hhcmFjdGVyQWN0b3JEYXRhO1xuXG4gICAgICAgIGNvbnN0IHdpbCA9IGR1cGxpY2F0ZShkYXRhLmF0dHJpYnV0ZXMud2lsbHBvd2VyKTtcbiAgICAgICAgY29uc3QgZHJhaW5BdHQgPSBkdXBsaWNhdGUoZGF0YS5hdHRyaWJ1dGVzW2RhdGEubWFnaWMuYXR0cmlidXRlXSk7XG5cbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgcGFydHMuYWRkUGFydCh3aWwubGFiZWwsIHdpbC52YWx1ZSk7XG4gICAgICAgIHBhcnRzLmFkZFBhcnQoZHJhaW5BdHQubGFiZWwsIGRyYWluQXR0LnZhbHVlKTtcbiAgICAgICAgaWYgKGRhdGEubW9kaWZpZXJzLmRyYWluKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCBkYXRhLm1vZGlmaWVycy5kcmFpbik7XG5cbiAgICAgICAgbGV0IHRpdGxlID0gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUmVzaXN0Jyl9ICR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHJhaW4nKX1gO1xuICAgICAgICBjb25zdCBhY3RvciA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBhd2FpdCBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBhY3RvcixcbiAgICAgICAgICAgIHdvdW5kczogZmFsc2UsXG4gICAgICAgICAgICBoaWRlUm9sbE1lc3NhZ2U6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyb2xsKSByZXR1cm47XG5cbiAgICAgICAgLy8gUmVkdWNlIGRhbWFnZSBieSBzb2FrIHJvbGwgYW5kIGluZm9ybSB1c2VyLlxuICAgICAgICBjb25zdCBpbmNvbWluZ0RhbWFnZSA9IEhlbHBlcnMuY3JlYXRlRGFtYWdlRGF0YShpbmNvbWluZywgJ3N0dW4nKTtcbiAgICAgICAgY29uc3QgZGFtYWdlID0gSGVscGVycy5yZWR1Y2VEYW1hZ2VCeUhpdHMoaW5jb21pbmdEYW1hZ2UsIHJvbGwuaGl0cywgJ1NSNS5EcmFpbicpO1xuXG4gICAgICAgIGF3YWl0IGNyZWF0ZVJvbGxDaGF0TWVzc2FnZSh7dGl0bGUsIHJvbGwsIGFjdG9yLCBkYW1hZ2V9KTtcblxuICAgICAgICByZXR1cm4gcm9sbDtcbiAgICB9XG5cbiAgICByb2xsQXJtb3Iob3B0aW9uczogQWN0b3JSb2xsT3B0aW9ucyA9IHt9LCBwYXJ0c1Byb3BzOiBNb2RMaXN0PG51bWJlcj4gPSBbXSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QocGFydHNQcm9wcyk7XG4gICAgICAgIHRoaXMuX2FkZEFybW9yUGFydHMocGFydHMpO1xuICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICBldmVudDogb3B0aW9ucy5ldmVudCxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQXJtb3InKSxcbiAgICAgICAgICAgIHdvdW5kczogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBBIGF0dGFjayBkZWZlbnNlIGlzIGFueXRoaW5nIGFnYWluc3QgdmlzaWJsZSBhdHRhY2tzIChyYW5nZWQgd2VhcG9ucywgbWVsZWUgd2VhcG9ucywgaW5kaXJlY3Qgc3BlbGwgYXR0YWNrcywgLi4uKVxuICAgICAqL1xuICAgIGFzeW5jIHJvbGxBdHRhY2tEZWZlbnNlKG9wdGlvbnM6IERlZmVuc2VSb2xsT3B0aW9ucyA9IHt9LCBwYXJ0c1Byb3BzOiBNb2RMaXN0PG51bWJlcj4gPSBbXSk6IFByb21pc2U8U2hhZG93cnVuUm9sbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCB7YXR0YWNrfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgZGVmZW5zZURpYWxvZyA9IGF3YWl0IFNoYWRvd3J1bkFjdG9yRGlhbG9ncy5jcmVhdGVEZWZlbnNlRGlhbG9nKHRoaXMsIG9wdGlvbnMsIHBhcnRzUHJvcHMpO1xuICAgICAgICBjb25zdCBkZWZlbnNlQWN0aW9uRGF0YSA9IGF3YWl0IGRlZmVuc2VEaWFsb2cuc2VsZWN0KCk7XG5cbiAgICAgICAgaWYgKGRlZmVuc2VEaWFsb2cuY2FuY2VsZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCByb2xsID0gYXdhaXQgU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICBldmVudDogb3B0aW9ucy5ldmVudCxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgcGFydHM6IGRlZmVuc2VBY3Rpb25EYXRhLnBhcnRzLmxpc3QsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRGVmZW5zZVRlc3QnKSxcbiAgICAgICAgICAgIGluY29taW5nQXR0YWNrOiBhdHRhY2ssXG4gICAgICAgICAgICBjb21iYXQ6IGRlZmVuc2VBY3Rpb25EYXRhLmNvbWJhdFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJvbGwpIHJldHVybjtcblxuICAgICAgICAvLyBSZWR1Y2UgaW5pdGlhdGl2ZSBhZnRlciBhIHN1Y2Nlc3NmdWwgcm9sbCwgYnV0IGJlZm9yZSBhdHRhY2sgaGFuZGxpbmcsIHRvIGFsbG93IGZvciB0aGUgc3RhbmRhbG9uZSBzaGVldFxuICAgICAgICAvLyBkZWZlbnNlIGFjdGlvbiB0byBzdGlsbCByZWR1Y2UgdGhlIGluaXRpYXRpdmUuXG4gICAgICAgIGlmIChkZWZlbnNlQWN0aW9uRGF0YS5jb21iYXQuaW5pdGlhdGl2ZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGFuZ2VDb21iYXRJbml0aWF0aXZlKGRlZmVuc2VBY3Rpb25EYXRhLmNvbWJhdC5pbml0aWF0aXZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYXR0YWNrKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ29sbGVjdCBkZWZlbnNlIGluZm9ybWF0aW9uLlxuICAgICAgICBsZXQgZGVmZW5kZXJIaXRzID0gcm9sbC50b3RhbDtcbiAgICAgICAgbGV0IGF0dGFja2VySGl0cyA9IGF0dGFjay5oaXRzIHx8IDA7XG4gICAgICAgIGxldCBuZXRIaXRzID0gTWF0aC5tYXgoYXR0YWNrZXJIaXRzIC0gZGVmZW5kZXJIaXRzLCAwKTtcblxuICAgICAgICAvLyBSZWR1Y2UgZGFtYWdlIGZsb3cuXG4gICAgICAgIGxldCBkYW1hZ2UgPSBhdHRhY2suZGFtYWdlO1xuXG4gICAgICAgIC8vIG1vZGlmaWVkIGRhbWFnZSB2YWx1ZSBieSBuZXRIaXRzLlxuICAgICAgICBpZiAobmV0SGl0cyA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHttb2RpZmllZH0gPSBIZWxwZXJzLm1vZGlmeURhbWFnZUJ5SGl0cyhkYW1hZ2UsIG5ldEhpdHMsIFwiU1I1Lk5ldEhpdHNcIik7XG4gICAgICAgICAgICBkYW1hZ2UgPSBtb2RpZmllZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvYWtSb2xsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zLmV2ZW50LFxuICAgICAgICAgICAgZGFtYWdlLFxuICAgICAgICB9O1xuXG4gICAgICAgIGF3YWl0IHRoaXMucm9sbFNvYWsoc29ha1JvbGxPcHRpb25zKTtcbiAgICB9XG5cbiAgICBhc3luYyByb2xsRGlyZWN0U3BlbGxEZWZlbnNlKHNwZWxsOiBTUjVJdGVtLCBvcHRpb25zOiBTcGVsbERlZmVuc2VPcHRpb25zKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGlmICghc3BlbGwuaXNEaXJlY3RDb21iYXRTcGVsbCgpKSByZXR1cm47XG5cbiAgICAgICAgLy8gUHJlcGFyZSB0aGUgYWN0dWFsIHJvbGwuXG4gICAgICAgIG9wdGlvbnMuaGlkZVJvbGxNZXNzYWdlID0gb3B0aW9ucy5oaWRlUm9sbE1lc3NhZ2UgPz8gdHJ1ZTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gc3BlbGwuaXNNYW5hU3BlbGwoKSA/XG4gICAgICAgICAgICBTUi5kZWZlbnNlLnNwZWxsLmRpcmVjdC5tYW5hIDpcbiAgICAgICAgICAgIFNSLmRlZmVuc2Uuc3BlbGwuZGlyZWN0LnBoeXNpY2FsO1xuXG4gICAgICAgIGNvbnN0IHJvbGwgPSBhd2FpdCB0aGlzLnJvbGxTaW5nbGVBdHRyaWJ1dGUoYXR0cmlidXRlLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoIXJvbGwpIHJldHVybjtcblxuICAgICAgICAvLyBQcmVwYXJlIHRoZSByZXN1bHRpbmcgZGFtYWdlIG1lc3NhZ2UuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gc3BlbGwuaXNNYW5hU3BlbGwoKSA/XG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGVsbERlZmVuc2VEaXJlY3RNYW5hJykgOlxuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU3BlbGxEZWZlbnNlRGlyZWN0UGh5c2ljYWwnKTtcbiAgICAgICAgY29uc3QgbW9kaWZpY2F0aW9uTGFiZWwgPSAnU1I1LlNwZWxsRGVmZW5zZSc7XG4gICAgICAgIGNvbnN0IGFjdG9yID0gdGhpcztcbiAgICAgICAgY29uc3QgZGFtYWdlID0gSGVscGVycy5yZWR1Y2VEYW1hZ2VCeUhpdHMob3B0aW9ucy5hdHRhY2suZGFtYWdlLCByb2xsLmhpdHMsIG1vZGlmaWNhdGlvbkxhYmVsKTtcblxuICAgICAgICBhd2FpdCBjcmVhdGVSb2xsQ2hhdE1lc3NhZ2Uoe3RpdGxlLCByb2xsLCBhY3RvciwgZGFtYWdlfSk7XG5cbiAgICAgICAgcmV0dXJuIHJvbGw7XG4gICAgfVxuXG4gICAgYXN5bmMgcm9sbEluZGlyZWN0U3BlbGxEZWZlbnNlKHNwZWxsOiBTUjVJdGVtLCBvcHRpb25zOiBTcGVsbERlZmVuc2VPcHRpb25zKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGlmICghc3BlbGwuaXNJbmRpcmVjdENvbWJhdFNwZWxsKCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCBvcHBvc2VkUGFydHMgPSBzcGVsbC5nZXRPcHBvc2VkVGVzdE1vZCgpO1xuXG4gICAgICAgIC8vIFRPRE86IGluZGlyZWN0IExPUyBzcGVsbCBkZWZlbnNlIHdvcmtzIGxpa2UgYSByYW5nZWQgd2VhcG9uIGRlZmVuc2UsIGJ1dCBpbmRpcmVjdCBMT1MoQSkgc3BlbGwgZGVmZW5zZVxuICAgICAgICAvLyAgICAgICB3b3JrIGxpa2UgZ3JlbmFkZSBhdHRhY2sgKG5vIGRlZmVuc2UsIGJ1dCBzb2FrLCB3aXRoIHRoZSB0aHJlc2hvbGQgbmV0IGhpdHMgbW9kaWZ5aW5nIGRhbWFnZS4pXG4gICAgICAgIC8vICAgICAgIEdyZW5hZGVzOiBTUjUjMTgxIENvbWJhdCBTcGVsbHM6IFNSNSMyODNcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucm9sbEF0dGFja0RlZmVuc2Uob3B0aW9ucywgb3Bwb3NlZFBhcnRzLmxpc3QpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEFic3RyYWN0IGhhbmRsaW5nIG9mIGNvbnN0IGRhbWFnZSA6IE1vZGlmaWVkRGFtYWdlRGF0YVxuICAgIGFzeW5jIHJvbGxTb2FrKG9wdGlvbnM6IFNvYWtSb2xsT3B0aW9ucywgcGFydHNQcm9wczogTW9kTGlzdDxudW1iZXI+ID0gW10pOiBQcm9taXNlPFNoYWRvd3J1blJvbGx8dW5kZWZpbmVkPiB7XG4gICAgICAgIHJldHVybiBuZXcgU29ha0Zsb3coKS5ydW5Tb2FrVGVzdCh0aGlzLCBvcHRpb25zLCBwYXJ0c1Byb3BzKTtcbiAgICB9XG5cbiAgICByb2xsU2luZ2xlQXR0cmlidXRlKGF0dElkLCBvcHRpb25zOiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1thdHRJZF0pO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dHIubGFiZWwsIGF0dHIudmFsdWUpO1xuICAgICAgICB0aGlzLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcblxuICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgdGl0bGU6IG9wdGlvbnMudGl0bGUgPz8gSGVscGVycy5sYWJlbChhdHRJZCksXG4gICAgICAgICAgICBoaWRlUm9sbE1lc3NhZ2U6IG9wdGlvbnMuaGlkZVJvbGxNZXNzYWdlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxUd29BdHRyaWJ1dGVzKFtpZDEsIGlkMl0sIG9wdGlvbnM6IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cjEgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1tpZDFdKTtcbiAgICAgICAgY29uc3QgYXR0cjIgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1tpZDJdKTtcbiAgICAgICAgY29uc3QgbGFiZWwxID0gSGVscGVycy5sYWJlbChpZDEpO1xuICAgICAgICBjb25zdCBsYWJlbDIgPSBIZWxwZXJzLmxhYmVsKGlkMik7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgIHBhcnRzLmFkZFBhcnQoYXR0cjEubGFiZWwsIGF0dHIxLnZhbHVlKTtcbiAgICAgICAgcGFydHMuYWRkUGFydChhdHRyMi5sYWJlbCwgYXR0cjIudmFsdWUpO1xuICAgICAgICB0aGlzLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgW2F0dHIxLCBhdHRyMl0pO1xuICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG5cbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgIHRpdGxlOiBvcHRpb25zLnRpdGxlID8/IGAke2xhYmVsMX0gKyAke2xhYmVsMn1gLFxuICAgICAgICAgICAgaGlkZVJvbGxNZXNzYWdlOiBvcHRpb25zLmhpZGVSb2xsTWVzc2FnZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByb2xsTmF0dXJhbFJlY292ZXJ5KHRyYWNrLCBvcHRpb25zPzogQWN0b3JSb2xsT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuaXNDaGFyYWN0ZXIoKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBpZDEgPSAnYm9keSc7XG4gICAgICAgIGxldCBpZDIgPSAnd2lsbHBvd2VyJztcbiAgICAgICAgbGV0IHRpdGxlID0gJ05hdHVyYWwgUmVjb3Zlcic7XG4gICAgICAgIGlmICh0cmFjayA9PT0gJ3BoeXNpY2FsJykge1xuICAgICAgICAgICAgaWQyID0gJ2JvZHknO1xuICAgICAgICAgICAgdGl0bGUgKz0gJyAtIFBoeXNpY2FsIC0gMSBEYXknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGUgKz0gJyAtIFN0dW4gLSAxIEhvdXInO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhdHQxID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXNbaWQxXSk7XG4gICAgICAgIGxldCBhdHQyID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXNbaWQyXSk7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgIHBhcnRzLmFkZFBhcnQoYXR0MS5sYWJlbCwgYXR0MS52YWx1ZSk7XG4gICAgICAgIHBhcnRzLmFkZFBhcnQoYXR0Mi5sYWJlbCwgYXR0Mi52YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIGV4dGVuZGVkOiB0cnVlLFxuICAgICAgICAgICAgYWZ0ZXI6IGFzeW5jIChyb2xsOiBSb2xsIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyb2xsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgbGV0IGhpdHMgPSByb2xsLnRvdGFsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGEuZGF0YSBhcyBDaGFyYWN0ZXJBY3RvckRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSBkYXRhLnRyYWNrW3RyYWNrXS52YWx1ZTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBNYXRoLm1heChjdXJyZW50IC0gaGl0cywgMCk7XG5cbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gYGRhdGEudHJhY2suJHt0cmFja30udmFsdWVgO1xuXG4gICAgICAgICAgICAgICAgbGV0IHUgPSB7fTtcbiAgICAgICAgICAgICAgICB1W2tleV0gPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcm9sbE1hdHJpeEF0dHJpYnV0ZShhdHRyLCBvcHRpb25zPzogQWN0b3JSb2xsT3B0aW9ucykge1xuICAgICAgICBpZiAoIShcIm1hdHJpeFwiIGluIHRoaXMuZGF0YS5kYXRhKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBtYXRyaXhfYXR0ID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLm1hdHJpeFthdHRyXSk7XG4gICAgICAgIGxldCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1Lm1hdHJpeEF0dHJpYnV0ZXNbYXR0cl0pO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuICAgICAgICBwYXJ0cy5hZGRQYXJ0KENPTkZJRy5TUjUubWF0cml4QXR0cmlidXRlc1thdHRyXSwgbWF0cml4X2F0dC52YWx1ZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5ldmVudCAmJiBvcHRpb25zLmV2ZW50W0NPTkZJRy5TUjUua2Jtb2QuU1BFQ10pIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5TcGVjaWFsaXphdGlvbicsIDIpO1xuICAgICAgICBpZiAoSGVscGVycy5oYXNNb2RpZmllcnMob3B0aW9ucz8uZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBIZWxwZXJzLmZpbHRlcih0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLCAoWywgdmFsdWVdKSA9PiB2YWx1ZS52YWx1ZSA+IDApO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSAnd2lsbHBvd2VyJztcblxuICAgICAgICBsZXQgZGlhbG9nRGF0YSA9IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0cmlidXRlLFxuICAgICAgICAgICAgYXR0cmlidXRlczogYXR0cmlidXRlcyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IHtcbiAgICAgICAgICAgIHJvbGw6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gKGNhbmNlbCA9IGZhbHNlKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNhbmNlbCA9IHRydWU7XG4gICAgICAgIHJlbmRlclRlbXBsYXRlKCdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL3JvbGxzL21hdHJpeC1yb2xsLmh0bWwnLCBkaWFsb2dEYXRhKS50aGVuKChkbGcpID0+IHtcbiAgICAgICAgICAgIG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBgJHt0aXRsZX0gVGVzdGAsXG4gICAgICAgICAgICAgICAgY29udGVudDogZGxnLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IGJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgY2xvc2U6IGFzeW5jIChodG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXR0ID0gSGVscGVycy5wYXJzZUlucHV0VG9TdHJpbmcoJChodG1sKS5maW5kKCdbbmFtZT1hdHRyaWJ1dGVdJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXR0OiBBdHRyaWJ1dGVGaWVsZCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ID0gdGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1tuZXdBdHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgKz0gYCArICR7Z2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYXR0cmlidXRlc1tuZXdBdHRdKX1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dC52YWx1ZSAmJiBhdHQubGFiZWwpIHBhcnRzLmFkZFBhcnQoYXR0LmxhYmVsLCBhdHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTWF0cml4UGFydHMocGFydHMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb21wdFJvbGwob3B0aW9ucz86IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgcm9sbFByb3BzID0ge1xuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgdGl0bGU6ICdSb2xsJyxcbiAgICAgICAgICAgIHBhcnRzOiBbXSxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgICAgICBwb29sOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwocm9sbFByb3BzLCBkaWFsb2dPcHRpb25zKTtcbiAgICB9XG5cbiAgICByb2xsRGV2aWNlUmF0aW5nKG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTGFiZWxzLkFjdG9yU2hlZXQuRGV2aWNlUmF0aW5nJyk7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgIGNvbnN0IHJhdGluZyA9IHRoaXMuZ2V0RGV2aWNlUmF0aW5nKCk7XG4gICAgICAgIC8vIGFkZCBkZXZpY2UgcmF0aW5nIHR3aWNlIGFzIHRoaXMgaXMgdGhlIG1vc3QgY29tbW9uIHJvbGxcbiAgICAgICAgcGFydHMuYWRkUGFydCh0aXRsZSwgcmF0aW5nKTtcbiAgICAgICAgcGFydHMuYWRkUGFydCh0aXRsZSwgcmF0aW5nKTtcbiAgICAgICAgdGhpcy5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICBldmVudDogb3B0aW9ucz8uZXZlbnQsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxBdHRyaWJ1dGVzVGVzdChyb2xsSWQsIG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYXR0cmlidXRlUm9sbHNbcm9sbElkXSk7XG4gICAgICAgIGNvbnN0IGF0dHMgPSB0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzO1xuICAgICAgICBjb25zdCBtb2RpZmllcnMgPSB0aGlzLmRhdGEuZGF0YS5tb2RpZmllcnM7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgIGlmIChyb2xsSWQgPT09ICdjb21wb3N1cmUnKSB7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dHMuY2hhcmlzbWEubGFiZWwsIGF0dHMuY2hhcmlzbWEudmFsdWUpO1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHRzLndpbGxwb3dlci5sYWJlbCwgYXR0cy53aWxscG93ZXIudmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5jb21wb3N1cmUpIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5Cb251cycsIG1vZGlmaWVycy5jb21wb3N1cmUpO1xuICAgICAgICB9IGVsc2UgaWYgKHJvbGxJZCA9PT0gJ2p1ZGdlX2ludGVudGlvbnMnKSB7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dHMuY2hhcmlzbWEubGFiZWwsIGF0dHMuY2hhcmlzbWEudmFsdWUpO1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHRzLmludHVpdGlvbi5sYWJlbCwgYXR0cy5pbnR1aXRpb24udmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5qdWRnZV9pbnRlbnRpb25zKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCBtb2RpZmllcnMuanVkZ2VfaW50ZW50aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAocm9sbElkID09PSAnbGlmdF9jYXJyeScpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0cy5zdHJlbmd0aC5sYWJlbCwgYXR0cy5zdHJlbmd0aC52YWx1ZSk7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dHMuYm9keS5sYWJlbCwgYXR0cy5ib2R5LnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChtb2RpZmllcnMubGlmdF9jYXJyeSkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkJvbnVzJywgbW9kaWZpZXJzLmxpZnRfY2FycnkpO1xuICAgICAgICB9IGVsc2UgaWYgKHJvbGxJZCA9PT0gJ21lbW9yeScpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0cy53aWxscG93ZXIubGFiZWwsIGF0dHMud2lsbHBvd2VyLnZhbHVlKTtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0cy5sb2dpYy5sYWJlbCwgYXR0cy5sb2dpYy52YWx1ZSk7XG4gICAgICAgICAgICBpZiAobW9kaWZpZXJzLm1lbW9yeSkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkJvbnVzJywgbW9kaWZpZXJzLm1lbW9yeSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG4gICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICB0aXRsZTogYCR7dGl0bGV9IFRlc3RgLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyByb2xsU2tpbGwoc2tpbGw6IFNraWxsRmllbGQsIG9wdGlvbnM/OiBTa2lsbFJvbGxPcHRpb25zKSB7XG4gICAgICAgIC8vIE5PVEU6IEN1cnJlbnRseSBkZWZhdWx0aW5nIGhhcHBlbnMgYXQgbXVsdGlwbGUgcGxhY2VzLCB3aGljaCBpcyB3aHkgU2tpbGxGbG93LmhhbmRsZURlZmF1bHRpbmcgaXNuJ3QgdXNlZFxuICAgICAgICAvLyAgICAgICBoZXJlLCB5ZXQuIEEgZ2VuZXJhbCBza2lsbCB1c2FnZSBjbGVhbiB1cCBiZXR3ZWVuIFNraWxsLCBBdHRyaWJ1dGUgYW5kIEl0ZW0gYWN0aW9uIGhhbmRsaW5nIGlzIG5lZWRlZC5cbiAgICAgICAgaWYgKCFTa2lsbEZsb3cuYWxsb3dSb2xsKHNraWxsKSkge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lldhcm5pbmdzLlNraWxsQ2FudEJlRGVmYXVsdCcpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExlZ2FjeSBza2lsbHMgaGF2ZSBhIGxhYmVsLCBidXQgbm8gbmFtZS4gQ3VzdG9tIHNraWxscyBoYXZlIGEgbmFtZSBidXQgbm8gbGFiZWwuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gc2tpbGwubGFiZWwgPyBnYW1lLmkxOG4ubG9jYWxpemUoc2tpbGwubGFiZWwpIDogc2tpbGwubmFtZTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBsYWJlbDtcblxuICAgICAgICAvLyBTaW5jZSBvcHRpb25zIGNhbiBwcm92aWRlIGFuIGF0dHJpYnV0ZSwgaWdub3JlIGluY29tcGxldGUgc2lsbCBhdHRyaWJ1dGUgY29uZmlndXJhdGlvbi5cbiAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IG9wdGlvbnM/LmF0dHJpYnV0ZSA/IG9wdGlvbnMuYXR0cmlidXRlIDogc2tpbGwuYXR0cmlidXRlO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRXJyb3JzLlNraWxsV2l0aG91dEF0dHJpYnV0ZScpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGltaXQgPSBhdHRyaWJ1dGUubGltaXQgPyB0aGlzLmdldExpbWl0KGF0dHJpYnV0ZS5saW1pdCkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBwYXJ0cyB3aXRoIGFsd2F5cyBuZWVkZWQgc2tpbGwgZGF0YS5cbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChsYWJlbCwgc2tpbGwudmFsdWUpO1xuICAgICAgICB0aGlzLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgW2F0dHJpYnV0ZSwgc2tpbGxdKTtcbiAgICAgICAgdGhpcy5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuXG4gICAgICAgIC8vIERpcmVjdGx5IHRlc3QsIHdpdGhvdXQgZnVydGhlciBza2lsbCBkaWFsb2cuXG4gICAgICAgIGlmIChvcHRpb25zPy5ldmVudCAmJiBIZWxwZXJzLmhhc01vZGlmaWVycyhvcHRpb25zPy5ldmVudCkpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0cmlidXRlLmxhYmVsLCBhdHRyaWJ1dGUudmFsdWUpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXZlbnRbQ09ORklHLlNSNS5rYm1vZC5TUEVDXSkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LlNwZWNpYWxpemF0aW9uJywgMik7XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgICAgICBldmVudDogb3B0aW9ucy5ldmVudCxcbiAgICAgICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgICB0aXRsZTogYCR7dGl0bGV9ICR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuVGVzdCcpfWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcnN0IGFzayB1c2VyIGFib3V0IHNraWxsIGRldGFpbHMuXG4gICAgICAgIGNvbnN0IHNraWxsUm9sbERpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgICAgICBza2lsbCxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0cmlidXRlTmFtZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2tpbGxEaWFsb2cgPSBhd2FpdCBTaGFkb3dydW5BY3RvckRpYWxvZ3MuY3JlYXRlU2tpbGxEaWFsb2codGhpcywgc2tpbGxSb2xsRGlhbG9nT3B0aW9ucywgcGFydHMpO1xuICAgICAgICBjb25zdCBza2lsbEFjdGlvbkRhdGEgPSBhd2FpdCBza2lsbERpYWxvZy5zZWxlY3QoKTtcblxuICAgICAgICBpZiAoc2tpbGxEaWFsb2cuY2FuY2VsZWQpIHJldHVybjtcblxuICAgICAgICByZXR1cm4gYXdhaXQgU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICBldmVudDogb3B0aW9ucz8uZXZlbnQsXG4gICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgIHBhcnRzOiBza2lsbEFjdGlvbkRhdGEucGFydHMubGlzdCxcbiAgICAgICAgICAgIGxpbWl0OiBza2lsbEFjdGlvbkRhdGEubGltaXQsXG4gICAgICAgICAgICB0aXRsZTogc2tpbGxBY3Rpb25EYXRhLnRpdGxlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyByb2xsRHJvbmVQZXJjZXB0aW9uKG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZlaGljbGUoKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBhY3RvckRhdGEgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEpIGFzIFZlaGljbGVBY3RvckRhdGE7XG4gICAgICAgIGlmIChhY3RvckRhdGEuY29udHJvbE1vZGUgPT09ICdhdXRvcGlsb3QnKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuXG4gICAgICAgICAgICBjb25zdCBwaWxvdCA9IEhlbHBlcnMuY2FsY1RvdGFsKGFjdG9yRGF0YS52ZWhpY2xlX3N0YXRzLnBpbG90KTtcbiAgICAgICAgICAgIC8vIFRPRE8gcG9zc2libHkgbG9vayBmb3IgYXV0b3NvZnQgaXRlbSBsZXZlbD9cbiAgICAgICAgICAgIGNvbnN0IHBlcmNlcHRpb24gPSB0aGlzLmZpbmRBY3RpdmVTa2lsbCgncGVyY2VwdGlvbicpO1xuICAgICAgICAgICAgY29uc3QgbGltaXQgPSB0aGlzLmZpbmRMaW1pdCgnc2Vuc29yJyk7XG5cbiAgICAgICAgICAgIGlmIChwZXJjZXB0aW9uICYmIGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkUGFydCgnU1I1LlZlaGljbGUuQ2xlYXJzaWdodCcsIEhlbHBlcnMuY2FsY1RvdGFsKHBlcmNlcHRpb24pKTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRQYXJ0KCdTUjUuVmVoaWNsZS5TdGF0cy5QaWxvdCcsIHBpbG90KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTGFiZWxzLkFjdG9yU2hlZXQuUm9sbERyb25lUGVyY2VwdGlvbicpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yb2xsQWN0aXZlU2tpbGwoJ3BlcmNlcHRpb24nLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJvbGxQaWxvdFZlaGljbGUob3B0aW9ucz86IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmVoaWNsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEuZGF0YSkgYXMgVmVoaWNsZUFjdG9yRGF0YTtcbiAgICAgICAgaWYgKGFjdG9yRGF0YS5jb250cm9sTW9kZSA9PT0gJ2F1dG9waWxvdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBpbG90ID0gSGVscGVycy5jYWxjVG90YWwoYWN0b3JEYXRhLnZlaGljbGVfc3RhdHMucGlsb3QpO1xuICAgICAgICAgICAgbGV0IHNraWxsOiBTa2lsbEZpZWxkIHwgdW5kZWZpbmVkID0gdGhpcy5nZXRWZWhpY2xlVHlwZVNraWxsKCk7XG4gICAgICAgICAgICBjb25zdCBlbnZpcm9ubWVudCA9IGFjdG9yRGF0YS5lbnZpcm9ubWVudDtcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gdGhpcy5maW5kTGltaXQoZW52aXJvbm1lbnQpO1xuXG4gICAgICAgICAgICBpZiAoc2tpbGwgJiYgbGltaXQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRQYXJ0KCdTUjUuVmVoaWNsZS5TdGF0cy5QaWxvdCcsIHBpbG90KTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHBvc3NpYmx5IGxvb2sgZm9yIGF1dG9zb2Z0IGl0ZW0gbGV2ZWw/XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkUGFydCgnU1I1LlZlaGljbGUuTWFuZXV2ZXJpbmcnLCBIZWxwZXJzLmNhbGNUb3RhbChza2lsbCkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgICAgICBldmVudDogb3B0aW9ucz8uZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5MYWJlbHMuQWN0b3JTaGVldC5Sb2xsUGlsb3RWZWhpY2xlVGVzdCcpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2tpbGxOYW1lID0gdGhpcy5nZXRWZWhpY2xlVHlwZVNraWxsTmFtZSgpO1xuICAgICAgICAgICAgaWYgKCFza2lsbE5hbWUpIHJldHVybjtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJvbGxBY3RpdmVTa2lsbChza2lsbE5hbWUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcm9sbERyb25lSW5maWx0cmF0aW9uKG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZlaGljbGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RvckRhdGEgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEpIGFzIFZlaGljbGVBY3RvckRhdGE7XG4gICAgICAgIGlmIChhY3RvckRhdGEuY29udHJvbE1vZGUgPT09ICdhdXRvcGlsb3QnKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuXG4gICAgICAgICAgICBjb25zdCBwaWxvdCA9IEhlbHBlcnMuY2FsY1RvdGFsKGFjdG9yRGF0YS52ZWhpY2xlX3N0YXRzLnBpbG90KTtcbiAgICAgICAgICAgIC8vIFRPRE8gcG9zc2libHkgbG9vayBmb3IgYXV0b3NvZnQgaXRlbSBsZXZlbD9cbiAgICAgICAgICAgIGNvbnN0IHNuZWFraW5nID0gdGhpcy5maW5kQWN0aXZlU2tpbGwoJ3NuZWFraW5nJyk7XG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IHRoaXMuZmluZExpbWl0KCdzZW5zb3InKTtcblxuICAgICAgICAgICAgaWYgKHNuZWFraW5nICYmIGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkUGFydCgnU1I1LlZlaGljbGUuU3RlYWx0aCcsIEhlbHBlcnMuY2FsY1RvdGFsKHNuZWFraW5nKSk7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkUGFydCgnU1I1LlZlaGljbGUuU3RhdHMuUGlsb3QnLCBwaWxvdCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkxhYmVscy5BY3RvclNoZWV0LlJvbGxEcm9uZUluZmlsdHJhdGlvbicpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yb2xsQWN0aXZlU2tpbGwoJ3NuZWFraW5nJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb2xsS25vd2xlZGdlU2tpbGwoY2F0SWQ6IHN0cmluZywgc2tpbGxJZDogc3RyaW5nLCBvcHRpb25zPzogU2tpbGxSb2xsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEuZGF0YS5za2lsbHMua25vd2xlZGdlW2NhdElkXSk7XG4gICAgICAgIGNvbnN0IHNraWxsID0gZHVwbGljYXRlKGNhdGVnb3J5LnZhbHVlW3NraWxsSWRdKTtcbiAgICAgICAgc2tpbGwuYXR0cmlidXRlID0gY2F0ZWdvcnkuYXR0cmlidXRlO1xuICAgICAgICBza2lsbC5sYWJlbCA9IHNraWxsLm5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzLnJvbGxTa2lsbChza2lsbCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcm9sbExhbmd1YWdlU2tpbGwoc2tpbGxJZDogc3RyaW5nLCBvcHRpb25zPzogU2tpbGxSb2xsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBza2lsbCA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEuZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWVbc2tpbGxJZF0pO1xuICAgICAgICBza2lsbC5hdHRyaWJ1dGUgPSAnaW50dWl0aW9uJztcbiAgICAgICAgc2tpbGwubGFiZWwgPSBza2lsbC5uYW1lO1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xsU2tpbGwoc2tpbGwsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJvbGxBY3RpdmVTa2lsbChza2lsbElkOiBzdHJpbmcsIG9wdGlvbnM/OiBTa2lsbFJvbGxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNraWxsID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLnNraWxscy5hY3RpdmVbc2tpbGxJZF0pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xsU2tpbGwoc2tpbGwsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJvbGxBdHRyaWJ1dGUoYXR0SWQsIG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGxldCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmF0dHJpYnV0ZXNbYXR0SWRdKTtcbiAgICAgICAgY29uc3QgYXR0ID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXNbYXR0SWRdKTtcbiAgICAgICAgY29uc3QgYXR0cyA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgcGFydHMuYWRkUGFydChhdHQubGFiZWwsIGF0dC52YWx1ZSk7XG4gICAgICAgIGxldCBkaWFsb2dEYXRhID0ge1xuICAgICAgICAgICAgYXR0cmlidXRlOiBhdHQsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRzLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgY2FuY2VsID0gdHJ1ZTtcbiAgICAgICAgcmVuZGVyVGVtcGxhdGUoJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvc2luZ2xlLWF0dHJpYnV0ZS5odG1sJywgZGlhbG9nRGF0YSkudGhlbigoZGxnKSA9PiB7XG4gICAgICAgICAgICBuZXcgRGlhbG9nKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogYCR7dGl0bGV9IEF0dHJpYnV0ZSBUZXN0YCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBkbGcsXG4gICAgICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICAgICAgICByb2xsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiAoY2FuY2VsID0gZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogJ3JvbGwnLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBhc3luYyAoaHRtbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0MklkOiBzdHJpbmcgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb1N0cmluZygkKGh0bWwpLmZpbmQoJ1tuYW1lPWF0dHJpYnV0ZTJdJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXR0MjogQXR0cmlidXRlRmllbGQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHQySWQgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0MiA9IGF0dHNbYXR0MklkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQyPy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFBhcnQoYXR0Mi5sYWJlbCwgYXR0Mi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0MklkTGFiZWwgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hdHRyaWJ1dGVzW2F0dDJJZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlICs9IGAgKyAke2F0dDJJZExhYmVsfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dDJJZCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuRGVmYXVsdGluZycsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgW2F0dCwgYXR0Ml0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgJHt0aXRsZX0gVGVzdGAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkucmVuZGVyKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfYWRkTWF0cml4UGFydHMocGFydHM6IFBhcnRzTGlzdDxudW1iZXI+LCBhdHRzKSB7XG4gICAgICAgIGlmIChIZWxwZXJzLmlzTWF0cml4KGF0dHMpKSB7XG4gICAgICAgICAgICBpZiAoIShcIm1hdHJpeFwiIGluIHRoaXMuZGF0YS5kYXRhKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLmRhdGEuZGF0YS5tYXRyaXg7XG4gICAgICAgICAgICBpZiAobWF0cml4LmhvdF9zaW0pIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5Ib3RTaW0nLCAyKTtcbiAgICAgICAgICAgIGlmIChtYXRyaXgucnVubmluZ19zaWxlbnQpIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5SdW5uaW5nU2lsZW50JywgLTIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRHbG9iYWxQYXJ0cyhwYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5kYXRhLm1vZGlmaWVycy5nbG9iYWwpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5HbG9iYWwnLCB0aGlzLmRhdGEuZGF0YS5tb2RpZmllcnMuZ2xvYmFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZGREZWZlbnNlUGFydHMocGFydHM6IFBhcnRzTGlzdDxudW1iZXI+KSB7XG4gICAgICAgIGlmICh0aGlzLmlzVmVoaWNsZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBwaWxvdCA9IHRoaXMuZmluZFZlaGljbGVTdGF0KCdwaWxvdCcpO1xuICAgICAgICAgICAgaWYgKHBpbG90KSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChwaWxvdC5sYWJlbCwgSGVscGVycy5jYWxjVG90YWwocGlsb3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5nZXRWZWhpY2xlVHlwZVNraWxsKCk7XG4gICAgICAgICAgICBpZiAoc2tpbGwpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuVmVoaWNsZS5NYW5ldXZlcmluZycsIEhlbHBlcnMuY2FsY1RvdGFsKHNraWxsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZWFjdGlvbiA9IHRoaXMuZmluZEF0dHJpYnV0ZSgncmVhY3Rpb24nKTtcbiAgICAgICAgICAgIGNvbnN0IGludHVpdGlvbiA9IHRoaXMuZmluZEF0dHJpYnV0ZSgnaW50dWl0aW9uJyk7XG5cbiAgICAgICAgICAgIGlmIChyZWFjdGlvbikge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQocmVhY3Rpb24ubGFiZWwgfHwgJ1NSNS5SZWFjdGlvbicsIHJlYWN0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnR1aXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGludHVpdGlvbi5sYWJlbCB8fCAnU1I1LkludHVpdGlvbicsIGludHVpdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb2QgPSB0aGlzLmdldE1vZGlmaWVyKCdkZWZlbnNlJyk7XG4gICAgICAgIGlmIChtb2QpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5Cb251cycsIG1vZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWRkQXJtb3JQYXJ0cyhwYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgY29uc3QgYXJtb3IgPSB0aGlzLmdldEFybW9yKCk7XG4gICAgICAgIGlmIChhcm1vcikge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhcm1vci5sYWJlbCB8fCAnU1I1LkFybW9yJywgYXJtb3IuYmFzZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBwYXJ0IG9mIGFybW9yLm1vZCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQocGFydC5uYW1lLCBwYXJ0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBwdXNoVGhlTGltaXQobGkpIHtcbiAgICAgICAgbGV0IG1zZzogQ2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChsaS5kYXRhKCkubWVzc2FnZUlkKTtcblxuICAgICAgICBpZiAobXNnLmdldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLk1lc3NhZ2VDdXN0b21Sb2xsKSkge1xuICAgICAgICAgICAgbGV0IGFjdG9yID0gKG1zZy51c2VyLmNoYXJhY3RlciBhcyB1bmtub3duKSBhcyBTUjVBY3RvcjtcbiAgICAgICAgICAgIGlmICghYWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBIZWxwZXJzLmdldENvbnRyb2xsZWRUb2tlbnMoKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uYWN0b3Iub3duZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RvciA9IHRva2VuLmFjdG9yIGFzIFNSNUFjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuUHVzaFRoZUxpbWl0JywgYWN0b3IuZ2V0RWRnZSgpLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBTaGFkb3dydW5Sb2xsZXIuYmFzaWNSb2xsKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAgLSAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlB1c2hUaGVMaW1pdCcpfWAsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgICAgICBhY3RvcjogYWN0b3IsXG4gICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdG9yLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS5hdHRyaWJ1dGVzLmVkZ2UudXNlcyc6IGFjdG9yLmdldEVkZ2UoKS51c2VzIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU2VsZWN0VG9rZW5NZXNzYWdlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHNlY29uZENoYW5jZShsaSkge1xuICAgICAgICBsZXQgbXNnOiBDaGF0TWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KGxpLmRhdGEoKS5tZXNzYWdlSWQpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGxldCByb2xsOiBSb2xsID0gSlNPTi5wYXJzZShtc2cuZGF0YT8ucm9sbCk7XG4gICAgICAgIGxldCBmb3JtdWxhID0gcm9sbC5mb3JtdWxhO1xuICAgICAgICBsZXQgaGl0cyA9IHJvbGwudG90YWw7XG4gICAgICAgIGxldCByZSA9IC8oXFxkKylkNi87XG4gICAgICAgIGxldCBtYXRjaGVzID0gZm9ybXVsYS5tYXRjaChyZSk7XG4gICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXNbMV0pIHtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IG1hdGNoZXNbMV07XG4gICAgICAgICAgICBsZXQgcG9vbCA9IHBhcnNlSW50KG1hdGNoLnJlcGxhY2UoJ2Q2JywgJycpKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocG9vbCkgJiYgIWlzTmFOKGhpdHMpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFjdG9yID0gKG1zZy51c2VyLmNoYXJhY3RlciBhcyB1bmtub3duKSBhcyBTUjVBY3RvcjtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IEhlbHBlcnMuZ2V0Q29udHJvbGxlZFRva2VucygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5hY3Rvci5vd25lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RvciA9IHRva2VuLmFjdG9yIGFzIFNSNUFjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5PcmlnaW5hbERpY2VQb29sJywgcG9vbCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5TdWNjZXNzZXMnLCAtaGl0cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5iYXNpY1JvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAgLSBTZWNvbmQgQ2hhbmNlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3I6IGFjdG9yLFxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yLnVzZUVkZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU2VsZWN0VG9rZW5NZXNzYWdlJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHNldEZsYWcgdG8gcmVtb3ZlIHRoZSAnU1I1LicgZnJvbSBrZXlzIGluIG1vZGxpc3RzLCBvdGhlcndpc2UgaXQgaGFuZGxlcyB0aGVtIGFzIGVtYmVkZGVkIGtleXNcbiAgICAgKiBAcGFyYW0gc2NvcGVcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgc2V0RmxhZyhzY29wZTogc3RyaW5nLCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gSGVscGVycy5vblNldEZsYWcodmFsdWUpO1xuICAgICAgICByZXR1cm4gc3VwZXIuc2V0RmxhZyhzY29wZSwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgZ2V0RmxhZyB0byBhZGQgYmFjayB0aGUgJ1NSNS4nIGtleXMgY29ycmVjdGx5IHRvIGJlIGhhbmRsZWRcbiAgICAgKiBAcGFyYW0gc2NvcGVcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICovXG4gICAgZ2V0RmxhZyhzY29wZTogc3RyaW5nLCBrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzdXBlci5nZXRGbGFnKHNjb3BlLCBrZXkpO1xuICAgICAgICByZXR1cm4gSGVscGVycy5vbkdldEZsYWcoZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBlaXRoZXIgdGhlIGxpbmtlZCB0b2tlbiBvciB0aGUgdG9rZW4gb2YgdGhlIHN5bnRoZXRpYyBhY3Rvci5cbiAgICAgKlxuICAgICAqIEByZXRydW4gV2lsbCByZXR1cm4gbnVsbCBzaG91bGQgbm8gdG9rZW4gaGF2ZSBiZWVuIHBsYWNlZCBvbiBzY2VuZS5cbiAgICAgKi9cbiAgICBnZXRUb2tlbigpOiBUb2tlbiB7XG4gICAgICAgIC8vIExpbmtlZCBhY3RvcnMgY2FuIG9ubHkgaGF2ZSBvbmUgdG9rZW4sIHdoaWNoIGlzbid0IHN0b3JlZCB3aXRoaW4gYWN0b3IgZGF0YS4uLlxuICAgICAgICBpZiAodGhpcy5faXNMaW5rZWRUb1Rva2VuKCkgJiYgdGhpcy5oYXNUb2tlbigpKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gdGhpcy5nZXRBY3RpdmVUb2tlbnMobGlua2VkKTtcbiAgICAgICAgICAgIC8vIFRoaXMgYXNzdW1lcyBmb3IgYSB0b2tlbiB0byBleGlzdCBhbmQgc2hvdWxkIGZhaWwgaWYgbm90LlxuICAgICAgICAgICAgcmV0dXJuIHRva2Vuc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVubGlua2VkIGFjdG9ycyBjYW4gaGF2ZSBtdWx0aXBsZSBhY3RpdmUgdG9rZW4gYnV0IGVhY2ggaGF2ZSB0aGVpcnMgZGlyZWN0bHkgYXR0YWNoZWQuLi5cbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlcmUgaXMgbm8gbmVlZCBmb3IgYSB0b2tlbiB0byBwbGFjZWQuIFRoZSBwcm90b3R5cGUgdG9rZW4gaXMgZW5vdWdoLlxuICAgICAqL1xuICAgIF9pc0xpbmtlZFRvVG9rZW4oKTogYm9vbGVhbiB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvLyBJZiBhbiBhY3RvciBpcyBsaW5rZWQsIGFsbCBpdCdzIGNvcGllcyBhbHNvIGNvbnRhaW4gdGhpcyBsaW5rZWQgc3RhdHVzLCBldmVuIGlmIHRoZXkncmUgbm90LlxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnRva2VuLmFjdG9yTGluayAmJiAhdGhpcy50b2tlbjtcbiAgICB9XG5cbiAgICBoYXNUb2tlbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWN0aXZlVG9rZW5zKCkubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBoYXNBY3RpdmVQbGF5ZXJPd25lcigpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgcGxheWVycyA9IHRoaXMuZ2V0QWN0aXZlUGxheWVyT3duZXJzKCk7XG4gICAgICAgIHJldHVybiBwbGF5ZXJzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgZ2V0QWN0aXZlUGxheWVyKCk6IFVzZXJ8bnVsbCB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBpZiAoIXRoaXMuaGFzUGxheWVyT3duZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCB1c2VyIG9mIGdhbWUudXNlcnMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGlmICghdXNlci5hY3RpdmUgfHwgdXNlci5pc0dNKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pZCA9PT0gdXNlci5jaGFyYWN0ZXIuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldEFjdGl2ZVBsYXllck93bmVycygpOiBVc2VyW10ge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgdXNlcnMgPSB0aGlzLmdldFVzZXJzKCdPV05FUicpO1xuICAgICAgICByZXR1cm4gdXNlcnMuZmlsdGVyKHVzZXIgPT4gdXNlci5hY3RpdmUpO1xuICAgIH1cblxuICAgIF9fYWRkRGFtYWdlVG9UcmFja1ZhbHVlKGRhbWFnZTogRGFtYWdlRGF0YSwgdHJhY2s6IFRyYWNrVHlwZXxPdmVyZmxvd1RyYWNrVHlwZXxDb25kaXRpb25EYXRhKTogVHJhY2tUeXBlfE92ZXJmbG93VHJhY2tUeXBlfENvbmRpdGlvbkRhdGEge1xuICAgICAgICBpZiAoZGFtYWdlLnZhbHVlID09PSAwKSByZXR1cm4gdHJhY2s7XG4gICAgICAgIGlmICh0cmFjay52YWx1ZSA9PT0gdHJhY2subWF4KSByZXR1cm4gdHJhY2s7XG5cbiAgICAgICAgLy8gIEF2b2lkIGNyb3NzIHJlZmVyZW5jaW5nLlxuICAgICAgICB0cmFjayA9IGR1cGxpY2F0ZSh0cmFjayk7XG5cbiAgICAgICAgdHJhY2sudmFsdWUgKz0gZGFtYWdlLnZhbHVlO1xuICAgICAgICBpZiAodHJhY2sudmFsdWUgPiB0cmFjay5tYXgpIHtcbiAgICAgICAgICAgIC8vIGRldiBlcnJvciwgbm90IHJlYWxseSBtZWFudCB0byBiZSBldmVyIHNlZW4gYnkgdXNlcnMuIFRoZXJlZm9yZSBubyBsb2NhbGl6YXRpb24uXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRGFtYWdlIGRpZCBvdmVyZmxvdyB0aGUgdHJhY2ssIHdoaWNoIHNob3VsZG4ndCBoYXBwZW4gYXQgdGhpcyBzdGFnZS4gRGFtYWdlIGhhcyBiZWVuIHNldCB0byBtYXguIFBsZWFzZSB1c2UgYXBwbHlEYW1hZ2UuXCIpXG4gICAgICAgICAgICB0cmFjay52YWx1ZSA9IHRyYWNrLm1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmFjaztcbiAgICB9XG5cbiAgICBhc3luYyBfYWRkRGFtYWdlVG9EZXZpY2VUcmFjayhkYW1hZ2U6IERhbWFnZURhdGEsIGRldmljZTogU1I1SXRlbSkge1xuICAgICAgICBpZiAoIWRldmljZSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBjb25kaXRpb24gPSBkZXZpY2UuZ2V0Q29uZGl0aW9uKCk7XG4gICAgICAgIGlmICghY29uZGl0aW9uKSByZXR1cm4gZGFtYWdlO1xuXG4gICAgICAgIGlmIChkYW1hZ2UudmFsdWUgPT09IDApIHJldHVybjtcbiAgICAgICAgaWYgKGNvbmRpdGlvbi52YWx1ZSA9PT0gY29uZGl0aW9uLm1heCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbmRpdGlvbiA9IHRoaXMuX19hZGREYW1hZ2VUb1RyYWNrVmFsdWUoZGFtYWdlLCBjb25kaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7WydkYXRhLnRlY2hub2xvZ3kuY29uZGl0aW9uX21vbml0b3InXTogY29uZGl0aW9ufTtcbiAgICAgICAgYXdhaXQgZGV2aWNlLnVwZGF0ZShkYXRhKTtcbiAgICB9XG5cbiAgICBhc3luYyBfYWRkRGFtYWdlVG9UcmFjayhkYW1hZ2U6IERhbWFnZURhdGEsIHRyYWNrOiBUcmFja1R5cGV8T3ZlcmZsb3dUcmFja1R5cGV8Q29uZGl0aW9uRGF0YSkge1xuICAgICAgICBpZiAoZGFtYWdlLnZhbHVlID09PSAwKSByZXR1cm47XG4gICAgICAgIGlmICh0cmFjay52YWx1ZSA9PT0gdHJhY2subWF4KSByZXR1cm47XG5cbiAgICAgICAgdHJhY2sgPSB0aGlzLl9fYWRkRGFtYWdlVG9UcmFja1ZhbHVlKGRhbWFnZSwgdHJhY2spO1xuICAgICAgICAvLyAvLyAgQXZvaWQgY3Jvc3MgcmVmZXJlbmNpbmcuXG4gICAgICAgIC8vIHRyYWNrID0gZHVwbGljYXRlKHRyYWNrKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdHJhY2sudmFsdWUgKz0gZGFtYWdlLnZhbHVlO1xuICAgICAgICAvLyBpZiAodHJhY2sudmFsdWUgPiB0cmFjay5tYXgpIHtcbiAgICAgICAgLy8gICAgIC8vIGRldiBlcnJvciwgbm90IHJlYWxseSBtZWFudCB0byBiZSBldmVyIHNlZW4gYnkgdXNlcnMuIFRoZXJlZm9yZSBubyBsb2NhbGl6YXRpb24uXG4gICAgICAgIC8vICAgICBjb25zb2xlLmVycm9yKFwiRGFtYWdlIGRpZCBvdmVyZmxvdyB0aGUgdHJhY2ssIHdoaWNoIHNob3VsZG4ndCBoYXBwZW4gYXQgdGhpcyBzdGFnZS4gRGFtYWdlIGhhcyBiZWVuIHNldCB0byBtYXguIFBsZWFzZSB1c2UgYXBwbHlEYW1hZ2UuXCIpXG4gICAgICAgIC8vICAgICB0cmFjay52YWx1ZSA9IHRyYWNrLm1heDtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7W2BkYXRhLnRyYWNrLiR7ZGFtYWdlLnR5cGUudmFsdWV9YF06IHRyYWNrfTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX2FkZERhbWFnZVRvT3ZlcmZsb3coZGFtYWdlOiBEYW1hZ2VEYXRhLCB0cmFjazogT3ZlcmZsb3dUcmFja1R5cGUpIHtcbiAgICAgICAgaWYgKGRhbWFnZS52YWx1ZSA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBpZiAodHJhY2sub3ZlcmZsb3cudmFsdWUgPT09IHRyYWNrLm92ZXJmbG93Lm1heCkgcmV0dXJuO1xuXG4gICAgICAgIC8vICBBdm9pZCBjcm9zcyByZWZlcmVuY2luZy5cbiAgICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBkdXBsaWNhdGUodHJhY2sub3ZlcmZsb3cpO1xuXG4gICAgICAgIC8vIERvbid0IG92ZXIgYXBwbHkgZGFtYWdlIHRvIHRoZSB0cmFjayBvdmVyZmxvdy5cbiAgICAgICAgb3ZlcmZsb3cudmFsdWUgKz0gZGFtYWdlLnZhbHVlO1xuICAgICAgICBvdmVyZmxvdy52YWx1ZSA9IE1hdGgubWluKG92ZXJmbG93LnZhbHVlLCBvdmVyZmxvdy5tYXgpO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7W2BkYXRhLnRyYWNrLiR7ZGFtYWdlLnR5cGUudmFsdWV9Lm92ZXJmbG93YF06IG92ZXJmbG93fTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqIEFwcGx5IGRhbWFnZSB0byB0aGUgc3R1biB0cmFjayBhbmQgZ2V0IG92ZXJmbG93IGRhbWFnZSBmb3IgdGhlIHBoeXNpY2FsIHRyYWNrLlxuICAgICAqL1xuICAgIGFzeW5jIGFkZFN0dW5EYW1hZ2UoZGFtYWdlOiBEYW1hZ2VEYXRhKTogUHJvbWlzZTxEYW1hZ2VEYXRhPiB7XG4gICAgICAgIGlmIChkYW1hZ2UudHlwZS52YWx1ZSAhPT0gJ3N0dW4nKSByZXR1cm4gZGFtYWdlO1xuXG4gICAgICAgIGNvbnN0IHRyYWNrID0gdGhpcy5nZXRTdHVuVHJhY2soKTtcbiAgICAgICAgaWYgKCF0cmFjaylcbiAgICAgICAgICAgIHJldHVybiBkYW1hZ2U7XG5cbiAgICAgICAgY29uc3Qge292ZXJmbG93LCByZXN0fSA9IHRoaXMuX2NhbGNEYW1hZ2VPdmVyZmxvdyhkYW1hZ2UsIHRyYWNrKTtcblxuICAgICAgICAvLyBPbmx5IGNoYW5nZSBkYW1hZ2UgdHlwZSB3aGVuIG5lZWRlZCwgaW4gb3JkZXIgdG8gYXZvaWQgY29uZnVzaW9uIG9mIGNhbGxlcnMuXG4gICAgICAgIGlmIChvdmVyZmxvdy52YWx1ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFwcGx5IFN0dW4gb3ZlcmZsb3cgZGFtYWdlIHRvIHBoeXNpY2FsIHRyYWNrIGFjY29yZGluZyB0bzogU1I1RSMxNzBcbiAgICAgICAgICAgIG92ZXJmbG93LnZhbHVlID0gTWF0aC5mbG9vcihvdmVyZmxvdy52YWx1ZSAvIDIpO1xuICAgICAgICAgICAgb3ZlcmZsb3cudHlwZS52YWx1ZSA9ICdwaHlzaWNhbCc7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9hZGREYW1hZ2VUb1RyYWNrKHJlc3QsIHRyYWNrKTtcbiAgICAgICAgcmV0dXJuIG92ZXJmbG93O1xuICAgIH1cblxuICAgIGFzeW5jIGFkZFBoeXNpY2FsRGFtYWdlKGRhbWFnZTogRGFtYWdlRGF0YSkge1xuICAgICAgICBpZiAoZGFtYWdlLnR5cGUudmFsdWUgIT09ICdwaHlzaWNhbCcpIHJldHVybiBkYW1hZ2U7XG5cbiAgICAgICAgY29uc3QgdHJhY2sgPSB0aGlzLmdldFBoeXNpY2FsVHJhY2soKTtcbiAgICAgICAgaWYgKCF0cmFjaylcbiAgICAgICAgICAgIHJldHVybiBkYW1hZ2U7XG5cbiAgICAgICAgY29uc3Qge292ZXJmbG93LCByZXN0fSA9IHRoaXMuX2NhbGNEYW1hZ2VPdmVyZmxvdyhkYW1hZ2UsIHRyYWNrKTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9hZGREYW1hZ2VUb1RyYWNrKHJlc3QsIHRyYWNrKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fYWRkRGFtYWdlVG9PdmVyZmxvdyhvdmVyZmxvdywgdHJhY2spO1xuICAgIH1cblxuICAgIC8qKiBBZGRpbmcgZGFtYWdlIHRvIGEgZGV2aWNlIHRyYWNrIGluc3RlYWQgb2YgYW4gYWN0b3JzIHRyYWNrLCBhcyB0aGV5IGNvbnRhaW4gdGhlaXIgb3duIHRyYWNrIHdpdGhpbiB0aGVpciBkYXRhLlxuICAgICAqL1xuICAgIGFzeW5jIGFkZE1hdHJpeERhbWFnZShkYW1hZ2U6IERhbWFnZURhdGEpOiBQcm9taXNlPERhbWFnZURhdGE+IHtcbiAgICAgICAgaWYgKGRhbWFnZS50eXBlLnZhbHVlICE9PSAnbWF0cml4JykgcmV0dXJuIGRhbWFnZTtcblxuICAgICAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmdldE1hdHJpeERldmljZSgpO1xuICAgICAgICBpZiAoIWRldmljZSkgcmV0dXJuIGRhbWFnZTtcblxuICAgICAgICBjb25zdCB0cmFjayA9IHRoaXMuZ2V0TWF0cml4VHJhY2soKTtcbiAgICAgICAgLy8gQWN0b3IgbWlnaHQgbm90IGhhdmUgYSBjb21tbGluay9jeWJlcmRlY2sgZXF1aXBwZWQuXG4gICAgICAgIGlmICghdHJhY2spIHJldHVybiBkYW1hZ2U7XG5cbiAgICAgICAgY29uc3Qge292ZXJmbG93LCByZXN0fSA9IHRoaXMuX2NhbGNEYW1hZ2VPdmVyZmxvdyhkYW1hZ2UsIHRyYWNrKTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9hZGREYW1hZ2VUb0RldmljZVRyYWNrKHJlc3QsIGRldmljZSk7XG5cbiAgICAgICAgLy8gUmV0dXJuIG92ZXJmbG93IGZvciBjb25zaXN0ZW5jeSwgeWV0IG5vdGhpbmcgd2lsbCB0YWtlIG92ZXJmbG93aW5nIG1hdHJpeCBkYW1hZ2UuXG4gICAgICAgIHJldHVybiBvdmVyZmxvdztcbiAgICB9XG5cbiAgICAvKiogQ2FsY3VsYXRlIGRhbWFnZSBvdmVyZmxvdyBvbmx5IGJhc2VkIG9uIG1heCBhbmQgY3VycmVudCB0cmFjayB2YWx1ZXMuXG4gICAgICovXG4gICAgX2NhbGNEYW1hZ2VPdmVyZmxvdyhkYW1hZ2U6IERhbWFnZURhdGEsIHRyYWNrOiBUcmFja1R5cGV8Q29uZGl0aW9uRGF0YSk6IHtvdmVyZmxvdzogRGFtYWdlRGF0YSwgcmVzdDogRGFtYWdlRGF0YX0ge1xuICAgICAgICBjb25zdCBmcmVlVHJhY2tEYW1hZ2UgPSB0cmFjay5tYXggLSB0cmFjay52YWx1ZTtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dEYW1hZ2UgPSBkYW1hZ2UudmFsdWUgPiBmcmVlVHJhY2tEYW1hZ2UgP1xuICAgICAgICAgICAgZGFtYWdlLnZhbHVlIC0gZnJlZVRyYWNrRGFtYWdlIDpcbiAgICAgICAgICAgIDA7XG4gICAgICAgIGNvbnN0IHJlc3REYW1hZ2UgPSBkYW1hZ2UudmFsdWUgLSBvdmVyZmxvd0RhbWFnZTtcblxuICAgICAgICAvLyAgQXZvaWQgY3Jvc3MgcmVmZXJlbmNpbmcuXG4gICAgICAgIGNvbnN0IG92ZXJmbG93ID0gZHVwbGljYXRlKGRhbWFnZSk7XG4gICAgICAgIGNvbnN0IHJlc3QgPSBkdXBsaWNhdGUoZGFtYWdlKTtcblxuICAgICAgICBvdmVyZmxvdy52YWx1ZSA9IG92ZXJmbG93RGFtYWdlO1xuICAgICAgICByZXN0LnZhbHVlID0gcmVzdERhbWFnZTtcblxuICAgICAgICByZXR1cm4ge292ZXJmbG93LCByZXN0fTtcbiAgICB9XG5cbiAgICBnZXRTdHVuVHJhY2soKTogVHJhY2tUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKFwidHJhY2tcIiBpbiB0aGlzLmRhdGEuZGF0YSAmJiBcInN0dW5cIiBpbiB0aGlzLmRhdGEuZGF0YS50cmFjaylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS50cmFjay5zdHVuO1xuICAgIH1cblxuICAgIGdldFBoeXNpY2FsVHJhY2soKTogT3ZlcmZsb3dUcmFja1R5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoXCJ0cmFja1wiIGluIHRoaXMuZGF0YS5kYXRhKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLnRyYWNrLnBoeXNpY2FsO1xuICAgIH1cblxuICAgIGdldE1hdHJpeFRyYWNrKCk6IENvbmRpdGlvbkRhdGF8dW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5nZXRNYXRyaXhEZXZpY2UoKTtcbiAgICAgICAgaWYgKCFkZXZpY2UpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIGRldmljZS5nZXRDb25kaXRpb24oKTtcbiAgICB9XG5cbiAgICBnZXRNb2RpZmllZEFybW9yKGRhbWFnZTogRGFtYWdlRGF0YSk6IEFjdG9yQXJtb3JEYXRhIHtcbiAgICAgICAgaWYgKCFkYW1hZ2UuYXA/LnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBcm1vcigpO1xuICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb2RpZmllZCA9IGR1cGxpY2F0ZSh0aGlzLmdldEFybW9yKCkpO1xuICAgICAgICBpZiAobW9kaWZpZWQpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KG1vZGlmaWVkLm1vZCwgJ1NSNS5EVicsIGRhbWFnZS5hcC52YWx1ZSk7XG4gICAgICAgICAgICBtb2RpZmllZC52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKG1vZGlmaWVkLCB7bWluOiAwfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbW9kaWZpZWQ7XG4gICAgfVxuXG4gICAgLyoqIFJlZHVjZSB0aGUgaW5pdGlhdGl2ZSBvZiB0aGUgYWN0b3IgaW4gdGhlIGN1cnJlbnRseSBvcGVuIC8gc2VsZWN0ZWQgY29tYmF0LlxuICAgICAqIFNob3VsZCBhIHRva2VucyBhY3RvciBiZSBpbiBtdWx0aXBsZSBjb21iYXRzIGl0IHdpbGwgYWxzbyBvbmx5IGFmZmVjdCB0aGUgY3VycmVudGx5IG9wZW4gY29tYmF0LFxuICAgICAqIHNpbmNlIHRoYXQgaXMgd2hhdCdzIHNldCBpbiBnYW1lLmNvbWJhdFxuICAgICAqXG4gICAgICogVE9ETzogVGhlcmUgaXMgYW4gaXNzdWUgd2l0aCBsaW5rZWQgYWN0b3JzIHRoYXQgaGF2ZSBtdWx0aXBsZSB0b2tlbnMgcGxhY2VkLCB3aXRoIGVhY2ggaW4gZGlmZmVyZW50IGNvbWJhdHMuXG4gICAgICogICAgICAgVGhlIGRlZmVuc2UgdGVzdCBuZWVkcyB0byBiZSBkb25lIHVzaW5nIHRoZSBjb3JyZWN0IHRva2VuLCBub3QganVzdCBieSB0aGUgYWN0b3IgKGZyb20gdGhlIHNpZGViYXIpLlxuICAgICAqICAgICAgIE9uZSBjb3VsZCBhcmd1ZSB0aGlzIHRvIGJlIGNvcnJlY3QgYmVoYXZpb3IsIGp1c3QgY29uZnVzaW5nIHdpdGggbm9ybWFsIGxpbmtlZCBhY3RvciAvIHRva2VuIHVzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGNoYW5nZUNvbWJhdEluaXRpYXRpdmUobW9kaWZpZXI6IG51bWJlcikge1xuICAgICAgICAvLyBObyBjaGFuZ2UgbmVlZGVkIGZvciBub3RoaW5nIHRvIGNoYW5nZS5cbiAgICAgICAgaWYgKG1vZGlmaWVyID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY29tYmF0OiBTUjVDb21iYXQgPSBnYW1lLmNvbWJhdCBhcyBTUjVDb21iYXQ7XG4gICAgICAgIGNvbnN0IGNvbWJhdGFudCA9IGNvbWJhdC5nZXRBY3RvckNvbWJhdGFudCh0aGlzKTtcblxuICAgICAgICAvLyBUb2tlbiBtaWdodCBub3QgYmUgcGFydCBvZiBhY3RpdmUgY29tYmF0LlxuICAgICAgICBpZiAoIWNvbWJhdGFudCkgcmV0dXJuO1xuXG4gICAgICAgIGF3YWl0IGNvbWJhdC5hZGp1c3RJbml0aWF0aXZlKGNvbWJhdGFudCwgbW9kaWZpZXIpO1xuICAgIH1cblxuICAgIGhhc0RhbWFnZVRyYWNrcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIFwidHJhY2tcIiBpbiB0aGlzLmRhdGEuZGF0YTtcbiAgICB9XG5cbiAgICBhc1ZlaGljbGVEYXRhKCk6IFNSNVZlaGljbGVUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWZWhpY2xlKCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhIGFzIFNSNVZlaGljbGVUeXBlO1xuICAgIH1cblxuICAgIGFzQ2hhcmFjdGVyRGF0YSgpOiBTUjVDaGFyYWN0ZXJUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXIoKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgYXMgU1I1Q2hhcmFjdGVyVHlwZTtcbiAgICB9XG5cbiAgICBhc1NwaXJpdERhdGEoKTogU1I1U3Bpcml0VHlwZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzU3Bpcml0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgYXMgU1I1U3Bpcml0VHlwZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzU3ByaXRlRGF0YSgpOiBTUjVTcHJpdGVUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTcHJpdGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBTUjVTcHJpdGVUeXBlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXNDcml0dGVyRGF0YSgpOiBTUjVDcml0dGVyVHlwZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzQ3JpdHRlcigpKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgYXMgU1I1Q3JpdHRlclR5cGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRWZWhpY2xlU3RhdHMoKTogVmVoaWNsZVN0YXRzIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWZWhpY2xlKCkgJiYgXCJ2ZWhpY2xlX3N0YXRzXCIgaW4gdGhpcy5kYXRhLmRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS52ZWhpY2xlX3N0YXRzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEFkZCBhbm90aGVyIGFjdG9yIGFzIHRoZSBkcml2ZXIgb2YgYSB2ZWhpY2xlIHRvIGFsbG93IGZvciB0aGVpciB2YWx1ZXMgdG8gYmUgdXNlZCBpbiB0ZXN0aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIEFuIGFjdG9ycyBpZC4gU2hvdWxkIGJlIGEgY2hhcmFjdGVyIGFibGUgdG8gZHJpdmUgYSB2ZWhpY2xlXG4gICAgICovXG4gICAgYXN5bmMgYWRkVmVoaWNsZURyaXZlcihpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZlaGljbGUoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGRyaXZlciA9IGdhbWUuYWN0b3JzLmdldChpZCkgYXMgU1I1QWN0b3I7XG4gICAgICAgIGlmICghZHJpdmVyKSByZXR1cm47XG5cbiAgICAgICAgLy8gTk9URTogSW4gVEhFT1JZIGFsbW9zdCBhbGwgYWN0b3IgdHlwZXMgY2FuIGRyaXZlIGEgdmVoaWNsZS5cbiAgICAgICAgLy8gLi4uIGRyZWssIGluIHRoZW9yeSBhIGRyb25lIGNvdWxkIGRyaXZlIGFub3RoZXIgdmVoaWNsZSBldmVuLi4uXG5cbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeydkYXRhLmRyaXZlcic6IGRyaXZlci5pZH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHJlbW92ZVZlaGljbGVEcml2ZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNEcml2ZXIoKSkgcmV0dXJuO1xuXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsnZGF0YS5kcml2ZXInOiAnJ30pO1xuICAgIH1cblxuICAgIGhhc0RyaXZlcigpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuYXNWZWhpY2xlRGF0YSgpO1xuXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0YS5kYXRhLmRyaXZlci5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGdldFZlaGljbGVEcml2ZXIoKTogU1I1QWN0b3J8dW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0RyaXZlcigpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmFzVmVoaWNsZURhdGEoKTtcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZHJpdmVyID0gZ2FtZS5hY3RvcnMuZ2V0KGRhdGEuZGF0YS5kcml2ZXIpIGFzIFNSNUFjdG9yO1xuICAgICAgICAvLyBJZiBubyBkcml2ZXIgaWQgaXMgc2V0LCB3ZSB3b24ndCBnZXQgYW4gYWN0b3IgYW5kIHNob3VsZCBleHBsaWNpdGx5IHJldHVybiB1bmRlZmluZWQuXG4gICAgICAgIGlmICghZHJpdmVyKSByZXR1cm47XG4gICAgICAgIHJldHVybiBkcml2ZXI7XG4gICAgfVxuXG4gICAgLyoqIENoZWNrIGlmIHRoaXMgYWN0b3IgaXMgb2Ygb25lIG9yIG11bHRpcGxlIGdpdmVuIGFjdG9yIHR5cGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZXMgQSBsaXN0IG9mIGFjdG9yIHR5cGVzIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIG1hdGNoZXNBY3RvclR5cGVzKHR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZXMuaW5jbHVkZXModGhpcy5kYXRhLnR5cGUpO1xuICAgIH1cblxuICAgIC8qKiBUT0RPOiBtZXRob2QgZG9jdW1lbnRhdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIGlnbm9yZVNjZW5lIFNldCB0byB0cnVlIHRvIGlnbm9yZSBtb2RpZmllcnMgc2V0IG9uIGFjdGl2ZSBvciBnaXZlbiBzY2VuZS5cbiAgICAgKiBAcGFyYW0gc2NlbmUgU2hvdWxkIGEgc2NlbmUgYmUgdXNlZCBhcyBhIGZhbGxiYWNrLCBwcm92aWRlIHRoaXMgaGVyZS4gT3RoZXJ3aXNlIGN1cnJlbnQgc2NlbmUgd2lsbCBiZSB1c2VkLlxuICAgICAqL1xuICAgIGFzeW5jIGdldE1vZGlmaWVycyhpZ25vcmVTY2VuZTogYm9vbGVhbj1mYWxzZSwgc2NlbmU6IFNjZW5lPWNhbnZhcy5zY2VuZSk6IFByb21pc2U8TW9kaWZpZXJzPiB7XG4gICAgICAgIGNvbnN0IG9uQWN0b3IgPSBhd2FpdCBNb2RpZmllcnMuZ2V0TW9kaWZpZXJzRnJvbUVudGl0eSh0aGlzKTtcblxuICAgICAgICBpZiAob25BY3Rvci5oYXNBY3RpdmVFbnZpcm9ubWVudGFsKSB7XG4gICAgICAgICAgICByZXR1cm4gb25BY3RvcjtcbiAgICAgICAgfSBlbHNlIGlmIChpZ25vcmVTY2VuZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb2RpZmllcnMoTW9kaWZpZXJzLmdldERlZmF1bHRNb2RpZmllcnMoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgTW9kaWZpZXJzLmdldE1vZGlmaWVyc0Zyb21FbnRpdHkoc2NlbmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0TW9kaWZpZXJzKG1vZGlmaWVyczogTW9kaWZpZXJzKSB7XG4gICAgICAgIGF3YWl0IE1vZGlmaWVycy5zZXRNb2RpZmllcnNPbkVudGl0eSh0aGlzLCBtb2RpZmllcnMubW9kaWZpZXJzKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0hlbHBlcnN9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHtDaHVtbWVySW1wb3J0Rm9ybX0gZnJvbSAnLi4vYXBwcy9jaHVtbWVyLWltcG9ydC1mb3JtJztcbmltcG9ydCB7U2tpbGxFZGl0Rm9ybX0gZnJvbSAnLi4vYXBwcy9za2lsbHMvU2tpbGxFZGl0Rm9ybSc7XG5pbXBvcnQge0tub3dsZWRnZVNraWxsRWRpdEZvcm19IGZyb20gJy4uL2FwcHMvc2tpbGxzL0tub3dsZWRnZVNraWxsRWRpdEZvcm0nO1xuaW1wb3J0IHtMYW5ndWFnZVNraWxsRWRpdEZvcm19IGZyb20gJy4uL2FwcHMvc2tpbGxzL0xhbmd1YWdlU2tpbGxFZGl0Rm9ybSc7XG5pbXBvcnQge1NSNUFjdG9yfSBmcm9tICcuL1NSNUFjdG9yJztcbmltcG9ydCB7U1I1fSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHtTUjVJdGVtfSBmcm9tIFwiLi4vaXRlbS9TUjVJdGVtXCI7XG5pbXBvcnQgU1I1QWN0b3JTaGVldERhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JTaGVldERhdGE7XG5pbXBvcnQgU1I1U2hlZXRGaWx0ZXJzID0gU2hhZG93cnVuLlNSNVNoZWV0RmlsdGVycztcbmltcG9ydCBTa2lsbHMgPSBTaGFkb3dydW4uU2tpbGxzO1xuaW1wb3J0IE1hdHJpeEF0dHJpYnV0ZSA9IFNoYWRvd3J1bi5NYXRyaXhBdHRyaWJ1dGU7XG5pbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuaW1wb3J0IERldmljZURhdGEgPSBTaGFkb3dydW4uRGV2aWNlRGF0YTtcblxuLy8gVXNlIFNSNUFjdG9yU2hlZXQuX3Nob3dTa2lsbEVkaXRGb3JtIHRvIG9ubHkgZXZlciByZW5kZXIgb25lIFNraWxsRWRpdEZvcm0gaW5zdGFuY2UuXG4vLyBTaG91bGQgbXVsdGlwbGUgaW5zdGFuY2VzIGJlIG9wZW4sIEZvdW5kcnkgd2lsbCBjYXVzZSBjcm9zcyB0YWxrIGJldHdlZW4gc2tpbGxzIGFuZCBhY3RvcnMsXG4vLyB3aGVuIG9wZW5lZCBpbiBzdWNjZXNzaW9uLCBjYXVzaW5nIFNraWxsRWRpdEZvcm0gdG8gd3JvbmdmdWxseSBvdmVyd3JpdGUgdGhlIHdyb25nIGRhdGEuXG5sZXQgZ2xvYmFsU2tpbGxBcHBJZDogbnVtYmVyID0gLTE7XG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBBY3RvclNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKlxuICogTk9URTogQWN0b3JTaGVldDxULCBBPiBleHBlY3RzIEFjdG9yLmRhdGEuZGF0YSB0eXBpbmcsIHlldCBjb21wbGFpbnMgYWJvdXQgaXQncyBnZW5lcmFsIHR5cGUgYmVpbmcgbm90IGNvbXBhdGlibGVcbiAqICAgICAgIHdpdGggU1I1QWN0b3JEYXRhXG4gKi9cbmV4cG9ydCBjbGFzcyBTUjVBY3RvclNoZWV0IGV4dGVuZHMgQWN0b3JTaGVldDx7fSwgU1I1QWN0b3I+IHtcbiAgICBfc2hvd25EZXNjOiBzdHJpbmdbXTtcbiAgICBfZmlsdGVyczogU1I1U2hlZXRGaWx0ZXJzO1xuICAgIF9zY3JvbGw6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgc2hlZXQgdGFiXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaG93bkRlc2MgPSBbXTtcbiAgICAgICAgdGhpcy5fZmlsdGVycyA9IHtcbiAgICAgICAgICAgIHNraWxsczogJycsXG4gICAgICAgICAgICBzaG93VW50cmFpbmVkU2tpbGxzOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgNWUgQWN0b3IgU2hlZXRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgICAgICAgY2xhc3NlczogWydzcjUnLCAnc2hlZXQnLCAnYWN0b3InXSxcbiAgICAgICAgICAgIHdpZHRoOiA4ODAsXG4gICAgICAgICAgICBoZWlnaHQ6IDY5MCxcbiAgICAgICAgICAgIHRhYnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnRhYnMnLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXRib2R5JyxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbDogJ3NraWxscycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzJztcblxuICAgICAgICBpZiAodGhpcy5hY3Rvci5oYXNQZXJtKGdhbWUudXNlciwgJ0xJTUlURUQnLCB0cnVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3BhdGh9L2FjdG9yLWxpbWl0ZWQvJHt0aGlzLmFjdG9yLmRhdGEudHlwZX0uaHRtbGA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYCR7cGF0aH0vYWN0b3IvJHt0aGlzLmFjdG9yLmRhdGEudHlwZX0uaHRtbGA7XG4gICAgfVxuXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBBY3RvciBzaGVldFxuICAgICAqIFRoZSBwcmVwYXJlZCBkYXRhIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBhY3RvciBkYXRhIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBzaGVldCBvcHRpb25zXG4gICAgICovXG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgY29uc3QgZGF0YTogU1I1QWN0b3JTaGVldERhdGEgPSAoc3VwZXIuZ2V0RGF0YSgpIGFzIHVua25vd24pIGFzIFNSNUFjdG9yU2hlZXREYXRhO1xuXG4gICAgICAgIC8vIEdlbmVyYWwgcHVycG9zZSBmaWVsZHMuLi5cbiAgICAgICAgZGF0YS5jb25maWcgPSBDT05GSUcuU1I1O1xuICAgICAgICBkYXRhLmZpbHRlcnMgPSB0aGlzLl9maWx0ZXJzO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVNYXRyaXhBdHRyaWJ1dGVzKGRhdGEpO1xuICAgICAgICB0aGlzLl9wcmVwYXJlQWN0b3JBdHRyaWJ1dGVzKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVJdGVtcyhkYXRhKTtcbiAgICAgICAgdGhpcy5fcHJlcGFyZVNraWxsc1dpdGhGaWx0ZXJzKGRhdGEpO1xuICAgICAgICB0aGlzLl9wcmVwYXJlQWN0b3JUeXBlRmllbGRzKGRhdGEpO1xuICAgICAgICB0aGlzLl9wcmVwYXJlQ2hhcmFjdGVyRmllbGRzKGRhdGEpO1xuICAgICAgICB0aGlzLl9wcmVwYXJlVmVoaWNsZUZpZWxkcyhkYXRhKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBfaXNTa2lsbE1hZ2ljKGlkLCBza2lsbCkge1xuICAgICAgICByZXR1cm4gc2tpbGwuYXR0cmlidXRlID09PSAnbWFnaWMnIHx8IGlkID09PSAnYXN0cmFsX2NvbWJhdCcgfHwgaWQgPT09ICdhc3NlbnNpbmcnO1xuICAgIH1cblxuICAgIF9pc1NraWxsUmVzb25hbmNlKHNraWxsKSB7XG4gICAgICAgIHJldHVybiBza2lsbC5hdHRyaWJ1dGUgPT09ICdyZXNvbmFuY2UnO1xuICAgIH1cblxuICAgIF9nZXRTa2lsbExhYmVsT3JOYW1lKHNraWxsKSB7XG4gICAgICAgIC8vIEN1c3RvbSBza2lsbHMgZG9uJ3QgaGF2ZSBsYWJlbHMsIHVzZSB0aGVpciBuYW1lIGluc3RlYWQuXG4gICAgICAgIHJldHVybiBza2lsbC5sYWJlbCA/IGdhbWUuaTE4bi5sb2NhbGl6ZShza2lsbC5sYWJlbCkgOiBza2lsbC5uYW1lO1xuICAgIH1cblxuICAgIF9kb2VzU2tpbGxDb250YWluVGV4dChrZXksIHNraWxsLCB0ZXh0KSB7XG4gICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWFyY2ggYm90aCBlbmdsaXNoIGtleXMsIGxvY2FsaXplZCBsYWJlbHMgYW5kIGFsbCBzcGVjaWFsaXphdGlvbnMuXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9nZXRTa2lsbExhYmVsT3JOYW1lKHNraWxsKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoS2V5ID0gc2tpbGwubmFtZSA9PT0gdW5kZWZpbmVkID8ga2V5IDogJyc7XG4gICAgICAgIC8vIHNvbWUgXCJzcGVjc1wiIHdlcmUgYSBzdHJpbmcgZnJvbSBvbGQgY29kZSBJIHRoaW5rXG4gICAgICAgIGNvbnN0IHNwZWNzID0gc2tpbGwuc3BlY3MgIT09IHVuZGVmaW5lZCAmJiBBcnJheS5pc0FycmF5KHNraWxsLnNwZWNzKSA/IHNraWxsLnNwZWNzLmpvaW4oJyAnKSA6ICcnO1xuICAgICAgICBsZXQgc2VhcmNoU3RyaW5nID0gYCR7c2VhcmNoS2V5fSAke25hbWV9ICR7c3BlY3N9YDtcblxuICAgICAgICByZXR1cm4gc2VhcmNoU3RyaW5nLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHRleHQudG9Mb3dlckNhc2UoKSkgPiAtMTtcbiAgICB9XG5cbiAgICBfcHJlcGFyZUNoYXJhY3RlckZpZWxkcyhkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICAvLyBFbXB0eSB6ZXJvIHZhbHVlIG1vZGlmaWVycyBmb3IgZGlzcGxheSBwdXJwb3Nlcy5cbiAgICAgICAgY29uc3QgeyBtb2RpZmllcnM6IG1vZHMgfSA9IGRhdGEuZGF0YTtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1vZHMpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IDApIG1vZHNba2V5XSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5hd2FrZW5lZCA9IGRhdGEuZGF0YS5zcGVjaWFsID09PSAnbWFnaWMnO1xuICAgICAgICBkYXRhLmVtZXJnZWQgPSBkYXRhLmRhdGEuc3BlY2lhbCA9PT0gJ3Jlc29uYW5jZSc7XG4gICAgICAgIGRhdGEud291bmRUb2xlcmFuY2UgPSAzICsgKE51bWJlcihtb2RzWyd3b3VuZF90b2xlcmFuY2UnXSkgfHwgMCk7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVWZWhpY2xlRmllbGRzKGRhdGE6IFNSNUFjdG9yU2hlZXREYXRhKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3Rvci5pc1ZlaGljbGUoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGRyaXZlciA9IHRoaXMuYWN0b3IuZ2V0VmVoaWNsZURyaXZlcigpO1xuXG4gICAgICAgIGRhdGEudmVoaWNsZSA9IHtcbiAgICAgICAgICAgIGRyaXZlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9wcmVwYXJlQWN0b3JUeXBlRmllbGRzKGRhdGE6IFNSNUFjdG9yU2hlZXREYXRhKSB7XG4gICAgICAgIGRhdGEuaXNDaGFyYWN0ZXIgPSB0aGlzLmFjdG9yLmlzQ2hhcmFjdGVyKCk7XG4gICAgICAgIGRhdGEuaXNTcGlyaXQgPSB0aGlzLmFjdG9yLmlzU3Bpcml0KCk7XG4gICAgICAgIGRhdGEuaXNDcml0dGVyID0gdGhpcy5hY3Rvci5pc0NyaXR0ZXIoKTtcbiAgICB9XG5cbiAgICBfcHJlcGFyZU1hdHJpeEF0dHJpYnV0ZXMoZGF0YSkge1xuICAgICAgICBjb25zdCB7IG1hdHJpeCB9ID0gZGF0YS5kYXRhO1xuICAgICAgICBpZiAobWF0cml4KSB7XG4gICAgICAgICAgICBjb25zdCBjbGVhbnVwQXR0cmlidXRlID0gKGF0dHJpYnV0ZTogTWF0cml4QXR0cmlidXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ID0gbWF0cml4W2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgaWYgKGF0dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dC5tb2QpIGF0dC5tb2QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dC50ZW1wID09PSAwKSBkZWxldGUgYXR0LnRlbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgWydmaXJld2FsbCcsICdkYXRhX3Byb2Nlc3NpbmcnLCAnc2xlYXplJywgJ2F0dGFjayddLmZvckVhY2goKGF0dDogTWF0cml4QXR0cmlidXRlKSA9PiBjbGVhbnVwQXR0cmlidXRlKGF0dCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3ByZXBhcmVBY3RvckF0dHJpYnV0ZXMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEpIHtcbiAgICAgICAgLy8gQ2xlYXIgdmlzaWJsZSwgemVybyB2YWx1ZSBhdHRyaWJ1dGVzIHRlbXBvcmFyeSBtb2RpZmllcnMgc28gdGhleSBhcHBlYXIgYmxhbmsuXG4gICAgICAgIGNvbnN0IGF0dHJzID0gZGF0YS5kYXRhLmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAobGV0IFssIGF0dF0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cnMpKSB7XG4gICAgICAgICAgICBpZiAoIWF0dC5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRlbXAgPT09IDApIGRlbGV0ZSBhdHQudGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wcmVwYXJlU2tpbGxzV2l0aEZpbHRlcnMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEpIHtcbiAgICAgICAgdGhpcy5fZmlsdGVyQWN0aXZlU2tpbGxzKGRhdGEpO1xuICAgICAgICB0aGlzLl9maWx0ZXJLbm93bGVkZ2VTa2lsbHMoZGF0YSk7XG4gICAgICAgIHRoaXMuX2ZpbHRlckxhbmd1YWdlU2tpbGxzKGRhdGEpO1xuICAgIH1cblxuICAgIF9maWx0ZXJBY3RpdmVTa2lsbHMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEpIHtcbiAgICAgICAgLy8gSGFuZGxlIGFjdGl2ZSBza2lsbHMgZGlyZWN0bHksIGFzIGl0IGRvZXNuJ3QgdXNlIHN1Yi1jYXRlZ29yaWVzLlxuICAgICAgICBkYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZSA9IHRoaXMuX2ZpbHRlclNraWxscyhkYXRhLCBkYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZSk7XG4gICAgfVxuXG4gICAgX2ZpbHRlcktub3dsZWRnZVNraWxscyhkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICAvLyBLbm93bGVkZ2Ugc2tpbGwgaGF2ZSBzZXBhcmF0ZSBzdWItY2F0ZWdvcmllcy5cbiAgICAgICAgT2JqZWN0LmtleXMoU1I1Lmtub3dsZWRnZVNraWxsQ2F0ZWdvcmllcykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgICAgIGlmICghZGF0YS5kYXRhLnNraWxscy5rbm93bGVkZ2UuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBLbm93bGVkZ2UgU2tpbGwgZG9lc24ndCBwcm92aWRlIGNvbmZpZ3VyZWQgY2F0ZWdvcnkgJHtjYXRlZ29yeX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmRhdGEuc2tpbGxzLmtub3dsZWRnZVtjYXRlZ29yeV0udmFsdWUgPSB0aGlzLl9maWx0ZXJTa2lsbHMoZGF0YSwgZGF0YS5kYXRhLnNraWxscy5rbm93bGVkZ2VbY2F0ZWdvcnldLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2ZpbHRlckxhbmd1YWdlU2tpbGxzKGRhdGE6IFNSNUFjdG9yU2hlZXREYXRhKSB7XG4gICAgICAgIC8vIExhbmd1YWdlIFNraWxscyBoYXZlIG5vIHN1Yi1jYXRlZ29yaWVzLlxuICAgICAgICBkYXRhLmRhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlID0gdGhpcy5fZmlsdGVyU2tpbGxzKGRhdGEsIGRhdGEuZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWUpO1xuICAgIH1cblxuICAgIF9maWx0ZXJTa2lsbHMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEsIHNraWxsczogU2tpbGxzKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkU2tpbGxzID0ge307XG4gICAgICAgIGZvciAobGV0IFtrZXksIHNraWxsXSBvZiBPYmplY3QuZW50cmllcyhza2lsbHMpKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBzaG93IGhpZGRlbiBza2lsbHMuXG4gICAgICAgICAgICBpZiAoc2tpbGwuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaWx0ZXIgdmlzaWJsZSBza2lsbHMuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2hvd1NraWxsKGtleSwgc2tpbGwsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTa2lsbHNba2V5XSA9IHNraWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuc29ydFNraWxscyhmaWx0ZXJlZFNraWxscyk7XG4gICAgfVxuXG4gICAgX3Nob3dTa2lsbChrZXksIHNraWxsLCBkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93TWFnaWNTa2lsbHMoa2V5LCBza2lsbCwgZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zaG93UmVzb25hbmNlU2tpbGxzKGtleSwgc2tpbGwsIGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zaG93R2VuZXJhbFNraWxsKGtleSwgc2tpbGwpO1xuICAgIH1cblxuICAgIF9pc1NraWxsRmlsdGVyZWQoc2tpbGxJZCwgc2tpbGwpIHtcbiAgICAgICAgLy8gYSBuZXdseSBjcmVhdGVkIHNraWxsIHNob3VsZG4ndCBiZSBmaWx0ZXJlZCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgICAgIC8vIFRoZXJlZm9yZSBkaXNxdWFsaWZ5IGVtcHR5IHNraWxsIGxhYmVscy9uYW1lcyBmcm9tIGZpbHRlcmluZyBhbmQgYWx3YXlzIHNob3cgdGhlbS5cbiAgICAgICAgY29uc3QgaXNGaWx0ZXJhYmxlID0gdGhpcy5fZ2V0U2tpbGxMYWJlbE9yTmFtZShza2lsbCkubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgaXNIaWRkZW5Gb3JUZXh0ID0gIXRoaXMuX2RvZXNTa2lsbENvbnRhaW5UZXh0KHNraWxsSWQsIHNraWxsLCB0aGlzLl9maWx0ZXJzLnNraWxscyk7XG4gICAgICAgIGNvbnN0IGlzSGlkZGVuRm9yVW50cmFpbmVkID0gIXRoaXMuX2ZpbHRlcnMuc2hvd1VudHJhaW5lZFNraWxscyAmJiBza2lsbC52YWx1ZSA9PT0gMDtcblxuICAgICAgICByZXR1cm4gIShpc0ZpbHRlcmFibGUgJiYgKGlzSGlkZGVuRm9yVW50cmFpbmVkIHx8IGlzSGlkZGVuRm9yVGV4dCkpO1xuICAgIH1cblxuICAgIF9zaG93R2VuZXJhbFNraWxsKHNraWxsSWQsIHNraWxsOiBTa2lsbEZpZWxkKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5faXNTa2lsbE1hZ2ljKHNraWxsSWQsIHNraWxsKSAmJiAhdGhpcy5faXNTa2lsbFJlc29uYW5jZShza2lsbCkgJiYgdGhpcy5faXNTa2lsbEZpbHRlcmVkKHNraWxsSWQsIHNraWxsKTtcbiAgICB9XG5cbiAgICBfc2hvd01hZ2ljU2tpbGxzKHNraWxsSWQsIHNraWxsOiBTa2lsbEZpZWxkLCBkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTa2lsbE1hZ2ljKHNraWxsSWQsIHNraWxsKSAmJiBkYXRhLmRhdGEuc3BlY2lhbCA9PT0gJ21hZ2ljJyAmJiB0aGlzLl9pc1NraWxsRmlsdGVyZWQoc2tpbGxJZCwgc2tpbGwpO1xuICAgIH1cblxuICAgIF9zaG93UmVzb25hbmNlU2tpbGxzKHNraWxsSWQsIHNraWxsOiBTa2lsbEZpZWxkLCBkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTa2lsbFJlc29uYW5jZShza2lsbCkgJiYgZGF0YS5kYXRhLnNwZWNpYWwgPT09ICdyZXNvbmFuY2UnICYmIHRoaXMuX2lzU2tpbGxGaWx0ZXJlZChza2lsbElkLCBza2lsbCk7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVJdGVtcyhkYXRhKSB7XG4gICAgICAgIGNvbnN0IGludmVudG9yeSA9IHt9O1xuXG4gICAgICAgIC8vIEFsbCBhY3RpbmcgZW50aXRpZXMgc2hvdWxkIGJlIGFsbG93ZWQgdG8gY2Fycnkgc29tZSBwcm90ZWN0aW9uIVxuICAgICAgICBpbnZlbnRvcnlbJ3dlYXBvbiddID0ge1xuICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lkl0ZW1UeXBlcy5XZWFwb24nKSxcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgIGRhdGFzZXQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2VhcG9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ3JpdHRlcnMgYXJlIHBlb3BsZSB0by4uLiBTdXBwb3J0IHlvdXIgbG9jYWwgSE1IVlYgc3VwcG9ydCBncm91cHMhXG4gICAgICAgIGlmICh0aGlzLmFjdG9yLm1hdGNoZXNBY3RvclR5cGVzKFsnY2hhcmFjdGVyJywgJ2NyaXR0ZXInLCAndmVoaWNsZSddKSkge1xuICAgICAgICAgICAgaW52ZW50b3J5Wydhcm1vciddID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5JdGVtVHlwZXMuQXJtb3InKSxcbiAgICAgICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgICAgICAgZGF0YXNldDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXJtb3InLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW52ZW50b3J5WydkZXZpY2UnXSA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuSXRlbVR5cGVzLkRldmljZScpLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgICAgICBkYXRhc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZXZpY2UnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW52ZW50b3J5WydlcXVpcG1lbnQnXSA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuSXRlbVR5cGVzLkVxdWlwbWVudCcpLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgICAgICBkYXRhc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcXVpcG1lbnQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW52ZW50b3J5WydhbW1vJ10gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lkl0ZW1UeXBlcy5BbW1vJyksXG4gICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgICAgICAgIGRhdGFzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FtbW8nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW52ZW50b3J5WydjeWJlcndhcmUnXSA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuSXRlbVR5cGVzLkN5YmVyd2FyZScpLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgICAgICBkYXRhc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjeWJlcndhcmUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW52ZW50b3J5WydiaW93YXJlJ10gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lkl0ZW1UeXBlcy5CaW93YXJlJyksXG4gICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgICAgICAgIGRhdGFzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Jpb3dhcmUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFtcbiAgICAgICAgICAgIGl0ZW1zLFxuICAgICAgICAgICAgc3BlbGxzLFxuICAgICAgICAgICAgcXVhbGl0aWVzLFxuICAgICAgICAgICAgYWRlcHRfcG93ZXJzLFxuICAgICAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgICAgIGNvbXBsZXhfZm9ybXMsXG4gICAgICAgICAgICBsaWZlc3R5bGVzLFxuICAgICAgICAgICAgY29udGFjdHMsXG4gICAgICAgICAgICBzaW5zLFxuICAgICAgICAgICAgcHJvZ3JhbXMsXG4gICAgICAgICAgICBjcml0dGVyX3Bvd2VycyxcbiAgICAgICAgICAgIHNwcml0ZV9wb3dlcnMsXG4gICAgICAgIF0gPSBkYXRhLml0ZW1zLnJlZHVjZShcbiAgICAgICAgICAgIChhcnIsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBEdXBsaWNhdGUgdG8gYXZvaWQgbGF0ZXIgdXBkYXRlcyBwcm9wYWdhdGluZyBjaGFuZ2VkIGl0ZW0gZGF0YS5cbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBJZiBubyBkdXBsaWNhdGlvbiBpcyBkb25lLCBhZGRlZCBmaWVsZHMgd2lsbCBiZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlIG9uIHVwZGF0ZXMhXG4gICAgICAgICAgICAgICAgaXRlbSA9IGR1cGxpY2F0ZShpdGVtKTtcbiAgICAgICAgICAgICAgICAvLyBTaG93IGl0ZW0gcHJvcGVydGllcyBhbmQgZGVzY3JpcHRpb24gaW4gdGhlIGl0ZW0gbGlzdCBvdmVydmlld3MuXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0b3JJdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoaXRlbS5faWQpIGFzIFNSNUl0ZW07XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhdERhdGEgPSBhY3Rvckl0ZW0uZ2V0Q2hhdERhdGEoKTtcbiAgICAgICAgICAgICAgICBpdGVtLmRlc2NyaXB0aW9uID0gY2hhdERhdGEuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSAvLyBUaGlzIGlzIGEgaGFja3kgbW9ua2V5IHBhdGNoIHNvbHV0aW9uIHRvIHBhc3MgdGVtcGxhdGUgZGF0YSB0aHJvdWdoIGR1cGxpY2F0ZWQgaXRlbSBkYXRhLlxuICAgICAgICAgICAgICAgIGl0ZW0ucHJvcGVydGllcyA9IGNoYXREYXRhLnByb3BlcnRpZXM7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBpc1N0YWNrIHByb3BlcnR5IGlzbid0IHVzZWQgZWxzZXdoZXJlLiBSZW1vdmUgaWYgdW5uZWNlc3NhcnkuXG4gICAgICAgICAgICAgICAgaXRlbS5pc1N0YWNrID0gaXRlbS5kYXRhLnF1YW50aXR5ID8gaXRlbS5kYXRhLnF1YW50aXR5ID4gMSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzcGVsbCcpIGFyclsxXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3F1YWxpdHknKSBhcnJbMl0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdhZGVwdF9wb3dlcicpIGFyclszXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2FjdGlvbicpIGFycls0XS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2NvbXBsZXhfZm9ybScpIGFycls1XS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2xpZmVzdHlsZScpIGFycls2XS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2NvbnRhY3QnKSBhcnJbN10ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzaW4nKSBhcnJbOF0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdwcm9ncmFtJykgYXJyWzldLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS50eXBlID09PSAnY3JpdHRlcl9wb3dlcicpIGFyclsxMF0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzcHJpdGVfcG93ZXInKSBhcnJbMTFdLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoT2JqZWN0LmtleXMoaW52ZW50b3J5KS5pbmNsdWRlcyhpdGVtLnR5cGUpKSBhcnJbMF0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdXSxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzb3J0QnlOYW1lID0gKGkxLCBpMikgPT4ge1xuICAgICAgICAgICAgaWYgKGkxLm5hbWUgPiBpMi5uYW1lKSByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChpMS5uYW1lIDwgaTIubmFtZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNvcnRCeUVxdWlwcGVkID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0RXF1aXBwZWQgPSBsZWZ0LmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkO1xuICAgICAgICAgICAgY29uc3QgcmlnaHRFcXVpcHBlZCA9IHJpZ2h0LmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkO1xuICAgICAgICAgICAgaWYgKGxlZnRFcXVpcHBlZCAmJiAhcmlnaHRFcXVpcHBlZCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKHJpZ2h0RXF1aXBwZWQgJiYgIWxlZnRFcXVpcHBlZCkgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lID4gcmlnaHQubmFtZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lIDwgcmlnaHQubmFtZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH07XG4gICAgICAgIGFjdGlvbnMuc29ydChzb3J0QnlOYW1lKTtcbiAgICAgICAgYWRlcHRfcG93ZXJzLnNvcnQoc29ydEJ5TmFtZSk7XG4gICAgICAgIGNvbXBsZXhfZm9ybXMuc29ydChzb3J0QnlOYW1lKTtcbiAgICAgICAgaXRlbXMuc29ydChzb3J0QnlFcXVpcHBlZCk7XG4gICAgICAgIHNwZWxscy5zb3J0KHNvcnRCeU5hbWUpO1xuICAgICAgICBjb250YWN0cy5zb3J0KHNvcnRCeU5hbWUpO1xuICAgICAgICBsaWZlc3R5bGVzLnNvcnQoc29ydEJ5TmFtZSk7XG4gICAgICAgIHNpbnMuc29ydChzb3J0QnlOYW1lKTtcbiAgICAgICAgcHJvZ3JhbXMuc29ydChzb3J0QnlFcXVpcHBlZCk7XG4gICAgICAgIGNyaXR0ZXJfcG93ZXJzLnNvcnQoc29ydEJ5TmFtZSk7XG4gICAgICAgIHNwcml0ZV9wb3dlcnMuc29ydChzb3J0QnlOYW1lKTtcblxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpbnZlbnRvcnlbaXRlbS50eXBlXS5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBkYXRhLmludmVudG9yeSA9IE9iamVjdC52YWx1ZXMoaW52ZW50b3J5KTtcbiAgICAgICAgZGF0YS5tYWdpYyA9IHtcbiAgICAgICAgICAgIHNwZWxsYm9vazogc3BlbGxzLFxuICAgICAgICAgICAgcG93ZXJzOiBhZGVwdF9wb3dlcnMsXG4gICAgICAgIH07XG4gICAgICAgIGRhdGEuYWN0aW9ucyA9IGFjdGlvbnM7XG4gICAgICAgIGRhdGEuY29tcGxleF9mb3JtcyA9IGNvbXBsZXhfZm9ybXM7XG4gICAgICAgIGRhdGEubGlmZXN0eWxlcyA9IGxpZmVzdHlsZXM7XG4gICAgICAgIGRhdGEuY29udGFjdHMgPSBjb250YWN0cztcbiAgICAgICAgZGF0YS5zaW5zID0gc2lucztcbiAgICAgICAgZGF0YS5wcm9ncmFtcyA9IHByb2dyYW1zO1xuICAgICAgICBkYXRhLmNyaXR0ZXJfcG93ZXJzID0gY3JpdHRlcl9wb3dlcnM7XG4gICAgICAgIGRhdGEuc3ByaXRlX3Bvd2VycyA9IHNwcml0ZV9wb3dlcnM7XG5cbiAgICAgICAgcXVhbGl0aWVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLmRhdGEudHlwZSA9PT0gJ3Bvc2l0aXZlJyAmJiBiLmRhdGEudHlwZSA9PT0gJ25lZ2F0aXZlJykgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEuZGF0YS50eXBlID09PSAnbmVnYXRpdmUnICYmIGIuZGF0YS50eXBlID09PSAncG9zaXRpdmUnKSByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7XG4gICAgICAgIH0pO1xuICAgICAgICBkYXRhLnF1YWxpdGllcyA9IHF1YWxpdGllcztcbiAgICB9XG5cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXG4gICAgICogQHBhcmFtIGh0bWwgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgICAqL1xuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuaGlkZGVuJykuaGlkZSgpO1xuXG4gICAgICAgIGh0bWwuZmluZCgnLmhhcy1kZXNjJykuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLmxpc3QtaXRlbScpO1xuICAgICAgICAgICAgY29uc3QgaWlkID0gJChpdGVtKS5kYXRhKCkuaXRlbTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gaXRlbS5uZXh0KCk7XG4gICAgICAgICAgICBmaWVsZC50b2dnbGUoKTtcbiAgICAgICAgICAgIGlmIChpaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXMoJzp2aXNpYmxlJykpIHRoaXMuX3Nob3duRGVzYy5wdXNoKGlpZCk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLl9zaG93bkRlc2MgPSB0aGlzLl9zaG93bkRlc2MuZmlsdGVyKCh2YWwpID0+IHZhbCAhPT0gaWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuc2tpbGwtaGVhZGVyJykuZmluZCgnLml0ZW0tbmFtZScpLmNsaWNrKHRoaXMuX29uRmlsdGVyVW50cmFpbmVkU2tpbGxzLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5za2lsbC1oZWFkZXInKS5maW5kKCcuc2tpbGwtc3BlYy1pdGVtJykuY2xpY2sodGhpcy5fb25GaWx0ZXJVbnRyYWluZWRTa2lsbHMuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLnNraWxsLWhlYWRlcicpLmZpbmQoJy5ydGcnKS5jbGljayh0aGlzLl9vbkZpbHRlclVudHJhaW5lZFNraWxscy5iaW5kKHRoaXMpKTtcblxuICAgICAgICBodG1sLmZpbmQoJy5jZWxsLWlucHV0LXJvbGwnKS5jbGljayh0aGlzLl9vblJvbGxDZWxsSW5wdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLmF0dHJpYnV0ZS1yb2xsJykuY2xpY2sodGhpcy5fb25Sb2xsQXR0cmlidXRlLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5za2lsbC1yb2xsJykuY2xpY2sodGhpcy5fb25Sb2xsQWN0aXZlU2tpbGwuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcjZmlsdGVyLXNraWxscycpLm9uKCdpbnB1dCcsIHRoaXMuX29uRmlsdGVyU2tpbGxzLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGh0bWwuZmluZCgnLnNraWxsLWVkaXQnKS5jbGljayh0aGlzLl9vblNob3dFZGl0U2tpbGwuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLmtub3dsZWRnZS1za2lsbC1lZGl0JykuY2xpY2sodGhpcy5fb25TaG93RWRpdEtub3dsZWRnZVNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5sYW5ndWFnZS1za2lsbC1lZGl0JykuY2xpY2sodGhpcy5fb25TaG93RWRpdExhbmd1YWdlU2tpbGwuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLmFkZC1rbm93bGVkZ2UnKS5jbGljayh0aGlzLl9vbkFkZEtub3dsZWRnZVNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5hZGQtbGFuZ3VhZ2UnKS5jbGljayh0aGlzLl9vbkFkZExhbmd1YWdlU2tpbGwuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLmFkZC1hY3RpdmUnKS5jbGljayh0aGlzLl9vbkFkZEFjdGl2ZVNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5yZW1vdmUta25vd2xlZGdlJykuY2xpY2sodGhpcy5fb25SZW1vdmVLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcucmVtb3ZlLWxhbmd1YWdlJykuY2xpY2sodGhpcy5fb25SZW1vdmVMYW5ndWFnZVNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5yZW1vdmUtYWN0aXZlJykuY2xpY2sodGhpcy5fb25SZW1vdmVBY3RpdmVTa2lsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcua25vd2xlZGdlLXNraWxsJykuY2xpY2sodGhpcy5fb25Sb2xsS25vd2xlZGdlU2tpbGwuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLmxhbmd1YWdlLXNraWxsJykuY2xpY2sodGhpcy5fb25Sb2xsTGFuZ3VhZ2VTa2lsbC5iaW5kKHRoaXMpKTtcblxuICAgICAgICBodG1sLmZpbmQoJy5pdGVtLXJvbGwnKS5jbGljayh0aGlzLl9vblJvbGxJdGVtLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5pdGVtLWVxdWlwLXRvZ2dsZScpLmNsaWNrKHRoaXMuX29uRXF1aXBJdGVtLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5pdGVtLXF0eScpLmNoYW5nZSh0aGlzLl9vbkNoYW5nZVF0eS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuaXRlbS1ydGcnKS5jaGFuZ2UodGhpcy5fb25DaGFuZ2VSdGcuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tY3JlYXRlJykuY2xpY2sodGhpcy5fb25JdGVtQ3JlYXRlLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5yZWxvYWQtYW1tbycpLmNsaWNrKHRoaXMuX29uUmVsb2FkQW1tby5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcubWF0cml4LWF0dC1zZWxlY3RvcicpLmNoYW5nZSh0aGlzLl9vbk1hdHJpeEF0dHJpYnV0ZVNlbGVjdGVkLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGh0bWwuZmluZCgnLmltcG9ydC1jaGFyYWN0ZXInKS5jbGljayh0aGlzLl9vblNob3dJbXBvcnRDaGFyYWN0ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLnNob3ctaGlkZGVuLXNraWxscycpLmNsaWNrKHRoaXMuX29uU2hvd0hpZGRlblNraWxscy5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3BlbiB0aGUgUERGIGZvciBhbiBpdGVtIG9uIHRoZSBhY3RvclxuICAgICAgICAgKi9cbiAgICAgICAgJChodG1sKVxuICAgICAgICAgICAgLmZpbmQoJy5vcGVuLXNvdXJjZS1wZGYnKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5saXN0LWl0ZW0nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpaWQgPSAkKGZpZWxkKS5kYXRhKCkuaXRlbUlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkU1I1SXRlbShpaWQpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGl0ZW0ub3BlblBkZlNvdXJjZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICQoaHRtbCkuZmluZCgnLmhvcml6b250YWwtY2VsbC1pbnB1dCAuY2VsbCcpLm9uKCdjbGljaycsIHRoaXMuX29uU2V0Q2VsbElucHV0LmJpbmQodGhpcykpO1xuICAgICAgICAkKGh0bWwpLmZpbmQoJy5ob3Jpem9udGFsLWNlbGwtaW5wdXQgLmNlbGwnKS5vbignY29udGV4dG1lbnUnLCB0aGlzLl9vbkNsZWFyQ2VsbElucHV0LmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOZXcgQVBJIHRvIHVzZSBmb3Igcm9sbGluZyBmcm9tIHRoZSBhY3RvciBzaGVldFxuICAgICAgICAgKiB0aGUgY2xpY2thYmxlIGxhYmVsIG5lZWRzIHRoZSBjc3MgY2xhc3MgUm9sbFxuICAgICAgICAgKiBhIHBhcmVudCBvZiB0aGUgbGFiZWwgbmVlZHMgdG8gaGF2ZSB0aGUgY3NzIGNsYXNzIFJvbGxJZCwgYW5kIHRoZW4gaGF2ZSBkYXRhLXJvbGwtaWQgc2V0XG4gICAgICAgICAqL1xuICAgICAgICAkKGh0bWwpLmZpbmQoJy5Sb2xsJykub24oJ2NsaWNrJywgdGhpcy5fb25Sb2xsRnJvbVNoZWV0LmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIHVwZGF0ZXMgbWF0cml4IGNvbmRpdGlvbiBtb25pdG9yIG9uIHRoZSBkZXZpY2UgdGhlIGFjdG9yIGhhcyBlcXVpcHBlXG4gICAgICAgICQoaHRtbClcbiAgICAgICAgICAgIC5maW5kKCdbbmFtZT1cImRhdGEubWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlXCJdJylcbiAgICAgICAgICAgIC5vbignY2hhbmdlJywgYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0cml4RGV2aWNlID0gdGhpcy5hY3Rvci5nZXRNYXRyaXhEZXZpY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4RGV2aWNlICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnRlY2hub2xvZ3kuY29uZGl0aW9uX21vbml0b3IudmFsdWUnXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBtYXRyaXhEZXZpY2UudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBJbnZlbnRvcnkgSXRlbVxuICAgICAgICBodG1sLmZpbmQoJy5pdGVtLWVkaXQnKS5jbGljaygoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBpaWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuZ2V0T3duZWRTUjVJdGVtKGlpZCk7XG4gICAgICAgICAgICBpZiAoaXRlbSkgaXRlbS5zaGVldC5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEZWxldGUgSW52ZW50b3J5IEl0ZW1cbiAgICAgICAgaHRtbC5maW5kKCcuaXRlbS1kZWxldGUnKS5jbGljayhldmVudCA9PiB0aGlzLmRlbGV0ZU93bmVkSXRlbShldmVudCkpO1xuICAgICAgICAvLyBEcmFnIGludmVudG9yeSBpdGVtXG4gICAgICAgIGxldCBoYW5kbGVyID0gKGV2KSA9PiB0aGlzLl9vbkRyYWdTdGFydChldik7XG4gICAgICAgIGh0bWwuZmluZCgnLmxpc3QtaXRlbScpLmVhY2goKGksIGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmRhdGFzZXQgJiYgaXRlbS5kYXRhc2V0Lml0ZW1JZCkge1xuICAgICAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuZHJpdmVyLXJlbW92ZScpLmNsaWNrKHRoaXMuaGFuZGxlUmVtb3ZlVmVoaWNsZURyaXZlci5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKiogSGFuZGxlIGFsbCBlbnRpdHkgZHJvcHMgb250byBhbGwgYWN0b3Igc2hlZXQgdHlwZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKi9cbiAgICBhc3luYyBfb25Ecm9wKGV2ZW50OiBEcmFnRXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgaWYgKCFldmVudC5kYXRhVHJhbnNmZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCBkcm9wRGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSk7XG5cbiAgICAgICAgLy8gSGFuZGxlIHNwZWNpZmljIHN5c3RlbSBkcm9wIGV2ZW50cy5cbiAgICAgICAgc3dpdGNoIChkcm9wRGF0YS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiQWN0b3JcIjpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLmFkZFZlaGljbGVEcml2ZXIoZHJvcERhdGEuaWQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgbm9uZSBzcGVjaWZpYyBkcm9wIGV2ZW50cy5cbiAgICAgICAgYXdhaXQgc3VwZXIuX29uRHJvcChldmVudCk7XG4gICAgfVxuXG5cblxuICAgIGFzeW5jIGRlbGV0ZU93bmVkSXRlbShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHVzZXJDb25zZW50ZWQgPSBhd2FpdCBIZWxwZXJzLmNvbmZpcm1EZWxldGlvbigpO1xuICAgICAgICBpZiAoIXVzZXJDb25zZW50ZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBpaWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLmRlbGV0ZU93bmVkSXRlbShpaWQpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJvbGxGcm9tU2hlZXQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gbG9vayBmb3Igcm9sbCBpZCBkYXRhIGluIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgbGV0IHJvbGxJZCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgpPy5yb2xsSWQ7XG4gICAgICAgIC8vIGlmIHRoYXQgZG9lc24ndCBleGlzdCwgbG9vayBmb3IgYSBwcmVudCB3aXRoIFJvbGxJZCBuYW1lXG4gICAgICAgIHJvbGxJZCA9IHJvbGxJZCA/PyAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudCgnLlJvbGxJZCcpLmRhdGEoKS5yb2xsSWQ7XG5cbiAgICAgICAgY29uc3Qgc3BsaXQgPSByb2xsSWQuc3BsaXQoJy4nKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgZXZlbnQgfTtcbiAgICAgICAgc3dpdGNoIChzcGxpdFswXSkge1xuICAgICAgICAgICAgY2FzZSAncHJvbXB0LXJvbGwnOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3IucHJvbXB0Um9sbChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FybW9yJzpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnJvbGxBcm1vcihvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ZhZGUnOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iucm9sbEZhZGUob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkcmFpbic6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsRHJhaW4ob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWZlbnNlJzpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnJvbGxBdHRhY2tEZWZlbnNlKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGFtYWdlLXJlc2lzdCc6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsU29hayhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gYXR0cmlidXRlIG9ubHkgcm9sbHNcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBvc3VyZSc6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsQXR0cmlidXRlc1Rlc3QoJ2NvbXBvc3VyZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnanVkZ2UtaW50ZW50aW9ucyc6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsQXR0cmlidXRlc1Rlc3QoJ2p1ZGdlX2ludGVudGlvbnMnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xpZnQtY2FycnknOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iucm9sbEF0dHJpYnV0ZXNUZXN0KCdsaWZ0X2NhcnJ5Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtZW1vcnknOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iucm9sbEF0dHJpYnV0ZXNUZXN0KCdtZW1vcnknKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndmVoaWNsZS1zdGF0JzpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncm9sbCB2ZWhpY2xlIHN0YXQnLCByb2xsSWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkcm9uZSc6XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IHNwbGl0WzFdOyAvLyB3ZSBleHBlY3QgYW5vdGhlciBmb3IgXCJkcm9uZVwiIGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BlcmNlcHRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsRHJvbmVQZXJjZXB0aW9uKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luZmlsdHJhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnJvbGxEcm9uZUluZmlsdHJhdGlvbihvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwaWxvdC12ZWhpY2xlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iucm9sbFBpbG90VmVoaWNsZShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIGVuZCBkcm9uZVxuXG4gICAgICAgICAgICBjYXNlICdhdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHNwbGl0WzFdO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsQXR0cmlidXRlKGF0dHJpYnV0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gZW5kIGF0dHJpYnV0ZVxuXG4gICAgICAgICAgICBjYXNlICdza2lsbCc6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpbGxUeXBlID0gc3BsaXRbMV07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChza2lsbFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWN0aXZlJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpbGxJZCA9IHNwbGl0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsQWN0aXZlU2tpbGwoc2tpbGxJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdsYW5ndWFnZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsSWQgPSBzcGxpdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iucm9sbExhbmd1YWdlU2tpbGwoc2tpbGxJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdrbm93bGVkZ2UnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHNwbGl0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpbGxJZCA9IHNwbGl0WzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsS25vd2xlZGdlU2tpbGwoY2F0ZWdvcnksIHNraWxsSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBlbmQgc2tpbGxcblxuICAgICAgICAgICAgY2FzZSAnbWF0cml4JzpcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJrZXkgPSBzcGxpdFsxXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN1YmtleSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0ciA9IHNwbGl0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsTWF0cml4QXR0cmlidXRlKGF0dHIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RldmljZS1yYXRpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsRGV2aWNlUmF0aW5nKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBlbmQgbWF0cml4XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXR1cCBza2lsbCBuYW1lIGZpbHRlciB3aXRoaW4gZ2V0RGF0YVxuICAgIGFzeW5jIF9vbkZpbHRlclNraWxscyhldmVudCkge1xuICAgICAgICB0aGlzLl9maWx0ZXJzLnNraWxscyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgdW50cmFpbmVkIHNraWxsIGZpbHRlciB3aXRoaW4gZ2V0RGF0YVxuICAgIGFzeW5jIF9vbkZpbHRlclVudHJhaW5lZFNraWxscyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9maWx0ZXJzLnNob3dVbnRyYWluZWRTa2lsbHMgPSAhdGhpcy5fZmlsdGVycy5zaG93VW50cmFpbmVkU2tpbGxzO1xuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJlbG9hZEFtbW8oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgaWlkID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuZ2V0T3duZWRTUjVJdGVtKGlpZCk7XG4gICAgICAgIGlmIChpdGVtKSByZXR1cm4gaXRlbS5yZWxvYWRBbW1vKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uTWF0cml4QXR0cmlidXRlU2VsZWN0ZWQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCEoXCJtYXRyaXhcIiBpbiB0aGlzLmFjdG9yLmRhdGEuZGF0YSkpIHJldHVybjtcblxuICAgICAgICBsZXQgaWlkID0gdGhpcy5hY3Rvci5kYXRhLmRhdGEubWF0cml4LmRldmljZTtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkU1I1SXRlbShpaWQpO1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBmaW5kIGl0ZW0nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBncmFiIG1hdHJpeCBhdHRyaWJ1dGUgKHNsZWF6ZSwgYXR0YWNrLCBldGMuKVxuICAgICAgICBsZXQgYXR0ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmF0dDtcbiAgICAgICAgLy8gZ3JhYiBkZXZpY2UgYXR0cmlidXRlIChhdHQxLCBhdHQyLCAuLi4pXG4gICAgICAgIGxldCBkZXZpY2VBdHQgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuXG4gICAgICAgIC8vIGdldCBjdXJyZW50IG1hdHJpeCBhdHRyaWJ1dGUgb24gdGhlIGRldmljZVxuICAgICAgICBjb25zdCBkZXZpY2VEYXRhID0gaXRlbS5kYXRhLmRhdGEgYXMgRGV2aWNlRGF0YTtcbiAgICAgICAgbGV0IG9sZFZhbCA9IGRldmljZURhdGEuYXR0c1tkZXZpY2VBdHRdLmF0dDtcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBfaWQ6IGlpZCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBnbyB0aHJvdWdoIGF0dHMgb24gZGV2aWNlLCBzZXR1cCBtYXRyaXggYXR0cmlidXRlcyBvbiBpdFxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0bXAgPSBgYXR0JHtpfWA7XG4gICAgICAgICAgICBsZXQga2V5ID0gYGRhdGEuYXR0cy5hdHQke2l9LmF0dGA7XG4gICAgICAgICAgICBpZiAodG1wID09PSBkZXZpY2VBdHQpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSBhdHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRldmljZURhdGEuYXR0c1tgYXR0JHtpfWBdLmF0dCA9PT0gYXR0KSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gb2xkVmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlT3duZWRJdGVtKGRhdGEpO1xuICAgIH1cblxuICAgIF9vbkl0ZW1DcmVhdGUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogYE5ldyAke3R5cGV9YCxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmFjdG9yLmNyZWF0ZU93bmVkSXRlbShpdGVtRGF0YSwgeyByZW5kZXJTaGVldDogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25BZGRMYW5ndWFnZVNraWxsKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHNraWxsSWQgPSBhd2FpdCB0aGlzLmFjdG9yLmFkZExhbmd1YWdlU2tpbGwoeyBuYW1lOiAnJyB9KTtcbiAgICAgICAgaWYgKCFza2lsbElkKSByZXR1cm47XG5cbiAgICAgICAgLy8gTk9URTogQ2F1c2VzIGlzc3VlcyB3aXRoIGFkZGluZyBrbm93bGVkZ2Ugc2tpbGxzIChjYXRlZ29yeSB1bmRlZmluZWQpXG4gICAgICAgIC8vIGF3YWl0IHRoaXMuX3Nob3dTa2lsbEVkaXRGb3JtKExhbmd1YWdlU2tpbGxFZGl0Rm9ybSwgdGhpcy5hY3Rvciwge2V2ZW50fSwgc2tpbGxJZCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUmVtb3ZlTGFuZ3VhZ2VTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHVzZXJDb25zZW50ZWQgPSBhd2FpdCBIZWxwZXJzLmNvbmZpcm1EZWxldGlvbigpO1xuICAgICAgICBpZiAoIXVzZXJDb25zZW50ZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBza2lsbElkID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yZW1vdmVMYW5ndWFnZVNraWxsKHNraWxsSWQpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkFkZEtub3dsZWRnZVNraWxsKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgY29uc3Qgc2tpbGxJZCA9IGF3YWl0IHRoaXMuYWN0b3IuYWRkS25vd2xlZGdlU2tpbGwoY2F0ZWdvcnkpO1xuICAgICAgICBpZiAoIXNraWxsSWQpIHJldHVybjtcblxuICAgICAgICAvLyBOT1RFOiBDYXVzZXMgaXNzdWVzIHdpdGggYWRkaW5nIGtub3dsZWRnZSBza2lsbHMgKGNhdGVnb3J5IHVuZGVmaW5lZClcbiAgICAgICAgLy8gYXdhaXQgdGhpcy5fc2hvd1NraWxsRWRpdEZvcm0oS25vd2xlZGdlU2tpbGxFZGl0Rm9ybSwgdGhpcy5hY3Rvciwge2V2ZW50fSwgc2tpbGxJZCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUmVtb3ZlS25vd2xlZGdlU2tpbGwoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCB1c2VyQ29uc2VudGVkID0gYXdhaXQgSGVscGVycy5jb25maXJtRGVsZXRpb24oKTtcbiAgICAgICAgaWYgKCF1c2VyQ29uc2VudGVkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgW3NraWxsSWQsIGNhdGVnb3J5XSA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCkuc3BsaXQoJy4nKTtcbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yZW1vdmVLbm93bGVkZ2VTa2lsbChza2lsbElkLCBjYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgLyoqIEFkZCBhbiBhY3RpdmUgc2tpbGwgYW5kIHNob3cgdGhlIG1hdGNoaW5nIGVkaXQgYXBwbGljYXRpb24gYWZ0ZXJ3YXJkcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgSFRNTCBldmVudCBmcm9tIHdoaWNoIHRoZSBhY3Rpb24gcmVzdWx0ZWQuXG4gICAgICovXG4gICAgIGFzeW5jIF9vbkFkZEFjdGl2ZVNraWxsKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBza2lsbElkID0gYXdhaXQgdGhpcy5hY3Rvci5hZGRBY3RpdmVTa2lsbCgpO1xuICAgICAgICBpZiAoIXNraWxsSWQpIHJldHVybjtcblxuICAgICAgICBhd2FpdCB0aGlzLl9zaG93U2tpbGxFZGl0Rm9ybShTa2lsbEVkaXRGb3JtLCB0aGlzLmFjdG9yLCB7IGV2ZW50OiBldmVudCB9LCBza2lsbElkKTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25SZW1vdmVBY3RpdmVTa2lsbChldmVudDogRXZlbnQpIHtcbiAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgdXNlckNvbnNlbnRlZCA9IGF3YWl0IEhlbHBlcnMuY29uZmlybURlbGV0aW9uKCk7XG4gICAgICAgIGlmICghdXNlckNvbnNlbnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHNraWxsSWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnJlbW92ZUFjdGl2ZVNraWxsKHNraWxsSWQpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkNoYW5nZVJ0ZyhldmVudCkge1xuICAgICAgICBjb25zdCBpaWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZFNSNUl0ZW0oaWlkKTtcbiAgICAgICAgY29uc3QgcnRnID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgIGlmIChpdGVtICYmIHJ0Zykge1xuICAgICAgICAgICAgYXdhaXQgaXRlbS51cGRhdGUoeyAnZGF0YS50ZWNobm9sb2d5LnJhdGluZyc6IHJ0ZyB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIF9vbkNoYW5nZVF0eShldmVudCkge1xuICAgICAgICBjb25zdCBpaWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZFNSNUl0ZW0oaWlkKTtcbiAgICAgICAgY29uc3QgcXR5ID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgIGlmIChpdGVtICYmIHF0eSAmJiBcInRlY2hub2xvZ3lcIiBpbiBpdGVtLmRhdGEuZGF0YSkge1xuICAgICAgICAgICAgaXRlbS5kYXRhLmRhdGEudGVjaG5vbG9neS5xdWFudGl0eSA9IHF0eTtcbiAgICAgICAgICAgIGF3YWl0IGl0ZW0udXBkYXRlKHsgJ2RhdGEudGVjaG5vbG9neS5xdWFudGl0eSc6IHF0eSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIF9vbkVxdWlwSXRlbShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpaWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZFNSNUl0ZW0oaWlkKTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gW10gYXMgYW55W107XG4gICAgICAgICAgICBpZiAoaXRlbS5pc0RldmljZSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBhbGxvdyBvbmUgZXF1aXBwZWQgZGV2aWNlIGl0ZW0uIFVuZXF1aXAgYWxsIG90aGVyLlxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZSBvZiB0aGlzLmFjdG9yLml0ZW1zLmZpbHRlcigoYWN0b3JJdGVtOiBTUjVJdGVtKSA9PiBhY3Rvckl0ZW0uaXNEZXZpY2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnX2lkJzogaXRlLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLnRlY2hub2xvZ3kuZXF1aXBwZWQnOiBpdGUuX2lkID09PSBpaWQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUb2dnbGUgZXF1aXAgc3RhdHVzLlxuICAgICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAnX2lkJzogaWlkLFxuICAgICAgICAgICAgICAgICAgICAnZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkJzogIWl0ZW0uaXNFcXVpcHBlZCgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSAvLyBUT0RPOiBmb3VuZHJ5LXBjLXR5cGUgZGVmaW5lcyBFbnRpdHkudXBkYXRlRW1iZWRkZWRFbnRpdHkgYXMgc3RhdGljIGJ1dCBpdCdzIG5vdC5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlRW1iZWRkZWRFbnRpdHkoJ093bmVkSXRlbScsIG5ld0l0ZW1zKTtcblxuICAgICAgICAgICAgdGhpcy5hY3Rvci5yZW5kZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX29uU2V0Q2VsbElucHV0KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGNtSWQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5ob3Jpem9udGFsLWNlbGwtaW5wdXQnKS5kYXRhKCkuaWQ7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgaWYgKGNtSWQgPT09ICdzdHVuJyB8fCBjbUlkID09PSAncGh5c2ljYWwnKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGBkYXRhLnRyYWNrLiR7Y21JZH0udmFsdWVgO1xuICAgICAgICAgICAgZGF0YVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjbUlkID09PSAnZWRnZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gYGRhdGEuYXR0cmlidXRlcy5lZGdlLnVzZXNgO1xuICAgICAgICAgICAgZGF0YVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjbUlkID09PSAnb3ZlcmZsb3cnKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9ICdkYXRhLnRyYWNrLnBoeXNpY2FsLm92ZXJmbG93LnZhbHVlJztcbiAgICAgICAgICAgIGRhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY21JZCA9PT0gJ21hdHJpeCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeERldmljZSA9IHRoaXMuYWN0b3IuZ2V0TWF0cml4RGV2aWNlKCk7XG4gICAgICAgICAgICBpZiAobWF0cml4RGV2aWNlICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS50ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlJ10gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBhd2FpdCBtYXRyaXhEZXZpY2UudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhWydkYXRhLm1hdHJpeC5jb25kaXRpb25fbW9uaXRvci52YWx1ZSddID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci51cGRhdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQ2xlYXJDZWxsSW5wdXQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgY21JZCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLmhvcml6b250YWwtY2VsbC1pbnB1dCcpLmRhdGEoKS5pZDtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBpZiAoY21JZCA9PT0gJ3N0dW4nKSB7XG4gICAgICAgICAgICBkYXRhW2BkYXRhLnRyYWNrLnN0dW4udmFsdWVgXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYXJpbmcgdGhlIHBoeXNpY2FsIG1vbml0b3Igc2hvdWxkIGFsc28gY2xlYXIgdGhlIG92ZXJmbG93LlxuICAgICAgICBlbHNlIGlmIChjbUlkID09PSAncGh5c2ljYWwnKSB7XG4gICAgICAgICAgICBkYXRhW2BkYXRhLnRyYWNrLnBoeXNpY2FsLnZhbHVlYF0gPSAwO1xuICAgICAgICAgICAgZGF0YVsnZGF0YS50cmFjay5waHlzaWNhbC5vdmVyZmxvdy52YWx1ZSddID0gMDtcblxuICAgICAgICB9IGVsc2UgaWYgKGNtSWQgPT09ICdlZGdlJykge1xuICAgICAgICAgICAgZGF0YVtgZGF0YS5hdHRyaWJ1dGVzLmVkZ2UudXNlc2BdID0gMDtcblxuICAgICAgICB9IGVsc2UgaWYgKGNtSWQgPT09ICdvdmVyZmxvdycpIHtcbiAgICAgICAgICAgIGRhdGFbJ2RhdGEudHJhY2sucGh5c2ljYWwub3ZlcmZsb3cudmFsdWUnXSA9IDA7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjbUlkID09PSAnbWF0cml4Jykge1xuICAgICAgICAgICAgY29uc3QgbWF0cml4RGV2aWNlID0gdGhpcy5hY3Rvci5nZXRNYXRyaXhEZXZpY2UoKTtcblxuICAgICAgICAgICAgaWYgKG1hdHJpeERldmljZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnRlY2hub2xvZ3kuY29uZGl0aW9uX21vbml0b3IudmFsdWUnXSA9IDA7XG4gICAgICAgICAgICAgICAgYXdhaXQgbWF0cml4RGV2aWNlLnVwZGF0ZSh1cGRhdGVEYXRhKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhWydkYXRhLm1hdHJpeC5jb25kaXRpb25fbW9uaXRvci52YWx1ZSddID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlKGRhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJvbGxDZWxsSW5wdXQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IHRyYWNrID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaG9yaXpvbnRhbC1jZWxsLWlucHV0JykuZGF0YSgpLmlkO1xuICAgICAgICBpZiAodHJhY2sgPT09ICdzdHVuJyB8fCB0cmFjayA9PT0gJ3BoeXNpY2FsJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsTmF0dXJhbFJlY292ZXJ5KHRyYWNrLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHJhY2sgPT09ICdlZGdlJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5yb2xsQXR0cmlidXRlKCdlZGdlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBfb25Sb2xsSXRlbShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpaWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZFNSNUl0ZW0oaWlkKTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGF3YWl0IGl0ZW0uY2FzdEFjdGlvbihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBfb25Sb2xsS25vd2xlZGdlU2tpbGwoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgaWQgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICBjb25zdCBbc2tpbGwsIGNhdGVnb3J5XSA9IGlkLnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdG9yLnJvbGxLbm93bGVkZ2VTa2lsbChjYXRlZ29yeSwgc2tpbGwsIHsgZXZlbnQ6IGV2ZW50IH0pO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJvbGxMYW5ndWFnZVNraWxsKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHNraWxsID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3Iucm9sbExhbmd1YWdlU2tpbGwoc2tpbGwsIHsgZXZlbnQ6IGV2ZW50IH0pO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJvbGxBY3RpdmVTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBza2lsbCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdG9yLnJvbGxBY3RpdmVTa2lsbChza2lsbCwgeyBldmVudDogZXZlbnQgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUm9sbEF0dHJpYnV0ZShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBhdHRyID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYXR0cmlidXRlJykuZGF0YXNldC5hdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdG9yLnJvbGxBdHRyaWJ1dGUoYXR0ciwgeyBldmVudDogZXZlbnQgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluZEFjdGl2ZUxpc3QoKSB7XG4gICAgICAgIHJldHVybiAkKHRoaXMuZWxlbWVudCkuZmluZCgnLnRhYi5hY3RpdmUgLnNjcm9sbC1hcmVhJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhc3luYyBfcmVuZGVyKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZm9jdXNMaXN0ID0gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJzpmb2N1cycpO1xuICAgICAgICBjb25zdCBmb2N1czogYW55ID0gZm9jdXNMaXN0Lmxlbmd0aCA/IGZvY3VzTGlzdFswXSA6IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc2F2ZVNjcm9sbFBvc2l0aW9ucygpO1xuICAgICAgICBhd2FpdCBzdXBlci5fcmVuZGVyKC4uLmFyZ3MpO1xuICAgICAgICB0aGlzLl9yZXN0b3JlU2Nyb2xsUG9zaXRpb25zKCk7XG5cbiAgICAgICAgaWYgKGZvY3VzICYmIGZvY3VzLm5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmZvcm1bZm9jdXMubmFtZV07XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHNlbGVjdGlvbiByYW5nZSBvbiB0aGUgZm9jdXMgZm9ybWVkIGZyb20gYmVmb3JlIChrZWVwcyB0cmFjayBvZiBjdXJzb3IgaW4gaW5wdXQpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSAmJiBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKGZvY3VzLnNlbGVjdGlvblN0YXJ0LCBmb2N1cy5zZWxlY3Rpb25FbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzdG9yZVNjcm9sbFBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTGlzdCA9IHRoaXMuX2ZpbmRBY3RpdmVMaXN0KCk7XG4gICAgICAgIGlmIChhY3RpdmVMaXN0Lmxlbmd0aCAmJiB0aGlzLl9zY3JvbGwgIT0gbnVsbCkge1xuICAgICAgICAgICAgYWN0aXZlTGlzdC5wcm9wKCdzY3JvbGxUb3AnLCB0aGlzLl9zY3JvbGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2F2ZVNjcm9sbFBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTGlzdCA9IHRoaXMuX2ZpbmRBY3RpdmVMaXN0KCk7XG4gICAgICAgIGlmIChhY3RpdmVMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsID0gYWN0aXZlTGlzdC5wcm9wKCdzY3JvbGxUb3AnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIF9jbG9zZU9wZW5Ta2lsbEFwcCgpIHtcbiAgICAgICAgaWYgKGdsb2JhbFNraWxsQXBwSWQgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAodWkud2luZG93c1tnbG9iYWxTa2lsbEFwcElkXSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHVpLndpbmRvd3NbZ2xvYmFsU2tpbGxBcHBJZF0uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsb2JhbFNraWxsQXBwSWQgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBLZWVwIHRyYWNrIG9mIGVhY2ggU2tpbGxFZGl0Rm9ybSBpbnN0YW5jZSBhbmQgY2xvc2UgYmVmb3JlIG9wZW5pbmcgYW5vdGhlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2lsbEVkaXRGb3JtSW1wbGVtZW50YXRpb24gQW55IGV4dGVuZGluZyBjbGFzcyEgb2YgU2tpbGxFZGl0Rm9ybVxuICAgICAqIEBwYXJhbSBhY3RvclxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGFyZ3MgQ29sbGVjdCBhcmd1bWVudHMgb2YgdGhlIGRpZmZlcmVudCByZW5kZXJXaXRoU2tpbGwgaW1wbGVtZW50YXRpb25zLlxuICAgICAqL1xuICAgIGFzeW5jIF9zaG93U2tpbGxFZGl0Rm9ybShza2lsbEVkaXRGb3JtSW1wbGVtZW50YXRpb24sIGFjdG9yOiBTUjVBY3Rvciwgb3B0aW9uczogb2JqZWN0LCAuLi5hcmdzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX2Nsb3NlT3BlblNraWxsQXBwKCk7XG5cbiAgICAgICAgY29uc3Qgc2tpbGxFZGl0Rm9ybSA9IG5ldyBza2lsbEVkaXRGb3JtSW1wbGVtZW50YXRpb24oYWN0b3IsIG9wdGlvbnMsIC4uLmFyZ3MpO1xuICAgICAgICBnbG9iYWxTa2lsbEFwcElkID0gc2tpbGxFZGl0Rm9ybS5hcHBJZDtcbiAgICAgICAgYXdhaXQgc2tpbGxFZGl0Rm9ybS5yZW5kZXIodHJ1ZSk7XG4gICAgfVxuXG4gICAgX29uU2hvd0VkaXRLbm93bGVkZ2VTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBbc2tpbGwsIGNhdGVnb3J5XSA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCkuc3BsaXQoJy4nKTtcblxuICAgICAgICB0aGlzLl9zaG93U2tpbGxFZGl0Rm9ybShcbiAgICAgICAgICAgIEtub3dsZWRnZVNraWxsRWRpdEZvcm0sXG4gICAgICAgICAgICB0aGlzLmFjdG9yLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBza2lsbCxcbiAgICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblNob3dFZGl0TGFuZ3VhZ2VTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBza2lsbCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIC8vIG5ldyBMYW5ndWFnZVNraWxsRWRpdEZvcm0odGhpcy5hY3Rvciwgc2tpbGwsIHsgZXZlbnQ6IGV2ZW50IH0pLnJlbmRlcih0cnVlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc2hvd1NraWxsRWRpdEZvcm0oTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtLCB0aGlzLmFjdG9yLCB7IGV2ZW50OiBldmVudCB9LCBza2lsbCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uU2hvd0VkaXRTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBza2lsbCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIC8vIG5ldyBTa2lsbEVkaXRGb3JtKHRoaXMuYWN0b3IsIHNraWxsLCB7IGV2ZW50OiBldmVudCB9KS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3Nob3dTa2lsbEVkaXRGb3JtKFNraWxsRWRpdEZvcm0sIHRoaXMuYWN0b3IsIHsgZXZlbnQ6IGV2ZW50IH0sIHNraWxsKTtcbiAgICB9XG5cbiAgICBfb25TaG93SW1wb3J0Q2hhcmFjdGVyKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBuYW1lOiAnY2h1bW1lci1pbXBvcnQnLFxuICAgICAgICAgICAgdGl0bGU6ICdDaHVtbWVyIEltcG9ydCcsXG4gICAgICAgIH07XG4gICAgICAgIG5ldyBDaHVtbWVySW1wb3J0Rm9ybSh0aGlzLmFjdG9yLCBvcHRpb25zKS5yZW5kZXIodHJ1ZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uU2hvd0hpZGRlblNraWxscyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iuc2hvd0hpZGRlblNraWxscygpO1xuICAgIH1cblxuXG4gICAgYXN5bmMgaGFuZGxlUmVtb3ZlVmVoaWNsZURyaXZlcihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnJlbW92ZVZlaGljbGVEcml2ZXIoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuaW1wb3J0IHtTa2lsbFJ1bGVzfSBmcm9tIFwiLi9Ta2lsbFJ1bGVzXCI7XG5pbXBvcnQge1BhcnRzTGlzdH0gZnJvbSBcIi4uL3BhcnRzL1BhcnRzTGlzdFwiO1xuaW1wb3J0IHtGTEFHUywgU1lTVEVNX05BTUV9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIFNraWxsRmxvdyB7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGV2ZXJ5dGhpbmcgYXJvdW5kIGhvdyBhIHNraWxsIHNob3VsZCBiZSBkZWZhdWx0ZWRcbiAgICAgKiBAcGFyYW0gc2tpbGxcbiAgICAgKiBAcGFyYW0gcGFydHNcbiAgICAgKi9cbiAgICBzdGF0aWMgaGFuZGxlRGVmYXVsdGluZyhza2lsbDogU2tpbGxGaWVsZCwgcGFydHM6IFBhcnRzTGlzdDxudW1iZXI+KSB7XG4gICAgICAgIGlmICghU2tpbGxSdWxlcy5tdXN0RGVmYXVsdFRvUm9sbChza2lsbCkpIHJldHVybjtcblxuICAgICAgICBpZiAoIVNraWxsRmxvdy5hbGxvd0RlZmF1bHRpbmdSb2xsKHNraWxsKSkge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lldhcm5pbmdzLlNraWxsQ2FudEJlRGVmYXVsdCcpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFNraWxsUnVsZXMuYWRkRGVmYXVsdGluZ1BhcnQocGFydHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGVpdGhlciB0aGUgc3lzdGVtIHNldHRpbmdzIG9yIHNraWxsIGNvbmZpZ3VyYXRpb24gYWxsb3cgZm9yIGEgc2tpbGwgdG8gYmUgZGVmYXVsdGVkLlxuICAgICAqIEBwYXJhbSBza2lsbFxuICAgICAqIEByZXR1cm4gdHJ1ZSB3aWxsIGFsbG93IGEgcm9sZSBvbiB0aGUgc2tpbGwgdGhhdCBuZWVkcyBkZWZhdWx0aW5nLlxuICAgICAqL1xuICAgIHN0YXRpYyBhbGxvd0RlZmF1bHRpbmdSb2xsKHNraWxsOiBTa2lsbEZpZWxkKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIENoZWNrIGlmIHNldHRpbmdzIGFsbG93IHJvbGxzIG9mIHNraWxscyB0aGF0IG90aGVyd2lzZSB3b3VsZCBuZWVkIHRvIGJlIGRlZmF1bHRlZC5cbiAgICAgICAgY29uc3QgYWxsb3dVbmltcHJvdmlzZWFibGUgPSBnYW1lLnNldHRpbmdzLmdldChTWVNURU1fTkFNRSwgRkxBR1MuT25seUFsbG93Um9sbE9uRGVmYXVsdGFibGVTa2lsbHMpID09PSBmYWxzZTtcbiAgICAgICAgaWYgKGFsbG93VW5pbXByb3Zpc2VhYmxlKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgcmV0dXJuIFNraWxsUnVsZXMuYWxsb3dEZWZhdWx0aW5nUm9sbChza2lsbCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFsbG93Um9sbChza2lsbDogU2tpbGxGaWVsZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoU2tpbGxSdWxlcy5tdXN0RGVmYXVsdFRvUm9sbChza2lsbCkgJiYgU2tpbGxGbG93LmFsbG93RGVmYXVsdGluZ1JvbGwoc2tpbGwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU2tpbGxSdWxlcy5hbGxvd1JvbGwoc2tpbGwpO1xuICAgIH1cbn0iLCJpbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuaW1wb3J0IHtQYXJ0c0xpc3R9IGZyb20gXCIuLi9wYXJ0cy9QYXJ0c0xpc3RcIjtcbmltcG9ydCB7U1I1fSBmcm9tIFwiLi4vY29uZmlnXCI7XG5pbXBvcnQge1NSfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBTa2lsbFJ1bGVzIHtcblxuICAgIHN0YXRpYyBtdXN0RGVmYXVsdFRvUm9sbChza2lsbDogU2tpbGxGaWVsZCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gc2tpbGwuYmFzZSA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3cgZGVmYXVsdGluZyBhIHNraWxsIHJvbGUuXG4gICAgICogQFBERiBTUjUjMTMwXG4gICAgICogQHBhcmFtIHNraWxsIENoZWNrIGZvciB0aGlzIHNraWxscyBhYmlsaXR5IHRvIGJlIGRlZmF1bHRlZC5cbiAgICAgKiBAcmV0dXJuIHRydWUgd2lsbCBhbGxvdyBmb3IgYSBTdWNjZXNzVGVzdCAvIHJvbGUgdG8gcHJvY2VlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYWxsb3dEZWZhdWx0aW5nUm9sbChza2lsbDogU2tpbGxGaWVsZCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBDaGVjayBmb3Igc2tpbGwgZGVmYXVsdGluZyBhdCB0aGUgYmFzZSwgc2luY2UgbW9kaWZpZXJzIG9yIGJvbnVzIGNhbiBjYXVzZSBhIHBvc2l0aXZlIHBvb2wsIHdoaWxlXG4gICAgICAgIC8vIHN0aWxsIGRlZmF1bHRpbmcuXG4gICAgICAgIHJldHVybiBza2lsbC5jYW5EZWZhdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93IGEgc2tpbGwgcm9sZS5cbiAgICAgKiBAUERGIFNSNSMxMzBcbiAgICAgKiBAcGFyYW0gc2tpbGwgQ2hlY2sgZm9yIHRoaXMgc2tpbGxzIGFiaWxpdHkgdG8gYmUgcm9sbGVkLlxuICAgICAqIEByZXR1cm4gdHJ1ZSB3aWxsIGFsbG93IGZvciBhIFN1Y2Nlc3NUZXN0IC8gcm9sZSB0byBwcm9jZWVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBhbGxvd1JvbGwoc2tpbGw6IFNraWxsRmllbGQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICFTa2lsbFJ1bGVzLm11c3REZWZhdWx0VG9Sb2xsKHNraWxsKSB8fCBTa2lsbFJ1bGVzLmFsbG93RGVmYXVsdGluZ1JvbGwoc2tpbGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgZGVmYXVsdGluZyBtb2RpZmllciBwYXJ0IHRvIGEgcGFydHMgbGlzdFxuICAgICAqIEBwYXJhbSBwYXJ0cyBTaG91bGQgYmUgYSBQYXJ0c0xpc3QgaW52b2x2ZWQgd2l0aCBza2lsbHMuXG4gICAgICovXG4gICAgc3RhdGljIGFkZERlZmF1bHRpbmdQYXJ0KHBhcnRzOiBQYXJ0c0xpc3Q8bnVtYmVyPikge1xuICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuRGVmYXVsdGluZycsIFNraWxsUnVsZXMuZ2V0RGVmYXVsdGluZ01vZGlmaWVyKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXREZWZhdWx0aW5nTW9kaWZpZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIFNSLnNraWxsLkRFRkFVTFRJTkdfTU9ESUZJRVI7XG4gICAgfVxufSIsImltcG9ydCB7U2hhZG93cnVuUm9sbCwgU2hhZG93cnVuUm9sbGVyfSBmcm9tICcuLi9yb2xscy9TaGFkb3dydW5Sb2xsZXInO1xuaW1wb3J0IHtTUjVBY3Rvcn0gZnJvbSBcIi4vU1I1QWN0b3JcIjtcbmltcG9ydCB7U29ha1J1bGVzfSBmcm9tIFwiLi9Tb2FrUnVsZXNcIjtcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBTb2FrUm9sbE9wdGlvbnMgPSBTaGFkb3dydW4uU29ha1JvbGxPcHRpb25zO1xuaW1wb3J0IE1vZExpc3QgPSBTaGFkb3dydW4uTW9kTGlzdDtcbmltcG9ydCB7Y3JlYXRlUm9sbENoYXRNZXNzYWdlfSBmcm9tIFwiLi4vY2hhdFwiO1xuaW1wb3J0IERhbWFnZURhdGEgPSBTaGFkb3dydW4uRGFtYWdlRGF0YTtcbmltcG9ydCBEYW1hZ2VFbGVtZW50ID0gU2hhZG93cnVuLkRhbWFnZUVsZW1lbnQ7XG5pbXBvcnQgRGFtYWdlVHlwZSA9IFNoYWRvd3J1bi5EYW1hZ2VUeXBlO1xuaW1wb3J0IHtQYXJ0c0xpc3R9IGZyb20gXCIuLi9wYXJ0cy9QYXJ0c0xpc3RcIjtcbmltcG9ydCB7RGVmYXVsdFZhbHVlc30gZnJvbSBcIi4uL2RhdGFUZW1wbGF0ZXNcIjtcbmltcG9ydCB7IFNoYWRvd3J1bkFjdG9yRGlhbG9ncyB9IGZyb20gJy4uL2FwcHMvZGlhbG9ncy9TaGFkb3dydW5BY3RvckRpYWxvZ3MnO1xuXG5leHBvcnQgY2xhc3MgU29ha0Zsb3cge1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgc29hayBmbG93IHdpdGggdXNlciBpbnRlcmFjdGlvblxuICAgICAqIEBwYXJhbSBhY3RvciBUaGUgYWN0b3IgZG9pbmcgdGhlIHNvYWtpbmdcbiAgICAgKiBAcGFyYW0gc29ha1JvbGxPcHRpb25zIEluZm9ybWF0aW9uIGFib3V0IHRoZSBpbmNvbWluZyBkYW1hZ2UgKGlmIGl0IGlzIGFscmVhZHkga25vd24pXG4gICAgICogQHBhcmFtIHBhcnRzUHJvcHMgT3B0aW9uYWwgbW9kaWZpZXJzIGZvciB0aGUgc29hayB0ZXN0XG4gICAgICovXG4gICAgYXN5bmMgcnVuU29ha1Rlc3QoYWN0b3I6IFNSNUFjdG9yLCBzb2FrUm9sbE9wdGlvbnM6IFNvYWtSb2xsT3B0aW9ucywgcGFydHNQcm9wczogTW9kTGlzdDxudW1iZXI+ID0gW10pOiBQcm9taXNlPFNoYWRvd3J1blJvbGx8dW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxEYW1hZ2VEYXRhID0gc29ha1JvbGxPcHRpb25zLmRhbWFnZSA/IHNvYWtSb2xsT3B0aW9ucy5kYW1hZ2UgOiBEZWZhdWx0VmFsdWVzLmRhbWFnZURhdGEoKTtcbiAgICAgICAgY29uc3QgcHJldmlld1NvYWtEZWZlbnNlUGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oZHVwbGljYXRlKHBhcnRzUHJvcHMpKTtcbiAgICAgICAgU29ha1J1bGVzLmFwcGx5QWxsU29ha1BhcnRzKHByZXZpZXdTb2FrRGVmZW5zZVBhcnRzLCBhY3RvciwgaW5pdGlhbERhbWFnZURhdGEpO1xuXG4gICAgICAgIC8vIEFzayB0aGUgdXNlciBmb3IgdGhlIGRhbWFnZSBkYXRhIC8gdXBkYXRlIHRoZSBpbmNvbWluZyBkYW1hZ2UgZGF0YSBcbiAgICAgICAgY29uc3QgZGFtYWdlRGF0YU9yVW5kZWYgPSBhd2FpdCB0aGlzLnByb21wdERhbWFnZURhdGEoc29ha1JvbGxPcHRpb25zLCBwcmV2aWV3U29ha0RlZmVuc2VQYXJ0cyk7IFxuICAgICAgICBpZiAoIWRhbWFnZURhdGFPclVuZGVmKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gXG5cbiAgICAgICAgY29uc3QgZGFtYWdlRGF0YSA9IGRhbWFnZURhdGFPclVuZGVmO1xuICAgICAgICBjb25zdCBmaW5hbFNvYWtEZWZlbnNlUGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oZHVwbGljYXRlKHBhcnRzUHJvcHMpKTtcbiAgICAgICAgU29ha1J1bGVzLmFwcGx5QWxsU29ha1BhcnRzKGZpbmFsU29ha0RlZmVuc2VQYXJ0cywgYWN0b3IsIGRhbWFnZURhdGEpOyBcblxuICAgICAgICAvLyBRdWVyeSB1c2VyIGZvciByb2xsIG9wdGlvbnMgYW5kIGRvIHRoZSBhY3R1YWwgc29hayB0ZXN0LlxuICAgICAgICBjb25zdCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNvYWtUZXN0Jyk7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBhd2FpdCBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgIGV2ZW50OiBzb2FrUm9sbE9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgZXh0ZW5kZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYWN0b3IsXG4gICAgICAgICAgICBwYXJ0czogZmluYWxTb2FrRGVmZW5zZVBhcnRzLmxpc3QsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHdvdW5kczogZmFsc2UsXG4gICAgICAgICAgICBoaWRlUm9sbE1lc3NhZ2U6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyb2xsKSByZXR1cm47XG5cbiAgICAgICAgLy8gTW9kaWZ5IGRhbWFnZSBhbmQgcmVkdWNlIGRhbWFnZSBieSBuZXQgaGl0cyBhbmQgc2hvdyByZXN1bHRcbiAgICAgICAgY29uc3QgaW5jb21pbmcgPSBkdXBsaWNhdGUoZGFtYWdlRGF0YSk7XG4gICAgICAgIGxldCBtb2RpZmllZCA9IFNvYWtSdWxlcy5tb2RpZnlEYW1hZ2VUeXBlKGluY29taW5nLCBhY3Rvcik7XG4gICAgICAgIG1vZGlmaWVkID0gU29ha1J1bGVzLnJlZHVjZURhbWFnZShhY3RvciwgbW9kaWZpZWQsIHJvbGwuaGl0cykubW9kaWZpZWQ7XG4gICAgICAgIGNvbnN0IGluY0FuZE1vZERhbWFnZSA9IHtpbmNvbWluZywgbW9kaWZpZWR9O1xuXG4gICAgICAgIGF3YWl0IGNyZWF0ZVJvbGxDaGF0TWVzc2FnZSh7dGl0bGUsIHJvbGwsIGFjdG9yLCBkYW1hZ2U6IGluY0FuZE1vZERhbWFnZX0pO1xuXG4gICAgICAgIHJldHVybiByb2xsO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvbXB0RGFtYWdlRGF0YShzb2FrUm9sbE9wdGlvbnM6IFNvYWtSb2xsT3B0aW9ucywgc29ha0RlZmVuc2VQYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIFxuICAgICAgICA6IFByb21pc2U8RGFtYWdlRGF0YSB8IHVuZGVmaW5lZD4ge1xuXG4gICAgICAgIC8vIEFzayB1c2VyIGZvciBpbmNvbWluZyBkYW1hZ2UsIGFwIGFuZCBlbGVtZW50XG4gICAgICAgIGNvbnN0IGRhbWFnZURhdGFEaWFsb2cgPSBhd2FpdCBTaGFkb3dydW5BY3RvckRpYWxvZ3MuY3JlYXRlU29ha0RpYWxvZyhzb2FrUm9sbE9wdGlvbnMsIHNvYWtEZWZlbnNlUGFydHMpO1xuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IGRhbWFnZURhdGFEaWFsb2cuc2VsZWN0KCk7XG4gICAgICAgIGlmIChkYW1hZ2VEYXRhRGlhbG9nLmNhbmNlbGVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gVXBkYXRlIGRhbWFnZSB3aXRoIHRoZSB1c2VyIGlucHV0XG4gICAgICAgIGNvbnN0IGluaXRpYWxEYW1hZ2VEYXRhOiBEYW1hZ2VEYXRhID0gc29ha1JvbGxPcHRpb25zPy5kYW1hZ2VcbiAgICAgICAgICAgICAgICA/IHNvYWtSb2xsT3B0aW9ucy5kYW1hZ2VcbiAgICAgICAgICAgICAgICA6IERlZmF1bHRWYWx1ZXMuZGFtYWdlRGF0YSgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlRGFtYWdlV2l0aFVzZXJEYXRhKGluaXRpYWxEYW1hZ2VEYXRhLCB1c2VyRGF0YS5pbmNvbWluZ0RhbWFnZSwgdXNlckRhdGEuZGFtYWdlVHlwZSwgdXNlckRhdGEuYXAsIHVzZXJEYXRhLmVsZW1lbnQpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSB1cGRhdGVEYW1hZ2VXaXRoVXNlckRhdGEoaW5pdGlhbERhbWFnZURhdGE6IERhbWFnZURhdGEsIGluY29taW5nRGFtYWdlIDogbnVtYmVyLCBkYW1hZ2VUeXBlIDogRGFtYWdlVHlwZSwgYXA6IG51bWJlciwgZWxlbWVudDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGRhbWFnZURhdGE6IERhbWFnZURhdGEgPSBkdXBsaWNhdGUoaW5pdGlhbERhbWFnZURhdGEpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBkYW1hZ2UgZGF0YSwgZGlmZiBjaGFuZ2VzIGluc3RlYWQgb2Ygc2ltcGx5IHJlcGxhY2luZ1xuICAgICAgICBjb25zdCB0b3RhbERhbWFnZSA9IEhlbHBlcnMuY2FsY1RvdGFsKGRhbWFnZURhdGEpO1xuICAgICAgICBpZiAodG90YWxEYW1hZ2UgIT09IGluY29taW5nRGFtYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gaW5jb21pbmdEYW1hZ2UgLSB0b3RhbERhbWFnZTtcbiAgICAgICAgICAgIGRhbWFnZURhdGEubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoZGFtYWdlRGF0YS5tb2QsICdTUjUuVXNlcklucHV0JywgZGlmZik7XG4gICAgICAgICAgICBkYW1hZ2VEYXRhLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoZGFtYWdlRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdGlhbERhbWFnZURhdGEudHlwZS5iYXNlICE9PSBkYW1hZ2VUeXBlKSB7XG4gICAgICAgICAgICBkYW1hZ2VEYXRhLnR5cGUuYmFzZSA9IGRhbWFnZVR5cGU7XG4gICAgICAgICAgICBkYW1hZ2VEYXRhLnR5cGUudmFsdWUgPSBkYW1hZ2VUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGFwLCBkaWZmIGNoYW5nZXMgaW5zdGVhZCBvZiBzaW1wbHkgcmVwbGFjaW5nXG4gICAgICAgIGNvbnN0IHRvdGFsQXAgPSBIZWxwZXJzLmNhbGNUb3RhbChkYW1hZ2VEYXRhLmFwKTtcbiAgICAgICAgaWYgKHRvdGFsQXAgIT09IGFwKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gYXAgLSB0b3RhbEFwO1xuICAgICAgICAgICAgZGFtYWdlRGF0YS5hcC5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChkYW1hZ2VEYXRhLmFwLm1vZCwgJ1NSNS5Vc2VySW5wdXQnLCBkaWZmKTtcbiAgICAgICAgICAgIGRhbWFnZURhdGEuYXAudmFsdWUgPSBIZWxwZXJzLmNhbGNUb3RhbChkYW1hZ2VEYXRhLmFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBkYW1hZ2VEYXRhLmVsZW1lbnQudmFsdWUgPSBlbGVtZW50IGFzIERhbWFnZUVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGFtYWdlRGF0YTtcbiAgICB9XG59IiwiaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuL1NSNUFjdG9yJztcbmltcG9ydCB7IFNSNSB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQgeyBQYXJ0c0xpc3QgfSBmcm9tICcuLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuaW1wb3J0IERhbWFnZURhdGEgPSBTaGFkb3dydW4uRGFtYWdlRGF0YTtcbmltcG9ydCBBY3RvckFybW9yRGF0YSA9IFNoYWRvd3J1bi5BY3RvckFybW9yRGF0YTtcbmltcG9ydCBNb2RpZmllZERhbWFnZURhdGEgPSBTaGFkb3dydW4uTW9kaWZpZWREYW1hZ2VEYXRhO1xuaW1wb3J0IE1vZGlmaWFibGVWYWx1ZSA9IFNoYWRvd3J1bi5Nb2RpZmlhYmxlVmFsdWU7XG5pbXBvcnQgQ2hhcmFjdGVyQWN0b3JEYXRhID0gU2hhZG93cnVuLkNoYXJhY3RlckFjdG9yRGF0YTtcblxuLyoqXG4gKiBTb2FraW5nIHJ1bGVzIGZvciBhY3RvcnNcbiAqL1xuZXhwb3J0IGNsYXNzIFNvYWtSdWxlcyB7XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBzb2FrIHBhcnRzIGJhc2VkIG9uIHRoZSBkYW1hZ2UgYW5kIHRoZSBhY3RvciB0eXBlXG4gICAgICogQHBhcmFtIHNvYWtQYXJ0cyBMaXN0IG9mIChwb3RlbnRpYWxseSBwcmVmaWxsZWQpIHNvYWsgcGFydHNcbiAgICAgKiBAcGFyYW0gYWN0b3IgVGhlIGFjdG9yIGFmZmVjdGVkIGJ5IHRoZSBkYW1hZ2VcbiAgICAgKiBAcGFyYW0gZGFtYWdlRGF0YSBUaGUgZGFtYWdlXG4gICAgICovXG4gICAgc3RhdGljIGFwcGx5QWxsU29ha1BhcnRzKHNvYWtQYXJ0czogUGFydHNMaXN0PG51bWJlcj4sIGFjdG9yOiBTUjVBY3RvciwgZGFtYWdlRGF0YTogRGFtYWdlRGF0YSkge1xuICAgICAgICBpZiAoZGFtYWdlRGF0YS50eXBlLmJhc2UgIT09ICdtYXRyaXgnKSB7XG4gICAgICAgICAgICBTb2FrUnVsZXMuYXBwbHlNdW5kYW5lQXR0YWNrU29ha1BhcnRzKHNvYWtQYXJ0cywgYWN0b3IsIGRhbWFnZURhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU29ha1J1bGVzLmFwcGx5TWF0cml4U29ha1BhcnRzKHNvYWtQYXJ0cywgYWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXBwbHlNdW5kYW5lQXR0YWNrU29ha1BhcnRzKHNvYWtQYXJ0czogUGFydHNMaXN0PG51bWJlcj4sIGFjdG9yOiBTUjVBY3RvciwgZGFtYWdlRGF0YTogRGFtYWdlRGF0YSkge1xuICAgICAgICBTb2FrUnVsZXMuYXBwbHlCb2R5QW5kQXJtb3JQYXJ0cyhzb2FrUGFydHMsIGFjdG9yKTtcblxuICAgICAgICBjb25zdCBhcm1vciA9IGFjdG9yLmdldEFybW9yKCk7XG4gICAgICAgIFNvYWtSdWxlcy5hcHBseUFybW9yUGVuZXRyYXRpb24oc29ha1BhcnRzLCBhcm1vciwgZGFtYWdlRGF0YSk7XG4gICAgICAgIFNvYWtSdWxlcy5hcHBseUVsZW1lbnRhbEFybW9yKHNvYWtQYXJ0cywgYXJtb3IsIGRhbWFnZURhdGEuZWxlbWVudC5iYXNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhcHBseUJvZHlBbmRBcm1vclBhcnRzKHNvYWtQYXJ0czogUGFydHNMaXN0PG51bWJlcj4sIGFjdG9yOiBTUjVBY3Rvcikge1xuICAgICAgICBjb25zdCBib2R5ID0gYWN0b3IuZmluZEF0dHJpYnV0ZSgnYm9keScpO1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgICAgc29ha1BhcnRzLmFkZFVuaXF1ZVBhcnQoYm9keS5sYWJlbCB8fCAnU1I1LkJvZHknLCBib2R5LnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1vZCA9IGFjdG9yLmdldE1vZGlmaWVyKCdzb2FrJyk7XG4gICAgICAgIGlmIChtb2QpIHtcbiAgICAgICAgICAgIHNvYWtQYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCBtb2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgYWN0b3IuX2FkZEFybW9yUGFydHMoc29ha1BhcnRzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhcHBseUFybW9yUGVuZXRyYXRpb24oc29ha1BhcnRzOiBQYXJ0c0xpc3Q8bnVtYmVyPiwgYXJtb3I6IEFjdG9yQXJtb3JEYXRhLCBkYW1hZ2VEYXRhOiBEYW1hZ2VEYXRhKSB7XG4gICAgICAgIGNvbnN0IGJvbnVzQXJtb3IgPSBhcm1vcltkYW1hZ2VEYXRhLmVsZW1lbnQudmFsdWVdID8/IDA7XG4gICAgICAgIGNvbnN0IHRvdGFsQXJtb3IgPSBhcm1vci52YWx1ZSArIGJvbnVzQXJtb3I7XG4gICAgICAgIGNvbnN0IGFwID0gSGVscGVycy5jYWxjVG90YWwoZGFtYWdlRGF0YS5hcCk7XG5cbiAgICAgICAgc29ha1BhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5BUCcsIE1hdGgubWF4KGFwLCAtdG90YWxBcm1vcikpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGFwcGx5RWxlbWVudGFsQXJtb3Ioc29ha1BhcnRzOiBQYXJ0c0xpc3Q8bnVtYmVyPiwgYXJtb3I6IEFjdG9yQXJtb3JEYXRhLCBlbGVtZW50OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgYm9udXNBcm1vciA9IGFybW9yW2VsZW1lbnRdID8/IDA7XG4gICAgICAgIGlmIChib251c0FybW9yKSB7XG4gICAgICAgICAgICBzb2FrUGFydHMuYWRkVW5pcXVlUGFydChDT05GSUcuU1I1LmVsZW1lbnRUeXBlc1tlbGVtZW50XSwgYm9udXNBcm1vcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhcHBseU1hdHJpeFNvYWtQYXJ0cyhzb2FrUGFydHM6IFBhcnRzTGlzdDxudW1iZXI+LCBhY3RvcjogU1I1QWN0b3IpIHtcbiAgICAgICAgY29uc3QgYWN0b3JEYXRhID0gYWN0b3IuZGF0YS5kYXRhIGFzIENoYXJhY3RlckFjdG9yRGF0YTtcblxuICAgICAgICAvLyBBbGwgYWN0b3JzIGhhdmUgdGhlIHNhbWUgc29hayBydWxlcyB3aGVuIHRoZXkgYXJlIG5vdCBhY3RpdmUgaW4gdGhlIG1hdHJpeFxuICAgICAgICAvLyBUT0RPIFRlY2hub21hbmNlciBhbmQgU3ByaXRlcyBzcGVjaWFsIHJ1bGVzP1xuICAgICAgICBpZiAoYWN0b3JEYXRhLmluaXRpYXRpdmUucGVyY2VwdGlvbiA9PT0gJ21hdHJpeCcpIHtcbiAgICAgICAgICAgIGlmIChhY3Rvci5pc1ZlaGljbGUoKSl7XG4gICAgICAgICAgICAgICAgLy8gVmVoaWNsZXMgY2FuIGhhdmUgYSBtYXRyaXggaW5pdGlhdGl2ZSBidXQgZG8gbm90IHRha2UgYmlvZmVlZGJhY2tcbiAgICAgICAgICAgICAgICBTb2FrUnVsZXMuYXBwbHlSYXRpbmdBbmRGaXJld2FsbFBhcnRzKGFjdG9yRGF0YSwgc29ha1BhcnRzKTsgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU29ha1J1bGVzLmFwcGx5QmlvZmVlZGJhY2tQYXJ0cyhzb2FrUGFydHMsIGFjdG9yLCBhY3RvckRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTb2FrUnVsZXMuYXBwbHlSYXRpbmdBbmRGaXJld2FsbFBhcnRzKGFjdG9yRGF0YSwgc29ha1BhcnRzKTsgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhcHBseUJpb2ZlZWRiYWNrUGFydHMoc29ha1BhcnRzOiBQYXJ0c0xpc3Q8bnVtYmVyPiwgYWN0b3I6IFNSNUFjdG9yLCBhY3RvckRhdGE6IENoYXJhY3RlckFjdG9yRGF0YSkge1xuICAgICAgICBTb2FrUnVsZXMuYWRkVW5pcXVlUGFydChzb2FrUGFydHMsIGFjdG9yLmdldEF0dHJpYnV0ZSgnd2lsbHBvd2VyJyksIFNSNS5hdHRyaWJ1dGVzLndpbGxwb3dlcik7XG5cbiAgICAgICAgaWYgKCFhY3RvckRhdGEubWF0cml4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBTb2FrUnVsZXMuYWRkVW5pcXVlUGFydChzb2FrUGFydHMsIGFjdG9yRGF0YS5tYXRyaXguZmlyZXdhbGwsIFNSNS5tYXRyaXhBdHRyaWJ1dGVzLmZpcmV3YWxsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhcHBseVJhdGluZ0FuZEZpcmV3YWxsUGFydHMoYWN0b3JEYXRhOiBDaGFyYWN0ZXJBY3RvckRhdGEsIHNvYWtQYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgaWYgKCFhY3RvckRhdGEubWF0cml4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZXZpY2VSYXRpbmcgPSBhY3RvckRhdGEubWF0cml4LnJhdGluZztcbiAgICAgICAgaWYgKGRldmljZVJhdGluZykge1xuICAgICAgICAgICAgc29ha1BhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5MYWJlbHMuQWN0b3JTaGVldC5EZXZpY2VSYXRpbmcnLCBkZXZpY2VSYXRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRVbmlxdWVQYXJ0KHNvYWtQYXJ0cywgYWN0b3JEYXRhLm1hdHJpeC5maXJld2FsbCwgU1I1Lm1hdHJpeEF0dHJpYnV0ZXMuZmlyZXdhbGwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGFkZFVuaXF1ZVBhcnQocGFydHNMaXN0OiBQYXJ0c0xpc3Q8bnVtYmVyPiwgbW9kaWZpYWJsZVZhbHVlIDogTW9kaWZpYWJsZVZhbHVlLCBsYWJlbCA6IHN0cmluZykge1xuICAgICAgICBjb25zdCB0b3RhbFZhbHVlID0gSGVscGVycy5jYWxjVG90YWwobW9kaWZpYWJsZVZhbHVlKTtcbiAgICAgICAgcGFydHNMaXN0LmFkZFVuaXF1ZVBhcnQobGFiZWwsIHRvdGFsVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgdGhlIGRhbWFnZSB2YWx1ZSBiYXNlZCBvbiBuZXQgaGl0cyBhbmQgZGFtYWdlIGRhdGEgYW5kIGFjdG9yIHNwZWNpYWwgcnVsZXNcbiAgICAgKiBcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIE1ha2Ugc3VyZSB0aGF0IHlvdSBmaXJzdCBjYWxsIG1vZGlmeURhbWFnZVR5cGUgYmVmb3JlIHlvdSBjYWxsIHRoaXMgbWV0aG9kXG4gICAgICogdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IGRhbWFnZSB0eXBlIChwaHlzaWNhbCwgc3R1biwgbWF0cml4KVxuICAgICAqICBcbiAgICAgKiBAcGFyYW0gZGFtYWdlRGF0YSBUaGUgaW5jb21pbmcgZGFtYWdlXG4gICAgICogQHBhcmFtIGhpdHMgVGhlIG51bWJlciBvZiBoaXRzIG9uIHRoZSBzb2FrIHRlc3RzXG4gICAgICogQHJldHVybnMgVGhlIHVwZGF0ZWQgZGFtYWdlIGRhdGFcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVkdWNlRGFtYWdlKGFjdG9yIDogU1I1QWN0b3IsIGRhbWFnZURhdGE6IERhbWFnZURhdGEsIGhpdHM6IG51bWJlcik6IE1vZGlmaWVkRGFtYWdlRGF0YSB7XG5cbiAgICAgICAgLy8gVmVoaWNsZXMgYXJlIGltbXVuZSB0byBzdHVuIGRhbWFnZSAoZWxlY3RyaWNpdHkgc3R1biBkYW1hZ2UgaXMgaGFuZGxlZCBpbiBhIGRpZmZlcmVudCBwbGFjZSlcbiAgICAgICAgLy8gTm90ZTogVGhpcyBhbHNvIHRha2VzIGNhcmUgb2YgdGhlIHZlaGljbGUgaW1tdW5pdHksIHNpbmNlIHBoeXNpY2FsIGRhbWFnZSB0aGF0IGRvZXMgbm90IGV4Y2VlZCBhcm1vciBcbiAgICAgICAgLy8gd2lsbCBiZSBjb252ZXJ0ZWQgdG8gc3R1biBkYW1hZ2UgYW5kIHRoZW4gcmVkdWNlZCB0byAwLiBUaGlzIGRvZXMgbm90IHdvcmsgd2l0aCBkcm9uZXMgd2VhcmluZyBhcm1vclxuICAgICAgICAvLyBidXQgd2UgZG8gbm90IHN1cHBvcnQgdGhpcy4gXG4gICAgICAgIGlmIChkYW1hZ2VEYXRhLnR5cGUudmFsdWUgPT09ICdzdHVuJyAmJiBhY3Rvci5pc1ZlaGljbGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIEhlbHBlcnMucmVkdWNlRGFtYWdlQnlIaXRzKGRhbWFnZURhdGEsIGRhbWFnZURhdGEudmFsdWUsICdTUjUuVmVoaWNsZVN0dW5JbW11bml0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEhlbHBlcnMucmVkdWNlRGFtYWdlQnlIaXRzKGRhbWFnZURhdGEsIGhpdHMsICdTUjUuU29ha1Rlc3QnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBkYW1hZ2UgdHlwZSBiYXNlZCBvbiB0aGUgaW5jb21pbmcgZGFtYWdlIHR5cGUgYW5kIHRoZSBhY3RvciBzdGF0ZSAoYXJtb3IsIG1hdHJpeCBwZXJjZXB0aW9uLi4pXG4gICAgICogQHBhcmFtIGRhbWFnZSBUaGUgaW5jb21pbmcgZGFtYWdlXG4gICAgICogQHBhcmFtIGFjdG9yIFRoZSBhY3RvciBhZmZlY3RlZCBieSB0aGUgZGFtYWdlIFxuICAgICAqIEByZXR1cm5zIFRoZSB1cGRhdGVkIGRhbWFnZSBkYXRhIFxuICAgICAqL1xuICAgIHN0YXRpYyBtb2RpZnlEYW1hZ2VUeXBlKGRhbWFnZTogRGFtYWdlRGF0YSwgYWN0b3IgOiBTUjVBY3RvcikgOiBEYW1hZ2VEYXRhIHtcbiAgICAgICAgLy8gQ2FyZWZ1bCwgb3JkZXIgb2YgZGFtYWdlIGNvbnZlcnNpb24gaXMgdmVyeSBpbXBvcnRhbnRcbiAgICAgICAgLy8gRWxlY3RyaWNpdHkgc3R1biBkYW1hZ2UgaXMgY29uc2lkZXJlZCBwaHlzaWNhbCBmb3IgdmVoaWNsZXNcbiAgICAgICAgbGV0IHVwZGF0ZWREYW1hZ2UgPSBkdXBsaWNhdGUoZGFtYWdlKTtcbiAgICAgICAgaWYgKGFjdG9yLmlzVmVoaWNsZSgpICYmIHVwZGF0ZWREYW1hZ2UuZWxlbWVudC52YWx1ZSA9PT0gJ2VsZWN0cmljaXR5JyAmJiB1cGRhdGVkRGFtYWdlLnR5cGUudmFsdWUgPT09ICdzdHVuJykge1xuICAgICAgICAgICAgdXBkYXRlZERhbWFnZS50eXBlLnZhbHVlID0gJ3BoeXNpY2FsJztcbiAgICAgICAgfVxuIFxuICAgICAgICB1cGRhdGVkRGFtYWdlID0gU29ha1J1bGVzLm1vZGlmeVBoeXNpY2FsRGFtYWdlRm9yQXJtb3IodXBkYXRlZERhbWFnZSwgYWN0b3IpO1xuICAgICAgICByZXR1cm4gU29ha1J1bGVzLm1vZGlmeU1hdHJpeERhbWFnZUZvckJpb2ZlZWRiYWNrKHVwZGF0ZWREYW1hZ2UsIGFjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUdXJucyBwaHlzaWNhbCBkYW1hZ2UgdG8gc3R1biBkYW1hZ2UgYmFzZWQgb24gdGhlIGRhbWFnZSBhbmQgYXJtb3JcbiAgICAgKiBAcGFyYW0gZGFtYWdlIFRoZSBpbmNvbWluZyBkYW1hZ2VcbiAgICAgKiBAcGFyYW0gYWN0b3IgVGhlIGFjdG9yIGFmZmVjdGVkIGJ5IHRoZSBkYW1hZ2UgXG4gICAgICogQHJldHVybnMgVGhlIHVwZGF0ZWQgZGFtYWdlIGRhdGEgXG4gICAgICovXG4gICAgIHN0YXRpYyBtb2RpZnlQaHlzaWNhbERhbWFnZUZvckFybW9yKGRhbWFnZTogRGFtYWdlRGF0YSwgYWN0b3IgOiBTUjVBY3Rvcik6IERhbWFnZURhdGEge1xuICAgICAgICBjb25zdCB1cGRhdGVkRGFtYWdlID0gZHVwbGljYXRlKGRhbWFnZSk7XG5cbiAgICAgICAgaWYgKGRhbWFnZS50eXBlLnZhbHVlID09PSAncGh5c2ljYWwnKSB7XG4gICAgICAgICAgICAvLyBQaHlzaWNhbCBkYW1hZ2UgaXMgb25seSB0cmFuc2Zvcm1lZCBmb3Igc29tZSBhY3RvcnMgXG4gICAgICAgICAgICBpZiAoIWFjdG9yLmlzQ2hhcmFjdGVyKCkgJiYgIWFjdG9yLmlzU3Bpcml0KCkgJiYgIWFjdG9yLmlzQ3JpdHRlcigpICYmICFhY3Rvci5pc1ZlaGljbGUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkRGFtYWdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBtb2RpZmllZEFybW9yID0gYWN0b3IuZ2V0TW9kaWZpZWRBcm1vcihkYW1hZ2UpO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVkQXJtb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcm1vcldpbGxDaGFuZ2VEYW1hZ2VUeXBlID0gbW9kaWZpZWRBcm1vci52YWx1ZSA+IGRhbWFnZS52YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChhcm1vcldpbGxDaGFuZ2VEYW1hZ2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWREYW1hZ2UudHlwZS52YWx1ZSA9ICdzdHVuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlZERhbWFnZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUdXJucyBtYXRyaXggZGFtYWdlIHRvIGJpb2ZlZWRiYWNrIGJhc2VkIG9uIHRoZSBhY3RvciBzdGF0ZVxuICAgICAqIEBwYXJhbSBkYW1hZ2UgVGhlIGluY29taW5nIGRhbWFnZVxuICAgICAqIEBwYXJhbSBhY3RvciBUaGUgYWN0b3IgYWZmZWN0ZWQgYnkgdGhlIGRhbWFnZSBcbiAgICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBkYW1hZ2UgZGF0YSBcbiAgICAgKi9cbiAgICBzdGF0aWMgbW9kaWZ5TWF0cml4RGFtYWdlRm9yQmlvZmVlZGJhY2soZGFtYWdlOiBEYW1hZ2VEYXRhLCBhY3RvciA6IFNSNUFjdG9yKTogRGFtYWdlRGF0YSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWREYW1hZ2UgPSBkdXBsaWNhdGUoZGFtYWdlKTtcblxuICAgICAgICBpZiAoZGFtYWdlLnR5cGUudmFsdWUgPT09ICdtYXRyaXgnKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RvckRhdGEgPSBhY3Rvci5kYXRhLmRhdGEgYXMgQ2hhcmFjdGVyQWN0b3JEYXRhO1xuXG4gICAgICAgICAgICAvLyBPbmx5IGNoYXJhY3RlcnMgY2FuIHJlY2VpdmUgYmlvZmVlZGJhY2sgZGFtYWdlIGF0IHRoZSBtb21lbnQuIFxuICAgICAgICAgICAgLy8gVE9ETyBUZWNobm9tYW5jZXIgYW5kIFNwcml0ZXMgc3BlY2lhbCBydWxlcz9cbiAgICAgICAgICAgIGlmICghYWN0b3IuaXNDaGFyYWN0ZXIoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkRGFtYWdlO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKGFjdG9yRGF0YS5pbml0aWF0aXZlLnBlcmNlcHRpb24gPT09ICdtYXRyaXgnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdG9yRGF0YS5tYXRyaXguaG90X3NpbSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRGFtYWdlLnR5cGUudmFsdWUgPSAncGh5c2ljYWwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZERhbWFnZS50eXBlLnZhbHVlID0gJ3N0dW4nOyAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlZERhbWFnZTtcbiAgICB9XG59IiwiaW1wb3J0IFNSNUFjdG9yVHlwZSA9IFNoYWRvd3J1bi5TUjVBY3RvclR5cGU7XG5pbXBvcnQgeyBDaGFyYWN0ZXJQcmVwIH0gZnJvbSAnLi9DaGFyYWN0ZXJQcmVwJztcbmltcG9ydCB7IFNwaXJpdFByZXAgfSBmcm9tICcuL1NwaXJpdFByZXAnO1xuaW1wb3J0IHsgU3ByaXRlUHJlcCB9IGZyb20gJy4vU3ByaXRlUHJlcCc7XG5pbXBvcnQgeyBWZWhpY2xlUHJlcCB9IGZyb20gJy4vVmVoaWNsZVByZXAnO1xuaW1wb3J0IHsgQ3JpdHRlclByZXAgfSBmcm9tICcuL0NyaXR0ZXJQcmVwJztcblxuZXhwb3J0IGNsYXNzIEFjdG9yUHJlcEZhY3Rvcnkge1xuICAgIHN0YXRpYyBDcmVhdGUoZGF0YTogU1I1QWN0b3JUeXBlKSB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENoYXJhY3RlclByZXAoZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnc3Bpcml0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTcGlyaXRQcmVwKGRhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3Nwcml0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ByaXRlUHJlcChkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd2ZWhpY2xlJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWhpY2xlUHJlcChkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdjcml0dGVyJykge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IENyaXR0ZXJQcmVwKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFNSNUFjdG9yVHlwZSA9IFNoYWRvd3J1bi5TUjVBY3RvclR5cGU7XG5pbXBvcnQgeyBTUjVJdGVtRGF0YVdyYXBwZXIgfSBmcm9tICcuLi8uLi9pdGVtL1NSNUl0ZW1EYXRhV3JhcHBlcic7XG5pbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VBY3RvclByZXA8QWN0b3JUeXBlIGV4dGVuZHMgU1I1QWN0b3JUeXBlLCBEYXRhVHlwZSBleHRlbmRzIFNSNUFjdG9yRGF0YT4ge1xuICAgIGRhdGE6IERhdGFUeXBlO1xuICAgIGl0ZW1zOiBTUjVJdGVtRGF0YVdyYXBwZXJbXTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IEFjdG9yVHlwZSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLml0ZW1zID0gZGF0YS5pdGVtcy5tYXAoKGl0ZW0pID0+IG5ldyBTUjVJdGVtRGF0YVdyYXBwZXIoaXRlbSkpO1xuICAgIH1cblxuICAgIC8vIG92ZXJyaWRlIHdpdGggdGhlIGNvcnJlY3Qgb3JkZXIgYW5kIGZ1bmN0aW9ucyB0byBwcmVwYXJlIHRoZSBhY3RvclxuICAgIGFic3RyYWN0IHByZXBhcmUoKTogdm9pZDtcbn1cbiIsImltcG9ydCB7IEJhc2VBY3RvclByZXAgfSBmcm9tICcuL0Jhc2VBY3RvclByZXAnO1xuaW1wb3J0IHsgSW5pdGlhdGl2ZVByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Jbml0aWF0aXZlUHJlcCc7XG5pbXBvcnQgeyBNb2RpZmllcnNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvTW9kaWZpZXJzUHJlcCc7XG5pbXBvcnQgeyBNYXRyaXhQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvTWF0cml4UHJlcCc7XG5pbXBvcnQgeyBJdGVtUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0l0ZW1QcmVwJztcbmltcG9ydCB7IFNraWxsc1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Ta2lsbHNQcmVwJztcbmltcG9ydCB7IExpbWl0c1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9MaW1pdHNQcmVwJztcbmltcG9ydCB7IENvbmRpdGlvbk1vbml0b3JzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0NvbmRpdGlvbk1vbml0b3JzUHJlcCc7XG5pbXBvcnQgeyBNb3ZlbWVudFByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Nb3ZlbWVudFByZXAnO1xuaW1wb3J0IHsgV291bmRzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL1dvdW5kc1ByZXAnO1xuaW1wb3J0IHsgQXR0cmlidXRlc1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9BdHRyaWJ1dGVzUHJlcCc7XG5pbXBvcnQgeyBOUENQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvTlBDUHJlcCc7XG5pbXBvcnQgU1I1Q2hhcmFjdGVyVHlwZSA9IFNoYWRvd3J1bi5TUjVDaGFyYWN0ZXJUeXBlO1xuaW1wb3J0IENoYXJhY3RlckFjdG9yRGF0YSA9IFNoYWRvd3J1bi5DaGFyYWN0ZXJBY3RvckRhdGE7XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJQcmVwIGV4dGVuZHMgQmFzZUFjdG9yUHJlcDxTUjVDaGFyYWN0ZXJUeXBlLCBDaGFyYWN0ZXJBY3RvckRhdGE+IHtcbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBNb2RpZmllcnNQcmVwLnByZXBhcmVNb2RpZmllcnModGhpcy5kYXRhKTtcbiAgICAgICAgTW9kaWZpZXJzUHJlcC5jbGVhckF0dHJpYnV0ZU1vZHModGhpcy5kYXRhKTtcblxuICAgICAgICBJdGVtUHJlcC5wcmVwYXJlQXJtb3IodGhpcy5kYXRhLCB0aGlzLml0ZW1zKTtcbiAgICAgICAgSXRlbVByZXAucHJlcGFyZUJvZHl3YXJlKHRoaXMuZGF0YSwgdGhpcy5pdGVtcyk7XG5cbiAgICAgICAgU2tpbGxzUHJlcC5wcmVwYXJlU2tpbGxzKHRoaXMuZGF0YSk7XG4gICAgICAgIEF0dHJpYnV0ZXNQcmVwLnByZXBhcmVBdHRyaWJ1dGVzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgLy8gTlBDUHJlcCBpcyByZWxpYW50IHRvIGJlIGNhbGxlZCBhZnRlciBBdHRyaWJ1dGVzUHJlcC5cbiAgICAgICAgTlBDUHJlcC5wcmVwYXJlTlBDRGF0YSh0aGlzLmRhdGEpO1xuXG4gICAgICAgIExpbWl0c1ByZXAucHJlcGFyZUxpbWl0QmFzZUZyb21BdHRyaWJ1dGVzKHRoaXMuZGF0YSk7XG4gICAgICAgIExpbWl0c1ByZXAucHJlcGFyZUxpbWl0cyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIE1hdHJpeFByZXAucHJlcGFyZU1hdHJpeCh0aGlzLmRhdGEsIHRoaXMuaXRlbXMpO1xuICAgICAgICBNYXRyaXhQcmVwLnByZXBhcmVNYXRyaXhUb0xpbWl0c0FuZEF0dHJpYnV0ZXModGhpcy5kYXRhKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLmlzX25wYyAmJiB0aGlzLmRhdGEubnBjLmlzX2dydW50KSB7XG4gICAgICAgICAgICBDb25kaXRpb25Nb25pdG9yc1ByZXAucHJlcGFyZUdydW50KHRoaXMuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDb25kaXRpb25Nb25pdG9yc1ByZXAucHJlcGFyZVBoeXNpY2FsKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICBDb25kaXRpb25Nb25pdG9yc1ByZXAucHJlcGFyZVN0dW4odGhpcy5kYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1vdmVtZW50UHJlcC5wcmVwYXJlTW92ZW1lbnQodGhpcy5kYXRhKTtcbiAgICAgICAgV291bmRzUHJlcC5wcmVwYXJlV291bmRzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZU1lYXRzcGFjZUluaXQodGhpcy5kYXRhKTtcbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZUFzdHJhbEluaXQodGhpcy5kYXRhKTtcbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZU1hdHJpeEluaXQodGhpcy5kYXRhKTtcbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZUN1cnJlbnRJbml0aWF0aXZlKHRoaXMuZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUFjdG9yUHJlcCB9IGZyb20gJy4vQmFzZUFjdG9yUHJlcCc7XG5pbXBvcnQgeyBJbml0aWF0aXZlUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0luaXRpYXRpdmVQcmVwJztcbmltcG9ydCB7IE1vZGlmaWVyc1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Nb2RpZmllcnNQcmVwJztcbmltcG9ydCB7IE1hdHJpeFByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9NYXRyaXhQcmVwJztcbmltcG9ydCB7IEl0ZW1QcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvSXRlbVByZXAnO1xuaW1wb3J0IHsgU2tpbGxzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL1NraWxsc1ByZXAnO1xuaW1wb3J0IHsgTGltaXRzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0xpbWl0c1ByZXAnO1xuaW1wb3J0IHsgQ29uZGl0aW9uTW9uaXRvcnNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvQ29uZGl0aW9uTW9uaXRvcnNQcmVwJztcbmltcG9ydCB7IE1vdmVtZW50UHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL01vdmVtZW50UHJlcCc7XG5pbXBvcnQgeyBXb3VuZHNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvV291bmRzUHJlcCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0F0dHJpYnV0ZXNQcmVwJztcbmltcG9ydCBTUjVDcml0dGVyVHlwZSA9IFNoYWRvd3J1bi5TUjVDcml0dGVyVHlwZTtcbmltcG9ydCBDcml0dGVyQWN0b3JEYXRhID0gU2hhZG93cnVuLkNyaXR0ZXJBY3RvckRhdGE7XG5pbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcbmltcG9ydCBUd29UcmFja0FjdG9yRGF0YSA9IFNoYWRvd3J1bi5Ud29UcmFja0FjdG9yRGF0YTtcbmltcG9ydCB7Q2hhcmFjdGVyUHJlcH0gZnJvbSBcIi4vQ2hhcmFjdGVyUHJlcFwiO1xuXG5leHBvcnQgY2xhc3MgQ3JpdHRlclByZXAgZXh0ZW5kcyBCYXNlQWN0b3JQcmVwPFNSNUNyaXR0ZXJUeXBlLCBDcml0dGVyQWN0b3JEYXRhPiB7XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgTW9kaWZpZXJzUHJlcC5wcmVwYXJlTW9kaWZpZXJzKHRoaXMuZGF0YSk7XG4gICAgICAgIE1vZGlmaWVyc1ByZXAuY2xlYXJBdHRyaWJ1dGVNb2RzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgSXRlbVByZXAucHJlcGFyZUFybW9yKHRoaXMuZGF0YSwgdGhpcy5pdGVtcyk7XG4gICAgICAgIEl0ZW1QcmVwLnByZXBhcmVCb2R5d2FyZSh0aGlzLmRhdGEsIHRoaXMuaXRlbXMpO1xuXG4gICAgICAgIFNraWxsc1ByZXAucHJlcGFyZVNraWxscyh0aGlzLmRhdGEpO1xuICAgICAgICBBdHRyaWJ1dGVzUHJlcC5wcmVwYXJlQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBMaW1pdHNQcmVwLnByZXBhcmVMaW1pdEJhc2VGcm9tQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBMaW1pdHNQcmVwLnByZXBhcmVMaW1pdHModGhpcy5kYXRhKTtcblxuICAgICAgICBNYXRyaXhQcmVwLnByZXBhcmVNYXRyaXgodGhpcy5kYXRhLCB0aGlzLml0ZW1zKTtcbiAgICAgICAgTWF0cml4UHJlcC5wcmVwYXJlTWF0cml4VG9MaW1pdHNBbmRBdHRyaWJ1dGVzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgQ29uZGl0aW9uTW9uaXRvcnNQcmVwLnByZXBhcmVQaHlzaWNhbCh0aGlzLmRhdGEpO1xuICAgICAgICBDb25kaXRpb25Nb25pdG9yc1ByZXAucHJlcGFyZVN0dW4odGhpcy5kYXRhKTtcblxuICAgICAgICBNb3ZlbWVudFByZXAucHJlcGFyZU1vdmVtZW50KHRoaXMuZGF0YSk7XG4gICAgICAgIFdvdW5kc1ByZXAucHJlcGFyZVdvdW5kcyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIEluaXRpYXRpdmVQcmVwLnByZXBhcmVNZWF0c3BhY2VJbml0KHRoaXMuZGF0YSk7XG4gICAgICAgIEluaXRpYXRpdmVQcmVwLnByZXBhcmVBc3RyYWxJbml0KHRoaXMuZGF0YSk7XG4gICAgICAgIEluaXRpYXRpdmVQcmVwLnByZXBhcmVNYXRyaXhJbml0KHRoaXMuZGF0YSk7XG4gICAgICAgIEluaXRpYXRpdmVQcmVwLnByZXBhcmVDdXJyZW50SW5pdGlhdGl2ZSh0aGlzLmRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VBY3RvclByZXAgfSBmcm9tICcuL0Jhc2VBY3RvclByZXAnO1xuaW1wb3J0IFNwaXJpdEFjdG9yRGF0YSA9IFNoYWRvd3J1bi5TcGlyaXRBY3RvckRhdGE7XG5pbXBvcnQgU1I1U3Bpcml0VHlwZSA9IFNoYWRvd3J1bi5TUjVTcGlyaXRUeXBlO1xuaW1wb3J0IHsgU2tpbGxzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL1NraWxsc1ByZXAnO1xuaW1wb3J0IHsgQXR0cmlidXRlc1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9BdHRyaWJ1dGVzUHJlcCc7XG5pbXBvcnQgeyBMaW1pdHNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvTGltaXRzUHJlcCc7XG5pbXBvcnQgeyBDb25kaXRpb25Nb25pdG9yc1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Db25kaXRpb25Nb25pdG9yc1ByZXAnO1xuaW1wb3J0IHsgTW92ZW1lbnRQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvTW92ZW1lbnRQcmVwJztcbmltcG9ydCB7IFdvdW5kc1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Xb3VuZHNQcmVwJztcbmltcG9ydCB7IE1vZGlmaWVyc1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Nb2RpZmllcnNQcmVwJztcbmltcG9ydCB7IEluaXRpYXRpdmVQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvSW5pdGlhdGl2ZVByZXAnO1xuaW1wb3J0IFNwaXJpdFR5cGUgPSBTaGFkb3dydW4uU3Bpcml0VHlwZTtcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7UGFydHNMaXN0fSBmcm9tIFwiLi4vLi4vcGFydHMvUGFydHNMaXN0XCI7XG5cbmV4cG9ydCBjbGFzcyBTcGlyaXRQcmVwIGV4dGVuZHMgQmFzZUFjdG9yUHJlcDxTUjVTcGlyaXRUeXBlLCBTcGlyaXRBY3RvckRhdGE+IHtcbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBNb2RpZmllcnNQcmVwLnByZXBhcmVNb2RpZmllcnModGhpcy5kYXRhKTtcbiAgICAgICAgTW9kaWZpZXJzUHJlcC5jbGVhckF0dHJpYnV0ZU1vZHModGhpcy5kYXRhKTtcblxuICAgICAgICBTcGlyaXRQcmVwLnByZXBhcmVTcGlyaXRCYXNlRGF0YSh0aGlzLmRhdGEpO1xuXG4gICAgICAgIFNraWxsc1ByZXAucHJlcGFyZVNraWxscyh0aGlzLmRhdGEpO1xuICAgICAgICBBdHRyaWJ1dGVzUHJlcC5wcmVwYXJlQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBMaW1pdHNQcmVwLnByZXBhcmVMaW1pdEJhc2VGcm9tQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBMaW1pdHNQcmVwLnByZXBhcmVMaW1pdHModGhpcy5kYXRhKTtcblxuICAgICAgICBTcGlyaXRQcmVwLnByZXBhcmVTcGlyaXRBcm1vcih0aGlzLmRhdGEpO1xuXG4gICAgICAgIENvbmRpdGlvbk1vbml0b3JzUHJlcC5wcmVwYXJlU3R1bih0aGlzLmRhdGEpO1xuICAgICAgICBDb25kaXRpb25Nb25pdG9yc1ByZXAucHJlcGFyZVBoeXNpY2FsKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgTW92ZW1lbnRQcmVwLnByZXBhcmVNb3ZlbWVudCh0aGlzLmRhdGEpO1xuICAgICAgICBXb3VuZHNQcmVwLnByZXBhcmVXb3VuZHModGhpcy5kYXRhKTtcblxuICAgICAgICBJbml0aWF0aXZlUHJlcC5wcmVwYXJlQ3VycmVudEluaXRpYXRpdmUodGhpcy5kYXRhKTtcblxuICAgICAgICB0aGlzLmRhdGEuc3BlY2lhbCA9ICdtYWdpYyc7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVTcGlyaXRCYXNlRGF0YShkYXRhOiBTcGlyaXRBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVzID0gdGhpcy5nZXRTcGlyaXRTdGF0TW9kaWZpZXJzKGRhdGEuc3Bpcml0VHlwZSk7XG5cbiAgICAgICAgaWYgKG92ZXJyaWRlcykge1xuICAgICAgICAgICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBza2lsbHMsIGluaXRpYXRpdmUsIGZvcmNlLCBtb2RpZmllcnMgfSA9IGRhdGE7XG5cbiAgICAgICAgICAgIC8vIHNldCB0aGUgYmFzZSBvZiBhdHRyaWJ1dGVzIHRvIHRoZSBwcm92aWRlZCB2YWx1ZVxuICAgICAgICAgICAgZm9yIChjb25zdCBbYXR0SWQsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvdmVycmlkZXMuYXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlc1thdHRJZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dElkXS5iYXNlID0gdmFsdWUgKyBmb3JjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW3NraWxsSWQsIHNraWxsXSBvZiBPYmplY3QuZW50cmllcyhza2lsbHMuYWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIHNraWxsLmJhc2UgPSBvdmVycmlkZXMuc2tpbGxzLmZpbmQoKHMpID0+IHMgPT09IHNraWxsSWQpID8gZm9yY2UgOiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwcmVwYXJlIGluaXRpYXRpdmUgZGF0YVxuICAgICAgICAgICAgaW5pdGlhdGl2ZS5tZWF0c3BhY2UuYmFzZS5iYXNlID0gZm9yY2UgKiAyICsgb3ZlcnJpZGVzLmluaXQgKyBOdW1iZXIobW9kaWZpZXJzWydhc3RyYWxfaW5pdGlhdGl2ZSddKTtcbiAgICAgICAgICAgIGluaXRpYXRpdmUubWVhdHNwYWNlLmJhc2UubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoaW5pdGlhdGl2ZS5tZWF0c3BhY2UuYmFzZS5tb2QsIFwiU1I1LkJvbnVzXCIsIE51bWJlcihtb2RpZmllcnNbJ21lYXRfaW5pdGlhdGl2ZSddKSk7XG4gICAgICAgICAgICBpbml0aWF0aXZlLm1lYXRzcGFjZS5kaWNlLmJhc2UgPSAyO1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5tZWF0c3BhY2UuZGljZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLm1lYXRzcGFjZS5kaWNlLm1vZCwgXCJTUjUuQm9udXNcIiwgTnVtYmVyKG1vZGlmaWVyc1snbWVhdF9pbml0aWF0aXZlX2RpY2UnXSkpO1xuXG4gICAgICAgICAgICBpbml0aWF0aXZlLmFzdHJhbC5iYXNlLmJhc2UgPSBmb3JjZSAqIDIgKyBvdmVycmlkZXMuYXN0cmFsX2luaXQgKyBOdW1iZXIobW9kaWZpZXJzWydhc3RyYWxfaW5pdGlhdGl2ZV9kaWNlJ10pO1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuYmFzZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLmFzdHJhbC5iYXNlLm1vZCwgXCJTUjUuQm9udXNcIiwgTnVtYmVyKG1vZGlmaWVyc1snYXN0cmFsX2luaXRpYXRpdmUnXSkpO1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuZGljZS5iYXNlID0gMztcbiAgICAgICAgICAgIGluaXRpYXRpdmUuYXN0cmFsLmRpY2UubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoaW5pdGlhdGl2ZS5hc3RyYWwuZGljZS5tb2QsIFwiU1I1LkJvbnVzXCIsIE51bWJlcihtb2RpZmllcnNbJ2FzdHJhbF9pbml0aWF0aXZlX2RpY2UnXSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVTcGlyaXRBcm1vcihkYXRhOiBTcGlyaXRBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBhcm1vciwgYXR0cmlidXRlcyB9ID0gZGF0YTtcbiAgICAgICAgYXJtb3IuYmFzZSA9IChhdHRyaWJ1dGVzLmVzc2VuY2UudmFsdWUgPz8gMCkgKiAyO1xuICAgICAgICBhcm1vci52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKGFybW9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgdGhlIGF0dHJpYnV0ZSBhbmQgaW5pdGlhdGl2ZSBtb2RpZmllcnMgYW5kIHNraWxsc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRTcGlyaXRTdGF0TW9kaWZpZXJzKHNwaXJpdFR5cGU6IFNwaXJpdFR5cGUpIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVzID0ge1xuICAgICAgICAgICAgLy8gdmFsdWUgb2YgMCBmb3IgYXR0cmlidXRlIG1ha2VzIGl0IGVxdWFsIHRvIHRoZSBGb3JjZVxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIGJvZHk6IDAsXG4gICAgICAgICAgICAgICAgYWdpbGl0eTogMCxcbiAgICAgICAgICAgICAgICByZWFjdGlvbjogMCxcbiAgICAgICAgICAgICAgICBzdHJlbmd0aDogMCxcbiAgICAgICAgICAgICAgICB3aWxscG93ZXI6IDAsXG4gICAgICAgICAgICAgICAgbG9naWM6IDAsXG4gICAgICAgICAgICAgICAgaW50dWl0aW9uOiAwLFxuICAgICAgICAgICAgICAgIGNoYXJpc21hOiAwLFxuICAgICAgICAgICAgICAgIG1hZ2ljOiAwLFxuICAgICAgICAgICAgICAgIGVzc2VuY2U6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbW9kaWZpZXJzIGZvciBhZnRlciB0aGUgRm9yY2UgeCAyIGNhbGN1bGF0aW9uXG4gICAgICAgICAgICBpbml0OiAwLFxuICAgICAgICAgICAgYXN0cmFsX2luaXQ6IDAsXG4gICAgICAgICAgICAvLyBza2lsbHMgYXJlIGFsbCBzZXQgdG8gRm9yY2VcbiAgICAgICAgICAgIHNraWxsczogW10gYXMgc3RyaW5nW10sXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoc3Bpcml0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYWlyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gLTI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gLTM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JlYXN0cyc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZWFydGgnOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmJvZHkgPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmFnaWxpdHkgPSAtMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IC0xO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gNDtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5sb2dpYyA9IC0xO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdleG90aWNfcmFuZ2UnLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZmlyZSc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gLTI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuaW50dWl0aW9uID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdleG90aWNfcmFuZ2UnLCAnZmxpZ2h0JywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2d1YXJkaWFuJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ2JsYWRlcycsICdjbHVicycsICdjb3VudGVyX3NwZWxsaW5nJywgJ2V4b3RpY19yYW5nZScsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdndWlkYW5jZSc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IC0xO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhcmNhbmEnLCAnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnY291bnRlcl9zcGVsbGluZycsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtYW4nOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmJvZHkgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IC0yO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAncGVyY2VwdGlvbicsICdzcGVsbGNhc3RpbmcnLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BsYW50JzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmxvZ2ljID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdwZXJjZXB0aW9uJywgJ2V4b3RpY19yYW5nZScsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFzayc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhcnRpc2FuJywgJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dhdGVyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndG94aWNfYWlyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gLTI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gLTM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAncnVubmluZycsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndG94aWNfYmVhc3RzJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdleG90aWNfcmFuZ2UnLCAnZ3ltbmFzdGljcycsICdwZXJjZXB0aW9uJywgJ3J1bm5pbmcnLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RveGljX2VhcnRoJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gNDtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gLTI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAtMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMubG9naWMgPSAtMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IC0xO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RveGljX2ZpcmUnOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmJvZHkgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmFnaWxpdHkgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IC0yO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAnZmxpZ2h0JywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0b3hpY19tYW4nOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IC0yO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAncGVyY2VwdGlvbicsICdzcGVsbF9jYXN0aW5nJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0b3hpY193YXRlcic6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ2V4b3RpY19yYW5nZScsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Jsb29kJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMubG9naWMgPSAtMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAncnVubmluZycsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdtdXNlJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMud2lsbHBvd2VyID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdjb24nLCAnZ3ltbmFzdGljcycsICdpbnRpbWlkYXRpb24nLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbmlnaHRtYXJlJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMud2lsbHBvd2VyID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5pbnR1aXRpb24gPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmNoYXJpc21hID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdjb24nLCAnZ3ltbmFzdGljcycsICdpbnRpbWlkYXRpb24nLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2hhZGUnOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmFnaWxpdHkgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy53aWxscG93ZXIgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuY2hhcmlzbWEgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ2NvbicsICdneW1uYXN0aWNzJywgJ2ludGltaWRhdGlvbicsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdWNjdWJ1cyc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLndpbGxwb3dlciA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuaW50dWl0aW9uID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5jaGFyaXNtYSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnY29uJywgJ2d5bW5hc3RpY3MnLCAnaW50aW1pZGF0aW9uJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dyYWl0aCc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLndpbGxwb3dlciA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuaW50dWl0aW9uID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5jaGFyaXNtYSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnY29uJywgJ2d5bW5hc3RpY3MnLCAnaW50aW1pZGF0aW9uJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnc2hlZGltJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21hc3Rlcl9zaGVkaW0nOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMubG9naWMgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnY291bnRlcnNwZWxsaW5nJywgJ3BlcmNlcHRpb24nLCAnc3BlbGxjYXN0aW5nJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIGluc2VjdFxuICAgICAgICAgICAgY2FzZSAnY2FyZXRha2VyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnbGVhZGVyc2hpcCcsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdueW1waCc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdwZXJjZXB0aW9uJywgJ2d5bW5hc3RpY3MnLCAnc3BlbGxjYXN0aW5nJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzY291dCc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAnZ3ltbmFzdGljcycsICdzbmVha2luZycsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc29sZGllcic6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdjb3VudGVyc3BlbGxpbmcnLCAnZXhvdGljX3JhbmdlJywgJ2d5bW5hc3RpY3MnLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd29ya2VyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdxdWVlbic6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDU7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gNTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy53aWxscG93ZXIgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmxvZ2ljID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5pbnR1aXRpb24gPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gNTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICdhc3NlbnNpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnYXN0cmFsX2NvbWJhdCcsXG4gICAgICAgICAgICAgICAgICAgICdjb24nLFxuICAgICAgICAgICAgICAgICAgICAnY291bnRlcnNwZWxsaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgJ2d5bW5hc3RpY3MnLFxuICAgICAgICAgICAgICAgICAgICAnbGVhZGVyc2hpcCcsXG4gICAgICAgICAgICAgICAgICAgICduZWdvdGlhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICdwZXJjZXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NwZWxsY2FzdGluZycsXG4gICAgICAgICAgICAgICAgICAgICd1bmFybWVkX2NvbWJhdCcsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3ZlcnJpZGVzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VBY3RvclByZXAgfSBmcm9tICcuL0Jhc2VBY3RvclByZXAnO1xuaW1wb3J0IFNSNVNwcml0ZVR5cGUgPSBTaGFkb3dydW4uU1I1U3ByaXRlVHlwZTtcbmltcG9ydCBTcHJpdGVBY3RvckRhdGEgPSBTaGFkb3dydW4uU3ByaXRlQWN0b3JEYXRhO1xuaW1wb3J0IHsgU2tpbGxzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL1NraWxsc1ByZXAnO1xuaW1wb3J0IHsgTW9kaWZpZXJzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL01vZGlmaWVyc1ByZXAnO1xuaW1wb3J0IHsgSW5pdGlhdGl2ZVByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Jbml0aWF0aXZlUHJlcCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0F0dHJpYnV0ZXNQcmVwJztcbmltcG9ydCB7IExpbWl0c1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9MaW1pdHNQcmVwJztcbmltcG9ydCB7IE1hdHJpeFByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9NYXRyaXhQcmVwJztcbmltcG9ydCBTcHJpdGVUeXBlID0gU2hhZG93cnVuLlNwcml0ZVR5cGU7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBQYXJ0c0xpc3QgfSBmcm9tICcuLi8uLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuXG4vKipcbiAqIFByZXBhcmUgYSBTcHJpdGUgVHlwZSBvZiBBY3RvclxuICovXG5leHBvcnQgY2xhc3MgU3ByaXRlUHJlcCBleHRlbmRzIEJhc2VBY3RvclByZXA8U1I1U3ByaXRlVHlwZSwgU3ByaXRlQWN0b3JEYXRhPiB7XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgTW9kaWZpZXJzUHJlcC5wcmVwYXJlTW9kaWZpZXJzKHRoaXMuZGF0YSk7XG4gICAgICAgIE1vZGlmaWVyc1ByZXAuY2xlYXJBdHRyaWJ1dGVNb2RzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgU3ByaXRlUHJlcC5wcmVwYXJlU3ByaXRlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICBNYXRyaXhQcmVwLnByZXBhcmVBdHRyaWJ1dGVzRm9yRGV2aWNlKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgU2tpbGxzUHJlcC5wcmVwYXJlU2tpbGxzKHRoaXMuZGF0YSk7XG4gICAgICAgIEF0dHJpYnV0ZXNQcmVwLnByZXBhcmVBdHRyaWJ1dGVzKHRoaXMuZGF0YSk7XG4gICAgICAgIExpbWl0c1ByZXAucHJlcGFyZUxpbWl0cyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIE1hdHJpeFByZXAucHJlcGFyZU1hdHJpeFRvTGltaXRzQW5kQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIEluaXRpYXRpdmVQcmVwLnByZXBhcmVDdXJyZW50SW5pdGlhdGl2ZSh0aGlzLmRhdGEpO1xuXG4gICAgICAgIHRoaXMuZGF0YS5zcGVjaWFsID0gJ3Jlc29uYW5jZSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYmFzaWMgU3ByaXRlIHNwZWNpZmljIGRhdGFcbiAgICAgKiAtIG1hdHJpeCBhdHRyaWJ1dGUgdmFsdWVzXG4gICAgICogLSBkZXZpY2UgcmF0aW5nXG4gICAgICogLSBtYXRyaXggY29uZGl0aW9uIG1vbml0b3JcbiAgICAgKiAtIG1hdHJpeCBpbml0aWF0aXZlXG4gICAgICogLSBza2lsbHNcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlU3ByaXRlRGF0YShkYXRhOiBTcHJpdGVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBsZXZlbCwgc2tpbGxzLCBtYXRyaXgsIHNwcml0ZVR5cGUsIGluaXRpYXRpdmUsIGF0dHJpYnV0ZXMsIG1vZGlmaWVycyB9ID0gZGF0YTtcblxuICAgICAgICBjb25zdCBtYXRyaXhBdHRzID0gWydhdHRhY2snLCAnc2xlYXplJywgJ2RhdGFfcHJvY2Vzc2luZycsICdmaXJld2FsbCddO1xuXG4gICAgICAgIGNvbnN0IG92ZXJyaWRlcyA9IHRoaXMuZ2V0U3ByaXRlU3RhdE1vZGlmaWVycyhzcHJpdGVUeXBlKTtcblxuICAgICAgICAvLyBhcHBseSB0aGUgbWF0cml4IG92ZXJyaWRlc1xuICAgICAgICBtYXRyaXhBdHRzLmZvckVhY2goKGF0dCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1hdHJpeFthdHRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXRyaXhbYXR0XS5iYXNlID0gbGV2ZWwgKyBvdmVycmlkZXNbYXR0XTtcbiAgICAgICAgICAgICAgICBtYXRyaXhbYXR0XS52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKG1hdHJpeFthdHRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2V0dXAgaW5pdGlhdGl2ZSBmcm9tIG92ZXJyaWRlc1xuICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5iYXNlLmJhc2UgPSBsZXZlbCAqIDIgKyBvdmVycmlkZXMuaW5pdDtcbiAgICAgICAgUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoaW5pdGlhdGl2ZS5tYXRyaXguYmFzZS5tb2QsICdTUjUuQm9udXMnLCBtb2RpZmllcnNbJ21hdHJpeF9pbml0aWF0aXZlJ10pO1xuICAgICAgICBIZWxwZXJzLmNhbGNUb3RhbChpbml0aWF0aXZlLm1hdHJpeC5iYXNlKTtcblxuICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5kaWNlLmJhc2UgPSA0O1xuICAgICAgICBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLm1hdHJpeC5kaWNlLm1vZCwgJ1NSNS5Cb251cycsIG1vZGlmaWVyc1snbWF0cml4X2luaXRpYXRpdmVfZGljZSddKTtcbiAgICAgICAgSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5tYXRyaXguZGljZSk7XG5cbiAgICAgICAgLy8gYWx3YXlzIGluIG1hdHJpeCBwZXJjZXB0aW9uXG4gICAgICAgIGluaXRpYXRpdmUucGVyY2VwdGlvbiA9ICdtYXRyaXgnO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSByZXNvbmFuY2UgdmFsdWVcbiAgICAgICAgYXR0cmlidXRlcy5yZXNvbmFuY2UuYmFzZSA9IGxldmVsICsgb3ZlcnJpZGVzLnJlc29uYW5jZTtcbiAgICAgICAgSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5yZXNvbmFuY2UpO1xuXG4gICAgICAgIC8vIGFwcGx5IHNraWxsIGxldmVsc1xuICAgICAgICAvLyBjbGVhciBza2lsbHMgdGhhdCB3ZSBkb24ndCBoYXZlXG4gICAgICAgIGZvciAoY29uc3QgW3NraWxsSWQsIHNraWxsXSBvZiBPYmplY3QuZW50cmllcyhza2lsbHMuYWN0aXZlKSkge1xuICAgICAgICAgICAgc2tpbGwuYmFzZSA9IG92ZXJyaWRlcy5za2lsbHMuZmluZCgocykgPT4gcyA9PT0gc2tpbGxJZCkgPyBsZXZlbCA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBtYXRyaXgucmF0aW5nID0gbGV2ZWw7XG4gICAgICAgIG1hdHJpeC5jb25kaXRpb25fbW9uaXRvci5tYXggPSA4ICsgTWF0aC5jZWlsKGxldmVsIC8gMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdGF0IG1vZGlmaWVycyBmb3IgdGhlIHNwZWNpZmllZCB0eXBlIG9mIHNwcml0ZVxuICAgICAqIEBwYXJhbSBzcHJpdGVUeXBlXG4gICAgICovXG4gICAgc3RhdGljIGdldFNwcml0ZVN0YXRNb2RpZmllcnMoc3ByaXRlVHlwZTogU3ByaXRlVHlwZSkge1xuICAgICAgICBjb25zdCBvdmVycmlkZXMgPSB7XG4gICAgICAgICAgICBhdHRhY2s6IDAsXG4gICAgICAgICAgICBzbGVhemU6IDAsXG4gICAgICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6IDAsXG4gICAgICAgICAgICBmaXJld2FsbDogMCxcbiAgICAgICAgICAgIHJlc29uYW5jZTogMCxcbiAgICAgICAgICAgIGluaXQ6IDAsXG4gICAgICAgICAgICAvLyBhbGwgc3ByaXRlcyBoYXZlIGNvbXB1dGVyXG4gICAgICAgICAgICBza2lsbHM6IFsnY29tcHV0ZXInXSxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChzcHJpdGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjb3VyaWVyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2xlYXplID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZGF0YV9wcm9jZXNzaW5nID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZmlyZXdhbGwgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2hhY2tpbmcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NyYWNrJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2xlYXplID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZGF0YV9wcm9jZXNzaW5nID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZmlyZXdhbGwgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2hhY2tpbmcnLCAnZWxlY3Ryb25pY193YXJmYXJlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0YWNrID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmRhdGFfcHJvY2Vzc2luZyA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmZpcmV3YWxsID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdlbGVjdHJvbmljX3dhcmZhcmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ZhdWx0JzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0YWNrID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZGF0YV9wcm9jZXNzaW5nID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZmlyZXdhbGwgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2N5YmVyY29tYmF0JywgJ2hhY2tpbmcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21hY2hpbmUnOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRhY2sgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5kYXRhX3Byb2Nlc3NpbmcgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5maXJld2FsbCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnZWxlY3Ryb25pY193YXJmYXJlJywgJ2hhcmR3YXJlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG92ZXJyaWRlcztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlQWN0b3JQcmVwIH0gZnJvbSAnLi9CYXNlQWN0b3JQcmVwJztcbmltcG9ydCBTUjVWZWhpY2xlVHlwZSA9IFNoYWRvd3J1bi5TUjVWZWhpY2xlVHlwZTtcbmltcG9ydCBWZWhpY2xlQWN0b3JEYXRhID0gU2hhZG93cnVuLlZlaGljbGVBY3RvckRhdGE7XG5pbXBvcnQgeyBTa2lsbHNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvU2tpbGxzUHJlcCc7XG5pbXBvcnQgeyBNb2RpZmllcnNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvTW9kaWZpZXJzUHJlcCc7XG5pbXBvcnQgeyBJbml0aWF0aXZlUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0luaXRpYXRpdmVQcmVwJztcbmltcG9ydCB7IEF0dHJpYnV0ZXNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvQXR0cmlidXRlc1ByZXAnO1xuaW1wb3J0IHsgTGltaXRzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0xpbWl0c1ByZXAnO1xuaW1wb3J0IHsgTWF0cml4UHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL01hdHJpeFByZXAnO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vLi4vcGFydHMvUGFydHNMaXN0JztcblxuZXhwb3J0IGNsYXNzIFZlaGljbGVQcmVwIGV4dGVuZHMgQmFzZUFjdG9yUHJlcDxTUjVWZWhpY2xlVHlwZSwgVmVoaWNsZUFjdG9yRGF0YT4ge1xuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIE1vZGlmaWVyc1ByZXAucHJlcGFyZU1vZGlmaWVycyh0aGlzLmRhdGEpO1xuICAgICAgICBNb2RpZmllcnNQcmVwLmNsZWFyQXR0cmlidXRlTW9kcyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIFZlaGljbGVQcmVwLnByZXBhcmVWZWhpY2xlU3RhdHModGhpcy5kYXRhKTtcbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZUF0dHJpYnV0ZXModGhpcy5kYXRhKTtcbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZUxpbWl0cyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIFNraWxsc1ByZXAucHJlcGFyZVNraWxscyh0aGlzLmRhdGEpO1xuICAgICAgICBBdHRyaWJ1dGVzUHJlcC5wcmVwYXJlQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBMaW1pdHNQcmVwLnByZXBhcmVMaW1pdHModGhpcy5kYXRhKTtcblxuICAgICAgICBWZWhpY2xlUHJlcC5wcmVwYXJlQ29uZGl0aW9uTW9uaXRvcih0aGlzLmRhdGEpO1xuXG4gICAgICAgIE1hdHJpeFByZXAucHJlcGFyZU1hdHJpeFRvTGltaXRzQW5kQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBNYXRyaXhQcmVwLnByZXBhcmVBdHRyaWJ1dGVzRm9yRGV2aWNlKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZU1vdmVtZW50KHRoaXMuZGF0YSk7XG5cbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZU1lYXRzcGFjZUluaXQodGhpcy5kYXRhKTtcbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZU1hdHJpeEluaXQodGhpcy5kYXRhKTtcbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZUN1cnJlbnRJbml0aWF0aXZlKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZUFybW9yKHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVWZWhpY2xlU3RhdHMoZGF0YTogVmVoaWNsZUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IHZlaGljbGVfc3RhdHMsIGlzT2ZmUm9hZCB9ID0gZGF0YTtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBmb3IgdGhlIHN0YXRzXG4gICAgICAgIGZvciAobGV0IFtrZXksIHN0YXRdIG9mIE9iamVjdC5lbnRyaWVzKHZlaGljbGVfc3RhdHMpKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHR1cm5zIHRoZSBPYmplY3QgbW9kZWwgaW50byB0aGUgbGlzdCBtb2RcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdC5tb2QgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgc3RhdC5tb2QgPSBuZXcgUGFydHNMaXN0KHN0YXQubW9kKS5saXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0KHN0YXQubW9kKTtcblxuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LlRlbXBvcmFyeScsIHN0YXQudGVtcCA/PyAwKTtcblxuICAgICAgICAgICAgc3RhdC5tb2QgPSBwYXJ0cy5saXN0O1xuICAgICAgICAgICAgSGVscGVycy5jYWxjVG90YWwoc3RhdCk7XG4gICAgICAgICAgICAvLyBhZGQgbGFiZWxzXG4gICAgICAgICAgICBzdGF0LmxhYmVsID0gQ09ORklHLlNSNS52ZWhpY2xlLnN0YXRzW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoaWRlIGNlcnRhaW4gc3RhdHMgZGVwZW5kaW5nIG9uIGlmIHdlJ3JlIG9mZnJvYWRcbiAgICAgICAgaWYgKGlzT2ZmUm9hZCkge1xuICAgICAgICAgICAgdmVoaWNsZV9zdGF0cy5vZmZfcm9hZF9zcGVlZC5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHZlaGljbGVfc3RhdHMub2ZmX3JvYWRfaGFuZGxpbmcuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLnNwZWVkLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLmhhbmRsaW5nLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX3NwZWVkLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX2hhbmRsaW5nLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLnNwZWVkLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdmVoaWNsZV9zdGF0cy5oYW5kbGluZy5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlQXR0cmlidXRlcyhkYXRhOiBWZWhpY2xlQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcywgdmVoaWNsZV9zdGF0cyB9ID0gZGF0YTtcblxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVJZHMgPSBbJ2FnaWxpdHknLCAncmVhY3Rpb24nLCAnc3RyZW5ndGgnLCAnd2lsbHBvd2VyJywgJ2xvZ2ljJywgJ2ludHVpdGlvbicsICdjaGFyaXNtYSddO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsUGlsb3QgPSBIZWxwZXJzLmNhbGNUb3RhbCh2ZWhpY2xlX3N0YXRzLnBpbG90KTtcblxuICAgICAgICBhdHRyaWJ1dGVJZHMuZm9yRWFjaCgoYXR0SWQpID0+IHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzW2F0dElkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1thdHRJZF0uYmFzZSA9IHRvdGFsUGlsb3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTGltaXRzKGRhdGE6IFZlaGljbGVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBsaW1pdHMsIHZlaGljbGVfc3RhdHMsIGlzT2ZmUm9hZCB9ID0gZGF0YTtcblxuICAgICAgICBsaW1pdHMubWVudGFsLmJhc2UgPSBIZWxwZXJzLmNhbGNUb3RhbCh2ZWhpY2xlX3N0YXRzLnNlbnNvcik7XG5cbiAgICAgICAgLy8gYWRkIHNlbnNvciwgaGFuZGxpbmcsIGFuZCBzcGVlZCBhcyBsaW1pdHNcbiAgICAgICAgbGltaXRzLnNlbnNvciA9IHsgLi4udmVoaWNsZV9zdGF0cy5zZW5zb3IsIGhpZGRlbjogdHJ1ZSB9O1xuICAgICAgICBsaW1pdHMuaGFuZGxpbmcgPSB7IC4uLihpc09mZlJvYWQgPyB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX2hhbmRsaW5nIDogdmVoaWNsZV9zdGF0cy5oYW5kbGluZyksIGhpZGRlbjogdHJ1ZSB9O1xuICAgICAgICBsaW1pdHMuc3BlZWQgPSB7IC4uLihpc09mZlJvYWQgPyB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX3NwZWVkIDogdmVoaWNsZV9zdGF0cy5zcGVlZCksIGhpZGRlbjogdHJ1ZSB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlQ29uZGl0aW9uTW9uaXRvcihkYXRhOiBWZWhpY2xlQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgdHJhY2ssIGF0dHJpYnV0ZXMsIG1hdHJpeCwgaXNEcm9uZSwgbW9kaWZpZXJzIH0gPSBkYXRhO1xuXG4gICAgICAgIGNvbnN0IGhhbGZCb2R5ID0gTWF0aC5jZWlsKEhlbHBlcnMuY2FsY1RvdGFsKGF0dHJpYnV0ZXMuYm9keSkgLyAyKTtcbiAgICAgICAgLy8gQ1JCIHBnIDE5OSBkcm9uZSB2cyB2ZWhpY2xlIHBoeXNpY2FsIGNvbmRpdGlvbiBtb25pdG9yIHJ1bGVzXG4gICAgICAgIGlmIChpc0Ryb25lKSB7XG4gICAgICAgICAgICB0cmFjay5waHlzaWNhbC5iYXNlID0gNiArIGhhbGZCb2R5O1xuICAgICAgICAgICAgdHJhY2sucGh5c2ljYWwubWF4ID0gdHJhY2sucGh5c2ljYWwuYmFzZSArIChOdW1iZXIobW9kaWZpZXJzWydwaHlzaWNhbF90cmFjayddKSB8fCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrLnBoeXNpY2FsLmJhc2UgPSAxMiArIGhhbGZCb2R5O1xuICAgICAgICAgICAgdHJhY2sucGh5c2ljYWwubWF4ID0gIHRyYWNrLnBoeXNpY2FsLmJhc2UgKyAoTnVtYmVyKG1vZGlmaWVyc1sncGh5c2ljYWxfdHJhY2snXSkgfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2sucGh5c2ljYWwubGFiZWwgPSBDT05GSUcuU1I1LmRhbWFnZVR5cGVzLnBoeXNpY2FsO1xuXG4gICAgICAgIGNvbnN0IHJhdGluZyA9IG1hdHJpeC5yYXRpbmcgfHwgMDtcbiAgICAgICAgbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLm1heCA9IDggKyBNYXRoLmNlaWwocmF0aW5nIC8gMik7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVNb3ZlbWVudChkYXRhOiBWZWhpY2xlQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgdmVoaWNsZV9zdGF0cywgbW92ZW1lbnQsIGlzT2ZmUm9hZCB9ID0gZGF0YTtcblxuICAgICAgICBsZXQgc3BlZWRUb3RhbCA9IEhlbHBlcnMuY2FsY1RvdGFsKGlzT2ZmUm9hZCA/IHZlaGljbGVfc3RhdHMub2ZmX3JvYWRfc3BlZWQgOiB2ZWhpY2xlX3N0YXRzLnNwZWVkKTtcblxuICAgICAgICAvLyBhbGdvcml0aG0gdG8gZGV0ZXJtaW5lIHNwZWVkLCBDUkIgcGcgMjAyIHRhYmxlXG4gICAgICAgIG1vdmVtZW50LndhbGsuYmFzZSA9IDUgKiBNYXRoLnBvdygyLCBzcGVlZFRvdGFsIC0gMSk7XG4gICAgICAgIG1vdmVtZW50LndhbGsudmFsdWUgPSBtb3ZlbWVudC53YWxrLmJhc2U7XG5cbiAgICAgICAgbW92ZW1lbnQucnVuLmJhc2UgPSAxMCAqIE1hdGgucG93KDIsIHNwZWVkVG90YWwgLSAxKTtcbiAgICAgICAgbW92ZW1lbnQucnVuLnZhbHVlID0gbW92ZW1lbnQucnVuLmJhc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVNZWF0c3BhY2VJbml0KGRhdGE6IFZlaGljbGVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyB2ZWhpY2xlX3N0YXRzLCBpbml0aWF0aXZlIH0gPSBkYXRhO1xuXG4gICAgICAgIGNvbnN0IHBpbG90ID0gSGVscGVycy5jYWxjVG90YWwodmVoaWNsZV9zdGF0cy5waWxvdCk7XG5cbiAgICAgICAgaW5pdGlhdGl2ZS5tZWF0c3BhY2UuYmFzZS5iYXNlID0gcGlsb3QgKiAyO1xuICAgICAgICBpbml0aWF0aXZlLm1lYXRzcGFjZS5kaWNlLmJhc2UgPSA0O1xuICAgICAgICBIZWxwZXJzLmNhbGNUb3RhbChpbml0aWF0aXZlLm1lYXRzcGFjZS5iYXNlKTtcbiAgICAgICAgSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5tZWF0c3BhY2UuZGljZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVBcm1vcihkYXRhOiBWZWhpY2xlQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgYXJtb3IgfSA9IGRhdGE7XG4gICAgICAgIGFybW9yLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGFybW9yLm1vZCwgJ1NSNS5UZW1wb3JhcnknLCBhcm1vclsndGVtcCddKTtcbiAgICAgICAgSGVscGVycy5jYWxjVG90YWwoYXJtb3IpO1xuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vLi4vLi4vcGFydHMvUGFydHNMaXN0JztcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7U1J9IGZyb20gXCIuLi8uLi8uLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZXNQcmVwIHtcbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIGFjdG9yIGRhdGEgZm9yIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgcHJlcGFyZUF0dHJpYnV0ZXMoZGF0YTogU1I1QWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcyB9ID0gZGF0YTtcblxuICAgICAgICAvLyBhbHdheXMgaGF2ZSBzcGVjaWFsIGF0dHJpYnV0ZXMgc2V0IHRvIGhpZGRlblxuICAgICAgICBhdHRyaWJ1dGVzLm1hZ2ljLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIGF0dHJpYnV0ZXMucmVzb25hbmNlLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIGF0dHJpYnV0ZXMuZWRnZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICBhdHRyaWJ1dGVzLmVzc2VuY2UuaGlkZGVuID0gdHJ1ZTtcblxuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIGZvciB0aGUgYXR0cmlidXRlc1xuICAgICAgICBmb3IgKGxldCBba2V5LCBhdHRyaWJ1dGVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBtYW5hZ2UgdGhlIGF0dHJpYnV0ZSBpZiBpdCBpcyB1c2luZyB0aGUgb2xkIG1ldGhvZCBvZiBlZGdlIHRyYWNraW5nXG4gICAgICAgICAgICAvLyBuZWVkZWQgdG8gYmUgYWJsZSB0byBtaWdyYXRlIHRoaW5ncyBjb3JyZWN0bHlcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdlZGdlJyAmJiBhdHRyaWJ1dGVbJ3VzZXMnXSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QoYXR0cmlidXRlLm1vZCk7XG5cbiAgICAgICAgICAgIGF0dHJpYnV0ZS5tb2QgPSBwYXJ0cy5saXN0O1xuXG4gICAgICAgICAgICAvLyBFYWNoIGF0dHJpYnV0ZSBjYW4gaGF2ZSBhIHVuaXF1ZSB2YWx1ZSByYW5nZS5cbiAgICAgICAgICAgIC8vIFRPRE86ICBJbXBsZW1lbnQgbWV0YXR5cGUgYXR0cmlidXRlIHZhbHVlIHJhbmdlcyBmb3IgY2hhcmFjdGVyIGFjdG9ycy5cbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gU1IuYXR0cmlidXRlcy5yYW5nZXNba2V5XTtcbiAgICAgICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGF0dHJpYnV0ZSwgcmFuZ2UpO1xuXG4gICAgICAgICAgICAvLyBhZGQgaTE4biBsYWJlbHMuXG4gICAgICAgICAgICBhdHRyaWJ1dGUubGFiZWwgPSBDT05GSUcuU1I1LmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IFBoeXNpY2FsVHJhY2tBY3RvckRhdGEgPSBTaGFkb3dydW4uUGh5c2ljYWxUcmFja0FjdG9yRGF0YTtcbmltcG9ydCBTdHVuVHJhY2tBY3RvckRhdGEgPSBTaGFkb3dydW4uU3R1blRyYWNrQWN0b3JEYXRhO1xuaW1wb3J0IFR3b1RyYWNrQWN0b3JEYXRhID0gU2hhZG93cnVuLlR3b1RyYWNrQWN0b3JEYXRhO1xuXG5leHBvcnQgY2xhc3MgQ29uZGl0aW9uTW9uaXRvcnNQcmVwIHtcbiAgICBzdGF0aWMgcHJlcGFyZVN0dW4oZGF0YTogU1I1QWN0b3JEYXRhICYgU3R1blRyYWNrQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgdHJhY2ssIGF0dHJpYnV0ZXMsIG1vZGlmaWVycyB9ID0gZGF0YTtcblxuICAgICAgICB0cmFjay5zdHVuLmJhc2UgPSA4ICsgTWF0aC5jZWlsKGF0dHJpYnV0ZXMud2lsbHBvd2VyLnZhbHVlIC8gMik7XG4gICAgICAgIHRyYWNrLnN0dW4ubWF4ID0gdHJhY2suc3R1bi5iYXNlICsgTnVtYmVyKG1vZGlmaWVyc1snc3R1bl90cmFjayddKTtcbiAgICAgICAgdHJhY2suc3R1bi5sYWJlbCA9IENPTkZJRy5TUjUuZGFtYWdlVHlwZXMuc3R1bjtcbiAgICAgICAgdHJhY2suc3R1bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlUGh5c2ljYWwoZGF0YTogU1I1QWN0b3JEYXRhICYgUGh5c2ljYWxUcmFja0FjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IHRyYWNrLCBhdHRyaWJ1dGVzLCBtb2RpZmllcnMgfSA9IGRhdGE7XG5cbiAgICAgICAgdHJhY2sucGh5c2ljYWwuYmFzZSA9IDggKyBNYXRoLmNlaWwoYXR0cmlidXRlcy5ib2R5LnZhbHVlIC8gMik7XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLm1heCA9IHRyYWNrLnBoeXNpY2FsLmJhc2UgKyBOdW1iZXIobW9kaWZpZXJzWydwaHlzaWNhbF90cmFjayddKTtcbiAgICAgICAgdHJhY2sucGh5c2ljYWwub3ZlcmZsb3cubWF4ID0gYXR0cmlidXRlcy5ib2R5LnZhbHVlO1xuICAgICAgICB0cmFjay5waHlzaWNhbC5sYWJlbCA9IENPTkZJRy5TUjUuZGFtYWdlVHlwZXMucGh5c2ljYWw7XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVHcnVudChkYXRhOiBTUjVBY3RvckRhdGEgJiBUd29UcmFja0FjdG9yRGF0YSkge1xuICAgICAgICAvLyBHcnVudHMgdXNlIG9ubHkgb25lIG1vbml0b3IsIHVzZSBwaHlzaWNhbCB0byBnZXQgb3ZlcmZsb3cgZnVuY3Rpb25hbGl0eS5cbiAgICAgICAgQ29uZGl0aW9uTW9uaXRvcnNQcmVwLnByZXBhcmVTdHVuKGRhdGEpO1xuXG4gICAgICAgIGNvbnN0IHsgdHJhY2ssIGF0dHJpYnV0ZXMsIG1vZGlmaWVycyB9ID0gZGF0YTtcbiAgICAgICAgLy8gT3ZlcndyaXRlIHN0dW4gZGFtYWdlIHRvIGF2b2lkIGludmlzaWJsZSBkYW1hZ2UgbW9kaWZpZXJzLlxuICAgICAgICB0cmFjay5zdHVuLnZhbHVlID0gMDtcbiAgICAgICAgdHJhY2suc3R1bi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gR3J1bnRzIHVzZSBlaXRoZXIgdGhlaXIgV0lMIG9yIEJPRCBhcyB0aGVpciBtb25pdG9ycyBhdHRyaWJ1dGUuXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXMud2lsbHBvd2VyLnZhbHVlID4gYXR0cmlidXRlcy5ib2R5LnZhbHVlID9cbiAgICAgICAgICAgIGF0dHJpYnV0ZXMud2lsbHBvd2VyOlxuICAgICAgICAgICAgYXR0cmlidXRlcy5ib2R5O1xuXG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLmJhc2UgPSA4ICsgTWF0aC5jZWlsKGF0dHJpYnV0ZS52YWx1ZSAvIDIpO1xuICAgICAgICB0cmFjay5waHlzaWNhbC5tYXggPSB0cmFjay5waHlzaWNhbC5iYXNlICsgTnVtYmVyKG1vZGlmaWVyc1sncGh5c2ljYWxfdHJhY2snXSk7XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLm92ZXJmbG93Lm1heCA9IGF0dHJpYnV0ZXMuYm9keS52YWx1ZTtcbiAgICAgICAgdHJhY2sucGh5c2ljYWwubGFiZWwgPSBcIlNSNS5Db25kaXRpb25Nb25pdG9yXCI7XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IFNSNUFjdG9yRGF0YSA9IFNoYWRvd3J1bi5TUjVBY3RvckRhdGE7XG5pbXBvcnQgTWFnaWNBY3RvckRhdGEgPSBTaGFkb3dydW4uTWFnaWNBY3RvckRhdGE7XG5pbXBvcnQgTWF0cml4QWN0b3JEYXRhID0gU2hhZG93cnVuLk1hdHJpeEFjdG9yRGF0YTtcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IFBhcnRzTGlzdCB9IGZyb20gJy4uLy4uLy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBJbml0aWF0aXZlUHJlcCB7XG4gICAgc3RhdGljIHByZXBhcmVDdXJyZW50SW5pdGlhdGl2ZShkYXRhOiBTUjVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWF0aXZlIH0gPSBkYXRhO1xuXG4gICAgICAgIGlmIChpbml0aWF0aXZlLnBlcmNlcHRpb24gPT09ICdtYXRyaXgnKSBpbml0aWF0aXZlLmN1cnJlbnQgPSBpbml0aWF0aXZlLm1hdHJpeDtcbiAgICAgICAgZWxzZSBpZiAoaW5pdGlhdGl2ZS5wZXJjZXB0aW9uID09PSAnYXN0cmFsJykgaW5pdGlhdGl2ZS5jdXJyZW50ID0gaW5pdGlhdGl2ZS5hc3RyYWw7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5jdXJyZW50ID0gaW5pdGlhdGl2ZS5tZWF0c3BhY2U7XG4gICAgICAgICAgICBpbml0aWF0aXZlLnBlcmNlcHRpb24gPSAnbWVhdHNwYWNlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGluaXRpYXRpdmUuY3VycmVudC5kaWNlLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5jdXJyZW50LmRpY2UpO1xuICAgICAgICBpZiAoaW5pdGlhdGl2ZS5lZGdlKSBpbml0aWF0aXZlLmN1cnJlbnQuZGljZS52YWx1ZSA9IDU7XG4gICAgICAgIGluaXRpYXRpdmUuY3VycmVudC5kaWNlLnZhbHVlID0gTWF0aC5taW4oNSwgaW5pdGlhdGl2ZS5jdXJyZW50LmRpY2UudmFsdWUpOyAvLyBtYXhpbXVtIG9mIDVkNiBmb3IgaW5pdGlhdGl2ZVxuICAgICAgICBpbml0aWF0aXZlLmN1cnJlbnQuZGljZS50ZXh0ID0gYCR7aW5pdGlhdGl2ZS5jdXJyZW50LmRpY2UudmFsdWV9ZDZgO1xuXG4gICAgICAgIGluaXRpYXRpdmUuY3VycmVudC5iYXNlLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5jdXJyZW50LmJhc2UpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTWVhdHNwYWNlSW5pdChkYXRhOiBTUjVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWF0aXZlLCBhdHRyaWJ1dGVzLCBtb2RpZmllcnMgfSA9IGRhdGE7XG5cbiAgICAgICAgaW5pdGlhdGl2ZS5tZWF0c3BhY2UuYmFzZS5iYXNlID0gYXR0cmlidXRlcy5pbnR1aXRpb24udmFsdWUgKyBhdHRyaWJ1dGVzLnJlYWN0aW9uLnZhbHVlO1xuICAgICAgICBpbml0aWF0aXZlLm1lYXRzcGFjZS5iYXNlLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGluaXRpYXRpdmUubWVhdHNwYWNlLmJhc2UubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydtZWF0X2luaXRpYXRpdmUnXSkpO1xuXG4gICAgICAgIGluaXRpYXRpdmUubWVhdHNwYWNlLmRpY2UuYmFzZSA9IDE7XG4gICAgICAgIGluaXRpYXRpdmUubWVhdHNwYWNlLmRpY2UubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoaW5pdGlhdGl2ZS5tZWF0c3BhY2UuZGljZS5tb2QsIFwiU1I1LkJvbnVzXCIsIE51bWJlcihtb2RpZmllcnNbJ21lYXRfaW5pdGlhdGl2ZV9kaWNlJ10pKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJlcGFyZUFzdHJhbEluaXQoZGF0YTogU1I1QWN0b3JEYXRhICYgTWFnaWNBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWF0aXZlLCBhdHRyaWJ1dGVzLCBtb2RpZmllcnMgfSA9IGRhdGE7XG5cbiAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuYmFzZS5iYXNlID0gYXR0cmlidXRlcy5pbnR1aXRpb24udmFsdWUgKiAyO1xuICAgICAgICBpbml0aWF0aXZlLmFzdHJhbC5iYXNlLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGluaXRpYXRpdmUuYXN0cmFsLmJhc2UubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydhc3RyYWxfaW5pdGlhdGl2ZSddKSk7XG5cbiAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuZGljZS5iYXNlID0gMjtcbiAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuZGljZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLmFzdHJhbC5kaWNlLm1vZCwgXCJTUjUuQm9udXNcIiwgTnVtYmVyKG1vZGlmaWVyc1snYXN0cmFsX2luaXRpYXRpdmVfZGljZSddKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVNYXRyaXhJbml0KGRhdGE6IFNSNUFjdG9yRGF0YSAmIE1hdHJpeEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGluaXRpYXRpdmUsIGF0dHJpYnV0ZXMsIG1vZGlmaWVycywgbWF0cml4IH0gPSBkYXRhO1xuICAgICAgICBpZiAobWF0cml4KSB7XG5cbiAgICAgICAgICAgIGluaXRpYXRpdmUubWF0cml4LmJhc2UuYmFzZSA9IGF0dHJpYnV0ZXMuaW50dWl0aW9uLnZhbHVlICsgZGF0YS5tYXRyaXguZGF0YV9wcm9jZXNzaW5nLnZhbHVlO1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5tYXRyaXguYmFzZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLm1hdHJpeC5iYXNlLm1vZCwgXCJTUjUuQm9udXNcIiwgTnVtYmVyKG1vZGlmaWVyc1snbWF0cml4X2luaXRpYXRpdmUnXSkpO1xuXG4gICAgICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5kaWNlLmJhc2UgPSAobWF0cml4LmhvdF9zaW0gPyA0IDogMyk7XG4gICAgICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5kaWNlLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGluaXRpYXRpdmUubWF0cml4LmRpY2UubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydtYXRyaXhfaW5pdGlhdGl2ZV9kaWNlJ10pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IHsgU1I1SXRlbURhdGFXcmFwcGVyIH0gZnJvbSAnLi4vLi4vLi4vaXRlbS9TUjVJdGVtRGF0YVdyYXBwZXInO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vLi4vLi4vcGFydHMvUGFydHNMaXN0JztcbmltcG9ydCBBcm1vckFjdG9yRGF0YSA9IFNoYWRvd3J1bi5Bcm1vckFjdG9yRGF0YTtcblxuZXhwb3J0IGNsYXNzIEl0ZW1QcmVwIHtcbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHRoZSBhcm1vciBkYXRhIGZvciB0aGUgSXRlbVxuICAgICAqIC0gd2lsbCBvbmx5IGFsbG93IG9uZSBcIkJhc2VcIiBhcm1vciBpdGVtIHRvIGJlIHVzZWRcbiAgICAgKiAtIGFsbCBcImFjY2Vzc29yaWVzXCIgd2lsbCBiZSBhZGRlZCB0byB0aGUgYXJtb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgcHJlcGFyZUFybW9yKGRhdGE6IFNSNUFjdG9yRGF0YSAmIEFybW9yQWN0b3JEYXRhLCBpdGVtczogU1I1SXRlbURhdGFXcmFwcGVyW10pIHtcbiAgICAgICAgY29uc3QgeyBhcm1vciB9ID0gZGF0YTtcbiAgICAgICAgYXJtb3IuYmFzZSA9IDA7XG4gICAgICAgIGFybW9yLnZhbHVlID0gMDtcbiAgICAgICAgYXJtb3IubW9kID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBPYmplY3Qua2V5cyhDT05GSUcuU1I1LmVsZW1lbnRUeXBlcykpIHtcbiAgICAgICAgICAgIGFybW9yW2VsZW1lbnRdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFybW9yTW9kUGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oYXJtb3IubW9kKTtcbiAgICAgICAgY29uc3QgZXF1aXBwZWRBcm1vciA9IGl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5jb3VsZEhhdmVBcm1vcigpICYmIGl0ZW0uaXNFcXVpcHBlZCgpKTtcbiAgICAgICAgZXF1aXBwZWRBcm1vcj8uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgLy8gRG9uJ3Qgc3BhbSBhcm1vciB2YWx1ZXMgd2l0aCBjbG90aGluZyBvciBhcm1vciBsaWtlIGl0ZW1zIHdpdGhvdXQgYW55IGFjdHVhbCBhcm1vci5cbiAgICAgICAgICAgIGlmIChpdGVtLmhhc0FybW9yKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBhcm1vciBiYXNlIGFuZCBhY2Nlc3NvcnkgdmFsdWVzLlxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmhhc0FybW9yQWNjZXNzb3J5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJtb3JNb2RQYXJ0cy5hZGRVbmlxdWVQYXJ0KGl0ZW0uZ2V0TmFtZSgpLCBpdGVtLmdldEFybW9yVmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcm1vci5iYXNlID0gaXRlbS5nZXRBcm1vclZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIGFybW9yLmxhYmVsID0gaXRlbS5nZXROYW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcHBseSBlbGVtZW50YWwgbW9kaWZpZXJzIG9mIGFsbCB3b3JuIGFybW9yIGFuZCBjbG90aGluZyBTUjUjMTY5LlxuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIE9iamVjdC5rZXlzKENPTkZJRy5TUjUuZWxlbWVudFR5cGVzKSkge1xuICAgICAgICAgICAgICAgIGFybW9yW2VsZW1lbnRdICs9IGl0ZW0uZ2V0QXJtb3JFbGVtZW50cygpW2VsZW1lbnRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZGF0YS5tb2RpZmllcnNbJ2FybW9yJ10pIGFybW9yTW9kUGFydHMuYWRkVW5pcXVlUGFydChnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Cb251cycpLCBkYXRhLm1vZGlmaWVyc1snYXJtb3InXSk7XG4gICAgICAgIC8vIFNFVCBBUk1PUlxuICAgICAgICBhcm1vci52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKGFybW9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBhY3RvciBkYXRhIGZvciB3YXJlIGNoYW5nZXNcbiAgICAgKiAtIHRoaXMgY2FsY3VsYXRlcyB0aGUgYWN0b3JzIGVzc2VuY2VcbiAgICAgKi9cbiAgICBzdGF0aWMgcHJlcGFyZUJvZHl3YXJlKGRhdGE6IFNSNUFjdG9yRGF0YSwgaXRlbXM6IFNSNUl0ZW1EYXRhV3JhcHBlcltdKSB7XG4gICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcyB9ID0gZGF0YTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgLy8gYWRkIEl0ZW1zIGFzIHZhbHVlcyB0byBsb3dlciB0aGUgdG90YWwgdmFsdWUgb2YgZXNzZW5jZVxuICAgICAgICBpdGVtc1xuICAgICAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pc0JvZHl3YXJlKCkgJiYgaXRlbS5pc0VxdWlwcGVkKCkpXG4gICAgICAgICAgICAuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmdldEVzc2VuY2VMb3NzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChpdGVtLmdldE5hbWUoKSwgLU51bWJlcihpdGVtLmdldEVzc2VuY2VMb3NzKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gYWRkIHRoZSBib251cyBmcm9tIHRoZSBtaXNjIHRhYiBpZiBhcHBsaWVkXG4gICAgICAgIGNvbnN0IGVzc2VuY2VNb2QgPSBkYXRhLm1vZGlmaWVyc1snZXNzZW5jZSddO1xuICAgICAgICBpZiAoZXNzZW5jZU1vZCAmJiAhTnVtYmVyLmlzTmFOKGVzc2VuY2VNb2QpKSB7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCBOdW1iZXIoZXNzZW5jZU1vZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0cmlidXRlcy5lc3NlbmNlLmJhc2UgPSA2O1xuICAgICAgICBhdHRyaWJ1dGVzLmVzc2VuY2UubW9kID0gcGFydHMubGlzdDtcbiAgICAgICAgYXR0cmlidXRlcy5lc3NlbmNlLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5lc3NlbmNlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcbmltcG9ydCB7IFBhcnRzTGlzdCB9IGZyb20gJy4uLy4uLy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycyc7XG5cbmV4cG9ydCBjbGFzcyBMaW1pdHNQcmVwIHtcbiAgICBzdGF0aWMgcHJlcGFyZUxpbWl0cyhkYXRhOiBTUjVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBsaW1pdHMsIG1vZGlmaWVycyB9ID0gZGF0YTtcblxuICAgICAgICAvLyBTRVRVUCBMSU1JVFNcbiAgICAgICAgbGltaXRzLnBoeXNpY2FsLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGxpbWl0cy5waHlzaWNhbC5tb2QsICdTUjUuQm9udXMnLCBOdW1iZXIobW9kaWZpZXJzWydwaHlzaWNhbF9saW1pdCddKSk7XG4gICAgICAgIGxpbWl0cy5tZW50YWwubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQobGltaXRzLm1lbnRhbC5tb2QsICdTUjUuQm9udXMnLCBOdW1iZXIobW9kaWZpZXJzWydtZW50YWxfbGltaXQnXSkpO1xuICAgICAgICBsaW1pdHMuc29jaWFsLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGxpbWl0cy5zb2NpYWwubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydzb2NpYWxfbGltaXQnXSkpO1xuXG4gICAgICAgIC8vIGxpbWl0IGxhYmVsc1xuICAgICAgICBmb3IgKGxldCBbbGltaXRLZXksIGxpbWl0VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGxpbWl0cykpIHtcbiAgICAgICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGxpbWl0VmFsdWUpO1xuICAgICAgICAgICAgbGltaXRWYWx1ZS5sYWJlbCA9IENPTkZJRy5TUjUubGltaXRzW2xpbWl0S2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTGltaXRCYXNlRnJvbUF0dHJpYnV0ZXMoZGF0YTogU1I1QWN0b3JEYXRhKSB7XG5cbiAgICAgICAgY29uc3QgeyBsaW1pdHMsIGF0dHJpYnV0ZXMgfSA9IGRhdGE7XG5cbiAgICAgICAgbGltaXRzLnBoeXNpY2FsLmJhc2UgPSBNYXRoLmNlaWwoKDIgKiBhdHRyaWJ1dGVzLnN0cmVuZ3RoLnZhbHVlICsgYXR0cmlidXRlcy5ib2R5LnZhbHVlICsgYXR0cmlidXRlcy5yZWFjdGlvbi52YWx1ZSkgLyAzKTtcbiAgICAgICAgbGltaXRzLm1lbnRhbC5iYXNlID0gTWF0aC5jZWlsKCgyICogYXR0cmlidXRlcy5sb2dpYy52YWx1ZSArIGF0dHJpYnV0ZXMuaW50dWl0aW9uLnZhbHVlICsgYXR0cmlidXRlcy53aWxscG93ZXIudmFsdWUpIC8gMyk7XG4gICAgICAgIGxpbWl0cy5zb2NpYWwuYmFzZSA9IE1hdGguY2VpbCgoMiAqIGF0dHJpYnV0ZXMuY2hhcmlzbWEudmFsdWUgKyBhdHRyaWJ1dGVzLndpbGxwb3dlci52YWx1ZSArIGF0dHJpYnV0ZXMuZXNzZW5jZS52YWx1ZSkgLyAzKTtcblxuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IE1hdHJpeEFjdG9yRGF0YSA9IFNoYWRvd3J1bi5NYXRyaXhBY3RvckRhdGE7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBTUjVJdGVtRGF0YVdyYXBwZXIgfSBmcm9tICcuLi8uLi8uLi9pdGVtL1NSNUl0ZW1EYXRhV3JhcHBlcic7XG5pbXBvcnQgeyBQYXJ0c0xpc3QgfSBmcm9tICcuLi8uLi8uLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuXG5leHBvcnQgY2xhc3MgTWF0cml4UHJlcCB7XG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBNYXRyaXggZGF0YSBvbiB0aGUgYWN0b3JcbiAgICAgKiAtIGlmIGFuIGl0ZW0gaXMgZXF1aXBwZWQsIGl0IHdpbGwgdXNlIHRoYXQgZGF0YVxuICAgICAqIC0gaWYgaXQgaXNuJ3QgYW5kIHBsYXllciBpcyB0ZWNobm9tYW5jZXIsIGl0IHdpbGwgdXNlIHRoYXQgZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlTWF0cml4KGFjdG9yRGF0YTogU1I1QWN0b3JEYXRhICYgTWF0cml4QWN0b3JEYXRhLCBpdGVtczogU1I1SXRlbURhdGFXcmFwcGVyW10pIHtcbiAgICAgICAgY29uc3QgeyBtYXRyaXgsIGF0dHJpYnV0ZXMgfSA9IGFjdG9yRGF0YTtcblxuICAgICAgICBjb25zdCBNYXRyaXhMaXN0ID0gWydmaXJld2FsbCcsICdzbGVhemUnLCAnZGF0YV9wcm9jZXNzaW5nJywgJ2F0dGFjayddO1xuXG4gICAgICAgIC8vIGNsZWFyIG1hdHJpeCBkYXRhIHRvIGRlZmF1bHRzXG4gICAgICAgIE1hdHJpeExpc3QuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QobWF0cml4W2tleV0ubW9kKTtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5UZW1wb3JhcnknLCBtYXRyaXhba2V5XS50ZW1wKTtcbiAgICAgICAgICAgIC8vIFRPRE8gTEVHQUNZIGZyb20gd2hlbiB0aGUgc2hlZXQgdXNlZCAnbW9kLlRlbXBvcmFyeSdcbiAgICAgICAgICAgIHBhcnRzLnJlbW92ZVBhcnQoJ1RlbXBvcmFyeScpO1xuICAgICAgICAgICAgbWF0cml4W2tleV0ubW9kID0gcGFydHMubGlzdDtcbiAgICAgICAgICAgIG1hdHJpeFtrZXldLnZhbHVlID0gcGFydHMudG90YWw7XG4gICAgICAgIH0pO1xuICAgICAgICBtYXRyaXguY29uZGl0aW9uX21vbml0b3IubWF4ID0gMDtcbiAgICAgICAgbWF0cml4LnJhdGluZyA9IDA7XG4gICAgICAgIG1hdHJpeC5uYW1lID0gJyc7XG4gICAgICAgIG1hdHJpeC5kZXZpY2UgPSAnJztcbiAgICAgICAgbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLmxhYmVsID0gJ1NSNS5Db25kaXRpb25Nb25pdG9yJztcblxuICAgICAgICAvLyBnZXQgdGhlIGZpcnN0IGVxdWlwcGVkIGRldmljZSwgd2UgZG9uJ3QgY2FyZSBpZiB0aGV5IGhhdmUgbW9yZSBlcXVpcHBlZCAtLSBpdCBzaG91bGRuJ3QgaGFwcGVuXG4gICAgICAgIGNvbnN0IGRldmljZSA9IGl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaXNFcXVpcHBlZCgpICYmIGl0ZW0uaXNEZXZpY2UoKSk7XG5cbiAgICAgICAgaWYgKGRldmljZSkge1xuICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uTW9uaXRvciA9IGRldmljZS5nZXRDb25kaXRpb25Nb25pdG9yKCk7XG4gICAgICAgICAgICBtYXRyaXguZGV2aWNlID0gZGV2aWNlLmdldElkKCk7XG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uX21vbml0b3IubWF4ID0gY29uZGl0aW9uTW9uaXRvci5tYXg7XG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uX21vbml0b3IudmFsdWUgPSBjb25kaXRpb25Nb25pdG9yLnZhbHVlO1xuICAgICAgICAgICAgbWF0cml4LnJhdGluZyA9IGRldmljZS5nZXRSYXRpbmcoKTtcbiAgICAgICAgICAgIG1hdHJpeC5pc19jeWJlcmRlY2sgPSBkZXZpY2UuaXNDeWJlcmRlY2soKTtcbiAgICAgICAgICAgIG1hdHJpeC5uYW1lID0gZGV2aWNlLmdldE5hbWUoKTtcbiAgICAgICAgICAgIG1hdHJpeC5pdGVtID0gZGV2aWNlLmdldERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZUF0dHMgPSBkZXZpY2UuZ2V0QVNERigpO1xuICAgICAgICAgICAgaWYgKGRldmljZUF0dHMpIHtcbiAgICAgICAgICAgICAgICAvLyBzZXR1cCB0aGUgYWN0dWFsIG1hdHJpeCBhdHRyaWJ1dGVzIGZvciB0aGUgYWN0b3JcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkZXZpY2VBdHRzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgbWF0cml4W2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtrZXldLmJhc2UgPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtrZXldLmRldmljZV9hdHQgPSB2YWx1ZS5kZXZpY2VfYXR0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IC8vIGlmIHdlIGRvbid0IGhhdmUgYSBkZXZpY2UsIHVzZSBsaXZpbmcgcGVyc29uYVxuICAgICAgICBlbHNlIGlmIChhY3RvckRhdGEuc3BlY2lhbCA9PT0gJ3Jlc29uYW5jZScpIHtcbiAgICAgICAgICAgIG1hdHJpeC5maXJld2FsbC5iYXNlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy53aWxscG93ZXIpO1xuICAgICAgICAgICAgbWF0cml4LmRhdGFfcHJvY2Vzc2luZy5iYXNlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5sb2dpYyk7XG4gICAgICAgICAgICBtYXRyaXgucmF0aW5nID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5yZXNvbmFuY2UpO1xuICAgICAgICAgICAgbWF0cml4LmF0dGFjay5iYXNlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5jaGFyaXNtYSk7XG4gICAgICAgICAgICBtYXRyaXguc2xlYXplLmJhc2UgPSBIZWxwZXJzLmNhbGNUb3RhbChhdHRyaWJ1dGVzLmludHVpdGlvbik7XG4gICAgICAgICAgICBtYXRyaXgubmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkxpdmluZ1BlcnNvbmEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBtYXRyaXggY29uZGl0aW9uIG1vbml0b3IgdG8gbWF4IGlmIGdyZWF0ZXIgdGhhblxuICAgICAgICBpZiAobWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlID4gbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLm1heCkge1xuICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlID0gbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLm1heDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBNYXRyaXggQXR0cmlidXRlcyB0byBMaW1pdHMgYW5kIEF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlTWF0cml4VG9MaW1pdHNBbmRBdHRyaWJ1dGVzKGRhdGE6IFNSNUFjdG9yRGF0YSAmIE1hdHJpeEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IG1hdHJpeCwgYXR0cmlidXRlcywgbGltaXRzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBNYXRyaXhMaXN0ID0gWydmaXJld2FsbCcsICdzbGVhemUnLCAnZGF0YV9wcm9jZXNzaW5nJywgJ2F0dGFjayddO1xuXG4gICAgICAgIC8vIGFkZCBtYXRyaXggYXR0cmlidXRlcyB0byBib3RoIGxpbWl0cyBhbmQgYXR0cmlidXRlcyBhcyBoaWRkZW4gZW50cmllc1xuICAgICAgICBNYXRyaXhMaXN0LmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgSGVscGVycy5jYWxjVG90YWwobWF0cml4W2tleV0pO1xuICAgICAgICAgICAgaWYgKG1hdHJpeFtrZXldKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBDT05GSUcuU1I1Lm1hdHJpeEF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBiYXNlLCBtb2QgfSA9IG1hdHJpeFtrZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsaW1pdHNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgICAgICAgICAgIG1vZCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgICAgICAgICAgIG1vZCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHRoZSBtZW50YWwgYXR0cmlidXRlcyBmb3IgYSBzaGVldCB0aGF0IGp1c3QgaGFzIGEgZGV2aWNlIHJhdGluZ1xuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgc3RhdGljIHByZXBhcmVBdHRyaWJ1dGVzRm9yRGV2aWNlKGRhdGE6IFNSNUFjdG9yRGF0YSAmIE1hdHJpeEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IG1hdHJpeCwgYXR0cmlidXRlcyB9ID0gZGF0YTtcbiAgICAgICAgY29uc3QgcmF0aW5nID0gbWF0cml4LnJhdGluZyB8fCAwO1xuICAgICAgICBjb25zdCBtZW50YWxBdHRyaWJ1dGVzID0gWydpbnR1aXRpb24nLCAnbG9naWMnLCAnY2hhcmlzbWEnLCAnd2lsbHBvd2VyJ107XG5cbiAgICAgICAgbWVudGFsQXR0cmlidXRlcy5mb3JFYWNoKChhdHRMYWJlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0TGFiZWxdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dExhYmVsXS5iYXNlID0gcmF0aW5nO1xuICAgICAgICAgICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGF0dHJpYnV0ZXNbYXR0TGFiZWxdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJhc2ljID0gWydmaXJld2FsbCcsICdkYXRhX3Byb2Nlc3NpbmcnXTtcbiAgICAgICAgYmFzaWMuZm9yRWFjaCgoYXR0SWQpID0+IHtcbiAgICAgICAgICAgIG1hdHJpeFthdHRJZF0uYmFzZSA9IHJhdGluZztcbiAgICAgICAgfSk7XG4gICAgICAgIFsuLi5iYXNpYywgJ3NsZWF6ZScsICdhdHRhY2snXS5mb3JFYWNoKChhdHRJZCkgPT4ge1xuICAgICAgICAgICAgSGVscGVycy5jYWxjVG90YWwobWF0cml4W2F0dElkXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuXG5leHBvcnQgY2xhc3MgTW9kaWZpZXJzUHJlcCB7XG4gICAgLyoqXG4gICAgICogUHJlcGFyZSB0aGUgbW9kaWZpZXJzIHRoYXQgYXJlIGRpc3BsYXllZCBpbiB0aGUgTWlzYy4gdGFiXG4gICAgICovXG4gICAgc3RhdGljIHByZXBhcmVNb2RpZmllcnMoZGF0YTogU1I1QWN0b3JEYXRhKSB7XG4gICAgICAgIGlmICghZGF0YS5tb2RpZmllcnMpIGRhdGEubW9kaWZpZXJzID0ge307XG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IHt9O1xuICAgICAgICBsZXQgbWlzY1RhYk1vZGlmaWVycyA9IFtcbiAgICAgICAgICAgICdzb2FrJyxcbiAgICAgICAgICAgICdkcmFpbicsXG4gICAgICAgICAgICAnYXJtb3InLFxuICAgICAgICAgICAgJ3BoeXNpY2FsX2xpbWl0JyxcbiAgICAgICAgICAgICdzb2NpYWxfbGltaXQnLFxuICAgICAgICAgICAgJ21lbnRhbF9saW1pdCcsXG4gICAgICAgICAgICAnc3R1bl90cmFjaycsXG4gICAgICAgICAgICAncGh5c2ljYWxfdHJhY2snLFxuICAgICAgICAgICAgJ21lYXRfaW5pdGlhdGl2ZScsXG4gICAgICAgICAgICAnbWVhdF9pbml0aWF0aXZlX2RpY2UnLFxuICAgICAgICAgICAgJ2FzdHJhbF9pbml0aWF0aXZlJyxcbiAgICAgICAgICAgICdhc3RyYWxfaW5pdGlhdGl2ZV9kaWNlJyxcbiAgICAgICAgICAgICdtYXRyaXhfaW5pdGlhdGl2ZScsXG4gICAgICAgICAgICAnbWF0cml4X2luaXRpYXRpdmVfZGljZScsXG4gICAgICAgICAgICAnY29tcG9zdXJlJyxcbiAgICAgICAgICAgICdsaWZ0X2NhcnJ5JyxcbiAgICAgICAgICAgICdqdWRnZV9pbnRlbnRpb25zJyxcbiAgICAgICAgICAgICdtZW1vcnknLFxuICAgICAgICAgICAgJ3dhbGsnLFxuICAgICAgICAgICAgJ3J1bicsXG4gICAgICAgICAgICAnZGVmZW5zZScsXG4gICAgICAgICAgICAnd291bmRfdG9sZXJhbmNlJyxcbiAgICAgICAgICAgICdlc3NlbmNlJyxcbiAgICAgICAgICAgICdmYWRlJyxcbiAgICAgICAgXTtcbiAgICAgICAgbWlzY1RhYk1vZGlmaWVycy5zb3J0KCk7XG4gICAgICAgIC8vIGZvcmNlIGdsb2JhbCB0byB0aGUgdG9wXG4gICAgICAgIG1pc2NUYWJNb2RpZmllcnMudW5zaGlmdCgnZ2xvYmFsJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBtaXNjVGFiTW9kaWZpZXJzKSB7XG4gICAgICAgICAgICBtb2RpZmllcnNbaXRlbV0gPSBOdW1iZXIoZGF0YS5tb2RpZmllcnNbaXRlbV0pIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICB9XG5cbiAgICBzdGF0aWMgY2xlYXJBdHRyaWJ1dGVNb2RzKGRhdGE6IFNSNUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGF0dHJpYnV0ZXMgfSA9IGRhdGE7XG4gICAgICAgIGZvciAoY29uc3QgWywgYXR0cmlidXRlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgYXR0cmlidXRlLm1vZCA9IFtdO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFNSNUFjdG9yRGF0YSA9IFNoYWRvd3J1bi5TUjVBY3RvckRhdGE7XG5pbXBvcnQgTW92ZW1lbnRBY3RvckRhdGEgPSBTaGFkb3dydW4uTW92ZW1lbnRBY3RvckRhdGE7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlbWVudFByZXAge1xuICAgIHN0YXRpYyBwcmVwYXJlTW92ZW1lbnQoZGF0YTogU1I1QWN0b3JEYXRhICYgTW92ZW1lbnRBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBtb2RpZmllcnMgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IG1vdmVtZW50ID0gZGF0YS5tb3ZlbWVudDtcbiAgICAgICAgLy8gZGVmYXVsdCBtb3ZlbWVudDogV0FMSyA9IEFHSSAqIDIsIFJVTiA9IEFHSSAqIDRcbiAgICAgICAgbW92ZW1lbnQud2Fsay52YWx1ZSA9IGF0dHJpYnV0ZXMuYWdpbGl0eS52YWx1ZSAqICgyICsgTnVtYmVyKG1vZGlmaWVyc1snd2FsayddKSk7XG4gICAgICAgIG1vdmVtZW50LnJ1bi52YWx1ZSA9IGF0dHJpYnV0ZXMuYWdpbGl0eS52YWx1ZSAqICg0ICsgTnVtYmVyKG1vZGlmaWVyc1sncnVuJ10pKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2hhcmFjdGVyQWN0b3JEYXRhID0gU2hhZG93cnVuLkNoYXJhY3RlckFjdG9yRGF0YTtcbmltcG9ydCB7RGF0YVRlbXBsYXRlc30gZnJvbSBcIi4uLy4uLy4uL2RhdGFUZW1wbGF0ZXNcIjtcbmltcG9ydCB7SGVscGVyc30gZnJvbSBcIi4uLy4uLy4uL2hlbHBlcnNcIjtcbmltcG9ydCB7TUVUQVRZUEVNT0RJRklFUn0gZnJvbSBcIi4uLy4uLy4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtQYXJ0c0xpc3R9IGZyb20gXCIuLi8uLi8uLi9wYXJ0cy9QYXJ0c0xpc3RcIjtcblxuZXhwb3J0IGNsYXNzIE5QQ1ByZXAge1xuICAgIHN0YXRpYyBwcmVwYXJlTlBDRGF0YShkYXRhOiBDaGFyYWN0ZXJBY3RvckRhdGEpIHtcbiAgICAgICAgLy8gQXBwbHkgdG8gTlBDIGFuZCBub25lIE5QQyB0byByZW1vdmUgbGluZ2VyaW5nIG1vZGlmaWVycyBhZnRlciBhY3RvciBoYXMgYmVlbiByZW1vdmVkIGl0J3MgbnBjIHN0YXR1cy5cbiAgICAgICAgTlBDUHJlcC5hcHBseU1ldGF0eXBlTW9kaWZpZXJzKGRhdGEpO1xuICAgIH1cblxuICAgIC8qKiBSZXBsYWNlIGN1cnJlbnQgbWV0YXR5cGUgbW9kaWZpZXJzIHdpdGgsIGV2ZW4gaWYgbm90aGluZyBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyBhcHBseU1ldGF0eXBlTW9kaWZpZXJzKGRhdGE6IENoYXJhY3RlckFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7bWV0YXR5cGV9ID0gZGF0YTtcbiAgICAgICAgbGV0IG1vZGlmaWVycyA9IERhdGFUZW1wbGF0ZXMuZ3J1bnQubWV0YXR5cGVfbW9kaWZpZXJzW21ldGF0eXBlXTtcbiAgICAgICAgbW9kaWZpZXJzID0gbW9kaWZpZXJzID8gbW9kaWZpZXJzIDoge307XG5cbiAgICAgICAgY29uc3Qge2F0dHJpYnV0ZXN9ID0gZGF0YTtcblxuICAgICAgICBmb3IgKGNvbnN0IFthdHRJZCwgYXR0cmlidXRlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgLy8gb2xkLXN0eWxlIG9iamVjdCBtb2QgdHJhbnNmb3JtYXRpb24gaXMgaGFwcGVuaW5nIGluIEF0dHJpYnV0ZVByZXAgYW5kIGlzIG5lZWRlZCBoZXJlLiBPcmRlciBpcyBpbXBvcnRhbnQuXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXR0cmlidXRlLm1vZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQWN0b3IgZGF0YSBjb250YWlucyB3cm9uZyBkYXRhIHR5cGUgZm9yIGF0dHJpYnV0ZS5tb2QnLCBhdHRyaWJ1dGUsICFBcnJheS5pc0FycmF5KGF0dHJpYnV0ZS5tb2QpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZ5QnkgPSBtb2RpZmllcnM/LmF0dHJpYnV0ZXM/LlthdHRJZF07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0KGF0dHJpYnV0ZS5tb2QpO1xuICAgICAgICAgICAgICAgIHBhcnRzLnJlbW92ZVBhcnQoTUVUQVRZUEVNT0RJRklFUik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pc19ucGMgJiYgbW9kaWZ5QnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkUGFydChNRVRBVFlQRU1PRElGSUVSLCBtb2RpZnlCeSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLm1vZCA9IHBhcnRzLmxpc3Q7XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBtb2RpZnkgYXR0cmlidXRlIGJlbG93IG9uZS5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBVc2UgYSBTUjUuVmFsdWVzLkF0dHJpYnV0ZSBjYWxjdWxhdGlvbiB0byBhdm9pZCBkdXBsaWNhdGlvbi5cbiAgICAgICAgICAgICAgICBIZWxwZXJzLmNhbGNUb3RhbChhdHRyaWJ1dGUsIHttaW46IDF9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBBZGROUENNZXRhdHlwZUF0dHJpYnV0ZU1vZGlmaWVyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBNRVRBVFlQRU1PRElGSUVSLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlIGFzIG51bWJlclxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vLi4vLi4vcGFydHMvUGFydHNMaXN0JztcbmltcG9ydCBTa2lsbEZpZWxkID0gU2hhZG93cnVuLlNraWxsRmllbGQ7XG5cbmV4cG9ydCBjbGFzcyBTa2lsbHNQcmVwIHtcbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIGFjdG9yIGRhdGEgZm9yIHNraWxsc1xuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlU2tpbGxzKGRhdGE6IFNSNUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGxhbmd1YWdlLCBhY3RpdmUsIGtub3dsZWRnZSB9ID0gZGF0YS5za2lsbHM7XG4gICAgICAgIGlmIChsYW5ndWFnZSkge1xuICAgICAgICAgICAgaWYgKCFsYW5ndWFnZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGxhbmd1YWdlLnZhbHVlID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxhbmd1YWdlLnZhbHVlIGlzIGRlZmluZWQgYXMgYW4gYXJyYXkgaW4gdGVtcGxhdGUuanNvbiBcbiAgICAgICAgICAgIC8vIEhvd2V2ZXIgd2hhdCB3ZSBhY3R1YWxseSB3YW50IGhlcmUgaXMgYW4gb2JqZWN0LCBzbyB3ZSBzZXQgaXQgbWFudWFsbHlcbiAgICAgICAgICAgIC8vIFRoZSBzYW1lIGlzIGRvbmUgZm9yIHRoZSBvdGhlciBrbm93bGVkZ2Ugc2tpbGxncm91cHMgJ3ZhbHVlJyBwcm9wZXJ0aWVzIGJlbG93XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYW5ndWFnZS52YWx1ZSkgJiYgbGFuZ3VhZ2UudmFsdWUubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBsYW5ndWFnZS52YWx1ZSA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsYW5ndWFnZS5hdHRyaWJ1dGUgPSAnaW50dWl0aW9uJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZ1bmN0aW9uIHRoYXQgd2lsbCBzZXQgdGhlIHRvdGFsIG9mIGEgc2tpbGwgY29ycmVjdGx5XG4gICAgICAgIGNvbnN0IHByZXBhcmVTa2lsbCA9IChza2lsbCkgPT4ge1xuICAgICAgICAgICAgc2tpbGwubW9kID0gW107XG4gICAgICAgICAgICBpZiAoIXNraWxsLmJhc2UpIHNraWxsLmJhc2UgPSAwO1xuICAgICAgICAgICAgaWYgKHNraWxsLmJvbnVzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBib251cyBvZiBza2lsbC5ib251cykge1xuICAgICAgICAgICAgICAgICAgICBza2lsbC5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChza2lsbC5tb2QsIGJvbnVzLmtleSwgTnVtYmVyKGJvbnVzLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2tpbGwudmFsdWUgPSBIZWxwZXJzLmNhbGNUb3RhbChza2lsbCk7XG5cbiAgICAgICAgICAgIC8vIE9sZGVyIENodW1tZXIgaW1wb3J0cyBtaXNzIHNvbWUgZmllbGRzLlxuICAgICAgICAgICAgX21lcmdlV2l0aE1pc3NpbmdTa2lsbEZpZWxkcyhza2lsbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2V0dXAgYWN0aXZlIHNraWxsc1xuICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIE9iamVjdC52YWx1ZXMoYWN0aXZlKSkge1xuICAgICAgICAgICAgaWYgKCFza2lsbC5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICBwcmVwYXJlU2tpbGwoc2tpbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gIFxuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWUpO1xuICAgICAgICAvLyByZW1vdmUgZW50cmllcyB3aGljaCBhcmUgZGVsZXRlZCBUT0RPIGZpZ3VyZSBvdXQgaG93IHRvIGRlbGV0ZSB0aGVzZSBmcm9tIHRoZSBkYXRhXG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoW2tleSwgdmFsXTogW3N0cmluZywgeyBfZGVsZXRlPzogYm9vbGVhbiB9XSkgPT4gdmFsLl9kZWxldGUgJiYgZGVsZXRlIGRhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlW2tleV0pO1xuXG4gICAgICAgIGZvciAobGV0IHNraWxsIG9mIE9iamVjdC52YWx1ZXMobGFuZ3VhZ2UudmFsdWUpKSB7XG4gICAgICAgICAgICBwcmVwYXJlU2tpbGwoc2tpbGwpO1xuICAgICAgICAgICAgc2tpbGwuYXR0cmlidXRlID0gJ2ludHVpdGlvbic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXR1cCBrbm93bGVkZ2Ugc2tpbGxzXG4gICAgICAgIGZvciAobGV0IFssIGdyb3VwXSBvZiBPYmplY3QuZW50cmllcyhrbm93bGVkZ2UpKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZ3JvdXAudmFsdWUpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGVudHJpZXMgd2hpY2ggYXJlIGRlbGV0ZWQgVE9ETyBmaWd1cmUgb3V0IGhvdyB0byBkZWxldGUgdGhlc2UgZnJvbSB0aGUgZGF0YVxuICAgICAgICAgICAgZ3JvdXAudmFsdWUgPSBlbnRyaWVzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoWywgdmFsXSkgPT4gIXZhbC5fZGVsZXRlKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgW2lkLCBza2lsbF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlcGFyZVNraWxsKHNraWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgc2tpbGxcbiAgICAgICAgICAgICAgICAgICAgc2tpbGwuYXR0cmlidXRlID0gZ3JvdXAuYXR0cmlidXRlO1xuICAgICAgICAgICAgICAgICAgICBhY2NbaWRdID0gc2tpbGw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpbGwgbGFiZWxzXG4gICAgICAgIGZvciAobGV0IFtza2lsbEtleSwgc2tpbGxWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYWN0aXZlKSkge1xuICAgICAgICAgICAgc2tpbGxWYWx1ZS5sYWJlbCA9IENPTkZJRy5TUjUuYWN0aXZlU2tpbGxzW3NraWxsS2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqIEp1c3QgYSBxdWljaywgc2VtaSBoYWNreSB3YXkgb2Ygc2V0dGluZyB1cCBhIGNvbXBsZXRlIHNraWxsIGRhdGEgc3RydWN0dXJlLCB3aGlsZSBzdGlsbCBhbGxvd2luZ1xuICogIGZpZWxkcyB0byBiZSBhZGRlZCBhdCBuZWVkLlxuICpcbiAqIEBwYXJhbSBnaXZlblNraWxsXG4gKiBAcmV0dXJuIG1lcmdlIGRlZmF1bHQgc2tpbGwgZmllbGRzIHdpdGggZmllbGRzIG9mIHRoZSBnaXZlbiBmaWVsZCwgb25seSBhZGRpbmcgbmV3IGZpZWxkcyBpbiB0aGUgcHJvY2Vzcy5cbiAqL1xuZXhwb3J0IGNvbnN0IF9tZXJnZVdpdGhNaXNzaW5nU2tpbGxGaWVsZHMgPSAoZ2l2ZW5Ta2lsbCkgPT4ge1xuICAgIC8vIE9ubHkgdGhlIGFic29sdXRlIG1vc3QgbmVjZXNzYXJ5IGZpZWxkcywgbm90IGRhdGF0eXBlIGNvbXBsZXRlIHRvIFNraWxsRmllbGRcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHtcbiAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgYmFzZTogXCJcIixcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGF0dHJpYnV0ZTogXCJcIixcbiAgICAgICAgbW9kOiBbXSxcbiAgICAgICAgc3BlY3M6IFtdLFxuICAgICAgICBoaWRkZW46IGZhbHNlXG4gICAgfTtcblxuICAgIC8vIFVzZSBtZXJnZU9iamVjdCB0byByZXNlcnZlIG9yaWdpbmFsIG9iamVjdCBpbnN0YW5jZSBpbiBjYXNlIHJlcGxhY2luZyBpdFxuICAgIC8vIGNhdXNlcyBwcm9ibGVtcyBkb3duIHRoZSBsaW5lIHdpdGggYWN0aXZlIHNraWxscyB0YWtlbiBmcm9tIGEgcHJlZXhpc3RpbmdcbiAgICAvLyBkYXRhIHN0cnVjdHVyZS5cbiAgICAvLyBvdmVyd3JpdGUgZmFsc2UgdG8gcHJvaGliaXQgZXhpc3RpbmcgdmFsdWVzIHRvIGJlIG92ZXJ3cml0dGVuIHdpdGggZW1wdHkgdmFsdWVzLlxuICAgIG1lcmdlT2JqZWN0KGdpdmVuU2tpbGwsIHRlbXBsYXRlLCB7b3ZlcndyaXRlOiBmYWxzZX0pO1xufSIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IFR3b1RyYWNrQWN0b3JEYXRhID0gU2hhZG93cnVuLlR3b1RyYWNrQWN0b3JEYXRhO1xuaW1wb3J0IFdvdW5kc0FjdG9yRGF0YSA9IFNoYWRvd3J1bi5Xb3VuZHNBY3RvckRhdGE7XG5cbmV4cG9ydCBjbGFzcyBXb3VuZHNQcmVwIHtcbiAgICBzdGF0aWMgcHJlcGFyZVdvdW5kcyhkYXRhOiBTUjVBY3RvckRhdGEgJiBUd29UcmFja0FjdG9yRGF0YSAmIFdvdW5kc0FjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IG1vZGlmaWVycywgdHJhY2sgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gMyArIE51bWJlcihtb2RpZmllcnNbJ3dvdW5kX3RvbGVyYW5jZSddKTtcbiAgICAgICAgY29uc3Qgc3R1bldvdW5kcyA9IHRyYWNrLnN0dW4uZGlzYWJsZWQgPyAwIDogTWF0aC5mbG9vcih0cmFjay5zdHVuLnZhbHVlIC8gY291bnQpO1xuICAgICAgICBjb25zdCBwaHlzaWNhbFdvdW5kcyA9IHRyYWNrLnBoeXNpY2FsLmRpc2FibGVkID8gMCA6IE1hdGguZmxvb3IodHJhY2sucGh5c2ljYWwudmFsdWUgLyBjb3VudCk7XG5cbiAgICAgICAgdHJhY2suc3R1bi53b3VuZHMgPSBzdHVuV291bmRzO1xuICAgICAgICB0cmFjay5waHlzaWNhbC53b3VuZHMgPSBwaHlzaWNhbFdvdW5kcztcblxuICAgICAgICBkYXRhLndvdW5kcyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHVuV291bmRzICsgcGh5c2ljYWxXb3VuZHMsXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHtGTEFHUywgU1lTVEVNX05BTUV9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIENoYW5nZWxvZ0FwcGxpY2F0aW9uIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuICAgIGdldCB0ZW1wbGF0ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYXBwcy9jaGFuZ2Vsb2cuaHRtbCc7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHN1cGVyLmRlZmF1bHRPcHRpb25zO1xuICAgICAgICBvcHRpb25zLmNsYXNzZXMgPSBbJ3NoYWRvd3J1bjVlJ107XG4gICAgICAgIG9wdGlvbnMudGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DaGFuZ2Vsb2dBcHBsaWNhdGlvbi5UaXRsZScpO1xuICAgICAgICBvcHRpb25zLndpZHRoID0gNTAwO1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgcmVuZGVyKGZvcmNlPzogYm9vbGVhbiwgb3B0aW9ucz86IEFwcGxpY2F0aW9uLlJlbmRlck9wdGlvbnMpOiBBcHBsaWNhdGlvbiB7XG4gICAgICAgIENoYW5nZWxvZ0FwcGxpY2F0aW9uLnNldFJlbmRlckZvckN1cnJlbnRWZXJzaW9uKCk7XG4gICAgICAgIHJldHVybiBzdXBlci5yZW5kZXIoZm9yY2UsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIExldCB0aGUgYXN5bmMgb3BlcmF0aW9uIGhhcHBlbiBpbiBiYWNrZ3JvdW5kLlxuICAgIHByaXZhdGUgc3RhdGljIHNldFJlbmRlckZvckN1cnJlbnRWZXJzaW9uKCkge1xuICAgICAgICBnYW1lLnVzZXIuc2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuQ2hhbmdlbG9nU2hvd25Gb3JWZXJzaW9uLCBnYW1lLnN5c3RlbS5kYXRhLnZlcnNpb24pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2hvd0FwcGxpY2F0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWdhbWUudXNlci5pc0dNIHx8ICFnYW1lLnVzZXIuaXNUcnVzdGVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgc2hvd25Gb3JWZXJzaW9uID0gZ2FtZS51c2VyLmdldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkNoYW5nZWxvZ1Nob3duRm9yVmVyc2lvbik7XG4gICAgICAgIHJldHVybiBzaG93bkZvclZlcnNpb24gIT09IGdhbWUuc3lzdGVtLmRhdGEudmVyc2lvbjtcbiAgICB9XG59IiwiaW1wb3J0IHtTWVNURU1fTkFNRX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tIFwiLi4vaGVscGVyc1wiO1xuaW1wb3J0IHtTUjVBY3Rvcn0gZnJvbSBcIi4uL2FjdG9yL1NSNUFjdG9yXCI7XG5pbXBvcnQge01vZGlmaWVyc30gZnJvbSBcIi4uL3NyNS9Nb2RpZmllcnNcIjtcbmltcG9ydCBFbnZpcm9ubWVudGFsTW9kaWZpZXJDYXRlZ29yaWVzID0gU2hhZG93cnVuLkVudmlyb25tZW50YWxNb2RpZmllckNhdGVnb3JpZXM7XG5cbmV4cG9ydCB0eXBlIEVudk1vZGlmaWVyc1RhcmdldCA9IFNjZW5lIHwgU1I1QWN0b3I7XG5cbi8qKiBIZWxwZXIgd2luZG93IGZvciBlYXN5IG92ZXJ2aWV3IGFuZCBzZWxlY3Rpb24gb2YgZW52aXJvbm1lbnRhbCBtb2RpZmllcnMgYW5kIHRoZWlyIGNhbGN1bGF0ZWQgdG90YWwuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgRW52TW9kaWZpZXJzQXBwbGljYXRpb24gZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XG4gICAgdGFyZ2V0OiBFbnZNb2RpZmllcnNUYXJnZXQ7XG4gICAgbW9kaWZpZXJzOiBNb2RpZmllcnM7XG5cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQ6IEVudk1vZGlmaWVyc1RhcmdldCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cblxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FwcHMvZW52LW1vZGlmaWVycy5odG1sJztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMuY2xhc3NlcyA9IFsnc3I1JywgJ2Zvcm0tZGlhbG9nJ107XG4gICAgICAgIG9wdGlvbnMuaWQgPSAnZW52LW1vZGlmaWVycy1hcHBsaWNhdGlvbic7XG4gICAgICAgIG9wdGlvbnMudGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5FbnZNb2RpZmllcnNBcHBsaWNhdGlvbi5UaXRsZScpO1xuICAgICAgICBvcHRpb25zLndpZHRoID0gJ2F1dG8nOyAvLyBhdXRvIGlzIGltcG9ydGFudCBmb3IgZGlmZmVyaW5nIGkxOG4gdGV4dCBsZW5ndGguXG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICBvcHRpb25zLnJlc2l6YWJsZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIGFzeW5jIGdldERhdGEob3B0aW9ucz86IG9iamVjdCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzdXBlci5nZXREYXRhKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMubW9kaWZpZXJzID0gYXdhaXQgdGhpcy5fZ2V0TW9kaWZpZXJzKCk7XG5cbiAgICAgICAgZGF0YS5hY3RpdmUgPSB0aGlzLm1vZGlmaWVycy5lbnZpcm9ubWVudGFsLmFjdGl2ZTtcbiAgICAgICAgZGF0YS50b3RhbCA9IHRoaXMubW9kaWZpZXJzLmVudmlyb25tZW50YWwudG90YWw7XG5cbiAgICAgICAgZGF0YS5sZXZlbHMgPSBNb2RpZmllcnMuZ2V0RW52aXJvbm1lbnRhbE1vZGlmaWVyTGV2ZWxzKCk7XG5cbiAgICAgICAgZGF0YS50YXJnZXRUeXBlID0gdGhpcy5fZ2V0VGFyZ2V0VHlwZUxhYmVsKCk7XG4gICAgICAgIGRhdGEudGFyZ2V0TmFtZSA9IHRoaXMudGFyZ2V0Lm5hbWU7XG4gICAgICAgIGRhdGEuZGlzYWJsZUZvcm0gPSB0aGlzLl9kaXNhYmxlSW5wdXRzRm9yVXNlcigpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhY3RpdmF0ZUxpc3RlbmVycyhodG1sOiBKUXVlcnkgfCBIVE1MRWxlbWVudCkge1xuICAgICAgICAkKGh0bWwpLmZpbmQoJ2J1dHRvbi5lbnYtbW9kaWZpZXInKS5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RpZmllckNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgJChodG1sKS5maW5kKCdidXR0b24ucmVtb3ZlLW1vZGlmaWVycy1mcm9tLXRhcmdldCcpLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZVJlbW92ZU1vZGlmaWVyc0Zyb21UYXJnZXQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX2hhbmRsZU1vZGlmaWVyQ2hhbmdlKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBkYXRhIHJldHJpZXZhbCBmcm9tIEhUTUwgZGF0YXNldHMuXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgIGlmICghZWxlbWVudC5kYXRhc2V0LmNhdGVnb3J5IHx8ICFlbGVtZW50LmRhdGFzZXQudmFsdWUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGVsZW1lbnQuZGF0YXNldC5jYXRlZ29yeSBhcyBrZXlvZiBFbnZpcm9ubWVudGFsTW9kaWZpZXJDYXRlZ29yaWVzO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IE51bWJlcihlbGVtZW50LmRhdGFzZXQudmFsdWUpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBtb2RpZmllciBjYWxjdWxhdGlvblxuICAgICAgICB0aGlzLl90b2dnbGVBY3RpdmVNb2RpZmllckNhdGVnb3J5KGNhdGVnb3J5LCB2YWx1ZSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fY2xlYXJNb2RpZmllcnNPblRhcmdldEZvck5vU2VsZWN0aW9uKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3N0b3JlTW9kaWZpZXJzT25UYXJnZXQoKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVUb2tlbkhVRFRvdGFsRGlzcGxheSgpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgLyoqIFVwZGF0ZXMgb3BlbmVkIHRva2VuSFVEIG1vZGlmaWVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIERvaW5nIGl0IHRoaXMgd2F5IGlzIGp1c3QgZWFzaWVyIGFzIHJlbHlpbmcgb24gYW55IHVwZGF0ZSAvIGhvb2sgd29ya2Zsb3cuXG4gICAgICovXG4gICAgX3VwZGF0ZVRva2VuSFVEVG90YWxEaXNwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQgaW5zdGFuY2VvZiBTUjVBY3Rvcikge1xuICAgICAgICAgICAgJCgnLm1vZGlmaWVyLXZhbHVlLWVudmlyb25tZW50YWwnKS5lYWNoKChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuaHRtbCh0aGlzLm1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBfaGFuZGxlUmVtb3ZlTW9kaWZpZXJzRnJvbVRhcmdldChldmVudDogRXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBhd2FpdCB0aGlzLmNsZWFyTW9kaWZpZXJzT25UYXJnZXQoKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVUb2tlbkhVRFRvdGFsRGlzcGxheSgpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICovXG4gICAgX3RvZ2dsZUFjdGl2ZU1vZGlmaWVyQ2F0ZWdvcnkoY2F0ZWdvcnk6IGtleW9mIEVudmlyb25tZW50YWxNb2RpZmllckNhdGVnb3JpZXMsIGxldmVsOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5tb2RpZmllcnMudG9nZ2xlRW52aXJvbm1lbnRhbENhdGVnb3J5KGNhdGVnb3J5LCBsZXZlbCk7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiB0aGUgbW9kaWZpZXJzIHRoYXQgYmVzdCBtYXRjaCB0aGUgY3VycmVudCB0YXJnZXQgdHlwZVxuICAgICAqL1xuICAgIGFzeW5jIF9nZXRNb2RpZmllcnMoKTogUHJvbWlzZTxNb2RpZmllcnM+IHtcbiAgICAgICAgLy8gQWN0b3IgdGFyZ2V0cyBtaWdodCBoYXZlIG5vIHBlcnNvbmFsIG1vZGlmaWVycywgYnV0IHN0aWxsIHNlZSB0aGUgc2NlbmUgbW9kaWZpZXJzIHRoZW4sIGFuZCB1c2UgdGhvc2VcbiAgICAgICAgLy8gYXMgYSB0ZW1wbGF0ZSBmb3IgdGhlaXIgbG9jYWwgbW9kaWZpZXJzLlxuICAgICAgICBpZiAodGhpcy50YXJnZXQgaW5zdGFuY2VvZiBTUjVBY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudGFyZ2V0LmdldE1vZGlmaWVycygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFsbCBvdGhlciB0eXBlcyBhcmUgaGFuZGxlZCB3aXRob3V0IHNwZWNpYWwgY2FzZXMuXG4gICAgICAgIHJldHVybiBhd2FpdCBNb2RpZmllcnMuZ2V0TW9kaWZpZXJzRnJvbUVudGl0eSh0aGlzLnRhcmdldCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX3N0b3JlTW9kaWZpZXJzT25UYXJnZXQoKSB7XG4gICAgICAgIGF3YWl0IE1vZGlmaWVycy5zZXRNb2RpZmllcnNPbkVudGl0eSh0aGlzLnRhcmdldCwgdGhpcy5tb2RpZmllcnMuZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqIENsZWFudXAgdW51c2VkIGRhdGEgaW4gRW50aXR5IGZsYWcuXG4gICAgICovXG4gICAgYXN5bmMgX2NsZWFyTW9kaWZpZXJzT25UYXJnZXRGb3JOb1NlbGVjdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vZGlmaWVycy5oYXNBY3RpdmVFbnZpcm9ubWVudGFsKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVycyA9IGF3YWl0IE1vZGlmaWVycy5jbGVhckVudmlyb25tZW50YWxPbkVudGl0eSh0aGlzLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBfdGFyZ2V0SGFzRW52aXJvbm1lbnRhbE1vZGlmaWVycygpIHtcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gYXdhaXQgTW9kaWZpZXJzLmdldE1vZGlmaWVyc0Zyb21FbnRpdHkodGhpcy50YXJnZXQpO1xuICAgICAgICByZXR1cm4gISFtb2RpZmllcnMuZW52aXJvbm1lbnRhbDtcbiAgICB9XG5cbiAgICBhc3luYyBjbGVhck1vZGlmaWVyc09uVGFyZ2V0KCkge1xuICAgICAgICBhd2FpdCBNb2RpZmllcnMuY2xlYXJFbnZpcm9ubWVudGFsT25FbnRpdHkodGhpcy50YXJnZXQpO1xuICAgICAgICAvLyBSZWZyZXNoIG1vZGlmaWVycy4gVGhpcyBjYW4gYmUgbmVjZXNzYXJ5IGZvciBBY3RvciB0YXJnZXRzIHdpdGhvdXQgbW9kaWZpZXJzIHdoZW4gU2NlbmUgbW9kaWZpZXJzIGFyZSBwcmVzZW50LlxuICAgICAgICB0aGlzLm1vZGlmaWVycyA9IGF3YWl0IHRoaXMuX2dldE1vZGlmaWVycygpO1xuICAgIH1cblxuICAgIF9nZXRUYXJnZXRUeXBlTGFiZWwoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0IGluc3RhbmNlb2YgU2NlbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0VOVElUWS5TY2VuZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCBpbnN0YW5jZW9mIFNSNUFjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdFTlRJVFkuQWN0b3InKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKiogT25seSBhbGxvdyBpbnRlcmFjdGlvbnMgZm9yIHVzZXIgd2l0aCBhcHByb3ByaWF0ZSBwZXJtaXNzaW9uc1xuICAgICAqXG4gICAgICovXG4gICAgX2Rpc2FibGVJbnB1dHNGb3JVc2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLnRhcmdldCBpbnN0YW5jZW9mIFNSNUFjdG9yID8gdGhpcy50YXJnZXQgOiB0aGlzLnRhcmdldDtcbiAgICAgICAgcmV0dXJuICEoZ2FtZS51c2VyLmlzR00gfHwgZW50aXR5Lm93bmVyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgb3BlbkZvckN1cnJlbnRTY2VuZSgpIHtcbiAgICAgICAgaWYgKCFjYW52YXMuc2NlbmUpIHJldHVybjtcbiAgICAgICAgYXdhaXQgbmV3IEVudk1vZGlmaWVyc0FwcGxpY2F0aW9uKGNhbnZhcy5zY2VuZSkucmVuZGVyKHRydWUpO1xuICAgIH1cblxuICAgIC8qKiBQYXJ0IG9mIHRoZSB0b2tlbkhVRCB3b3JrZmxvdyBtYWtlcyBpdCBuZWNlc3NhcnkgdG8gaGF2ZSB0aGUgdG9rZW4gaWQgcGlwZWQgaW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0b2tlbklkXG4gICAgICovXG4gICAgc3RhdGljIG9wZW5Gb3JUb2tlbkhVRCh0b2tlbklkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBIZWxwZXJzLmdldFRva2VuKHRva2VuSWQpO1xuXG4gICAgICAgIC8vIFdoZW4gdGhlIHRva2VuIGh1ZCBjb250cm9sIGlzIGFjdGl2YXRlZCwgdGhpcyBpbmxpbmUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCB3aXRoIGl0LlxuICAgICAgICByZXR1cm4gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAoIXRva2VuIHx8ICF0b2tlbi5hY3RvcikgcmV0dXJuO1xuXG4gICAgICAgICAgICBhd2FpdCBuZXcgRW52TW9kaWZpZXJzQXBwbGljYXRpb24odG9rZW4uYWN0b3IpLnJlbmRlcih0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBMZWZ0IHNpZGUgdG9vbCB3aW5kb3cgY29udHJvbCBpY29uIC8gaW50ZXJhY3Rpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q29udHJvbCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICdlbnZpcm9ubWVudGFsLW1vZGlmaWVycy1hcHBsaWNhdGlvbicsXG4gICAgICAgICAgICB0aXRsZTogJ0NPTlRST0xTLlNSNS5FbnZpcm9ubWVudGFsTW9kaWZpZXJzJyxcbiAgICAgICAgICAgIGljb246ICdmYXMgZmEtbGlzdCcsXG4gICAgICAgICAgICBvbkNsaWNrOiBFbnZNb2RpZmllcnNBcHBsaWNhdGlvbi5vcGVuRm9yQ3VycmVudFNjZW5lLFxuICAgICAgICAgICAgYnV0dG9uOiB0cnVlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgc3lzdGVtIHdpZGUgdG9rZW4gSFVEIG1hbmFnZW1lbnQuLi5cbiAgICBzdGF0aWMgYXN5bmMgYWRkVG9rZW5IVURGaWVsZHMoYXBwOiBUb2tlbkhVRCwgaHRtbDogSlF1ZXJ5LCBkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YS5faWQpIHJldHVybjtcblxuICAgICAgICBjb25zb2xlLmxvZyhgJHtTWVNURU1fTkFNRX0gfCBFbnZpcm9ubWVudGFsIE1vZGlmaWVyIEhVRCBvbiByZW5kZXJUb2tlbkhVRGApO1xuXG4gICAgICAgIGNvbnN0IHRva2VuID0gSGVscGVycy5nZXRUb2tlbihkYXRhLl9pZCk7XG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybjtcblxuICAgICAgICBjb25zdCBhY3RvciA9IHRva2VuLmFjdG9yIGFzIFNSNUFjdG9yO1xuICAgICAgICBjb25zdCBtb2RpZmllcnMgPSBhd2FpdCBhY3Rvci5nZXRNb2RpZmllcnMoKTtcblxuICAgICAgICAvLyBTZXR1cCBhbmQgY29ubmVjdCB0b2tlbkhVRCBlbGVtZW50cy5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gJCgnPGRpdiBjbGFzcz1cImNvbCBmYXItcmlnaHQgc3ItbW9kaWZpZXItY29udGFpbmVyXCI+PC9kaXY+Jyk7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9ICQoJzxkaXYgY2xhc3M9XCJjb2wgbW9kaWZpZXItY29sdW1uXCI+PC9kaXY+Jyk7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVyID0gJCgnPGRpdiBjbGFzcz1cIm1vZGlmaWVyLXJvd1wiPjwvZGl2PicpO1xuICAgICAgICBjb25zdCBtb2RpZmllclZhbHVlID0gJChgPGRpdiBjbGFzcz1cIm1vZGlmaWVyLXZhbHVlIG1vZGlmaWVyLXZhbHVlLWVudmlyb25tZW50YWxcIj4ke21vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsfTwvZGl2PmApO1xuICAgICAgICBjb25zdCBtb2RpZmllckRlc2NyaXB0aW9uID0gJChgPGRpdiBjbGFzcz1cIm1vZGlmaWVyLWRlc2NyaXB0aW9uIG9wZW4tZW52aXJvbm1lbnRhbC1tb2RpZmllclwiPiR7Z2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LkVudmlyb25tZW50TW9kaWZpZXJcIil9PC9kaXY+YCk7XG4gICAgICAgIG1vZGlmaWVyRGVzY3JpcHRpb24ub24oJ2NsaWNrJywgRW52TW9kaWZpZXJzQXBwbGljYXRpb24ub3BlbkZvclRva2VuSFVEKGRhdGEuX2lkKSk7XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChjb2x1bW4pO1xuICAgICAgICBjb2x1bW4uYXBwZW5kKG1vZGlmaWVyKTtcbiAgICAgICAgbW9kaWZpZXIuYXBwZW5kKG1vZGlmaWVyVmFsdWUpO1xuICAgICAgICBtb2RpZmllci5hcHBlbmQobW9kaWZpZXJEZXNjcmlwdGlvbik7XG5cbiAgICAgICAgLy8gQ29ubmVjdCBTUi1Gb3VuZHJ5VlRUIHRva2VuSFVEIGVsZW1lbnRzIHRvIEZvdW5kcnlWVFQgdG9rZW5IVUQgY29sdW1uIHN0cnVjdHVyZS5cbiAgICAgICAgaHRtbC5maW5kKCcuY29sLnJpZ2h0JykuYWZ0ZXIoY29udGFpbmVyKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgcGFyc2VEZXNjcmlwdGlvbiwgZ2V0QXJyYXksIHBhcnNlVGVjaG5vbG9neSwgY3JlYXRlSXRlbURhdGEgfSBmcm9tIFwiLi9CYXNlUGFyc2VyRnVuY3Rpb25zLmpzXCJcblxuZXhwb3J0IGNsYXNzIEFybW9yUGFyc2VyIHtcbiAgIFxuICAgIHBhcnNlQXJtb3JzKGNodW1tZXJDaGFyKSB7XG4gICAgICAgIGNvbnN0IGFybW9ycyA9IGdldEFycmF5KGNodW1tZXJDaGFyLmFybW9ycy5hcm1vcik7XG4gICAgICAgIGNvbnN0IHBhcnNlZEFybW9ycyA9IFtdO1xuICAgICAgICBhcm1vcnMuZm9yRWFjaCgoY2h1bW1lckFybW9yKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gdGhpcy5wYXJzZUFybW9yKGNodW1tZXJBcm1vcik7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJtb3JzLnB1c2goaXRlbURhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwYXJzZWRBcm1vcnM7XG4gICAgfVxuXG4gICAgcGFyc2VBcm1vcihjaHVtbWVyQXJtb3IpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBjb25zdCBhcm1vciA9IHt9O1xuICAgICAgICBkYXRhLmFybW9yID0gYXJtb3I7XG5cbiAgICAgICAgbGV0IGRlc2MgPSAnJztcbiAgICAgICAgYXJtb3IubW9kID0gY2h1bW1lckFybW9yLmFybW9yLmluY2x1ZGVzKCcrJyk7XG4gICAgICAgIGFybW9yLnZhbHVlID0gcGFyc2VJbnQoY2h1bW1lckFybW9yLmFybW9yLnJlcGxhY2UoJysnLCAnJykpO1xuICAgICAgICBpZiAoY2h1bW1lckFybW9yLmRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgZGVzYyA9IGNodW1tZXJBcm1vci5kZXNjcmlwdGlvbjtcblxuICAgICAgICBjb25zb2xlLmxvZyhjaHVtbWVyQXJtb3IpO1xuICAgICAgICBpZiAoY2h1bW1lckFybW9yLmFybW9ybW9kcyAmJiBjaHVtbWVyQXJtb3IuYXJtb3Jtb2RzLmFybW9ybW9kKSB7XG4gICAgICAgICAgICBhcm1vci5maXJlID0gMDtcbiAgICAgICAgICAgIGFybW9yLmVsZWN0cmljaXR5ID0gMDtcbiAgICAgICAgICAgIGFybW9yLmNvbGQgPSAwO1xuICAgICAgICAgICAgYXJtb3IuYWNpZCA9IDA7XG4gICAgICAgICAgICBhcm1vci5yYWRpYXRpb24gPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBtb2REZXNjID0gW107XG4gICAgICAgICAgICBjb25zdCBtb2RzID0gZ2V0QXJyYXkoY2h1bW1lckFybW9yLmFybW9ybW9kcy5hcm1vcm1vZCk7XG4gICAgICAgICAgICBtb2RzLmZvckVhY2goKG1vZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdmaXJlIHJlc2lzdGFuY2UnKSkge1xuICAgICAgICAgICAgICAgICAgICBhcm1vci5maXJlICs9IHBhcnNlSW50KG1vZC5yYXRpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbm9uY29uZHVjdGl2aXR5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJtb3IuZWxlY3RyaWNpdHkgKz0gcGFyc2VJbnQobW9kLnJhdGluZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdpbnN1bGF0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJtb3IuY29sZCArPSBwYXJzZUludChtb2QucmF0aW5nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3JhZGlhdGlvbiBzaGllbGRpbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBhcm1vci5yYWRpYXRpb24gKz0gcGFyc2VJbnQobW9kLnJhdGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtb2QucmF0aW5nICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBtb2REZXNjLnB1c2goYCR7bW9kLm5hbWV9IFIke21vZC5yYXRpbmd9YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kRGVzYy5wdXNoKG1vZC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChtb2REZXNjLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBhZGQgZGVzYyB0byBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgICBkZXNjID0gYCR7bW9kRGVzYy5qb2luKCcsJyl9XFxuXFxuJHtkZXNjfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnRlY2hub2xvZ3kgPSBwYXJzZVRlY2hub2xvZ3koY2h1bW1lckFybW9yKTtcbiAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHBhcnNlRGVzY3JpcHRpb24oY2h1bW1lckFybW9yKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjcmVhdGVJdGVtRGF0YShjaHVtbWVyQXJtb3IubmFtZSwgJ2FybW9yJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IERlZmF1bHRWYWx1ZXMgfSBmcm9tIFwiLi4vLi4vZGF0YVRlbXBsYXRlc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0VmFsdWVzID0gKHZhbCkgPT4ge1xuICAgIGNvbnN0IHJlZ2V4ID0gLygtP1swLTldKykoPzooWzAtOV0rKSkqL2c7XG4gICAgY29uc3QgbCA9IHZhbC5tYXRjaChyZWdleCk7XG4gICAgcmV0dXJuIGwgfHwgWycwJ107XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXJyYXkgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG59O1xuXG4vKipcbiAqICBDcmVhdGVzIHRoZSBkZXNjcmlwdGlvbiBkYXRhIGZyb20gdGhlIGNodW1tZXIgZW50cnlcbiAqICBAcGFyYW0gY2h1bW1lckVudHJ5IFRoZSBjaHVtbWVyIGVudHJ5ICh0aGUgaXRlbSlcbiAqL1xuZXhwb3J0IGNvbnN0IHBhcnNlRGVzY3JpcHRpb24gPSAoY2h1bW1lckVudHJ5KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkRGVzY3JpcHRpb24gPSBEZWZhdWx0VmFsdWVzLmRlc2NyaXB0aW9uRGF0YSgpO1xuXG4gICAgaWYgKGNodW1tZXJFbnRyeS5zb3VyY2UgJiYgY2h1bW1lckVudHJ5LnBhZ2UpIHtcbiAgICAgICAgcGFyc2VkRGVzY3JpcHRpb24uc291cmNlID0gYCR7Y2h1bW1lckVudHJ5LnNvdXJjZX0gJHtjaHVtbWVyRW50cnkucGFnZX1gXG4gICAgfVxuXG4gICAgaWYgKGNodW1tZXJFbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBwYXJzZWREZXNjcmlwdGlvbi52YWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChjaHVtbWVyRW50cnkuZGVzY3JpcHRpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZWREZXNjcmlwdGlvblxufVxuXG4vKipcbiAqICBDcmVhdGVzIHRoZSB0ZWNobm9sb2d5IGRhdGEgZnJvbSB0aGUgY2h1bW1lciBlbnRyeVxuICogIEBwYXJhbSBjaHVtbWVyRW50cnkgVGhlIGNodW1tZXIgZW50cnkgKHRoZSBpdGVtKVxuICovXG5leHBvcnQgY29uc3QgcGFyc2VUZWNobm9sb2d5ID0gKGNodW1tZXJFbnRyeSkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZFRlY2hub2xvZ3kgPSBEZWZhdWx0VmFsdWVzLnRlY2hub2xvZ3lEYXRhKCk7XG5cbiAgICBpZiAoY2h1bW1lckVudHJ5LnJhdGluZykge1xuICAgICAgICBwYXJzZWRUZWNobm9sb2d5LnJhdGluZyA9IGNodW1tZXJFbnRyeS5yYXRpbmc7IFxuICAgIH1cblxuICAgIGlmIChjaHVtbWVyRW50cnkuYXZhaWwpIHtcbiAgICAgICAgcGFyc2VkVGVjaG5vbG9neS5hdmFpbGFiaWxpdHkgPSBjaHVtbWVyRW50cnkuYXZhaWw7IFxuICAgIH1cblxuICAgIGlmIChjaHVtbWVyRW50cnkucXR5KSB7XG4gICAgICAgIHBhcnNlZFRlY2hub2xvZ3kucXVhbnRpdHkgPSBjaHVtbWVyRW50cnkucXR5OyBcbiAgICB9XG5cbiAgICBpZiAoY2h1bW1lckVudHJ5LmNvc3QpIHtcbiAgICAgICAgcGFyc2VkVGVjaG5vbG9neS5jb3N0ID0gcGFyc2VGbG9hdChjaHVtbWVyRW50cnkuY29zdC5yZXBsYWNlKC9bXlxcZFxcLlxcLV0vZywgXCJcIikpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2h1bW1lckVudHJ5LmVxdWlwcGVkICYmIGNodW1tZXJFbnRyeS5lcXVpcHBlZC50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICAgICAgcGFyc2VkVGVjaG5vbG9neS5lcXVpcHBlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGNodW1tZXJFbnRyeS5jb25kaXRpb25tb25pdG9yKSB7XG4gICAgICAgIHBhcnNlZFRlY2hub2xvZ3kuY29uZGl0aW9uX21vbml0b3IubWF4ID0gTnVtYmVyKGNodW1tZXJFbnRyeS5jb25kaXRpb25tb25pdG9yKTtcbiAgICB9XG5cbiAgICBpZiAoY2h1bW1lckVudHJ5LmNvbmNlYWwpIHtcbiAgICAgICAgcGFyc2VkVGVjaG5vbG9neS5jb25jZWFsLmJhc2UgPSBOdW1iZXIoY2h1bW1lckVudHJ5LmNvbmNlYWwpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZWRUZWNobm9sb2d5XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVJdGVtRGF0YSA9IChuYW1lLCB0eXBlLCBkYXRhKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgX2lkOiAnJyxcbiAgICAgICAgZm9sZGVyOiAnJyxcbiAgICAgICAgZmxhZ3M6IHt9LFxuICAgICAgICBpbWc6ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcGVybWlzc2lvbjoge1xuICAgICAgICAgICAgZGVmYXVsdDogMixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5cbiIsImltcG9ydCB7Q2hhcmFjdGVySW5mb1VwZGF0ZXJ9IGZyb20gXCIuL0NoYXJhY3RlckluZm9VcGRhdGVyXCJcbmltcG9ydCB7SXRlbXNQYXJzZXJ9IGZyb20gXCIuL0l0ZW1zUGFyc2VyXCJcblxuLyoqXG4gKiBJbXBvcnRzIGNoYXJhY3RlcnMgZnJvbSBvdGhlciB0b29scyBpbnRvIGFuIGV4aXN0aW5nIGZvdW5kcnkgYWN0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJJbXBvcnRlciB7XG5cbiAgICAvKipcbiAgICAgKiBJbXBvcnRzIGEgY2h1bW1lciBjaGFyYWN0ZXIgaW50byBhbiBleGlzdGluZyBhY3Rvci4gVGhlIGFjdG9yIHdpbGwgYmUgdXBkYXRlZC4gVGhpcyBtaWdodCBsZWFkIHRvIGR1cGxpY2F0ZSBpdGVtcy5cbiAgICAgKiBAcGFyYW0geyp9IGFjdG9yIFRoZSBhY3RvciB0aGF0IHdpbGwgYmUgdXBkYXRlZCB3aXRoIHRoZSBjaHVtbWVyIGNoYXJhY3Rlci5cbiAgICAgKiBAcGFyYW0geyp9IGNodW1tZXJGaWxlIFRoZSBjb21wbGV0ZSBjaHVtbWVyIGZpbGUgYXMganNvbiBvYmplY3QuIFRoZSBmaXJzdCBjaGFyYWN0ZXIgd2lsbCBiZSBzZWxlY3RlZCBmb3IgaW1wb3J0LlxuICAgICAqIEBwYXJhbSB7Kn0gaW1wb3J0T3B0aW9ucyBBZGRpdGlvbmFsIGltcG9ydCBvcHRpb24gdGhhdCBzcGVjaWZ5IHdoYXQgcGFydHMgb2YgdGhlIGNodW1tZXIgZmlsZSB3aWxsIGJlIGltcG9ydGVkLlxuICAgICAqL1xuICAgIGFzeW5jIGltcG9ydENodW1tZXJDaGFyYWN0ZXIoYWN0b3IsIGNodW1tZXJGaWxlLCBpbXBvcnRPcHRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbXBvcnRpbmcgdGhlIGZvbGxvd2luZyBjaGFyYWN0ZXIgZmlsZSBjb250ZW50OicpO1xuICAgICAgICBjb25zb2xlLmxvZyhjaHVtbWVyRmlsZSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHRoZSBmb2xsb3dpbmcgaW1wb3J0IG9wdGlvbnM6JylcbiAgICAgICAgY29uc29sZS5sb2coaW1wb3J0T3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKCFjaHVtbWVyRmlsZS5jaGFyYWN0ZXJzIHx8ICFjaHVtbWVyRmlsZS5jaGFyYWN0ZXJzLmNoYXJhY3Rlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RpZCBub3QgZmluZCBhIHZhbGlkIGNoYXJhY3RlciB0byBpbXBvcnQgIC0gYWJvcnRpbmcgaW1wb3J0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaHVtbWVyQ2hhcmFjdGVyID0gY2h1bW1lckZpbGUuY2hhcmFjdGVycy5jaGFyYWN0ZXI7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBY3RvckRhdGEgPSBuZXcgQ2hhcmFjdGVySW5mb1VwZGF0ZXIoKS51cGRhdGUoYWN0b3IuZGF0YSwgY2h1bW1lckNoYXJhY3Rlcik7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gbmV3IEl0ZW1zUGFyc2VyKCkucGFyc2UoY2h1bW1lckNoYXJhY3RlciwgaW1wb3J0T3B0aW9ucyk7XG5cbiAgICAgICAgYXdhaXQgYWN0b3IudXBkYXRlKHVwZGF0ZWRBY3RvckRhdGEpO1xuICAgICAgICBhd2FpdCBhY3Rvci5jcmVhdGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgaXRlbXMpO1xuICAgIH1cbn0iLCJpbXBvcnQge19tZXJnZVdpdGhNaXNzaW5nU2tpbGxGaWVsZHN9IGZyb20gXCIuLi8uLi9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Ta2lsbHNQcmVwXCI7XG5cbi8qKlxuICogUGFyc2VzIGFsbCBub24taXRlbSBjaGFyYWN0ZXIgaW5mb3JtYXRpb24gZnJvbSBhIGNodW1tZXIgY2hhcmFjdGVyIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXJhY3RlckluZm9VcGRhdGVyIHtcblxuICAgIC8qKlxuICAgICAqICBNYXBzIHRoZSBjaHVtbWVyIGF0dHJpYnV0ZSBuYW1lIHRvIG91ciBzcjUtZm91bmRyeSBhdHRyaWJ1dGUgbmFtZVxuICAgICAqICBAcGFyYW0gYXR0TmFtZSBuYW1lIG9mIHRoZSBjaHVtbWVyIGF0dHJpYnV0ZVxuICAgICAqL1xuICAgIHBhcnNlQXR0TmFtZSA9IChhdHROYW1lKSA9PiAge1xuICAgICAgICBpZiAoYXR0TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYm9kJykge1xuICAgICAgICAgICAgcmV0dXJuICdib2R5JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYWdpJykge1xuICAgICAgICAgICAgcmV0dXJuICdhZ2lsaXR5JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0TmFtZS50b0xvd2VyQ2FzZSgpID09PSAncmVhJykge1xuICAgICAgICAgICAgcmV0dXJuICdyZWFjdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N0cicpIHtcbiAgICAgICAgICAgIHJldHVybiAnc3RyZW5ndGgnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHROYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdjaGEnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2NoYXJpc21hJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW50Jykge1xuICAgICAgICAgICAgcmV0dXJuICdpbnR1aXRpb24nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHROYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdsb2cnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2xvZ2ljJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnd2lsJykge1xuICAgICAgICAgICAgcmV0dXJuICd3aWxscG93ZXInO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHROYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdlZGcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2VkZ2UnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHROYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdtYWcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21hZ2ljJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0TmFtZS50b0xvd2VyQ2FzZSgpID09PSAncmVzJykge1xuICAgICAgICAgICAgcmV0dXJuICdyZXNvbmFuY2UnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGdldEFycmF5ID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiAgQ29udmVydHMgdGhlIGNodW1tZXIgYXR0cmlidXRlIHZhbHVlIHRvIG91ciBzcjUtZm91bmRyeSBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiAgQHBhcmFtIGF0dCB0aGUgY2h1bW1lciBhdHRyaWJ1dGVcbiAgICAgKi9cbiAgICBwYXJzZUF0dEJhc2VWYWx1ZSA9IChhdHQpID0+IHtcbiAgICAgICAgaWYgKGF0dC5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdlZGcnKSB7XG4gICAgICAgICAgICAvLyBUaGUgZWRnZSBhdHRyaWJ1dGUgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBcImJhc2VcIiBmaWVsZCBpbnN0ZWFkIG9mIHRoZSB0b3RhbCBmaWVsZFxuICAgICAgICAgICAgLy8gSW4gY2h1bW1lciwgdGhlIFwidG90YWxcIiBmaWVsZCBpcyB1c2VkIGZvciB0aGUgYW1vdW50IG9mIGVkZ2UgcmVtYWluaW5nIHRvIGEgY2hhcmFjdGVyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoYXR0LmJhc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGF0dC50b3RhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIGFjdG9yIGRhdGEgZnJvbSB0aGUgY2h1bW1lciBmaWxlIGFuZCByZXR1cm5zIGFuIHVwZGF0ZWQgY2xvbmUgb2YgdGhlIGFjdG9yIGRhdGEuXG4gICAgICogQHBhcmFtIHsqfSBhY3RvckRhdGEgVGhlIGFjdG9yIGRhdGEgKGFjdG9yLmRhdGEgbm90IGFjdG9yLmRhdGEuZGF0YSkgdGhhdCBpcyB1c2VkIGFzIHRoZSBiYXNpcyBmb3IgdGhlIGltcG9ydC4gV2lsbCBub3QgYmUgY2hhbmdlZC5cbiAgICAgKiBAcGFyYW0geyp9IGNodW1tZXJDaGFyIFRoZSBjaHVtbWVyIGNoYXJhY3RlciB0byBwYXJzZS5cbiAgICAgKi9cbiAgICB1cGRhdGUoYWN0b3JEYXRhLCBjaHVtbWVyQ2hhcikge1xuXG4gICAgICAgIGNvbnN0IGNsb25lZEFjdG9yRGF0YSA9IGR1cGxpY2F0ZShhY3RvckRhdGEpO1xuXG4gICAgICAgIC8vIE5hbWUgaXMgcmVxdWlyZWQsIHNvIHdlIG5lZWQgdG8gYWx3YXlzIHNldCBzb21ldGhpbmcgKGV2ZW4gaWYgdGhlIGNodW1tZXIgZmllbGQgaXMgZW1wdHkpXG4gICAgICAgIGNsb25lZEFjdG9yRGF0YS5uYW1lID0gY2h1bW1lckNoYXIuYWxpYXMgPyBjaHVtbWVyQ2hhci5hbGlhcyA6ICdbTmFtZSBub3QgZm91bmRdJztcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaW1wb3J0QmFzaWNEYXRhKGNsb25lZEFjdG9yRGF0YS5kYXRhLCBjaHVtbWVyQ2hhcik7XG4gICAgICAgIHRoaXMuaW1wb3J0QmlvKGNsb25lZEFjdG9yRGF0YS5kYXRhLCBjaHVtbWVyQ2hhcik7XG4gICAgICAgIHRoaXMuaW1wb3J0QXR0cmlidXRlcyhjbG9uZWRBY3RvckRhdGEuZGF0YSwgY2h1bW1lckNoYXIpXG4gICAgICAgIHRoaXMuaW1wb3J0SW5pdGlhdGl2ZShjbG9uZWRBY3RvckRhdGEuZGF0YSwgY2h1bW1lckNoYXIpO1xuICAgICAgICB0aGlzLmltcG9ydFNraWxscyhjbG9uZWRBY3RvckRhdGEuZGF0YSwgY2h1bW1lckNoYXIpO1xuXG4gICAgICAgIHJldHVybiBjbG9uZWRBY3RvckRhdGE7XG4gICAgfVxuXG4gICAgaW1wb3J0QmFzaWNEYXRhKGFjdG9yRGF0YURhdGEsIGNodW1tZXJDaGFyKSB7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci5wbGF5ZXJuYW1lKSB7XG4gICAgICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5wbGF5ZXJfbmFtZSA9IGNodW1tZXJDaGFyLnBsYXllcm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2h1bW1lckNoYXIuYWxpYXMpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLm5hbWUgPSBjaHVtbWVyQ2hhci5hbGlhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci5tZXRhdHlwZSkge1xuICAgICAgICAgICAgICAgIGFjdG9yRGF0YURhdGEubWV0YXR5cGUgPSBjaHVtbWVyQ2hhci5tZXRhdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci5zZXgpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLnNleCA9IGNodW1tZXJDaGFyLnNleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci5hZ2UpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLmFnZSA9IGNodW1tZXJDaGFyLmFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLmhlaWdodCA9IGNodW1tZXJDaGFyLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci53ZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLndlaWdodCA9IGNodW1tZXJDaGFyLndlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci5jYWxjdWxhdGVkc3RyZWV0Y3JlZCkge1xuICAgICAgICAgICAgICAgIGFjdG9yRGF0YURhdGEuc3RyZWV0X2NyZWQgPSBjaHVtbWVyQ2hhci5jYWxjdWxhdGVkc3RyZWV0Y3JlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci5jYWxjdWxhdGVkbm90b3JpZXR5KSB7XG4gICAgICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5ub3RvcmlldHkgPSBjaHVtbWVyQ2hhci5jYWxjdWxhdGVkbm90b3JpZXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNodW1tZXJDaGFyLmNhbGN1bGF0ZWRwdWJsaWNhd2FyZW5lc3MpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLnB1YmxpY19hd2FyZW5lc3MgPSBjaHVtbWVyQ2hhci5jYWxjdWxhdGVkcHVibGljYXdhcmVuZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNodW1tZXJDaGFyLmthcm1hKSB7XG4gICAgICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5rYXJtYS52YWx1ZSA9IGNodW1tZXJDaGFyLmthcm1hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNodW1tZXJDaGFyLnRvdGFsa2FybWEpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLmthcm1hLm1heCA9IGNodW1tZXJDaGFyLnRvdGFsa2FybWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2h1bW1lckNoYXIudGVjaG5vbWFuY2VyICYmIGNodW1tZXJDaGFyLnRlY2hub21hbmNlci50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLnNwZWNpYWwgPSAncmVzb25hbmNlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoY2h1bW1lckNoYXIubWFnaWNpYW4gJiYgY2h1bW1lckNoYXIubWFnaWNpYW4udG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB8fFxuICAgICAgICAgICAgICAgIChjaHVtbWVyQ2hhci5hZGVwdCAmJiBjaHVtbWVyQ2hhci5hZGVwdC50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLnNwZWNpYWwgPSAnbWFnaWMnO1xuICAgICAgICAgICAgICAgIGxldCBhdHRyID0gW107XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaHVtbWVyQ2hhci50cmFkaXRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgY2h1bW1lckNoYXIudHJhZGl0aW9uLmRyYWluYXR0cmlidXRlICYmXG4gICAgICAgICAgICAgICAgICAgIGNodW1tZXJDaGFyLnRyYWRpdGlvbi5kcmFpbmF0dHJpYnV0ZS5hdHRyXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHIgPSBjaHVtbWVyQ2hhci50cmFkaXRpb24uZHJhaW5hdHRyaWJ1dGUuYXR0cjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNodW1tZXJDaGFyLnRyYWRpdGlvbiAmJiBjaHVtbWVyQ2hhci50cmFkaXRpb24uZHJhaW5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHIgPSBjaHVtbWVyQ2hhci50cmFkaXRpb24uZHJhaW5hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJysnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdHRyLmZvckVhY2goKGF0dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHROYW1lID0gdGhpcy5wYXJzZUF0dE5hbWUoYXR0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dE5hbWUgIT09ICd3aWxscG93ZXInKSBhY3RvckRhdGFEYXRhLm1hZ2ljLmF0dHJpYnV0ZSA9IGF0dDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyQ2hhci50b3RhbGVzcykge1xuICAgICAgICAgICAgICAgIGFjdG9yRGF0YURhdGEuYXR0cmlidXRlcy5lc3NlbmNlLnZhbHVlID0gY2h1bW1lckNoYXIudG90YWxlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2h1bW1lckNoYXIubnV5ZW4pIHtcbiAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLm51eWVuID0gcGFyc2VJbnQoY2h1bW1lckNoYXIubnV5ZW4ucmVwbGFjZSgnLCcsICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdoaWxlIHBhcnNpbmcgY2hhcmFjdGVyIGluZm9ybWF0aW9uICR7ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltcG9ydEJpbyhhY3RvckRhdGFEYXRhLCBjaHVtbWVyQ2hhcikge1xuICAgICAgICBhY3RvckRhdGFEYXRhLmRlc2NyaXB0aW9uLnZhbHVlID0gJyc7XG5cbiAgICAgICAgLy8gQ2h1bW1lciBvdXRwdXRzIGh0bWwgYW5kIHdyYXBzIGV2ZXJ5IHNlY3Rpb24gaW4gPHA+IHRhZ3MsIFxuICAgICAgICAvLyBzbyB3ZSBqdXN0IGNvbmNhdCBldmVyeXRoaW5nIHdpdGggYW4gYWRkaXRpb25hbCBsaW5lYnJlYWsgaW4gYmV0d2VlblxuICAgICAgICBpZiAoY2h1bW1lckNoYXIuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGFjdG9yRGF0YURhdGEuZGVzY3JpcHRpb24udmFsdWUgKz0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKGNodW1tZXJDaGFyLmRlc2NyaXB0aW9uICsgJzxici8+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2h1bW1lckNoYXIuYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5kZXNjcmlwdGlvbi52YWx1ZSArPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoY2h1bW1lckNoYXIuYmFja2dyb3VuZCArICc8YnIvPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW1tZXJDaGFyLmNvbmNlcHQpIHtcbiAgICAgICAgICAgIGFjdG9yRGF0YURhdGEuZGVzY3JpcHRpb24udmFsdWUgKz0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKGNodW1tZXJDaGFyLmNvbmNlcHQgKyAnPGJyLz4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaHVtbWVyQ2hhci5ub3Rlcykge1xuICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5kZXNjcmlwdGlvbi52YWx1ZSArPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoY2h1bW1lckNoYXIubm90ZXMgKyAnPGJyLz4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltcG9ydEF0dHJpYnV0ZXMoYWN0b3JEYXRhRGF0YSwgY2h1bW1lckNoYXIpIHtcbiAgICAgICAgY29uc3QgYXR0cyA9IGNodW1tZXJDaGFyLmF0dHJpYnV0ZXNbMV0uYXR0cmlidXRlO1xuICAgICAgICBhdHRzLmZvckVhY2goKGF0dCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHROYW1lID0gdGhpcy5wYXJzZUF0dE5hbWUoYXR0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChhdHROYW1lKSB7IFxuICAgICAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLmF0dHJpYnV0ZXNbYXR0TmFtZV0uYmFzZSA9IHRoaXMucGFyc2VBdHRCYXNlVmFsdWUoYXR0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdoaWxlIHBhcnNpbmcgYXR0cmlidXRlcyAke2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGltcG9ydEluaXRpYXRpdmUoYWN0b3JEYXRhRGF0YSwgY2h1bW1lckNoYXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGFjdG9yRGF0YURhdGEubW9kaWZpZXJzLm1lYXRfaW5pdGlhdGl2ZSA9IGNodW1tZXJDaGFyLmluaXRib251cztcblxuICAgICAgICAgICAgLy8gJ2luaXRkaWNlJyBjb250YWlucyB0aGUgdG90YWwgYW1vdW50IG9mIGluaXRpYXRpdmUgZGljZSwgbm90IGp1c3QgdGhlIGJvbnVzLlxuICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5tb2RpZmllcnMubWVhdF9pbml0aWF0aXZlX2RpY2UgPSBjaHVtbWVyQ2hhci5pbml0ZGljZSAtIDE7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdoaWxlIHBhcnNpbmcgaW5pdGlhdGl2ZSAke2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbXBvcnRTa2lsbHMoYWN0b3JEYXRhRGF0YSwgY2h1bW1lckNoYXIpIHtcbiAgICAgICAgY29uc3QgY2h1bW1lclNraWxscyA9IGNodW1tZXJDaGFyLnNraWxscy5za2lsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVtbWVyU2tpbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNodW1tZXJTa2lsbCA9IGNodW1tZXJTa2lsbHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGNodW1tZXJTa2lsbC5yYXRpbmcgPiAwICYmIGNodW1tZXJTa2lsbC5pc2xhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkZXRlcm1pbmVkR3JvdXAgPSAnYWN0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZFNraWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSByYW5kb21JRCgxNik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVtbWVyU2tpbGwuaXNsYW5ndWFnZSAmJiBjaHVtbWVyU2tpbGwuaXNsYW5ndWFnZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFNraWxsID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RvckRhdGFEYXRhLnNraWxscy5sYW5ndWFnZS52YWx1ZVtpZF0gPSBwYXJzZWRTa2lsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGVybWluZWRHcm91cCA9ICdsYW5ndWFnZSc7XG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNodW1tZXJTa2lsbC5rbm93bGVkZ2UgJiYgY2h1bW1lclNraWxsLmtub3dsZWRnZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2h1bW1lclNraWxsLnNraWxsY2F0ZWdvcnlfZW5nbGlzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFNraWxsID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgY29ycmVjdCBrbm93bGVkZ2Ugc2tpbGwgY2F0ZWdvcnkgYW5kIGFzc2lnbiB0aGUgc2tpbGwgdG8gaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBza2lsbENhdGVnb3J5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ID0gY2F0ZWdvcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ID09PSAnc3RyZWV0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGxDYXRlZ29yeSA9IGFjdG9yRGF0YURhdGEuc2tpbGxzLmtub3dsZWRnZS5zdHJlZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdCA9PT0gJ2FjYWRlbWljJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGxDYXRlZ29yeSA9IGFjdG9yRGF0YURhdGEuc2tpbGxzLmtub3dsZWRnZS5hY2FkZW1pYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ID09PSAncHJvZmVzc2lvbmFsJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGxDYXRlZ29yeSA9IGFjdG9yRGF0YURhdGEuc2tpbGxzLmtub3dsZWRnZS5wcm9mZXNzaW9uYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdCA9PT0gJ2ludGVyZXN0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGxDYXRlZ29yeSA9IGFjdG9yRGF0YURhdGEuc2tpbGxzLmtub3dsZWRnZS5pbnRlcmVzdHMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraWxsQ2F0ZWdvcnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ2F0ZWdvcnlbaWRdID0gcGFyc2VkU2tpbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW1tZXJTa2lsbC5hdHRyaWJ1dGUudG9Mb3dlckNhc2UoKSA9PT0gJ2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5za2lsbHMua25vd2xlZGdlLnN0cmVldC52YWx1ZVtpZF0gPSBwYXJzZWRTa2lsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW1tZXJTa2lsbC5hdHRyaWJ1dGUudG9Mb3dlckNhc2UoKSA9PT0gJ2xvZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3JEYXRhRGF0YS5za2lsbHMua25vd2xlZGdlLnByb2Zlc3Npb25hbC52YWx1ZVtpZF0gPSBwYXJzZWRTa2lsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbmVkR3JvdXAgPSAna25vd2xlZGdlJztcbiAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGNodW1tZXJTa2lsbC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xccy9nLCAnXycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgJ18nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCdleG90aWMnKSAmJiBuYW1lLmluY2x1ZGVzKCdfd2VhcG9uJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgnX3dlYXBvbicsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAncGlsb3Rfd2F0ZXJjcmFmdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICdwaWxvdF93YXRlcl9jcmFmdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTa2lsbCA9IGFjdG9yRGF0YURhdGEuc2tpbGxzLmFjdGl2ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFNraWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGRuJ3QgcGFyc2Ugc2tpbGwgJHtjaHVtbWVyU2tpbGwubmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZFNraWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZXJtaW5lZEdyb3VwICE9PSAnYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTa2lsbC5uYW1lID0gY2h1bW1lclNraWxsLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTa2lsbC5iYXNlID0gcGFyc2VJbnQoY2h1bW1lclNraWxsLnJhdGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVtbWVyU2tpbGwuc2tpbGxzcGVjaWFsaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTa2lsbC5zcGVjcyA9IHRoaXMuZ2V0QXJyYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW1tZXJTa2lsbC5za2lsbHNwZWNpYWxpemF0aW9ucy5za2lsbHNwZWNpYWxpemF0aW9uLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRTa2lsbCA9IF9tZXJnZVdpdGhNaXNzaW5nU2tpbGxGaWVsZHMocGFyc2VkU2tpbGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuXG4iLCJpbXBvcnQgeyBwYXJzZURlc2NyaXB0aW9uLCBnZXRBcnJheSwgY3JlYXRlSXRlbURhdGEgfSBmcm9tIFwiLi9CYXNlUGFyc2VyRnVuY3Rpb25zLmpzXCJcblxuZXhwb3J0IGNsYXNzIENvbnRhY3RQYXJzZXIge1xuICAgIHBhcnNlQ29udGFjdHMoY2h1bW1lckNoYXIpIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNodW1tZXJDb250YWN0cyA9IGdldEFycmF5KGNodW1tZXJDaGFyLmNvbnRhY3RzLmNvbnRhY3QpO1xuICAgICAgICBjb25zdCBwYXJzZWRDb250YWN0cyA9IFtdO1xuXG4gICAgICAgIGNodW1tZXJDb250YWN0cy5mb3JFYWNoKChjaHVtbWVyQ29udGFjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHRoaXMucGFyc2VDb250YWN0KGNodW1tZXJDb250YWN0KTtcbiAgICAgICAgICAgICAgICBwYXJzZWRDb250YWN0cy5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcGFyc2VkQ29udGFjdHM7XG4gICAgfVxuXG4gICAgcGFyc2VDb250YWN0KGNodW1tZXJDb250YWN0KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS50eXBlID0gY2h1bW1lckNvbnRhY3Qucm9sZTtcblxuICAgICAgICAvLyBHcm91cCBjb250YWN0cyBhcmUgc3RvcmVkIGluIGNodW1tZXIgYXMgJ0dyb3VwKGNvbm5lY3Rpb25SYXRpbmcpJywgZS5nLiAnR3JvdXAoNSknXG4gICAgICAgIC8vIFdlIGhhbmRsZSBncm91cCBjb250YWN0cyBhcyBub3JtYWwgY29udGFjdHMgdW50aWwgdGhleSBhcmUgc3VwcG9ydGVkIGluIHRoZSBjb2RlYmFzZS5cbiAgICAgICAgaWYgKGNodW1tZXJDb250YWN0LmNvbm5lY3Rpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZ3JvdXAnKSkge1xuICAgICAgICAgICAgZGF0YS5jb25uZWN0aW9uID0gY2h1bW1lckNvbnRhY3QuY29ubmVjdGlvblxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ2dyb3VwKCcsICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKCcpJywgJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGF0YS5jb25uZWN0aW9uID0gY2h1bW1lckNvbnRhY3QuY29ubmVjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEubG95YWx0eSA9IGNodW1tZXJDb250YWN0LmxveWFsdHk7XG4gICAgICAgIGRhdGEuZmFtaWx5ID0gKGNodW1tZXJDb250YWN0LmZhbWlseS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpO1xuICAgICAgICBkYXRhLmJsYWNrbWFpbCA9IChjaHVtbWVyQ29udGFjdC5ibGFja21haWwudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKTtcbiAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHBhcnNlRGVzY3JpcHRpb24oY2h1bW1lckNvbnRhY3QpO1xuXG4gICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gY2h1bW1lckNvbnRhY3QubmFtZSA/IGNodW1tZXJDb250YWN0Lm5hbWUgOiAnW1VubmFtZWQgY29ubmVjdGlvbl0nO1xuICAgICAgICBjb25zdCBpdGVtRGF0YSA9IGNyZWF0ZUl0ZW1EYXRhKGl0ZW1OYW1lLCAnY29udGFjdCcsIGRhdGEpO1xuICAgICAgICByZXR1cm4gaXRlbURhdGE7XG4gICAgfVxufSIsImltcG9ydCB7IHBhcnNlRGVzY3JpcHRpb24sIGdldEFycmF5LCBwYXJzZVRlY2hub2xvZ3ksIGNyZWF0ZUl0ZW1EYXRhIH0gZnJvbSBcIi4vQmFzZVBhcnNlckZ1bmN0aW9ucy5qc1wiXG5cbmV4cG9ydCBjbGFzcyBDeWJlcndhcmVQYXJzZXIge1xuICAgXG4gICAgcGFyc2VDeWJlcndhcmVzKGNodW1tZXJDaGFyKSB7XG4gICAgICAgIGNvbnN0IGNodW1tZXJDeWJlcndhcmVzID0gZ2V0QXJyYXkoY2h1bW1lckNoYXIuY3liZXJ3YXJlcy5jeWJlcndhcmUpO1xuICAgICAgICBjb25zdCBwYXJzZWRDeWJlcndhcmUgPSBbXTtcbiAgICAgICAgY2h1bW1lckN5YmVyd2FyZXMuZm9yRWFjaCgoY2h1bW1lckN5YmVyKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gdGhpcy5wYXJzZUN5YmVyd2FyZShjaHVtbWVyQ3liZXIpO1xuICAgICAgICAgICAgICAgIHBhcnNlZEN5YmVyd2FyZS5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcGFyc2VkQ3liZXJ3YXJlO1xuICAgIH1cblxuICAgIHBhcnNlQ3liZXJ3YXJlKGNodW1tZXJDeWJlcikge1xuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSBwYXJzZURlc2NyaXB0aW9uKGNodW1tZXJDeWJlcik7XG4gICAgICAgIGRhdGEudGVjaG5vbG9neSA9IHBhcnNlVGVjaG5vbG9neShjaHVtbWVyQ3liZXIpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3liZXJ3YXJlIGhhcyBubyBlcXVpcHBlZCBmbGFnIGluIGNodW1tZXIgc28gaXQgY2Fubm90IGJlIHBhcnNlZCAtIHdlIGNvbnNpZGVyIGl0IGFzIGFsd2F5cyBlcXVpcHBlZFxuICAgICAgICBkYXRhLnRlY2hub2xvZ3kuZXF1aXBwZWQgPSB0cnVlO1xuICAgICAgICBkYXRhLmVzc2VuY2UgPSBjaHVtbWVyQ3liZXIuZXNzO1xuICAgICAgICBkYXRhLmdyYWRlID0gY2h1bW1lckN5YmVyLmdyYWRlO1xuXG4gICAgICAgIHJldHVybiBjcmVhdGVJdGVtRGF0YShjaHVtbWVyQ3liZXIubmFtZSwgJ2N5YmVyd2FyZScsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBnZXRBcnJheSB9IGZyb20gXCIuL0Jhc2VQYXJzZXJGdW5jdGlvbnMuanNcIlxuaW1wb3J0IHsgR2VhcnNQYXJzZXIgfSBmcm9tIFwiLi9nZWFySW1wb3J0L0dlYXJzUGFyc2VyXCJcbmltcG9ydCB7IEFybW9yUGFyc2VyIH0gZnJvbSBcIi4vQXJtb3JQYXJzZXJcIjtcbmltcG9ydCB7IEN5YmVyd2FyZVBhcnNlciB9IGZyb20gXCIuL0N5YmVyd2FyZVBhcnNlclwiO1xuaW1wb3J0IHsgUXVhbGl0eVBhcnNlciB9IGZyb20gXCIuL1F1YWxpdHlQYXJzZXJcIjtcbmltcG9ydCB7IFBvd2VyUGFyc2VyIH0gZnJvbSBcIi4vUG93ZXJQYXJzZXJcIjtcbmltcG9ydCB7IFNwZWxsUGFyc2VyIH0gZnJvbSBcIi4vU3BlbGxQYXJzZXJcIjtcbmltcG9ydCB7IFdlYXBvblBhcnNlciB9IGZyb20gXCIuL1dlYXBvblBhcnNlclwiO1xuaW1wb3J0IHsgTGlmZXN0eWxlUGFyc2VyIH0gZnJvbSBcIi4vTGlmZXN0eWxlUGFyc2VyXCI7XG5pbXBvcnQgeyBDb250YWN0UGFyc2VyIH0gZnJvbSBcIi4vQ29udGFjdFBhcnNlclwiO1xuXG4vKipcbiAqIFBhcnNlcyBhbGwgaXRlbXMgKHF1YWxpdGllcywgd2VhcG9ucywgZ2VhciwgLi4uKSBmcm9tIGEgY2h1bW1lciBjaGFyYWN0ZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBJdGVtc1BhcnNlciB7XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYWxsIGl0ZW1zIGZyb20gYSBjaHVtbWVyIGNoYXIgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGNvcnJlc3BvbmRpbmcgZm91bmRyeSBpdGVtcy5cbiAgICAgKiBAcGFyYW0geyp9IGNodW1tZXJDaGFyIFRoZSBjaHVtbWVyIGNoYXIgaG9sZGluZyB0aGUgaXRlbXNcbiAgICAgKiBAcGFyYW0geyp9IGltcG9ydE9wdGlvbnMgQWRkaXRpb25hbCBpbXBvcnQgb3B0aW9uIHRoYXQgc3BlY2lmeSB3aGF0IGl0ZW1zIHdpbGwgYmUgaW1wb3J0ZWQuXG4gICAgICovXG4gICAgcGFyc2UoY2h1bW1lckNoYXIsIGltcG9ydE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkSXRlbXMgPSBbXTtcblxuICAgICAgICBpZiAoaW1wb3J0T3B0aW9ucy5xdWFsaXRpZXMgJiYgY2h1bW1lckNoYXIucXVhbGl0aWVzICYmIGNodW1tZXJDaGFyLnF1YWxpdGllcy5xdWFsaXR5KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRRdWFsaXRpZXMgPSBuZXcgUXVhbGl0eVBhcnNlcigpLnBhcnNlUXVhbGl0aWVzKGNodW1tZXJDaGFyKTtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHBhcnNlZEl0ZW1zLCBwYXJzZWRRdWFsaXRpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGltcG9ydE9wdGlvbnMud2VhcG9ucyAmJiBjaHVtbWVyQ2hhci53ZWFwb25zICE9IG51bGwgJiYgY2h1bW1lckNoYXIud2VhcG9ucy53ZWFwb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkV2VhcG9ucyA9IG5ldyBXZWFwb25QYXJzZXIoKS5wYXJzZVdlYXBvbnMoY2h1bW1lckNoYXIpO1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocGFyc2VkSXRlbXMsIHBhcnNlZFdlYXBvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGltcG9ydE9wdGlvbnMuYXJtb3IgJiYgY2h1bW1lckNoYXIuYXJtb3JzICYmIGNodW1tZXJDaGFyLmFybW9ycy5hcm1vcikge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJtb3JzID0gbmV3IEFybW9yUGFyc2VyKCkucGFyc2VBcm1vcnMoY2h1bW1lckNoYXIpO1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocGFyc2VkSXRlbXMsIHBhcnNlZEFybW9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1wb3J0T3B0aW9ucy5jeWJlcndhcmUgJiYgY2h1bW1lckNoYXIuY3liZXJ3YXJlcyAmJiBjaHVtbWVyQ2hhci5jeWJlcndhcmVzLmN5YmVyd2FyZSkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQ3liZXJ3YXJlID0gbmV3IEN5YmVyd2FyZVBhcnNlcigpLnBhcnNlQ3liZXJ3YXJlcyhjaHVtbWVyQ2hhcik7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShwYXJzZWRJdGVtcywgcGFyc2VkQ3liZXJ3YXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbXBvcnRPcHRpb25zLnBvd2VycyAmJiBjaHVtbWVyQ2hhci5wb3dlcnMgJiYgY2h1bW1lckNoYXIucG93ZXJzLnBvd2VyKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRQb3dlcnMgPSBuZXcgUG93ZXJQYXJzZXIoKS5wYXJzZVBvd2VycyhjaHVtbWVyQ2hhcik7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShwYXJzZWRJdGVtcywgcGFyc2VkUG93ZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbXBvcnRPcHRpb25zLmVxdWlwbWVudCAmJiBjaHVtbWVyQ2hhci5nZWFycyAmJiBjaHVtbWVyQ2hhci5nZWFycy5nZWFyKSB7XG4gICAgICAgICAgICBjb25zdCBnZWFycyA9IGdldEFycmF5KGNodW1tZXJDaGFyLmdlYXJzLmdlYXIpO1xuICAgICAgICAgICAgY29uc3QgYWxsR2VhckRhdGEgPSBuZXcgR2VhcnNQYXJzZXIoKS5wYXJzZUdlYXJzKGdlYXJzKTtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHBhcnNlZEl0ZW1zLCBhbGxHZWFyRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1wb3J0T3B0aW9ucy5zcGVsbHMgJiYgY2h1bW1lckNoYXIuc3BlbGxzICYmIGNodW1tZXJDaGFyLnNwZWxscy5zcGVsbCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU3BlbGxzID0gbmV3IFNwZWxsUGFyc2VyKCkucGFyc2VTcGVsbHMoY2h1bW1lckNoYXIpO1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocGFyc2VkSXRlbXMsIHBhcnNlZFNwZWxscyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1wb3J0T3B0aW9ucy5jb250YWN0cyAmJiBjaHVtbWVyQ2hhci5jb250YWN0cyAmJiBjaHVtbWVyQ2hhci5jb250YWN0cy5jb250YWN0KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRDb250YWN0cyA9IG5ldyBDb250YWN0UGFyc2VyKCkucGFyc2VDb250YWN0cyhjaHVtbWVyQ2hhcik7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShwYXJzZWRJdGVtcywgcGFyc2VkQ29udGFjdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGltcG9ydE9wdGlvbnMubGlmZXN0eWxlcyAmJiBjaHVtbWVyQ2hhci5saWZlc3R5bGVzICYmIGNodW1tZXJDaGFyLmxpZmVzdHlsZXMubGlmZXN0eWxlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRMaWZlc3R5bGVzID0gbmV3IExpZmVzdHlsZVBhcnNlcigpLnBhcnNlTGlmZXN0eWxlcyhjaHVtbWVyQ2hhcik7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShwYXJzZWRJdGVtcywgcGFyc2VkTGlmZXN0eWxlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyc2VkSXRlbXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgcGFyc2VEZXNjcmlwdGlvbiwgZ2V0QXJyYXksIGNyZWF0ZUl0ZW1EYXRhIH0gZnJvbSBcIi4vQmFzZVBhcnNlckZ1bmN0aW9ucy5qc1wiXG5pbXBvcnQge1NSNX0gZnJvbSBcIi4uLy4uL2NvbmZpZ1wiXG5cbmV4cG9ydCBjbGFzcyBMaWZlc3R5bGVQYXJzZXIge1xuICAgIHBhcnNlTGlmZXN0eWxlcyhjaHVtbWVyQ2hhcikge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgY2h1bW1lckxpZmVzdHlsZSA9IGdldEFycmF5KGNodW1tZXJDaGFyLmxpZmVzdHlsZXMubGlmZXN0eWxlKTtcbiAgICAgICAgY29uc3QgcGFyc2VkTGlmZXN0eWxlID0gW107XG5cbiAgICAgICAgY2h1bW1lckxpZmVzdHlsZS5mb3JFYWNoKChjaHVtbWVyTGlmZXN0eWxlKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gdGhpcy5wYXJzZUxpZmVzdHlsZShjaHVtbWVyTGlmZXN0eWxlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRMaWZlc3R5bGUucHVzaChpdGVtRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcGFyc2VkTGlmZXN0eWxlO1xuICAgIH1cblxuICAgIHBhcnNlTGlmZXN0eWxlKGNodW1tZXJMaWZlc3R5bGUpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuXG4gICAgICAgIC8vIEFkdmFuY2VkIGxpZmVzdHlsZXMgYW5kIGxpZmVzdHlsZSBxdWFsaXRpZXMgYXJlIG5vdCBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudFxuICAgICAgICAvLyBNYXAgdGhlIGNodW1tZXIgbGlmZXN0eWxlIHR5cGUgdG8gb3VyIHNyNSBmb3VuZHJ5IHR5cGUuIFxuICAgICAgICBjb25zdCBjaHVtbWVyTGlmZXN0eWxlVHlwZSA9IGNodW1tZXJMaWZlc3R5bGUuYmFzZWxpZmVzdHlsZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoKGNodW1tZXJMaWZlc3R5bGVUeXBlIGluIFNSNS5saWZlc3R5bGVUeXBlcykpIHtcbiAgICAgICAgICAgIGRhdGEudHlwZSA9IGNodW1tZXJMaWZlc3R5bGVUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBvZiBhIHR5cG8gaW4gU1I1IGNvbmZpZy5cbiAgICAgICAgICAgIGlmIChjaHVtbWVyTGlmZXN0eWxlVHlwZSA9PT0gJ2x1eHVyeScpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnR5cGUgPSAnbHV4b3J5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEudHlwZSA9ICdvdGhlcic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmNvc3QgPSBjaHVtbWVyTGlmZXN0eWxlLnRvdGFsbW9udGhseWNvc3Q7XG4gICAgICAgIGRhdGEucGVybWFuZW50ID0gY2h1bW1lckxpZmVzdHlsZS5wdXJjaGFzZWQ7XG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSBwYXJzZURlc2NyaXB0aW9uKGNodW1tZXJMaWZlc3R5bGUpO1xuXG4gICAgICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBsaWZlc3R5bGUgaXMgb3B0aW9uYWwsIHNvIHdlIHVzZSBhIGZhbGxiYWNrIGhlcmUuXG4gICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gY2h1bW1lckxpZmVzdHlsZS5uYW1lID8gY2h1bW1lckxpZmVzdHlsZS5uYW1lIDogY2h1bW1lckxpZmVzdHlsZS5iYXNlbGlmZXN0eWxlO1xuICAgICAgICBjb25zdCBpdGVtRGF0YSA9IGNyZWF0ZUl0ZW1EYXRhKGl0ZW1OYW1lLCAnbGlmZXN0eWxlJywgZGF0YSk7XG4gICAgICAgIHJldHVybiBpdGVtRGF0YTtcbiAgICB9XG59IiwiaW1wb3J0IHsgcGFyc2VEZXNjcmlwdGlvbiwgZ2V0QXJyYXksIGNyZWF0ZUl0ZW1EYXRhIH0gZnJvbSBcIi4vQmFzZVBhcnNlckZ1bmN0aW9ucy5qc1wiXG5cbmV4cG9ydCBjbGFzcyBQb3dlclBhcnNlciB7XG5cbiAgICBwYXJzZVBvd2VycyhjaHVtbWVyQ2hhcikge1xuICAgICAgICBjb25zdCBwb3dlcnMgPSBnZXRBcnJheShjaHVtbWVyQ2hhci5wb3dlcnMucG93ZXIpO1xuICAgICAgICBjb25zdCBwYXJzZWRQb3dlcnMgPSBbXTtcblxuICAgICAgICBwb3dlcnMuZm9yRWFjaCgoY2h1bW1lclBvd2VyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHRoaXMucGFyc2VQb3dlcihjaHVtbWVyUG93ZXIpO1xuICAgICAgICAgICAgcGFyc2VkUG93ZXJzLnB1c2goaXRlbURhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcGFyc2VkUG93ZXJzO1xuICAgIH1cblxuICAgIHBhcnNlUG93ZXIoY2h1bW1lclBvd2VyKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHBhcnNlRGVzY3JpcHRpb24oY2h1bW1lclBvd2VyKTtcblxuICAgICAgICBkYXRhLmxldmVsID0gcGFyc2VJbnQoY2h1bW1lclBvd2VyLnJhdGluZyk7XG4gICAgICAgIGRhdGEucHAgPSBwYXJzZUZsb2F0KGNodW1tZXJQb3dlci50b3RhbHBvaW50cyk7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gY3JlYXRlSXRlbURhdGEoY2h1bW1lclBvd2VyLmZ1bGxuYW1lLCAnYWRlcHRfcG93ZXInLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1EYXRhO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBwYXJzZURlc2NyaXB0aW9uLCBnZXRBcnJheSwgY3JlYXRlSXRlbURhdGEgfSBmcm9tIFwiLi9CYXNlUGFyc2VyRnVuY3Rpb25zLmpzXCJcbmltcG9ydCB7IERlZmF1bHRWYWx1ZXMgfSBmcm9tIFwiLi4vLi4vZGF0YVRlbXBsYXRlc1wiO1xuXG5leHBvcnQgY2xhc3MgUXVhbGl0eVBhcnNlciB7XG4gICBcbiAgICBwYXJzZVF1YWxpdGllcyhjaHVtbWVyQ2hhcikge1xuICAgICAgICBjb25zdCBxdWFsaXRpZXMgPSBnZXRBcnJheShjaHVtbWVyQ2hhci5xdWFsaXRpZXMucXVhbGl0eSk7XG4gICAgICAgIGNvbnN0IHBhcnNlZFF1YWxpdGllcyA9IFtdO1xuXG4gICAgICAgIHF1YWxpdGllcy5mb3JFYWNoKChjaHVtbWVyUXVhbGl0eSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHRoaXMucGFyc2VRdWFsaXR5KGNodW1tZXJRdWFsaXR5KTtcbiAgICAgICAgICAgICAgICBwYXJzZWRRdWFsaXRpZXMucHVzaChpdGVtRGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlZFF1YWxpdGllcztcbiAgICB9XG5cbiAgICBwYXJzZVF1YWxpdHkoY2h1bW1lclF1YWxpdHkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IERlZmF1bHRWYWx1ZXMucXVhbGl0eURhdGEoKTtcbiAgICAgICAgZGF0YS50eXBlID0gY2h1bW1lclF1YWxpdHkucXVhbGl0eXR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHBhcnNlRGVzY3JpcHRpb24oY2h1bW1lclF1YWxpdHkpO1xuXG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gY3JlYXRlSXRlbURhdGEoY2h1bW1lclF1YWxpdHkubmFtZSwgJ3F1YWxpdHknLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1EYXRhO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBwYXJzZURlc2NyaXB0aW9uLCBnZXRBcnJheSwgY3JlYXRlSXRlbURhdGEgfSBmcm9tIFwiLi9CYXNlUGFyc2VyRnVuY3Rpb25zLmpzXCJcblxuZXhwb3J0IGNsYXNzIFNwZWxsUGFyc2VyIHtcbiAgICBwYXJzZVNwZWxscyhjaHVtbWVyQ2hhcikge1xuICAgICAgICBjb25zdCBzcGVsbHMgPSBnZXRBcnJheShjaHVtbWVyQ2hhci5zcGVsbHMuc3BlbGwpO1xuICAgICAgICBjb25zdCBwYXJzZWRTcGVsbHMgPSBbXTtcbiAgICAgICAgc3BlbGxzLmZvckVhY2goKGNodW1tZXJTcGVsbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoY2h1bW1lclNwZWxsLmFsY2hlbXkudG9Mb3dlckNhc2UoKSAhPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gdGhpcy5wYXJzZVNwZWxsKGNodW1tZXJTcGVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFNwZWxscy5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlZFNwZWxscztcbiAgICB9XG5cbiAgICBwYXJzZVNwZWxsKGNodW1tZXJTcGVsbCkge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSB7fTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLmFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgZGF0YS5jYXRlZ29yeSA9IGNodW1tZXJTcGVsbC5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnXycpO1xuICAgICAgICBkYXRhLm5hbWUgPSBjaHVtbWVyU3BlbGwubmFtZTtcbiAgICAgICAgZGF0YS50eXBlID0gY2h1bW1lclNwZWxsLnR5cGUgPT09ICdNJyA/ICdtYW5hJyA6ICdwaHlzaWNhbCc7XG4gICAgICAgIGRhdGEucmFuZ2UgPVxuICAgICAgICAgICAgY2h1bW1lclNwZWxsLnJhbmdlID09PSAnVCdcbiAgICAgICAgICAgICAgICA/ICd0b3VjaCdcbiAgICAgICAgICAgICAgICA6IGNodW1tZXJTcGVsbC5yYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMvZywgJ18nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJygnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCcpJywgJycpO1xuICAgICAgICBkYXRhLmRyYWluID0gcGFyc2VJbnQoY2h1bW1lclNwZWxsLmR2LnJlcGxhY2UoJ0YnLCAnJykpO1xuICAgICAgICBkYXRhLmRlc2NyaXB0aW9uID0gcGFyc2VEZXNjcmlwdGlvbihjaHVtbWVyU3BlbGwpO1xuXG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICBpZiAoY2h1bW1lclNwZWxsLmRlc2NyaXB0b3JzKSBkZXNjcmlwdGlvbiA9IGNodW1tZXJTcGVsbC5kZXNjcmlwdG9ycztcbiAgICAgICAgaWYgKGNodW1tZXJTcGVsbC5kZXNjcmlwdGlvbikgZGVzY3JpcHRpb24gKz0gYFxcbiR7Y2h1bW1lclNwZWxsLmRlc2NyaXB0aW9ufWA7XG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24udmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoZGVzY3JpcHRpb24pO1xuXG4gICAgICAgIGlmIChjaHVtbWVyU3BlbGwuZHVyYXRpb24udG9Mb3dlckNhc2UoKSA9PT0gJ3MnKSBkYXRhLmR1cmF0aW9uID0gJ3N1c3RhaW5lZCc7XG4gICAgICAgIGVsc2UgaWYgKGNodW1tZXJTcGVsbC5kdXJhdGlvbi50b0xvd2VyQ2FzZSgpID09PSAnaScpXG4gICAgICAgICAgICBkYXRhLmR1cmF0aW9uID0gJ2luc3RhbnQnO1xuICAgICAgICBlbHNlIGlmIChjaHVtbWVyU3BlbGwuZHVyYXRpb24udG9Mb3dlckNhc2UoKSA9PT0gJ3AnKVxuICAgICAgICAgICAgZGF0YS5kdXJhdGlvbiA9ICdwZXJtYW5lbnQnO1xuXG4gICAgICAgIGFjdGlvbi50eXBlID0gJ3Zhcmllcyc7XG4gICAgICAgIGFjdGlvbi5za2lsbCA9ICdzcGVsbGNhc3RpbmcnO1xuICAgICAgICBhY3Rpb24uYXR0cmlidXRlID0gJ21hZ2ljJztcblxuICAgICAgICBpZiAoY2h1bW1lclNwZWxsLmRlc2NyaXB0b3JzKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjID0gY2h1bW1lclNwZWxsLmRlc2NyaXB0b3JzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoY2h1bW1lclNwZWxsLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09ICdjb21iYXQnKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jb21iYXQgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5pbmNsdWRlcygnZGlyZWN0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5jb21iYXQudHlwZSA9ICdpbmRpcmVjdCc7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RlZmVuc2UnLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY29tYmF0LnR5cGUgPSAnZGlyZWN0JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ21hbmEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICd3aWxscG93ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdwaHlzaWNhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ2JvZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyU3BlbGwuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gJ2RldGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmRldGVjdGlvbiA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gZGVzYy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIHNwbGl0LmZvckVhY2goKHRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW4gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW4ucmVwbGFjZSgnIGRldGVjdGlvbiBzcGVsbCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJ2FyZWEnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5pbmNsdWRlcygncGFzc2l2ZScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXRlY3Rpb24ucGFzc2l2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLmluY2x1ZGVzKCdhY3RpdmUnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGV0ZWN0aW9uLnBhc3NpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRldGVjdGlvbi50eXBlID0gdG9rZW4udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZGV0ZWN0aW9uLnBhc3NpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm9wcG9zZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ3dpbGxwb3dlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnbG9naWMnLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyU3BlbGwuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gJ2lsbHVzaW9uJykge1xuICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24gPSB7fTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IGRlc2Muc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICBzcGxpdC5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuLnJlcGxhY2UoJyBpbGx1c2lvbiBzcGVsbCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJ2FyZWEnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5pbmNsdWRlcygnc2Vuc2UnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24uc2Vuc2UgPSB0b2tlbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24udHlwZSA9IHRva2VuLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ21hbmEnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICd3aWxscG93ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJ2xvZ2ljJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnaW50dWl0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICdsb2dpYycsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNodW1tZXJTcGVsbC5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSAnbWFuaXB1bGF0aW9uJykge1xuICAgICAgICAgICAgICAgIGRhdGEubWFuaXB1bGF0aW9uID0ge307XG4gICAgICAgICAgICAgICAgaWYgKGRlc2MuaW5jbHVkZXMoJ2Vudmlyb25tZW50YWwnKSlcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYW5pcHVsYXRpb24uZW52aXJvbm1lbnRhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGRlc2MuaW5jbHVkZXMoJ3BoeXNpY2FsJykpXG4gICAgICAgICAgICAgICAgICAgIGRhdGEubWFuaXB1bGF0aW9uLnBoeXNpY2FsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5pbmNsdWRlcygnbWVudGFsJykpXG4gICAgICAgICAgICAgICAgICAgIGRhdGEubWFuaXB1bGF0aW9uLm1lbnRhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBmaWd1cmUgb3V0IGhvdyB0byBwYXJzZSBkYW1hZ2luZ1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWFuaXB1bGF0aW9uLm1lbnRhbCkge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnd2lsbHBvd2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICdsb2dpYycsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5waHlzaWNhbCkge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnYm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnc3RyZW5ndGgnLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcmVhdGVJdGVtRGF0YShjaHVtbWVyU3BlbGwubmFtZSwgJ3NwZWxsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IHBhcnNlRGVzY3JpcHRpb24sIGdldEFycmF5LCBnZXRWYWx1ZXMsIHBhcnNlVGVjaG5vbG9neSwgY3JlYXRlSXRlbURhdGEgfSBmcm9tIFwiLi9CYXNlUGFyc2VyRnVuY3Rpb25zLmpzXCJcblxuZXhwb3J0IGNsYXNzIFdlYXBvblBhcnNlciB7XG4gICAgcGFyc2VEYW1hZ2UgPSAodmFsKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhbWFnZSA9IHtcbiAgICAgICAgICAgIGRhbWFnZTogMCxcbiAgICAgICAgICAgIHR5cGU6ICdwaHlzaWNhbCcsXG4gICAgICAgICAgICByYWRpdXM6IDAsXG4gICAgICAgICAgICBkcm9wb2ZmOiAwLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzcGxpdCA9IHZhbC5zcGxpdCgnLCcpO1xuICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbCA9IHNwbGl0WzBdLm1hdGNoKC8oXFxkKykoXFx3KykvKTtcbiAgICAgICAgICAgIGlmIChsICYmIGxbMV0pIGRhbWFnZS5kYW1hZ2UgPSBwYXJzZUludChsWzFdKTtcbiAgICAgICAgICAgIGlmIChsICYmIGxbMl0pIGRhbWFnZS50eXBlID0gbFsyXSA9PT0gJ1AnID8gJ3BoeXNpY2FsJyA6ICdzdHVuJztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNwbGl0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsID0gc3BsaXRbaV0ubWF0Y2goLygtP1xcZCspKC4qKS8pO1xuICAgICAgICAgICAgaWYgKGwgJiYgbFsyXSkge1xuICAgICAgICAgICAgICAgIGlmIChsWzJdLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJy9tJykpIGRhbWFnZS5kcm9wb2ZmID0gcGFyc2VJbnQobFsxXSk7XG4gICAgICAgICAgICAgICAgZWxzZSBkYW1hZ2UucmFkaXVzID0gcGFyc2VJbnQobFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhbWFnZTtcbiAgICB9O1xuXG4gICAgcGFyc2VXZWFwb25zKGNodW1tZXJDaGFyKSB7XG4gICAgICAgIGNvbnN0IHdlYXBvbnMgPSBnZXRBcnJheShjaHVtbWVyQ2hhci53ZWFwb25zLndlYXBvbik7XG4gICAgICAgIGNvbnN0IHBhcnNlZFdlYXBvbnMgPSBbXTtcblxuICAgICAgICB3ZWFwb25zLmZvckVhY2goKGNodW1tZXJXZWFwb24pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB0aGlzLnBhcnNlV2VhcG9uKGNodW1tZXJXZWFwb24pO1xuICAgICAgICAgICAgICAgIHBhcnNlZFdlYXBvbnMucHVzaChpdGVtRGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHJldHVybiBwYXJzZWRXZWFwb25zO1xuICAgIH1cblxuICAgIHBhcnNlV2VhcG9uKGNodW1tZXJXZWFwb24pIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBjb25zdCBhY3Rpb24gPSB7fTtcbiAgICAgICAgY29uc3QgZGFtYWdlID0ge307XG4gICAgICAgIGFjdGlvbi5kYW1hZ2UgPSBkYW1hZ2U7XG4gICAgICAgIGRhdGEuYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSBwYXJzZURlc2NyaXB0aW9uKGNodW1tZXJXZWFwb24pO1xuICAgICAgICBkYXRhLnRlY2hub2xvZ3kgPSBwYXJzZVRlY2hub2xvZ3koY2h1bW1lcldlYXBvbik7XG5cbiAgICAgICAgZGFtYWdlLmFwID0ge1xuICAgICAgICAgICAgYmFzZTogcGFyc2VJbnQoZ2V0VmFsdWVzKGNodW1tZXJXZWFwb24uYXApWzBdKVxuICAgICAgICB9O1xuICAgICAgICBhY3Rpb24udHlwZSA9ICd2YXJpZXMnO1xuICAgICAgICBpZiAoY2h1bW1lcldlYXBvbi5za2lsbClcbiAgICAgICAgICAgIGFjdGlvbi5za2lsbCA9IGNodW1tZXJXZWFwb24uc2tpbGwudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJ18nKTtcbiAgICAgICAgZWxzZSBpZiAoY2h1bW1lcldlYXBvbi5jYXRlZ29yeSAmJiBjaHVtbWVyV2VhcG9uLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2V4b3RpYycpKVxuICAgICAgICAgICAgYWN0aW9uLnNraWxsID0gY2h1bW1lcldlYXBvbi5jYXRlZ29yeVxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJyB3ZWFwb25zJywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xccy9nLCAnXycpO1xuICAgICAgICBpZiAoYWN0aW9uLnNraWxsLmluY2x1ZGVzKCdleG90aWMnKSlcbiAgICAgICAgICAgIGFjdGlvbi5za2lsbCA9IGFjdGlvbi5za2lsbC5yZXBsYWNlKCdfd2VhcG9uJywgJycpO1xuICAgICAgICBhY3Rpb24uYXR0cmlidXRlID0gJ2FnaWxpdHknO1xuICAgICAgICBhY3Rpb24ubGltaXQgPSB7XG4gICAgICAgICAgICBiYXNlOiBwYXJzZUludChnZXRWYWx1ZXMoY2h1bW1lcldlYXBvbi5hY2N1cmFjeSlbMF0pXG4gICAgICAgIH07XG4gICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xuICAgICAgICAgICAgdHlwZTogJ2RlZmVuc2UnLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjaHVtbWVyV2VhcG9uLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ21lbGVlJykge1xuICAgICAgICAgICAgYWN0aW9uLnR5cGUgPSAnY29tcGxleCc7XG4gICAgICAgICAgICBkYXRhLmNhdGVnb3J5ID0gJ21lbGVlJztcbiAgICAgICAgICAgIGNvbnN0IG1lbGVlID0ge307XG4gICAgICAgICAgICBkYXRhLm1lbGVlID0gbWVsZWU7XG4gICAgICAgICAgICBtZWxlZS5yZWFjaCA9IHBhcnNlSW50KGNodW1tZXJXZWFwb24ucmVhY2gpO1xuICAgICAgICB9IGVsc2UgaWYgKGNodW1tZXJXZWFwb24udHlwZS50b0xvd2VyQ2FzZSgpID09PSAncmFuZ2VkJykge1xuICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9ICdyYW5nZSc7XG4gICAgICAgICAgICBpZiAoY2h1bW1lcldlYXBvbi5za2lsbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0aHJvdycpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9ICd0aHJvd24nOyAvLyBUT0RPIGNsZWFuIHRoaXMgdXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0ge307XG4gICAgICAgICAgICBkYXRhLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgICAgICByYW5nZS5yYyA9IHtcbiAgICAgICAgICAgICAgICBiYXNlOiBwYXJzZUludChnZXRWYWx1ZXMoY2h1bW1lcldlYXBvbi5yYylbMF0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjaHVtbWVyV2VhcG9uLm1vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBIZXJvTGFiIGV4cG9ydCBkb2Vzbid0IGhhdmUgbW9kZVxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyID0gY2h1bW1lcldlYXBvbi5tb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UubW9kZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZV9zaG90OiBsb3dlci5pbmNsdWRlcygnc3MnKSxcbiAgICAgICAgICAgICAgICAgICAgc2VtaV9hdXRvOiBsb3dlci5pbmNsdWRlcygnc2EnKSxcbiAgICAgICAgICAgICAgICAgICAgYnVyc3RfZmlyZTogbG93ZXIuaW5jbHVkZXMoJ2JmJyksXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxfYXV0bzogbG93ZXIuaW5jbHVkZXMoJ2ZhJyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVtbWVyV2VhcG9uLmNsaXBzICE9IG51bGwgJiYgY2h1bW1lcldlYXBvbi5jbGlwcy5jbGlwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBIZXJvTGFiIGV4cG9ydCBkb2Vzbid0IGhhdmUgY2xpcHNcbiAgICAgICAgICAgICAgICBjb25zdCBjbGlwcyA9IEFycmF5LmlzQXJyYXkoY2h1bW1lcldlYXBvbi5jbGlwcy5jbGlwKVxuICAgICAgICAgICAgICAgICAgICA/IGNodW1tZXJXZWFwb24uY2xpcHMuY2xpcFxuICAgICAgICAgICAgICAgICAgICA6IFtjaHVtbWVyV2VhcG9uLmNsaXBzLmNsaXBdO1xuICAgICAgICAgICAgICAgIGNsaXBzLmZvckVhY2goKGNsaXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2xpcCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2h1bW1lcldlYXBvbi5yYW5nZXMgJiZcbiAgICAgICAgICAgICAgICBjaHVtbWVyV2VhcG9uLnJhbmdlcy5zaG9ydCAmJlxuICAgICAgICAgICAgICAgIGNodW1tZXJXZWFwb24ucmFuZ2VzLm1lZGl1bSAmJlxuICAgICAgICAgICAgICAgIGNodW1tZXJXZWFwb24ucmFuZ2VzLmxvbmcgJiZcbiAgICAgICAgICAgICAgICBjaHVtbWVyV2VhcG9uLnJhbmdlcy5leHRyZW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2h1bW1lcldlYXBvbi5yYW5nZXMpO1xuICAgICAgICAgICAgICAgIHJhbmdlLnJhbmdlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvcnQ6IHBhcnNlSW50KGNodW1tZXJXZWFwb24ucmFuZ2VzLnNob3J0LnNwbGl0KCctJylbMV0pLFxuICAgICAgICAgICAgICAgICAgICBtZWRpdW06IHBhcnNlSW50KGNodW1tZXJXZWFwb24ucmFuZ2VzLm1lZGl1bS5zcGxpdCgnLScpWzFdKSxcbiAgICAgICAgICAgICAgICAgICAgbG9uZzogcGFyc2VJbnQoY2h1bW1lcldlYXBvbi5yYW5nZXMubG9uZy5zcGxpdCgnLScpWzFdKSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmVtZTogcGFyc2VJbnQoY2h1bW1lcldlYXBvbi5yYW5nZXMuZXh0cmVtZS5zcGxpdCgnLScpWzFdKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETyBmaWd1cmUgb3V0IGhvdyB0byBhZGQgbW9kcyB0byB3ZWFwb25zXG4gICAgICAgICAgICAvLyBpZiAody5hY2Nlc3NvcmllcyAmJiB3LmFjY2Vzc29yaWVzLmFjY2Vzc29yeSkge1xuICAgICAgICAgICAgLy8gICAgIHJhbmdlLm1vZHMgPSBbXTtcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBhY2Nlc3NvcmllcyA9IGdldEFycmF5KHcuYWNjZXNzb3JpZXMuYWNjZXNzb3J5KTtcbiAgICAgICAgICAgIC8vICAgICBhY2Nlc3Nvcmllcy5mb3JFYWNoKChhKSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICByYW5nZS5tb2RzLnB1c2goe1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG5hbWU6IGEubmFtZSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2h1bW1lcldlYXBvbi50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICd0aHJvd24nKSB7XG4gICAgICAgICAgICBkYXRhLmNhdGVnb3J5ID0gJ3Rocm93bic7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgcmF3IGRhbWFnZSBpZiBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBkID0gdGhpcy5wYXJzZURhbWFnZShjaHVtbWVyV2VhcG9uLmRhbWFnZV9lbmdsaXNoKTtcbiAgICAgICAgICAgIGRhbWFnZS5iYXNlID0gZC5kYW1hZ2U7XG4gICAgICAgICAgICBkYW1hZ2UudHlwZSA9IHt9O1xuICAgICAgICAgICAgZGFtYWdlLnR5cGUuYmFzZSA9IGQudHlwZTtcbiAgICAgICAgICAgIGlmIChkLmRyb3BvZmYgfHwgZC5yYWRpdXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aHJvd24gPSB7fTtcbiAgICAgICAgICAgICAgICBkYXRhLnRocm93biA9IHRocm93bjtcbiAgICAgICAgICAgICAgICB0aHJvd24uYmxhc3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogZC5yYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIGRyb3BvZmY6IGQuZHJvcG9mZixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSBjcmVhdGVJdGVtRGF0YShjaHVtbWVyV2VhcG9uLm5hbWUsICd3ZWFwb24nLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1EYXRhO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlR2VhclBhcnNlciB9IGZyb20gXCIuL0Jhc2VHZWFyUGFyc2VyXCJcblxuLyoqXG4gKiBQYXJzZXMgYW1tdW5pdGlvblxuICovXG5leHBvcnQgY2xhc3MgQW1tb1BhcnNlciBleHRlbmRzIEJhc2VHZWFyUGFyc2VyIHtcbiAgIFxuICAgIHBhcnNlKGNodW1tZXJHZWFyIDogYW55KSA6IGFueSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZEdlYXIgPSAgc3VwZXIucGFyc2UoY2h1bW1lckdlYXIpO1xuICAgICAgICBwYXJzZWRHZWFyLnR5cGUgPSAnYW1tbyc7XG5cbiAgICAgICAgaWYgKGNodW1tZXJHZWFyLndlYXBvbmJvbnVzYXApIHtcbiAgICAgICAgICAgIHBhcnNlZEdlYXIuZGF0YS5hcCA9IHBhcnNlSW50KGNodW1tZXJHZWFyLndlYXBvbmJvbnVzYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW1tZXJHZWFyLndlYXBvbmJvbnVzZGFtYWdlKSB7XG4gICAgICAgICAgICBwYXJzZWRHZWFyLmRhdGEuZGFtYWdlID0gcGFyc2VJbnQoY2h1bW1lckdlYXIud2VhcG9uYm9udXNkYW1hZ2UpO1xuXG4gICAgICAgICAgICBpZiAoY2h1bW1lckdlYXIud2VhcG9uYm9udXNkYW1hZ2UuaW5jbHVkZXMoJ1AnKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZEdlYXIuZGF0YS5kYW1hZ2VUeXBlID0gJ3BoeXNpY2FsJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bW1lckdlYXIud2VhcG9uYm9udXNkYW1hZ2UuaW5jbHVkZXMoJ1MnKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZEdlYXIuZGF0YS5kYW1hZ2VUeXBlID0gJ3N0dW4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaHVtbWVyR2Vhci53ZWFwb25ib251c2RhbWFnZS5pbmNsdWRlcygnTScpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkR2Vhci5kYXRhLmRhbWFnZVR5cGUgPSAnbWF0cml4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnNlZEdlYXIuZGF0YS5kYW1hZ2VUeXBlID0gJ3BoeXNpY2FsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJzZWRHZWFyO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBEZWZhdWx0VmFsdWVzIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGFUZW1wbGF0ZXNcIjtcbmltcG9ydCB7IHBhcnNlRGVzY3JpcHRpb24sIGdldEFycmF5LCBnZXRWYWx1ZXMsIHBhcnNlVGVjaG5vbG9neSwgY3JlYXRlSXRlbURhdGEgfSBmcm9tIFwiLi4vQmFzZVBhcnNlckZ1bmN0aW9ucy5qc1wiXG5cbmltcG9ydCBFcXVpcG1lbnQgPSBTaGFkb3dydW4uRXF1aXBtZW50O1xuXG4vKipcbiAqIFBhcnNlcyBhIGNlcnRhaW4gY2xhc3Mgb2YgZ2VhciAoZGVwZW5kaW5nIG9uIHRoZSBpbXBsZW1lbnRhdGlvbikuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VhclBhcnNlciB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgZ2VhciBlbnRyeSBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBmb3VuZHJ5IHNyIGl0ZW0gZGF0YS5cbiAgICAgKiBAcGFyYW0gY2h1bW1lckdlYXIgQSBjaHVtbWVyIGdlYXIgZW50cnlcbiAgICAgKi9cbiAgICBwYXJzZShjaHVtbWVyR2VhciA6IGFueSkgOiBhbnlcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgZ2VhciBwYXJzZXJzLiBQYXJzZXMgY29tbW9uIGluZm9ybWF0aW9uIGFjcm9zcyBhbGwgZ2Vhci5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VHZWFyUGFyc2VyIGltcGxlbWVudHMgR2VhclBhcnNlciB7XG4gICAgcGFyc2UoY2h1bW1lckdlYXIgOiBhbnkpIDogYW55IHtcbiAgICAgICAgY29uc3QgcGFyc2VkR2VhciA9IHRoaXMuZ2V0RGVmYXVsdERhdGEoKTtcbiAgICAgICAgcGFyc2VkR2Vhci5uYW1lID0gY2h1bW1lckdlYXIubmFtZTtcbiAgICAgICAgaWYgKGNodW1tZXJHZWFyLmV4dHJhKVxuICAgICAgICB7XG4gICAgICAgICAgICBwYXJzZWRHZWFyLm5hbWUgKz0gYCAoJHtjaHVtbWVyR2Vhci5leHRyYX0pYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZEdlYXIuZGF0YS50ZWNobm9sb2d5ID0gcGFyc2VUZWNobm9sb2d5KGNodW1tZXJHZWFyKTtcbiAgICAgICAgcGFyc2VkR2Vhci5kYXRhLmRlc2NyaXB0aW9uID0gcGFyc2VEZXNjcmlwdGlvbihjaHVtbWVyR2Vhcik7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlZEdlYXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0RGF0YSgpIDogRXF1aXBtZW50IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgX2lkOiAnJyxcbiAgICAgICAgICAgIGZvbGRlcjogJycsXG4gICAgICAgICAgICBmbGFnczoge30sXG4gICAgICAgICAgICBpbWc6ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyxcbiAgICAgICAgICAgIHR5cGU6ICdlcXVpcG1lbnQnLFxuICAgICAgICAgICAgZGF0YTogRGVmYXVsdFZhbHVlcy5lcXVpcG1lbnREYXRhKCksXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgeyBCYXNlR2VhclBhcnNlciB9IGZyb20gXCIuL0Jhc2VHZWFyUGFyc2VyXCJcblxuLyoqXG4gKiBQYXJzZXMgZGV2aWNlcyAoY29tbWxpbmtzIGFuZCBkZWNrcylcbiAqL1xuZXhwb3J0IGNsYXNzIERldmljZVBhcnNlciBleHRlbmRzIEJhc2VHZWFyUGFyc2VyIHtcbiAgIFxuICAgIHBhcnNlKGNodW1tZXJHZWFyIDogYW55KSA6IGFueSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZEdlYXIgPSAgc3VwZXIucGFyc2UoY2h1bW1lckdlYXIpO1xuICAgICAgICBwYXJzZWRHZWFyLnR5cGUgPSAnZGV2aWNlJztcbiAgICAgICAgcGFyc2VkR2Vhci5kYXRhLnRlY2hub2xvZ3kucmF0aW5nID0gY2h1bW1lckdlYXIuZGV2aWNlcmF0aW5nO1xuXG4gICAgICAgIHBhcnNlZEdlYXIuZGF0YS5hdHRzID0ge1xuICAgICAgICAgICAgYXR0MTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogY2h1bW1lckdlYXIuYXR0YWNrLFxuICAgICAgICAgICAgICAgIGF0dDogJ2F0dGFjaydcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGF0dDI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGNodW1tZXJHZWFyLnNsZWF6ZSxcbiAgICAgICAgICAgICAgICBhdHQ6ICdzbGVhemUnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhdHQzOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBjaHVtbWVyR2Vhci5kYXRhcHJvY2Vzc2luZyxcbiAgICAgICAgICAgICAgICBhdHQ6ICdkYXRhX3Byb2Nlc3NpbmcnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhdHQ0OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBjaHVtbWVyR2Vhci5maXJld2FsbCxcbiAgICAgICAgICAgICAgICBhdHQ6ICdmaXJld2FsbCdcbiAgICAgICAgICAgIH0gXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNodW1tZXJHZWFyLmNhdGVnb3J5ID09PSAnQ3liZXJkZWNrcycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhcnNlZEdlYXIuZGF0YS5jYXRlZ29yeSA9ICdjeWJlcmRlY2snO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW1tZXJHZWFyLmNhdGVnb3J5ID09PSAnQ29tbWxpbmtzJylcbiAgICAgICAge1xuICAgICAgICAgICAgcGFyc2VkR2Vhci5kYXRhLmNhdGVnb3J5ID0gJ2NvbW1saW5rJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaHVtbWVyR2Vhci5jYXRlZ29yeSA9PT0gJ1JpZ2dlciBDb21tYW5kIENvbnNvbGVzJylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gV2UgYXJlIGhhbmRsaW5nIHJjY3MgYXMgY29tbWxpbmtzIGZvciB0aGUgbW9tZW50IHNpbmNlIHdlIGhhdmUgbm8gc3VwcG9ydCBmb3IgcmlnZ2VyIGNvbW1hbmQgY29uc29sZXMgeWV0LlxuICAgICAgICAgICAgcGFyc2VkR2Vhci5kYXRhLmNhdGVnb3J5ID0gJ2NvbW1saW5rJzsgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyc2VkR2VhcjtcbiAgICB9XG59IiwiaW1wb3J0IHsgUGFyc2VyU2VsZWN0b3IgfSBmcm9tIFwiLi9QYXJzZXJTZWxlY3RvclwiO1xuXG4vKipcbiAqIFBhcnNlcyBhbGwgZ2VhciBmcm9tIGEgY2h1bW1lciBjaGFyYWN0ZXIgZmlsZSBhbmQgdHVybnMgdGhlbSBpbnRvIGZvdW5kcnkgc3IgaXRlbSBkYXRhIG9iamVjdHNcbiAqL1xuZXhwb3J0IGNsYXNzIEdlYXJzUGFyc2VyIHtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbGwgY2h1bW1lciBnZWFyIGVudHJpZXNcbiAgICAgKiBAcGFyYW0gY2h1bW1lckdlYXJzIEFycmF5IG9mIGNodW1tZXIgZ2VhciBlbnRyaWVzXG4gICAgICovXG4gICAgcGFyc2VHZWFycyhjaHVtbWVyR2VhcnMgOiBhbnkpIDogYW55IHtcbiAgICAgICAgbGV0IGl0ZW1zIDogYW55W10gPSBbXTtcblxuICAgICAgICBjaHVtbWVyR2VhcnMuZm9yRWFjaCgoY2h1bW1lckdlYXIpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyc3QgZmlsdGVyIG91dCBnZWFyIGVudHJpZXMsIHRoYXQgd2UgZG8gbm90IHdhbnQgdG8gaGFuZGxlLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5nZWFyU2hvdWxkQmVQYXJzZWQoY2h1bW1lckdlYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtc0RhdGEgPSB0aGlzLnBhcnNlR2VhckVudHJ5KGNodW1tZXJHZWFyKTtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW1zRGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH1cblxuICAgIHByaXZhdGUgcGFyc2VHZWFyRW50cnkoY2h1bW1lckdlYXIgOiBhbnkpIDogYW55IHtcbiAgICAgICAgY29uc3QgcGFyc2VyU2VsZWN0b3IgPSBuZXcgUGFyc2VyU2VsZWN0b3IoKTtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gcGFyc2VyU2VsZWN0b3Iuc2VsZWN0KGNodW1tZXJHZWFyKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZShjaHVtbWVyR2Vhcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZWFyU2hvdWxkQmVQYXJzZWQoY2h1bW1lckdlYXIgOiBhbnkpIDogYm9vbGVhbiB7XG4gICAgICAgIC8vIFdlIGRvIG5vdCBoYW5kbGUgZ3JlbmFkZXMgYW5kIHJvY2tldHMgaGVyZSBzaW5jZSB0aGV5IGFyZSBhbHNvIGluIHRoZSB3ZWFwb25zIHNlY3Rpb24gd2l0aCBtb3JlIGluZm8uXG4gICAgICAgIGNvbnN0IGVuZ2xpc2hHZWFyTmFtZSA9IChjaHVtbWVyR2Vhci5uYW1lX2VuZ2xpc2ggYXMgc3RyaW5nKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoZW5nbGlzaEdlYXJOYW1lLnN0YXJ0c1dpdGgoJ2dyZW5hZGUnKSB8fCBcbiAgICAgICAgICAgIGVuZ2xpc2hHZWFyTmFtZS5zdGFydHNXaXRoKCdtaW5pZ3JlbmFkZScpIHx8IFxuICAgICAgICAgICAgZW5nbGlzaEdlYXJOYW1lLnN0YXJ0c1dpdGgoJ3JvY2tldCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHZWFyUGFyc2VyLCBCYXNlR2VhclBhcnNlciB9IGZyb20gXCIuL0Jhc2VHZWFyUGFyc2VyXCI7XG5pbXBvcnQgeyBTaW5QYXJzZXIgfSBmcm9tIFwiLi9TaW5QYXJzZXJcIjtcbmltcG9ydCB7IERldmljZVBhcnNlciB9IGZyb20gXCIuL0RldmljZVBhcnNlclwiO1xuaW1wb3J0IHsgUHJvZ3JhbVBhcnNlciB9IGZyb20gXCIuL1Byb2dyYW1QYXJzZXJcIjtcbmltcG9ydCB7IEFtbW9QYXJzZXIgfSBmcm9tIFwiLi9BbW1vUGFyc2VyXCI7XG5cbi8qKlxuICogUmVzcG9uc2libGUgZm9yIHNlbGVjdGluZyB0aGUgY29ycmVjdCBHZWFyUGFyc2VyIGRlcGVuZGluZyBvbiB0aGUgZ2Vhci5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNlclNlbGVjdG9yIHtcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGNvcnJlY3QgR2VhclBhcnNlciBkZXBlbmRpbmcgb24gdGhlIGdlYXIuXG4gICAgICogQHBhcmFtIGNodW1tZXJHZWFyIFRoZSBnZWFyIHRoYXQgbmVlZHMgdG8gYmUgcGFyc2VkXG4gICAgICogVGhlIGNvcnJlY3QgR2VhclBhcnNlciBmb3IgdGhpcyBnZWFyIGVudHJ5LlxuICAgICAqLyBcbiAgICBzZWxlY3QoY2h1bW1lckdlYXIgOiBhbnkpIDogR2VhclBhcnNlciB7XG4gICAgICAgIGlmIChjaHVtbWVyR2Vhci5pc3NpbiA9PT0gJ1RydWUnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpblBhcnNlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW1tZXJHZWFyLmlzY29tbWxpbmsgPT09ICdUcnVlJylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXZpY2VQYXJzZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaHVtbWVyR2Vhci5pc2FtbW8gPT09ICdUcnVlJylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbW1vUGFyc2VyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2h1bW1lckdlYXIuY2F0ZWdvcnkgPT09ICdDb21tb24gUHJvZ3JhbXMnIHx8IFxuICAgICAgICAgICAgY2h1bW1lckdlYXIuY2F0ZWdvcnkgPT09ICdIYWNraW5nIFByb2dyYW1zJyB8fCBcbiAgICAgICAgICAgIGNodW1tZXJHZWFyLmNhdGVnb3J5ID09PSAnU29mdHdhcmUnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb2dyYW1QYXJzZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQmFzZUdlYXJQYXJzZXIoKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZUdlYXJQYXJzZXIgfSBmcm9tIFwiLi9CYXNlR2VhclBhcnNlclwiXG5cbi8qKlxuICogUGFyc2VzIGNvbW1vbiwgaGFja2luZyBhbmQgYWdlbnQgcHJvZ3JhbXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9ncmFtUGFyc2VyIGV4dGVuZHMgQmFzZUdlYXJQYXJzZXIge1xuICAgIHBhcnNlKGNodW1tZXJHZWFyIDogYW55KSA6IGFueSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZEdlYXIgPSAgc3VwZXIucGFyc2UoY2h1bW1lckdlYXIpO1xuICAgICAgICBwYXJzZWRHZWFyLnR5cGUgPSAncHJvZ3JhbSc7XG5cbiAgICAgICAgaWYgKGNodW1tZXJHZWFyLmNhdGVnb3J5ID09PSAnQ29tbW9uIFByb2dyYW1zJylcbiAgICAgICAge1xuICAgICAgICAgICAgcGFyc2VkR2Vhci5kYXRhLnR5cGUgPSAnY29tbW9uX3Byb2dyYW0nXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2h1bW1lckdlYXIuY2F0ZWdvcnkgPT09ICdIYWNraW5nIFByb2dyYW1zJylcbiAgICAgICAge1xuICAgICAgICAgICAgcGFyc2VkR2Vhci5kYXRhLnR5cGUgPSAnaGFja2luZ19wcm9ncmFtJ1xuICAgICAgICB9IFxuICAgICAgICBlbHNlIGlmIChjaHVtbWVyR2Vhci5jYXRlZ29yeSA9PT0gJ1NvZnR3YXJlJylcbiAgICAgICAge1xuICAgICAgICAgICAgcGFyc2VkR2Vhci5kYXRhLnR5cGUgPSAnYWdlbnQnXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyc2VkR2VhcjtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZUdlYXJQYXJzZXIgfSBmcm9tIFwiLi9CYXNlR2VhclBhcnNlclwiXG5cbi8qKlxuICogUGFyc2VzIFNJTnMgYW5kIHRoZSBhdHRhY2hlZCBsaWNlbnNlcy5cbiAqIExpY2Vuc2VzIHRoYXQgYXJlIG5vdCBhdHRhY2hlZCB0byBhIFNJTiBhcmUgbm90IGhhbmRsZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW5QYXJzZXIgZXh0ZW5kcyBCYXNlR2VhclBhcnNlciB7XG4gICAgcGFyc2UoY2h1bW1lckdlYXIgOiBhbnkpIDogYW55IHtcbiAgICAgICAgY29uc3QgcGFyc2VkR2VhciA9ICBzdXBlci5wYXJzZShjaHVtbWVyR2Vhcik7XG4gICAgICAgIHBhcnNlZEdlYXIudHlwZSA9ICdzaW4nO1xuXG4gICAgICAgIC8vIENyZWF0ZSBsaWNlbnNlcyBpZiB0aGVyZSBhcmUgYW55XG4gICAgICAgIGlmIChjaHVtbWVyR2Vhci5jaGlsZHJlbikge1xuXG4gICAgICAgICAgICAvLyBcImdlYXJcIiBpcyBlaXRoZXIgIGEgc2luZ2xlIGdlYXIgZW50cnkgb3IgYW4gYXJyYXkgb2YgZ2VhciBlbnRyaWVzIGRlcGVuZGluZyBvbiB0aGUgbnVtYmVyIG9mIGxpY2Vuc2VzXG4gICAgICAgICAgICBjb25zdCBjaHVtbWVyTGljZW5zZXMgOiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNodW1tZXJHZWFyLmNoaWxkcmVuLmdlYXIpKSB7XG4gICAgICAgICAgICAgICAgY2h1bW1lckxpY2Vuc2VzLnB1c2goY2h1bW1lckdlYXIuY2hpbGRyZW4uZ2VhcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNodW1tZXJMaWNlbnNlcy5wdXNoKC4uLmNodW1tZXJHZWFyLmNoaWxkcmVuLmdlYXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJzZWRHZWFyLmRhdGEubGljZW5zZXMgPSB0aGlzLnBhcnNlTGljZW5zZXMoY2h1bW1lckxpY2Vuc2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkR2VhcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBhcnNlTGljZW5zZXMoY2h1bW1lckxpY2Vuc2VzIDogYW55KSA6IGFueVtdIHtcbiAgICAgICAgY29uc3QgcGFyc2VkTGljZW5zZXMgOiBhbnlbXSA9IFtdOyBcblxuICAgICAgICBjaHVtbWVyTGljZW5zZXMuZm9yRWFjaChjaHVtbWVyTGljZW5zZSA9PiB7XG4gICAgICAgICAgICBpZiAoY2h1bW1lckxpY2Vuc2UuY2F0ZWdvcnkgPT09ICdJRC9DcmVkc3RpY2tzJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRMaWNlbnNlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjaHVtbWVyTGljZW5zZS5leHRyYSwgLy8gJ2V4dHJhJyBob2xkcyB0aGUgdHlwZSBvZiBsaWNlbnNlIGZyb20gY2h1bW1lclxuICAgICAgICAgICAgICAgICAgICAgICAgcnRnOiBjaHVtbWVyTGljZW5zZS5yYXRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwYXJzZWRMaWNlbnNlcztcbiAgICB9XG59XG4iLCJpbXBvcnQge19tZXJnZVdpdGhNaXNzaW5nU2tpbGxGaWVsZHN9IGZyb20gXCIuLi9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Ta2lsbHNQcmVwXCI7XG5pbXBvcnQge0NoYXJhY3RlckltcG9ydGVyfSBmcm9tIFwiLi9jaGFyYWN0ZXJJbXBvcnQvQ2hhcmFjdGVySW1wb3J0ZXJcIlxuXG5leHBvcnQgY2xhc3MgQ2h1bW1lckltcG9ydEZvcm0gZXh0ZW5kcyBGb3JtQXBwbGljYXRpb24ge1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdXBlci5kZWZhdWx0T3B0aW9ucztcbiAgICAgICAgb3B0aW9ucy5pZCA9ICdjaHVtbWVyLWltcG9ydCc7XG4gICAgICAgIG9wdGlvbnMuY2xhc3NlcyA9IFsnc2hhZG93cnVuNWUnXTtcbiAgICAgICAgb3B0aW9ucy50aXRsZSA9ICdDaHVtbWVyL0hlcm8gTGFiIEltcG9ydCc7XG4gICAgICAgIG9wdGlvbnMudGVtcGxhdGUgPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hcHBzL2ltcG9ydC5odG1sJztcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IDYwMDtcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZUxpc3RlbmVycyhodG1sKSB7XG4gICAgICAgIGh0bWwuZmluZCgnLnN1Ym1pdC1jaHVtbWVyLWltcG9ydCcpLmNsaWNrKGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgY2h1bW1lckZpbGUgPSBKU09OLnBhcnNlKCQoJy5jaHVtbWVyLXRleHQnKS52YWwoKSk7XG4gICAgICAgICAgICBjb25zdCBpbXBvcnRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdlYXBvbnM6ICQoJy53ZWFwb25zJykuaXMoJzpjaGVja2VkJyksXG4gICAgICAgICAgICAgICAgYXJtb3I6ICQoJy5hcm1vcicpLmlzKCc6Y2hlY2tlZCcpLFxuICAgICAgICAgICAgICAgIGN5YmVyd2FyZTogJCgnLmN5YmVyd2FyZScpLmlzKCc6Y2hlY2tlZCcpLFxuICAgICAgICAgICAgICAgIGVxdWlwbWVudDogJCgnLmdlYXInKS5pcygnOmNoZWNrZWQnKSxcbiAgICAgICAgICAgICAgICBxdWFsaXRpZXM6ICQoJy5xdWFsaXRpZXMnKS5pcygnOmNoZWNrZWQnKSxcbiAgICAgICAgICAgICAgICBwb3dlcnM6ICQoJy5wb3dlcnMnKS5pcygnOmNoZWNrZWQnKSxcbiAgICAgICAgICAgICAgICBzcGVsbHM6ICQoJy5zcGVsbHMnKS5pcygnOmNoZWNrZWQnKSxcbiAgICAgICAgICAgICAgICBjb250YWN0czogJCgnLmNvbnRhY3RzJykuaXMoJzpjaGVja2VkJyksXG4gICAgICAgICAgICAgICAgbGlmZXN0eWxlczogJCgnLmxpZmVzdHlsZXMnKS5pcygnOmNoZWNrZWQnKSxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaW1wb3J0ZXIgPSBuZXcgQ2hhcmFjdGVySW1wb3J0ZXIoKTtcbiAgICAgICAgICAgIGF3YWl0IGltcG9ydGVyLmltcG9ydENodW1tZXJDaGFyYWN0ZXIodGhpcy5vYmplY3QsIGNodW1tZXJGaWxlLCBpbXBvcnRPcHRpb25zKTtcblxuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgICAgICAgICdDb21wbGV0ZSEgQ2hlY2sgZXZlcnl0aGluZy4gTm90YWJseTogUmFuZ2VkIHdlYXBvbiBtb2RzIGFuZCBhbW1vOyBTdHJlbmd0aCBiYXNlZCB3ZWFwb24gZGFtYWdlOyBTcGVjaWFsaXphdGlvbnMgb24gYWxsIHNwZWxscywgcG93ZXJzLCBhbmQgd2VhcG9uczsnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0Zvcm1EaWFsb2csIEZvcm1EaWFsb2dEYXRhfSBmcm9tIFwiLi9Gb3JtRGlhbG9nXCI7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuaW1wb3J0IHtTUjVBY3Rvcn0gZnJvbSBcIi4uLy4uL2FjdG9yL1NSNUFjdG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBEYW1hZ2VBcHBsaWNhdGlvbkRpYWxvZyBleHRlbmRzIEZvcm1EaWFsb2cge1xuXG4gICAgY29uc3RydWN0b3IoYWN0b3JzIDogU1I1QWN0b3JbXSwgZGFtYWdlOiBEYW1hZ2VEYXRhLCBvcHRpb25zPzogQXBwbGljYXRpb24uT3B0aW9ucykge1xuICAgICAgICBjb25zdCBkaWFsb2dEYXRhID0gRGFtYWdlQXBwbGljYXRpb25EaWFsb2cuZ2V0RGlhbG9nRGF0YShhY3RvcnMsIGRhbWFnZSk7XG4gICAgICAgIHN1cGVyKGRpYWxvZ0RhdGEsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdXBlci5kZWZhdWx0T3B0aW9ucztcbiAgICAgICAgb3B0aW9ucy5pZCA9ICdkYW1hZ2UtYXBwbGljYXRpb24nO1xuICAgICAgICAvLyBUT0RPOiBDbGFzcyBEaWFsb2cgaGVyZSBpcyBuZWVkZWQgZm9yIGRpYWxvZyBidXR0b24gc3R5bGluZy5cbiAgICAgICAgb3B0aW9ucy5jbGFzc2VzID0gWydzcjUnLCAnZm9ybS1kaWFsb2cnXTtcbiAgICAgICAgb3B0aW9ucy5yZXNpemFibGUgPSB0cnVlO1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7IFxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaWFsb2dEYXRhKGFjdG9ycyA6IFNSNUFjdG9yW10sIGRhbWFnZTogRGFtYWdlRGF0YSk6IEZvcm1EaWFsb2dEYXRhIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EYW1hZ2VBcHBsaWNhdGlvbi5UaXRsZScpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVBhdGggPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hcHBzL2RpYWxvZ3MvZGFtYWdlLWFwcGxpY2F0aW9uLmh0bWwnO1xuXG4gICAgICAgIC8vIFNpbXBsaWZ5IC8gcmVmYWN0b3IgdGhpc1xuICAgICAgICBjb25zdCBhY3RvckRhbWFnZSA6IGFueSA9IGFjdG9ycy5tYXAoYSA9PiB7IHJldHVybiB7YWN0b3I6YX0gfSkgO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgICAgICBkYW1hZ2UsXG4gICAgICAgICAgICBhY3RvckRhbWFnZSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBidXR0b25zID0ge1xuICAgICAgICAgICAgZGFtYWdlOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRhbWFnZUFwcGxpY2F0aW9uLkFwcGx5RGFtYWdlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9uQWZ0ZXJDbG9zZSA9ICgpID0+IGFjdG9yRGFtYWdlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHRlbXBsYXRlUGF0aCxcbiAgICAgICAgICAgIHRlbXBsYXRlRGF0YSxcbiAgICAgICAgICAgIG9uQWZ0ZXJDbG9zZSxcbiAgICAgICAgICAgIGJ1dHRvbnMsXG4gICAgICAgICAgICBkZWZhdWx0OiAnZGFtYWdlJ1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7Rm9ybURpYWxvZ30gZnJvbSBcIi4vRm9ybURpYWxvZ1wiO1xuXG5leHBvcnQgY2xhc3MgRGVsZXRlQ29uZmlybWF0aW9uRGlhbG9nIGV4dGVuZHMgRm9ybURpYWxvZyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IEFwcGxpY2F0aW9uLk9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZGlhbG9nRGF0YSA9IERlbGV0ZUNvbmZpcm1hdGlvbkRpYWxvZy5nZXREaWFsb2dEYXRhKCk7XG5cbiAgICAgICAgc3VwZXIoZGlhbG9nRGF0YSwgb3B0aW9ucylcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGlhbG9nRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuRGVsZXRlQ29uZmlybWF0aW9uQXBwbGljYXRpb24uVGl0bGVcIiksXG4gICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EZWxldGVDb25maXJtYXRpb25BcHBsaWNhdGlvbi5EZWxldGUnKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuY2VsOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EZWxldGVDb25maXJtYXRpb25BcHBsaWNhdGlvbi5DYW5jZWwnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0OiAnY2FuY2VsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlRGF0YToge30sXG4gICAgICAgICAgICB0ZW1wbGF0ZVBhdGg6ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FwcHMvZGlhbG9ncy9kZWxldGUtY29uZmlybWF0aW9uLWRpYWxvZy5odG1sJ1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHN1cGVyLmRlZmF1bHRPcHRpb25zO1xuICAgICAgICBvcHRpb25zLmlkID0gJ2RlbGV0ZS1jb25maXJtYXRpb24tYXBwbGljYXRpb24nO1xuICAgICAgICAvLyBDbGFzcyBEaWFsb2cgaGVyZSBpcyBuZWVkZWQgZm9yIGRpYWxvZyBidXR0b24gc3R5bGluZy5cbiAgICAgICAgb3B0aW9ucy5jbGFzc2VzID0gWydzcjUnLCAnZm9ybS1kaWFsb2cnXTtcbiAgICAgICAgb3B0aW9ucy5yZXNpemFibGUgPSB0cnVlO1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxufSIsImV4cG9ydCBpbnRlcmZhY2UgRm9ybURpYWxvZ0RhdGEge1xuICAgIHRpdGxlPzogc3RyaW5nO1xuXHRidXR0b25zOiBSZWNvcmQ8c3RyaW5nLCBEaWFsb2dCdXR0b24+O1xuXHRkZWZhdWx0Pzogc3RyaW5nO1xuXHR0ZW1wbGF0ZURhdGE6IG9iamVjdDtcblx0dGVtcGxhdGVQYXRoOiBzdHJpbmc7XG5cdG9uQWZ0ZXJDbG9zZT86IEZ1bmN0aW9uO1xufVxuXG4vKiogVE9ETzogRG9jdW1lbnRhdGlvbiB3aXRoIHVzYWdlIGV4YW1wbGVcbiAqICBUT0RPOiBSZXdvcmsgZ2V0RGlhbG9nRGF0YSBhcHByb2FjaCB3aXRoIHRoZSBnZW5lcmFsIGdldERhdGEgQXBwbGljYXRpb24gc3R5bGUsXG4gKiAgICAgICAgdG8gYWxsb3cgcmVyZW5kZXIgZnJvbSB3aXRoaW4gdGhlIERpYWxvZyBpbnN0YW5jZSB3aXRob3V0IGV4dGVybmFsIGRhdGFcbiAqICAgICAgICByZWluaXRpYWxpemF0aW9uLlxuICogICAgICAgIFRoaXMgd291bGQgZm9yIHRoaW5ncyBsaWtlIHVwZGF0aW5nIGEgZGlhbG9nIGJhc2VkIG9uIGN1cnJlbnRseSBzZWxlY3RlZCB0b2tlbnNcbiAqICAgICAgICB3aXRob3V0IHJlb3BlbmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZvcm1EaWFsb2cgZXh0ZW5kcyBEaWFsb2cge1xuICAgIHNlbGVjdGlvbjogb2JqZWN0O1xuICAgIHNlbGVjdGVkQnV0dG9uOiBzdHJpbmc7XG5cbiAgICBfb25BZnRlckNsb3NlOiBGdW5jdGlvbjtcbiAgICBfc2VsZWN0aW9uUHJvbWlzZTogUHJvbWlzZTxvYmplY3Q+O1xuICAgIF9zZWxlY3Rpb25SZXNvbHZlOiBGdW5jdGlvbjtcbiAgICBfc2VsZWN0aW9uUmVqZWN0OiBGdW5jdGlvbjtcbiAgICBfdGVtcGxhdGVEYXRhOiBvYmplY3Q7XG4gICAgX3RlbXBsYXRlUGF0aDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoZGlhbG9nRGF0YTogRm9ybURpYWxvZ0RhdGEsIG9wdGlvbnM/OiBBcHBsaWNhdGlvbi5PcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGRpYWxvZ0RhdGEsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHt0ZW1wbGF0ZURhdGEsIHRlbXBsYXRlUGF0aH0gPSBkaWFsb2dEYXRhO1xuICAgICAgICB0aGlzLl90ZW1wbGF0ZURhdGEgPSB0ZW1wbGF0ZURhdGE7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlUGF0aCA9IHRlbXBsYXRlUGF0aDtcblxuICAgICAgICB0aGlzLl9vbkFmdGVyQ2xvc2UgPSBkaWFsb2dEYXRhLm9uQWZ0ZXJDbG9zZSA/IGRpYWxvZ0RhdGEub25BZnRlckNsb3NlIDogKCkgPT4ge307XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLl9lbXB0eVNlbGVjdGlvbigpO1xuXG4gICAgICAgIHRoaXMuX3NlbGVjdGlvblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25SZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIC8vIFJlamVjdCBpcyBzdG9yZWQsIGJ1dCBuZXZlciB1c2VkIGluIGZhdm9yIG9mIEZvcm1EaWFsb2cuY2FuY2VsZWRcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGlvblJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYW1lbmRCdXR0b25zV2l0aE5hbWUoKTtcbiAgICB9XG5cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgYXdhaXQgc3VwZXIuY2xvc2UoKTtcblxuICAgICAgICBpZiAodGhpcy5jYW5jZWxlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0aW9uUmVzb2x2ZSh0aGlzLnNlbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzdWJtaXQoYnV0dG9uKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRCdXR0b24gPSBidXR0b24ubmFtZSA/PyBidXR0b24ubGFiZWw7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHN1cGVyLnN1Ym1pdChidXR0b24pO1xuICAgICAgICBhd2FpdCB0aGlzLmFmdGVyU3VibWl0KFwialF1ZXJ5XCIgaW4gdGhpcy5vcHRpb25zID8gdGhpcy5lbGVtZW50IDogdGhpcy5lbGVtZW50IFswXSk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWZ0ZXJTdWJtaXQoaHRtbDogSlF1ZXJ5KSB7XG4gICAgICAgIC8vIEF3YWl0IGluIGNhc2Ugb2YgYSBwb3NzaWJsZSBhc3luYyBoYW5kbGVyLlxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IGF3YWl0IHRoaXMuX29uQWZ0ZXJDbG9zZShodG1sLCB0aGlzLnNlbGVjdGVkQnV0dG9uKTtcbiAgICAgICAgdGhpcy5fc2VsZWN0aW9uUmVzb2x2ZSh0aGlzLnNlbGVjdGlvbik7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0RGF0YShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZVBhdGgsIHRoaXMuX3RlbXBsYXRlRGF0YSk7XG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5nZXREYXRhKCksIHtcbiAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2VsZWN0KCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKHRydWUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3Rpb25Qcm9taXNlID09PSB1bmRlZmluZWQgfHwgdGhpcy5zZWxlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VtcHR5U2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3NlbGVjdGlvblByb21pc2U7XG4gICAgfVxuXG4gICAgX2VtcHR5U2VsZWN0aW9uKCk6IG9iamVjdCB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKiogRGlhbG9nIGhhcyBiZWVuIGNvbmZpcm1lZCBhbmQgc29tZXRoaW5nIGhhcyBiZWVuIHNlbGVjdGVkLlxuICAgICAqL1xuICAgIGdldCBzZWxlY3RlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNhbmNlbGVkO1xuICAgIH1cblxuICAgIC8qKiBEaWFsb2cgaGFzIGJlZW4gY2FuY2VsZWQgYW5kIG5vdGhpbmcgaGFzIGJlZW4gc2VsZWN0ZWRcbiAgICAgKi9cbiAgICBnZXQgY2FuY2VsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5zZWxlY3RlZEJ1dHRvbjtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIGdldEJ1dHRvbnMoKTogUmVjb3JkPHN0cmluZywgRGlhbG9nQnV0dG9uPiB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKiogQWxsb3cgZm9yIHRoZSBzZWxlY3RlZCBidXR0b24gdG8gYmUgYWRkcmVzc2VkIGJ5IGl0J3Mga2V5LCBub3QgaXQncyBsb2NhbGl6ZWQgbGFiZWwuXG4gICAgICovXG4gICAgX2FtZW5kQnV0dG9uc1dpdGhOYW1lKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5kYXRhLmJ1dHRvbnMpLmZvckVhY2gobmFtZSA9PiB0aGlzLmRhdGEuYnV0dG9uc1tuYW1lXS5uYW1lID0gbmFtZSk7XG4gICAgfVxufSIsImltcG9ydCB7Rm9ybURpYWxvZywgRm9ybURpYWxvZ0RhdGF9IGZyb20gXCIuL0Zvcm1EaWFsb2dcIjtcbmltcG9ydCB7U1I1QWN0b3J9IGZyb20gXCIuLi8uLi9hY3Rvci9TUjVBY3RvclwiO1xuaW1wb3J0IHtQYXJ0c0xpc3R9IGZyb20gXCIuLi8uLi9wYXJ0cy9QYXJ0c0xpc3RcIjtcbmltcG9ydCB7SGVscGVyc30gZnJvbSBcIi4uLy4uL2hlbHBlcnNcIjtcbmltcG9ydCB7U2tpbGxGbG93fSBmcm9tIFwiLi4vLi4vYWN0b3IvU2tpbGxGbG93XCI7XG5pbXBvcnQgRGVmZW5zZVJvbGxPcHRpb25zID0gU2hhZG93cnVuLkRlZmVuc2VSb2xsT3B0aW9ucztcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XG5pbXBvcnQgU29ha1JvbGxPcHRpb25zID0gU2hhZG93cnVuLlNvYWtSb2xsT3B0aW9ucztcbmltcG9ydCBTa2lsbERpYWxvZ09wdGlvbnMgPSBTaGFkb3dydW4uU2tpbGxEaWFsb2dPcHRpb25zO1xuaW1wb3J0IENvbWJhdERhdGEgPSBTaGFkb3dydW4uQ29tYmF0RGF0YTtcbmltcG9ydCBEYW1hZ2VUeXBlID0gU2hhZG93cnVuLkRhbWFnZVR5cGU7XG5cbmV4cG9ydCBjbGFzcyBTaGFkb3dydW5BY3RvckRpYWxvZ3Mge1xuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVEZWZlbnNlRGlhbG9nKGFjdG9yOiBTUjVBY3Rvciwgb3B0aW9uczogRGVmZW5zZVJvbGxPcHRpb25zLCBwYXJ0c1Byb3BzOiBNb2RMaXN0PG51bWJlcj4pOiBQcm9taXNlPEZvcm1EaWFsb2c+IHtcbiAgICAgICAgY29uc3QgZGVmZW5zZURpYWxvZ0RhdGEgPSBTaGFkb3dydW5BY3RvckRpYWxvZ3MuZ2V0RGVmZW5zZURpYWxvZ0RhdGEoYWN0b3IsIG9wdGlvbnMsIHBhcnRzUHJvcHMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgRm9ybURpYWxvZyhkZWZlbnNlRGlhbG9nRGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZVNvYWtEaWFsb2cob3B0aW9uczogU29ha1JvbGxPcHRpb25zLCBzb2FrUGFydHM6IFBhcnRzTGlzdDxudW1iZXI+KTogUHJvbWlzZTxGb3JtRGlhbG9nPiB7XG4gICAgICAgIGNvbnN0IHNvYWtEaWFsb2dEYXRhID0gU2hhZG93cnVuQWN0b3JEaWFsb2dzLmdldFNvYWtEaWFsb2dEYXRhKG9wdGlvbnMsIHNvYWtQYXJ0cyk7XG4gICAgICAgIHJldHVybiBuZXcgRm9ybURpYWxvZyhzb2FrRGlhbG9nRGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZVNraWxsRGlhbG9nKGFjdG9yOiBTUjVBY3Rvciwgb3B0aW9uczogU2tpbGxEaWFsb2dPcHRpb25zLCBwYXJ0c1Byb3BzOiBQYXJ0c0xpc3Q8bnVtYmVyPik6IFByb21pc2U8Rm9ybURpYWxvZz4ge1xuICAgICAgICBjb25zdCBza2lsbERpYWxvZ0RhdGEgPSBTaGFkb3dydW5BY3RvckRpYWxvZ3MuZ2V0U2tpbGxEaWFsb2dEYXRhKGFjdG9yLCBvcHRpb25zLCBwYXJ0c1Byb3BzKTtcblxuICAgICAgICByZXR1cm4gbmV3IEZvcm1EaWFsb2coc2tpbGxEaWFsb2dEYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGVmZW5zZURpYWxvZ0RhdGEoYWN0b3I6IFNSNUFjdG9yLCAgb3B0aW9uczogRGVmZW5zZVJvbGxPcHRpb25zLCBwYXJ0c1Byb3BzOiBNb2RMaXN0PG51bWJlcj4pOiBGb3JtRGlhbG9nRGF0YSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRGVmZW5zZScpO1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZURlZmVuc2VzID0ge1xuICAgICAgICAgICAgZnVsbF9kZWZlbnNlOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTUjUuRnVsbERlZmVuc2UnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBhY3Rvci5nZXRGdWxsRGVmZW5zZUF0dHJpYnV0ZSgpPy52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbml0TW9kOiAtMTAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9kZ2U6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1NSNS5Eb2RnZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFjdG9yLmZpbmRBY3RpdmVTa2lsbCgnZ3ltbmFzdGljcycpPy52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbml0TW9kOiAtNSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBibG9jazoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnU1I1LkJsb2NrJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYWN0b3IuZmluZEFjdGl2ZVNraWxsKCd1bmFybWVkX2NvbWJhdCcpPy52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbml0TW9kOiAtNSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZXF1aXBwZWRNZWxlZVdlYXBvbnMgPSBhY3Rvci5nZXRFcXVpcHBlZFdlYXBvbnMoKS5maWx0ZXIoKHcpID0+IHcuaXNNZWxlZVdlYXBvbigpKTtcbiAgICAgICAgbGV0IGRlZmVuc2VSZWFjaCA9IDA7XG4gICAgICAgIGVxdWlwcGVkTWVsZWVXZWFwb25zLmZvckVhY2goKHdlYXBvbikgPT4ge1xuICAgICAgICAgICAgYWN0aXZlRGVmZW5zZXNbYHBhcnJ5LSR7d2VhcG9uLm5hbWV9YF0gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTUjUuUGFycnknLFxuICAgICAgICAgICAgICAgIHdlYXBvbjogd2VhcG9uLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFjdG9yLmZpbmRBY3RpdmVTa2lsbCh3ZWFwb24uZ2V0QWN0aW9uU2tpbGwoKSk/LnZhbHVlLFxuICAgICAgICAgICAgICAgIGluaXQ6IC01LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlZmVuc2VSZWFjaCA9IE1hdGgubWF4KGRlZmVuc2VSZWFjaCwgd2VhcG9uLmdldFJlYWNoKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QocGFydHNQcm9wcyk7XG4gICAgICAgIGFjdG9yLl9hZGREZWZlbnNlUGFydHMocGFydHMpO1xuXG4gICAgICAgIC8vIGlmIHdlIGFyZSBkZWZlbmRpbmcgYSBtZWxlZSBhdHRhY2tcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0YWNrPy5yZWFjaCkge1xuICAgICAgICAgICAgY29uc3QgaW5jb21pbmdSZWFjaCA9IG9wdGlvbnMuYXR0YWNrLnJlYWNoO1xuICAgICAgICAgICAgY29uc3QgbmV0UmVhY2ggPSBkZWZlbnNlUmVhY2ggLSBpbmNvbWluZ1JlYWNoO1xuICAgICAgICAgICAgaWYgKG5ldFJlYWNoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LlJlYWNoJywgbmV0UmVhY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IHtcbiAgICAgICAgICAgIGNvbnRpbnVlOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNvbnRpbnVlJyksXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvbkFmdGVyQ2xvc2UgPSAoaHRtbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY292ZXIgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPWNvdmVyXScpLnZhbCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHNwZWNpYWwgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb1N0cmluZygkKGh0bWwpLmZpbmQoJ1tuYW1lPWFjdGl2ZURlZmVuc2VdJykudmFsKCkpO1xuICAgICAgICAgICAgLy8gWmVybyB0byBpbmRpY2F0ZSBubyBpbml0aWF0aXZlIHJlc3VsdCBjaGFuZ2UuXG4gICAgICAgICAgICBjb25zdCBjb21iYXQ6IENvbWJhdERhdGEgPSB7fTtcblxuICAgICAgICAgICAgaWYgKGNvdmVyKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkNvdmVyJywgY292ZXIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3BlY2lhbCkge1xuICAgICAgICAgICAgICAgIC8vIERlZmVuc2UgcG9vbCBtb2RpZmllclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmVuc2UgPSBhY3RpdmVEZWZlbnNlc1tzcGVjaWFsXTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGRlZmVuc2UubGFiZWwsIGRlZmVuc2UudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ29tYmF0IGluaXRpYXRpdmUgbW9kaWZpZXJcbiAgICAgICAgICAgICAgICBjb21iYXQuaW5pdGlhdGl2ZSA9IGRlZmVuc2UuaW5pdE1vZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtjb3Zlciwgc3BlY2lhbCwgcGFydHMsIGNvbWJhdH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZVBhdGggPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yb2xsLWRlZmVuc2UuaHRtbCc7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IHtcbiAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5nZXRNZXNzYWdlT3V0cHV0KCksXG4gICAgICAgICAgICBjb3Zlcjogb3B0aW9ucy5jb3ZlcixcbiAgICAgICAgICAgIGFjdGl2ZURlZmVuc2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgdGVtcGxhdGVEYXRhLFxuICAgICAgICAgICAgdGVtcGxhdGVQYXRoLFxuICAgICAgICAgICAgYnV0dG9ucyxcbiAgICAgICAgICAgIG9uQWZ0ZXJDbG9zZVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgZ2V0U29ha0RpYWxvZ0RhdGEoc29ha1JvbGxPcHRpb25zOiBTb2FrUm9sbE9wdGlvbnMsIHNvYWtQYXJ0cyA6IFBhcnRzTGlzdDxudW1iZXI+KTogRm9ybURpYWxvZ0RhdGEge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRhbWFnZVJlc2lzdGFuY2VUZXN0Jyk7XG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVQYXRoID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvcm9sbC1zb2FrLmh0bWwnO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgICAgICBkYW1hZ2U6IHNvYWtSb2xsT3B0aW9ucz8uZGFtYWdlLFxuICAgICAgICAgICAgcGFydHM6IHNvYWtQYXJ0cy5nZXRNZXNzYWdlT3V0cHV0KCksXG4gICAgICAgICAgICBlbGVtZW50VHlwZXM6IENPTkZJRy5TUjUuZWxlbWVudFR5cGVzLFxuICAgICAgICAgICAgZGFtYWdlVHlwZXM6IENPTkZJRy5TUjUuZGFtYWdlVHlwZXNcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBidXR0b25zID0gIHtcbiAgICAgICAgICAgIGNvbnRpbnVlOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNvbnRpbnVlJyksXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvbkFmdGVyQ2xvc2UgPSAoaHRtbDogSlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmNvbWluZ0RhbWFnZSA9IEhlbHBlcnMucGFyc2VJbnB1dFRvTnVtYmVyKCQoaHRtbCkuZmluZCgnW25hbWU9aW5jb21pbmdEYW1hZ2VdJykudmFsKCkpO1xuICAgICAgICAgICAgY29uc3QgYXAgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPWFwXScpLnZhbCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb1N0cmluZygkKGh0bWwpLmZpbmQoJ1tuYW1lPWVsZW1lbnRdJykudmFsKCkpO1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlVHlwZSA9IEhlbHBlcnMucGFyc2VJbnB1dFRvU3RyaW5nKCQoaHRtbCkuZmluZCgnW25hbWU9ZGFtYWdlVHlwZV0nKS52YWwoKSkgYXMgRGFtYWdlVHlwZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtpbmNvbWluZ0RhbWFnZSwgZGFtYWdlVHlwZSwgYXAsIGVsZW1lbnR9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgdGVtcGxhdGVQYXRoLFxuICAgICAgICAgICAgdGVtcGxhdGVEYXRhLFxuICAgICAgICAgICAgYnV0dG9ucyxcbiAgICAgICAgICAgIG9uQWZ0ZXJDbG9zZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFNraWxsRGlhbG9nRGF0YShhY3RvcjogU1I1QWN0b3IsIG9wdGlvbnM6IFNraWxsRGlhbG9nT3B0aW9ucywgcGFydHNQcm9wczogUGFydHNMaXN0PG51bWJlcj4pOiBGb3JtRGlhbG9nRGF0YSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKG9wdGlvbnMuc2tpbGwubGFiZWwgfHwgb3B0aW9ucy5za2lsbC5uYW1lKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVQYXRoID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvc2tpbGwtcm9sbC5odG1sJztcblxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gYWN0b3IuZ2V0QXR0cmlidXRlcygpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhY3Rvci5nZXRBdHRyaWJ1dGUob3B0aW9ucy5hdHRyaWJ1dGUgPyBvcHRpb25zLmF0dHJpYnV0ZSA6IG9wdGlvbnMuc2tpbGwuYXR0cmlidXRlKTtcbiAgICAgICAgY29uc3QgbGltaXRzID0gYWN0b3IuZ2V0TGltaXRzKCk7XG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge1xuICAgICAgICAgICAgYXR0cmlidXRlOiBvcHRpb25zLnNraWxsLmF0dHJpYnV0ZSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IEhlbHBlcnMuZmlsdGVyKGF0dHJpYnV0ZXMsIChbLCB2YWx1ZV0pID0+IHZhbHVlLnZhbHVlID4gMCksXG4gICAgICAgICAgICBsaW1pdDogYXR0cmlidXRlLmxpbWl0LFxuICAgICAgICAgICAgbGltaXRzXG4gICAgICAgIH1cblxuXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSB7XG4gICAgICAgICAgICByb2xsOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk5vcm1hbFNraWxsQnV0dG9uJyksXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gYWRkIHNwZWNpYWxpemF0aW9ucyB0byBkaWFsb2cgYXMgYnV0dG9uc1xuICAgICAgICBpZiAob3B0aW9ucy5za2lsbC5zcGVjcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBvcHRpb25zLnNraWxsLnNwZWNzLmZvckVhY2goXG4gICAgICAgICAgICAgICAgKHNwZWMpID0+XG4gICAgICAgICAgICAgICAgICAgIChidXR0b25zW3NwZWNdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHNwZWMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge30sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9uQWZ0ZXJDbG9zZSA9IChodG1sOiBKUXVlcnksIHNlbGVjdGVkQnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdBdHQgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb1N0cmluZygkKGh0bWwpLmZpbmQoJ1tuYW1lPVwiYXR0cmlidXRlXCJdJykudmFsKCkpO1xuICAgICAgICAgICAgY29uc3QgbmV3TGltaXQgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb1N0cmluZygkKGh0bWwpLmZpbmQoJ1tuYW1lPVwiYXR0cmlidXRlLmxpbWl0XCJdJykudmFsKCkpO1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYWN0b3IuZ2V0QXR0cmlidXRlKG5ld0F0dCk7XG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IGFjdG9yLmdldExpbWl0KG5ld0xpbWl0KTtcbiAgICAgICAgICAgIC8vIExlZ2FjeSBza2lsbHMgaGF2ZSBhIGxhYmVsLCBidXQgbm8gbmFtZS4gQ3VzdG9tIHNraWxscyBoYXZlIGEgbmFtZSBidXQgbm8gbGFiZWwuXG4gICAgICAgICAgICBjb25zdCBza2lsbExhYmVsID0gZ2FtZS5pMThuLmxvY2FsaXplKG9wdGlvbnMuc2tpbGwubGFiZWwgfHwgb3B0aW9ucy5za2lsbC5uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUxhYmVsID0gZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYXR0cmlidXRlc1tuZXdBdHRdKTtcbiAgICAgICAgICAgIGNvbnN0IHRlc3RMYWJlbCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlRlc3QnKVxuXG4gICAgICAgICAgICBjb25zdCBza2lsbFRlc3RUaXRsZSA9IGAke3NraWxsTGFiZWx9ICsgJHthdHRyaWJ1dGVMYWJlbH0gJHt0ZXN0TGFiZWx9YDtcblxuICAgICAgICAgICAgcGFydHNQcm9wcy5hZGRVbmlxdWVQYXJ0KGF0dHJpYnV0ZS5sYWJlbCwgYXR0cmlidXRlLnZhbHVlKTtcblxuICAgICAgICAgICAgU2tpbGxGbG93LmhhbmRsZURlZmF1bHRpbmcob3B0aW9ucy5za2lsbCwgcGFydHNQcm9wcyk7XG5cbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIHNwZWNpYWxpemF0aW9uIGJhc2VkIG9uIGJ1dHRvbiBsYWJlbC5cbiAgICAgICAgICAgIGNvbnN0IGlzU3BlY2lhbGl6YXRpb24gPSBvcHRpb25zLnNraWxsLnNwZWNzLmluY2x1ZGVzKHNlbGVjdGVkQnV0dG9uKTtcbiAgICAgICAgICAgIGlmIChpc1NwZWNpYWxpemF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcGFydHNQcm9wcy5hZGRVbmlxdWVQYXJ0KCdTUjUuU3BlY2lhbGl6YXRpb24nLCAyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogc2tpbGxUZXN0VGl0bGUsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgIHNraWxsOiBvcHRpb25zLnNraWxsLFxuICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0c1Byb3BzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVBhdGgsXG4gICAgICAgICAgICB0ZW1wbGF0ZURhdGEsXG4gICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgb25BZnRlckNsb3NlXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHtTUjVJdGVtfSBmcm9tICcuLi8uLi9pdGVtL1NSNUl0ZW0nO1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tICcuLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7TEVOR1RIX1VOSVQsIFNSfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1NSNUFjdG9yfSBmcm9tIFwiLi4vLi4vYWN0b3IvU1I1QWN0b3JcIjtcbmltcG9ydCBGaXJlTW9kZURhdGEgPSBTaGFkb3dydW4uRmlyZU1vZGVEYXRhO1xuaW1wb3J0IFJhbmdlc1RlbXBsYXRlRGF0YSA9IFNoYWRvd3J1bi5SYW5nZXNUZW1wbGF0ZURhdGE7XG5pbXBvcnQgUmFuZ2VEYXRhID0gU2hhZG93cnVuLlJhbmdlRGF0YTtcbmltcG9ydCB7Rm9ybURpYWxvZ30gZnJvbSBcIi4vRm9ybURpYWxvZ1wiO1xuaW1wb3J0IFdlYXBvbkRhdGEgPSBTaGFkb3dydW4uV2VhcG9uRGF0YTtcbmltcG9ydCB7TW9kaWZpZXJzfSBmcm9tIFwiLi4vLi4vc3I1L01vZGlmaWVyc1wiO1xuXG50eXBlIEl0ZW1EaWFsb2dEYXRhID0ge1xuICAgIGRpYWxvZ0RhdGE6IERpYWxvZ0RhdGEgfCB1bmRlZmluZWQsXG4gICAgZ2V0QWN0aW9uVGVzdERhdGE6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkLFxuICAgIGl0ZW1IYXNOb0RpYWxvZzogYm9vbGVhblxufTtcblxuZXhwb3J0IHR5cGUgUmFuZ2VkV2VhcG9uQWN0aW9uVGVzdERhdGEgPSB7XG4gICAgZW52aXJvbm1lbnRhbDoge1xuICAgICAgICByYW5nZT86IG51bWJlclxuICAgIH0sXG4gICAgZmlyZU1vZGU6IEZpcmVNb2RlRGF0YSxcbn1cblxuZXhwb3J0IHR5cGUgU3BlbGxBY3Rpb25UZXN0RGF0YSA9IHtcbiAgICBmb3JjZTogbnVtYmVyLFxuICAgIHJlY2tsZXNzOiBib29sZWFuLFxufVxuXG5leHBvcnQgdHlwZSBDb21wbGV4Rm9ybVRlc3REYXRhID0ge1xuICAgIGxldmVsOiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgQWN0aW9uVGVzdERhdGEgPSB7XG4gICAgcmFuZ2VkV2VhcG9uPzogUmFuZ2VkV2VhcG9uQWN0aW9uVGVzdERhdGEsXG4gICAgc3BlbGw/OiBTcGVsbEFjdGlvblRlc3REYXRhLFxuICAgIGNvbXBsZXhGb3JtPzogQ29tcGxleEZvcm1UZXN0RGF0YSxcbiAgICB0YXJnZXRJZD86IHN0cmluZ1xufVxuXG5cbmV4cG9ydCBjbGFzcyBTaGFkb3dydW5JdGVtRGlhbG9nIHtcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlKGl0ZW06IFNSNUl0ZW0sIGV2ZW50PzogTW91c2VFdmVudCk6IFByb21pc2U8Rm9ybURpYWxvZ3x1bmRlZmluZWQ+IHtcblxuICAgICAgICBpZiAoaXRlbS5pc1JhbmdlZFdlYXBvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gU2hhZG93cnVuSXRlbURpYWxvZy5jcmVhdGVSYW5nZWRXZWFwb25EaWFsb2coaXRlbSwgZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uaXNTcGVsbCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gU2hhZG93cnVuSXRlbURpYWxvZy5jcmVhdGVTcGVsbERpYWxvZyhpdGVtLCBldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbS5pc0NvbXBsZXhGb3JtKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBTaGFkb3dydW5JdGVtRGlhbG9nLmNyZWF0ZUNvbXBsZXhGb3JtRGlhbG9nKGl0ZW0sIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVSYW5nZWRXZWFwb25EaWFsb2coaXRlbTogU1I1SXRlbSwgZXZlbnQ/OiBNb3VzZUV2ZW50KTogUHJvbWlzZTxGb3JtRGlhbG9nPiB7XG4gICAgICAgIGNvbnN0IGRpYWxvZ0RhdGEgPSB7dGl0bGU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZVBhdGggPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yYW5nZS13ZWFwb24tcm9sbC5odG1sJztcblxuICAgICAgICAvLyBQcmVwYXJlIHRlbXBsYXRlIGRhdGEgZm9yIGRpc3BsYXkuXG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IGF3YWl0IGl0ZW0uYWN0b3IuZ2V0TW9kaWZpZXJzKCk7XG5cbiAgICAgICAgLy8gRGlzYWJsZSBtYW51YWwgcmFuZ2Ugc2VsZWN0aW9uIHdoZW4gYSBvdmVyd3JpdGUgaXMgc2V0LlxuICAgICAgICBjb25zdCB0YXJnZXRSYW5nZSA9IG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLmFjdGl2ZS5yYW5nZTtcbiAgICAgICAgY29uc3QgZGlzYWJsZVRhcmdldFJhbmdlID0gbW9kaWZpZXJzLmhhc0FjdGl2ZUVudmlyb25tZW50YWxPdmVyd3JpdGU7XG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge1xuICAgICAgICAgICAgdGFyZ2V0UmFuZ2UsXG4gICAgICAgICAgICBkaXNhYmxlVGFyZ2V0UmFuZ2VcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25BZnRlckNsb3NlID0gU2hhZG93cnVuSXRlbURpYWxvZy5hZGRSYW5nZWRXZWFwb25EYXRhKHRlbXBsYXRlRGF0YSwgZGlhbG9nRGF0YSwgaXRlbSk7XG5cbiAgICAgICAgZGlhbG9nRGF0YVsndGVtcGxhdGVEYXRhJ10gPSB0ZW1wbGF0ZURhdGE7XG4gICAgICAgIGRpYWxvZ0RhdGFbJ3RlbXBsYXRlUGF0aCddID0gdGVtcGxhdGVQYXRoO1xuICAgICAgICBkaWFsb2dEYXRhWydvbkFmdGVyQ2xvc2UnXSA9IG9uQWZ0ZXJDbG9zZTtcblxuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIG5ldyBGb3JtRGlhbG9nKGRpYWxvZ0RhdGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVTcGVsbERpYWxvZyhpdGVtOiBTUjVJdGVtLCBldmVudD86IE1vdXNlRXZlbnQpOiBQcm9taXNlPEZvcm1EaWFsb2c+IHtcbiAgICAgICAgY29uc3QgZGlhbG9nRGF0YSA9IHt0aXRsZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUGF0aCA9ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL3JvbGxzL3JvbGwtc3BlbGwuaHRtbCc7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IHt9O1xuICAgICAgICBjb25zdCBvbkFmdGVyQ2xvc2UgPSBTaGFkb3dydW5JdGVtRGlhbG9nLmFkZFNwZWxsRGF0YSh0ZW1wbGF0ZURhdGEsIGRpYWxvZ0RhdGEsIGl0ZW0pO1xuXG4gICAgICAgIGRpYWxvZ0RhdGFbJ3RlbXBsYXRlRGF0YSddID0gdGVtcGxhdGVEYXRhO1xuICAgICAgICBkaWFsb2dEYXRhWyd0ZW1wbGF0ZVBhdGgnXSA9IHRlbXBsYXRlUGF0aDtcbiAgICAgICAgZGlhbG9nRGF0YVsnb25BZnRlckNsb3NlJ10gPSBvbkFmdGVyQ2xvc2U7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBuZXcgRm9ybURpYWxvZyhkaWFsb2dEYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlQ29tcGxleEZvcm1EaWFsb2coaXRlbTogU1I1SXRlbSwgZXZlbnQ/OiBNb3VzZUV2ZW50KTogUHJvbWlzZTxGb3JtRGlhbG9nPiB7XG4gICAgICAgIGNvbnN0IGRpYWxvZ0RhdGEgPSB7dGl0bGU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZVBhdGggPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yb2xsLWNvbXBsZXgtZm9ybS5odG1sJztcbiAgICAgICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge307XG4gICAgICAgIGNvbnN0IG9uQWZ0ZXJDbG9zZSA9IFNoYWRvd3J1bkl0ZW1EaWFsb2cuYWRkQ29tcGxleEZvcm1EYXRhKHRlbXBsYXRlRGF0YSwgZGlhbG9nRGF0YSwgaXRlbSk7XG5cbiAgICAgICAgZGlhbG9nRGF0YVsndGVtcGxhdGVEYXRhJ10gPSB0ZW1wbGF0ZURhdGE7XG4gICAgICAgIGRpYWxvZ0RhdGFbJ3RlbXBsYXRlUGF0aCddID0gdGVtcGxhdGVQYXRoO1xuICAgICAgICBkaWFsb2dEYXRhWydvbkFmdGVyQ2xvc2UnXSA9IG9uQWZ0ZXJDbG9zZTtcblxuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIG5ldyBGb3JtRGlhbG9nKGRpYWxvZ0RhdGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRDb21wbGV4Rm9ybURhdGEodGVtcGxhdGVEYXRhOiBvYmplY3QsIGRpYWxvZ0RhdGE6IERpYWxvZ0RhdGEsIGl0ZW06IFNSNUl0ZW0pOiBGdW5jdGlvbiB7XG4gICAgICAgIGNvbnN0IGZhZGUgPSBpdGVtLmdldEZhZGUoKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBgJHtIZWxwZXJzLmxhYmVsKGl0ZW0ubmFtZSl9IExldmVsYDtcblxuICAgICAgICBjb25zdCBsZXZlbCA9IGl0ZW0uZ2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwoKT8udmFsdWUgfHwgMiAtIGZhZGU7XG5cbiAgICAgICAgdGVtcGxhdGVEYXRhWydmYWRlJ10gPSBmYWRlID49IDAgPyBgKyR7ZmFkZX1gIDogZmFkZTtcbiAgICAgICAgdGVtcGxhdGVEYXRhWydsZXZlbCddID0gbGV2ZWw7XG4gICAgICAgIHRlbXBsYXRlRGF0YVsndGl0bGUnXSA9IHRpdGxlO1xuXG4gICAgICAgIGxldCBjYW5jZWwgPSB0cnVlO1xuICAgICAgICBkaWFsb2dEYXRhLmJ1dHRvbnMgPSB7XG4gICAgICAgICAgICByb2xsOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDb250aW51ZScsXG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWRpY2Utc2l4XCI+PC9pPicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IChjYW5jZWwgPSBmYWxzZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBhc3luYyAoaHRtbDogSlF1ZXJ5KTogUHJvbWlzZTxBY3Rpb25UZXN0RGF0YXx1bmRlZmluZWQ+ID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5jZWwpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgYWN0aW9uVGVzdERhdGEgPSB7fSBhcyBDb21wbGV4Rm9ybVRlc3REYXRhO1xuXG4gICAgICAgICAgICBtZXJnZU9iamVjdChhY3Rpb25UZXN0RGF0YSwgU2hhZG93cnVuSXRlbURpYWxvZy5fZ2V0U2VsZWN0ZWRDb21wbGV4Rm9ybUxldmVsKGh0bWwpKVxuXG4gICAgICAgICAgICAvLyBUT0RPOiBSZW1uYW50cyBvZiBvbGQgc3R5bGUgZGF0YSBmbG93LiBMb29rIGludG8gUmFuZ2VkV2VhcG9uIGZvciBuZXdlciBzdHlsZS5cbiAgICAgICAgICAgIGF3YWl0IGl0ZW0uc2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwoe3ZhbHVlOiBhY3Rpb25UZXN0RGF0YS5sZXZlbH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge2NvbXBsZXhGb3JtOiBhY3Rpb25UZXN0RGF0YX07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIF9nZXRTZWxlY3RlZENvbXBsZXhGb3JtTGV2ZWwoaHRtbDogSlF1ZXJ5KTogb2JqZWN0IHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPWxldmVsXScpLnZhbCgpKTtcbiAgICAgICAgcmV0dXJuIHtsZXZlbH07XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZFNwZWxsRGF0YSh0ZW1wbGF0ZURhdGE6IG9iamVjdCwgZGlhbG9nRGF0YTogRGlhbG9nRGF0YSwgaXRlbTogU1I1SXRlbSk6IEZ1bmN0aW9uIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBgJHtIZWxwZXJzLmxhYmVsKGl0ZW0ubmFtZSl9IEZvcmNlYDtcbiAgICAgICAgY29uc3QgZHJhaW4gPSBpdGVtLmdldERyYWluKCk7XG5cbiAgICAgICAgY29uc3QgZm9yY2UgPSBpdGVtLmdldExhc3RTcGVsbEZvcmNlKCk/LnZhbHVlIHx8IDIgLSBkcmFpbjtcblxuICAgICAgICB0ZW1wbGF0ZURhdGFbJ2RyYWluJ10gPSBkcmFpbiA+PSAwID8gYCske2RyYWlufWAgOiBgJHtkcmFpbn1gO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ2ZvcmNlJ10gPSBmb3JjZTtcbiAgICAgICAgdGVtcGxhdGVEYXRhWyd0aXRsZSddID0gdGl0bGU7XG5cbiAgICAgICAgZGlhbG9nRGF0YS50aXRsZSA9IHRpdGxlO1xuICAgICAgICBsZXQgY2FuY2VsID0gdHJ1ZTtcbiAgICAgICAgbGV0IHJlY2tsZXNzID0gZmFsc2U7XG4gICAgICAgIGRpYWxvZ0RhdGEuYnV0dG9ucyA9IHtcbiAgICAgICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Ob3JtYWxTcGVsbEJ1dHRvbicpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiAoY2FuY2VsID0gZmFsc2UpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlY2tsZXNzOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJlY2tsZXNzU3BlbGxCdXR0b24nKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWNrbGVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBkaWFsb2dEYXRhLmRlZmF1bHQgPSAnbm9ybWFsJztcblxuICAgICAgICByZXR1cm4gYXN5bmMgKGh0bWw6IEpRdWVyeSk6IFByb21pc2U8QWN0aW9uVGVzdERhdGF8dW5kZWZpbmVkPiA9PiB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGFjdGlvblRlc3REYXRhID0ge30gYXMgU3BlbGxBY3Rpb25UZXN0RGF0YTtcblxuICAgICAgICAgICAgbWVyZ2VPYmplY3QoYWN0aW9uVGVzdERhdGEsIFNoYWRvd3J1bkl0ZW1EaWFsb2cuX2dldFNlbGVjdGVkU3BlbGxGb3JjZShodG1sKSk7XG4gICAgICAgICAgICBtZXJnZU9iamVjdChhY3Rpb25UZXN0RGF0YSwgU2hhZG93cnVuSXRlbURpYWxvZy5fZ2V0U2VsZWN0ZWRTcGVsbFJlY2tsZXNzKHJlY2tsZXNzKSk7XG5cbiAgICAgICAgICAgIGF3YWl0IGl0ZW0uc2V0TGFzdFNwZWxsRm9yY2Uoe3ZhbHVlOiBhY3Rpb25UZXN0RGF0YS5mb3JjZSwgcmVja2xlc3M6IGFjdGlvblRlc3REYXRhLnJlY2tsZXNzfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7c3BlbGw6IGFjdGlvblRlc3REYXRhfTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2dldFNlbGVjdGVkU3BlbGxGb3JjZShodG1sOiBKUXVlcnkpOiBvYmplY3Qge1xuICAgICAgICBjb25zdCBmb3JjZSA9IEhlbHBlcnMucGFyc2VJbnB1dFRvTnVtYmVyKCQoaHRtbCkuZmluZCgnW25hbWU9Zm9yY2VdJykudmFsKCkpO1xuICAgICAgICByZXR1cm4ge2ZvcmNlfVxuICAgIH1cblxuICAgIHN0YXRpYyBfZ2V0U2VsZWN0ZWRTcGVsbFJlY2tsZXNzKHJlY2tsZXNzOiBib29sZWFuKTogb2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHtyZWNrbGVzc31cbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkUmFuZ2VkV2VhcG9uRGF0YSh0ZW1wbGF0ZURhdGE6IG9iamVjdCwgZGlhbG9nRGF0YTogRGlhbG9nRGF0YSwgaXRlbTogU1I1SXRlbSk6IEZ1bmN0aW9uIHtcbiAgICAgICAgbGV0IHRpdGxlID0gZGlhbG9nRGF0YS50aXRsZSB8fCBpdGVtLm5hbWU7XG5cbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSBpdGVtLmRhdGEuZGF0YSBhcyBXZWFwb25EYXRhO1xuICAgICAgICBjb25zdCBmaXJlTW9kZXMgPSB7fTtcblxuICAgICAgICBjb25zdCB7bW9kZXMsIHJhbmdlc30gPSBpdGVtRGF0YS5yYW5nZTtcbiAgICAgICAgY29uc3Qge2FtbW99ID0gaXRlbURhdGE7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIG1vdmVkIGludG8gY29uc3RhbnRzIG9yIHNvbWUga2luZCBvZiAncnVsZXNEYXRhJ1xuICAgICAgICBpZiAobW9kZXMuc2luZ2xlX3Nob3QpIHtcbiAgICAgICAgICAgIGZpcmVNb2Rlc1snMSddID0gZ2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LldlYXBvbk1vZGVTaW5nbGVTaG90U2hvcnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGVzLnNlbWlfYXV0bykge1xuICAgICAgICAgICAgZmlyZU1vZGVzWycxJ10gPSBnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuV2VhcG9uTW9kZVNlbWlBdXRvU2hvcnRcIik7XG4gICAgICAgICAgICBmaXJlTW9kZXNbJzMnXSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcIlNSNS5XZWFwb25Nb2RlU2VtaUF1dG9CdXJzdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZXMuYnVyc3RfZmlyZSkge1xuICAgICAgICAgICAgZmlyZU1vZGVzWyczJ10gPSBgJHttb2Rlcy5zZW1pX2F1dG8gPyBgJHtnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuV2VhcG9uTW9kZVNlbWlBdXRvQnVyc3RcIil9L2AgOiAnJ30ke2dhbWUuaTE4bi5sb2NhbGl6ZShcIlNSNS5XZWFwb25Nb2RlQnVyc3RGaXJlU2hvcnRcIil9YDtcbiAgICAgICAgICAgIGZpcmVNb2Rlc1snNiddID0gZ2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LldlYXBvbk1vZGVCdXJzdEZpcmVMb25nXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2Rlcy5mdWxsX2F1dG8pIHtcbiAgICAgICAgICAgIGZpcmVNb2Rlc1snNiddID0gYCR7bW9kZXMuYnVyc3RfZmlyZSA/ICdMQi8nIDogJyd9JHtnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuV2VhcG9uTW9kZUZ1bGxBdXRvU2hvcnRcIil9KHMpYDtcbiAgICAgICAgICAgIGZpcmVNb2Rlc1snMTAnXSA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZShcIlNSNS5XZWFwb25Nb2RlRnVsbEF1dG9TaG9ydFwiKX0oYylgO1xuICAgICAgICAgICAgZmlyZU1vZGVzWycyMCddID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU3VwcHJlc3NpbmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUmFuZ2VzID0gdGhpcy5fZ2V0UmFuZ2VXZWFwb25UZW1wbGF0ZURhdGEocmFuZ2VzKTtcbiAgICAgICAgY29uc3QgZmlyZU1vZGUgPSBpdGVtLmdldExhc3RGaXJlTW9kZSgpO1xuICAgICAgICBjb25zdCByYyA9IGl0ZW0uZ2V0UmVjb2lsQ29tcGVuc2F0aW9uKHRydWUpO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ2ZpcmVNb2RlcyddID0gZmlyZU1vZGVzO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ2ZpcmVNb2RlJ10gPSBmaXJlTW9kZT8udmFsdWU7XG4gICAgICAgIHRlbXBsYXRlRGF0YVsncmMnXSA9IHJjO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ2FtbW8nXSA9IGFtbW87XG4gICAgICAgIHRlbXBsYXRlRGF0YVsndGl0bGUnXSA9IHRpdGxlO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ3JhbmdlcyddID0gdGVtcGxhdGVSYW5nZXM7XG5cbiAgICAgICAgaWYgKGl0ZW0uYWN0b3IuZ2V0VG9rZW4oKSAmJiBIZWxwZXJzLnVzZXJIYXNUYXJnZXRzKCkpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlRGF0YVsndGFyZ2V0c1NlbGVjdGVkJ10gPSBIZWxwZXJzLnVzZXJIYXNUYXJnZXRzKCk7XG4gICAgICAgICAgICB0ZW1wbGF0ZURhdGFbJ3RhcmdldHMnXSA9IFNoYWRvd3J1bkl0ZW1EaWFsb2cuX2dldFRhcmdldFJhbmdlVGVtcGxhdGVEYXRhKGl0ZW0uYWN0b3IsIHRlbXBsYXRlUmFuZ2VzKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXRlbS5hY3Rvci5nZXRUb2tlbigpICYmIEhlbHBlcnMudXNlckhhc1RhcmdldHMoKSkge1xuICAgICAgICAgICAgLy8gSW5mb3JtIHVzZXIgYWJvdXQgdXNhZ2Ugb2YgYWN0b3JzIHdpdGhvdXQgdG9rZW5zIVxuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlRhcmdldGluZ05lZWRzQWN0b3JXaXRoVG9rZW4nKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2FuY2VsID0gdHJ1ZTtcbiAgICAgICAgZGlhbG9nRGF0YS5idXR0b25zID0ge1xuICAgICAgICAgICAgY29udGludWU6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ29udGludWUnKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gKGNhbmNlbCA9IGZhbHNlKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHNlbGVjdGlvbiBoYW5kbGVyIHRvIGFuIGFwcHJvcHJpYXRlIHBsYWNlLiBNYXliZSBzcGxpdCBTaGFkb3dydW5JdGVtRGlhbG9nIGludG8gc3ViY2xhc3Nlcy5cbiAgICAgICAgcmV0dXJuIGFzeW5jIChodG1sKTogUHJvbWlzZTxBY3Rpb25UZXN0RGF0YXx1bmRlZmluZWQ+ID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFjdGlvblRlc3REYXRhID0ge30gYXMgUmFuZ2VkV2VhcG9uQWN0aW9uVGVzdERhdGE7XG5cbiAgICAgICAgICAgIGlmIChIZWxwZXJzLnVzZXJIYXNUYXJnZXRzKCkpIHtcbiAgICAgICAgICAgICAgICBtZXJnZU9iamVjdChhY3Rpb25UZXN0RGF0YSwgU2hhZG93cnVuSXRlbURpYWxvZy5fZ2V0U2VsZWN0ZWRUYXJnZXRSYW5nZU1vZGlmaWVyKGh0bWwpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VPYmplY3QoYWN0aW9uVGVzdERhdGEsIFNoYWRvd3J1bkl0ZW1EaWFsb2cuX2dldFNlbGVjdGVkUmFuZ2VNb2RpZmllcihodG1sKSk7XG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgbGFzdEZpcmVSYW5nZSBmb3IgZ2VuZXJpYyByYW5nZSBzZWxlY3Rpb24uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1lcmdlT2JqZWN0KGFjdGlvblRlc3REYXRhLCBTaGFkb3dydW5JdGVtRGlhbG9nLl9nZXRTZWxlY3RlZEZpcmVNb2RlKGh0bWwsIGZpcmVNb2RlcykpXG5cbiAgICAgICAgICAgIGNvbnN0IHt0YXJnZXRJZH0gPSBTaGFkb3dydW5JdGVtRGlhbG9nLl9nZXRTZWxlY3RlZFRhcmdldFRva2VuSWQoaHRtbCk7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHNlbGVjdGlvbnMgZm9yIG5leHQgZGlhbG9nLlxuXG4gICAgICAgICAgICBpZiAoYWN0aW9uVGVzdERhdGEuZW52aXJvbm1lbnRhbC5yYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIGVudmlyb25tZW50YWwgbW9kaWZpZXJzIGZvciB0aGUgYWN0b3IuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gYXdhaXQgaXRlbS5hY3Rvci5nZXRNb2RpZmllcnMoKTtcbiAgICAgICAgICAgICAgICBpZiAoIW1vZGlmaWVycy5oYXNBY3RpdmVFbnZpcm9ubWVudGFsT3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVycy5hY3RpdmF0ZUVudmlyb25tZW50YWxDYXRlZ29yeSgncmFuZ2UnLCBhY3Rpb25UZXN0RGF0YS5lbnZpcm9ubWVudGFsLnJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaXRlbS5hY3Rvci5zZXRNb2RpZmllcnMobW9kaWZpZXJzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUaGUgYWN0b3IgaGFzIGFuIGFjdGl2ZSBlbnZpcm9ubWVudGFsIG92ZXJ3cml0ZSwgeWV0IGNvdWxkIGRlZmluZSBhIG1hbnVhbCByYW5nZSBzZWxlY3Rpb24uJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgaXRlbS5zZXRMYXN0RmlyZVJhbmdlTW9kKHt2YWx1ZTogYWN0aW9uVGVzdERhdGEuZW52aXJvbm1lbnRhbC5yYW5nZX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvblRlc3REYXRhLmZpcmVNb2RlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgaXRlbS5zZXRMYXN0RmlyZU1vZGUoYWN0aW9uVGVzdERhdGEuZmlyZU1vZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge3JhbmdlZFdlYXBvbjogYWN0aW9uVGVzdERhdGEsIHRhcmdldElkfTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2dldFJhbmdlV2VhcG9uVGVtcGxhdGVEYXRhKHJhbmdlczogUmFuZ2VEYXRhKTogUmFuZ2VzVGVtcGxhdGVEYXRhIHtcbiAgICAgICAgY29uc3Qge3JhbmdlX21vZGlmaWVyc30gPSBTUi5jb21iYXQuZW52aXJvbm1lbnRhbDtcbiAgICAgICAgY29uc3QgbmV3UmFuZ2VzID0ge30gYXMgUmFuZ2VzVGVtcGxhdGVEYXRhO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyYW5nZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHZhbHVlIGFzIG51bWJlcjtcbiAgICAgICAgICAgIG5ld1Jhbmdlc1trZXldID0gSGVscGVycy5jcmVhdGVSYW5nZURlc2NyaXB0aW9uKENPTkZJRy5TUjUud2VhcG9uUmFuZ2VzW2tleV0sIGRpc3RhbmNlLCByYW5nZV9tb2RpZmllcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1JhbmdlcztcbiAgICB9XG5cbiAgICAvKiogQnVpbGQgdGVtcGxhdGUgZGF0YSBmb3IgdGFyZ2V0IGRpc3RhbmNlcyBhbmQgcmVzdWx0aW5nIHJhbmdlIG1vZGlmaWVyc1xuICAgICAqXG4gICAgICogSXQgaXMgbWFuZGF0b3J5IGZvciBhbiBhY3RvciB0byBoYXZlIHRva2VuIHBsYWNlZCxcbiAgICAgKiBzbyBkaXN0YW5jZSBtZWFzdXJlbWVudHMgY2FuIGJlIHRha2VuLlxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIF9nZXRUYXJnZXRSYW5nZVRlbXBsYXRlRGF0YShhY3RvcjogU1I1QWN0b3IsIHJhbmdlcykge1xuICAgICAgICBjb25zdCBhdHRhY2tlciA9IGFjdG9yLmdldFRva2VuKCk7XG5cbiAgICAgICAgaWYgKCFhdHRhY2tlciB8fCAhSGVscGVycy51c2VySGFzVGFyZ2V0cygpKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuVGFyZ2V0aW5nTmVlZHNBY3RvcldpdGhUb2tlbicpKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhcmdldHMgPSBIZWxwZXJzLmdldFVzZXJUYXJnZXRzKCk7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0c1RlbXBsYXRlRGF0YSA9IHRhcmdldHMubWFwKHRhcmdldCA9PiB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmUgLy8gdW5kZWZpbmVkIGFjdG9yIGlzIG9rYXlcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gSGVscGVycy5tZWFzdXJlVG9rZW5EaXN0YW5jZShhdHRhY2tlciwgdGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gSGVscGVycy5nZXRXZWFwb25SYW5nZShkaXN0YW5jZSwgcmFuZ2VzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IHRhcmdldC5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiB0YXJnZXQubmFtZSxcbiAgICAgICAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgICAgICAgdW5pdDogTEVOR1RIX1VOSVQsXG4gICAgICAgICAgICAgICAgZGlzdGFuY2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gdGFyZ2V0c1RlbXBsYXRlRGF0YS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5kaXN0YW5jZSA8IGIuZGlzdGFuY2UpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhLmRpc3RhbmNlID4gYi5kaXN0YW5jZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9nZXRTZWxlY3RlZFRhcmdldFJhbmdlTW9kaWZpZXIoaHRtbDogSlF1ZXJ5KTogb2JqZWN0IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0RWxlbWVudCA9ICQoaHRtbCkuZmluZCgnW25hbWU9XCJzZWxlY3RlZC10YXJnZXRcIl0nKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcihzZWxlY3RFbGVtZW50LmZpbmQoJzpzZWxlY3RlZCcpLmRhdGEoJ3JhbmdlLW1vZGlmaWVyJykpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbnZpcm9ubWVudGFsOiB7cmFuZ2V9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIF9nZXRTZWxlY3RlZFRhcmdldFRva2VuSWQoaHRtbDogSlF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdEVsZW1lbnQgPSAkKGh0bWwpLmZpbmQoJ1tuYW1lPVwic2VsZWN0ZWQtdGFyZ2V0XCJdJyk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gc2VsZWN0RWxlbWVudC52YWwoKSBhcyBzdHJpbmc7XG4gICAgICAgIHJldHVybiB7dGFyZ2V0SWR9O1xuICAgIH1cblxuICAgIHN0YXRpYyBfZ2V0U2VsZWN0ZWRSYW5nZU1vZGlmaWVyKGh0bWw6IEpRdWVyeSk6IG9iamVjdCB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cInJhbmdlXCJdJykudmFsKCkpO1xuXG4gICAgICAgIHJldHVybiB7ZW52aXJvbm1lbnRhbDoge3JhbmdlfX1cbiAgICB9XG5cbiAgICBzdGF0aWMgX2dldFNlbGVjdGVkRmlyZU1vZGUoaHRtbDogSlF1ZXJ5LCBmaXJlTW9kZXMpOiBvYmplY3Qge1xuICAgICAgICBjb25zdCBmaXJlTW9kZVZhbHVlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cImZpcmVNb2RlXCJdJykudmFsKCkpO1xuICAgICAgICBpZiAoZmlyZU1vZGVWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZmlyZU1vZGVTdHJpbmcgPSBmaXJlTW9kZXNbZmlyZU1vZGVWYWx1ZV07XG4gICAgICAgICAgICBjb25zdCBkZWZlbnNlTW9kaWZpZXIgPSBIZWxwZXJzLm1hcFJvdW5kc1RvRGVmZW5zZURlc2MoZmlyZU1vZGVWYWx1ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlOiBGaXJlTW9kZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGZpcmVNb2RlU3RyaW5nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmaXJlTW9kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGRlZmVuc2U6IGRlZmVuc2VNb2RpZmllcixcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiB7ZmlyZU1vZGV9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7Rm9ybURpYWxvZywgRm9ybURpYWxvZ0RhdGF9IGZyb20gXCIuL0Zvcm1EaWFsb2dcIjtcbmltcG9ydCB7Um9sbERpYWxvZ09wdGlvbnN9IGZyb20gXCIuLi8uLi9yb2xscy9TaGFkb3dydW5Sb2xsZXJcIjtcbmltcG9ydCB7UGFydHNMaXN0fSBmcm9tIFwiLi4vLi4vcGFydHMvUGFydHNMaXN0XCI7XG5pbXBvcnQge1NSNUFjdG9yfSBmcm9tIFwiLi4vLi4vYWN0b3IvU1I1QWN0b3JcIjtcbmltcG9ydCB7Q09SRV9GTEFHUywgQ09SRV9OQU1FLCBGTEFHUywgU1lTVEVNX05BTUV9IGZyb20gXCIuLi8uLi9jb25zdGFudHNcIjtcbmltcG9ydCB7SGVscGVyc30gZnJvbSBcIi4uLy4uL2hlbHBlcnNcIjtcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XG5pbXBvcnQgQmFzZVZhbHVlUGFpciA9IFNoYWRvd3J1bi5CYXNlVmFsdWVQYWlyO1xuaW1wb3J0IExhYmVsRmllbGQgPSBTaGFkb3dydW4uTGFiZWxGaWVsZDtcblxuaW50ZXJmYWNlIEFkdmFuY2VkVGVzdFJvbGxPcHRpb25zIHtcbiAgICB0aXRsZT86IHN0cmluZztcbiAgICBkaWFsb2dPcHRpb25zPzogUm9sbERpYWxvZ09wdGlvbnM7XG4gICAgZXh0ZW5kZWQ/OiBib29sZWFuO1xuICAgIGxpbWl0PzogQmFzZVZhbHVlUGFpcjxudW1iZXI+ICYgTGFiZWxGaWVsZDtcbiAgICB3b3VuZHM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgU2hhZG93cnVuVGVzdERpYWxvZyB7XG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZShhY3RvcjogU1I1QWN0b3J8dW5kZWZpbmVkLCBvcHRpb25zOiBBZHZhbmNlZFRlc3RSb2xsT3B0aW9ucywgcGFydHNQcm9wczogTW9kTGlzdDxudW1iZXI+KTogUHJvbWlzZTxGb3JtRGlhbG9nPiB7XG4gICAgICAgIGNvbnN0IHRlc3REaWFsb2dEYXRhID0gU2hhZG93cnVuVGVzdERpYWxvZy5nZXRBZHZhbmNlZFRlc3REYXRhKGFjdG9yLCBvcHRpb25zLCBwYXJ0c1Byb3BzKTtcblxuICAgICAgICByZXR1cm4gbmV3IEZvcm1EaWFsb2codGVzdERpYWxvZ0RhdGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRBZHZhbmNlZFRlc3REYXRhKGFjdG9yLCBvcHRpb25zOiBBZHZhbmNlZFRlc3RSb2xsT3B0aW9ucywgcGFydHNQcm9wczogTW9kTGlzdDxudW1iZXI+KTogRm9ybURpYWxvZ0RhdGEge1xuICAgICAgICBjb25zdCB0aXRsZSA9IG9wdGlvbnMudGl0bGU7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChwYXJ0c1Byb3BzKTtcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLmRpYWxvZ09wdGlvbnMsXG4gICAgICAgICAgICBleHRlbmRlZDogb3B0aW9ucy5leHRlbmRlZCxcbiAgICAgICAgICAgIHBvb2w6IHBhcnRzLnRvdGFsLFxuICAgICAgICAgICAgcGFydHM6IHBhcnRzLmdldE1lc3NhZ2VPdXRwdXQoKSxcbiAgICAgICAgICAgIGxpbWl0VmFsdWU6IG9wdGlvbnMubGltaXQ/LnZhbHVlLFxuICAgICAgICAgICAgd291bmRzOiBvcHRpb25zLndvdW5kcyxcbiAgICAgICAgICAgIHdvdW5kVmFsdWU6IGFjdG9yPy5nZXRXb3VuZE1vZGlmaWVyKCksXG4gICAgICAgICAgICByb2xsTW9kZTogZ2FtZS5zZXR0aW5ncy5nZXQoQ09SRV9OQU1FLCBDT1JFX0ZMQUdTLlJvbGxNb2RlKSxcbiAgICAgICAgICAgIHJvbGxNb2RlczogQ09ORklHLkRpY2Uucm9sbE1vZGVzXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGVtcGxhdGVQYXRoID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvcm9sbC1kaWFsb2cuaHRtbCc7XG5cbiAgICAgICAgY29uc3Qgcm9sbEJ1dHRvbk5hbWUgPSAncm9sbCdcbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IHtcbiAgICAgICAgICAgIFtyb2xsQnV0dG9uTmFtZV06IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUm9sbCcpLFxuICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1kaWNlLXNpeFwiPjwvaT4nLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgICAgYnV0dG9uc1snZWRnZSddID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5QdXNoVGhlTGltaXQnKX0gKCske2FjdG9yLmdldEVkZ2UoKS52YWx1ZX0pYCxcbiAgICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtYm9tYlwiPjwvaT4nLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbkFmdGVyQ2xvc2UgPSBhc3luYyAoaHRtbDogSlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaWNlUG9vbFZhbHVlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cInBvb2xcIl0nKS52YWwoKSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpYWxvZ09wdGlvbnM/LnBvb2wpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGdhbWUudXNlci5zZXRGbGFnKFNZU1RFTV9OQU1FLCBGTEFHUy5MYXN0Um9sbFByb21wdFZhbHVlLCBkaWNlUG9vbFZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQmFzZScsIGRpY2VQb29sVmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBsaW1pdFZhbHVlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cImxpbWl0VmFsdWVcIl0nKS52YWwoKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHtsaW1pdH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgaWYgKGxpbWl0ICYmIGxpbWl0LnZhbHVlICE9PSBsaW1pdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGltaXQudmFsdWUgPSBsaW1pdFZhbHVlO1xuICAgICAgICAgICAgICAgIGxpbWl0LmJhc2UgPSBsaW1pdFZhbHVlO1xuICAgICAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gJ1NSNS5PdmVycmlkZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHdvdW5kVmFsdWUgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPVwid291bmRzXCJdJykudmFsKCkpO1xuICAgICAgICAgICAgY29uc3Qgc2l0dWF0aW9uTW9kID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cImRwX21vZFwiXScpLnZhbCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGVudmlyb25tZW50TW9kID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cIm9wdGlvbnMuZW52aXJvbm1lbnRhbFwiXScpLnZhbCgpKTtcblxuICAgICAgICAgICAgbGV0IHt3b3VuZHN9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIGlmICh3b3VuZHMgJiYgd291bmRWYWx1ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5Xb3VuZHMnLCB3b3VuZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB3b3VuZHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpdHVhdGlvbk1vZCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5TaXR1YXRpb25hbE1vZGlmaWVyJywgc2l0dWF0aW9uTW9kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnZpcm9ubWVudE1vZCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5FbnZpcm9ubWVudE1vZGlmaWVyJywgZW52aXJvbm1lbnRNb2QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBleHRlbmRlZFN0cmluZyA9IEhlbHBlcnMucGFyc2VJbnB1dFRvU3RyaW5nKCQoaHRtbCkuZmluZCgnW25hbWU9XCJleHRlbmRlZFwiXScpLnZhbCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuZGVkID0gZXh0ZW5kZWRTdHJpbmcgPT09ICd0cnVlJztcblxuICAgICAgICAgICAgY29uc3Qgcm9sbE1vZGUgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb1N0cmluZygkKGh0bWwpLmZpbmQoJ1tuYW1lPXJvbGxNb2RlXScpLnZhbCgpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgICB3b3VuZHMsXG4gICAgICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICAgICAgZXh0ZW5kZWQsXG4gICAgICAgICAgICAgICAgcm9sbE1vZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICB0ZW1wbGF0ZURhdGEsXG4gICAgICAgICAgICB0ZW1wbGF0ZVBhdGgsXG4gICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgZGVmYXVsdDogcm9sbEJ1dHRvbk5hbWUsXG4gICAgICAgICAgICBvbkFmdGVyQ2xvc2VcbiAgICAgICAgfVxuICAgIH1cbn0iLCIvKipcbiAqIEEgR00tVG9vbCB0byBrZWVwIHRyYWNrIG9mIGFsbCBwbGF5ZXJzIG92ZXJ3YXRjaCBzY29yZXNcbiAqL1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tIFwiLi4vLi4vaGVscGVyc1wiO1xuXG5leHBvcnQgY2xhc3MgT3ZlcndhdGNoU2NvcmVUcmFja2VyIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuICAgIHN0YXRpYyBNYXRyaXhPdmVyd2F0Y2hEaWNlQ291bnQgPSAnMmQ2JztcbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMuaWQgPSAnb3ZlcndhdGNoLXNjb3JlLXRyYWNrZXInO1xuICAgICAgICBvcHRpb25zLmNsYXNzZXMgPSBbJ3NyNSddO1xuICAgICAgICBvcHRpb25zLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuT3ZlcndhdGNoU2NvcmVUcmFja2VyVGl0bGUnKTtcbiAgICAgICAgb3B0aW9ucy50ZW1wbGF0ZSA9ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FwcHMvZ210b29scy9vdmVyd2F0Y2gtc2NvcmUtdHJhY2tlci5odG1sJztcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IDQ1MDtcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIG9wdGlvbnMucmVzaXphYmxlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZGVkQWN0b3JzID0gW107XG5cbiAgICBnZXREYXRhKCkge1xuICAgICAgICAvLyBnZXQgbGlzdCBvZiBhY3RvcnMgdGhhdCBiZWxvbmcgdG8gdXNlcnNcbiAgICAgICAgY29uc3QgYWN0b3JzID0gZ2FtZS51c2Vycy5yZWR1Y2UoKGFjYywgdXNlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCF1c2VyLmlzR00gJiYgdXNlci5jaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBhY2MucHVzaCh1c2VyLmNoYXJhY3Rlci5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICBPdmVyd2F0Y2hTY29yZVRyYWNrZXIuYWRkZWRBY3RvcnMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdG9yID0gZ2FtZS5hY3RvcnMuZmluZCgoYSkgPT4gYS5faWQgPT09IGlkKTtcbiAgICAgICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgICAgICAgIGFjdG9ycy5wdXNoKGFjdG9yLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0b3JzLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcbiAgICAgICAgaHRtbC5maW5kKCcub3ZlcndhdGNoLXNjb3JlLXJlc2V0Jykub24oJ2NsaWNrJywgdGhpcy5fcmVzZXRPdmVyd2F0Y2hTY29yZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcub3ZlcndhdGNoLXNjb3JlLWFkZCcpLm9uKCdjbGljaycsIHRoaXMuX2FkZE92ZXJ3YXRjaFNjb3JlLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5vdmVyd2F0Y2gtc2NvcmUtaW5wdXQnKS5vbignY2hhbmdlJywgdGhpcy5fc2V0T3ZlcndhdGNoU2NvcmUuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLm92ZXJ3YXRjaC1zY29yZS1yb2xsLTE1LW1pbnV0ZXMnKS5vbignY2xpY2snLCB0aGlzLl9yb2xsRm9yMTVNaW51dGVzLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5vdmVyd2F0Y2gtc2NvcmUtYWRkLWFjdG9yJykub24oJ2NsaWNrJywgdGhpcy5fb25BZGRBY3Rvci5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm5zIHRoZSBhY3RvciB0aGF0IHRoaXMgZXZlbnQgaXMgYWN0aW5nIG9uXG4gICAgX2dldEFjdG9yRnJvbUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcubGlzdC1pdGVtJykuZGF0YXNldC5hY3RvcklkO1xuICAgICAgICBpZiAoaWQpIHJldHVybiBnYW1lLmFjdG9ycy5maW5kKChhKSA9PiBhLl9pZCA9PT0gaWQpO1xuICAgIH1cblxuICAgIF9vbkFkZEFjdG9yKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IEhlbHBlcnMuZ2V0Q29udHJvbGxlZFRva2VucygpO1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk92ZXJ3YXRjaFNjb3JlVHJhY2tlci5Ob3RpZnlOb1NlbGVjdGVkVG9rZW5zJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0b3JJZCA9IHRva2VuLmRhdGEuYWN0b3JJZDtcbiAgICAgICAgICAgIE92ZXJ3YXRjaFNjb3JlVHJhY2tlci5hZGRlZEFjdG9ycy5wdXNoKGFjdG9ySWQpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3NldE92ZXJ3YXRjaFNjb3JlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGFjdG9yID0gdGhpcy5fZ2V0QWN0b3JGcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBhbW91bnQgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICBpZiAoYW1vdW50ICYmIGFjdG9yKSB7XG4gICAgICAgICAgICBhY3Rvci5zZXRPdmVyd2F0Y2hTY29yZShhbW91bnQpLnRoZW4oKCkgPT4gdGhpcy5yZW5kZXIoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWRkT3ZlcndhdGNoU2NvcmUoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgYWN0b3IgPSB0aGlzLl9nZXRBY3RvckZyb21FdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hbW91bnQpO1xuICAgICAgICBpZiAoYW1vdW50ICYmIGFjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBvcyA9IGFjdG9yLmdldE92ZXJ3YXRjaFNjb3JlKCk7XG4gICAgICAgICAgICBhY3Rvci5zZXRPdmVyd2F0Y2hTY29yZShvcyArIGFtb3VudCkudGhlbigoKSA9PiB0aGlzLnJlbmRlcigpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXNldE92ZXJ3YXRjaFNjb3JlKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGFjdG9yID0gdGhpcy5fZ2V0QWN0b3JGcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAoYWN0b3IpIHtcbiAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKDApLnRoZW4oKCkgPT4gdGhpcy5yZW5kZXIoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcm9sbEZvcjE1TWludXRlcyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBhY3RvciA9IHRoaXMuX2dldEFjdG9yRnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgICAvLyAgdXNlIHN0YXRpYyB2YWx1ZSBzbyBpdCBjYW4gYmUgbW9kaWZpZWQgaW4gbW9kdWxlc1xuICAgICAgICAgICAgY29uc3Qgcm9sbCA9IG5ldyBSb2xsKE92ZXJ3YXRjaFNjb3JlVHJhY2tlci5NYXRyaXhPdmVyd2F0Y2hEaWNlQ291bnQpO1xuICAgICAgICAgICAgcm9sbC5yb2xsKCk7XG5cbiAgICAgICAgICAgIC8vIHVzZSBHTSBSb2xsIE1vZGUgc28gcGxheWVycyBkb24ndCBzZWVcbiAgICAgICAgICAgIC8vIGNvbnN0IHJvbGxNb2RlID0gQ09ORklHLkRpY2Uucm9sbE1vZGVzLmdtcm9sbDtcbiAgICAgICAgICAgIC8vIHJvbGwudG9NZXNzYWdlKHsgcm9sbE1vZGUgfSk7XG5cbiAgICAgICAgICAgIGlmIChyb2xsLnRvdGFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3MgPSBhY3Rvci5nZXRPdmVyd2F0Y2hTY29yZSgpO1xuICAgICAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKG9zICsgcm9sbC50b3RhbCkudGhlbigoKSA9PiB0aGlzLnJlbmRlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IExhbmd1YWdlU2tpbGxFZGl0Rm9ybSB9IGZyb20gJy4vTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtJztcbmltcG9ydCBLbm93bGVkZ2VTa2lsbENhdGVnb3J5ID0gU2hhZG93cnVuLktub3dsZWRnZVNraWxsQ2F0ZWdvcnk7XG5cbmV4cG9ydCBjbGFzcyBLbm93bGVkZ2VTa2lsbEVkaXRGb3JtIGV4dGVuZHMgTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtIHtcbiAgICBjYXRlZ29yeTogS25vd2xlZGdlU2tpbGxDYXRlZ29yeTtcbiAgICBjb25zdHJ1Y3RvcihhY3Rvciwgb3B0aW9ucywgc2tpbGxJZCwgY2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIoYWN0b3IsIG9wdGlvbnMsIHNraWxsSWQpO1xuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgfVxuICAgIF91cGRhdGVTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgZGF0YS5za2lsbHMua25vd2xlZGdlLiR7dGhpcy5jYXRlZ29yeX0udmFsdWUuJHt0aGlzLnNraWxsSWR9YDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTa2lsbEVkaXRGb3JtIH0gZnJvbSAnLi9Ta2lsbEVkaXRGb3JtJztcbmltcG9ydCBTa2lsbEVkaXRGb3JtRGF0YSA9IFNoYWRvd3J1bi5Ta2lsbEVkaXRGb3JtRGF0YTtcblxuZXhwb3J0IGNsYXNzIExhbmd1YWdlU2tpbGxFZGl0Rm9ybSBleHRlbmRzIFNraWxsRWRpdEZvcm0ge1xuICAgIF91cGRhdGVTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWUuJHt0aGlzLnNraWxsSWR9YDtcbiAgICB9XG5cbiAgICBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZ2V0RGF0YSgpLCB7XG4gICAgICAgICAgICBlZGl0YWJsZV9uYW1lOiB0cnVlLFxuICAgICAgICAgICAgZWRpdGFibGVfY2FuRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICBlZGl0YWJsZV9hdHRyaWJ1dGU6IGZhbHNlXG4gICAgICAgIH0gYXMgU2tpbGxFZGl0Rm9ybURhdGEpO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBfb25VcGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhLCB1cGRhdGVEYXRhKSB7XG4gICAgICAgIHN1cGVyLl9vblVwZGF0ZU9iamVjdChldmVudCwgZm9ybURhdGEsIHVwZGF0ZURhdGEpO1xuICAgICAgICBjb25zdCBuYW1lID0gZm9ybURhdGFbJ2RhdGEubmFtZSddO1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0YSA9IHVwZGF0ZURhdGFbdGhpcy5fdXBkYXRlU3RyaW5nKCldIHx8IHt9O1xuICAgICAgICB1cGRhdGVEYXRhW3RoaXMuX3VwZGF0ZVN0cmluZygpXSA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU2tpbGxFZGl0Rm9ybURhdGEgPSBTaGFkb3dydW4uU2tpbGxFZGl0Rm9ybURhdGE7XG5pbXBvcnQge1NSNUFjdG9yfSBmcm9tIFwiLi4vLi4vYWN0b3IvU1I1QWN0b3JcIjtcbmltcG9ydCBBdHRyaWJ1dGVzID0gU2hhZG93cnVuLkF0dHJpYnV0ZXM7XG5pbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuXG5leHBvcnQgY2xhc3MgU2tpbGxFZGl0Rm9ybSBleHRlbmRzIEJhc2VFbnRpdHlTaGVldCB7XG4gICAgc2tpbGxJZDogc3RyaW5nO1xuXG4gICAgZ2V0IGVudGl0eSgpOiBTUjVBY3RvciB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gc3VwZXIuZW50aXR5O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGFjdG9yLCBvcHRpb25zLCBza2lsbElkKSB7XG4gICAgICAgIHN1cGVyKGFjdG9yLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5za2lsbElkID0gc2tpbGxJZDtcbiAgICB9XG5cbiAgICBfdXBkYXRlU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYGRhdGEuc2tpbGxzLmFjdGl2ZS4ke3RoaXMuc2tpbGxJZH1gO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdXBlci5kZWZhdWx0T3B0aW9ucztcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KG9wdGlvbnMsIHtcbiAgICAgICAgICAgIGlkOiAnc2tpbGwtZWRpdG9yJyxcbiAgICAgICAgICAgIGNsYXNzZXM6IFsnc3I1JywgJ3NoZWV0JywgJ3NraWxsLWVkaXQtd2luZG93J10sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYXBwcy9za2lsbC1lZGl0Lmh0bWwnLFxuICAgICAgICAgICAgd2lkdGg6IDMwMCxcbiAgICAgICAgICAgIHN1Ym1pdE9uQ2xvc2U6IHRydWUsXG4gICAgICAgICAgICBzdWJtaXRPbkNoYW5nZTogdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25TdWJtaXQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgdGl0bGUoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmVudGl0eS5nZXRTa2lsbExhYmVsKHRoaXMuc2tpbGxJZCk7XG4gICAgICAgIHJldHVybiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5FZGl0U2tpbGwnKX0gLSAke2dhbWUuaTE4bi5sb2NhbGl6ZShsYWJlbCl9YDtcbiAgICB9XG5cbiAgICBfb25VcGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhLCB1cGRhdGVEYXRhKSB7XG4gICAgICAgIC8vIGdldCBza2lsbCBuYW1lLlxuICAgICAgICAvLyBOT1RFOiBUaGlzIGRpZmZlcnMgZnJvbSB0aGUgc2tpbGwgaWQsIHdoaWNoIGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIHNraWxsIGludGVybmFsbHkuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBmb3JtRGF0YVsnZGF0YS5uYW1lJ107XG5cbiAgICAgICAgLy8gZ2V0IGF0dHJpYnV0ZSBuYW1lXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGZvcm1EYXRhWydkYXRhLmF0dHJpYnV0ZSddO1xuXG4gICAgICAgIC8vIGdldCBiYXNlIHZhbHVlXG4gICAgICAgIGNvbnN0IGJhc2UgPSBmb3JtRGF0YVsnZGF0YS5iYXNlJ107XG5cbiAgICAgICAgLy8gZ2V0IGNhbiBkZWZhdWx0XG4gICAgICAgIGNvbnN0IGNhbkRlZmF1bHQgPSBmb3JtRGF0YVsnZGF0YS5jYW5EZWZhdWx0J107XG5cbiAgICAgICAgLy8gcHJvY2VzcyBzcGVjaWFsaXphdGlvbnNcbiAgICAgICAgY29uc3Qgc3BlY3NSZWdleCA9IC9kYXRhXFwuc3BlY3NcXC4oXFxkKykvO1xuICAgICAgICBjb25zdCBzcGVjcyA9IE9iamVjdC5lbnRyaWVzKGZvcm1EYXRhKS5yZWR1Y2UoKHJ1bm5pbmcsIFtrZXksIHZhbF06IFtzdHJpbmcsIGFueV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0ga2V5Lm1hdGNoKHNwZWNzUmVnZXgpO1xuICAgICAgICAgICAgaWYgKGZvdW5kICYmIGZvdW5kWzBdKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZy5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSwgW10gYXMgYW55W10pO1xuXG4gICAgICAgIC8vIHByb2Nlc3MgYm9udXNlc1xuICAgICAgICBjb25zdCBib251c0tleVJlZ2V4ID0gL2RhdGFcXC5ib251c1xcLihcXGQrKS5rZXkvO1xuICAgICAgICBjb25zdCBib251c1ZhbHVlUmVnZXggPSAvZGF0YVxcLmJvbnVzXFwuKFxcZCspLnZhbHVlLztcbiAgICAgICAgY29uc3QgYm9udXMgPSBPYmplY3QuZW50cmllcyhmb3JtRGF0YSkucmVkdWNlKChydW5uaW5nLCBba2V5LCB2YWx1ZV06IFtzdHJpbmcsIGFueV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kS2V5ID0ga2V5Lm1hdGNoKGJvbnVzS2V5UmVnZXgpO1xuICAgICAgICAgICAgY29uc3QgZm91bmRWYWwgPSBrZXkubWF0Y2goYm9udXNWYWx1ZVJlZ2V4KTtcbiAgICAgICAgICAgIGlmIChmb3VuZEtleSAmJiBmb3VuZEtleVswXSAmJiBmb3VuZEtleVsxXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZm91bmRLZXlbMV07XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdbaW5kZXhdID09PSB1bmRlZmluZWQpIHJ1bm5pbmdbaW5kZXhdID0ge307XG4gICAgICAgICAgICAgICAgcnVubmluZ1tpbmRleF0ua2V5ID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvdW5kVmFsICYmIGZvdW5kVmFsWzBdICYmIGZvdW5kVmFsWzFdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBmb3VuZFZhbFsxXTtcbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ1tpbmRleF0gPT09IHVuZGVmaW5lZCkgcnVubmluZ1tpbmRleF0gPSB7fTtcbiAgICAgICAgICAgICAgICBydW5uaW5nW2luZGV4XS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSwgW10gYXMgYW55W10pO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRhID0gdXBkYXRlRGF0YVt0aGlzLl91cGRhdGVTdHJpbmcoKV0gfHwge307XG4gICAgICAgIHVwZGF0ZURhdGFbdGhpcy5fdXBkYXRlU3RyaW5nKCldID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudERhdGEsXG4gICAgICAgICAgICBiYXNlLFxuICAgICAgICAgICAgc3BlY3MsXG4gICAgICAgICAgICBib251cyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBhdHRyaWJ1dGUsXG4gICAgICAgICAgICBjYW5EZWZhdWx0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIGFzeW5jIF91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5fb25VcGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhLCB1cGRhdGVEYXRhKTtcbiAgICAgICAgYXdhaXQgdGhpcy5lbnRpdHkudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG4gICAgICAgICQoaHRtbCkuZmluZCgnLmFkZC1zcGVjJykub24oJ2NsaWNrJywgdGhpcy5fYWRkTmV3U3BlYy5iaW5kKHRoaXMpKTtcbiAgICAgICAgJChodG1sKS5maW5kKCcucmVtb3ZlLXNwZWMnKS5vbignY2xpY2snLCB0aGlzLl9yZW1vdmVTcGVjLmJpbmQodGhpcykpO1xuICAgICAgICAkKGh0bWwpLmZpbmQoJy5hZGQtYm9udXMnKS5vbignY2xpY2snLCB0aGlzLl9hZGROZXdCb251cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgJChodG1sKS5maW5kKCcucmVtb3ZlLWJvbnVzJykub24oJ2NsaWNrJywgdGhpcy5fcmVtb3ZlQm9udXMuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX2FkZE5ld0JvbnVzKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpLmRhdGE7XG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGJvbnVzID0gW10gfSA9IGRhdGE7XG4gICAgICAgIC8vIGFkZCBibGFuayBsaW5lIGZvciBuZXcgYm9udXNcbiAgICAgICAgdXBkYXRlRGF0YVtgJHt0aGlzLl91cGRhdGVTdHJpbmcoKX0uYm9udXNgXSA9IFsuLi5ib251cywgeyBrZXk6ICcnLCB2YWx1ZTogMCB9XTtcbiAgICAgICAgYXdhaXQgdGhpcy5lbnRpdHkudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIF9yZW1vdmVCb251cyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGEoKS5kYXRhO1xuICAgICAgICBpZiAoZGF0YT8uYm9udXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYm9udXMgfSA9IGRhdGE7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5zcGVjO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBib251cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbYCR7dGhpcy5fdXBkYXRlU3RyaW5nKCl9LmJvbnVzYF0gPSBib251cztcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmVudGl0eS51cGRhdGUodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBfYWRkTmV3U3BlYyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGEoKS5kYXRhO1xuICAgICAgICBpZiAoZGF0YT8uc3BlY3MpIHtcbiAgICAgICAgICAgIC8vIGFkZCBhIGJsYW5rIGxpbmUgdG8gc3BlY3NcbiAgICAgICAgICAgIGNvbnN0IHsgc3BlY3MgfSA9IGRhdGE7XG4gICAgICAgICAgICB1cGRhdGVEYXRhW2Ake3RoaXMuX3VwZGF0ZVN0cmluZygpfS5zcGVjc2BdID0gWy4uLnNwZWNzLCAnJ107XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5lbnRpdHkudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIF9yZW1vdmVTcGVjKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpLmRhdGE7XG4gICAgICAgIGlmIChkYXRhPy5zcGVjcykge1xuICAgICAgICAgICAgY29uc3QgeyBzcGVjcyB9ID0gZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNwZWM7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHNwZWNzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVtgJHt0aGlzLl91cGRhdGVTdHJpbmcoKX0uc3BlY3NgXSA9IHNwZWNzO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZW50aXR5LnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBFbmhhbmNlIGF0dHJpYnV0ZSBzZWxlY3Rpb24gYnkgYW4gZW1wdHkgb3B0aW9uIHRvIGFsbG93IG5ld2x5IGNyZWF0ZWQgc2tpbGxzIHRvIGhhdmUgbm8gYXR0cmlidXRlIHNlbGVjdGVkLlxuICAgICAqL1xuICAgIF9nZXRTa2lsbEF0dHJpYnV0ZXNGb3JTZWxlY3QoKSB7XG4gICAgICAgIHJldHVybiB7Li4uQ09ORklHLlNSNS5hdHRyaWJ1dGVzLCAnJzogJyd9O1xuICAgIH1cblxuICAgIF9hbGxvd1NraWxsTmFtZUVkaXRpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5lbnRpdHkuZ2V0U2tpbGwodGhpcy5za2lsbElkKTtcbiAgICAgICAgLy8gVHlwZXNjcmlwdCBzZWVzIHN0cmluZyBoZXJlPyBEb3VibGUgbmVnYXRlIGZvciBib29sZWFuIHR5cGUgY2FzdC4uLlxuICAgICAgICByZXR1cm4gISEoKCFza2lsbD8ubmFtZSAmJiAhc2tpbGw/LmxhYmVsKSB8fCAoc2tpbGw/Lm5hbWUgJiYgIXNraWxsPy5sYWJlbCkpO1xuICAgIH1cblxuICAgIGdldERhdGEoKTogU2tpbGxFZGl0Rm9ybURhdGEge1xuICAgICAgICBjb25zdCBkYXRhID0gc3VwZXIuZ2V0RGF0YSgpO1xuICAgICAgICBjb25zdCBhY3RvciA9IGRhdGEuZW50aXR5O1xuXG4gICAgICAgIGRhdGFbJ2RhdGEnXSA9IGFjdG9yID8gZ2V0UHJvcGVydHkoYWN0b3IsIHRoaXMuX3VwZGF0ZVN0cmluZygpKSA6IHt9O1xuICAgICAgICBkYXRhWydlZGl0YWJsZV9uYW1lJ10gPSB0aGlzLl9hbGxvd1NraWxsTmFtZUVkaXRpbmcoKTtcbiAgICAgICAgZGF0YVsnZWRpdGFibGVfY2FuRGVmYXVsdCddID0gdHJ1ZTtcbiAgICAgICAgZGF0YVsnZWRpdGFibGVfYXR0cmlidXRlJ10gPSB0cnVlO1xuICAgICAgICBkYXRhWydhdHRyaWJ1dGVzJ10gPSB0aGlzLl9nZXRTa2lsbEF0dHJpYnV0ZXNGb3JTZWxlY3QoKTtcbiAgICAgICAgcmV0dXJuIGRhdGEgYXMgU2tpbGxFZGl0Rm9ybURhdGE7XG4gICAgfVxufVxuIiwiLy8gZGlyZWN0bHkgcHVsbGVkIGZyb20gRE5ENWUsIGp1c3QgY2hhbmdlZCB0aGVcbmV4cG9ydCBjb25zdCBtZWFzdXJlRGlzdGFuY2UgPSBmdW5jdGlvbiAoc2VnbWVudHMsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vQHRzLWlnbm9yZVxuICAgIC8vIGJhc2VncmlkIGlzbid0IHR5cGVkLCBvcHRpb25zIGFyZW4ndCByZWFsbHkgaW1wb3J0YW50XG4gICAgaWYgKCFvcHRpb25zLmdyaWRTcGFjZXMpIHJldHVybiBCYXNlR3JpZC5wcm90b3R5cGUubWVhc3VyZURpc3RhbmNlcy5jYWxsKHRoaXMsIHNlZ21lbnRzLCBvcHRpb25zKTtcblxuICAgIC8vIFRyYWNrIHRoZSB0b3RhbCBudW1iZXIgb2YgZGlhZ29uYWxzXG4gICAgbGV0IG5EaWFnb25hbCA9IDA7XG4gICAgY29uc3QgcnVsZSA9IHRoaXMucGFyZW50LmRpYWdvbmFsUnVsZTtcbiAgICBjb25zdCBkID0gY2FudmFzLmRpbWVuc2lvbnM7XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgbWVhc3VyZWQgc2VnbWVudHNcbiAgICByZXR1cm4gc2VnbWVudHMubWFwKChzKSA9PiB7XG4gICAgICAgIGxldCByID0gcy5yYXk7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB0b3RhbCBkaXN0YW5jZSB0cmF2ZWxlZFxuICAgICAgICBsZXQgbnggPSBNYXRoLmFicyhNYXRoLmNlaWwoci5keCAvIGQuc2l6ZSkpO1xuICAgICAgICBsZXQgbnkgPSBNYXRoLmFicyhNYXRoLmNlaWwoci5keSAvIGQuc2l6ZSkpO1xuXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgbnVtYmVyIG9mIHN0cmFpZ2h0IGFuZCBkaWFnb25hbCBtb3Zlc1xuICAgICAgICBsZXQgbmQgPSBNYXRoLm1pbihueCwgbnkpO1xuICAgICAgICBsZXQgbnMgPSBNYXRoLmFicyhueSAtIG54KTtcbiAgICAgICAgbkRpYWdvbmFsICs9IG5kO1xuXG4gICAgICAgIC8vIENvbW1vbiBob3VzZXJ1bGUgdmFyaWFudFxuICAgICAgICBpZiAocnVsZSA9PT0gJzEtMi0xJykge1xuICAgICAgICAgICAgbGV0IG5kMTAgPSBNYXRoLmZsb29yKG5EaWFnb25hbCAvIDIpIC0gTWF0aC5mbG9vcigobkRpYWdvbmFsIC0gbmQpIC8gMik7XG4gICAgICAgICAgICBsZXQgc3BhY2VzID0gbmQxMCAqIDIgKyAobmQgLSBuZDEwKSArIG5zO1xuICAgICAgICAgICAgcmV0dXJuIHNwYWNlcyAqIGNhbnZhcy5kaW1lbnNpb25zLmRpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXVjbGlkZWFuIE1lYXN1cmVtZW50XG4gICAgICAgIGVsc2UgaWYgKHJ1bGUgPT09ICdFVUNMJykge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5oeXBvdChueCwgbnkpICogY2FudmFzLnNjZW5lLmRhdGEuZ3JpZERpc3RhbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpYWcgYW5kIHN0cmFpZ2h0IGFyZSBzYW1lIHNwYWNlIGNvdW50XG4gICAgICAgIGVsc2UgcmV0dXJuIChucyArIG5kKSAqIGNhbnZhcy5zY2VuZS5kYXRhLmdyaWREaXN0YW5jZTtcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBTUjVBY3RvciB9IGZyb20gJy4vYWN0b3IvU1I1QWN0b3InO1xuaW1wb3J0IHsgU1I1SXRlbSB9IGZyb20gJy4vaXRlbS9TUjVJdGVtJztcbmltcG9ydCBUZW1wbGF0ZSBmcm9tICcuL3RlbXBsYXRlJztcbmltcG9ydCBBdHRhY2tEYXRhID0gU2hhZG93cnVuLkF0dGFja0RhdGE7XG5pbXBvcnQge0NPUkVfRkxBR1MsIENPUkVfTkFNRSwgRkxBR1MsIFNZU1RFTV9OQU1FfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQge1NoYWRvd3J1blJvbGwsIFRlc3R9IGZyb20gXCIuL3JvbGxzL1NoYWRvd3J1blJvbGxlclwiO1xuaW1wb3J0IERyYWluRGF0YSA9IFNoYWRvd3J1bi5EcmFpbkRhdGE7XG5pbXBvcnQge0hlbHBlcnN9IGZyb20gXCIuL2hlbHBlcnNcIjtcbmltcG9ydCBNb2RpZmllZERhbWFnZURhdGEgPSBTaGFkb3dydW4uTW9kaWZpZWREYW1hZ2VEYXRhO1xuaW1wb3J0IERhbWFnZVR5cGUgPSBTaGFkb3dydW4uRGFtYWdlVHlwZTtcbmltcG9ydCBEYW1hZ2VFbGVtZW50ID0gU2hhZG93cnVuLkRhbWFnZUVsZW1lbnQ7XG5pbXBvcnQgQ29tYmF0RGF0YSA9IFNoYWRvd3J1bi5Db21iYXREYXRhO1xuaW1wb3J0IHsgRGFtYWdlQXBwbGljYXRpb25GbG93IH0gZnJvbSAnLi9hY3Rvci9EYW1hZ2VBcHBsaWNhdGlvbkZsb3cnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJvbGxUYXJnZXRDaGF0TWVzc2FnZSB7XG4gICAgYWN0b3I6IFNSNUFjdG9yXG4gICAgdGFyZ2V0PzogVG9rZW58dW5kZWZpbmVkXG4gICAgdGFyZ2V0cz86IFRva2VuW11cbiAgICBpdGVtOiBTUjVJdGVtXG4gICAgdGVzdHM6IFRlc3RbXVxuICAgIHJvbGw6IFNoYWRvd3J1blJvbGxcbiAgICBhdHRhY2s/OiBBdHRhY2tEYXRhXG4gICAgcm9sbE1vZGU/OiBrZXlvZiB0eXBlb2YgQ09ORklHLkRpY2Uucm9sbE1vZGVzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFyZ2V0Q2hhdE1lc3NhZ2VPcHRpb25zIGV4dGVuZHMgUm9sbFRhcmdldENoYXRNZXNzYWdle1xuICAgIHdoaXNwZXJUbzogVXNlclxufVxuXG4vLyBTaW1wbGUgY2FyZCB0ZXh0IG1lc3NhZ2VzXG5leHBvcnQgaW50ZXJmYWNlIEl0ZW1DaGF0TWVzc2FnZU9wdGlvbnMge1xuICAgIGFjdG9yOiBTUjVBY3RvclxuICAgIGl0ZW06IFNSNUl0ZW1cbiAgICBkZXNjcmlwdGlvbjogb2JqZWN0XG4gICAgdGVzdHM/OiBUZXN0W11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb2xsQ2hhdE1lc3NhZ2VPcHRpb25zIHtcbiAgICB0aXRsZTogc3RyaW5nXG4gICAgcm9sbDogU2hhZG93cnVuUm9sbFxuICAgIGFjdG9yPzogU1I1QWN0b3JcbiAgICB0YXJnZXQ/OiBUb2tlblxuICAgIHRhcmdldHM/OiBUb2tlbltdXG5cbiAgICBpdGVtPzogU1I1SXRlbVxuXG4gICAgZGVzY3JpcHRpb24/OiBvYmplY3RcblxuICAgIHJvbGxNb2RlPzoga2V5b2YgdHlwZW9mIENPTkZJRy5kaWNlLnJvbGxNb2Rlc1xuICAgIHByZXZpZXdUZW1wbGF0ZT86IGJvb2xlYW5cblxuICAgIGF0dGFjaz86IEF0dGFja0RhdGFcbiAgICBpbmNvbWluZ0F0dGFjaz86IEF0dGFja0RhdGFcbiAgICBpbmNvbWluZ0RyYWluPzogRHJhaW5EYXRhXG4gICAgZGFtYWdlPzogTW9kaWZpZWREYW1hZ2VEYXRhXG4gICAgdGVzdHM/OiBUZXN0W11cbiAgICBjb21iYXQ/OiBDb21iYXREYXRhXG4gICAgcmVhY2g/OiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIEl0ZW1DaGF0VGVtcGxhdGVEYXRhIHtcbiAgICB0aXRsZTogc3RyaW5nXG4gICAgYWN0b3I6IFNSNUFjdG9yXG4gICAgdG9rZW5JZD86IHN0cmluZ1xuICAgIGl0ZW06IFNSNUl0ZW1cbiAgICBkZXNjcmlwdGlvbjogb2JqZWN0XG4gICAgdGVzdHM/OiBUZXN0W11cbn1cblxuaW50ZXJmYWNlIFJvbGxDaGF0VGVtcGxhdGVEYXRhIGV4dGVuZHMgUm9sbENoYXRNZXNzYWdlT3B0aW9ucyB7XG4gICAgdG9rZW5JZD86IHN0cmluZ1xuICAgIHRhcmdldFRva2VuSWQ/OiBzdHJpbmdcbiAgICByb2xsTW9kZToga2V5b2YgdHlwZW9mIENPTkZJRy5kaWNlLnJvbGxNb2Rlc1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDaGF0TWVzc2FnZSh0ZW1wbGF0ZURhdGEsIG9wdGlvbnM/OiBDaGF0RGF0YU9wdGlvbnMpOiBQcm9taXNlPEVudGl0eTxhbnk+PiB7XG4gICAgY29uc3QgY2hhdERhdGEgPSBhd2FpdCBjcmVhdGVDaGF0RGF0YSh0ZW1wbGF0ZURhdGEsIG9wdGlvbnMpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpO1xuXG4gICAgLy8gU3RvcmUgZGF0YSBpbiBjaGF0IG1lc3NhZ2UgZm9yIGxhdGVyIHVzZSAob3Bwb3NlZCB0ZXN0cylcbiAgICBpZiAodGVtcGxhdGVEYXRhLnJvbGwpIGF3YWl0IG1lc3NhZ2Uuc2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuUm9sbCwgdGVtcGxhdGVEYXRhLnJvbGwpO1xuICAgIGlmICh0ZW1wbGF0ZURhdGEuYXR0YWNrKSBhd2FpdCBtZXNzYWdlLnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkF0dGFjaywgdGVtcGxhdGVEYXRhLmF0dGFjayk7XG4gICAgLy8gQ29udmVydCB0YXJnZXRzIGludG8gc2NlbmUgdG9rZW4gaWRzLlxuICAgIGlmICh0ZW1wbGF0ZURhdGEudGFyZ2V0cykgYXdhaXQgbWVzc2FnZS5zZXRGbGFnKFNZU1RFTV9OQU1FLCBGTEFHUy5UYXJnZXRzU2NlbmVUb2tlbklkcywgdGVtcGxhdGVEYXRhLnRhcmdldHMubWFwKHRhcmdldCA9PiBnZXRUb2tlblNjZW5lSWQodGFyZ2V0KSkpO1xuXG4gICAgY29uc29sZS5sb2coJ0NoYXQgTWVzc2FnZScsIG1lc3NhZ2UsIGNoYXREYXRhKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cblxuaW50ZXJmYWNlIENoYXREYXRhT3B0aW9ucyB7XG4gICAgcm9sbD86IFNoYWRvd3J1blJvbGwsXG4gICAgd2hpc3BlclRvPzogVXNlclxufVxuLy8gdGVtcGxhdGVEYXRhIGhhcyBubyBkYXRhdHlwZSB0byBwaXBlIHRocm91Z2ggd2hhdGV2ZXIgaXQncyBnaXZlbi5cbi8vIENsZWFuIHVwIHlvdXIgZGF0YSB3aXRoaW4gdGVtcGxhdGVEYXRhIGNyZWF0aW9uIGZ1bmN0aW9ucyFcbmNvbnN0IGNyZWF0ZUNoYXREYXRhID0gYXN5bmMgKHRlbXBsYXRlRGF0YSwgb3B0aW9ucz86IENoYXREYXRhT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gYHN5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvcm9sbC1jYXJkLmh0bWxgO1xuICAgIGNvbnN0IGFjdG9yID0gdGVtcGxhdGVEYXRhLmFjdG9yO1xuICAgIGNvbnN0IHRva2VuID0gYWN0b3I/LmdldFRva2VuKCk7XG5cbiAgICAvL0B0cy1pZ25vcmVcbiAgICBjb25zdCBlbmhhbmNlZFRlbXBsYXRlRGF0YSA9IHtcbiAgICAgICAgLi4udGVtcGxhdGVEYXRhLFxuICAgICAgICBzcGVha2VyOiB7XG4gICAgICAgICAgICBhY3RvciwgdG9rZW5cbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0dsaXRjaEFuaW1hdGlvbjogZ2FtZS5zZXR0aW5ncy5nZXQoU1lTVEVNX05BTUUsIEZMQUdTLlNob3dHbGl0Y2hBbmltYXRpb24pLFxuICAgIH07XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCBlbmhhbmNlZFRlbXBsYXRlRGF0YSk7XG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgICAgdXNlcjogZ2FtZS51c2VyLl9pZCxcbiAgICAgICAgdHlwZTogb3B0aW9ucz8ucm9sbCA/IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5ST0xMIDogQ09OU1QuQ0hBVF9NRVNTQUdFX1RZUEVTLk9USEVSLFxuICAgICAgICBzb3VuZDogb3B0aW9ucz8ucm9sbCA/IENPTkZJRy5zb3VuZHMuZGljZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgY29udGVudDogaHRtbCxcbiAgICAgICAgcm9sbDogb3B0aW9ucz8ucm9sbCA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnM/LnJvbGwpIDogdW5kZWZpbmVkLFxuICAgICAgICBzcGVha2VyOiB7XG4gICAgICAgICAgICBhY3RvcjogYWN0b3I/Ll9pZCxcbiAgICAgICAgICAgIHRva2VuOiBhY3Rvcj8uZ2V0VG9rZW4oKSxcbiAgICAgICAgICAgIGFsaWFzOiBnYW1lLnVzZXIubmFtZVxuICAgICAgICB9LFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgc2hhZG93cnVuNWU6IHtcbiAgICAgICAgICAgICAgICBjdXN0b21Sb2xsOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByb2xsTW9kZSA9IHRlbXBsYXRlRGF0YS5yb2xsTW9kZSA/PyBnYW1lLnNldHRpbmdzLmdldChDT1JFX05BTUUsIENPUkVfRkxBR1MuUm9sbE1vZGUpO1xuXG4gICAgaWYgKFsnZ21yb2xsJywgJ2JsaW5kcm9sbCddLmluY2x1ZGVzKHJvbGxNb2RlIGFzIHN0cmluZykpIGNoYXREYXRhWyd3aGlzcGVyJ10gPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKTtcbiAgICBpZiAocm9sbE1vZGUgPT09ICdibGluZHJvbGwnKSBjaGF0RGF0YVsnYmxpbmQnXSA9IHRydWU7XG5cbiAgICBpZiAob3B0aW9ucz8ud2hpc3BlclRvKSB7XG4gICAgICAgIGNoYXREYXRhWyd3aGlzcGVyJ10gPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cyhvcHRpb25zLndoaXNwZXJUby5uYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hhdERhdGE7XG59O1xuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpZkNvbmZpZ3VyZWRDcmVhdGVEZWZhdWx0Q2hhdE1lc3NhZ2Uoe3JvbGwsIGFjdG9yLCB0aXRsZSwgcm9sbE1vZGV9OiBQYXJ0aWFsPFJvbGxDaGF0TWVzc2FnZU9wdGlvbnM+KSB7XG4gICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5EaXNwbGF5RGVmYXVsdFJvbGxDYXJkKSAmJiByb2xsKSB7XG4gICAgICAgIGF3YWl0IHJvbGwudG9NZXNzYWdlKHtcbiAgICAgICAgICAgIHNwZWFrZXI6IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoeyBhY3RvcjogYWN0b3IgfSksXG4gICAgICAgICAgICBmbGF2b3I6IHRpdGxlLFxuICAgICAgICAgICAgcm9sbE1vZGU6IHJvbGxNb2RlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUYXJnZXRDaGF0TWVzc2FnZShvcHRpb25zOiBUYXJnZXRDaGF0TWVzc2FnZU9wdGlvbnMpIHtcbiAgICBjb25zdCByb2xsQ2hhdE9wdGlvbnMgPSB7Li4ub3B0aW9uc307XG4gICAgY29uc3QgbWVzc2FnZU9wdGlvbnMgPSB7d2hpc3BlclRvOiBvcHRpb25zLndoaXNwZXJUb307XG4gICAgLy9AdHMtaWdub3JlXG4gICAgY29uc3QgdGVtcGxhdGVEYXRhID0gZ2V0Um9sbENoYXRUZW1wbGF0ZURhdGEocm9sbENoYXRPcHRpb25zKTtcbiAgICByZXR1cm4gYXdhaXQgY3JlYXRlQ2hhdE1lc3NhZ2UodGVtcGxhdGVEYXRhLCBtZXNzYWdlT3B0aW9ucyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtQ2hhdE1lc3NhZ2Uob3B0aW9uczogSXRlbUNoYXRNZXNzYWdlT3B0aW9ucykge1xuICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IGNyZWF0ZUNoYXRUZW1wbGF0ZURhdGEob3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUNoYXRNZXNzYWdlKHRlbXBsYXRlRGF0YSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNoYXRUZW1wbGF0ZURhdGEob3B0aW9uczogSXRlbUNoYXRNZXNzYWdlT3B0aW9ucyk6IEl0ZW1DaGF0VGVtcGxhdGVEYXRhIHtcbiAgICAvLyBmaWVsZCBleHRyYWN0aW9uIGlzIGV4cGxpY2l0IHRvIGVuZm9yY2UgdmlzaWJsZSBkYXRhIGZsb3cgdG8gZW5zdXJlIGNsZWFuIGRhdGEuXG4gICAgLy8gTk9URTogQXMgc29vbiBhcyBjbGVhciBkYXRhIGR5bmFtaWMgZGF0YSBmbG93IGNhbiBiZSBlc3RhYmxpc2hlZCwgdGhpcyBzaG91bGQgYmUgcmVtb3ZlZCBmb3IgYSBzaW1wbGUgey4uLm9wdGlvbnN9XG4gICAgbGV0IHthY3RvciwgaXRlbSwgZGVzY3JpcHRpb24sIHRlc3RzfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCB0b2tlbiA9IGFjdG9yPy5nZXRUb2tlbigpO1xuICAgIGNvbnN0IHRva2VuSWQgPSBnZXRUb2tlblNjZW5lSWQodG9rZW4pO1xuICAgIGNvbnN0IHRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LkRlc2NyaXB0aW9uXCIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGFjdG9yLFxuICAgICAgICB0b2tlbklkLFxuICAgICAgICBpdGVtLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgdGVzdHNcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSb2xsQ2hhdE1lc3NhZ2Uob3B0aW9uczogUm9sbENoYXRNZXNzYWdlT3B0aW9ucyk6IFByb21pc2U8RW50aXR5PGFueT4+IHtcbiAgICBhd2FpdCBpZkNvbmZpZ3VyZWRDcmVhdGVEZWZhdWx0Q2hhdE1lc3NhZ2Uob3B0aW9ucyk7XG5cbiAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSBnZXRSb2xsQ2hhdFRlbXBsYXRlRGF0YShvcHRpb25zKTtcbiAgICBjb25zdCBjaGF0T3B0aW9ucyA9IHtyb2xsOiBvcHRpb25zLnJvbGx9O1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBjcmVhdGVDaGF0TWVzc2FnZSh0ZW1wbGF0ZURhdGEsIGNoYXRPcHRpb25zKTtcblxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuXG5cbmZ1bmN0aW9uIGdldFJvbGxDaGF0VGVtcGxhdGVEYXRhKG9wdGlvbnM6IFJvbGxDaGF0TWVzc2FnZU9wdGlvbnMpOiBSb2xsQ2hhdFRlbXBsYXRlRGF0YSB7XG4gICAgY29uc3QgdG9rZW4gPSBvcHRpb25zLmFjdG9yPy5nZXRUb2tlbigpO1xuXG4gICAgY29uc3Qgcm9sbE1vZGUgPSBvcHRpb25zLnJvbGxNb2RlID8/IGdhbWUuc2V0dGluZ3MuZ2V0KENPUkVfTkFNRSwgQ09SRV9GTEFHUy5Sb2xsTW9kZSk7XG4gICAgY29uc3QgdG9rZW5JZCA9IGdldFRva2VuU2NlbmVJZCh0b2tlbik7XG5cbiAgICBjb25zdCB0YXJnZXRUb2tlbklkID0gZ2V0VG9rZW5TY2VuZUlkKG9wdGlvbnMudGFyZ2V0KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdG9rZW5JZCxcbiAgICAgICAgdGFyZ2V0VG9rZW5JZCxcbiAgICAgICAgcm9sbE1vZGUsXG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRUb2tlblNjZW5lSWQodG9rZW46IFRva2VufHVuZGVmaW5lZCk6IHN0cmluZ3x1bmRlZmluZWQge1xuICAgIHJldHVybiB0b2tlbiA/IGAke3Rva2VuLnNjZW5lLl9pZH0uJHt0b2tlbi5pZH1gIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgYWRkQ2hhdE1lc3NhZ2VDb250ZXh0T3B0aW9ucyA9IChodG1sLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgY2FuUm9sbCA9IChsaSkgPT4ge1xuICAgICAgICBjb25zdCBtc2cgPSBnYW1lLm1lc3NhZ2VzLmdldChsaS5kYXRhKCkubWVzc2FnZUlkKTtcblxuICAgICAgICByZXR1cm4gbXNnLmdldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLk1lc3NhZ2VDdXN0b21Sb2xsKTtcbiAgICB9O1xuXG4gICAgb3B0aW9ucy5wdXNoKFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5QdXNoVGhlTGltaXQnKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAobGkpID0+IFNSNUFjdG9yLnB1c2hUaGVMaW1pdChsaSksXG4gICAgICAgICAgICBjb25kaXRpb246IGNhblJvbGwsXG4gICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtbWV0ZW9yXCI+PC9pPicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNlY29uZENoYW5nZScpLFxuICAgICAgICAgICAgY2FsbGJhY2s6IChsaSkgPT4gU1I1QWN0b3Iuc2Vjb25kQ2hhbmNlKGxpKSxcbiAgICAgICAgICAgIGNvbmRpdGlvbjogY2FuUm9sbCxcbiAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1kaWNlLWQ2XCI+PC9pPicsXG4gICAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiBvcHRpb25zO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFJvbGxMaXN0ZW5lcnMgPSAoYXBwOiBDaGF0TWVzc2FnZSwgaHRtbCkgPT4ge1xuICAgIGlmICghYXBwLmdldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLk1lc3NhZ2VDdXN0b21Sb2xsKSkge1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBodG1sLm9uKCdjbGljaycsICcudGVzdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBtZXNzYWdlSWQgPSBodG1sLmRhdGEoJ21lc3NhZ2VJZCcpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgY29uc3QgYXR0YWNrID0gbWVzc2FnZS5nZXRGbGFnKFNZU1RFTV9OQU1FLCBGTEFHUy5BdHRhY2spO1xuICAgICAgICBjb25zdCBpdGVtID0gU1I1SXRlbS5nZXRJdGVtRnJvbU1lc3NhZ2UoaHRtbCk7XG5cbiAgICAgICAgY29uc3QgdHlwZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb247XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NaXNzaW5nSXRlbUZvck9wcG9zZWRUZXN0JykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VsZWN0aW9uIHdpbGwgb3ZlcndyaXRlIGNoYXQgc3BlY2lmaWMgdGFyZ2V0aW5nXG4gICAgICAgIGNvbnN0IGFjdG9ycyA9IEhlbHBlcnMuZ2V0U2VsZWN0ZWRBY3RvcnNPckNoYXJhY3RlcigpO1xuXG4gICAgICAgIC8vIE5vIHNlbGVjdGlvbiwgZmFsbCBiYWNrIHRvIHRhcmdldGluZy5cbiAgICAgICAgaWYgKGFjdG9ycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFNjZW5lSWRzID0gbWVzc2FnZS5nZXRGbGFnKFNZU1RFTV9OQU1FLCBGTEFHUy5UYXJnZXRzU2NlbmVUb2tlbklkcyk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0U2NlbmVJZCBvZiB0YXJnZXRTY2VuZUlkcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gSGVscGVycy5nZXRTY2VuZVRva2VuKHRhcmdldFNjZW5lSWQpO1xuICAgICAgICAgICAgICAgIGlmICghdG9rZW4pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0b3IgPSB0b2tlbi5hY3RvciBhcyBTUjVBY3RvcjtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdG9yKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGFjdG9ycy5wdXNoKGFjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYWN0b3JzKSByZXR1cm47XG5cbiAgICAgICAgZm9yIChjb25zdCBhY3RvciBvZiBhY3RvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IGl0ZW0ucm9sbFRlc3RUeXBlKHR5cGUsIGF0dGFjaywgZXZlbnQsIGFjdG9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGh0bWwub24oJ2NsaWNrJywgJy5wbGFjZS10ZW1wbGF0ZScsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpdGVtID0gU1I1SXRlbS5nZXRJdGVtRnJvbU1lc3NhZ2UoaHRtbCk7XG5cbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gVGVtcGxhdGUuZnJvbUl0ZW0oaXRlbSk7XG4gICAgICAgICAgICB0ZW1wbGF0ZT8uZHJhd1ByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaHRtbC5vbignY2xpY2snLCAnLmNhcmQtbWFpbi1jb250ZW50JywgZXZlbnQgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBOT1RFOiBUaGlzIGRlcGVuZHMgb24gdGhlIGV4YWN0IGNhcmQgdGVtcGxhdGUgSFRNTCBzdHJ1Y3R1cmUuXG4gICAgICAgIGNvbnN0IGNhcmQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5jaGF0LWNhcmQnKTtcbiAgICAgICAgY2FyZC5jaGlsZHJlbignLmRpY2Utcm9sbHMnKS50b2dnbGUoKTtcbiAgICAgICAgY2FyZC5jaGlsZHJlbignLmNhcmQtZGVzY3JpcHRpb24nKS50b2dnbGUoKTtcbiAgICB9KTtcblxuXG4gICAgLyoqIE9wZW4gdGhlIHNoZWV0cyBvZiBkaWZmZXJlbnQgZW50aXR5IHR5cGVzIGJhc2VkIG9uIHRoZSBjaGF0IGNhcmQuXG4gICAgICovXG4gICAgaHRtbC5vbignY2xpY2snLCAnLmNoYXQtZW50aXR5LWxpbmsnLCBldmVudCA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgZW50aXR5TGluayA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIGNvbnN0IGlkID0gZW50aXR5TGluay5kYXRhKCdpZCcpO1xuICAgICAgICBjb25zdCB0eXBlID0gZW50aXR5TGluay5kYXRhKCdlbnRpdHknKTtcblxuICAgICAgICBpZiAoIWlkKSByZXR1cm47XG5cbiAgICAgICBpZiAodHlwZSA9PT0gJ1Rva2VuJykge1xuICAgICAgICAgICBjb25zdCB0b2tlbiA9IGNhbnZhcy50b2tlbnMuZ2V0KGlkKTtcbiAgICAgICAgICAgdG9rZW4uYWN0b3Iuc2hlZXQucmVuZGVyKHRydWUsIHt0b2tlbn0pO1xuICAgICAgIH1cbiAgICAgICBlbHNlIGlmICh0eXBlID09PSAnQWN0b3InKSB7XG4gICAgICAgICAgIGNvbnN0IGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KGlkKTtcbiAgICAgICAgICAgYWN0b3Iuc2hlZXQucmVuZGVyKHRydWUpO1xuICAgICAgIH1cbiAgICAgICBlbHNlIGlmICh0eXBlID09PSAnSXRlbScpIHtcbiAgICAgICAgICAgY29uc3QgY2FyZCA9IGVudGl0eUxpbmsuY2xvc2VzdCgnLmNoYXQtY2FyZCcpO1xuICAgICAgICAgICBjb25zdCBzY2VuZVRva2VuSWQgPSBjYXJkLmRhdGEoJ3Rva2VuSWQnKTtcblxuICAgICAgICAgICBjb25zdCB0b2tlbiA9IEhlbHBlcnMuZ2V0U2NlbmVUb2tlbihzY2VuZVRva2VuSWQpXG5cbiAgICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuXG4gICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0b2tlbi5hY3Rvci5nZXRPd25lZEl0ZW0oaWQpO1xuICAgICAgICAgICBpZiAoaXRlbSkgaXRlbS5zaGVldC5yZW5kZXIodHJ1ZSk7XG4gICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqIFNlbGVjdCBhIFRva2VuIG9uIHRoZSBjdXJyZW50IHNjZW5lIGJhc2VkIG9uIHRoZSBsaW5rIGlkLlxuICAgICAqL1xuICAgIGh0bWwub24oJ2NsaWNrJywgJy5jaGF0LXNlbGVjdC1saW5rJywgZXZlbnQgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdExpbmsgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICBjb25zdCB0b2tlbklkID0gc2VsZWN0TGluay5kYXRhKCd0b2tlbklkJyk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gY2FudmFzLnRva2Vucy5nZXQodG9rZW5JZCk7XG5cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB0b2tlbi5jb250cm9sKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTm9TZWxlY3RhYmxlVG9rZW4nKSlcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqIEFwcGx5IGRhbWFnZSB0byB0aGUgYWN0b3Igc3BlYWtpbmcgdGhlIGNoYXQgY2FyZC5cbiAgICAgKi9cbiAgICBodG1sLm9uKCdjbGljaycsICcuYXBwbHktZGFtYWdlJywgYXN5bmMgZXZlbnQgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgYXBwbHlEYW1hZ2UgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKGFwcGx5RGFtYWdlLmRhdGEoJ2RhbWFnZVZhbHVlJykpO1xuICAgICAgICBjb25zdCB0eXBlID0gU3RyaW5nKGFwcGx5RGFtYWdlLmRhdGEoJ2RhbWFnZVR5cGUnKSkgYXMgRGFtYWdlVHlwZTtcbiAgICAgICAgY29uc3QgYXAgPSBOdW1iZXIoYXBwbHlEYW1hZ2UuZGF0YSgnZGFtYWdlQXAnKSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBTdHJpbmcoYXBwbHlEYW1hZ2UuZGF0YSgnZGFtYWdlRWxlbWVudCcpKSBhcyBEYW1hZ2VFbGVtZW50O1xuICAgICAgICBsZXQgZGFtYWdlID0gSGVscGVycy5jcmVhdGVEYW1hZ2VEYXRhKHZhbHVlLCB0eXBlLCBhcCwgZWxlbWVudCk7XG5cbiAgICAgICAgbGV0IGFjdG9ycyA9IEhlbHBlcnMuZ2V0U2VsZWN0ZWRBY3RvcnNPckNoYXJhY3RlcigpO1xuXG4gICAgICAgIC8vIFNob3VsZCBubyBzZWxlY3Rpb24gYmUgYXZhaWxhYmxlIHRyeSBndWVzc2luZy5cbiAgICAgICAgaWYgKGFjdG9ycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGh0bWwuZGF0YSgnbWVzc2FnZUlkJyk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldElkcyA9IG1lc3NhZ2UuZ2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuVGFyZ2V0c1NjZW5lVG9rZW5JZHMpO1xuXG4gICAgICAgICAgICAvLyBJZiB0YXJnZXRpbmcgaXMgYXZhaWxhYmxlLCB1c2UgdGhhdC5cbiAgICAgICAgICAgIGlmICh0YXJnZXRJZHMpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRJZHMuZm9yRWFjaCh0YXJnZXRJZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gSGVscGVycy5nZXRTY2VuZVRva2VuKHRhcmdldElkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0b3IgPSB0b2tlbj8uYWN0b3IgYXMgU1I1QWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0b3IpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgYWN0b3JzLnB1c2goYWN0b3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgYXBwbHkgdG8gdGhlIGFjdG9yIGNhc3RpbmcgdGhlIGRhbWFnZS5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NlbmVUb2tlbklkID0gaHRtbC5maW5kKCcuY2hhdC1jYXJkJykuZGF0YSgndG9rZW5JZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gSGVscGVycy5nZXRTY2VuZVRva2VuKHNjZW5lVG9rZW5JZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0b3IgPSB0b2tlbj8uYWN0b3IgYXMgU1I1QWN0b3I7XG4gICAgICAgICAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdG9ycy5wdXNoKGFjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhY3RvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZShcIlNSNS5XYXJuaW5ncy5Ub2tlblNlbGVjdGlvbk5lZWRlZFwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV3IERhbWFnZUFwcGxpY2F0aW9uRmxvdygpLnJ1bkFwcGx5RGFtYWdlKGFjdG9ycywgZGFtYWdlKTtcbiAgICB9KTtcbn07IiwiaW1wb3J0IHtTUjVBY3Rvcn0gZnJvbSBcIi4uL2FjdG9yL1NSNUFjdG9yXCI7XG5pbXBvcnQge0NvbWJhdFJ1bGVzfSBmcm9tIFwiLi4vc3I1L0NvbWJhdFwiO1xuaW1wb3J0IHtGTEFHUywgU1IsIFNZU1RFTV9OQU1FLCBTWVNURU1fU09DS0VUfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogRm91bmRyeSBjb21iYXQgaW1wbGVtZW50YXRpb24gZm9yIFNoYWRvd3J1bjUgcnVsZXMuXG4gKlxuICogVE9ETzogU3RvcmUgd2hhdCBjb21iYXRhbnRzIGFscmVhZHkgYWN0ZWQgYW5kIHdpdGggd2hhdCBpbml0aWF0aXZlIGJhc2UgYW5kIGRpY2UgdGhleSBkaWQuIFRoaXMgY2FuIGJlIHVzZWQgdG8gYWx0ZXJcbiAqICAgICAgIGluaXRpYXRpdmUgc2NvcmUgd2l0aG91dCBmdWxseSByZXJvbGxpbmcgYW5kIG1haW50YWluIHByb3BwZXIgdHVybiBvcmRlciBhZnRlciBhbiBhY3RvciByYWlzZWQgdGhleSBpbmkgd2hpbGVcbiAqICAgICAgIHN0ZXBwaW5nIG92ZXIgb3RoZXIgYWN0b3JzIHRoYXQgYWxyZWFkeSBoYWQgdGhlaXIgYWN0aW9uIHBoYXNlIGluIHRoZSBjdXJyZW50IGluaXRpYXRpdmUgcGFzcy5cbiAqICAgICAgIEBQREYgU1I1IzE2MCAnQ2hhbmluZyBJbml0aWF0aXZlJ1xuICovXG5leHBvcnQgY2xhc3MgU1I1Q29tYmF0IGV4dGVuZHMgQ29tYmF0IHtcbiAgICBnZXQgaW5pdGlhdGl2ZVBhc3MoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuQ29tYmF0SW5pdGlhdGl2ZVBhc3MpIHx8IFNSLmNvbWJhdC5JTklUSUFMX0lOSV9QQVNTO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBzZXRJbml0aWF0aXZlUGFzcyhjb21iYXQ6IFNSNUNvbWJhdCwgcGFzczogbnVtYmVyKSB7XG4gICAgICAgIGF3YWl0IGNvbWJhdC51bnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkNvbWJhdEluaXRpYXRpdmVQYXNzKTtcbiAgICAgICAgYXdhaXQgY29tYmF0LnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkNvbWJhdEluaXRpYXRpdmVQYXNzLCBwYXNzKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XG5cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJTb2NrZXRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhlIGdpdmVuIGFjdG9ycyB0b2tlbiB0byBnZXQgdGhlIGNvbWJhdGFudC5cbiAgICAgKiBOT1RFOiBUaGUgdG9rZW4gbXVzdCBiZSB1c2VkLCBpbnN0ZWFkIG9mIGp1c3QgdGhlIGFjdG9yLCBhcyB1bmxpbmtlZCB0b2tlbnMgd2lsbCBhbGwgdXNlIHRoZSBzYW1lIGFjdG9yIGlkLlxuICAgICAqL1xuICAgIGdldEFjdG9yQ29tYmF0YW50KGFjdG9yOiBTUjVBY3Rvcik6IHVuZGVmaW5lZCB8IGFueSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gYWN0b3IuZ2V0VG9rZW4oKTtcbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21iYXRhbnRCeVRva2VuKHRva2VuLmlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgQ29udGV4dE1lbnUgb3B0aW9ucyB0byBDb21iYXRUcmFja2VyIEVudHJpZXMgLS0gYWRkcyB0aGUgYmFzaWMgSW5pdGlhdGl2ZSBTdWJ0cmFjdGlvbnNcbiAgICAgKiBAcGFyYW0gaHRtbFxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGFkZENvbWJhdFRyYWNrZXJDb250ZXh0T3B0aW9ucyhodG1sLCBvcHRpb25zOiBhbnlbXSkge1xuICAgICAgICBvcHRpb25zLnB1c2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ09NQkFULlJlZHVjZUluaXRCeU9uZScpLFxuICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1jYXJldC1kb3duXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jIChsaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdGFudCA9IGF3YWl0IGdhbWUuY29tYmF0LmdldENvbWJhdGFudChsaS5kYXRhKCdjb21iYXRhbnQtaWQnKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21iYXRhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdDogU1I1Q29tYmF0ID0gZ2FtZS5jb21iYXQgYXMgU1I1Q29tYmF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29tYmF0LmFkanVzdEluaXRpYXRpdmUoY29tYmF0YW50LCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DT01CQVQuUmVkdWNlSW5pdEJ5Rml2ZScpLFxuICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1hbmdsZS1kb3duXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jIChsaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdGFudCA9IGF3YWl0IGdhbWUuY29tYmF0LmdldENvbWJhdGFudChsaS5kYXRhKCdjb21iYXRhbnQtaWQnKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21iYXRhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdDogU1I1Q29tYmF0ID0gZ2FtZS5jb21iYXQgYXMgU1I1Q29tYmF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29tYmF0LmFkanVzdEluaXRpYXRpdmUoY29tYmF0YW50LCAtNSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DT01CQVQuUmVkdWNlSW5pdEJ5VGVuJyksXG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWFuZ2xlLWRvdWJsZS1kb3duXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jIChsaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdGFudCA9IGF3YWl0IGdhbWUuY29tYmF0LmdldENvbWJhdGFudChsaS5kYXRhKCdjb21iYXRhbnQtaWQnKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21iYXRhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdDogU1I1Q29tYmF0ID0gZ2FtZS5jb21iYXQgYXMgU1I1Q29tYmF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29tYmF0LmFkanVzdEluaXRpYXRpdmUoY29tYmF0YW50LCAtMTApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbWJhdGFudFxuICAgICAqIEBwYXJhbSBhZGp1c3RtZW50XG4gICAgICovXG4gICAgYXN5bmMgYWRqdXN0SW5pdGlhdGl2ZShjb21iYXRhbnQ6IHN0cmluZyB8IGFueSwgYWRqdXN0bWVudDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbWJhdGFudCA9IHR5cGVvZiBjb21iYXRhbnQgPT09ICdzdHJpbmcnID8gdGhpcy5jb21iYXRhbnRzLmZpbmQoKGMpID0+IGMuX2lkID09PSBjb21iYXRhbnQpIDogY29tYmF0YW50O1xuICAgICAgICBpZiAoIWNvbWJhdGFudCB8fCB0eXBlb2YgY29tYmF0YW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGZpbmQgY29tYmF0YW50IHdpdGggaWQgJywgY29tYmF0YW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdDb21iYXRhbnQgPSB7XG4gICAgICAgICAgICBfaWQ6IGNvbWJhdGFudC5faWQsXG4gICAgICAgICAgICBpbml0aWF0aXZlOiBOdW1iZXIoY29tYmF0YW50LmluaXRpYXRpdmUpICsgYWRqdXN0bWVudCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbWJhdGFudChuZXdDb21iYXRhbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY2hhbmdlIG9mIGFuIGluaXRpYXRpdmUgcGFzcy4gVGhpcyBuZWVkcyBvd25lciBwZXJtaXNzaW9ucyBvbiB0aGUgY29tYmF0IGVudGl0eS5cbiAgICAgKiBAcGFyYW0gY29tYmF0SWRcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgaGFuZGxlSW5pUGFzcyhjb21iYXRJZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdCA9IGdhbWUuY29tYmF0cy5nZXQoY29tYmF0SWQpIGFzIFNSNUNvbWJhdDtcbiAgICAgICAgaWYgKCFjb21iYXQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBpbml0aWF0aXZlUGFzcyA9IGNvbWJhdC5pbml0aWF0aXZlUGFzcyArIDE7XG4gICAgICAgIC8vIFN0YXJ0IGF0IHRoZSB0b3AhXG4gICAgICAgIGNvbnN0IHR1cm4gPSAwO1xuXG4gICAgICAgIGNvbnN0IGNvbWJhdGFudHM6IGFueVtdID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY29tYmF0YW50IG9mIGNvbWJhdC5jb21iYXRhbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBpbml0aWF0aXZlID0gQ29tYmF0UnVsZXMucmVkdWNlSW5pUmVzdWx0QWZ0ZXJQYXNzKE51bWJlcihjb21iYXRhbnQuaW5pdGlhdGl2ZSkpO1xuICAgICAgICAgICAgY29tYmF0YW50cy5wdXNoKHtfaWQ6IGNvbWJhdGFudC5faWQsIGluaXRpYXRpdmV9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tYmF0YW50cy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgYXdhaXQgY29tYmF0LnVwZGF0ZUNvbWJhdGFudChjb21iYXRhbnRzKTtcblxuICAgICAgICBhd2FpdCBTUjVDb21iYXQuc2V0SW5pdGlhdGl2ZVBhc3MoY29tYmF0LCBpbml0aWF0aXZlUGFzcyk7XG4gICAgICAgIGF3YWl0IGNvbWJhdC51cGRhdGUoe3R1cm59KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY2hhbmdlIG9mIGEgaW5pdGlhdGl2ZSByb3VuZC4gVGhpcyBuZWVkcyBvd25lciBwZXJtaXNzaW9uIG9uIHRoZSBjb21iYXQgZW50aXR5LlxuICAgICAqIEBwYXJhbSBjb21iYXRJZFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBoYW5kbGVOZXh0Um91bmQoY29tYmF0SWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjb21iYXQgPSBnYW1lLmNvbWJhdHMuZ2V0KGNvbWJhdElkKSBhcyBTUjVDb21iYXQ7XG4gICAgICAgIGlmICghY29tYmF0KSByZXR1cm47XG4gICAgICAgIGF3YWl0IGNvbWJhdC5yZXNldEFsbCgpO1xuICAgICAgICBhd2FpdCBTUjVDb21iYXQuc2V0SW5pdGlhdGl2ZVBhc3MoY29tYmF0LCBTUi5jb21iYXQuSU5JVElBTF9JTklfUEFTUyk7XG5cbiAgICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5Pbmx5QXV0b1JvbGxOUENJbkNvbWJhdCkpIHtcbiAgICAgICAgICAgIGF3YWl0IGNvbWJhdC5yb2xsTlBDKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBjb21iYXQucm9sbEFsbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHVybiA9IDA7XG4gICAgICAgIGF3YWl0IGNvbWJhdC51cGRhdGUoe3R1cm59KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgU2hhZG93cnVuIGluaXRpYXRpdmUgb3JkZXIgaXMgYXBwbGllZC5cbiAgICAgKi9cbiAgICBzZXR1cFR1cm5zKCk6IGFueVtdIHtcbiAgICAgICAgY29uc3QgdHVybnMgPSBzdXBlci5zZXR1cFR1cm5zKCk7XG4gICAgICAgIHJldHVybiB0dXJucy5zb3J0KFNSNUNvbWJhdC5zb3J0QnlSRVJJQyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHNvcnRCeVJFUklDKGxlZnQsIHJpZ2h0KTogbnVtYmVyIHtcbiAgICAgICAgLy8gRmlyc3Qgc29ydCBieSBpbml0aWF0aXZlIHZhbHVlIGlmIGRpZmZlcmVudFxuICAgICAgICBjb25zdCBsZWZ0SW5pdCA9IE51bWJlcihsZWZ0LmluaXRpYXRpdmUpO1xuICAgICAgICBjb25zdCByaWdodEluaXQgPSBOdW1iZXIocmlnaHQuaW5pdGlhdGl2ZSk7XG4gICAgICAgIGlmIChpc05hTihsZWZ0SW5pdCkpIHJldHVybiAxO1xuICAgICAgICBpZiAoaXNOYU4ocmlnaHRJbml0KSkgcmV0dXJuIC0xO1xuICAgICAgICBpZiAobGVmdEluaXQgPiByaWdodEluaXQpIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGxlZnRJbml0IDwgcmlnaHRJbml0KSByZXR1cm4gMTtcblxuICAgICAgICAvLyBub3cgd2Ugc29ydCBieSBFUklDXG4gICAgICAgIGNvbnN0IGdlbkRhdGEgPSAoYWN0b3IpID0+IHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBicm9rZW4gc2NlbmVzIG91dCB0aGVyZSwgd2hpY2ggd2lsbCB0cnkgc2V0dGluZyB1cCBhIGNvbWJhdCB3aXRob3V0IHZhbGlkIGFjdG9ycy5cbiAgICAgICAgICAgIGlmICghYWN0b3IpIHJldHVybiBbMCwgMCwgMCwgMF07XG4gICAgICAgICAgICAvLyBlZGdlLCByZWFjdGlvbiwgaW50dWl0aW9uLCBjb2luIGZsaXBcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgTnVtYmVyKGFjdG9yLmdldEVkZ2UoKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgTnVtYmVyKGFjdG9yLmZpbmRBdHRyaWJ1dGUoJ3JlYWN0aW9uJyk/LnZhbHVlKSxcbiAgICAgICAgICAgICAgICBOdW1iZXIoYWN0b3IuZmluZEF0dHJpYnV0ZSgnaW50dWl0aW9uJyk/LnZhbHVlKSxcbiAgICAgICAgICAgICAgICBuZXcgUm9sbCgnMWQyJykucm9sbCgpLnRvdGFsLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBsZWZ0RGF0YSA9IGdlbkRhdGEobGVmdC5hY3Rvcik7XG4gICAgICAgIGNvbnN0IHJpZ2h0RGF0YSA9IGdlbkRhdGEocmlnaHQuYWN0b3IpO1xuICAgICAgICAvLyBpZiB3ZSBmaW5kIGEgZGlmZmVyZW5jZSB0aGF0IGlzbid0IDAsIHJldHVybiBpdFxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVmdERhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gcmlnaHREYXRhW2luZGV4XSAtIGxlZnREYXRhW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChkaWZmICE9PSAwKSByZXR1cm4gZGlmZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgaW5pIHBhc3Mgb2YgdGhlIG5leHQgdW5kZWZlYXRlZCBjb21iYXRhbnQuXG4gICAgICovXG4gICAgZ2V0IG5leHRVbmRlZmVhdGVkVHVyblBvc2l0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIGZvciAobGV0IFt0dXJuSW5QYXNzLCBjb21iYXRhbnRdIG9mIHRoaXMudHVybnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAvLyBTa2lwcGluZyBpcyBvbmx5IGludGVyZXN0aW5nIHdoZW4gbW92aW5nIGZvcndhcmQuXG4gICAgICAgICAgICBpZiAodHVybkluUGFzcyA8PSB0aGlzLnR1cm4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaWYgKCFjb21iYXRhbnQuZGVmZWF0ZWQgJiYgY29tYmF0YW50LmluaXRpYXRpdmUgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR1cm5JblBhc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGN1cnJlbnQgdHVybiBpcyB0aGUgbGFzdCB1bmRlZmVhdGVkIGNvbWJhdGFudC4gU28gZ28gdG8gdGhlIGVuZCBhbmQgYmVlZWV5b29vbmQuXG4gICAgICAgIHJldHVybiB0aGlzLnR1cm5zLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHBvc2l0aW9uIGluIHRoZSBjdXJyZW50IGluaSBwYXNzIG9mIHRoZSBuZXh0IGNvbWJhdGFudCB0aGF0IGhhcyBhbiBhY3Rpb24gcGhhc2UgbGVmdC5cbiAgICAgKi9cbiAgICBnZXQgbmV4dFZpYWJsZVR1cm5Qb3NpdGlvbigpOiBudW1iZXIge1xuICAgICAgICAvLyBTdGFydCBhdCB0aGUgbmV4dCBwb3NpdGlvbiBhZnRlciB0aGUgY3VycmVudCBvbmUuXG4gICAgICAgIGZvciAobGV0IFt0dXJuSW5QYXNzLCBjb21iYXRhbnRdIG9mIHRoaXMudHVybnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAvLyBTa2lwcGluZyBpcyBvbmx5IGludGVyZXN0aW5nIHdoZW4gbW92aW5nIGZvcndhcmQuXG4gICAgICAgICAgICBpZiAodHVybkluUGFzcyA8PSB0aGlzLnR1cm4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaWYgKGNvbWJhdGFudC5pbml0aWF0aXZlID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0dXJuSW5QYXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBjdXJyZW50IHR1cm4gaXMgdGhlIGxhc3QgdW5kZWZlYXRlZCBjb21iYXRhbnQuIFNvIGdvIHRvIHRoZSBlbmQgYW5kIGJlZWVleW9vb25kLlxuICAgICAgICByZXR1cm4gdGhpcy50dXJucy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRlciB0aGUgY3VycmVudCBjb21iYXQgc2l0dWF0aW9uIChjdXJyZW50IHR1cm4gb3JkZXIpIG5lZWRzIGFuZCBjYW4gaGF2ZSBhbiBpbml0aWF0aXZlIHBhc3MgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJuIHRydWUgbWVhbnMgdGhhdCBhbiBpbml0aWF0aXZlIHBhc3MgbXVzdCBiZSBhcHBsaWVkXG4gICAgICovXG4gICAgZG9JbmlQYXNzKG5leHRUdXJuOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgLy8gV2UncmUgY3VycmVudGx5IG9ubHkgc3RlcHBpbmcgZnJvbSBjb21iYXRhbnQgdG8gY29tYmF0YW50LlxuICAgICAgICBpZiAobmV4dFR1cm4gPCB0aGlzLnR1cm5zLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBQcmVwYXJlIGFub3RoZXIgcG9zc2libGUgaW5pdGlhdGl2ZSBvcmRlci5cbiAgICAgICAgY29uc3QgY3VycmVudFNjb3JlcyA9IHRoaXMuY29tYmF0YW50cy5tYXAoY29tYmF0YW50ID0+IE51bWJlcihjb21iYXRhbnQuaW5pdGlhdGl2ZSkpO1xuXG4gICAgICAgIHJldHVybiBDb21iYXRSdWxlcy5pbmlPcmRlckNhbkRvQW5vdGhlclBhc3MoY3VycmVudFNjb3Jlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWZ0ZXIgYWxsIGNvbWJhdGFudHMgaGF2ZSBoYWQgdGhlaXIgYWN0aW9uIHBoYXNlIChjbGljayBvbiBuZXh0ICd0dXJuJykgaGFuZGxlIHNoYWRvd3J1biBydWxlcyBmb3JcbiAgICAgKiBpbml0aWF0aXZlIHBhc3MgYW5kIGNvbWJhdCB0dXJuLlxuICAgICAqXG4gICAgICogQXMgbG9uZyBhcyBhIGNvbWJhdGFudCBzdGlsbCBoYXMgYSBwb3NpdGl2ZSBpbml0aWF0aXZlIHNjb3JlIGxlZnQsIGdvIHRvIHRoZSBuZXh0IHBhc3MuXG4gICAgICogIFJhaXNlIHRoZSBGb3VuZHJ5IHR1cm4gYW5kIGRvbid0IHJhaXNlIHRoZSBGb3VuZHJ5IHJvdW5kLlxuICAgICAqIEFzIHNvb25zIGFzIGFsbCBjb21iYXRhbnRzIGhhdmUgbm8gaW5pdGlhdGl2ZSBzY29yZSBsZWZ0LCBnbyB0byB0aGUgbmV4dCBjb21iYXQgcm91bmQuXG4gICAgICogIFJlc2V0IHRoZSBGb3VuZHJ5IHBhc3MgYW5kIGRvbid0IHJhaXNlIHRoZSBGb3VuZHJ5IHR1cm4uXG4gICAgICpcbiAgICAgKiBSZXRyaWdnZXIgSW5pdGlhdGl2ZSBSb2xscyBvbiBlYWNoIG5ldyBGb3VuZHJ5IHJvdW5kLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAqIEBPdmVycmlkZVxuICAgICAqL1xuICAgIGFzeW5jIG5leHRUdXJuKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBNYXliZSBhZHZhbmNlIHRvIHRoZSBuZXh0IHJvdW5kL2luaXQgcGFzc1xuICAgICAgICBsZXQgbmV4dFJvdW5kID0gdGhpcy5yb3VuZDtcbiAgICAgICAgbGV0IGluaXRpYXRpdmVQYXNzID0gdGhpcy5pbml0aWF0aXZlUGFzcztcbiAgICAgICAgLy8gR2V0IHRoZSBuZXh0IHZpYWJsZSB0dXJuIHBvc2l0aW9uLlxuICAgICAgICBsZXQgbmV4dFR1cm4gPSB0aGlzLnNldHRpbmdzLnNraXBEZWZlYXRlZCA/XG4gICAgICAgICAgICB0aGlzLm5leHRVbmRlZmVhdGVkVHVyblBvc2l0aW9uIDpcbiAgICAgICAgICAgIHRoaXMubmV4dFZpYWJsZVR1cm5Qb3NpdGlvbjtcblxuICAgICAgICAvLyBTdGFydCBvZiB0aGUgY29tYmF0IEhhbmRsaW5nXG4gICAgICAgIGlmIChuZXh0Um91bmQgPT09IDAgJiYgaW5pdGlhdGl2ZVBhc3MgPT09IDApIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhcnRDb21iYXQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEp1c3Qgc3RlcCBmcm9tIG9uZSBjb21iYXRhbnQgdG8gdGhlIG5leHQhXG4gICAgICAgIGlmIChuZXh0VHVybiA8IHRoaXMudHVybnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7dHVybjogbmV4dFR1cm59KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYXRpdmUgUGFzcyBIYW5kbGluZy4gT3duZXIgcGVybWlzc2lvbnMgYXJlIG5lZWRlZCB0byBjaGFuZ2UgdGhlIGluaXRpYXRpdmUgcGFzcy5cbiAgICAgICAgaWYgKCFnYW1lLnVzZXIuaXNHTSAmJiB0aGlzLmRvSW5pUGFzcyhuZXh0VHVybikpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NyZWF0ZURvSW5pUGFzc1NvY2tldE1lc3NhZ2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSAmJiB0aGlzLmRvSW5pUGFzcyhuZXh0VHVybikpIHtcbiAgICAgICAgICAgIGF3YWl0IFNSNUNvbWJhdC5oYW5kbGVJbmlQYXNzKHRoaXMuaWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWF0aXZlIFJvdW5kIEhhbmRsaW5nLlxuICAgICAgICAvLyBOT1RFOiBJdCdzIG5vdCBjaGVja2VkIGlmIHRoZSBuZXh0IGlzIG5lZWRlZC4gVGhpcyBzaG91bGQgcmVzdWx0IGludCBoZSB1c2VyIG5vdGljaW5nIHRoZSB0dXJuIGdvaW5nIHVwLCB3aGVuIGl0XG4gICAgICAgIC8vICAgICAgIG1heWJlIHNob3VsZG4ndCBhbmQgcmVwb3J0aW5nIGEgdW5oYW5kbGVkIGNvbWJhdCBwaGFzZSBmbG93IGNhc2UuXG4gICAgICAgIHJldHVybiB0aGlzLm5leHRSb3VuZCgpO1xuICAgIH1cblxuICAgIGFzeW5jIHN0YXJ0Q29tYmF0KCkge1xuICAgICAgICBjb25zdCBuZXh0Um91bmQgPSBTUi5jb21iYXQuSU5JVElBTF9JTklfUk9VTkQ7XG4gICAgICAgIGNvbnN0IGluaXRpYXRpdmVQYXNzID0gU1IuY29tYmF0LklOSVRJQUxfSU5JX1BBU1M7XG4gICAgICAgIC8vIFN0YXJ0IGF0IHRoZSB0b3AhXG4gICAgICAgIGNvbnN0IG5leHRUdXJuID0gMDtcblxuICAgICAgICBhd2FpdCBTUjVDb21iYXQuc2V0SW5pdGlhdGl2ZVBhc3ModGhpcywgaW5pdGlhdGl2ZVBhc3MpO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7cm91bmQ6IG5leHRSb3VuZCwgdHVybjogbmV4dFR1cm59KTtcblxuICAgICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoU1lTVEVNX05BTUUsIEZMQUdTLk9ubHlBdXRvUm9sbE5QQ0luQ29tYmF0KSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yb2xsTlBDKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJvbGxBbGwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIG5leHRSb3VuZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gTGV0IEZvdW5kcnkgaGFuZGxlIHRpbWUgYW5kIHNvbWUgb3RoZXIgdGhpbmdzLlxuICAgICAgICBhd2FpdCBzdXBlci5uZXh0Um91bmQoKTtcblxuICAgICAgICAvLyBPd25lciBwZXJtaXNzaW9ucyBhcmUgbmVlZGVkIHRvIGNoYW5nZSB0aGUgc2hhZG93cnVuIGluaXRpYXRpdmUgcm91bmQuXG4gICAgICAgIGlmICghZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NyZWF0ZURvTmV4dFJvdW5kU29ja2V0TWVzc2FnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgU1I1Q29tYmF0LmhhbmRsZU5leHRSb3VuZCh0aGlzLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHVzZSBkZWZhdWx0IGJlaGF2aW91ciBidXQgQUxXQVlTIHN0YXJ0IGF0IHRoZSB0b3AhXG4gICAgICovXG4gICAgYXN5bmMgcm9sbEFsbCgpOiBQcm9taXNlPFNSNUNvbWJhdD4ge1xuICAgICAgICBjb25zdCBjb21iYXQgPSBhd2FpdCBzdXBlci5yb2xsQWxsKCkgYXMgU1I1Q29tYmF0O1xuICAgICAgICBpZiAoY29tYmF0LnR1cm4gIT09IDApXG4gICAgICAgICAgICBhd2FpdCBjb21iYXQudXBkYXRlKHt0dXJuOiAwfSk7XG4gICAgICAgIHJldHVybiBjb21iYXQ7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlTmV3Q29tYmF0YW50cyhpZHM6IHN0cmluZ1tdKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbWJhdGFudHMgPSB0aGlzLmNvbWJhdGFudHMuZmlsdGVyKGNvbWJhdGFudCA9PiBpZHMuaW5jbHVkZXMoY29tYmF0YW50Ll9pZCkpO1xuICAgICAgICBpZiAoIW5ld0NvbWJhdGFudHMpIHJldHVybjtcblxuICAgICAgICAvLyBSZWR1Y2UgaW5pdGlhdGl2ZSBzY29yZSBmb3Igb25nb2luZyBpbml0aWF0aXZlIHBhc3Nlcy5cbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IG5ld0NvbWJhdGFudHMubWFwKGNvbWJhdGFudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbml0aWF0aXZlID0gQ29tYmF0UnVsZXMucmVkdWNlSW5pT25MYXRlU3Bhd24oY29tYmF0YW50LmluaXRpYXRpdmUsIHRoaXMuaW5pdGlhdGl2ZVBhc3MpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBfaWQ6IGNvbWJhdGFudC5faWQsXG4gICAgICAgICAgICAgICAgaW5pdGlhdGl2ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVDb21iYXRhbnQodXBkYXRlRGF0YSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3dydW4gc3RhcnRzIGF0IHRoZSB0b3AsIGV4Y2VwdCBmb3Igc3Vic2VxdWVudCBpbml0aWF0aXZlIHBhc3NlcywgdGhlbiBpdCBkZXBlbmRzIG9uIHRoZSBuZXcgdmFsdWVzLlxuICAgICAqL1xuICAgIGFzeW5jIHJvbGxJbml0aWF0aXZlKGlkcywgb3B0aW9ucyk6IFByb21pc2U8U1I1Q29tYmF0PiB7XG4gICAgICAgIGNvbnN0IG5ld0lkcyA9IEFycmF5LmlzQXJyYXkoaWRzKSA/IGlkcyA6IFtpZHNdO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgY29tYmF0ID0gYXdhaXQgc3VwZXIucm9sbEluaXRpYXRpdmUoaWRzLCBvcHRpb25zKSBhcyBTUjVDb21iYXQ7XG5cbiAgICAgICAgLy8gaWYgKHRoaXMuaW5pdGlhdGl2ZVBhc3MgPiBTUi5jb21iYXQuSU5JVElBTF9JTklfUEFTUylcbiAgICAgICAgLy8gICAgIGF3YWl0IHRoaXMudXBkYXRlTmV3Q29tYmF0YW50cyhuZXdJZHMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVQYXNzID09PSBTUi5jb21iYXQuSU5JVElBTF9JTklfUEFTUylcbiAgICAgICAgICAgIGF3YWl0IGNvbWJhdC51cGRhdGUoe3R1cm46IDB9KTtcblxuICAgICAgICByZXR1cm4gY29tYmF0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsdGVyIGluaXRpYXRpdmUgZm9ybXVsYSB0byBpbmNsdWRlIGluaXRpYXRpdmUgcGFzcyByZWR1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBOT1RFOiBTaG91bGQgdGhpcyBoZXJlIGZhaWwgb3IgYmUgYnVnZ3ksIHRoZXJlIGFsd2F5cyBpcyBTUjVDb21iYXQudXBkYXRlTmV3Q29tYmF0YW50cyB3aGljaCBjYW4gYmUgdW5jb21tZW50ZWQgaW4gU1I1Q29tYmF0LnJvbGxJbml0aWF0aXZlXG4gICAgICogQHBhcmFtIGNvbWJhdGFudFxuICAgICAqL1xuICAgIF9nZXRJbml0aWF0aXZlRm9ybXVsYShjb21iYXRhbnQ6IEVudGl0eSkge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlUGFzcyA9PT0gU1IuY29tYmF0LklOSVRJQUxfSU5JX1BBU1MpIHsgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLl9nZXRJbml0aWF0aXZlRm9ybXVsYShjb21iYXRhbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVkdWNlIGZvciBpbml0aWF0aXZlIHBhc3NlcyB1bnRpbCB6ZXJvLlxuICAgICAgICByZXR1cm4gYG1heCgke2dhbWUuc3lzdGVtLmRhdGEuaW5pdGlhdGl2ZX0gLSR7KHRoaXMuaW5pdGlhdGl2ZVBhc3MgLSAxKSAqIC1TUi5jb21iYXQuSU5JX1JFU1VMVF9NT0RfQUZURVJfSU5JX1BBU1N9LCAwKWA7XG4gICAgfVxuXG4gICAgX3JlZ2lzdGVyU29ja2V0TGlzdGVuZXJzKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGdhbWUuc29ja2V0Lm9uKFNZU1RFTV9TT0NLRVQsIGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgKEZMQUdTLkRvTmV4dFJvdW5kKTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtZXNzYWdlLmRhdGEuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdHlwZW9mIG1lc3NhZ2UuZGF0YS5pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNSNUNvbWJhdCBTb2NrZXQgTWVzc2FnZSAke0ZMQUdTLkRvTmV4dFJvdW5kfSBkYXRhLmlkIG11c3QgYmUgYSBzdHJpbmcgKGNvbWJhdCBpZCkgYnV0IGlzICR7dHlwZW9mIG1lc3NhZ2UuZGF0YX0gKCR7bWVzc2FnZS5kYXRhfSkhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgU1I1Q29tYmF0LmhhbmRsZU5leHRSb3VuZChtZXNzYWdlLmRhdGEuaWQpO1xuICAgICAgICAgICAgICAgIGNhc2UgKEZMQUdTLkRvSW5pdFBhc3MpOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB0eXBlb2YgbWVzc2FnZS5kYXRhLmlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU1I1Q29tYmF0IFNvY2tldCBNZXNzYWdlICR7RkxBR1MuRG9Jbml0UGFzc30gZGF0YS5pZCBtdXN0IGJlIGEgc3RyaW5nIChjb21iYXQgaWQpIGJ1dCBpcyAke3R5cGVvZiBtZXNzYWdlLmRhdGF9ICgke21lc3NhZ2UuZGF0YX0pIWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFNSNUNvbWJhdC5oYW5kbGVJbmlQYXNzKG1lc3NhZ2UuZGF0YS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgYXN5bmMgX2NyZWF0ZURvTmV4dFJvdW5kU29ja2V0TWVzc2FnZSgpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGF3YWl0IGdhbWUuc29ja2V0LmVtaXQoYCR7U1lTVEVNX1NPQ0tFVH1gLCB7dHlwZTogRkxBR1MuRG9OZXh0Um91bmQsIGRhdGE6IHtpZDogdGhpcy5pZH19KTtcbiAgICB9XG5cbiAgICBhc3luYyBfY3JlYXRlRG9JbmlQYXNzU29ja2V0TWVzc2FnZSgpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGF3YWl0IGdhbWUuc29ja2V0LmVtaXQoYCR7U1lTVEVNX1NPQ0tFVH1gLCB7dHlwZTogRkxBR1MuRG9Jbml0UGFzcywgZGF0YToge2lkOiB0aGlzLmlkfX0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBTUjUgPSB7XG4gICAgaXRlbVR5cGVzOiB7XG4gICAgICAgIGFjdGlvbjogJ1NSNS5JdGVtVHlwZXMuQWN0aW9uJyxcbiAgICAgICAgYWRlcHRfcG93ZXI6ICdTUjUuSXRlbVR5cGVzLkFkZXB0UG93ZXInLFxuICAgICAgICBhbW1vOiAnU1I1Lkl0ZW1UeXBlcy5BbW1vJyxcbiAgICAgICAgYXJtb3I6ICdTUjUuSXRlbVR5cGVzLkFybW9yJyxcbiAgICAgICAgY29tcGxleF9mb3JtOiAnU1I1Lkl0ZW1UeXBlcy5Db21wbGV4Rm9ybScsXG4gICAgICAgIGNvbnRhY3Q6ICdTUjUuSXRlbVR5cGVzLkNvbnRhY3QnLFxuICAgICAgICBjcml0dGVyX3Bvd2VyOiAnU1I1Lkl0ZW1UeXBlcy5Dcml0dGVyUG93ZXInLFxuICAgICAgICBjeWJlcndhcmU6ICdTUjUuSXRlbVR5cGVzLkN5YmVyd2FyZScsXG4gICAgICAgIGJpb3dhcmU6ICdTUjUuSXRlbVR5cGVzLkJpb3dhcmUnLFxuICAgICAgICBkZXZpY2U6ICdTUjUuSXRlbVR5cGVzLkRldmljZScsXG4gICAgICAgIGVxdWlwbWVudDogJ1NSNS5JdGVtVHlwZXMuRXF1aXBtZW50JyxcbiAgICAgICAgbGlmZXN0eWxlOiAnU1I1Lkl0ZW1UeXBlcy5MaWZlc3R5bGUnLFxuICAgICAgICBtb2RpZmljYXRpb246ICdTUjUuSXRlbVR5cGVzLk1vZGlmaWNhdGlvbicsXG4gICAgICAgIHF1YWxpdHk6ICdTUjUuSXRlbVR5cGVzLlF1YWxpdHknLFxuICAgICAgICBzaW46ICdTUjUuSXRlbVR5cGVzLlNpbicsXG4gICAgICAgIHNwZWxsOiAnU1I1Lkl0ZW1UeXBlcy5TcGVsbCcsXG4gICAgICAgIHdlYXBvbjogJ1NSNS5JdGVtVHlwZXMuV2VhcG9uJyxcbiAgICB9LFxuXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgICBib2R5OiAnU1I1LkF0dHJCb2R5JyxcbiAgICAgICAgYWdpbGl0eTogJ1NSNS5BdHRyQWdpbGl0eScsXG4gICAgICAgIHJlYWN0aW9uOiAnU1I1LkF0dHJSZWFjdGlvbicsXG4gICAgICAgIHN0cmVuZ3RoOiAnU1I1LkF0dHJTdHJlbmd0aCcsXG4gICAgICAgIHdpbGxwb3dlcjogJ1NSNS5BdHRyV2lsbHBvd2VyJyxcbiAgICAgICAgbG9naWM6ICdTUjUuQXR0ckxvZ2ljJyxcbiAgICAgICAgaW50dWl0aW9uOiAnU1I1LkF0dHJJbnR1aXRpb24nLFxuICAgICAgICBjaGFyaXNtYTogJ1NSNS5BdHRyQ2hhcmlzbWEnLFxuICAgICAgICBtYWdpYzogJ1NSNS5BdHRyTWFnaWMnLFxuICAgICAgICByZXNvbmFuY2U6ICdTUjUuQXR0clJlc29uYW5jZScsXG4gICAgICAgIGVkZ2U6ICdTUjUuQXR0ckVkZ2UnLFxuICAgICAgICBlc3NlbmNlOiAnU1I1LkF0dHJFc3NlbmNlJyxcbiAgICAgICAgYXR0YWNrOiAnU1I1Lk1hdHJpeEF0dHJBdHRhY2snLFxuICAgICAgICBzbGVhemU6ICdTUjUuTWF0cml4QXR0clNsZWF6ZScsXG4gICAgICAgIGRhdGFfcHJvY2Vzc2luZzogJ1NSNS5NYXRyaXhBdHRyRGF0YVByb2MnLFxuICAgICAgICBmaXJld2FsbDogJ1NSNS5NYXRyaXhBdHRyRmlyZXdhbGwnLFxuICAgIH0sXG5cbiAgICBsaW1pdHM6IHtcbiAgICAgICAgcGh5c2ljYWw6ICdTUjUuTGltaXRQaHlzaWNhbCcsXG4gICAgICAgIHNvY2lhbDogJ1NSNS5MaW1pdFNvY2lhbCcsXG4gICAgICAgIG1lbnRhbDogJ1NSNS5MaW1pdE1lbnRhbCcsXG4gICAgICAgIGF0dGFjazogJ1NSNS5NYXRyaXhBdHRyQXR0YWNrJyxcbiAgICAgICAgc2xlYXplOiAnU1I1Lk1hdHJpeEF0dHJTbGVhemUnLFxuICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6ICdTUjUuTWF0cml4QXR0ckRhdGFQcm9jJyxcbiAgICAgICAgZmlyZXdhbGw6ICdTUjUuTWF0cml4QXR0ckZpcmV3YWxsJyxcbiAgICB9LFxuXG4gICAgc3BlY2lhbFR5cGVzOiB7XG4gICAgICAgIG11bmRhbmU6ICdTUjUuTXVuZGFuZScsXG4gICAgICAgIG1hZ2ljOiAnU1I1LkF3YWtlbmVkJyxcbiAgICAgICAgcmVzb25hbmNlOiAnU1I1LkVtZXJnZWQnLFxuICAgIH0sXG5cbiAgICBkYW1hZ2VUeXBlczoge1xuICAgICAgICBwaHlzaWNhbDogJ1NSNS5EbWdUeXBlUGh5c2ljYWwnLFxuICAgICAgICBzdHVuOiAnU1I1LkRtZ1R5cGVTdHVuJyxcbiAgICAgICAgbWF0cml4OiAnU1I1LkRtZ1R5cGVNYXRyaXgnLFxuICAgIH0sXG5cbiAgICBlbGVtZW50VHlwZXM6IHtcbiAgICAgICAgZmlyZTogJ1NSNS5FbGVtZW50RmlyZScsXG4gICAgICAgIGNvbGQ6ICdTUjUuRWxlbWVudENvbGQnLFxuICAgICAgICBhY2lkOiAnU1I1LkVsZW1lbnRBY2lkJyxcbiAgICAgICAgZWxlY3RyaWNpdHk6ICdTUjUuRWxlbWVudEVsZWN0cmljaXR5JyxcbiAgICAgICAgcmFkaWF0aW9uOiAnU1I1LkVsZW1lbnRSYWRpYXRpb24nLFxuICAgIH0sXG5cbiAgICBzcGVsbENhdGVnb3JpZXM6IHtcbiAgICAgICAgY29tYmF0OiAnU1I1LlNwZWxsQ2F0Q29tYmF0JyxcbiAgICAgICAgZGV0ZWN0aW9uOiAnU1I1LlNwZWxsQ2F0RGV0ZWN0aW9uJyxcbiAgICAgICAgaGVhbHRoOiAnU1I1LlNwZWxsQ2F0SGVhbHRoJyxcbiAgICAgICAgaWxsdXNpb246ICdTUjUuU3BlbGxDYXRJbGx1c2lvbicsXG4gICAgICAgIG1hbmlwdWxhdGlvbjogJ1NSNS5TcGVsbENhdE1hbmlwdWxhdGlvbicsXG4gICAgfSxcblxuICAgIHNwZWxsVHlwZXM6IHtcbiAgICAgICAgcGh5c2ljYWw6ICdTUjUuU3BlbGxUeXBlUGh5c2ljYWwnLFxuICAgICAgICBtYW5hOiAnU1I1LlNwZWxsVHlwZU1hbmEnLFxuICAgIH0sXG5cbiAgICBzcGVsbFJhbmdlczoge1xuICAgICAgICB0b3VjaDogJ1NSNS5TcGVsbFJhbmdlVG91Y2gnLFxuICAgICAgICBsb3M6ICdTUjUuU3BlbGxSYW5nZUxvcycsXG4gICAgICAgIGxvc19hOiAnU1I1LlNwZWxsUmFuZ2VMb3NBJyxcbiAgICB9LFxuXG4gICAgY29tYmF0U3BlbGxUeXBlczoge1xuICAgICAgICBkaXJlY3Q6ICdTUjUuU3BlbGxDb21iYXREaXJlY3QnLFxuICAgICAgICBpbmRpcmVjdDogJ1NSNS5TcGVsbENvbWJhdEluZGlyZWN0JyxcbiAgICB9LFxuXG4gICAgZGV0ZWN0aW9uU3BlbGxUeXBlczoge1xuICAgICAgICBkaXJlY3Rpb25hbDogJ1NSNS5TcGVsbERldGVjdGlvbkRpcmVjdGlvbmFsJyxcbiAgICAgICAgcHN5Y2hpYzogJ1NSNS5TcGVsbERldGVjdGlvblBzeWNoaWMnLFxuICAgICAgICBhcmVhOiAnU1I1LlNwZWxsRGV0ZWN0aW9uQXJlYScsXG4gICAgfSxcblxuICAgIGlsbHVzaW9uU3BlbGxUeXBlczoge1xuICAgICAgICBvYnZpb3VzOiAnU1I1LlNwZWxsSWxsdXNpb25PYnZpb3VzJyxcbiAgICAgICAgcmVhbGlzdGljOiAnU1I1LlNwZWxsSWxsdXNpb25SZWFsaXN0aWMnLFxuICAgIH0sXG5cbiAgICBpbGx1c2lvblNwZWxsU2Vuc2VzOiB7XG4gICAgICAgICdzaW5nbGUtc2Vuc2UnOiAnU1I1LlNwZWxsSWxsdXNpb25TaW5nbGVTZW5zZScsXG4gICAgICAgICdtdWx0aS1zZW5zZSc6ICdTUjUuU3BlbGxJbGx1c2lvbk11bHRpU2Vuc2UnLFxuICAgIH0sXG5cbiAgICBhdHRyaWJ1dGVSb2xsczoge1xuICAgICAgICBjb21wb3N1cmU6ICdTUjUuUm9sbENvbXBvc3VyZScsXG4gICAgICAgIGxpZnRfY2Fycnk6ICdTUjUuUm9sbExpZnRDYXJyeScsXG4gICAgICAgIGp1ZGdlX2ludGVudGlvbnM6ICdTUjUuUm9sbEp1ZGdlSW50ZW50aW9ucycsXG4gICAgICAgIG1lbW9yeTogJ1NSNS5Sb2xsTWVtb3J5JyxcbiAgICB9LFxuXG4gICAgbWF0cml4VGFyZ2V0czoge1xuICAgICAgICBwZXJzb25hOiAnU1I1LlRhcmdldFBlcnNvbmEnLFxuICAgICAgICBkZXZpY2U6ICdTUjUuVGFyZ2V0RGV2aWNlJyxcbiAgICAgICAgZmlsZTogJ1NSNS5UYXJnZXRGaWxlJyxcbiAgICAgICAgc2VsZjogJ1NSNS5UYXJnZXRTZWxmJyxcbiAgICAgICAgc3ByaXRlOiAnU1I1LlRhcmdldFNwcml0ZScsXG4gICAgICAgIG90aGVyOiAnU1I1LlRhcmdldE90aGVyJyxcbiAgICB9LFxuXG4gICAgZHVyYXRpb25zOiB7XG4gICAgICAgIGluc3RhbnQ6ICdTUjUuRHVyYXRpb25JbnN0YW50JyxcbiAgICAgICAgc3VzdGFpbmVkOiAnU1I1LkR1cmF0aW9uU3VzdGFpbmVkJyxcbiAgICAgICAgcGVybWFuZW50OiAnU1I1LkR1cmF0aW9uUGVybWFuZW50JyxcbiAgICB9LFxuXG4gICAgd2VhcG9uQ2F0ZWdvcmllczoge1xuICAgICAgICByYW5nZTogJ1NSNS5XZWFwb25DYXRSYW5nZScsXG4gICAgICAgIG1lbGVlOiAnU1I1LldlYXBvbkNhdE1lbGVlJyxcbiAgICAgICAgdGhyb3duOiAnU1I1LldlYXBvbkNhdFRocm93bicsXG4gICAgfSxcblxuICAgIHdlYXBvblJhbmdlczoge1xuICAgICAgICBzaG9ydDogJ1NSNS5XZWFwb25SYW5nZVNob3J0JyxcbiAgICAgICAgbWVkaXVtOiAnU1I1LldlYXBvblJhbmdlTWVkaXVtJyxcbiAgICAgICAgbG9uZzogJ1NSNS5XZWFwb25SYW5nZUxvbmcnLFxuICAgICAgICBleHRyZW1lOiAnU1I1LldlYXBvblJhbmdlRXh0cmVtZScsXG4gICAgfSxcblxuICAgIHF1YWxpdHlUeXBlczoge1xuICAgICAgICBwb3NpdGl2ZTogJ1NSNS5RdWFsaXR5VHlwZVBvc2l0aXZlJyxcbiAgICAgICAgbmVnYXRpdmU6ICdTUjUuUXVhbGl0eVR5cGVOZWdhdGl2ZScsXG4gICAgfSxcblxuICAgIGFkZXB0UG93ZXI6IHtcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIGFjdGl2ZTogJ1NSNS5BZGVwdFBvd2VyLlR5cGVzLkFjdGl2ZScsXG4gICAgICAgICAgICBwYXNzaXZlOiAnU1I1LkFkZXB0UG93ZXIuVHlwZXMuUGFzc2l2ZScsXG4gICAgICAgIH0sXG4gICAgfSxcblxuICAgIGRldmljZUNhdGVnb3JpZXM6IHtcbiAgICAgICAgY29tbWxpbms6ICdTUjUuRGV2aWNlQ2F0Q29tbWxpbmsnLFxuICAgICAgICBjeWJlcmRlY2s6ICdTUjUuRGV2aWNlQ2F0Q3liZXJkZWNrJyxcbiAgICB9LFxuXG4gICAgY3liZXJ3YXJlR3JhZGVzOiB7XG4gICAgICAgIHN0YW5kYXJkOiAnU1I1LkN5YmVyd2FyZUdyYWRlU3RhbmRhcmQnLFxuICAgICAgICBhbHBoYTogJ1NSNS5DeWJlcndhcmVHcmFkZUFscGhhJyxcbiAgICAgICAgYmV0YTogJ1NSNS5DeWJlcndhcmVHcmFkZUJldGEnLFxuICAgICAgICBkZWx0YTogJ1NSNS5DeWJlcndhcmVHcmFkZURlbHRhJyxcbiAgICAgICAgdXNlZDogJ1NSNS5DeWJlcndhcmVHcmFkZVVzZWQnLFxuICAgIH0sXG5cbiAgICBrbm93bGVkZ2VTa2lsbENhdGVnb3JpZXM6IHtcbiAgICAgICAgc3RyZWV0OiAnU1I1Lktub3dsZWRnZVNraWxsU3RyZWV0JyxcbiAgICAgICAgYWNhZGVtaWM6ICdTUjUuS25vd2xlZGdlU2tpbGxBY2FkZW1pYycsXG4gICAgICAgIHByb2Zlc3Npb25hbDogJ1NSNS5Lbm93bGVkZ2VTa2lsbFByb2Zlc3Npb25hbCcsXG4gICAgICAgIGludGVyZXN0czogJ1NSNS5Lbm93bGVkZ2VTa2lsbEludGVyZXN0cycsXG4gICAgfSxcblxuICAgIGFjdGl2ZVNraWxsczoge1xuICAgICAgICBhcmNoZXJ5OiAnU1I1LlNraWxsQXJjaGVyeScsXG4gICAgICAgIGF1dG9tYXRpY3M6ICdTUjUuU2tpbGxBdXRvbWF0aWNzJyxcbiAgICAgICAgYmxhZGVzOiAnU1I1LlNraWxsQmxhZGVzJyxcbiAgICAgICAgY2x1YnM6ICdTUjUuU2tpbGxDbHVicycsXG4gICAgICAgIGV4b3RpY19tZWxlZTogJ1NSNS5Ta2lsbEV4b3RpY01lbGVlJyxcbiAgICAgICAgZXhvdGljX3JhbmdlOiAnU1I1LlNraWxsRXhvdGljUmFuZ2UnLFxuICAgICAgICBoZWF2eV93ZWFwb25zOiAnU1I1LlNraWxsSGVhdnlXZWFwb25zJyxcbiAgICAgICAgbG9uZ2FybXM6ICdTUjUuU2tpbGxMb25nYXJtcycsXG4gICAgICAgIHBpc3RvbHM6ICdTUjUuU2tpbGxQaXN0b2xzJyxcbiAgICAgICAgdGhyb3dpbmdfd2VhcG9uczogJ1NSNS5Ta2lsbFRocm93aW5nV2VhcG9ucycsXG4gICAgICAgIHVuYXJtZWRfY29tYmF0OiAnU1I1LlNraWxsVW5hcm1lZENvbWJhdCcsXG4gICAgICAgIGRpc2d1aXNlOiAnU1I1LlNraWxsRGlzZ3Vpc2UnLFxuICAgICAgICBkaXZpbmc6ICdTUjUuU2tpbGxEaXZpbmcnLFxuICAgICAgICBlc2NhcGVfYXJ0aXN0OiAnU1I1LlNraWxsRXNjYXBlQXJ0aXN0JyxcbiAgICAgICAgZnJlZV9mYWxsOiAnU1I1LlNraWxsRnJlZUZhbGwnLFxuICAgICAgICBneW1uYXN0aWNzOiAnU1I1LlNraWxsR3ltbmFzdGljcycsXG4gICAgICAgIHBhbG1pbmc6ICdTUjUuU2tpbGxQYWxtaW5nJyxcbiAgICAgICAgcGVyY2VwdGlvbjogJ1NSNS5Ta2lsbFBlcmNlcHRpb24nLFxuICAgICAgICBydW5uaW5nOiAnU1I1LlNraWxsUnVubmluZycsXG4gICAgICAgIHNuZWFraW5nOiAnU1I1LlNraWxsU25lYWtpbmcnLFxuICAgICAgICBzdXJ2aXZhbDogJ1NSNS5Ta2lsbFN1cnZpdmFsJyxcbiAgICAgICAgc3dpbW1pbmc6ICdTUjUuU2tpbGxTd2ltbWluZycsXG4gICAgICAgIHRyYWNraW5nOiAnU1I1LlNraWxsVHJhY2tpbmcnLFxuICAgICAgICBjb246ICdTUjUuU2tpbGxDb24nLFxuICAgICAgICBldGlxdWV0dGU6ICdTUjUuU2tpbGxFdGlxdWV0dGUnLFxuICAgICAgICBpbXBlcnNvbmF0aW9uOiAnU1I1LlNraWxsSW1wZXJzb25hdGlvbicsXG4gICAgICAgIGluc3RydWN0aW9uOiAnU1I1LlNraWxsSW5zdHJ1Y3Rpb24nLFxuICAgICAgICBpbnRpbWlkYXRpb246ICdTUjUuU2tpbGxJbnRpbWlkYXRpb24nLFxuICAgICAgICBsZWFkZXJzaGlwOiAnU1I1LlNraWxsTGVhZGVyc2hpcCcsXG4gICAgICAgIG5lZ290aWF0aW9uOiAnU1I1LlNraWxsTmVnb3RpYXRpb24nLFxuICAgICAgICBwZXJmb3JtYW5jZTogJ1NSNS5Ta2lsbFBlcmZvcm1hbmNlJyxcbiAgICAgICAgYWxjaGVteTogJ1NSNS5Ta2lsbEFsY2hlbXknLFxuICAgICAgICBhcmNhbmE6ICdTUjUuU2tpbGxBcmNhbmEnLFxuICAgICAgICBhcnRpZmljaW5nOiAnU1I1LlNraWxsQXJ0aWZpY2luZycsXG4gICAgICAgIGFzc2Vuc2luZzogJ1NSNS5Ta2lsbEFzc2Vuc2luZycsXG4gICAgICAgIGFzdHJhbF9jb21iYXQ6ICdTUjUuU2tpbGxBc3RyYWxDb21iYXQnLFxuICAgICAgICBiYW5pc2hpbmc6ICdTUjUuU2tpbGxCYW5pc2hpbmcnLFxuICAgICAgICBiaW5kaW5nOiAnU1I1LlNraWxsQmluZGluZycsXG4gICAgICAgIGNvdW50ZXJzcGVsbGluZzogJ1NSNS5Ta2lsbENvdW50ZXJzcGVsbGluZycsXG4gICAgICAgIGRpc2VuY2hhbnRpbmc6ICdTUjUuU2tpbGxEaXNlbmNoYW50aW5nJyxcbiAgICAgICAgcml0dWFsX3NwZWxsY2FzdGluZzogJ1NSNS5Ta2lsbFJpdHVhbFNwZWxsY2FzdGluZycsXG4gICAgICAgIHNwZWxsY2FzdGluZzogJ1NSNS5Ta2lsbFNwZWxsY2FzdGluZycsXG4gICAgICAgIHN1bW1vbmluZzogJ1NSNS5Ta2lsbFN1bW1vbmluZycsXG4gICAgICAgIGNvbXBpbGluZzogJ1NSNS5Ta2lsbENvbXBpbGluZycsXG4gICAgICAgIGRlY29tcGlsaW5nOiAnU1I1LlNraWxsRGVjb21waWxpbmcnLFxuICAgICAgICByZWdpc3RlcmluZzogJ1NSNS5Ta2lsbFJlZ2lzdGVyaW5nJyxcbiAgICAgICAgYWVyb25hdXRpY3NfbWVjaGFuaWM6ICdTUjUuU2tpbGxBZXJvbmF1dGljc01lY2hhbmljJyxcbiAgICAgICAgYXV0b21vdGl2ZV9tZWNoYW5pYzogJ1NSNS5Ta2lsbEF1dG9tb3RpdmVNZWNoYW5pYycsXG4gICAgICAgIGluZHVzdHJpYWxfbWVjaGFuaWM6ICdTUjUuU2tpbGxJbmR1c3RyaWFsTWVjaGFuaWMnLFxuICAgICAgICBuYXV0aWNhbF9tZWNoYW5pYzogJ1NSNS5Ta2lsbE5hdXRpY2FsTWVjaGFuaWMnLFxuICAgICAgICBhbmltYWxfaGFuZGxpbmc6ICdTUjUuU2tpbGxBbmltYWxIYW5kbGluZycsXG4gICAgICAgIGFybW9yZXI6ICdTUjUuU2tpbGxBcm1vcmVyJyxcbiAgICAgICAgYXJ0aXNhbjogJ1NSNS5Ta2lsbEFydGlzYW4nLFxuICAgICAgICBiaW90ZWNobm9sb2d5OiAnU1I1LlNraWxsQmlvdGVjaG5vbG9neScsXG4gICAgICAgIGNoZW1pc3RyeTogJ1NSNS5Ta2lsbENoZW1pc3RyeScsXG4gICAgICAgIGNvbXB1dGVyOiAnU1I1LlNraWxsQ29tcHV0ZXInLFxuICAgICAgICBjeWJlcmNvbWJhdDogJ1NSNS5Ta2lsbEN5YmVyY29tYmF0JyxcbiAgICAgICAgY3liZXJ0ZWNobm9sb2d5OiAnU1I1LlNraWxsQ3liZXJ0ZWNobm9sb2d5JyxcbiAgICAgICAgZGVtb2xpdGlvbnM6ICdTUjUuU2tpbGxEZW1vbGl0aW9ucycsXG4gICAgICAgIGVsZWN0cm9uaWNfd2FyZmFyZTogJ1NSNS5Ta2lsbEVsZWN0cm9uaWNXYXJmYXJlJyxcbiAgICAgICAgZmlyc3RfYWlkOiAnU1I1LlNraWxsRmlyc3RBaWQnLFxuICAgICAgICBmb3JnZXJ5OiAnU1I1LlNraWxsRm9yZ2VyeScsXG4gICAgICAgIGhhY2tpbmc6ICdTUjUuU2tpbGxIYWNraW5nJyxcbiAgICAgICAgaGFyZHdhcmU6ICdTUjUuU2tpbGxIYXJkd2FyZScsXG4gICAgICAgIGxvY2tzbWl0aDogJ1NSNS5Ta2lsbExvY2tzbWl0aCcsXG4gICAgICAgIG1lZGljaW5lOiAnU1I1LlNraWxsTWVkaWNpbmUnLFxuICAgICAgICBuYXZpZ2F0aW9uOiAnU1I1LlNraWxsTmF2aWdhdGlvbicsXG4gICAgICAgIHNvZnR3YXJlOiAnU1I1LlNraWxsU29mdHdhcmUnLFxuICAgICAgICBndW5uZXJ5OiAnU1I1LlNraWxsR3VubmVyeScsXG4gICAgICAgIHBpbG90X2Flcm9zcGFjZTogJ1NSNS5Ta2lsbFBpbG90QWVyb3NwYWNlJyxcbiAgICAgICAgcGlsb3RfYWlyY3JhZnQ6ICdTUjUuU2tpbGxQaWxvdEFpcmNyYWZ0JyxcbiAgICAgICAgcGlsb3Rfd2Fsa2VyOiAnU1I1LlNraWxsUGlsb3RXYWxrZXInLFxuICAgICAgICBwaWxvdF9ncm91bmRfY3JhZnQ6ICdTUjUuU2tpbGxQaWxvdEdyb3VuZENyYWZ0JyxcbiAgICAgICAgcGlsb3Rfd2F0ZXJfY3JhZnQ6ICdTUjUuU2tpbGxQaWxvdFdhdGVyQ3JhZnQnLFxuICAgICAgICBwaWxvdF9leG90aWNfdmVoaWNsZTogJ1NSNS5Ta2lsbFBpbG90RXhvdGljVmVoaWNsZScsXG4gICAgfSxcblxuICAgIGFjdGlvblR5cGVzOiB7XG4gICAgICAgIG5vbmU6ICdTUjUuQWN0aW9uVHlwZU5vbmUnLFxuICAgICAgICBmcmVlOiAnU1I1LkFjdGlvblR5cGVGcmVlJyxcbiAgICAgICAgc2ltcGxlOiAnU1I1LkFjdGlvblR5cGVTaW1wbGUnLFxuICAgICAgICBjb21wbGV4OiAnU1I1LkFjdGlvblR5cGVDb21wbGV4JyxcbiAgICAgICAgdmFyaWVzOiAnU1I1LkFjdGlvblR5cGVWYXJpZXMnLFxuICAgIH0sXG5cbiAgICAvLyBVc2Ugd2l0aGluIGFjdGlvbiBkYW1hZ2UgY2FsY3VsYXRpb24gKGJhc2UgPG9wZXJhdG9yPiBhdHRyaWJ1dGUpID0+IHZhbHVlXG4gICAgYWN0aW9uRGFtYWdlRm9ybXVsYU9wZXJhdG9yczoge1xuICAgICAgICBhZGQ6ICcrJyxcbiAgICAgICAgc3VidHJhY3Q6ICctJyxcbiAgICAgICAgbXVsdGlwbHk6ICcqJyxcbiAgICAgICAgZGl2aWRlOiAnLydcbiAgICB9LFxuXG4gICAgbWF0cml4QXR0cmlidXRlczoge1xuICAgICAgICBhdHRhY2s6ICdTUjUuTWF0cml4QXR0ckF0dGFjaycsXG4gICAgICAgIHNsZWF6ZTogJ1NSNS5NYXRyaXhBdHRyU2xlYXplJyxcbiAgICAgICAgZGF0YV9wcm9jZXNzaW5nOiAnU1I1Lk1hdHJpeEF0dHJEYXRhUHJvYycsXG4gICAgICAgIGZpcmV3YWxsOiAnU1I1Lk1hdHJpeEF0dHJGaXJld2FsbCcsXG4gICAgfSxcblxuICAgIGluaXRpYXRpdmVDYXRlZ29yaWVzOiB7XG4gICAgICAgIG1lYXRzcGFjZTogJ1NSNS5Jbml0Q2F0TWVhdHNwYWNlJyxcbiAgICAgICAgYXN0cmFsOiAnU1I1LkluaXRDYXRBc3RyYWwnLFxuICAgICAgICBtYXRyaXg6ICdTUjUuSW5pdENhdE1hdHJpeCcsXG4gICAgfSxcblxuICAgIG1vZGlmaWNhdGlvblR5cGVzOiB7XG4gICAgICAgIHdlYXBvbjogJ1NSNS5XZWFwb24nLFxuICAgICAgICBhcm1vcjogJ1NSNS5Bcm1vcicsXG4gICAgfSxcblxuICAgIG1vdW50UG9pbnRzOiB7XG4gICAgICAgIGJhcnJlbDogJ1NSNS5CYXJyZWwnLFxuICAgICAgICB1bmRlcl9iYXJyZWw6ICdTUjUuVW5kZXJCYXJyZWwnLFxuICAgICAgICBzdG9jazogJ1NSNS5TdG9jaycsXG4gICAgICAgIHRvcDogJ1NSNS5Ub3AnLFxuICAgICAgICBzaWRlOiAnU1I1LlNpZGUnLFxuICAgICAgICBpbnRlcm5hbDogJ1NSNS5JbnRlcm5hbCcsXG4gICAgfSxcblxuICAgIGxpZmVzdHlsZVR5cGVzOiB7XG4gICAgICAgIHN0cmVldDogJ1NSNS5MaWZlc3R5bGVTdHJlZXQnLFxuICAgICAgICBzcXVhdHRlcjogJ1NSNS5MaWZlc3R5bGVTcXVhdHRlcicsXG4gICAgICAgIGxvdzogJ1NSNS5MaWZlc3R5bGVMb3cnLFxuICAgICAgICBtZWRpdW06ICdTUjUuTGlmZXN0eWxlTWlkZGxlJyxcbiAgICAgICAgaGlnaDogJ1NSNS5MaWZlc3R5bGVIaWdoJyxcbiAgICAgICAgbHV4b3J5OiAnU1I1LkxpZmVzdHlsZUx1eG9yeScsXG4gICAgICAgIG90aGVyOiAnU1I1LkxpZmVzdHlsZU90aGVyJyxcbiAgICB9LFxuXG4gICAga2Jtb2Q6IHtcbiAgICAgICAgU1RBTkRBUkQ6ICdzaGlmdEtleScsXG4gICAgICAgIEVER0U6ICdhbHRLZXknLFxuICAgICAgICBTUEVDOiAnY3RybEtleScsXG4gICAgfSxcblxuICAgIGFjdG9yTW9kaWZpZXJzOiB7XG4gICAgICAgIHNvYWs6ICdTUjUuUm9sbFNvYWsnLFxuICAgICAgICBkcmFpbjogJ1NSNS5EcmFpbicsXG4gICAgICAgIGFybW9yOiAnU1I1LkFybW9yJyxcbiAgICAgICAgcGh5c2ljYWxfbGltaXQ6ICdTUjUuUGh5c2ljYWxMaW1pdCcsXG4gICAgICAgIHNvY2lhbF9saW1pdDogJ1NSNS5Tb2NpYWxMaW1pdCcsXG4gICAgICAgIG1lbnRhbF9saW1pdDogJ1NSNS5NZW50YWxMaW1pdCcsXG4gICAgICAgIHN0dW5fdHJhY2s6ICdTUjUuU3R1blRyYWNrJyxcbiAgICAgICAgcGh5c2ljYWxfdHJhY2s6ICdTUjUuUGh5c2ljYWxUcmFjaycsXG4gICAgICAgIG1lYXRfaW5pdGlhdGl2ZTogJ1NSNS5NZWF0U3BhY2VJbml0JyxcbiAgICAgICAgbWVhdF9pbml0aWF0aXZlX2RpY2U6ICdTUjUuTWVhdFNwYWNlRGljZScsXG4gICAgICAgIGFzdHJhbF9pbml0aWF0aXZlOiAnU1I1LkFzdHJhbEluaXQnLFxuICAgICAgICBhc3RyYWxfaW5pdGlhdGl2ZV9kaWNlOiAnU1I1LkFzdHJhbERpY2UnLFxuICAgICAgICBtYXRyaXhfaW5pdGlhdGl2ZTogJ1NSNS5NYXRyaXhJbml0JyxcbiAgICAgICAgbWF0cml4X2luaXRpYXRpdmVfZGljZTogJ1NSNS5NYXRyaXhEaWNlJyxcbiAgICAgICAgY29tcG9zdXJlOiAnU1I1LlJvbGxDb21wb3N1cmUnLFxuICAgICAgICBsaWZ0X2NhcnJ5OiAnU1I1LlJvbGxMaWZ0Q2FycnknLFxuICAgICAgICBqdWRnZV9pbnRlbnRpb25zOiAnU1I1LlJvbGxKdWRnZUludGVudGlvbnMnLFxuICAgICAgICBtZW1vcnk6ICdTUjUuUm9sbE1lbW9yeScsXG4gICAgICAgIHdhbGs6ICdTUjUuV2FsaycsXG4gICAgICAgIHJ1bjogJ1NSNS5SdW4nLFxuICAgICAgICBkZWZlbnNlOiAnU1I1LlJvbGxEZWZlbnNlJyxcbiAgICAgICAgd291bmRfdG9sZXJhbmNlOiAnU1I1LldvdW5kVG9sZXJhbmNlJyxcbiAgICAgICAgZXNzZW5jZTogJ1NSNS5BdHRyRXNzZW5jZScsXG4gICAgICAgIGZhZGU6ICdTUjUuUm9sbEZhZGUnLFxuICAgICAgICBnbG9iYWw6ICdTUjUuR2xvYmFsJyxcbiAgICB9LFxuXG4gICAgcHJvZ3JhbVR5cGVzOiB7XG4gICAgICAgIGNvbW1vbl9wcm9ncmFtOiAnU1I1LkNvbW1vblByb2dyYW0nLFxuICAgICAgICBoYWNraW5nX3Byb2dyYW06ICdTUjUuSGFja2luZ1Byb2dyYW0nLFxuICAgICAgICBhZ2VudDogJ1NSNS5BZ2VudCcsXG4gICAgfSxcblxuICAgIHNwaXJpdFR5cGVzOiB7XG4gICAgICAgIC8vIGJhc2UgdHlwZXNcbiAgICAgICAgYWlyOiAnU1I1LlNwaXJpdC5UeXBlcy5BaXInLFxuICAgICAgICBiZWFzdHM6ICdTUjUuU3Bpcml0LlR5cGVzLkJlYXN0cycsXG4gICAgICAgIGVhcnRoOiAnU1I1LlNwaXJpdC5UeXBlcy5FYXJ0aCcsXG4gICAgICAgIGZpcmU6ICdTUjUuU3Bpcml0LlR5cGVzLkZpcmUnLFxuICAgICAgICBndWFyZGlhbjogJ1NSNS5TcGlyaXQuVHlwZXMuR3VhcmRpYW4nLFxuICAgICAgICBndWlkYW5jZTogJ1NSNS5TcGlyaXQuVHlwZXMuR3VpZGFuY2UnLFxuICAgICAgICBtYW46ICdTUjUuU3Bpcml0LlR5cGVzLk1hbicsXG4gICAgICAgIHBsYW50OiAnU1I1LlNwaXJpdC5UeXBlcy5QbGFudCcsXG4gICAgICAgIHRhc2s6ICdTUjUuU3Bpcml0LlR5cGVzLlRhc2snLFxuICAgICAgICB3YXRlcjogJ1NSNS5TcGlyaXQuVHlwZXMuV2F0ZXInLFxuXG4gICAgICAgIC8vIHRveGljIHR5cGVzXG4gICAgICAgIHRveGljX2FpcjogJ1NSNS5TcGlyaXQuVHlwZXMuVG94aWNBaXInLFxuICAgICAgICB0b3hpY19iZWFzdHM6ICdTUjUuU3Bpcml0LlR5cGVzLlRveGljQmVhc3RzJyxcbiAgICAgICAgdG94aWNfZWFydGg6ICdTUjUuU3Bpcml0LlR5cGVzLlRveGljRWFydGgnLFxuICAgICAgICB0b3hpY19maXJlOiAnU1I1LlNwaXJpdC5UeXBlcy5Ub3hpY0ZpcmUnLFxuICAgICAgICB0b3hpY19tYW46ICdTUjUuU3Bpcml0LlR5cGVzLlRveGljTWFuJyxcbiAgICAgICAgdG94aWNfd2F0ZXI6ICdTUjUuU3Bpcml0LlR5cGVzLlRveGljV2F0ZXInLFxuXG4gICAgICAgIC8vIGJsb29kIHR5cGVzXG4gICAgICAgIGJsb29kOiAnU1I1LlNwaXJpdC5UeXBlcy5CbG9vZCcsXG5cbiAgICAgICAgLy8gc2hhZG93IHR5cGVzXG4gICAgICAgIG11c2U6ICdTUjUuU3Bpcml0LlR5cGVzLk11c2UnLFxuICAgICAgICBuaWdodG1hcmU6ICdTUjUuU3Bpcml0LlR5cGVzLk5pZ2h0bWFyZScsXG4gICAgICAgIHNoYWRlOiAnU1I1LlNwaXJpdC5UeXBlcy5TaGFkZScsXG4gICAgICAgIHN1Y2N1YnVzOiAnU1I1LlNwaXJpdC5UeXBlcy5TdWNjdWJ1cycsXG4gICAgICAgIHdyYWl0aDogJ1NSNS5TcGlyaXQuVHlwZXMuV3JhaXRoJyxcblxuICAgICAgICAvLyBzaGVkaW0gdHlwZXNcbiAgICAgICAgc2hlZGltOiAnU1I1LlNwaXJpdC5UeXBlcy5TaGVkaW0nLFxuICAgICAgICBtYXN0ZXJfc2hlZGltOiAnU1I1LlNwaXJpdC5UeXBlcy5NYXN0ZXJTaGVkaW0nLFxuXG4gICAgICAgIC8vIGluc2VjdCB0eXBlc1xuICAgICAgICBjYXJldGFrZXI6ICdTUjUuU3Bpcml0LlR5cGVzLkNhcmV0YWtlcicsXG4gICAgICAgIG55bXBoOiAnU1I1LlNwaXJpdC5UeXBlcy5OeW1waCcsXG4gICAgICAgIHNjb3V0OiAnU1I1LlNwaXJpdC5UeXBlcy5TY291dCcsXG4gICAgICAgIHNvbGRpZXI6ICdTUjUuU3Bpcml0LlR5cGVzLlNvbGRpZXInLFxuICAgICAgICB3b3JrZXI6ICdTUjUuU3Bpcml0LlR5cGVzLldvcmtlcicsXG4gICAgICAgIHF1ZWVuOiAnU1I1LlNwaXJpdC5UeXBlcy5RdWVlbicsXG4gICAgfSxcblxuICAgIGNyaXR0ZXJQb3dlcjoge1xuICAgICAgICBjYXRlZ29yaWVzOiB7XG4gICAgICAgICAgbXVuZGFuZTogJ1NSNS5Dcml0dGVyUG93ZXIuQ2F0ZWdvcmllcy5NdW5kYW5lJyxcbiAgICAgICAgICBwYXJhbm9ybWFsOiAnU1I1LkNyaXR0ZXJQb3dlci5DYXRlZ29yaWVzLlBhcmFub3JtYWwnLFxuICAgICAgICAgIGZyZWVfc3Bpcml0OiAnU1I1LkNyaXR0ZXJQb3dlci5DYXRlZ29yaWVzLkZyZWVTcGlyaXQnLFxuICAgICAgICAgIGVtZXJnZW50OiAnU1I1LkNyaXR0ZXJQb3dlci5DYXRlZ29yaWVzLkVtZXJnZW50JyxcbiAgICAgICAgICBzaGFwZXNoaWZ0ZXI6ICdTUjUuQ3JpdHRlclBvd2VyLkNhdGVnb3JpZXMuU2hhcGVzaGlmdGVyJyxcbiAgICAgICAgICBkcmFrZTogJ1NSNS5Dcml0dGVyUG93ZXIuQ2F0ZWdvcmllcy5EcmFrZScsXG4gICAgICAgICAgZWNob2VzOiAnU1I1LkNyaXR0ZXJQb3dlci5DYXRlZ29yaWVzLkVjaG9lcycsXG4gICAgICAgICAgd2Vha25lc3M6ICdTUjUuQ3JpdHRlclBvd2VyLkNhdGVnb3JpZXMuV2Vha25lc3MnLFxuICAgICAgICAgIHBhcmFub3JtYWxfaW5mZWN0ZWQ6ICdTUjUuQ3JpdHRlclBvd2VyLkNhdGVnb3JpZXMuUGFyYW5vcm1hbEluZmVjdGVkJyxcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIG1hbmE6ICdTUjUuQ3JpdHRlclBvd2VyLlR5cGVzLk1hbmEnLFxuICAgICAgICAgICAgcGh5c2ljYWw6ICdTUjUuQ3JpdHRlclBvd2VyLlR5cGVzLlBoeXNpY2FsJyxcbiAgICAgICAgfSxcbiAgICAgICAgcmFuZ2VzOiB7XG4gICAgICAgICAgICBsb3M6ICdTUjUuQ3JpdHRlclBvd2VyLlJhbmdlcy5MaW5lT2ZTaWdodCcsXG4gICAgICAgICAgICBzZWxmOiAnU1I1LkNyaXR0ZXJQb3dlci5SYW5nZXMuU2VsZicsXG4gICAgICAgICAgICB0b3VjaDogJ1NSNS5Dcml0dGVyUG93ZXIuUmFuZ2VzLlRvdWNoJyxcbiAgICAgICAgICAgIGxvc19hOiAnU1I1LkNyaXR0ZXJQb3dlci5SYW5nZXMuTGluZU9mU2lnaHRBcmVhJyxcbiAgICAgICAgICAgIHNwZWNpYWw6ICdTUjUuQ3JpdHRlclBvd2VyLlJhbmdlcy5TcGVjaWFsJyxcbiAgICAgICAgfSxcbiAgICAgICAgZHVyYXRpb25zOiB7XG4gICAgICAgICAgICBhbHdheXM6ICdTUjUuQ3JpdHRlclBvd2VyLkR1cmF0aW9ucy5BbHdheXMnLFxuICAgICAgICAgICAgaW5zdGFudDogJ1NSNS5Dcml0dGVyUG93ZXIuRHVyYXRpb25zLkluc3RhbnQnLFxuICAgICAgICAgICAgc3VzdGFpbmVkOiAnU1I1LkNyaXR0ZXJQb3dlci5EdXJhdGlvbnMuU3VzdGFpbmVkJyxcbiAgICAgICAgICAgIHBlcm1hbmVudDogJ1NSNS5Dcml0dGVyUG93ZXIuRHVyYXRpb25zLlBlcm1hbmVudCcsXG4gICAgICAgICAgICBzcGVjaWFsOiAnU1I1LkNyaXR0ZXJQb3dlci5EdXJhdGlvbnMuU3BlY2lhbCcsXG4gICAgICAgIH0sXG4gICAgfSxcblxuICAgIHNwcml0ZVR5cGVzOiB7XG4gICAgICAgIGNvdXJpZXI6ICdTUjUuU3ByaXRlLlR5cGVzLkNvdXJpZXInLFxuICAgICAgICBjcmFjazogJ1NSNS5TcHJpdGUuVHlwZXMuQ3JhY2snLFxuICAgICAgICBkYXRhOiAnU1I1LlNwcml0ZS5UeXBlcy5EYXRhJyxcbiAgICAgICAgZmF1bHQ6ICdTUjUuU3ByaXRlLlR5cGVzLkZhdWx0JyxcbiAgICAgICAgbWFjaGluZTogJ1NSNS5TcHJpdGUuVHlwZXMuTWFjaGluZScsXG4gICAgfSxcblxuICAgIHZlaGljbGU6IHtcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIGFpcjogJ1NSNS5WZWhpY2xlLlR5cGVzLkFpcicsXG4gICAgICAgICAgICBhZXJvc3BhY2U6ICdTUjUuVmVoaWNsZS5UeXBlcy5BZXJvc3BhY2UnLFxuICAgICAgICAgICAgZ3JvdW5kOiAnU1I1LlZlaGljbGUuVHlwZXMuR3JvdW5kJyxcbiAgICAgICAgICAgIHdhdGVyOiAnU1I1LlZlaGljbGUuVHlwZXMuV2F0ZXInLFxuICAgICAgICAgICAgd2Fsa2VyOiAnU1I1LlZlaGljbGUuVHlwZXMuV2Fsa2VyJyxcbiAgICAgICAgICAgIGV4b3RpYzogJ1NSNS5WZWhpY2xlLlR5cGVzLkV4b3RpYycsXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXRzOiB7XG4gICAgICAgICAgICBoYW5kbGluZzogJ1NSNS5WZWhpY2xlLlN0YXRzLkhhbmRsaW5nJyxcbiAgICAgICAgICAgIG9mZl9yb2FkX2hhbmRsaW5nOiAnU1I1LlZlaGljbGUuU3RhdHMuT2ZmUm9hZEhhbmRsaW5nJyxcbiAgICAgICAgICAgIHNwZWVkOiAnU1I1LlZlaGljbGUuU3RhdHMuU3BlZWQnLFxuICAgICAgICAgICAgb2ZmX3JvYWRfc3BlZWQ6ICdTUjUuVmVoaWNsZS5TdGF0cy5PZmZSb2FkU3BlZWQnLFxuICAgICAgICAgICAgYWNjZWxlcmF0aW9uOiAnU1I1LlZlaGljbGUuU3RhdHMuQWNjZWxlcmF0aW9uJyxcbiAgICAgICAgICAgIHBpbG90OiAnU1I1LlZlaGljbGUuU3RhdHMuUGlsb3QnLFxuICAgICAgICAgICAgc2Vuc29yOiAnU1I1LlZlaGljbGUuU3RhdHMuU2Vuc29yJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbF9tb2Rlczoge1xuICAgICAgICAgICAgbWFudWFsOiAnU1I1LlZlaGljbGUuQ29udHJvbE1vZGVzLk1hbnVhbCcsXG4gICAgICAgICAgICByZW1vdGU6ICdTUjUuVmVoaWNsZS5Db250cm9sTW9kZXMuUmVtb3RlJyxcbiAgICAgICAgICAgIHJpZ2dlcjogJ1NSNS5WZWhpY2xlLkNvbnRyb2xNb2Rlcy5SaWdnZXInLFxuICAgICAgICAgICAgYXV0b3BpbG90OiAnU1I1LlZlaGljbGUuQ29udHJvbE1vZGVzLkF1dG9waWxvdCcsXG4gICAgICAgIH0sXG4gICAgICAgIGVudmlyb25tZW50czoge1xuICAgICAgICAgICAgc3BlZWQ6ICdTUjUuVmVoaWNsZS5FbnZpcm9ubWVudHMuU3BlZWQnLFxuICAgICAgICAgICAgaGFuZGxpbmc6ICdTUjUuVmVoaWNsZS5FbnZpcm9ubWVudHMuSGFuZGxpbmcnLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBjaGFyYWN0ZXI6IHtcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIGh1bWFuOiAnU1I1LkNoYXJhY3Rlci5UeXBlcy5IdW1hbicsXG4gICAgICAgICAgICBlbGY6ICdTUjUuQ2hhcmFjdGVyLlR5cGVzLkVsZicsXG4gICAgICAgICAgICBvcms6ICdTUjUuQ2hhcmFjdGVyLlR5cGVzLk9yaycsXG4gICAgICAgICAgICBkd2FyZjogJ1NSNS5DaGFyYWN0ZXIuVHlwZXMuRHdhcmYnLFxuICAgICAgICAgICAgdHJvbGw6ICdTUjUuQ2hhcmFjdGVyLlR5cGVzLlRyb2xsJyxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbiIsIi8qKlxuICogVGhlIGNvbnN0YW50cyBmaWxlIGlzIGEgYml0IG9mIGEgbWVzcyBvZiBzdHVmZiB0aGF0IGRvZXNuJ3QgY2hhbmdlIGFuZCBzb21lIHNoYWRvd3J1biBzcGVjaWZpYyBydWxlIHZhbHVlcy5cbiAqIEV2ZXJ5dGhpbmcgc2hvdWxkIGJlIHJldXNlZCBieSBzb21lcGxhY2UgZWxzZS4gVHJ5IHRvIGF2b2lkIGFueSBtYWdpYyB2YWx1ZXMgd2l0aGluZyB5b3VyIGNvZGUuXG4gKlxuICogVGhlIFNSIG9iamVjdCBjb250YWlucyBpbml0aWFsIHZhbHVlcyBhbmQgY29uc3RhbnRzLiBDb25zdGFudHMgYXJlIHdyaXR0ZW4gaW4gQUxMX0NBUFNfQ09OU1RBTlRTIGFuZCBzaG91bGQgbmV2ZXIgYmVcbiAqIGNoYW5nZWQgZHVyaW5nIHJ1bnRpbWUuXG4gKiBSZWdhcmRpbmcgU2hhZG93cnVuIG1vZGlmaWVyIHZhbHVlczogSWYgdGhlIHJ1bGVzIGRlZmluZSBhIG5lZ2F0aXZlIG1vZGlmaWVyLCBkZWNsYXJlIGl0IGhlcmUgYXMgc3VjaC4gRG9uJ3QgdXNlIGEgcG9zaXRpdmVcbiAqIG1vZGlmaWVyIGFuZCBzdWJ0cmFjdCBhdCB0aGUgcGxhY2Ugb2YgdXNlLlxuICpcbiAqIE90aGVyIHRoYW4gdGhpcyBmaWxlIGNvbmZpZy50cyBleGlzdHMgYW5kIG9ubHkgY29udGFpbnMgbWFwcGluZ3MgYmV0d2VlbiBmaXhlZCBuYW1lcy9pZHMgYW5kIHRyYW5zbGF0aW9uIGxhYmVscy5cbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBTWVNURU1fTkFNRSA9ICdzaGFkb3dydW41ZSc7XG5leHBvcnQgY29uc3QgU1lTVEVNX1NPQ0tFVCA9IGBzeXN0ZW0uJHtTWVNURU1fTkFNRX1gO1xuZXhwb3J0IGNvbnN0IEZMQUdTID0ge1xuICAgIFNob3dHbGl0Y2hBbmltYXRpb246ICdzaG93R2xpdGNoQW5pbWF0aW9uJyxcbiAgICBTaG93VG9rZW5OYW1lRm9yQ2hhdE91dHB1dDogJ3Nob3dUb2tlbk5hbWVJbnN0ZWFkT2ZBY3RvcicsXG4gICAgV2hpc3Blck9wcG9zZWRUZXN0c1RvVGFyZ2V0ZWRQbGF5ZXJzOiAnd2hpc3Blck9wcG9zZWRUZXN0c1RvVGFyZ2V0ZWRQbGF5ZXJzJyxcbiAgICBPbmx5QWxsb3dSb2xsT25EZWZhdWx0YWJsZVNraWxsczogJ29ubHlBbGxvd1JvbGxPbkRlZmF1bHRhYmxlU2tpbGxzJyxcbiAgICBTaG93U2tpbGxzV2l0aERldGFpbHM6ICdzaG93U2tpbGxzV2l0aERldGFpbHMnLFxuICAgIE9ubHlBdXRvUm9sbE5QQ0luQ29tYmF0OiAnb25seUF1dG9Sb2xsTlBDSW5Db21iYXQnLFxuICAgIE1lc3NhZ2VDdXN0b21Sb2xsOiAnY3VzdG9tUm9sbCcsXG4gICAgQXBwbHlMaW1pdHM6ICdhcHBseUxpbWl0cycsXG4gICAgTGFzdFJvbGxQcm9tcHRWYWx1ZTogJ2xhc3RSb2xsUHJvbXB0VmFsdWUnLFxuICAgIERpc3BsYXlEZWZhdWx0Um9sbENhcmQ6ICdkaXNwbGF5RGVmYXVsdFJvbGxDYXJkJyxcbiAgICBDb21iYXRJbml0aWF0aXZlUGFzczogJ2NvbWJhdEluaXRpYXRpdmVQYXNzJyxcbiAgICBFbWJlZGRlZEl0ZW1zOiAnZW1iZWRkZWRJdGVtcycsXG4gICAgTGFzdEZpcmVNb2RlOiAnbGFzdEZpcmVNb2RlJyxcbiAgICBMYXN0U3BlbGxGb3JjZTogJ2xhc3RTcGVsbEZvcmNlJyxcbiAgICBMYXN0Q29tcGxleEZvcm1MZXZlbDogJ2xhc3RDb21wbGV4Rm9ybUxldmVsJyxcbiAgICBMYXN0RmlyZVJhbmdlOiAnbGFzdEZpcmVSYW5nZScsXG4gICAgQXR0YWNrOiAnYXR0YWNrJyxcbiAgICBSb2xsOiAncm9sbCcsXG4gICAgVGFyZ2V0c1NjZW5lVG9rZW5JZHM6ICd0YXJnZXRzU2NlbmVUb2tlbklkcycsXG4gICAgQ2hhbmdlbG9nU2hvd25Gb3JWZXJzaW9uOiAnY2hhbmdlbG9nU2hvd25Gb3JWZXJzaW9uJyxcbiAgICBNb2RpZmllcjogJ21vZGlmaWVyJyxcbiAgICBEb0luaXRQYXNzOiAnZG9Jbml0UGFzcycsXG4gICAgRG9OZXh0Um91bmQ6ICdkb05leHRSb3VuZCcsXG59O1xuZXhwb3J0IGNvbnN0IENPUkVfTkFNRSA9ICdjb3JlJztcbmV4cG9ydCBjb25zdCBDT1JFX0ZMQUdTID0ge1xuICAgIFJvbGxNb2RlOiAncm9sbE1vZGUnXG59XG5leHBvcnQgY29uc3QgTUVUQVRZUEVNT0RJRklFUiA9ICdTUjUuQ2hhcmFjdGVyLk1vZGlmaWVycy5OUENNZXRhdHlwZUF0dHJpYnV0ZSc7XG5cbmV4cG9ydCBjb25zdCBMRU5HVEhfVU5JVF9UT19NRVRFUlNfTVVMVElQTElFUlMgPSB7XG4gICAgJ20nOiAxLFxuICAgICdtZXRlcic6IDEsXG4gICAgJ21ldGVycyc6IDEsXG4gICAgJ2ttJzogMTAwMCxcbiAgICAna2lsb21ldGVycyc6IDEwMDAsXG4gICAgJ2tpbG9tZXRlcic6IDEwMDAsXG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9ST0xMX05BTUUgPSAnUm9sbCc7XG5leHBvcnQgY29uc3QgTEVOR1RIX1VOSVQgPSAnbSc7XG5leHBvcnQgY29uc3QgU0tJTExfREVGQVVMVF9OQU1FID0gJyc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9JRF9MRU5HVEggPSAxNjtcblxuLy8gQ29udGFpbiBkYXRhIHJlZ2FyZGluZyBzaGFkb3dydW4gcnVsZXMsIG1vc3RseSB3aGF0ZXZlciBpcyBzdGF0ZWQgaW4gc29tZSB0YWJsZSB0byBiZSBsb29rZWQgdXAgaW4gb3RoZXIgcGxhY2VzLlxuZXhwb3J0IGNvbnN0IFNSID0ge1xuICAgIGNvbWJhdDoge1xuICAgICAgICBlbnZpcm9ubWVudGFsOiB7XG4gICAgICAgICAgICByYW5nZV9tb2RpZmllcnM6IHtcbiAgICAgICAgICAgICAgICBzaG9ydDogMCxcbiAgICAgICAgICAgICAgICBtZWRpdW06IC0xLFxuICAgICAgICAgICAgICAgIGxvbmc6IC0zLFxuICAgICAgICAgICAgICAgIGV4dHJlbWU6IC02LFxuICAgICAgICAgICAgICAgIC8vIEEgbW9kaWZpZXIgb2YgemVybyB3aWxsIGFsbG93IGZvciB1c2Vycy9nbSB0byBzdGlsbCB0ZXN0IG9vciB0YXJnZXRzIHdpdGggdGhlaXIgb3duIGp1ZGdlbWVudC5cbiAgICAgICAgICAgICAgICBvdXRfb2ZfcmFuZ2U6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZXZlbHM6IHtcbiAgICAgICAgICAgICAgICBnb29kOiAwLFxuICAgICAgICAgICAgICAgIGxpZ2h0OiAtMSxcbiAgICAgICAgICAgICAgICBtb2RlcmF0ZTogLTMsXG4gICAgICAgICAgICAgICAgaGVhdnk6IC02LFxuICAgICAgICAgICAgICAgIGV4dHJlbWU6IC0xMCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBJTklfUkVTVUxUX01PRF9BRlRFUl9JTklfUEFTUzogLTEwLFxuICAgICAgICBJTklUSUFMX0lOSV9QQVNTOiAxLFxuICAgICAgICBJTklUSUFMX0lOSV9ST1VORDogMVxuICAgIH0sXG4gICAgZGllOiB7XG4gICAgICAgIGdsaXRjaDogWzFdLFxuICAgICAgICBzdWNjZXNzOiBbNSwgNl1cbiAgICB9LFxuICAgIGRlZmVuc2U6IHtcbiAgICAgICAgc3BlbGw6IHtcbiAgICAgICAgICAgIGRpcmVjdDoge1xuICAgICAgICAgICAgICAgIG1hbmE6ICd3aWxscG93ZXInLFxuICAgICAgICAgICAgICAgIHBoeXNpY2FsOiAnYm9keSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgICByYW5nZXM6IHtcbiAgICAgICAgICAgIG1hZ2ljOiB7bWluOiAwfSxcbiAgICAgICAgICAgIGVkZ2U6IHttaW46IDB9LFxuICAgICAgICAgICAgcmVzb25hbmNlOiB7bWluOiAwfSxcbiAgICAgICAgICAgIGVzc2VuY2U6IHttaW46IDB9LFxuICAgICAgICAgICAgYm9keToge21pbjogMX0sXG4gICAgICAgICAgICBhZ2lsaXR5OiB7bWluOiAxfSxcbiAgICAgICAgICAgIHJlYWN0aW9uOiB7bWluOiAxfSxcbiAgICAgICAgICAgIHN0cmVuZ3RoOiB7bWluOiAxfSxcbiAgICAgICAgICAgIHdpbGxwb3dlcjoge21pbjogMX0sXG4gICAgICAgICAgICBsb2dpYzoge21pbjogMX0sXG4gICAgICAgICAgICBpbnR1aXRpb246IHttaW46IDF9LFxuICAgICAgICAgICAgY2hhcmlzbWE6IHttaW46IDF9LFxuICAgICAgICAgICAgYXR0YWNrOiB7bWluOiAwfSxcbiAgICAgICAgICAgIHNsZWF6ZToge21pbjogMH0sXG4gICAgICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6IHttaW46IDB9LFxuICAgICAgICAgICAgZmlyZXdhbGw6IHttaW46IDB9XG4gICAgICAgIH0sXG4gICAgICAgIFNIT1JUX05BTUVfTEVOR1RIOiAzXG4gICAgfSxcbiAgICBza2lsbDoge1xuICAgICAgICAvLyBAUERGIFNSNSMxMzBcbiAgICAgICAgREVGQVVMVElOR19NT0RJRklFUjogLTEsXG4gICAgICAgIFNQRUNJQUxJWkFUSU9OX01PRElGSUVSOiAyXG4gICAgfVxufVxuIiwiaW1wb3J0IERhbWFnZURhdGEgPSBTaGFkb3dydW4uRGFtYWdlRGF0YTtcbmltcG9ydCBBY3RvckFybW9yRGF0YSA9IFNoYWRvd3J1bi5BY3RvckFybW9yRGF0YTtcbmltcG9ydCBUZWNobm9sb2d5RGF0YSA9IFNoYWRvd3J1bi5UZWNobm9sb2d5RGF0YTtcbmltcG9ydCBEZXNjcmlwdGlvbkRhdGEgPSBTaGFkb3dydW4uRGVzY3JpcHRpb25EYXRhO1xuaW1wb3J0IEVxdWlwbWVudERhdGEgPSBTaGFkb3dydW4uRXF1aXBtZW50RGF0YTtcbmltcG9ydCBRdWFsaXR5RGF0YSA9IFNoYWRvd3J1bi5RdWFsaXR5RGF0YTtcbmltcG9ydCBBY3Rpb25Sb2xsRGF0YSA9IFNoYWRvd3J1bi5BY3Rpb25Sb2xsRGF0YTtcbmltcG9ydCBMaW1pdERhdGEgPSBTaGFkb3dydW4uTGltaXREYXRhO1xuaW1wb3J0IE9wcG9zZWRUZXN0RGF0YSA9IFNoYWRvd3J1bi5PcHBvc2VkVGVzdERhdGE7XG5pbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuaW1wb3J0IHtTS0lMTF9ERUZBVUxUX05BTUV9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKipcbiAqIFRPRE86IEFkZCB1bml0dGVzdGluZyB0byBEZWZhdWx0VmFsdWVzIGhlbHBlci5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRWYWx1ZXMge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcnRpYWxEYW1hZ2VEYXRhIGdpdmUgcGFydGlhbCBEYW1hZ2VEYXRhIGZpZWxkcyB0byBvdmVyd3JpdGUgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZGFtYWdlRGF0YShwYXJ0aWFsRGFtYWdlRGF0YTogUGFydGlhbDxEYW1hZ2VEYXRhPiA9IHt9KTogRGFtYWdlRGF0YSB7XG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB7XG4gICAgICAgICAgICAgICAgYmFzZTogJ3BoeXNpY2FsJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ3BoeXNpY2FsJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgYmFzZTogJycsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGFwOiB7XG4gICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgYmFzZV9mb3JtdWxhX29wZXJhdG9yOiAnYWRkJ1xuICAgICAgICB9LCBwYXJ0aWFsRGFtYWdlRGF0YSkgYXMgRGFtYWdlRGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYWN0b3JBcm1vckRhdGEocGFydGlhbEFjdG9yQXJtb3JEYXRhOiBQYXJ0aWFsPEFjdG9yQXJtb3JEYXRhPiA9IHt9KTogQWN0b3JBcm1vckRhdGEge1xuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qoe1xuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgfSwgcGFydGlhbEFjdG9yQXJtb3JEYXRhKSBhcyBBY3RvckFybW9yRGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1aXBtZW50RGF0YShwYXJ0aWFsRXF1aXBtZW50RGF0YTogUGFydGlhbDxFcXVpcG1lbnREYXRhPiA9IHt9KTogRXF1aXBtZW50RGF0YSB7XG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdCh7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbkRhdGEoKSxcbiAgICAgICAgICAgIHRlY2hub2xvZ3k6IHRoaXMudGVjaG5vbG9neURhdGEoKSxcbiAgICAgICAgfSwgcGFydGlhbEVxdWlwbWVudERhdGEpIGFzIEVxdWlwbWVudERhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIHF1YWxpdHlEYXRhKHBhcnRpYWxRdWFsaXR5RGF0YTogUGFydGlhbDxRdWFsaXR5RGF0YT4gPSB7fSk6IFF1YWxpdHlEYXRhIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb25EYXRhKCksXG4gICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uUm9sbERhdGEoKSxcbiAgICAgICAgfSwgcGFydGlhbFF1YWxpdHlEYXRhKSBhcyBRdWFsaXR5RGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdGVjaG5vbG9neURhdGEocGFydGlhbFRlY2hub2xvZ3lEYXRhOiBQYXJ0aWFsPFRlY2hub2xvZ3lEYXRhPiA9IHt9KTogVGVjaG5vbG9neURhdGEge1xuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qoe1xuICAgICAgICAgICAgcmF0aW5nOiAnJyxcbiAgICAgICAgICAgIGF2YWlsYWJpbGl0eTogJycsXG4gICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgIGNvc3Q6IDAsXG4gICAgICAgICAgICBlcXVpcHBlZDogZmFsc2UsXG4gICAgICAgICAgICBjb25jZWFsOiB7XG4gICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmRpdGlvbl9tb25pdG9yOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICcnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgIG1heDogMCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgcGFydGlhbFRlY2hub2xvZ3lEYXRhKSBhcyBUZWNobm9sb2d5RGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVzY3JpcHRpb25EYXRhKHBhcnRpYWxEZXNjcmlwdGlvbkRhdGE6IFBhcnRpYWw8RGVzY3JpcHRpb25EYXRhPiA9IHt9KTogRGVzY3JpcHRpb25EYXRhIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KHtcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgIGNoYXQ6ICcnLFxuICAgICAgICAgICAgc291cmNlOiAnJ1xuICAgICAgICB9LCBwYXJ0aWFsRGVzY3JpcHRpb25EYXRhKSBhcyBEZXNjcmlwdGlvbkRhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIGFjdGlvblJvbGxEYXRhKHBhcnRpYWxBY3Rpb25Sb2xsRGF0YTogUGFydGlhbDxBY3Rpb25Sb2xsRGF0YT4gPSB7fSk6IEFjdGlvblJvbGxEYXRhIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgc2tpbGw6ICcnLFxuICAgICAgICAgICAgc3BlYzogZmFsc2UsXG4gICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICBtb2RfZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgbGltaXQ6IHRoaXMubGltaXREYXRhKCksXG4gICAgICAgICAgICBleHRlbmRlZDogZmFsc2UsXG4gICAgICAgICAgICBkYW1hZ2U6IHRoaXMuZGFtYWdlRGF0YSgpLFxuICAgICAgICAgICAgb3Bwb3NlZDogdGhpcy5vcHBvc2VkVGVzdERhdGEoKSxcbiAgICAgICAgICAgIGFsdF9tb2Q6IDAsXG4gICAgICAgICAgICBkaWNlX3Bvb2xfbW9kOiBbXVxuICAgICAgICB9LCBwYXJ0aWFsQWN0aW9uUm9sbERhdGEpIGFzIEFjdGlvblJvbGxEYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyBsaW1pdERhdGEocGFydGlhbExpbWl0RGF0YTogUGFydGlhbDxMaW1pdERhdGE+ID0ge30pOiBMaW1pdERhdGEge1xuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qoe1xuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgIG1vZDogW11cbiAgICAgICAgfSwgcGFydGlhbExpbWl0RGF0YSkgYXMgTGltaXREYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyBvcHBvc2VkVGVzdERhdGEocGFydGlhbE9wcG9zZWRUZXN0RGF0YTogUGFydGlhbDxPcHBvc2VkVGVzdERhdGE+ID0ge30pOiBPcHBvc2VkVGVzdERhdGEge1xuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgYXR0cmlidXRlMjogJycsXG4gICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJydcbiAgICAgICAgfSwgcGFydGlhbE9wcG9zZWRUZXN0RGF0YSkgYXMgT3Bwb3NlZFRlc3REYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyBza2lsbERhdGEocGFydGlhbFNraWxsRGF0YTogUGFydGlhbDxTa2lsbEZpZWxkPiA9IHt9KTogU2tpbGxGaWVsZCB7XG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdCh7XG4gICAgICAgICAgICBuYW1lOiBTS0lMTF9ERUZBVUxUX05BTUUsXG4gICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgICAgICAgY2FuRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICBsYWJlbDogJycsXG4gICAgICAgICAgICBib251czogW10sXG4gICAgICAgICAgICBzcGVjczogW10sXG4gICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgYXR0cmlidXRlOiAnJ1xuICAgICAgICB9LCBwYXJ0aWFsU2tpbGxEYXRhKSBhcyBTa2lsbEZpZWxkO1xuICAgIH1cbn1cblxuLy8gVE9ETzogTW92ZSB0aGVzZSBpbnRvIERlZmF1bHRWYWx1ZXMgaW1wbGVtZW50YXRpb25zLlxuZXhwb3J0IGNvbnN0IERhdGFUZW1wbGF0ZXMgPSB7XG4gICAgZ3J1bnQ6IHtcbiAgICAgICAgbWV0YXR5cGVfbW9kaWZpZXJzOiB7XG4gICAgICAgICAgICBlbGY6IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFnaWxpdHk6ICsxLFxuICAgICAgICAgICAgICAgICAgICBjaGFyaXNtYTogKzIsXG4gICAgICAgICAgICAgICAgICAgIGVkZ2U6IC0xXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yazoge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogKzMsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiArMixcbiAgICAgICAgICAgICAgICAgICAgbG9naWM6IC0xLFxuICAgICAgICAgICAgICAgICAgICBjaGFyaXNtYTogLTEsXG4gICAgICAgICAgICAgICAgICAgIGVkZ2U6IC0xXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyb2xsOiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiArNCxcbiAgICAgICAgICAgICAgICAgICAgYWdpbGl0eTogLTEsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiArNCxcbiAgICAgICAgICAgICAgICAgICAgbG9naWM6IC0xLFxuICAgICAgICAgICAgICAgICAgICBpbnR1aXRpb246IC0xLFxuICAgICAgICAgICAgICAgICAgICBjaGFyaXNtYTogLTIsXG4gICAgICAgICAgICAgICAgICAgIGVkZ2U6IC0xLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2VuZXJhbDoge1xuICAgICAgICAgICAgICAgICAgICBhcm1vcjogKzFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHdhcmY6IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHk6ICsyLFxuICAgICAgICAgICAgICAgICAgICByZWFjdGlvbjogLTEsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiArMixcbiAgICAgICAgICAgICAgICAgICAgd2lsbHBvd2VyOiArMSxcbiAgICAgICAgICAgICAgICAgICAgZWRnZTogLTFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRhbWFnZTogRGVmYXVsdFZhbHVlcy5kYW1hZ2VEYXRhKHt0eXBlOiB7YmFzZTogJycsIHZhbHVlOiAnJ319KSxcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgRGF0YVdyYXBwZXI8RGF0YVR5cGU+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZGF0YTogRGF0YVR5cGUpIHt9XG59XG4iLCJleHBvcnQgY29uc3QgcmVnaXN0ZXJBcHBIZWxwZXJzID0gKCkgPT4ge1xuICAgIC8vIFRPRE86IEFkZCBtb2RpZmllcnMuZW52IHR5cGluZyBhbmQgYWRkIG1pc3NpbmcgdHlwZVxuICAgIC8qKiBEZXRlcm1pbmUgaWYgYSBlbnZpcm9ubWVudGFsIG1vZGlmaWVyIG9mIGEgc3BlY2lmaWMgY2F0ZWdvcnkgaXMgYWN0aXZlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWN0aXZlXG4gICAgICogQHBhcmFtIGNhdGVnb3J5IEEgZW52aXJvbm1lbnQgbW9kaWZpZXIgY2F0ZWdvcnkgKHdpbmQsIHJhbmdlLCAuLi4pXG4gICAgICogQHBhcmFtIG1vZGlmaWVyIEEgZW52aXJvbm1lbnRhbCBtb2RpZmllciB2YWx1ZSAoMCwgLTEpXG4gICAgICovXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignSXNFbnZNb2RpZmllckFjdGl2ZScsIChhY3RpdmUsIGNhdGVnb3J5OiBzdHJpbmcsIG1vZGlmaWVyOiBudW1iZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZVtjYXRlZ29yeV0gPT09IG1vZGlmaWVyO1xuICAgIH0pXG59IiwiaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHtTYWZlU3RyaW5nfSBmcm9tIFwiaGFuZGxlYmFyc1wiO1xuaW1wb3J0IFNraWxsRmllbGQgPSBTaGFkb3dydW4uU2tpbGxGaWVsZDtcbmltcG9ydCB7U1I1fSBmcm9tIFwiLi4vY29uZmlnXCI7XG5pbXBvcnQge0ZMQUdTLCBTUiwgU1lTVEVNX05BTUV9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQmFzaWNIZWxwZXJzID0gKCkgPT4ge1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2xvY2FsaXplT2InLCBmdW5jdGlvbiAoc3RySWQsIG9iaikge1xuICAgICAgICBpZiAob2JqKSBzdHJJZCA9IG9ialtzdHJJZF07XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoc3RySWQpO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbG9jYWxpemVTa2lsbCcsIGZ1bmN0aW9uIChza2lsbDogU2tpbGxGaWVsZCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBza2lsbC5sYWJlbCA/IGdhbWUuaTE4bi5sb2NhbGl6ZShza2lsbC5sYWJlbCkgOiBza2lsbC5uYW1lO1xuICAgICAgICAvLyBOT1RFOiBCZWxvdyBpcyBjb2RlIHRvIGFwcGVuZCBhIHNob3J0ZW5lZCBhdHRyaWJ1dGUgbmFtZSB0byB0aGUgc2tpbGwgbmFtZS4gSXQncyBiZWVuIHJlbW92ZWQgZm9yIHJlYWRhYmlsaXR5LlxuICAgICAgICAvLyAgICAgICBCdXQgc3RpbGwgbWlnaHQgdXNlZnVsIGZvciBzb21lb25lLlxuICAgICAgICAvLyBpZiAoIWdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5TaG93U2tpbGxzV2l0aERldGFpbHMpIHx8ICF0cmFuc2xhdGVkU2tpbGwgfHwgIXNraWxsLmF0dHJpYnV0ZSlcbiAgICAgICAgLy8gICAgIHJldHVybiB0cmFuc2xhdGVkU2tpbGw7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIC8vIFRyeSBzaG93aW5nIHRoZSBmaXJzdCB0aHJlZSBsZXR0ZXJzLCBvciBsZXNzLlxuICAgICAgICAvLyBjb25zdCB0cmFuc2xhdGVkQXR0cmlidXRlID0gZ2FtZS5pMThuLmxvY2FsaXplKFNSNS5hdHRyaWJ1dGVzW3NraWxsLmF0dHJpYnV0ZV0pO1xuICAgICAgICAvLyBpZiAoIXRyYW5zbGF0ZWRBdHRyaWJ1dGUpIHJldHVybiB0cmFuc2xhdGVkU2tpbGw7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIGNvbnN0IGN1dFRvSW5kZXggPSB0cmFuc2xhdGVkQXR0cmlidXRlLmxlbmd0aCA8IFNSLmF0dHJpYnV0ZXMuU0hPUlRfTkFNRV9MRU5HVEggP1xuICAgICAgICAvLyAgICAgdHJhbnNsYXRlZEF0dHJpYnV0ZS5sZW5ndGggLTEgOlxuICAgICAgICAvLyAgICAgU1IuYXR0cmlidXRlcy5TSE9SVF9OQU1FX0xFTkdUSDtcbiAgICAgICAgLy8gY29uc3QgdHJhbnNsYXRlZEF0dHJpYnV0ZVNob3J0aGFuZCA9IHRyYW5zbGF0ZWRBdHRyaWJ1dGUuc3Vic3RyaW5nKDAsIGN1dFRvSW5kZXgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIC8vIHJldHVybiBgJHt0cmFuc2xhdGVkU2tpbGx9ICgke3RyYW5zbGF0ZWRBdHRyaWJ1dGVTaG9ydGhhbmR9KWA7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCd0b0hlYWRlckNhc2UnLCBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIGlmIChzdHIpIHJldHVybiBIZWxwZXJzLmxhYmVsKHN0cik7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2NvbmNhdFN0cmluZ3MnLCBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gYXJncy5maWx0ZXIoYSA9PiB0eXBlb2YgYSA9PT0gJ3N0cmluZycpLmpvaW4oJycpO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignY29uY2F0JywgZnVuY3Rpb24gKHN0cnMsIGMgPSAnLCcpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RycykpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJzLmpvaW4oYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cnM7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdmb3InLCBmdW5jdGlvbiAoZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBhY2N1bSA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGFjY3VtICs9IG9wdGlvbnMuZm4oaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWNjdW07XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbW9kdWxvJywgZnVuY3Rpb24gKHYxOiBudW1iZXIsIHYyOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHYxICUgdjI7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZGl2aWRlJywgZnVuY3Rpb24gKHYxOiBudW1iZXIsIHYyOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHYyID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIHYxIC8gdjI7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaGFzcHJvcCcsIGZ1bmN0aW9uIChvYmosIHByb3AsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmaW4nLCBmdW5jdGlvbiAodmFsLCBhcnIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyci5pbmNsdWRlcyh2YWwpKSByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0pO1xuICAgIC8vIGlmIGdyZWF0ZXIgdGhhblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmZ3QnLCBmdW5jdGlvbiAodjEsIHYyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh2MSA+IHYyKSByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0pO1xuICAgIC8vIGlmIGxlc3MgdGhhblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmbHQnLCBmdW5jdGlvbiAodjEsIHYyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh2MSA8IHYyKSByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0pO1xuICAgIC8vIGlmIGxlc3MgdGhhbiBvciBlcXVhbFxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmbHRlJywgZnVuY3Rpb24gKHYxLCB2Miwgb3B0aW9ucykge1xuICAgICAgICBpZiAodjEgPD0gdjIpIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgICAgICBlbHNlIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSk7XG4gICAgLy8gaWYgbm90IGVxdWFsXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZuZScsIGZ1bmN0aW9uICh2MSwgdjIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHYxICE9PSB2MikgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9KTtcbiAgICAvLyBpZiBlcXVhbFxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmZScsIGZ1bmN0aW9uICh2MSwgdjIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHYxID09PSB2MikgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdub3QnLCBmdW5jdGlvbiAodjEpIHtcbiAgICAgICAgcmV0dXJuICF2MTtcbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdzdW0nLCBmdW5jdGlvbiAodjEsIHYyKSB7XG4gICAgICAgIHJldHVybiB2MSArIHYyO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaXNEZWZpbmVkJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGRlZmF1bHQgdmFsdWUgaWYgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIG5vdCBkZWZpbmVkIChudWxsIG9yIHVuZGVmaW5lZClcbiAgICAgKi9cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkZWZhdWx0JywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKHZhbHVlID8/IGRlZmF1bHRWYWx1ZSk7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdsb2cnLCBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignYnVpbGROYW1lJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgaGFzaDogc3RyaW5nW10gPSBIZWxwZXJzLm9yZGVyS2V5cyhvcHRpb25zLmhhc2gpO1xuICAgICAgICBjb25zdCBuYW1lID0gT2JqZWN0LnZhbHVlcyhoYXNoKS5yZWR1Y2UoKHJldFZhbCwgY3VycmVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHJldFZhbCArPSAnLic7XG4gICAgICAgICAgICByZXR1cm4gcmV0VmFsICsgY3VycmVudDtcbiAgICAgICAgfSwgJycpO1xuICAgICAgICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhuYW1lKTtcbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkaXNhYmxlZEhlbHBlcicsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWwgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHZhbCA/IHZhbCA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICAvLyBUT0RPOiBUaGlzIGhlbHBlciBkb2Vzbid0IHdvcmsuLi4gRG9uJ3Qgd2h5LCBidXQgaXQgZG9lc24ndC5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdsb2NhbGl6ZVNob3J0ZW5lZCcsIGZ1bmN0aW9uIChsYWJlbDogc3RyaW5nLCBsZW5ndGg6IG51bWJlciwgb3B0aW9uczogYW55KTogU2FmZVN0cmluZyB7XG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKEhlbHBlcnMuc2hvcnRlbkF0dHJpYnV0ZUxvY2FsaXphdGlvbihsYWJlbCwgbGVuZ3RoKSk7XG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgcHJlbG9hZEhhbmRsZWJhcnNUZW1wbGF0ZXMgfSBmcm9tICcuL0hhbmRsZWJhclRlbXBsYXRlcyc7XG5pbXBvcnQgeyByZWdpc3RlckJhc2ljSGVscGVycyB9IGZyb20gJy4vQmFzaWNIZWxwZXJzJztcbmltcG9ydCB7IHJlZ2lzdGVyUm9sbEFuZExhYmVsSGVscGVycyB9IGZyb20gJy4vUm9sbEFuZExhYmVsSGVscGVycyc7XG5pbXBvcnQgeyByZWdpc3Rlckl0ZW1MaW5lSGVscGVycyB9IGZyb20gJy4vSXRlbUxpbmVIZWxwZXJzJztcbmltcG9ydCB7IHJlZ2lzdGVyU2tpbGxMaW5lSGVscGVycyB9IGZyb20gJy4vU2tpbGxMaW5lSGVscGVycyc7XG5pbXBvcnQge3JlZ2lzdGVyQXBwSGVscGVyc30gZnJvbSBcIi4vQXBwSGVscGVyc1wiO1xuXG5leHBvcnQgY2xhc3MgSGFuZGxlYmFyTWFuYWdlciB7XG4gICAgc3RhdGljIGFzeW5jIGxvYWRUZW1wbGF0ZXMoKSB7XG4gICAgICAgIGF3YWl0IHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzKCk7XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3RlckhlbHBlcnMoKTogdm9pZCB7XG4gICAgICAgIHJlZ2lzdGVyQmFzaWNIZWxwZXJzKCk7XG4gICAgICAgIHJlZ2lzdGVyUm9sbEFuZExhYmVsSGVscGVycygpO1xuICAgICAgICByZWdpc3Rlckl0ZW1MaW5lSGVscGVycygpO1xuICAgICAgICByZWdpc3RlclNraWxsTGluZUhlbHBlcnMoKTtcbiAgICAgICAgcmVnaXN0ZXJBcHBIZWxwZXJzKCk7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBwcmVsb2FkSGFuZGxlYmFyc1RlbXBsYXRlcyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZVBhdGhzID0gW1xuICAgICAgICAvLyBhY3RvciB0YWJzXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvQWN0aW9uc1RhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9CaW9UYWIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvR2VhclRhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9NYWdpY1RhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9NYXRyaXhUYWIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvTWlzY1RhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9Ta2lsbHNUYWIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvU29jaWFsVGFiLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL1NwZWxsc1RhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9Dcml0dGVyUG93ZXJzVGFiLmh0bWwnLFxuXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvc3Bpcml0L1NwaXJpdFNraWxsc1RhYi5odG1sJyxcblxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL21hdHJpeC9TcHJpdGVTa2lsbHNUYWIuaHRtbCcsXG5cbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy92ZWhpY2xlL1ZlaGljbGVTa2lsbHNUYWIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvdmVoaWNsZS9WZWhpY2xlTWF0cml4VGFiLmh0bWwnLFxuXG4gICAgICAgIC8vIHVuY2F0ZWdvcml6ZWQgbGlzdHNcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvSW5pdGlhdGl2ZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvTW92ZW1lbnQuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL1Byb2ZpbGVJbWFnZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvTmFtZUlucHV0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9BY3Rpb25MaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9Db250YWN0TGlzdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvU2luQW5kTGlmZXN0eWxlTGlzdC5odG1sJyxcblxuICAgICAgICAvLyBtYWdpY1xuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9tYWdpYy9BZGVwdFBvd2VyTGlzdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvbWFnaWMvU3BlbGxMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9tYWdpYy9TcGVsbEFuZEFkZXB0UG93ZXJMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9tYWdpYy9TcGlyaXRPcHRpb25zLmh0bWwnLFxuXG4gICAgICAgIC8vIG1hdHJpeFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9tYXRyaXgvUHJvZ3JhbUxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hdHJpeC9Db21wbGV4Rm9ybUxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hdHJpeC9NYXRyaXhBdHRyaWJ1dGUuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hdHJpeC9TcHJpdGVQb3dlckxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hdHJpeC9EZXZpY2VSYXRpbmcuaHRtbCcsXG5cbiAgICAgICAgLy8gYXR0cmlidXRlc1xuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9hdHRyaWJ1dGVzL0F0dHJpYnV0ZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvYXR0cmlidXRlcy9BdHRyaWJ1dGVMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9hdHRyaWJ1dGVzL1NwZWNpYWxBdHRyaWJ1dGVMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9hdHRyaWJ1dGVzL0xpbWl0cy5odG1sJyxcblxuICAgICAgICAvLyBza2lsbHNcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvc2tpbGxzL0FjdGl2ZVNraWxsTGlzdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvc2tpbGxzL0xhbmd1YWdlQW5kS25vd2xlZGdlU2tpbGxMaXN0Lmh0bWwnLFxuXG4gICAgICAgIC8vIHZlaGljbGVcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvdmVoaWNsZS9WZWhpY2xlU3RhdHNMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy92ZWhpY2xlL1ZlaGljbGVTZWNvbmRTdGF0c0xpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL3ZlaGljbGUvVmVoaWNsZU1vdmVtZW50Lmh0bWwnLFxuXG4gICAgICAgIC8vIGxpbWl0ZWQgYWN0b3JcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3ItbGltaXRlZC9jaGFyYWN0ZXIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yLWxpbWl0ZWQvc3Bpcml0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci1saW1pdGVkL3Nwcml0ZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3ItbGltaXRlZC92ZWhpY2xlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci1saW1pdGVkL2NyaXR0ZXIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yLWxpbWl0ZWQvcGFydHMvSGVhZGVyLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci1saW1pdGVkL3BhcnRzL01pc2NDaGFyYWN0ZXIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yLWxpbWl0ZWQvcGFydHMvTWlzY1NwaXJpdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3ItbGltaXRlZC9wYXJ0cy9NaXNjU3ByaXRlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci1saW1pdGVkL3BhcnRzL01pc2NWZWhpY2xlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci1saW1pdGVkL3BhcnRzL01pc2NDcml0dGVyLmh0bWwnLFxuXG5cbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9kZXNjcmlwdGlvbi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy90ZWNobm9sb2d5Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2hlYWRlci5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy93ZWFwb24tYW1tby1saXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3dlYXBvbi1tb2RzLWxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvYWN0aW9uLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2RhbWFnZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9vcHBvc2VkLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3NwZWxsLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2NvbXBsZXhfZm9ybS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy93ZWFwb24uaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvYXJtb3IuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvbWF0cml4Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3Npbi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9jb250YWN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2xpZmVzdHlsZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9hbW1vLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL21vZGlmaWNhdGlvbi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9wcm9ncmFtLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2NyaXR0ZXJfcG93ZXIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL3JvbGxzL3BhcnRzL3BhcnRzLWxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL3JvbGxzL3BhcnRzL0RhbWFnZS5odG1sJyxcblxuICAgICAgICAvLyB0byB3cmFwIHRoZSBib2RpZXMgb2YgdGFic1xuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vVGFiV3JhcHBlci5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL1ZhbHVlSW5wdXQuaHRtbCcsXG5cbiAgICAgICAgLy8gVXNlZnVsIHdyYXBwZXIgYW5kIGltcGxlbWVudGVkIGNvbXBvbmVudHNcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL1ZhbHVlTWF4QXR0cmlidXRlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vQXR0cmlidXRlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vVmFsdWVNb2RpZmllcnMuaHRtbCcsXG5cbiAgICAgICAgLy8gdXNlZnVsIHNlbGVjdCB0ZW1wbGF0ZSBmb3IgdGhlIGNvbW1vbiBwYXR0ZXJuXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2NvbW1vbi9TZWxlY3QuaHRtbCcsXG5cbiAgICAgICAgLy8gdG8gY3JlYXRlIHRoZSBjb25kaXRpb24gbW9uaXRvcnMgYW5kIGVkZ2UgY291bnRlclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vSG9yaXpvbnRhbENlbGxJbnB1dC5odG1sJyxcblxuICAgICAgICAvLyBsb29rcyBsaWtlIGEgTGlzdEhlYWRlclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vSGVhZGVyQmxvY2suaHRtbCcsXG5cbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL05hbWVMaW5lQmxvY2suaHRtbCcsXG5cbiAgICAgICAgLy8gbGlzdCBjb21wb25lbnRzXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2NvbW1vbi9MaXN0L0xpc3RJdGVtLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vTGlzdC9MaXN0SGVhZGVyLmh0bWwnLFxuXG4gICAgICAgIC8vIGRpYWxvZ3NcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYXBwcy9kaWFsb2dzL2RhbWFnZS1hcHBsaWNhdGlvbi5odG1sJyxcbiAgICBdO1xuXG4gICAgcmV0dXJuIGxvYWRUZW1wbGF0ZXModGVtcGxhdGVQYXRocyk7XG59O1xuIiwiaW1wb3J0IFNSNUl0ZW1UeXBlID0gU2hhZG93cnVuLlNSNUl0ZW1UeXBlO1xuaW1wb3J0IHsgU1I1SXRlbURhdGFXcmFwcGVyIH0gZnJvbSAnLi4vaXRlbS9TUjVJdGVtRGF0YVdyYXBwZXInO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJJdGVtTGluZUhlbHBlcnMgPSAoKSA9PiB7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignSXRlbUhlYWRlckljb25zJywgZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGNvbnN0IFBsdXNJY29uID0gJ2ZhcyBmYS1wbHVzJztcbiAgICAgICAgY29uc3QgQWRkVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkFkZCcpO1xuICAgICAgICBjb25zdCBhZGRJY29uID0ge1xuICAgICAgICAgICAgaWNvbjogUGx1c0ljb24sXG4gICAgICAgICAgICB0ZXh0OiBBZGRUZXh0LFxuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW0nKSxcbiAgICAgICAgICAgIGNzc0NsYXNzOiAnaXRlbS1jcmVhdGUnLFxuICAgICAgICB9O1xuICAgICAgICBzd2l0Y2ggKGlkKSB7XG4gICAgICAgICAgICBjYXNlICdsaWZlc3R5bGUnOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtTGlmZXN0eWxlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRhY3QnOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtQ29udGFjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdzaW4nOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtU0lOJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2xpY2Vuc2UnOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtTGljZW5zZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdxdWFsaXR5JzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbVF1YWxpdHknKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnYWRlcHRfcG93ZXInOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtQWRlcHRQb3dlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdhY3Rpb24nOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtQWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ3NwZWxsJzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbVNwZWxsJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2dlYXInOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtR2VhcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdjb21wbGV4X2Zvcm0nOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtQ29tcGxleEZvcm0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAncHJvZ3JhbSc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1Qcm9ncmFtJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ3dlYXBvbic6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1XZWFwb24nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnYXJtb3InOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtQXJtb3InKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnYW1tbyc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1BbW1vJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2RldmljZSc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1EZXZpY2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnZXF1aXBtZW50JzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbUVxdWlwbWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdjeWJlcndhcmUnOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtQ3liZXJ3YXJlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2Jpb3dhcmUnOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtQmlvd2FyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdjcml0dGVyX3Bvd2VyJzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbUNyaXR0ZXJQb3dlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdzcHJpdGVfcG93ZXInOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtU3ByaXRlUG93ZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ0l0ZW1IZWFkZXJSaWdodFNpZGUnLCBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgc3dpdGNoIChpZCkge1xuICAgICAgICAgICAgY2FzZSAnYWN0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU2tpbGwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQXR0cmlidXRlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzaXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkF0dHJpYnV0ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5MaW1pdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Nb2RpZmllcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNhc2UgJ3dlYXBvbic6XG4gICAgICAgICAgICBjYXNlICdhcm1vcic6XG4gICAgICAgICAgICBjYXNlICdkZXZpY2UnOlxuICAgICAgICAgICAgY2FzZSAnZXF1aXBtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ2N5YmVyd2FyZSc6XG4gICAgICAgICAgICBjYXNlICdiaW93YXJlJzpcbiAgICAgICAgICAgIGNhc2UgJ2FtbW8nOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5RdHknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXhfZm9ybSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlRhcmdldCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkR1cmF0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRmFkZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAnYWRlcHRfcG93ZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Qb3dlclR5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNhc2UgJ3NwZWxsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU3BlbGxUeXBlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU3BlbGxSYW5nZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkR1cmF0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHJhaW4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNhc2UgJ2NyaXR0ZXJfcG93ZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Dcml0dGVyUG93ZXIuVHlwZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyaXR0ZXJQb3dlci5SYW5nZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyaXR0ZXJQb3dlci5EdXJhdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAncXVhbGl0eSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlF1YWxpdHlUeXBlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignSXRlbVJpZ2h0U2lkZScsIGZ1bmN0aW9uIChpdGVtOiBTUjVJdGVtVHlwZSkge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gbmV3IFNSNUl0ZW1EYXRhV3JhcHBlcihpdGVtKTtcbiAgICAgICAgY29uc3QgcXR5SW5wdXQgPSB7XG4gICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB3cmFwcGVyLmdldFF1YW50aXR5KCksXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdpdGVtLXF0eScsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBzd2l0Y2ggKGl0ZW0udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYWN0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYWN0aXZlU2tpbGxzW3dyYXBwZXIuZ2V0QWN0aW9uU2tpbGwoKSA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hdHRyaWJ1dGVzW3dyYXBwZXIuZ2V0QWN0aW9uQXR0cmlidXRlKCkgPz8gJyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYXR0cmlidXRlc1t3cmFwcGVyLmdldEFjdGlvbkF0dHJpYnV0ZTIoKSA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB3cmFwcGVyLmdldExpbWl0QXR0cmlidXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hdHRyaWJ1dGVzW3dyYXBwZXIuZ2V0TGltaXRBdHRyaWJ1dGUoKSA/PyAnJ10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogd3JhcHBlci5nZXRBY3Rpb25MaW1pdCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB3cmFwcGVyLmdldEFjdGlvbkRpY2VQb29sTW9kKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzaXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAnYXJtb3InOlxuICAgICAgICAgICAgY2FzZSAnYW1tbyc6XG4gICAgICAgICAgICBjYXNlICdkZXZpY2UnOlxuICAgICAgICAgICAgY2FzZSAnZXF1aXBtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ2N5YmVyd2FyZSc6XG4gICAgICAgICAgICBjYXNlICdiaW93YXJlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW3F0eUlucHV0XTtcbiAgICAgICAgICAgIGNhc2UgJ3dlYXBvbic6XG4gICAgICAgICAgICAgICAgaWYgKHdyYXBwZXIuaXNSYW5nZWRXZWFwb24oKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHdyYXBwZXIuZ2V0QW1tbygpPy5jdXJyZW50LnZhbHVlID8/IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IHdyYXBwZXIuZ2V0QW1tbygpPy5jdXJyZW50Lm1heCA/PyAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gY291bnQgPCBtYXggPyBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5XZWFwb25SZWxvYWQnKX0gKCR7Y291bnR9LyR7bWF4fSlgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQW1tb0Z1bGwnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3NzQ2xhc3MgPSAnbm8tYnJlYWsnICsgKGNvdW50IDwgbWF4ID8gJyByZWxvYWQtYW1tbyByb2xsJyA6ICdmYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LldlYXBvbkFtbW9Db3VudCcpfTogJHtjb3VudH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcXR5SW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtxdHlJbnB1dF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdxdWFsaXR5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUucXVhbGl0eVR5cGVzW2l0ZW0uZGF0YS50eXBlID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGNhc2UgJ2FkZXB0X3Bvd2VyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYWRlcHRQb3dlci50eXBlc1tpdGVtLmRhdGEudHlwZSA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAnc3BlbGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5zcGVsbFR5cGVzW2l0ZW0uZGF0YS50eXBlID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuc3BlbGxSYW5nZXNbaXRlbS5kYXRhLnJhbmdlID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuZHVyYXRpb25zW2l0ZW0uZGF0YS5kdXJhdGlvbiA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHdyYXBwZXIuZ2V0RHJhaW4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNhc2UgJ2NyaXR0ZXJfcG93ZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5jcml0dGVyUG93ZXIudHlwZXNbaXRlbS5kYXRhLnBvd2VyVHlwZSA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmNyaXR0ZXJQb3dlci5yYW5nZXNbaXRlbS5kYXRhLnJhbmdlID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuY3JpdHRlclBvd2VyLmR1cmF0aW9uc1tpdGVtLmRhdGEuZHVyYXRpb24gPz8gJyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgY2FzZSAnY29tcGxleF9mb3JtJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUubWF0cml4VGFyZ2V0c1tpdGVtLmRhdGEudGFyZ2V0ID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuZHVyYXRpb25zW2l0ZW0uZGF0YS5kdXJhdGlvbiA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFN0cmluZyhpdGVtLmRhdGEuZmFkZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjYXNlICdwcm9ncmFtJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogYGl0ZW0tZXF1aXAtdG9nZ2xlICR7d3JhcHBlci5pc0VxdWlwcGVkKCkgPyAnbGlnaHQnIDogJyd9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9ydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB3cmFwcGVyLmlzRXF1aXBwZWQoKSA/IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkxvYWRlZCcpIDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTG9hZCcpICsgJyA+PicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignSXRlbUljb25zJywgZnVuY3Rpb24gKGl0ZW06IFNSNUl0ZW1UeXBlKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBuZXcgU1I1SXRlbURhdGFXcmFwcGVyKGl0ZW0pO1xuICAgICAgICBjb25zdCBlZGl0SWNvbiA9IHtcbiAgICAgICAgICAgIGljb246ICdmYXMgZmEtZWRpdCBpdGVtLWVkaXQnLFxuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkVkaXRJdGVtJyksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlbW92ZUljb24gPSB7XG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLXRyYXNoIGl0ZW0tZGVsZXRlJyxcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EZWxldGVJdGVtJyksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVxdWlwSWNvbiA9IHtcbiAgICAgICAgICAgIGljb246IGAke3dyYXBwZXIuaXNFcXVpcHBlZCgpID8gJ2ZhcyBmYS1jaGVjay1jaXJjbGUnIDogJ2ZhciBmYS1jaXJjbGUnfSBpdGVtLWVxdWlwLXRvZ2dsZWAsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuVG9nZ2xlRXF1aXAnKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGRmSWNvbiA9IHtcbiAgICAgICAgICAgIGljb246ICdmYXMgZmEtZmlsZSBvcGVuLXNvdXJjZS1wZGYnLFxuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk9wZW5Tb3VyY2VQZGYnKSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBpY29ucyA9IFtlZGl0SWNvbiwgcmVtb3ZlSWNvbl07XG5cbiAgICAgICAgaWYgKHVpWydQREZvdW5kcnknXSkge1xuICAgICAgICAgICAgaWNvbnMudW5zaGlmdChwZGZJY29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAod3JhcHBlci5nZXRUeXBlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Byb2dyYW0nOlxuICAgICAgICAgICAgY2FzZSAnYXJtb3InOlxuICAgICAgICAgICAgY2FzZSAnZGV2aWNlJzpcbiAgICAgICAgICAgIGNhc2UgJ2VxdWlwbWVudCc6XG4gICAgICAgICAgICBjYXNlICdjeWJlcndhcmUnOlxuICAgICAgICAgICAgY2FzZSAnYmlvd2FyZSc6XG4gICAgICAgICAgICBjYXNlICd3ZWFwb24nOlxuICAgICAgICAgICAgICAgIGljb25zLnVuc2hpZnQoZXF1aXBJY29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpY29ucztcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBQYXJ0c0xpc3QgfSBmcm9tICcuLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuaW1wb3J0IE1vZExpc3QgPSBTaGFkb3dydW4uTW9kTGlzdDtcbmltcG9ydCB7U1I1QWN0b3J9IGZyb20gXCIuLi9hY3Rvci9TUjVBY3RvclwiO1xuaW1wb3J0IHtGTEFHUywgU1lTVEVNX05BTUV9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7SGVscGVyc30gZnJvbSBcIi4uL2hlbHBlcnNcIjtcbmltcG9ydCB7U2FmZVN0cmluZ30gZnJvbSBcImhhbmRsZWJhcnNcIjtcbmltcG9ydCBEYW1hZ2VEYXRhID0gU2hhZG93cnVuLkRhbWFnZURhdGE7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJvbGxBbmRMYWJlbEhlbHBlcnMgPSAoKSA9PiB7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZGFtYWdlQWJicmV2aWF0aW9uJywgZnVuY3Rpb24gKGRhbWFnZSkge1xuICAgICAgICBpZiAoZGFtYWdlID09PSAncGh5c2ljYWwnKSByZXR1cm4gJ1AnO1xuICAgICAgICBpZiAoZGFtYWdlID09PSAnc3R1bicpIHJldHVybiAnUyc7XG4gICAgICAgIGlmIChkYW1hZ2UgPT09ICdtYXRyaXgnKSByZXR1cm4gJ00nO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkYW1hZ2VDb2RlJywgZnVuY3Rpb24oZGFtYWdlOiBEYW1hZ2VEYXRhKTogU2FmZVN0cmluZyB7XG4gICAgICAgIGNvbnN0IHR5cGVDb2RlID0gSGFuZGxlYmFycy5oZWxwZXJzLmRhbWFnZUFiYnJldmlhdGlvbihkYW1hZ2UudHlwZS52YWx1ZSk7XG4gICAgICAgIGxldCBjb2RlID0gYCR7ZGFtYWdlLnZhbHVlfSR7dHlwZUNvZGV9YDtcbiAgICAgICAgcmV0dXJuIG5ldyBIYW5kbGViYXJzLlNhZmVTdHJpbmcoY29kZSk7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkaWNlSWNvbicsIGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgIGlmIChzaWRlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmVkJztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZ3JleSc7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2dyZXknO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdncmV5JztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZ3JlZW4nO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdncmVlbic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2VsZW1lbnRJY29uJywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgbGV0IGljb24gPSAnJztcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09ICdlbGVjdHJpY2l0eScpIHtcbiAgICAgICAgICAgIGljb24gPSAnZmFzIGZhLWJvbHQnO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgPT09ICdyYWRpYXRpb24nKSB7XG4gICAgICAgICAgICBpY29uID0gJ2ZhcyBmYS1yYWRpYXRpb24tYWx0JztcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID09PSAnZmlyZScpIHtcbiAgICAgICAgICAgIGljb24gPSAnZmFzIGZhLWZpcmUnO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgPT09ICdhY2lkJykge1xuICAgICAgICAgICAgaWNvbiA9ICdmYXMgZmEtdmlhbHMnO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgPT09ICdjb2xkJykge1xuICAgICAgICAgICAgaWNvbiA9ICdmYXMgZmEtc25vd2ZsYWtlJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWNvbjtcbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3BhcnRzVG90YWwnLCBmdW5jdGlvbiAocGFydHNMaXN0OiBNb2RMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0KHBhcnRzTGlzdCk7XG4gICAgICAgIHJldHVybiBwYXJ0cy50b3RhbDtcbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3NpZ25lZFZhbHVlJywgZnVuY3Rpb24gKHZhbHVlOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYCske3ZhbHVlfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignc3BlYWtlck5hbWUnLCBIZWxwZXJzLmdldENoYXRTcGVha2VyTmFtZSk7XG59O1xuIiwiaW1wb3J0IFNraWxsRmllbGQgPSBTaGFkb3dydW4uU2tpbGxGaWVsZDtcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBTUjVTaGVldEZpbHRlcnMgPSBTaGFkb3dydW4uU1I1U2hlZXRGaWx0ZXJzO1xuaW1wb3J0IFNraWxsQ2F0ZWdvcmllcyA9IFNoYWRvd3J1bi5Ta2lsbENhdGVnb3JpZXM7XG5pbXBvcnQge1NraWxsUnVsZXN9IGZyb20gXCIuLi9hY3Rvci9Ta2lsbFJ1bGVzXCI7XG5pbXBvcnQge0ZMQUdTLCBTWVNURU1fTkFNRX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTa2lsbExpbmVIZWxwZXJzID0gKCkgPT4ge1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ1NraWxsSGVhZGVySWNvbnMnLCBmdW5jdGlvbiAoY2F0ZWdvcnk6IFNraWxsQ2F0ZWdvcmllcykge1xuICAgICAgICBjb25zdCBhZGRJY29uID0ge1xuICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5BZGRTa2lsbCcpLFxuICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQWRkJyksXG4gICAgICAgICAgICBjc3NDbGFzczogJycsXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi5jc3NDbGFzcyA9ICdhZGQtYWN0aXZlJztcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnbGFuZ3VhZ2UnOlxuICAgICAgICAgICAgICAgIGFkZEljb24uY3NzQ2xhc3MgPSAnYWRkLWxhbmd1YWdlJztcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAna25vd2xlZGdlJzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLmNzc0NsYXNzID0gJ2FkZC1rbm93bGVkZ2UnO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignU2tpbGxIZWFkZXJSaWdodFNpZGUnLCBmdW5jdGlvbiAoaWQsIGZpbHRlcnM6IFNSNVNoZWV0RmlsdGVycykge1xuICAgICAgICBjb25zdCBzcGVjcyA9IHtcbiAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGVjaWFsaXphdGlvbicpLFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2tpbGwtc3BlYy1pdGVtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcnRnID0ge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIFJhdGluZyBoZWFkZXIgdG8gc2hvdyBhY3RpdmUgZmlsdGVyaW5nLlxuICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgIHRleHQ6ICFmaWx0ZXJzIHx8IGZpbHRlcnMuc2hvd1VudHJhaW5lZFNraWxscyA/XG4gICAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJ0ZycpIDpcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUnRnQWJvdmVaZXJvJyksXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdydGcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBzd2l0Y2ggKGlkKSB7XG4gICAgICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgY2FzZSAna25vd2xlZGdlJzpcbiAgICAgICAgICAgIGNhc2UgJ2xhbmd1YWdlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NwZWNzLCBydGddO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdTa2lsbFJpZ2h0U2lkZScsIGZ1bmN0aW9uIChza2lsbFR5cGU6IHN0cmluZywgc2tpbGw6IFNraWxsRmllbGQpIHtcbiAgICAgICAgY29uc3Qgc3BlY3MgPSBBcnJheS5pc0FycmF5KHNraWxsLnNwZWNzKSA/IHNraWxsLnNwZWNzIDogW3NraWxsLnNwZWNzXTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHNwZWNzLmpvaW4oJywgJykgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2tpbGwtc3BlYy1pdGVtJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IEhlbHBlcnMuY2FsY1RvdGFsKHNraWxsKSxcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdydGcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignU2tpbGxBZGRpdGlvbkNzc0NsYXNzJywgZnVuY3Rpb24oc2tpbGw6IFNraWxsRmllbGQpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgLy8gQFBERiBTUjUjMTUxIG5vdCBkZWZhdWx0YWJsZSBza2lsbHMgc2hvdWxkIGJlIHNob3duIGFzIGl0YWxpYy5cbiAgICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5TaG93U2tpbGxzV2l0aERldGFpbHMpICYmICFTa2lsbFJ1bGVzLmFsbG93RGVmYXVsdGluZ1JvbGwoc2tpbGwpKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goJ3NraWxsLXJvbGwtbm90LWRlZmF1bHRhYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICB9KVxuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignU2tpbGxJY29ucycsIGZ1bmN0aW9uIChza2lsbFR5cGU6IHN0cmluZywgc2tpbGw6IFNraWxsRmllbGQpIHtcbiAgICAgICAgY29uc3QgZWRpdEljb24gPSB7XG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLWVkaXQnLFxuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkVkaXRTa2lsbCcpLFxuICAgICAgICAgICAgY3NzQ2xhc3M6ICcnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZW1vdmVJY29uID0ge1xuICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS10cmFzaCcsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRGVsZXRlU2tpbGwnKSxcbiAgICAgICAgICAgIGNzc0NsYXNzOiAnJyxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChza2lsbFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICAgICAgZWRpdEljb24uY3NzQ2xhc3MgPSAnc2tpbGwtZWRpdCc7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSWNvbi5jc3NDbGFzcyA9ICdyZW1vdmUtYWN0aXZlJ1xuICAgICAgICAgICAgICAgIHJldHVybiBbZWRpdEljb24sIHJlbW92ZUljb25dO1xuICAgICAgICAgICAgY2FzZSAnbGFuZ3VhZ2UnOlxuICAgICAgICAgICAgICAgIGVkaXRJY29uLmNzc0NsYXNzID0gJ2xhbmd1YWdlLXNraWxsLWVkaXQnO1xuICAgICAgICAgICAgICAgIHJlbW92ZUljb24uY3NzQ2xhc3MgPSAncmVtb3ZlLWxhbmd1YWdlJztcbiAgICAgICAgICAgICAgICByZXR1cm4gW2VkaXRJY29uLCByZW1vdmVJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2tub3dsZWRnZSc6XG4gICAgICAgICAgICAgICAgZWRpdEljb24uY3NzQ2xhc3MgPSAna25vd2xlZGdlLXNraWxsLWVkaXQnO1xuICAgICAgICAgICAgICAgIHJlbW92ZUljb24uY3NzQ2xhc3MgPSAncmVtb3ZlLWtub3dsZWRnZSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtlZGl0SWNvbiwgcmVtb3ZlSWNvbl07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBbZWRpdEljb25dO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn07XG4iLCJpbXBvcnQgQXR0cmlidXRlRmllbGQgPSBTaGFkb3dydW4uQXR0cmlidXRlRmllbGQ7XG5pbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuaW1wb3J0IE1vZGlmaWFibGVWYWx1ZSA9IFNoYWRvd3J1bi5Nb2RpZmlhYmxlVmFsdWU7XG5pbXBvcnQgTGFiZWxGaWVsZCA9IFNoYWRvd3J1bi5MYWJlbEZpZWxkO1xuaW1wb3J0IFJhbmdlc1RlbXBsYXRlRGF0YSA9IFNoYWRvd3J1bi5SYW5nZXNUZW1wbGF0ZURhdGE7XG5pbXBvcnQgUmFuZ2VUZW1wbGF0ZURhdGEgPSBTaGFkb3dydW4uUmFuZ2VUZW1wbGF0ZURhdGE7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuaW1wb3J0IE1vZGlmaWVkRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5Nb2RpZmllZERhbWFnZURhdGE7XG5pbXBvcnQgRGFtYWdlVHlwZSA9IFNoYWRvd3J1bi5EYW1hZ2VUeXBlO1xuaW1wb3J0IERhbWFnZUVsZW1lbnQgPSBTaGFkb3dydW4uRGFtYWdlRWxlbWVudDtcbmltcG9ydCB7UGFydHNMaXN0fSBmcm9tICcuL3BhcnRzL1BhcnRzTGlzdCc7XG5pbXBvcnQge0RFRkFVTFRfSURfTEVOR1RILCBGTEFHUywgTEVOR1RIX1VOSVQsIExFTkdUSF9VTklUX1RPX01FVEVSU19NVUxUSVBMSUVSUywgU1IsIFNZU1RFTV9OQU1FfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7U1I1QWN0b3J9IGZyb20gXCIuL2FjdG9yL1NSNUFjdG9yXCI7XG5pbXBvcnQge0RhdGFUZW1wbGF0ZXN9IGZyb20gXCIuL2RhdGFUZW1wbGF0ZXNcIjtcbmltcG9ydCB7RGVsZXRlQ29uZmlybWF0aW9uRGlhbG9nfSBmcm9tIFwiLi9hcHBzL2RpYWxvZ3MvRGVsZXRlQ29uZmlybWF0aW9uRGlhbG9nXCI7XG5pbXBvcnQgU2tpbGxzID0gU2hhZG93cnVuLlNraWxscztcblxuaW50ZXJmYWNlIENhbGNUb3RhbE9wdGlvbnMge1xuICAgIG1pbj86IG51bWJlcixcbiAgICBtYXg/OiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIEhlbHBlcnMge1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgdG90YWwgdmFsdWUgZm9yIGEgZGF0YSBvYmplY3RcbiAgICAgKiAtIHN0b3JlcyB0aGUgdG90YWwgdmFsdWUgYW5kIHJldHVybnMgaXRcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGNhbGNUb3RhbChkYXRhOiBNb2RpZmlhYmxlVmFsdWUsIG9wdGlvbnM/OiBDYWxjVG90YWxPcHRpb25zKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKGRhdGEubW9kID09PSB1bmRlZmluZWQpIGRhdGEubW9kID0gW107XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChkYXRhLm1vZCk7XG4gICAgICAgIC8vIGlmIGEgdGVtcCBmaWVsZCBpcyBmb3VuZCwgYWRkIGl0IGFzIGEgdW5pcXVlIHBhcnRcbiAgICAgICAgaWYgKGRhdGFbJ3RlbXAnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuVGVtcG9yYXJ5JywgZGF0YVsndGVtcCddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudmFsdWUgPSBIZWxwZXJzLnJvdW5kVG8ocGFydHMudG90YWwgKyBkYXRhLmJhc2UsIDMpO1xuICAgICAgICBkYXRhLm1vZCA9IHBhcnRzLmxpc3Q7XG5cbiAgICAgICAgZGF0YS52YWx1ZSA9IEhlbHBlcnMuYXBwbHlWYWx1ZVJhbmdlKGRhdGEudmFsdWUsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBkYXRhLnZhbHVlO1xuICAgIH1cblxuICAgIC8qKiBSb3VuZCBhIG51bWJlciB0byBhIGdpdmVuIGRlZ3JlZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBOdW1iZXIgdG8gcm91bmQgd2l0aC5cbiAgICAgKiBAcGFyYW0gZGVjaW1hbHMgQW1vdW50IG9mIGRlY2ltYWxzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LlxuICAgICAqL1xuICAgIHN0YXRpYyByb3VuZFRvKHZhbHVlOiBudW1iZXIsIGRlY2ltYWxzKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyO1xuICAgIH1cblxuICAgIC8qKiBNYWtlIHN1cmUgYSBnaXZlbiB2YWx1ZSBpcyBpbiBiZXR3ZWVuIGEgcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBEZWZpbmUgdGhlIHJhbmdlIHRoZSBnaXZlbiB2YWx1ZSBtdXN0IGJlIGluIChvciBub25lKVxuICAgICAqL1xuICAgIHN0YXRpYyBhcHBseVZhbHVlUmFuZ2UodmFsdWU6IG51bWJlciwgb3B0aW9ucz86IENhbGNUb3RhbE9wdGlvbnMpOiBudW1iZXIge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnM/Lm1pbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5tYXgob3B0aW9ucy5taW4sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnM/Lm1heCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5taW4ob3B0aW9ucy5tYXgsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbGlzdEl0ZW1JZChldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcubGlzdC1pdGVtJykuZGF0YXNldC5pdGVtSWQ7XG4gICAgfVxuXG4gICAgLy8gcmVwbGFjZSAnU1I1LidzIG9uIGtleXMgd2l0aCAnU1I1X0RPVF8nXG4gICAgc3RhdGljIG9uU2V0RmxhZyhkYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBkYXRhO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkIHx8IGRhdGEgPT09IG51bGwpIHJldHVybiBkYXRhO1xuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdLZXkgPSBrZXkucmVwbGFjZSgnU1I1LicsICdTUjVfRE9UXycpO1xuICAgICAgICAgICAgbmV3RGF0YVtuZXdLZXldID0gdGhpcy5vblNldEZsYWcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cblxuICAgIC8vIHJlcGxhY2UgJ1NSNV9ET1RfJyB3aXRoICdTUjUuJyBvbiBrZXlzXG4gICAgc3RhdGljIG9uR2V0RmxhZyhkYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBkYXRhO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkIHx8IGRhdGEgPT09IG51bGwpIHJldHVybiBkYXRhO1xuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdLZXkgPSBrZXkucmVwbGFjZSgnU1I1X0RPVF8nLCAnU1I1LicpO1xuICAgICAgICAgICAgbmV3RGF0YVtuZXdLZXldID0gdGhpcy5vbkdldEZsYWcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc01hdHJpeChhdHRzPzogYm9vbGVhbiB8IChBdHRyaWJ1dGVGaWVsZCB8IHN0cmluZyB8IFNraWxsRmllbGQpW10gfCBBdHRyaWJ1dGVGaWVsZCB8IHN0cmluZyB8IFNraWxsRmllbGQpIHtcbiAgICAgICAgaWYgKCFhdHRzKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2YgYXR0cyA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gYXR0cztcbiAgICAgICAgLy8gYXJyYXkgb2YgbGFiZWxzIHRvIGNoZWNrIGZvciBvbiB0aGUgaW5jb21pbmcgZGF0YVxuICAgICAgICBjb25zdCBtYXRyaXhMYWJlbHMgPSBbXG4gICAgICAgICAgICAnU1I1Lk1hdHJpeEF0dHJGaXJld2FsbCcsXG4gICAgICAgICAgICAnU1I1Lk1hdHJpeEF0dHJEYXRhUHJvY2Vzc2luZycsXG4gICAgICAgICAgICAnU1I1Lk1hdHJpeEF0dHJTbGVhemUnLFxuICAgICAgICAgICAgJ1NSNS5NYXRyaXhBdHRyQXR0YWNrJyxcbiAgICAgICAgICAgICdTUjUuU2tpbGxDb21wdXRlcicsXG4gICAgICAgICAgICAnU1I1LlNraWxsSGFja2luZycsXG4gICAgICAgICAgICAnU1I1LlNraWxsQ3liZXJjb21iYXQnLFxuICAgICAgICAgICAgJ1NSNS5Ta2lsbEVsZWN0cm9uaWNXYXJmYXJlJyxcbiAgICAgICAgICAgICdTUjUuU29mdHdhcmUnLFxuICAgICAgICBdO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXR0cykpIGF0dHMgPSBbYXR0c107XG4gICAgICAgIGF0dHMgPSBhdHRzLmZpbHRlcigoYXR0KSA9PiBhdHQpO1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXMgYW5kIHJldHVybiB0cnVlIGlmIHdlIGZpbmQgYSBtYXRyaXggYXR0XG4gICAgICAgIGZvciAoY29uc3QgYXR0IG9mIGF0dHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmIChtYXRyaXhMYWJlbHMuaW5kZXhPZihhdHQpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXR0ID09PSAnb2JqZWN0JyAmJiAoYXR0IGFzIExhYmVsRmllbGQpLmxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4TGFiZWxzLmluZGV4T2YoYXR0LmxhYmVsID8/ICcnKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBkb24ndCBmaW5kIGFueXRoaW5nIHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlSW5wdXRUb1N0cmluZyh2YWw6IG51bWJlciB8IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgcmV0dXJuIHZhbC50b1N0cmluZygpO1xuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHJldHVybiB2YWw7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwuam9pbignLCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VJbnB1dFRvTnVtYmVyKHZhbDogbnVtYmVyIHwgc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQpOiBudW1iZXIge1xuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHJldHVybiB2YWw7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gK3ZhbDtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocmV0KSkgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ciA9IHZhbC5qb2luKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9ICtzdHI7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHJldCkpIHJldHVybiByZXQ7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0dXBDdXN0b21DaGVja2JveChhcHAsIGh0bWwpIHtcbiAgICAgICAgY29uc3Qgc2V0Q29udGVudCA9IChlbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSAkKGVsKS5jaGlsZHJlbignaW5wdXRbdHlwZT1jaGVja2JveF0nKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbWFyayA9ICQoZWwpLmNoaWxkcmVuKCcuY2hlY2ttYXJrJyk7XG4gICAgICAgICAgICBpZiAoJChjaGVja2JveCkucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgJChjaGVja21hcmspLmFkZENsYXNzKCdmYS1jaGVjay1jaXJjbGUnKTtcbiAgICAgICAgICAgICAgICAkKGNoZWNrbWFyaykucmVtb3ZlQ2xhc3MoJ2ZhLWNpcmNsZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKGNoZWNrbWFyaykuYWRkQ2xhc3MoJ2ZhLWNpcmNsZScpO1xuICAgICAgICAgICAgICAgICQoY2hlY2ttYXJrKS5yZW1vdmVDbGFzcygnZmEtY2hlY2stY2lyY2xlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGh0bWwuZmluZCgnbGFiZWwuY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldENvbnRlbnQodGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBodG1sLmZpbmQoJ2xhYmVsLmNoZWNrYm94JykuY2xpY2soKGV2ZW50KSA9PiBzZXRDb250ZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuc3VibWl0LWNoZWNrYm94JykuY2hhbmdlKChldmVudCkgPT4gYXBwLl9vblN1Ym1pdChldmVudCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYXBSb3VuZHNUb0RlZmVuc2VNb2Qocm91bmRzKSB7XG4gICAgICAgIGlmIChyb3VuZHMgPT09IDEpIHJldHVybiAwO1xuICAgICAgICBpZiAocm91bmRzID09PSAzKSByZXR1cm4gLTI7XG4gICAgICAgIGlmIChyb3VuZHMgPT09IDYpIHJldHVybiAtNTtcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMTApIHJldHVybiAtOTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgc3RhdGljIG1hcFJvdW5kc1RvRGVmZW5zZURlc2Mocm91bmRzKSB7XG4gICAgICAgIGlmIChyb3VuZHMgPT09IDEpIHJldHVybiAnJztcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMykgcmV0dXJuICctMic7XG4gICAgICAgIGlmIChyb3VuZHMgPT09IDYpIHJldHVybiAnLTUnO1xuICAgICAgICBpZiAocm91bmRzID09PSAxMCkgcmV0dXJuICctOSc7XG4gICAgICAgIGlmIChyb3VuZHMgPT09IDIwKSByZXR1cm4gJ1NSNS5EdWNrT3JDb3Zlcic7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBzdGF0aWMgbGFiZWwoc3RyKSB7XG4gICAgICAgIGNvbnN0IGZyYWdzID0gc3RyLnNwbGl0KCdfJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZyYWdzW2ldID0gZnJhZ3NbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBmcmFnc1tpXS5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFncy5mb3JFYWNoKChmcmFnLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChmcmFnID09PSAnUHJvY2Vzc2luZycpIGZyYWdzW2lkeF0gPSAnUHJvYy4nO1xuICAgICAgICAgICAgaWYgKGZyYWcgPT09ICdNZWNoYW5pYycpIGZyYWdzW2lkeF0gPSAnTWVjaC4nO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZyYWdzLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb3JkZXJLZXlzKG9iaikge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KGZ1bmN0aW9uIGtleU9yZGVyKGsxLCBrMikge1xuICAgICAgICAgICAgaWYgKGsxIDwgazIpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChrMSA+IGsyKSByZXR1cm4gKzE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGNvbnN0IGFmdGVyID0ge307XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhZnRlcltrZXlzW2ldXSA9IG9ialtrZXlzW2ldXTtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5c1tpXV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb2JqW2tleXNbaV1dID0gYWZ0ZXJba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGFzTW9kaWZpZXJzKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudCAmJiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZpbHRlcihvYmosIGNvbXApIHtcbiAgICAgICAgY29uc3QgcmV0T2JqID0ge307XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXAoW2tleSwgdmFsdWVdKSkgcmV0T2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXRPYmo7XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZExhYmVscyhvYmosIGxhYmVsKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KCdsYWJlbCcpICYmIG9iai5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSAmJiBsYWJlbCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBvYmoubGFiZWwgPSBsYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG9iailcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChbLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gSGVscGVycy5hZGRMYWJlbHModmFsdWUsIGtleSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogSGFuZGxlIFNoYWRvd3J1biBzdHlsZSBzaG9ydGVuZWQgYXR0cmlidXRlIG5hbWVzIHdpdGggdHlwaWNhbCB0aHJlZSBsZXR0ZXIgc2hvcnRlbmluZy4gKi9cbiAgICBzdGF0aWMgc2hvcnRlbkF0dHJpYnV0ZUxvY2FsaXphdGlvbihsYWJlbDogc3RyaW5nLCBsZW5ndGg6IG51bWJlciA9IDMpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKGxhYmVsKTtcblxuICAgICAgICBpZiAobGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hbWUubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBsZW5ndGggPSBuYW1lLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDAsIGxlbmd0aCkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VG9rZW4oaWQ/OiBzdHJpbmcpOiBUb2tlbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgY2FudmFzLnRva2Vucy5wbGFjZWFibGVzKSB7XG4gICAgICAgICAgICBpZiAodG9rZW4uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFNjZW5lVG9rZW4oc2NlbmVUb2tlbklkOiBzdHJpbmcpOiBUb2tlbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IHNjZW5lVG9rZW5JZC5zcGxpdCgnLicpO1xuXG4gICAgICAgIGNvbnN0IGlzQWN0aXZlU2NlbmUgPSBzY2VuZUlkID09PSBjYW52YXM/LnNjZW5lLl9pZDtcbiAgICAgICAgaWYgKGlzQWN0aXZlU2NlbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBjYW52YXMudG9rZW5zLmdldCh0b2tlbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJ1aWxkIFRva2VuIHVzaW5nIGl0J3MgZGF0YSBmcm9tIHRoZSBjb25uZWN0ZWQgc2NlbmUgYXMgYSBmYWxsYmFjay5cbiAgICAgICAgY29uc3Qgc2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZCk7XG4gICAgICAgIGlmICghc2NlbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5kYXRhLnRva2Vucy5maW5kKCh0KSA9PiB0LmlkID09PSBOdW1iZXIodG9rZW5JZCkpO1xuICAgICAgICBpZiAoIXRva2VuRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUb2tlbih0b2tlbkRhdGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRVc2VyVGFyZ2V0cyh1c2VyPzogVXNlcik6IFRva2VuW10ge1xuICAgICAgICB1c2VyID0gdXNlciA/IHVzZXIgOiBnYW1lLnVzZXI7XG5cbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHVzZXIudGFyZ2V0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdXNlckhhc1RhcmdldHModXNlcj86IFVzZXIpOiBib29sZWFuIHtcbiAgICAgICAgdXNlciA9IHVzZXIgPyB1c2VyIDogZ2FtZS51c2VyO1xuXG4gICAgICAgIHJldHVybiB1c2VyLnRhcmdldHMuc2l6ZSA+IDA7XG4gICAgfVxuXG4gICAgc3RhdGljIG1lYXN1cmVUb2tlbkRpc3RhbmNlKHRva2VuT3JpZ2luOiBUb2tlbiwgdG9rZW5EZXN0OiBUb2tlbik6IG51bWJlciB7XG4gICAgICAgIGlmICghdG9rZW5PcmlnaW4gfHwgIXRva2VuRGVzdCkgcmV0dXJuIDA7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luID0gbmV3IFBJWEkuUG9pbnQoLi4uY2FudmFzLmdyaWQuZ2V0Q2VudGVyKHRva2VuT3JpZ2luLmRhdGEueCwgdG9rZW5PcmlnaW4uZGF0YS55KSk7XG4gICAgICAgIGNvbnN0IGRlc3QgPSBuZXcgUElYSS5Qb2ludCguLi5jYW52YXMuZ3JpZC5nZXRDZW50ZXIodG9rZW5EZXN0LmRhdGEueCwgdG9rZW5EZXN0LmRhdGEueSkpO1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlSW5HcmlkVW5pdHMgPSBjYW52YXMuZ3JpZC5tZWFzdXJlRGlzdGFuY2Uob3JpZ2luLCBkZXN0LCB7Z3JpZFNwYWNlczogdHJ1ZX0pO1xuICAgICAgICBjb25zdCBzY2VuZVVuaXQgPSBjYW52YXMuc2NlbmUuZGF0YS5ncmlkVW5pdHM7XG4gICAgICAgIC8vIFRPRE86IERlZmluZSB3ZWFwb24gcmFuZ2UgdW5pdHMgc29tZXdoZXJlIChzZXR0aW5ncylcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuY29udmVydExlbmd0aFVuaXQoZGlzdGFuY2VJbkdyaWRVbml0cywgc2NlbmVVbml0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY29udmVydExlbmd0aFVuaXQobGVuZ3RoOiBudW1iZXIsIGZyb21Vbml0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgZnJvbVVuaXQgPSBmcm9tVW5pdC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmICghTEVOR1RIX1VOSVRfVE9fTUVURVJTX01VTFRJUExJRVJTLmhhc093blByb3BlcnR5KGZyb21Vbml0KSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRGlzdGFuY2UgY2FuJ3QgYmUgY29udmVydGVkIGZyb20gJHtmcm9tVW5pdH0gdG8gJHtMRU5HVEhfVU5JVH1gKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUm91bmQgZG93biBzaW5jZSBYLjggd2lsbCBoaXQgWCBhbmQgbm90IFgrMS5cbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobGVuZ3RoICogTEVOR1RIX1VOSVRfVE9fTUVURVJTX01VTFRJUExJRVJTW2Zyb21Vbml0XSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFdlYXBvblJhbmdlKGRpc3RhbmNlOiBudW1iZXIsIHJhbmdlczogUmFuZ2VzVGVtcGxhdGVEYXRhKTogUmFuZ2VUZW1wbGF0ZURhdGEge1xuICAgICAgICAvLyBBc3N1bWUgcmFuZ2VzIHRvIGJlIGluIEFTQyBvcmRlciBhbmQgdG8gZGVmaW5lIHRoZWlyIG1heCByYW5nZS5cbiAgICAgICAgLy8gU2hvdWxkIG5vIHJhbmdlIGJlIGZvdW5kLCBhc3N1bWUgZGlzdGFuY2UgdG8gYmUgb3V0IG9mIHJhbmdlLlxuICAgICAgICBjb25zdCByYW5nZUtleSA9IE9iamVjdC5rZXlzKHJhbmdlcykuZmluZChyYW5nZSA9PiBkaXN0YW5jZSA8IHJhbmdlc1tyYW5nZV0uZGlzdGFuY2UpO1xuICAgICAgICBpZiAocmFuZ2VLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiByYW5nZXNbcmFuZ2VLZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qge2V4dHJlbWV9ID0gcmFuZ2VzO1xuICAgICAgICAgICAgcmV0dXJuIEhlbHBlcnMuY3JlYXRlUmFuZ2VEZXNjcmlwdGlvbignU1I1Lk91dE9mUmFuZ2UnLCBleHRyZW1lLmRpc3RhbmNlLCBTUi5jb21iYXQuZW52aXJvbm1lbnRhbC5yYW5nZV9tb2RpZmllcnMub3V0X29mX3JhbmdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDb250cm9sbGVkVG9rZW5zKCk6IFRva2VuW10ge1xuICAgICAgICByZXR1cm4gY2FudmFzLnRva2Vucy5jb250cm9sbGVkO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRTZWxlY3RlZEFjdG9yc09yQ2hhcmFjdGVyKCk6IFNSNUFjdG9yW10ge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBIZWxwZXJzLmdldENvbnRyb2xsZWRUb2tlbnMoKTtcbiAgICAgICAgY29uc3QgYWN0b3JzID0gdG9rZW5zLm1hcCh0b2tlbiA9PiB0b2tlbi5hY3RvcikgYXMgU1I1QWN0b3JbXTtcblxuICAgICAgICAvLyBUcnkgdG8gZGVmYXVsdCB0byBhIHVzZXJzIGNoYXJhY3Rlci5cbiAgICAgICAgaWYgKGFjdG9ycy5sZW5ndGggPT09IDAgJiYgZ2FtZS51c2VyPy5jaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgIGFjdG9ycy5wdXNoKGdhbWUudXNlci5jaGFyYWN0ZXIgYXMgU1I1QWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjdG9ycztcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlUmFuZ2VEZXNjcmlwdGlvbihsYWJlbDogc3RyaW5nLCBkaXN0YW5jZTogbnVtYmVyLCBtb2RpZmllcjogbnVtYmVyKTogUmFuZ2VUZW1wbGF0ZURhdGEge1xuICAgICAgICBsYWJlbCA9IGdhbWUuaTE4bi5sb2NhbGl6ZShsYWJlbCk7XG4gICAgICAgIHJldHVybiB7bGFiZWwsIGRpc3RhbmNlLCBtb2RpZmllcn1cbiAgICB9XG5cbiAgICBzdGF0aWMgY29udmVydEluZGV4ZWRPYmplY3RUb0FycmF5KGluZGV4ZWRPYmplY3Q6IG9iamVjdCk6IG9iamVjdFtdIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGluZGV4ZWRPYmplY3QpLm1hcCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdBbiBvYmplY3Qgd2l0aCBubyBudW1lcmljYWwgaW5kZXggd2FzIGdpdmVuLCB3aGljaCBpcyBsaWtlbHkgYSBidWcuJywgaW5kZXhlZE9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5kZXhlZE9iamVjdFtpbmRleF07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDaGF0U3BlYWtlck5hbWUoYWN0b3I6IFNSNUFjdG9yKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCFhY3RvcikgcmV0dXJuICcnO1xuXG4gICAgICAgIGNvbnN0IHVzZVRva2VuTmFtZUZvckNoYXRPdXRwdXQgPSBnYW1lLnNldHRpbmdzLmdldChTWVNURU1fTkFNRSwgRkxBR1MuU2hvd1Rva2VuTmFtZUZvckNoYXRPdXRwdXQpO1xuICAgICAgICBjb25zdCB0b2tlbiA9IGFjdG9yLmdldFRva2VuKCk7XG5cbiAgICAgICAgaWYgKHVzZVRva2VuTmFtZUZvckNoYXRPdXRwdXQgJiYgdG9rZW4pIHJldHVybiB0b2tlbi5kYXRhLm5hbWU7XG5cbiAgICAgICAgcmV0dXJuIGFjdG9yLm5hbWU7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZURhbWFnZURhdGEodmFsdWU6IG51bWJlciwgdHlwZTogRGFtYWdlVHlwZSwgYXA6IG51bWJlciA9IDAsIGVsZW1lbnQ6IERhbWFnZUVsZW1lbnQgPSAnJyk6IERhbWFnZURhdGEge1xuICAgICAgICBjb25zdCBkYW1hZ2UgPSBkdXBsaWNhdGUoRGF0YVRlbXBsYXRlcy5kYW1hZ2UpO1xuICAgICAgICBkYW1hZ2UuYmFzZSA9IHZhbHVlO1xuICAgICAgICBkYW1hZ2UudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZGFtYWdlLnR5cGUuYmFzZSA9IHR5cGU7XG4gICAgICAgIGRhbWFnZS50eXBlLnZhbHVlID0gdHlwZTtcbiAgICAgICAgZGFtYWdlLmFwLmJhc2UgPSBhcDtcbiAgICAgICAgZGFtYWdlLmFwLnZhbHVlID0gYXA7XG4gICAgICAgIGRhbWFnZS5lbGVtZW50LmJhc2UgPSBlbGVtZW50O1xuICAgICAgICBkYW1hZ2UuZWxlbWVudC52YWx1ZSA9IGVsZW1lbnQ7XG5cbiAgICAgICAgcmV0dXJuIGRhbWFnZTtcbiAgICB9XG5cbiAgICAvKiogTW9kaWZpZXMgZ2l2ZW4gZGFtYWdlIHZhbHVlIGFuZCByZXR1cm5zIGJvdGggb3JpZ2luYWwgYW5kIG1vZGlmaWVkIGRhbWFnZVxuICAgICAqXG4gICAgICogRm9yIGJldHRlciByZWFkYWJpbGl0eSByZWR1Y2VEYW1hZ2VCeUhpdHMgd3JhcHMgdGhpcyBtZXRob2QgdG8gYXZvaWQgbmVnYXRpdmUgcGFyYW1zIGluIHRoZSBjYWxsIHNpZ25hdHVyZS5cbiAgICAgKiBzbyBpbnN0ZWFkIG9mXG4gICAgICogPiBtb2RpZnlEYW1hZ2VCeUhpdHMoaW5jb21pbmcsIC1oaXRzLCBsYWJlbClcbiAgICAgKiBkbyB0aGlzIGluc3RlYWRcbiAgICAgKiA+IHJlZHVjZURhbWFnZUJ5SGl0cyhpbmNvbWluZywgaGl0cywgbGFiZWwpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5jb21pbmcgQSBEYW1hZ2VEYXRhIHZhbHVlIHRvIGJlIG1vZGlmaWVkIGZyb21cbiAgICAgKiBAcGFyYW0gaGl0cyBQb3NpdGl2ZSBvciBuZWdhdGl2ZSBoaXRzIHRvIGNoYW5nZSB0aGUgZGFtYWdlIHZhbHVlIHdpdGguXG4gICAgICogQHBhcmFtIG1vZGlmaWNhdGlvbkxhYmVsIFRoZSB0cmFuc2xhdGFibGUgbGFiZWwgZm9yIHRoZSBtb2RpZmljYXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgbW9kaWZ5RGFtYWdlQnlIaXRzKGluY29taW5nOiBEYW1hZ2VEYXRhLCBoaXRzOiBudW1iZXIsIG1vZGlmaWNhdGlvbkxhYmVsOiBzdHJpbmcpOiBNb2RpZmllZERhbWFnZURhdGEge1xuICAgICAgICBjb25zdCBtb2RpZmllZCA9IGR1cGxpY2F0ZShpbmNvbWluZyk7XG4gICAgICAgIG1vZGlmaWVkLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KG1vZGlmaWVkLm1vZCwgbW9kaWZpY2F0aW9uTGFiZWwsIGhpdHMpO1xuICAgICAgICBtb2RpZmllZC52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKG1vZGlmaWVkLCB7bWluOiAwfSk7XG5cbiAgICAgICAgcmV0dXJuIHtpbmNvbWluZywgbW9kaWZpZWR9O1xuICAgIH1cblxuICAgIC8qKiBSZWR1Y2VzIGdpdmVuIGRhbWFnZSB2YWx1ZSBhbmQgcmV0dXJucyBib3RoIG9yaWdpbmFsIGFuZCBtb2RpZmllZCBkYW1hZ2UuXG4gICAgICpcbiAgICAgKiBTaG91bGQgeW91IHdhbnQgUkFJU0UgdGhlIGRhbWFnZSB2YWx1ZSwgdXNlIG1vZGlmeURhbWFnZUJ5SGl0cyBkaXJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmNvbWluZyBBIERhbWFnZURhdGEgdmFsdWUgdG8gYmUgbW9kaWZpZWQgZnJvbVxuICAgICAqIEBwYXJhbSBoaXRzIFBvc2l0aXZlIGhpdHMgdG8gcmVkdWNlIHRoZSBkYW1hZ2UgdmFsdWUgd2l0aCEgU2hvdWxkIHRoZSBoaXRzIGFtb3VudCBiZSBuZWdhdGl2ZSwgdXNlIG1vZGlmeURhbWFnZUJ5SGl0cy5cbiAgICAgKiBAcGFyYW0gbW9kaWZpY2F0aW9uTGFiZWwgVGhlIHRyYW5zbGF0YWJsZSBsYWJlbCBmb3IgdGhlIG1vZGlmaWNhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyByZWR1Y2VEYW1hZ2VCeUhpdHMoaW5jb21pbmc6IERhbWFnZURhdGEsIGhpdHM6IG51bWJlciwgbW9kaWZpY2F0aW9uTGFiZWw6IHN0cmluZyk6IE1vZGlmaWVkRGFtYWdlRGF0YSB7XG4gICAgICAgIGlmIChoaXRzIDwgMCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdIZWxwZXJzLnJlZHVjZURhbWFnZUJ5SGl0cyBzaG91bGQgb25seSBiZSBjYWxsZWQgd2l0aCBwb3NpdGl2ZSBoaXRzIHZhbHVlcyB0byBhdm9pZCBjb25mdXNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSGVscGVycy5tb2RpZnlEYW1hZ2VCeUhpdHMoaW5jb21pbmcsIC1oaXRzLCBtb2RpZmljYXRpb25MYWJlbCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGNvbmZpcm1EZWxldGlvbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgZGlhbG9nID0gbmV3IERlbGV0ZUNvbmZpcm1hdGlvbkRpYWxvZygpO1xuICAgICAgICBhd2FpdCBkaWFsb2cuc2VsZWN0KCk7XG4gICAgICAgIHJldHVybiAhZGlhbG9nLmNhbmNlbGVkICYmIGRpYWxvZy5zZWxlY3RlZEJ1dHRvbiA9PT0gJ2RlbGV0ZSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gU2tpbGxGaWVsZCBpbnRvIHRoZSBTa2lsbHMgZGF0YSBwYXRoIGR1cmluZyB0aGUgU2tpbGwgY3JlYXRpb24gcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2lsbERhdGFQYXRoIENvdWxkIGJlICdkYXRhLnNraWxscy5hY3RpdmUnIG9yICdkYXRhLnNraWxsLmxhbmd1YWdlLnZhbHVlJyBvciBtb3JlXG4gICAgICogQHBhcmFtIHNraWxsRmllbGQgQSBTa2lsbEZpZWxkIHdpdGggd2hhdGV2ZXIgdmFsdWVzLiBZb3UgY291bGQgdXNlIERlZmF1bHRWYWx1ZXMuc2tpbGxEYXRhIHRvIGNyZWF0ZSBvbmUuXG4gICAgICogQHBhcmFtIGlkTGVuZ3RoIEhvdyBsb25nIHNob3VsZCB0aGUgaWQgKEdVSUQpIGJlP1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRSYW5kb21JZFNraWxsRmllbGREYXRhRW50cnkoc2tpbGxEYXRhUGF0aDogc3RyaW5nLCBza2lsbEZpZWxkOiBTa2lsbEZpZWxkLCBpZExlbmd0aDogbnVtYmVyID0gREVGQVVMVF9JRF9MRU5HVEgpOiB7IGlkOiBzdHJpbmcsIHVwZGF0ZVNraWxsRGF0YTogeyBbc2tpbGxEYXRhUGF0aDogc3RyaW5nXTogeyBbaWQ6IHN0cmluZ106IFNraWxsRmllbGQgfSB9IH0gfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIXNraWxsRGF0YVBhdGggfHwgc2tpbGxEYXRhUGF0aC5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBjb25zdCBpZCA9IHJhbmRvbUlEKGlkTGVuZ3RoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlU2tpbGxEYXRhID0ge1xuICAgICAgICAgICAgW3NraWxsRGF0YVBhdGhdOiB7W2lkXTogc2tpbGxGaWVsZH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB1cGRhdGVTa2lsbERhdGFcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIGhlbHBlciB0byBnZXQgYW4gZGF0YSBlbnRyeSBmb3IgdXBkYXRpbmcgd2l0aCBFbnRpdHkudXBkYXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCBUaGUgbWFpbiBkYXRhIHBhdGggYXMgYSBkb3RlZCBzdHJpbmcgcmVsYXRpdmUgZnJvbSB0aGUgdHlwZSBkYXRhIChub3QgZW50aXR5IGRhdGEpLlxuICAgICAqIEBwYXJhbSB2YWx1ZSBXaGF0ZXZlciBuZWVkcyB0byBiZSBzdG9yZWQuXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0VXBkYXRlRGF0YUVudHJ5KHBhdGg6IHN0cmluZywgdmFsdWU6IGFueSk6IHtbcGF0aDogc3RyaW5nXTogYW55fSB7XG4gICAgICAgIHJldHVybiB7W3BhdGhdOiB2YWx1ZX07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIGhlbHBlciB0byBkZWxldGUgZXhpc3RpbmcgZW50aXR5IGRhdGEga2V5cyB3aXRoIEVudGl0eS51cGRhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSBtYWluIGRhdGEgcGF0aCBhcyBkb3RlZCBzdHJpbmcgcmVsYXRpdmUgZnJvbSB0aGUgaXRlbSB0eXBlIGRhdGEgKG5vdCBlbnRpdHkgZGF0YSkuIGRhdGEuc2tpbGxzLmFjdGl2ZVxuICAgICAqIEBwYXJhbSBrZXkgVGhlIHNpbmdsZSBzdWIgcHJvcGVydHkgd2l0aGluIHRoZSBwYXRoIHRoYXQncyBtZWFudCB0byBiZSBkZWxldGVkLiAndGVzdCdcbiAgICAgKlxuICAgICAqIEByZXR1cm4gQW4gZXhwZWN0ZWQgcmV0dXJuIG9iamVjdCBjb3VsZCBsb29rIGxpa2UgdGhpczogeydkYXRhLnNraWxscy5hY3RpdmUnOiB7Jy09UGlzdG9scyc6IG51bGx9fSBhbmQgd291bGRcbiAgICAgKiAgICAgICAgIHJlbW92ZSB0aGUgUGlzdG9scyBrZXkgZnJvbSB0aGUgJ2RhdGEuc2tpbGxzLmFjdGl2ZScgcGF0aCB3aXRoaW4gRW50aXR5LmRhdGEuZGF0YS5za2lsbHMuYWN0aXZlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXREZWxldGVEYXRhRW50cnkocGF0aDogc3RyaW5nLCBrZXk6IHN0cmluZyk6IHtbcGF0aDogc3RyaW5nXToge1trZXk6IHN0cmluZ106IG51bGx9fSB7XG4gICAgICAgIC8vIEVudGl0eS51cGRhdGUgdXRpbGl6ZXMgdGhlIG1lcmdlT2JqZWN0IGZ1bmN0aW9uIHdpdGhpbiBGb3VuZHJ5LlxuICAgICAgICAvLyBUaGF0IGZ1bmN0aW9ucyBkb2N1bWVudGF0aW9uIGFsbG93cyBwcm9wZXJ0eSBkZWxldGlvbiB1c2luZyB0aGUgLT0gcHJlZml4IGJlZm9yZSBwcm9wZXJ0eSBrZXkuXG4gICAgICAgIHJldHVybiB7W3BhdGhdOiB7W2AtPSR7a2V5fWBdOiBudWxsfX07XG4gICAgfVxuXG4gICAgc3RhdGljIGxvY2FsaXplU2tpbGwoc2tpbGw6IFNraWxsRmllbGQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc2tpbGwubGFiZWwgPyBnYW1lLmkxOG4ubG9jYWxpemUoc2tpbGwubGFiZWwpIDogc2tpbGwubmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbHBoYWJldGljYWxseSBzb3J0IHNraWxscyBlaXRoZXIgYnkgdGhlaXIgdHJhbnNsYXRlZCBsYWJlbC4gU2hvdWxkIGEgc2tpbGwgbm90IGhhdmUgb25lLCB1c2UgdGhlIG5hbWUgYXMgYVxuICAgICAqIGZhbGxiYWNrLlxuICAgICAqXG4gICAgICogU29ydGluZyBzaG91bGQgYmUgYXdhcmUgb2YgVVRGLTgsIGhvd2V2ZXIgcGxlYXNlIGJsYW1lIEphdmFTY3JpcHQgaWYgaXQncyBub3QuIDopXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2tpbGxzXG4gICAgICogQHBhcmFtIGFzYyBTZXQgdG8gdHJ1ZSBmb3IgYXNjZW5kaW5nIHNvcnRpbmcgb3JkZXIgYW5kIHRvIGZhbHNlIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIEByZXR1cm4gU29ydGVkIFNraWxscyBnaXZlbiBieSB0aGUgc2tpbGxzIHBhcmFtZXRlclxuICAgICAqL1xuICAgIHN0YXRpYyBzb3J0U2tpbGxzKHNraWxsczogU2tpbGxzLCBhc2M6IGJvb2xlYW49dHJ1ZSk6IFNraWxscyB7XG4gICAgICAgIC8vIEZpbHRlciBlbnRyaWVzIGluc3RlYWQgb2YgdmFsdWVzIHRvIGhhdmUgYSBzdG9yZSBvZiBpZHMgZm9yIGVhc3kgcmVidWlsZC5cbiAgICAgICAgY29uc3Qgc29ydGVkRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHNraWxscykuc29ydCgoW2FJZCwgYV0sIFtiSWQsIGJdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wYXJhdG9yQSA9IEhlbHBlcnMubG9jYWxpemVTa2lsbChhKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBhcmF0b3JCID0gSGVscGVycy5sb2NhbGl6ZVNraWxsKGIpO1xuICAgICAgICAgICAgLy8gVXNlIFN0cmluZy5sb2NhbGVDb21wYXJlIGluc3RlYWQgb2YgdGhlID4gT3BlcmF0b3IgdG8gc3VwcG9ydCBvdGhlciBhbHBoYWJldHMuXG4gICAgICAgICAgICBpZiAoYXNjKVxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJhdG9yQS5sb2NhbGVDb21wYXJlKGNvbXBhcmF0b3JCKSA9PT0gMSA/IDEgOiAtMTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyYXRvckEubG9jYWxlQ29tcGFyZShjb21wYXJhdG9yQikgPT09IDEgPyAtMSA6IDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlYnVpbGQgdGhlIFNraWxscyB0eXBlIHVzaW5nIHRoZSBlYXJsaWVyIGVudHJpZXMuXG4gICAgICAgIGNvbnN0IHNvcnRlZEFzT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2lkLCBza2lsbF0gb2Ygc29ydGVkRW50cmllcykge1xuICAgICAgICAgICAgc29ydGVkQXNPYmplY3RbaWRdID0gc2tpbGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc29ydGVkQXNPYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxwaGFiZXRpY2FsbHkgc29ydCBhbnkgU1I1IGNvbmZpZyBvYmplY3Qgd2l0aCBhIGtleSB0byBsYWJlbCBzdHJ1Y3R1cmUuXG4gICAgICpcbiAgICAgKiBTb3J0aW5nIHNob3VsZCBiZSBhd2FyZSBvZiBVVEYtOCwgaG93ZXZlciBwbGVhc2UgYmxhbWUgSmF2YVNjcmlwdCBpZiBpdCdzIG5vdC4gOilcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWdWYWx1ZXMgVGhlIGNvbmZpZyB2YWx1ZSB0byBiZSBzb3J0ZWRcbiAgICAgKiBAcGFyYW0gYXNjIFNldCB0byB0cnVlIGZvciBhc2NlbmRpbmcgc29ydGluZyBvcmRlciBhbmQgdG8gZmFsc2UgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogQHJldHVybiBTb3J0ZWQgY29uZmlnIHZhbHVlcyBnaXZlbiBieSB0aGUgY29uZmlnVmFsdWVzIHBhcmFtZXRlclxuICAgICAqL1xuICAgIHN0YXRpYyBzb3J0Q29uZmlnVmFsdWVzQnlUcmFuc2xhdGlvbihjb25maWdWYWx1ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sIGFzYzogYm9vbGVhbj10cnVlKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gICAgICAgIC8vIEZpbHRlciBlbnRyaWVzIGluc3RlYWQgb2YgdmFsdWVzIHRvIGhhdmUgYSBzdG9yZSBvZiBpZHMgZm9yIGVhc3kgcmVidWlsZC5cbiAgICAgICAgY29uc3Qgc29ydGVkRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZ1ZhbHVlcykuc29ydCgoW2FJZCwgYV0sIFtiSWQsIGJdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wYXJhdG9yQSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShhKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBhcmF0b3JCID0gZ2FtZS5pMThuLmxvY2FsaXplKGIpO1xuICAgICAgICAgICAgLy8gVXNlIFN0cmluZy5sb2NhbGVDb21wYXJlIGluc3RlYWQgb2YgdGhlID4gT3BlcmF0b3IgdG8gc3VwcG9ydCBvdGhlciBhbHBoYWJldHMuXG4gICAgICAgICAgICBpZiAoYXNjKVxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJhdG9yQS5sb2NhbGVDb21wYXJlKGNvbXBhcmF0b3JCKSA9PT0gMSA/IDEgOiAtMTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyYXRvckEubG9jYWxlQ29tcGFyZShjb21wYXJhdG9yQikgPT09IDEgPyAtMSA6IDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlYnVpbGQgdGhlIHNraWxscyB0eXBlIHVzaW5nIHRoZSBlYXJsaWVyIGVudHJpZXMuXG4gICAgICAgIGNvbnN0IHNvcnRlZEFzT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdHJhbnNsYXRlZF0gb2Ygc29ydGVkRW50cmllcykge1xuICAgICAgICAgICAgc29ydGVkQXNPYmplY3Rba2V5XSA9IHRyYW5zbGF0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvcnRlZEFzT2JqZWN0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNSNSB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IE1pZ3JhdG9yIH0gZnJvbSAnLi9taWdyYXRvci9NaWdyYXRvcic7XG5pbXBvcnQgeyByZWdpc3RlclN5c3RlbVNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBTWVNURU1fTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IFNSNUFjdG9yIH0gZnJvbSAnLi9hY3Rvci9TUjVBY3Rvcic7XG5pbXBvcnQgeyBTUjVBY3RvclNoZWV0IH0gZnJvbSAnLi9hY3Rvci9TUjVBY3RvclNoZWV0JztcbmltcG9ydCB7IFNSNUl0ZW0gfSBmcm9tICcuL2l0ZW0vU1I1SXRlbSc7XG5pbXBvcnQgeyBTUjVJdGVtU2hlZXQgfSBmcm9tICcuL2l0ZW0vU1I1SXRlbVNoZWV0JztcbmltcG9ydCB7IFNoYWRvd3J1blJvbGxlciB9IGZyb20gJy4vcm9sbHMvU2hhZG93cnVuUm9sbGVyJztcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgSGFuZGxlYmFyTWFuYWdlciB9IGZyb20gJy4vaGFuZGxlYmFycy9IYW5kbGViYXJNYW5hZ2VyJztcbmltcG9ydCB7IG1lYXN1cmVEaXN0YW5jZSB9IGZyb20gJy4vY2FudmFzJztcbmltcG9ydCAqIGFzIGNoYXQgZnJvbSAnLi9jaGF0JztcbmltcG9ydCB7IGNyZWF0ZUl0ZW1NYWNybywgcm9sbEl0ZW1NYWNybyB9IGZyb20gJy4vbWFjcm9zJztcblxuaW1wb3J0IHsgT3ZlcndhdGNoU2NvcmVUcmFja2VyIH0gZnJvbSAnLi9hcHBzL2dtdG9vbHMvT3ZlcndhdGNoU2NvcmVUcmFja2VyJztcbmltcG9ydCB7IFNSNUNvbWJhdCB9IGZyb20gJy4vY29tYmF0L1NSNUNvbWJhdCc7XG5pbXBvcnQgeyBJbXBvcnQgfSBmcm9tICcuL2ltcG9ydGVyL2FwcHMvaW1wb3J0LWZvcm0nO1xuaW1wb3J0IHtDaGFuZ2Vsb2dBcHBsaWNhdGlvbn0gZnJvbSBcIi4vYXBwcy9DaGFuZ2Vsb2dBcHBsaWNhdGlvblwiO1xuaW1wb3J0IHtFbnZNb2RpZmllcnNBcHBsaWNhdGlvbn0gZnJvbSBcIi4vYXBwcy9FbnZNb2RpZmllcnNBcHBsaWNhdGlvblwiO1xuaW1wb3J0IHtxdWVuY2hSZWdpc3Rlcn0gZnJvbSBcIi4uL3Rlc3QvcXVlbmNoXCI7XG5cbmV4cG9ydCBjbGFzcyBIb29rc01hbmFnZXIge1xuICAgIHN0YXRpYyByZWdpc3Rlckhvb2tzKCkge1xuICAgICAgICAvLyBSZWdpc3RlciB5b3VyIGhpZ2hlc3QgbGV2ZWwgaG9vayBjYWxsYmFja3MgaGVyZSBmb3IgYSBxdWljayBvdmVydmlldyBvZiB3aGF0J3MgaG9va2VkIGludG8uXG5cbiAgICAgICAgSG9va3Mub25jZSgnaW5pdCcsIEhvb2tzTWFuYWdlci5pbml0KTtcblxuICAgICAgICBIb29rcy5vbignY2FudmFzSW5pdCcsIEhvb2tzTWFuYWdlci5jYW52YXNJbml0KTtcbiAgICAgICAgSG9va3Mub24oJ3JlYWR5JywgSG9va3NNYW5hZ2VyLnJlYWR5KTtcbiAgICAgICAgSG9va3Mub24oJ3JlbmRlckNoYXRNZXNzYWdlJywgSG9va3NNYW5hZ2VyLnJlbmRlckNoYXRNZXNzYWdlKTtcbiAgICAgICAgSG9va3Mub24oJ2dldENoYXRMb2dFbnRyeUNvbnRleHQnLCBjaGF0LmFkZENoYXRNZXNzYWdlQ29udGV4dE9wdGlvbnMpO1xuICAgICAgICBIb29rcy5vbignaG90YmFyRHJvcCcsIEhvb2tzTWFuYWdlci5ob3RiYXJEcm9wKTtcbiAgICAgICAgSG9va3Mub24oJ3JlbmRlclNjZW5lQ29udHJvbHMnLCBIb29rc01hbmFnZXIucmVuZGVyU2NlbmVDb250cm9scyk7XG4gICAgICAgIEhvb2tzLm9uKCdnZXRTY2VuZUNvbnRyb2xCdXR0b25zJywgSG9va3NNYW5hZ2VyLmdldFNjZW5lQ29udHJvbEJ1dHRvbnMpO1xuICAgICAgICBIb29rcy5vbignZ2V0Q29tYmF0VHJhY2tlckVudHJ5Q29udGV4dCcsIFNSNUNvbWJhdC5hZGRDb21iYXRUcmFja2VyQ29udGV4dE9wdGlvbnMpO1xuICAgICAgICBIb29rcy5vbigncmVuZGVySXRlbURpcmVjdG9yeScsIEhvb2tzTWFuYWdlci5yZW5kZXJJdGVtRGlyZWN0b3J5KTtcbiAgICAgICAgSG9va3Mub24oJ3JlbmRlclRva2VuSFVEJywgRW52TW9kaWZpZXJzQXBwbGljYXRpb24uYWRkVG9rZW5IVURGaWVsZHMpO1xuXG4gICAgICAgIC8vIEZvdW5kcnkgVlRUIE1vZHVsZSAncXVlbmNoJzogaHR0cHM6Ly9naXRodWIuY29tL3NjaHVsdHpjb2xlL0ZWVFQtUXVlbmNoXG4gICAgICAgIEhvb2tzLm9uKCdxdWVuY2hSZWFkeScsIHF1ZW5jaFJlZ2lzdGVyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coYExvYWRpbmcgU2hhZG93cnVuIDVlIFN5c3RlbVxuX19fX19fX19fX19fX19fX19fX1xuIF9fX19fX19fX19fIF9fX19fIFxuLyAgX19ffCBfX18gXFxcXCAgX19ffFxuXFxcXCBcXGAtLS58IHxfLyAvX19fIFxcXFwgXG4gXFxgLS0uIFxcXFwgICAgLyAgICBcXFxcIFxcXFxcbi9cXFxcX18vIC8gfFxcXFwgXFxcXC9cXFxcX18vIC9cblxcXFxfX19fL1xcXFxffCBcXFxcX1xcXFxfX19fLyBcbj09PT09PT09PT09PT09PT09PT1cbmApO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIHNoYWRvd3J1bjVlIG5hbWVzcGFjZSB3aXRoaW4gdGhlIGdhbWUgZ2xvYmFsXG4gICAgICAgIGdhbWVbJ3NoYWRvd3J1bjVlJ10gPSB7XG4gICAgICAgICAgICBTUjVBY3RvcixcbiAgICAgICAgICAgIFNoYWRvd3J1blJvbGxlcixcbiAgICAgICAgICAgIFNSNUl0ZW0sXG4gICAgICAgICAgICByb2xsSXRlbU1hY3JvLFxuICAgICAgICB9O1xuXG4gICAgICAgIENPTkZJRy5TUjUgPSBTUjU7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgQ09ORklHLkFjdG9yLmVudGl0eUNsYXNzID0gU1I1QWN0b3I7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgQ09ORklHLkl0ZW0uZW50aXR5Q2xhc3MgPSBTUjVJdGVtO1xuICAgICAgICBDT05GSUcuQ29tYmF0LmVudGl0eUNsYXNzID0gU1I1Q29tYmF0O1xuXG4gICAgICAgIHJlZ2lzdGVyU3lzdGVtU2V0dGluZ3MoKTtcblxuICAgICAgICAvLyBSZWdpc3RlciBzaGVldCBhcHBsaWNhdGlvbiBjbGFzc2VzXG4gICAgICAgIC8vIE5PVEU6IFNlZSBkbmQ1ZSBmb3IgYSBtdWx0aSBjbGFzcyBhcHByb2FjaCBmb3IgYWxsIGFjdG9yIHR5cGVzIHVzaW5nIHRoZSB0eXBlcyBhcnJheSBpbiBBY3RvcnMucmVnaXN0ZXJTaGVldFxuICAgICAgICBBY3RvcnMudW5yZWdpc3RlclNoZWV0KCdjb3JlJywgQWN0b3JTaGVldCk7XG4gICAgICAgIEFjdG9ycy5yZWdpc3RlclNoZWV0KFNZU1RFTV9OQU1FLCBTUjVBY3RvclNoZWV0LCB7XG4gICAgICAgICAgICBsYWJlbDogXCJTUjUuU2hlZXRBY3RvclwiLFxuICAgICAgICAgICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIEl0ZW1zLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIEl0ZW1TaGVldCk7XG4gICAgICAgIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoU1lTVEVNX05BTUUsIFNSNUl0ZW1TaGVldCwge1xuICAgICAgICAgICAgbGFiZWw6IFwiU1I1LlNoZWV0SXRlbVwiLFxuICAgICAgICAgICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgWydyZW5kZXJTUjVBY3RvclNoZWV0JywgJ3JlbmRlclNSNUl0ZW1TaGVldCddLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgICAgIEhvb2tzLm9uKHMsIChhcHAsIGh0bWwpID0+IEhlbHBlcnMuc2V0dXBDdXN0b21DaGVja2JveChhcHAsIGh0bWwpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgSGFuZGxlYmFyTWFuYWdlci5sb2FkVGVtcGxhdGVzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlYWR5KCkge1xuICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICAgIGF3YWl0IE1pZ3JhdG9yLkJlZ2luTWlncmF0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmIChDaGFuZ2Vsb2dBcHBsaWNhdGlvbi5zaG93QXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgQ2hhbmdlbG9nQXBwbGljYXRpb24oKS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbWFrZSBiYXNlZCBvbiBmb3VuZHJ5IHZlcnNpb25cbiAgICAgICAgY29uc3QgZGljZUljb25TZWxlY3RvciA9ICcjY2hhdC1jb250cm9scyAucm9sbC10eXBlLXNlbGVjdCAuZmEtZGljZS1kMjAnO1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBkaWNlSWNvblNlbGVjdG9yLCAoKSA9PiBTaGFkb3dydW5Sb2xsZXIucHJvbXB0Um9sbCgpKTtcbiAgICAgICAgY29uc3QgZGljZUljb25TZWxlY3Rvck5ldyA9ICcjY2hhdC1jb250cm9scyAuY2hhdC1jb250cm9sLWljb24gLmZhLWRpY2UtZDIwJztcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZGljZUljb25TZWxlY3Rvck5ldywgKCkgPT4gU2hhZG93cnVuUm9sbGVyLnByb21wdFJvbGwoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbnZhc0luaXQoKSB7XG4gICAgICAgIGNhbnZhcy5ncmlkLmRpYWdvbmFsUnVsZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCAnZGlhZ29uYWxNb3ZlbWVudCcpO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgLy8gU3F1YXJlR3JpZCBpc24ndCB0eXBlZC5cbiAgICAgICAgU3F1YXJlR3JpZC5wcm90b3R5cGUubWVhc3VyZURpc3RhbmNlcyA9IG1lYXN1cmVEaXN0YW5jZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaG90YmFyRHJvcChiYXIsIGRhdGEsIHNsb3QpIHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSAhPT0gJ0l0ZW0nKSByZXR1cm47XG5cbiAgICAgICAgY3JlYXRlSXRlbU1hY3JvKGRhdGEuZGF0YSwgc2xvdCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVuZGVyU2NlbmVDb250cm9scyhjb250cm9scywgaHRtbCkge1xuICAgICAgICBodG1sLmZpbmQoJ1tkYXRhLXRvb2w9XCJvdmVyd2F0Y2gtc2NvcmUtdHJhY2tlclwiXScpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG5ldyBPdmVyd2F0Y2hTY29yZVRyYWNrZXIoKS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRTY2VuZUNvbnRyb2xCdXR0b25zKGNvbnRyb2xzKSB7XG4gICAgICAgIGNvbnN0IHRva2VuQ29udHJvbHMgPSBjb250cm9scy5maW5kKChjKSA9PiBjLm5hbWUgPT09ICd0b2tlbicpO1xuXG4gICAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICAgICAgdG9rZW5Db250cm9scy50b29scy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnb3ZlcndhdGNoLXNjb3JlLXRyYWNrZXInLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ09OVFJPTFMuU1I1Lk92ZXJ3YXRjaFNjb3JlVHJhY2tlcicsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1uZXR3b3JrLXdpcmVkJyxcbiAgICAgICAgICAgICAgICBidXR0b246IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9rZW5Db250cm9scy50b29scy5wdXNoKEVudk1vZGlmaWVyc0FwcGxpY2F0aW9uLmdldENvbnRyb2woKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbmRlckNoYXRNZXNzYWdlKGFwcCwgaHRtbCkge1xuICAgICAgICBjaGF0LmFkZFJvbGxMaXN0ZW5lcnMoYXBwLCBodG1sKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVuZGVySXRlbURpcmVjdG9yeShhcHA6IEFwcGxpY2F0aW9uLCBodG1sOiBKUXVlcnkpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gJCgnPGJ1dHRvbj5JbXBvcnQgQ2h1bW1lciBEYXRhPC9idXR0b24+Jyk7XG4gICAgICAgIGh0bWwuZmluZCgnZm9vdGVyJykuYmVmb3JlKGJ1dHRvbik7XG4gICAgICAgIGJ1dHRvbi5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIG5ldyBJbXBvcnQoKS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgV2VhcG9uSW1wb3J0ZXIgfSBmcm9tICcuLi9pbXBvcnRlci9XZWFwb25JbXBvcnRlcic7XG5pbXBvcnQgeyBBcm1vckltcG9ydGVyIH0gZnJvbSAnLi4vaW1wb3J0ZXIvQXJtb3JJbXBvcnRlcic7XG5pbXBvcnQgeyBEYXRhSW1wb3J0ZXIgfSBmcm9tICcuLi9pbXBvcnRlci9EYXRhSW1wb3J0ZXInO1xuaW1wb3J0IHsgQW1tb0ltcG9ydGVyIH0gZnJvbSAnLi4vaW1wb3J0ZXIvQW1tb0ltcG9ydGVyJztcbmltcG9ydCB7IE1vZEltcG9ydGVyIH0gZnJvbSAnLi4vaW1wb3J0ZXIvTW9kSW1wb3J0ZXInO1xuaW1wb3J0IHsgU3BlbGxJbXBvcnRlciB9IGZyb20gJy4uL2ltcG9ydGVyL1NwZWxsSW1wb3J0ZXInO1xuaW1wb3J0IHsgUXVhbGl0eUltcG9ydGVyIH0gZnJvbSAnLi4vaW1wb3J0ZXIvUXVhbGl0eUltcG9ydGVyJztcbmltcG9ydCB7IENvbXBsZXhGb3JtSW1wb3J0ZXIgfSBmcm9tICcuLi9pbXBvcnRlci9Db21wbGV4Rm9ybUltcG9ydGVyJztcbmltcG9ydCB7IFdhcmVJbXBvcnRlciB9IGZyb20gJy4uL2ltcG9ydGVyL1dhcmVJbXBvcnRlcic7XG5pbXBvcnQgeyBDcml0dGVyUG93ZXJJbXBvcnRlciB9IGZyb20gJy4uL2ltcG9ydGVyL0NyaXR0ZXJQb3dlckltcG9ydGVyJztcbmltcG9ydCB7IEltcG9ydEhlbHBlciwgSW1wb3J0TW9kZSB9IGZyb20gJy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IHtEZXZpY2VJbXBvcnRlcn0gZnJvbSBcIi4uL2ltcG9ydGVyL0RldmljZUltcG9ydGVyXCI7XG5pbXBvcnQge0VxdWlwbWVudEltcG9ydGVyfSBmcm9tIFwiLi4vaW1wb3J0ZXIvRXF1aXBtZW50SW1wb3J0ZXJcIjtcblxuXG5leHBvcnQgY2xhc3MgSW1wb3J0IGV4dGVuZHMgQXBwbGljYXRpb24ge1xuICAgIHByaXZhdGUgc3VwcG9ydGVkRGF0YUZpbGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHByaXZhdGUgZGF0YUZpbGVzOiBGaWxlW10gPSBbXTtcbiAgICBwcml2YXRlIGxhbmdEYXRhRmlsZTogRmlsZTtcbiAgICBwcml2YXRlIHBhcnNlZEZpbGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHByaXZhdGUgZGlzYWJsZUltcG9ydEJ1dHRvbjogYm9vbGVhbiA9IHRydWU7XG4gICAgcHJpdmF0ZSBjdXJyZW50UGFyc2VkRmlsZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5jb2xsZWN0RGF0YUltcG9ydGVyRmlsZVN1cHBvcnQoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMuaWQgPSAnY2h1bW1lci1kYXRhLWltcG9ydCc7XG4gICAgICAgIG9wdGlvbnMuY2xhc3NlcyA9IFsnYXBwJywgJ3dpbmRvdy1hcHAnLCAnZmlsZXBpY2tlciddO1xuICAgICAgICBvcHRpb25zLnRpdGxlID0gJ0NodW1tZXIvRGF0YSBJbXBvcnQnO1xuICAgICAgICBvcHRpb25zLnRlbXBsYXRlID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYXBwcy9jb21wZW5kaXVtLWltcG9ydC5odG1sJztcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IDYwMDtcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIGdldERhdGEob3B0aW9ucz86IGFueSk6IGFueSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzdXBlci5nZXREYXRhKG9wdGlvbnMpO1xuXG4gICAgICAgIGRhdGEuZGF0YUZpbGVzID0ge307XG4gICAgICAgIHRoaXMuc3VwcG9ydGVkRGF0YUZpbGVzLmZvckVhY2goKHN1cHBvcnRlZEZpbGVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmcgPSAhdGhpcy5kYXRhRmlsZXMuc29tZSgoZGF0YUZpbGUpID0+IHN1cHBvcnRlZEZpbGVOYW1lID09PSBkYXRhRmlsZS5uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMucGFyc2VkRmlsZXMuc29tZSgocGFyc2VkRmlsZU5hbWUpID0+IHN1cHBvcnRlZEZpbGVOYW1lID09PSBwYXJzZWRGaWxlTmFtZSk7XG4gICAgICAgICAgICBjb25zdCBwYXJzaW5nID0gc3VwcG9ydGVkRmlsZU5hbWUgPT09IHRoaXMuY3VycmVudFBhcnNlZEZpbGU7XG5cbiAgICAgICAgICAgIGRhdGEuZGF0YUZpbGVzW3N1cHBvcnRlZEZpbGVOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBzdXBwb3J0ZWRGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICBtaXNzaW5nLFxuICAgICAgICAgICAgICAgIHBhcnNlZCxcbiAgICAgICAgICAgICAgICBwYXJzaW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgZGF0YS5sYW5nRGF0YUZpbGUgPSB0aGlzLmxhbmdEYXRhRmlsZSA/IHRoaXMubGFuZ0RhdGFGaWxlLm5hbWUgOiAnJztcbiAgICAgICAgZGF0YS5maW5pc2hlZE92ZXJhbGxQYXJzaW5nID0gdGhpcy5zdXBwb3J0ZWREYXRhRmlsZXMubGVuZ3RoID09PSB0aGlzLnBhcnNlZEZpbGVzLmxlbmd0aDtcbiAgICAgICAgZGF0YS5kaXNhYmxlSW1wb3J0QnV0dG9uID0gdGhpcy5kaXNhYmxlSW1wb3J0QnV0dG9uO1xuXG4gICAgICAgIHJldHVybiB7IC4uLmRhdGEgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbGxlY3REYXRhSW1wb3J0ZXJGaWxlU3VwcG9ydCgpIHtcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWREYXRhRmlsZXMgPSBbXTtcbiAgICAgICAgSW1wb3J0LkltcG9ydGVycy5mb3JFYWNoKGltcG9ydGVyID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1cHBvcnRlZERhdGFGaWxlcy5zb21lKHN1cHBvcnRlZCA9PiBpbXBvcnRlci5maWxlcy5pbmNsdWRlcyhzdXBwb3J0ZWQpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkRGF0YUZpbGVzID0gdGhpcy5zdXBwb3J0ZWREYXRhRmlsZXMuY29uY2F0KGltcG9ydGVyLmZpbGVzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbGVhclBhcnNpbmdTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMucGFyc2VkRmlsZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvL09yZGVyIGlzIGltcG9ydGFudCwgZXguIHNvbWUgd2VhcG9ucyBuZWVkIG1vZHMgdG8gZnVsbHkgaW1wb3J0XG4gICAgc3RhdGljIEltcG9ydGVyczogRGF0YUltcG9ydGVyW10gPSBbXG4gICAgICAgIG5ldyBNb2RJbXBvcnRlcigpLFxuICAgICAgICBuZXcgV2VhcG9uSW1wb3J0ZXIoKSxcbiAgICAgICAgbmV3IEFybW9ySW1wb3J0ZXIoKSxcbiAgICAgICAgbmV3IEFtbW9JbXBvcnRlcigpLFxuICAgICAgICBuZXcgU3BlbGxJbXBvcnRlcigpLFxuICAgICAgICBuZXcgQ29tcGxleEZvcm1JbXBvcnRlcigpLFxuICAgICAgICBuZXcgUXVhbGl0eUltcG9ydGVyKCksXG4gICAgICAgIG5ldyBXYXJlSW1wb3J0ZXIoKSxcbiAgICAgICAgbmV3IENyaXR0ZXJQb3dlckltcG9ydGVyKCksXG4gICAgICAgIG5ldyBEZXZpY2VJbXBvcnRlcigpLFxuICAgICAgICBuZXcgRXF1aXBtZW50SW1wb3J0ZXIoKVxuICAgIF07XG5cbiAgICBhc3luYyBwYXJzZVhNTCh4bWxTb3VyY2UsIGZpbGVOYW1lKSB7XG4gICAgICAgIGxldCBqc29uU291cmNlID0gYXdhaXQgRGF0YUltcG9ydGVyLnhtbDJqc29uKHhtbFNvdXJjZSk7XG4gICAgICAgIEltcG9ydEhlbHBlci5TZXRNb2RlKEltcG9ydE1vZGUuWE1MKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGRpIG9mIEltcG9ydC5JbXBvcnRlcnMpIHtcbiAgICAgICAgICAgIGlmIChkaS5DYW5QYXJzZShqc29uU291cmNlKSkge1xuICAgICAgICAgICAgICAgIGRpLkV4dHJhY3RUcmFuc2xhdGlvbihmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgZGkuUGFyc2UoanNvblNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBwYXJzZVhtbGkxOG4oeG1sU291cmNlKSB7XG4gICAgICAgIGlmICgheG1sU291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGpzb25Tb3VyY2UgPSBhd2FpdCBEYXRhSW1wb3J0ZXIueG1sMmpzb24oeG1sU291cmNlKTtcblxuICAgICAgICBpZiAoRGF0YUltcG9ydGVyLkNhblBhcnNlSTE4bihqc29uU291cmNlKSkge1xuICAgICAgICAgICAgRGF0YUltcG9ydGVyLlBhcnNlVHJhbnNsYXRpb24oanNvblNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0RhdGFGaWxlID0gKGZpbGU6IEZpbGUpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VwcG9ydGVkRGF0YUZpbGVzLnNvbWUoKHN1cHBvcnRlZCkgPT4gc3VwcG9ydGVkID09PSBmaWxlLm5hbWUpO1xuICAgIH07XG5cbiAgICBpc0xhbmdEYXRhRmlsZSA9IChmaWxlOiBGaWxlKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSAvW2EtekEtWl17Mn0tW2EtekEtWl17Mn1fZGF0YVxcLnhtbC87XG4gICAgICAgIHJldHVybiBmaWxlLm5hbWUubWF0Y2gocGF0dGVybikgIT09IG51bGw7XG4gICAgfTtcblxuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcbiAgICAgICAgaHRtbC5maW5kKFwiYnV0dG9uW3R5cGU9J3N1Ym1pdCddXCIpLm9uKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdGhpcy5jbGVhclBhcnNpbmdTdGF0dXMoKTtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUltcG9ydEJ1dHRvbiA9IHRydWU7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmxhbmdEYXRhRmlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmxhbmdEYXRhRmlsZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJzZVhtbGkxOG4odGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVzZSAnZm9yIG9mJy1sb29wIHRvIGFsbG93IGF3YWl0IHRvIGFjdHVhbGx5IHBhdXNlLlxuICAgICAgICAgICAgLy8gZG9uJ3QgdXNlIC5mb3JFYWNoIGFzIGl0IHdvbid0IGF3YWl0IGZvciBhc3luYyBjYWxsYmFja3MuXG4gICAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgc3VwcG9ydGVkRGF0YUZpbGVzIHRvIGFkaGVyZSB0byBJbXBvcnRlciBvcmRlclxuICAgICAgICAgICAgZm9yIChjb25zdCBzdXBwb3J0ZWRGaWxlIG9mIHRoaXMuc3VwcG9ydGVkRGF0YUZpbGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB0cnkgc3VwcG9ydGVkIGZpbGVzLlxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFGaWxlID0gdGhpcy5kYXRhRmlsZXMuZmluZCgoZGF0YUZpbGUpID0+IGRhdGFGaWxlLm5hbWUgPT09IHN1cHBvcnRlZEZpbGUpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhRmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZGF0YUZpbGUudGV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHN0YXR1cyBmb3IgY3VycmVudCBwYXJzaW5nIHByb2dyZXNzaW9uLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXJzZWRGaWxlID0gZGF0YUZpbGUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGFyc2VYTUwodGV4dCwgZGF0YUZpbGUubmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgc3RhdHVzIHRvIHNob3cgcGFyc2luZyBwcm9ncmVzc2lvbi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBhcnNlZEZpbGVzLnNvbWUoKHBhcnNlZEZpbGVOYW1lKSA9PiBwYXJzZWRGaWxlTmFtZSA9PT0gZGF0YUZpbGUubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VkRmlsZXMucHVzaChkYXRhRmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRpc2FibGVJbXBvcnRCdXR0b24gPSBmYWxzZTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbC5maW5kKFwiaW5wdXRbdHlwZT0nZmlsZSddLmxhbmdEYXRhRmlsZURyb3BcIikub24oJ2NoYW5nZScsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgQXJyYXkuZnJvbShldmVudC50YXJnZXQuZmlsZXMpLmZvckVhY2goKGZpbGU6IEZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0xhbmdEYXRhRmlsZShmaWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhbmdEYXRhRmlsZSA9IGZpbGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbC5maW5kKFwiaW5wdXRbdHlwZT0nZmlsZSddLmZpbGVkYXRhZHJvcFwiKS5vbignY2hhbmdlJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBBcnJheS5mcm9tKGV2ZW50LnRhcmdldC5maWxlcykuZm9yRWFjaCgoZmlsZTogRmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGF0YUZpbGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgdXNlciB0byBvdmVyd3JpdGUgYW4gYWxyZWFkeSBhZGRlZCBmaWxlLCB0aGV5IGhhdmUgdGhlaXIgcmVhc29ucy5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJZHggPSB0aGlzLmRhdGFGaWxlcy5maW5kSW5kZXgoKGRhdGFGaWxlKSA9PiBkYXRhRmlsZS5uYW1lID09PSBmaWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdJZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFGaWxlcy5wdXNoKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhRmlsZXNbZXhpc3RpbmdJZHhdID0gZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhRmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZUltcG9ydEJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi9pbXBvcnRlci9Db25zdGFudHMnO1xuaW1wb3J0IHsgWE1MU3RyYXRlZ3kgfSBmcm9tICcuL1hNTFN0cmF0ZWd5JztcbmltcG9ydCB7IEpTT05TdHJhdGVneSB9IGZyb20gJy4vSlNPTlN0cmF0ZWd5JztcbmltcG9ydCB7IEltcG9ydFN0cmF0ZWd5IH0gZnJvbSAnLi9JbXBvcnRTdHJhdGVneSc7XG5cbmV4cG9ydCBlbnVtIEltcG9ydE1vZGUge1xuICAgIFhNTCA9IDEsXG4gICAgSlNPTiA9IDIsXG59XG5leHBvcnQgZW51bSBMb29rdXBNb2RlIHtcbiAgICBEaXJlY3RvcnkgPSAwLFxuICAgIEFjdG9yID0gMSxcbn1cblxuLyoqXG4gKiBBbiBpbXBvcnQgaGVscGVyIHRvIHN0YW5kYXJkaXplIGRhdGEgZXh0cmFjdGlvbi5cbiAqIE1vc3RseSBjb25jZWl2ZWQgdG8gcmVkdWNlZCByZXF1aXJlZCByZWZhY3RvcmluZyBpZiBDaHVtbWVyIGNoYW5nZXMgZGF0YSBmaWxlIGxheW91dC5cbiAqIEFsc28gY29udGFpbnMgaGVscGVyIG1ldGhvZHMgdG8gc2FmZWx5IHBhcnNlIHZhbHVlcyB0byBhcHByb3ByaWF0ZSB0eXBlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEltcG9ydEhlbHBlciB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBDSEFSX0tFWSA9ICdfVEVYVCc7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBzX1N0cmF0ZWd5OiBJbXBvcnRTdHJhdGVneSA9IG5ldyBYTUxTdHJhdGVneSgpO1xuXG4gICAgcHVibGljIHN0YXRpYyBTZXRNb2RlKG1vZGU6IEltcG9ydE1vZGUpIHtcbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgICBjYXNlIEltcG9ydE1vZGUuWE1MOlxuICAgICAgICAgICAgICAgIEltcG9ydEhlbHBlci5zX1N0cmF0ZWd5ID0gbmV3IFhNTFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEltcG9ydE1vZGUuSlNPTjpcbiAgICAgICAgICAgICAgICBJbXBvcnRIZWxwZXIuc19TdHJhdGVneSA9IG5ldyBKU09OU3RyYXRlZ3koKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgZm9sZGVyLlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBmb2xkZXIuXG4gICAgICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IGZvbGRlci5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxGb2xkZXI+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBmb2xkZXIgb2JqZWN0IHdoZW4gdGhlIGZvbGRlciBpcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgTmV3Rm9sZGVyKG5hbWU6IHN0cmluZywgcGFyZW50OiBGb2xkZXIgfCBudWxsID0gbnVsbCk6IFByb21pc2U8Rm9sZGVyPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBGb2xkZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIHR5cGU6ICdJdGVtJyxcbiAgICAgICAgICAgIHBhcmVudDogcGFyZW50ID09PSBudWxsID8gbnVsbCA6IHBhcmVudC5pZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGZvbGRlciBhdCBhIHBhdGggaW4gdGhlIGl0ZW1zIGRpcmVjdG9yeS5cbiAgICAgKiBAcGFyYW0gcGF0aCBUaGUgYWJzb2x1dGUgcGF0aCBvZiB0aGUgZm9sZGVyLlxuICAgICAqIEBwYXJhbSBta2RpcnMgSWYgdHJ1ZSwgd2lsbCBtYWtlIGFsbCBmb2xkZXJzIGFsb25nIHRoZSBoaWVyYXJjaHkgaWYgdGhleSBkbyBub3QgZXhpc3QuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHdpdGggdGhlIGZvdW5kIGZvbGRlci5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIEdldEZvbGRlckF0UGF0aChwYXRoOiBzdHJpbmcsIG1rZGlyczogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICAgIGxldCBjdXJyLFxuICAgICAgICAgICAgbGFzdCA9IG51bGw7XG4gICAgICAgIGxldCBuZXh0ID0gcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbmV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLy8gVE9ETzogZm91bmRyeS1wYy10eXBlIGRlZmluZXMgRm9sZGVyIHdpdGhvdXQgcGFyZW50IHByb3BlcnR5LCBidXQgaXQgZG9lcyBleGlzdC5cbiAgICAgICAgICAgIGN1cnIgPSBnYW1lLmZvbGRlcnMuZmluZCgoZm9sZGVyKSA9PiBmb2xkZXIucGFyZW50ID09PSBsYXN0ICYmIGZvbGRlci5uYW1lID09PSBuZXh0W2lkeF0pO1xuICAgICAgICAgICAgaWYgKGN1cnIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1rZGlycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYFVuYWJsZSB0byBmaW5kIGZvbGRlcjogJHtwYXRofWApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1cnIgPSBhd2FpdCBJbXBvcnRIZWxwZXIuTmV3Rm9sZGVyKG5leHRbaWR4XSwgbGFzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0ID0gY3VycjtcbiAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY3Vycik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgdmFsdWUgZnJvbSB0aGUgdGhlIHByb3ZpZGVkIGpzb25EYXRhLCBvcHRpb25hbGx5IHJldHVybmluZyBhIGRlZmF1bHQgdmFsdWUgaWYgaXQgaXMgbm90IGZvdW5kXG4gICAgICogb3IgaXMgdW5hYmxlIHRvIGJlIHBhcnNlZCB0byBhbiBpbnRlZ2VyLlxuICAgICAqIEBwYXJhbSBqc29uRGF0YSBUaGUgZGF0YSB0byBnZXQgdGhlIGtleWVkIHZhbHVlIGluLlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBjaGVjayBmb3IgdGhlIHZhbHVlIHVuZGVyLlxuICAgICAqIEBwYXJhbSBmYWxsYmFjayBBbiBvcHRpb25hbCBkZWZhdWx0IHZhbHVlIHRvIHJldHVybiBpZiB0aGUga2V5IGlzIG5vdCBmb3VuZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIEludFZhbHVlKGpzb25EYXRhOiBvYmplY3QsIGtleTogc3RyaW5nLCBmYWxsYmFjazogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIEltcG9ydEhlbHBlci5zX1N0cmF0ZWd5LmludFZhbHVlKGpzb25EYXRhLCBrZXksIGZhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWx1ZSBmcm9tIHRoZSB0aGUgcHJvdmlkZWQganNvbkRhdGEsIG9wdGlvbmFsbHkgcmV0dXJuaW5nIGEgZGVmYXVsdCB2YWx1ZSBpZiBpdCBpcyBub3QgZm91bmQuXG4gICAgICogQHBhcmFtIGpzb25EYXRhIFRoZSBkYXRhIHRvIGdldCB0aGUga2V5ZWQgdmFsdWUgaW4uXG4gICAgICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGNoZWNrIGZvciB0aGUgdmFsdWUgdW5kZXIuXG4gICAgICogQHBhcmFtIGZhbGxiYWNrIEFuIG9wdGlvbmFsIGRlZmF1bHQgdmFsdWUgdG8gcmV0dXJuIGlmIHRoZSBrZXkgaXMgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nVmFsdWUoanNvbkRhdGE6IG9iamVjdCwga2V5OiBzdHJpbmcgfCBudW1iZXIsIGZhbGxiYWNrOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gSW1wb3J0SGVscGVyLnNfU3RyYXRlZ3kuc3RyaW5nVmFsdWUoanNvbkRhdGEsIGtleSwgZmFsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBvYmplY3QgZnJvbSB0aGUgdGhlIHByb3ZpZGVkIGpzb25EYXRhLCBvcHRpb25hbGx5IHJldHVybmluZyBhIGRlZmF1bHQgdmFsdWUgaWYgaXQgaXMgbm90IGZvdW5kLlxuICAgICAqIEBwYXJhbSBqc29uRGF0YSBUaGUgZGF0YSB0byBnZXQgdGhlIGtleWVkIHZhbHVlIGluLlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBjaGVjayBmb3IgdGhlIHZhbHVlIHVuZGVyLlxuICAgICAqIEBwYXJhbSBmYWxsYmFjayBBbiBvcHRpb25hbCBkZWZhdWx0IHZhbHVlIHRvIHJldHVybiBpZiB0aGUga2V5IGlzIG5vdCBmb3VuZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIE9iamVjdFZhbHVlKGpzb25EYXRhOiBvYmplY3QsIGtleTogc3RyaW5nIHwgbnVtYmVyLCBmYWxsYmFjazogb2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IG9iamVjdCB8IG51bGwge1xuICAgICAgICByZXR1cm4gSW1wb3J0SGVscGVyLnNfU3RyYXRlZ3kub2JqZWN0VmFsdWUoanNvbkRhdGEsIGtleSwgZmFsbGJhY2spO1xuICAgIH1cblxuICAgIC8vVE9ET1xuICAgIHB1YmxpYyBzdGF0aWMgZmluZEl0ZW0obmFtZU9yQ21wOiBzdHJpbmcgfCBJdGVtQ29tcGFyZXIpOiBFbnRpdHkge1xuICAgICAgICBsZXQgcmVzdWx0OiBhbnkgfCBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIG5hbWVPckNtcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGdhbWUuaXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5uYW1lID09IG5hbWVPckNtcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBnYW1lLml0ZW1zLmZpbmQobmFtZU9yQ21wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgVHJhbnNsYXRlQ2F0ZWdvcnkobmFtZSwganNvbkNhdGVnb3J5VHJhbnNsYXRpb25zPykge1xuICAgICAgICBpZiAoanNvbkNhdGVnb3J5VHJhbnNsYXRpb25zICYmIGpzb25DYXRlZ29yeVRyYW5zbGF0aW9ucy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGpzb25DYXRlZ29yeVRyYW5zbGF0aW9uc1tuYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICAvL1RPRE9cbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIE1ha2VDYXRlZ29yeUZvbGRlcnMoXG4gICAgICAgIGpzb25EYXRhOiBvYmplY3QsXG4gICAgICAgIHBhdGg6IHN0cmluZyxcbiAgICAgICAganNvbkNhdGVnb3J5VHJhbnNsYXRpb25zPzogb2JqZWN0IHwgdW5kZWZpbmVkLFxuICAgICk6IFByb21pc2U8eyBbbmFtZTogc3RyaW5nXTogRm9sZGVyIH0+IHtcbiAgICAgICAgbGV0IGZvbGRlcnMgPSB7fTtcbiAgICAgICAgbGV0IGpzb25DYXRlZ29yaWVzID0ganNvbkRhdGFbJ2NhdGVnb3JpZXMnXVsnY2F0ZWdvcnknXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25DYXRlZ29yaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnlOYW1lID0ganNvbkNhdGVnb3JpZXNbaV1bSW1wb3J0SGVscGVyLkNIQVJfS0VZXTtcbiAgICAgICAgICAgIC8vIHVzZSB1bnRyYW5zbGF0ZWQgY2F0ZWdvcnkgbmFtZSBmb3IgZWFzaWVyIG1hcHBpbmcgZHVyaW5nIERhdGFJbXBvcnRlci5QYXJzZSBpbXBsZW1lbnRhdGlvbnMuXG4gICAgICAgICAgICBsZXQgb3JpZ0NhdGVnb3J5TmFtZSA9IGNhdGVnb3J5TmFtZTtcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZSA9IEltcG9ydEhlbHBlci5UcmFuc2xhdGVDYXRlZ29yeShjYXRlZ29yeU5hbWUsIGpzb25DYXRlZ29yeVRyYW5zbGF0aW9ucyk7XG4gICAgICAgICAgICBmb2xkZXJzW29yaWdDYXRlZ29yeU5hbWUudG9Mb3dlckNhc2UoKV0gPSBhd2FpdCBJbXBvcnRIZWxwZXIuR2V0Rm9sZGVyQXRQYXRoKGAke0NvbnN0YW50cy5ST09UX0lNUE9SVF9GT0xERVJfTkFNRX0vJHtwYXRofS8ke2NhdGVnb3J5TmFtZX1gLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb2xkZXJzO1xuICAgIH1cblxuICAgIC8qKiBFeHRyYWN0IHRoZSBjb3JyZWN0IDxjaHVtbWVyIGZpbGU9XCIke2RhdGFGaWxlTmFtZX0+Wy4uLl08L2NodW1tZXI+IGVsZW1lbnQgZnJvbSB4eC14eF9kYXRhLnhtbCB0cmFuc2xhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNvbmkxOG5cbiAgICAgKiBAcGFyYW0gZGF0YUZpbGVOYW1lIEV4cGVjdGVkIHRyYW5zbGF0aW9uIHRhcmdldCBmaWxlIG5hbWVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIEV4dHJhY3REYXRhRmlsZVRyYW5zbGF0aW9uKGpzb25pMThuLCBkYXRhRmlsZU5hbWUpOiBvYmplY3Qge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25pMThuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IGpzb25pMThuW2ldO1xuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLiQuZmlsZSA9PT0gZGF0YUZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKiogRXh0cmFjdCBjYXRlZ29yaWVzIHRyYW5zbGF0aW9ucyB3aXRoaW4geHgteHhfZGF0YS54bWwgPGNodW1tZXIvPiB0cmFuc2xhdGlvbiBzdWJzZXQuXG4gICAgICpcbiAgICAgKiAgTm90ZTogTm90IGFsbCBmaWxlIHRyYW5zbGF0aW9ucyBwcm92aWRlIGNhdGVnb3JpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNvbkNodW1tZXJpMThuIFRyYW5zbGF0aW9ucyBhcyBnaXZlbiBieSBFeHRyYWN0RGF0YUZpbGVUcmFuc2xhdGlvbnNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIEV4dHJhY3RDYXRlZ29yaWVzVHJhbnNsYXRpb24oanNvbkNodW1tZXJpMThuKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5VHJhbnNsYXRpb25zID0ge307XG4gICAgICAgIGlmIChqc29uQ2h1bW1lcmkxOG4gJiYganNvbkNodW1tZXJpMThuLmhhc093blByb3BlcnR5KCdjYXRlZ29yaWVzJykpIHtcbiAgICAgICAgICAgIGpzb25DaHVtbWVyaTE4bi5jYXRlZ29yaWVzLmNhdGVnb3J5LmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGNhdGVnb3J5W0ltcG9ydEhlbHBlci5DSEFSX0tFWV07XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gY2F0ZWdvcnkuJC50cmFuc2xhdGU7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlUcmFuc2xhdGlvbnNbbmFtZV0gPSB0cmFuc2xhdGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2F0ZWdvcnlUcmFuc2xhdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqIEV4dHJhY3QgaXRlbSB0eXBlIHRyYW5zbGF0aW9ucyB3aXRoaW4geHgteHhfZGF0YS54bWwgPGNodW1tZXIvPiB0cmFuc2xhdGlvbiBzdWJzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNvbkl0ZW1zaTE4biBUcmFuc2xhdGlvbnMgYXMgZ2l2ZW4gYnkgRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb25zXG4gICAgICogQHBhcmFtIHR5cGVLZXkgVGhlIGl0ZW0gdHlwZSB0byB0cmFuc2xhdGUuIFRlbmRzIHRvIGJlIHBsdXJhbC5cbiAgICAgKiBAcGFyYW0gbGlzdEtleSBUaGUgaXRlbSB0byB0cmFuc2xhdGUuIFRlbmRzIHRvIGJlIHNpbmd1bGFyLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgRXh0cmFjdEl0ZW1UcmFuc2xhdGlvbihqc29uSXRlbXNpMThuLCB0eXBlS2V5LCBsaXN0S2V5KSB7XG4gICAgICAgIGNvbnN0IGl0ZW1UcmFuc2xhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoanNvbkl0ZW1zaTE4biAmJiBqc29uSXRlbXNpMThuW3R5cGVLZXldICYmIGpzb25JdGVtc2kxOG5bdHlwZUtleV1bbGlzdEtleV0gJiYganNvbkl0ZW1zaTE4blt0eXBlS2V5XVtsaXN0S2V5XS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBqc29uSXRlbXNpMThuW3R5cGVLZXldW2xpc3RLZXldLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gaXRlbS5uYW1lW0ltcG9ydEhlbHBlci5DSEFSX0tFWV07XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gaXRlbS50cmFuc2xhdGVbSW1wb3J0SGVscGVyLkNIQVJfS0VZXTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbHRwYWdlID0gaXRlbS5hbHRwYWdlW0ltcG9ydEhlbHBlci5DSEFSX0tFWV07XG4gICAgICAgICAgICAgICAgaXRlbVRyYW5zbGF0aW9uW25hbWVdID0geyB0cmFuc2xhdGUsIGFsdHBhZ2UgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1UcmFuc2xhdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgTWFwTmFtZVRvVHJhbnNsYXRpb25LZXkodHJhbnNsYXRpb25NYXAsIG5hbWUsIGtleSwgZmFsbGJhY2tWYWx1ZSA9ICcnKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uTWFwICYmIHRyYW5zbGF0aW9uTWFwLmhhc093blByb3BlcnR5KG5hbWUpICYmIHRyYW5zbGF0aW9uTWFwW25hbWVdLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbk1hcFtuYW1lXVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrVmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBNYXBOYW1lVG9UcmFuc2xhdGlvbih0cmFuc2xhdGlvbk1hcCwgbmFtZSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBJbXBvcnRIZWxwZXIuTWFwTmFtZVRvVHJhbnNsYXRpb25LZXkodHJhbnNsYXRpb25NYXAsIG5hbWUsICd0cmFuc2xhdGUnLCBuYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIE1hcE5hbWVUb1BhZ2VTb3VyY2UodHJhbnNsYXRpb25NYXAsIG5hbWUsIGZhbGxiYWNrPSc/Jyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBJbXBvcnRIZWxwZXIuTWFwTmFtZVRvVHJhbnNsYXRpb25LZXkodHJhbnNsYXRpb25NYXAsIG5hbWUsICdhbHRwYWdlJywgZmFsbGJhY2spO1xuICAgIH1cbn1cbmV4cG9ydCB0eXBlIEl0ZW1Db21wYXJlciA9IChpdGVtOiBJdGVtKSA9PiBib29sZWFuO1xuIiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIEltcG9ydFN0cmF0ZWd5IHtcbiAgICBwdWJsaWMgYWJzdHJhY3QgaW50VmFsdWUoanNvbkRhdGE6IG9iamVjdCwga2V5OiBzdHJpbmcsIGZhbGxiYWNrOiBudW1iZXIgfCB1bmRlZmluZWQpOiBudW1iZXI7XG4gICAgcHVibGljIGFic3RyYWN0IHN0cmluZ1ZhbHVlKGpzb25EYXRhOiBvYmplY3QsIGtleTogc3RyaW5nIHwgbnVtYmVyLCBmYWxsYmFjazogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nO1xuICAgIHB1YmxpYyBhYnN0cmFjdCBvYmplY3RWYWx1ZShqc29uRGF0YTogb2JqZWN0LCBrZXk6IHN0cmluZyB8IG51bWJlciwgZmFsbGJhY2s6IG9iamVjdCB8IG51bGwgfCB1bmRlZmluZWQpOiBvYmplY3QgfCBudWxsO1xufVxuZXhwb3J0IHR5cGUgSXRlbUNvbXBhcmVyID0gKGl0ZW06IEl0ZW0pID0+IGJvb2xlYW47XG4iLCJpbXBvcnQgeyBJbXBvcnRTdHJhdGVneSB9IGZyb20gJy4vSW1wb3J0U3RyYXRlZ3knO1xuXG5leHBvcnQgY2xhc3MgSlNPTlN0cmF0ZWd5IGV4dGVuZHMgSW1wb3J0U3RyYXRlZ3kge1xuICAgIHB1YmxpYyBpbnRWYWx1ZShqc29uRGF0YTogb2JqZWN0LCBrZXk6IHN0cmluZywgZmFsbGJhY2s6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IG51bWJlciB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdHJpbmdWYWx1ZShqc29uRGF0YTogb2JqZWN0LCBrZXk6IHN0cmluZyB8IG51bWJlciwgZmFsbGJhY2s6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvYmplY3RWYWx1ZShqc29uRGF0YTogb2JqZWN0LCBrZXk6IHN0cmluZyB8IG51bWJlciwgZmFsbGJhY2s6IG9iamVjdCB8IG51bGwgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBvYmplY3QgfCBudWxsIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkJyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IHsgSW1wb3J0U3RyYXRlZ3kgfSBmcm9tICcuL0ltcG9ydFN0cmF0ZWd5JztcblxuZXhwb3J0IGNsYXNzIFhNTFN0cmF0ZWd5IGV4dGVuZHMgSW1wb3J0U3RyYXRlZ3kge1xuICAgIHB1YmxpYyBpbnRWYWx1ZShqc29uRGF0YTogb2JqZWN0LCBrZXk6IHN0cmluZywgZmFsbGJhY2s6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IG51bWJlciB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoanNvbkRhdGFba2V5XVtJbXBvcnRIZWxwZXIuQ0hBUl9LRVldKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RyaW5nVmFsdWUoanNvbkRhdGE6IG9iamVjdCwga2V5OiBzdHJpbmcgfCBudW1iZXIsIGZhbGxiYWNrOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBzdHJpbmcge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGpzb25EYXRhW2tleV1bSW1wb3J0SGVscGVyLkNIQVJfS0VZXTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb2JqZWN0VmFsdWUoanNvbkRhdGE6IG9iamVjdCwga2V5OiBzdHJpbmcgfCBudW1iZXIsIGZhbGxiYWNrOiBvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogb2JqZWN0IHwgbnVsbCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4ganNvbkRhdGFba2V5XTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhSW1wb3J0ZXIgfSBmcm9tICcuL0RhdGFJbXBvcnRlcic7XG5pbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCBBbW1vID0gU2hhZG93cnVuLkFtbW87XG5pbXBvcnQgV2VhcG9uRGF0YSA9IFNoYWRvd3J1bi5XZWFwb25EYXRhO1xuXG5leHBvcnQgY2xhc3MgQW1tb0ltcG9ydGVyIGV4dGVuZHMgRGF0YUltcG9ydGVyIHtcbiAgICBwdWJsaWMgZmlsZXMgPSBbJ2dlYXIueG1sJ107XG5cbiAgICBDYW5QYXJzZShqc29uT2JqZWN0OiBvYmplY3QpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGpzb25PYmplY3QuaGFzT3duUHJvcGVydHkoJ2dlYXJzJykgJiYganNvbk9iamVjdFsnZ2VhcnMnXS5oYXNPd25Qcm9wZXJ0eSgnZ2VhcicpO1xuICAgIH1cblxuICAgIEdldERlZmF1bHREYXRhKCk6IEFtbW8ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICBfaWQ6ICcnLFxuICAgICAgICAgICAgZm9sZGVyOiAnJyxcbiAgICAgICAgICAgIGltZzogJ2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi5zdmcnLFxuICAgICAgICAgICAgZmxhZ3M6IHt9LFxuICAgICAgICAgICAgdHlwZTogJ2FtbW8nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhdDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZWNobm9sb2d5OiB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogMSxcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmlsaXR5OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvc3Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIGVxdWlwcGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25jZWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25fbW9uaXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdpcmVsZXNzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICcnLFxuICAgICAgICAgICAgICAgIGFwOiAwLFxuICAgICAgICAgICAgICAgIGRhbWFnZTogMCxcbiAgICAgICAgICAgICAgICBkYW1hZ2VUeXBlOiAncGh5c2ljYWwnLFxuICAgICAgICAgICAgICAgIGJsYXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogMCxcbiAgICAgICAgICAgICAgICAgICAgZHJvcG9mZjogMCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBFeHRyYWN0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIGlmICghRGF0YUltcG9ydGVyLmpzb25pMThuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQganNvbkdlYXJpMThuID0gSW1wb3J0SGVscGVyLkV4dHJhY3REYXRhRmlsZVRyYW5zbGF0aW9uKERhdGFJbXBvcnRlci5qc29uaTE4biwgdGhpcy5maWxlc1swXSk7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlUcmFuc2xhdGlvbnMgPSBJbXBvcnRIZWxwZXIuRXh0cmFjdENhdGVnb3JpZXNUcmFuc2xhdGlvbihqc29uR2VhcmkxOG4pO1xuICAgICAgICB0aGlzLmVudHJ5VHJhbnNsYXRpb25zID0gSW1wb3J0SGVscGVyLkV4dHJhY3RJdGVtVHJhbnNsYXRpb24oanNvbkdlYXJpMThuLCAnZ2VhcnMnLCAnZ2VhcicpO1xuICAgIH1cblxuICAgIGFzeW5jIFBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IFByb21pc2U8RW50aXR5PiB7XG4gICAgICAgIGxldCBhbW1vRGF0YXM6IEFtbW9bXSA9IFtdO1xuICAgICAgICBsZXQganNvbkFtbW9zID0ganNvbk9iamVjdFsnZ2VhcnMnXVsnZ2VhciddO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25BbW1vcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGpzb25EYXRhID0ganNvbkFtbW9zW2ldO1xuICAgICAgICAgICAgaWYgKERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEVudHJ5KGpzb25EYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnY2F0ZWdvcnknLCAnJykgIT09ICdBbW11bml0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuR2V0RGVmYXVsdERhdGEoKTtcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ25hbWUnKTtcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbih0aGlzLmVudHJ5VHJhbnNsYXRpb25zLCBkYXRhLm5hbWUpO1xuXG4gICAgICAgICAgICBkYXRhLmRhdGEuZGVzY3JpcHRpb24uc291cmNlID0gYCR7SW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnc291cmNlJyl9ICR7SW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAncGFnZScpfWA7XG4gICAgICAgICAgICBkYXRhLmRhdGEudGVjaG5vbG9neS5yYXRpbmcgPSAyO1xuICAgICAgICAgICAgZGF0YS5kYXRhLnRlY2hub2xvZ3kuYXZhaWxhYmlsaXR5ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnYXZhaWwnKTtcbiAgICAgICAgICAgIGRhdGEuZGF0YS50ZWNobm9sb2d5LmNvc3QgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoanNvbkRhdGEsICdjb3N0JywgMCk7XG5cbiAgICAgICAgICAgIGxldCBib251c0RhdGEgPSBJbXBvcnRIZWxwZXIuT2JqZWN0VmFsdWUoanNvbkRhdGEsICd3ZWFwb25ib251cycsIG51bGwpO1xuICAgICAgICAgICAgaWYgKGJvbnVzRGF0YSAhPT0gdW5kZWZpbmVkICYmIGJvbnVzRGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5hcCA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShib251c0RhdGEsICdhcCcsIDApO1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5kYW1hZ2UgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoYm9udXNEYXRhLCAnZGFtYWdlJywgMCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGFtYWdlVHlwZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShib251c0RhdGEsICdkYW1hZ2V0eXBlJywgJycpO1xuICAgICAgICAgICAgICAgIGlmIChkYW1hZ2VUeXBlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhbWFnZVR5cGUuaW5jbHVkZXMoJ1AnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRhLmRhbWFnZVR5cGUgPSAncGh5c2ljYWwnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhbWFnZVR5cGUuaW5jbHVkZXMoJ1MnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRhLmRhbWFnZVR5cGUgPSAnc3R1bic7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGFtYWdlVHlwZS5pbmNsdWRlcygnTScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdGEuZGFtYWdlVHlwZSA9ICdtYXRyaXgnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc2hvdWxkTG9va0ZvcldlYXBvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBuYW1lTG93ZXIgPSBkYXRhLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIFsnZ3JlbmFkZScsICdyb2NrZXQnLCAnbWlzc2lsZSddLmZvckVhY2goKGNvbXBhcmUpID0+IHtcbiAgICAgICAgICAgICAgICBzaG91bGRMb29rRm9yV2VhcG9ucyA9IHNob3VsZExvb2tGb3JXZWFwb25zIHx8IG5hbWVMb3dlci5pbmNsdWRlcyhjb21wYXJlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gTk9URTogU2hvdWxkIGVpdGhlciB3ZWFwb25zIG9yIGdlYXIgbm90IGhhdmUgYmVlbiBpbXBvcnRlZCB3aXRoIHRyYW5zbGF0aW9uLCB0aGlzIHdpbGwgZmFpbC5cbiAgICAgICAgICAgIGlmIChzaG91bGRMb29rRm9yV2VhcG9ucykge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZFdlYXBvbiA9IEltcG9ydEhlbHBlci5maW5kSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgZm9yIHdlYXBvbiB0eXBlIGR1ZSB0byBwb3NzaWJsZSBkb3VibGUgbmFtaW5nIGdpdmluZyBvdGhlciBpdGVtIHR5cGVzLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50eXBlID09PSAnd2VhcG9uJyAmJiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZUxvd2VyO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kV2VhcG9uICE9PSBudWxsICYmIFwiYWN0aW9uXCIgaW4gZm91bmRXZWFwb24uZGF0YS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvdW5kV2VhcG9uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWFwb25EYXRhID0gZm91bmRXZWFwb24uZGF0YS5kYXRhIGFzIFdlYXBvbkRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5kYW1hZ2UgPSB3ZWFwb25EYXRhLmFjdGlvbi5kYW1hZ2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5hcCA9d2VhcG9uRGF0YS5hY3Rpb24uZGFtYWdlLmFwLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYW1tbyBkb2Vzbid0IGhhdmUgY29uY2VhbCByYXRpbmcgZnJvbSBsb29raW5nIGF0IHRoZSBkYXRhXG4gICAgICAgICAgICAvLyBkYXRhLmRhdGEudGVjaG5vbG9neS5jb25jZWFsLmJhc2UgPSBJbXBvcnRIZWxwZXIuaW50VmFsdWUoanNvbkRhdGEsIFwiY29uY2VhbFwiKTtcbiAgICAgICAgICAgIGRhdGEuZGF0YS50ZWNobm9sb2d5LmNvbmNlYWwuYmFzZSA9IDA7XG5cbiAgICAgICAgICAgIGFtbW9EYXRhcy5wdXNoKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW1vRGF0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmb2xkZXJOYW1lID0gJ01pc2MnO1xuICAgICAgICAgICAgbGV0IGFtbW8gPSBhbW1vRGF0YXNbaV07XG5cbiAgICAgICAgICAgIGxldCBzcGxpdE5hbWUgPSBhbW1vLm5hbWUuc3BsaXQoJzonKTtcbiAgICAgICAgICAgIGlmIChzcGxpdE5hbWUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGZvbGRlck5hbWUgPSBzcGxpdE5hbWVbMF0udHJpbSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZm9sZGVyID0gYXdhaXQgSW1wb3J0SGVscGVyLkdldEZvbGRlckF0UGF0aChgJHtDb25zdGFudHMuUk9PVF9JTVBPUlRfRk9MREVSX05BTUV9L0FtbW8vJHtmb2xkZXJOYW1lfWAsIHRydWUpO1xuXG4gICAgICAgICAgICBhbW1vLmZvbGRlciA9IGZvbGRlci5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhd2FpdCBJdGVtLmNyZWF0ZShhbW1vRGF0YXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERhdGFJbXBvcnRlciB9IGZyb20gJy4vRGF0YUltcG9ydGVyJztcbmltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IEFybW9yID0gU2hhZG93cnVuLkFybW9yO1xuaW1wb3J0IHsgQXJtb3JQYXJzZXJCYXNlIH0gZnJvbSAnLi4vcGFyc2VyL2FybW9yL0FybW9yUGFyc2VyQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBBcm1vckltcG9ydGVyIGV4dGVuZHMgRGF0YUltcG9ydGVyIHtcbiAgICBwdWJsaWMgYXJtb3JUcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgY2F0ZWdvcnlUcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgZmlsZXMgPSBbJ2FybW9yLnhtbCddO1xuXG4gICAgQ2FuUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdhcm1vcnMnKSAmJiBqc29uT2JqZWN0Wydhcm1vcnMnXS5oYXNPd25Qcm9wZXJ0eSgnYXJtb3InKTtcbiAgICB9XG5cbiAgICBHZXREZWZhdWx0RGF0YSgpOiBBcm1vciB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnVW5uYW1lZCBBcm1vcicsXG4gICAgICAgICAgICBfaWQ6ICcnLFxuICAgICAgICAgICAgZm9sZGVyOiAnJyxcbiAgICAgICAgICAgIGltZzogJ2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi5zdmcnLFxuICAgICAgICAgICAgZmxhZ3M6IHt9LFxuICAgICAgICAgICAgdHlwZTogJ2FybW9yJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGVjaG5vbG9neToge1xuICAgICAgICAgICAgICAgICAgICByYXRpbmc6IDEsXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJpbGl0eTogJycsXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICBjb3N0OiAwLFxuICAgICAgICAgICAgICAgICAgICBlcXVpcHBlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uY2VhbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uX21vbml0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3aXJlbGVzczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYXJtb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1vZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGFjaWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGZpcmU6IDAsXG4gICAgICAgICAgICAgICAgICAgIGVsZWN0cmljaXR5OiAwLFxuICAgICAgICAgICAgICAgICAgICByYWRpYXRpb246IDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgRXh0cmFjdFRyYW5zbGF0aW9uKCkge1xuICAgICAgICBpZiAoIURhdGFJbXBvcnRlci5qc29uaTE4bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGpzb25Bcm1vcmkxOG4gPSBJbXBvcnRIZWxwZXIuRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb24oRGF0YUltcG9ydGVyLmpzb25pMThuLCB0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0Q2F0ZWdvcmllc1RyYW5zbGF0aW9uKGpzb25Bcm1vcmkxOG4pO1xuICAgICAgICB0aGlzLmFybW9yVHJhbnNsYXRpb25zID0gSW1wb3J0SGVscGVyLkV4dHJhY3RJdGVtVHJhbnNsYXRpb24oanNvbkFybW9yaTE4biwgJ2FybW9ycycsICdhcm1vcicpO1xuICAgIH1cblxuICAgIGFzeW5jIFBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IFByb21pc2U8RW50aXR5PiB7XG4gICAgICAgIGNvbnN0IGZvbGRlcnMgPSBhd2FpdCBJbXBvcnRIZWxwZXIuTWFrZUNhdGVnb3J5Rm9sZGVycyhqc29uT2JqZWN0LCAnQXJtb3InLCB0aGlzLmNhdGVnb3J5VHJhbnNsYXRpb25zKTtcblxuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgQXJtb3JQYXJzZXJCYXNlKCk7XG5cbiAgICAgICAgbGV0IGRhdGFzOiBBcm1vcltdID0gW107XG4gICAgICAgIGxldCBqc29uRGF0YXMgPSBqc29uT2JqZWN0Wydhcm1vcnMnXVsnYXJtb3InXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uRGF0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBqc29uRGF0YSA9IGpzb25EYXRhc1tpXTtcbiAgICAgICAgICAgIGlmIChEYXRhSW1wb3J0ZXIudW5zdXBwb3J0ZWRFbnRyeShqc29uRGF0YSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRhdGEgPSBwYXJzZXIuUGFyc2UoanNvbkRhdGEsIHRoaXMuR2V0RGVmYXVsdERhdGEoKSk7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ2NhdGVnb3J5JykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbih0aGlzLmFybW9yVHJhbnNsYXRpb25zLCBkYXRhLm5hbWUpO1xuICAgICAgICAgICAgZGF0YS5mb2xkZXIgPSBmb2xkZXJzW2NhdGVnb3J5XS5pZDtcblxuICAgICAgICAgICAgZGF0YXMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhd2FpdCBJdGVtLmNyZWF0ZShkYXRhcyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUltcG9ydGVyIH0gZnJvbSAnLi9EYXRhSW1wb3J0ZXInO1xuaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb21wbGV4Rm9ybVBhcnNlckJhc2UgfSBmcm9tICcuLi9wYXJzZXIvY29tcGxleC1mb3JtL0NvbXBsZXhGb3JtUGFyc2VyQmFzZSc7XG5pbXBvcnQgQ29tcGxleEZvcm0gPSBTaGFkb3dydW4uQ29tcGxleEZvcm07XG5pbXBvcnQge0RlZmF1bHRWYWx1ZXN9IGZyb20gXCIuLi8uLi9kYXRhVGVtcGxhdGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21wbGV4Rm9ybUltcG9ydGVyIGV4dGVuZHMgRGF0YUltcG9ydGVyIHtcbiAgICBwdWJsaWMgY2F0ZWdvcnlUcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgbmFtZVRyYW5zbGF0aW9uczogYW55O1xuICAgIHB1YmxpYyBmaWxlcyA9IFsnY29tcGxleGZvcm1zLnhtbCddO1xuXG4gICAgQ2FuUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdjb21wbGV4Zm9ybXMnKSAmJiBqc29uT2JqZWN0Wydjb21wbGV4Zm9ybXMnXS5oYXNPd25Qcm9wZXJ0eSgnY29tcGxleGZvcm0nKTtcbiAgICB9XG5cbiAgICBHZXREZWZhdWx0RGF0YSgpOiBDb21wbGV4Rm9ybSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnVW5uYW1lZCBGb3JtJyxcbiAgICAgICAgICAgIF9pZDogJycsXG4gICAgICAgICAgICBmb2xkZXI6ICcnLFxuICAgICAgICAgICAgaW1nOiAnaWNvbnMvc3ZnL215c3RlcnktbWFuLnN2ZycsXG4gICAgICAgICAgICBmbGFnczoge30sXG4gICAgICAgICAgICB0eXBlOiAnY29tcGxleF9mb3JtJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb21wbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICdyZXNvbmFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgc2tpbGw6ICdjb21waWxpbmcnLFxuICAgICAgICAgICAgICAgICAgICBzcGVjOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICBtb2RfZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICBkYW1hZ2U6IERlZmF1bHRWYWx1ZXMuZGFtYWdlRGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb3Bwb3NlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RlZmVuc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGw6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhbHRfbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICBkaWNlX3Bvb2xfbW9kOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRhcmdldDogJycsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246ICcnLFxuICAgICAgICAgICAgICAgIGZhZGU6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIEV4dHJhY3RUcmFuc2xhdGlvbigpIHtcbiAgICAgICAgaWYgKCFEYXRhSW1wb3J0ZXIuanNvbmkxOG4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXBsZXhmb3JtcyBkb24ndCBwcm92aWRlIGEgY2F0ZWdvcnkgdHJhbnNsYXRpb24uXG4gICAgICAgIGxldCBqc29uSXRlbWkxOG4gPSBJbXBvcnRIZWxwZXIuRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb24oRGF0YUltcG9ydGVyLmpzb25pMThuLCB0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgdGhpcy5uYW1lVHJhbnNsYXRpb25zID0gSW1wb3J0SGVscGVyLkV4dHJhY3RJdGVtVHJhbnNsYXRpb24oanNvbkl0ZW1pMThuLCAnY29tcGxleGZvcm1zJywgJ2NvbXBsZXhmb3JtJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IENvbXBsZXhGb3JtUGFyc2VyQmFzZSgpO1xuICAgICAgICBjb25zdCBmb2xkZXIgPSBhd2FpdCBJbXBvcnRIZWxwZXIuR2V0Rm9sZGVyQXRQYXRoKGAke0NvbnN0YW50cy5ST09UX0lNUE9SVF9GT0xERVJfTkFNRX0vQ29tcGxleCBGb3Jtc2AsIHRydWUpO1xuXG4gICAgICAgIGxldCBkYXRhczogQ29tcGxleEZvcm1bXSA9IFtdO1xuICAgICAgICBsZXQganNvbkRhdGFzID0ganNvbk9iamVjdFsnY29tcGxleGZvcm1zJ11bJ2NvbXBsZXhmb3JtJ107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwganNvbkRhdGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQganNvbkRhdGEgPSBqc29uRGF0YXNbaV07XG4gICAgICAgICAgICBpZiAoRGF0YUltcG9ydGVyLnVuc3VwcG9ydGVkRW50cnkoanNvbkRhdGEpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkYXRhID0gcGFyc2VyLlBhcnNlKGpzb25EYXRhLCB0aGlzLkdldERlZmF1bHREYXRhKCksIHRoaXMubmFtZVRyYW5zbGF0aW9ucyk7XG4gICAgICAgICAgICBkYXRhLmZvbGRlciA9IGZvbGRlci5pZDtcblxuICAgICAgICAgICAgLy8gVE9ETzogRm9sbG93IENvbXBsZXhGb3JtUGFyc2VyQmFzZSBhcHByb2FjaC5cbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbih0aGlzLm5hbWVUcmFuc2xhdGlvbnMsIGRhdGEubmFtZSk7XG5cbiAgICAgICAgICAgIGRhdGFzLnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXdhaXQgSXRlbS5jcmVhdGUoZGF0YXMpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDb25zdGFudHMge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUFQX0NBVEVHT1JZX1RPX1NLSUxMID0ge1xuICAgICAgICAnQXNzYXVsdCBDYW5ub25zJzogJ2hlYXZ5X3dlYXBvbnMnLFxuICAgICAgICAnQXNzYXVsdCBSaWZsZXMnOiAnYXV0b21hdGljcycsXG4gICAgICAgICdCbGFkZXMnOiAnYmxhZGVzJyxcbiAgICAgICAgJ0Jvd3MnOiAnYXJjaGVyeScsXG4gICAgICAgICdDYXJiaW5lcyc6ICdhdXRvbWF0aWNzJyxcbiAgICAgICAgJ0NsdWJzJzogJ2NsdWJzJyxcbiAgICAgICAgJ0Nyb3NzYm93cyc6ICdhcmNoZXJ5JyxcbiAgICAgICAgJ0V4b3RpYyBNZWxlZSBXZWFwb25zJzogJ2V4b3RpY19tZWxlZScsXG4gICAgICAgICdFeG90aWMgUmFuZ2VkIFdlYXBvbnMnOiAnZXhvdGljX3JhbmdlZCcsXG4gICAgICAgICdGbGFtZXRocm93ZXJzJzogJ2V4b3RpY19yYW5nZWQnLFxuICAgICAgICAnR3JlbmFkZSBMYXVuY2hlcnMnOiAnaGVhdnlfd2VhcG9ucycsXG4gICAgICAgICdIZWF2eSBNYWNoaW5lIEd1bnMnOiAnaGVhdnlfd2VhcG9ucycsXG4gICAgICAgICdIZWF2eSBQaXN0b2xzJzogJ3Bpc3RvbHMnLFxuICAgICAgICAnSG9sZG91dHMnOiAncGlzdG9scycsXG4gICAgICAgICdMYXNlciBXZWFwb25zJzogJ2V4b3RpY19yYW5nZWQnLFxuICAgICAgICAnTGlnaHQgTWFjaGluZSBHdW5zJzogJ2hlYXZ5X3dlYXBvbnMnLFxuICAgICAgICAnTGlnaHQgUGlzdG9scyc6ICdwaXN0b2xzJyxcbiAgICAgICAgJ01hY2hpbmUgUGlzdG9scyc6ICdhdXRvbWF0aWNzJyxcbiAgICAgICAgJ01lZGl1bSBNYWNoaW5lIEd1bnMnOiAnYXV0b21hdGljcycsXG4gICAgICAgICdNaXNzaWxlIExhdW5jaGVycyc6ICdoZWF2eV93ZWFwb25zJyxcbiAgICAgICAgJ1Nob3RndW5zJzogJ2xvbmdhcm1zJyxcbiAgICAgICAgJ1NuaXBlciBSaWZsZXMnOiAnbG9uZ2FybXMnLFxuICAgICAgICAnU3BvcnRpbmcgUmlmbGVzJzogJ2xvbmdhcm1zJyxcbiAgICAgICAgJ1N1Ym1hY2hpbmUgR3Vucyc6ICdhdXRvbWF0aWNzJyxcbiAgICAgICAgJ1Rhc2Vycyc6ICdwaXN0b2xzJyxcbiAgICAgICAgJ1VuYXJtZWQnOiAndW5hcm1lZF9jb21iYXQnLFxuICAgIH07XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBXRUFQT05fUkFOR0VTID0ge1xuICAgICAgICAnVGFzZXJzJzoge1xuICAgICAgICAgICAgc2hvcnQ6IDUsXG4gICAgICAgICAgICBtZWRpdW06IDEwLFxuICAgICAgICAgICAgbG9uZzogMTUsXG4gICAgICAgICAgICBleHRyZW1lOiAyMCxcbiAgICAgICAgfSxcbiAgICAgICAgJ0hvbGRvdXRzJzoge1xuICAgICAgICAgICAgc2hvcnQ6IDUsXG4gICAgICAgICAgICBtZWRpdW06IDE1LFxuICAgICAgICAgICAgbG9uZzogMzAsXG4gICAgICAgICAgICBleHRyZW1lOiA1MCxcbiAgICAgICAgfSxcbiAgICAgICAgJ0xpZ2h0IFBpc3RvbHMnOiB7XG4gICAgICAgICAgICBzaG9ydDogNSxcbiAgICAgICAgICAgIG1lZGl1bTogMTUsXG4gICAgICAgICAgICBsb25nOiAzMCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDUwLFxuICAgICAgICB9LFxuICAgICAgICAnSGVhdnkgUGlzdG9scyc6IHtcbiAgICAgICAgICAgIHNob3J0OiA1LFxuICAgICAgICAgICAgbWVkaXVtOiAyMCxcbiAgICAgICAgICAgIGxvbmc6IDQwLFxuICAgICAgICAgICAgZXh0cmVtZTogNjAsXG4gICAgICAgIH0sXG4gICAgICAgICdNYWNoaW5lIFBpc3RvbHMnOiB7XG4gICAgICAgICAgICBzaG9ydDogNSxcbiAgICAgICAgICAgIG1lZGl1bTogMTUsXG4gICAgICAgICAgICBsb25nOiAzMCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDUwLFxuICAgICAgICB9LFxuICAgICAgICAnU3VibWFjaGluZSBHdW5zJzoge1xuICAgICAgICAgICAgc2hvcnQ6IDEwLFxuICAgICAgICAgICAgbWVkaXVtOiA0MCxcbiAgICAgICAgICAgIGxvbmc6IDgwLFxuICAgICAgICAgICAgZXh0cmVtZTogMTUwLFxuICAgICAgICB9LFxuICAgICAgICAnQXNzYXVsdCBSaWZsZXMnOiB7XG4gICAgICAgICAgICBzaG9ydDogMjUsXG4gICAgICAgICAgICBtZWRpdW06IDE1MCxcbiAgICAgICAgICAgIGxvbmc6IDM1MCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDU1MCxcbiAgICAgICAgfSxcbiAgICAgICAgJ1Nob3RndW5zJzoge1xuICAgICAgICAgICAgc2hvcnQ6IDEwLFxuICAgICAgICAgICAgbWVkaXVtOiA0MCxcbiAgICAgICAgICAgIGxvbmc6IDgwLFxuICAgICAgICAgICAgZXh0cmVtZTogMTUwLFxuICAgICAgICB9LFxuICAgICAgICAnU2hvdGd1bnMgKHNsdWcpJzoge1xuICAgICAgICAgICAgc2hvcnQ6IDEwLFxuICAgICAgICAgICAgbWVkaXVtOiA0MCxcbiAgICAgICAgICAgIGxvbmc6IDgwLFxuICAgICAgICAgICAgZXh0cmVtZTogMTUwLFxuICAgICAgICB9LFxuICAgICAgICAnU2hvdGd1bnMgKGZsZWNoZXR0ZSknOiB7XG4gICAgICAgICAgICBzaG9ydDogMTUsXG4gICAgICAgICAgICBtZWRpdW06IDMwLFxuICAgICAgICAgICAgbG9uZzogNDUsXG4gICAgICAgICAgICBleHRyZW1lOiA2MCxcbiAgICAgICAgfSxcbiAgICAgICAgJ1NuaXBlciBSaWZsZXMnOiB7XG4gICAgICAgICAgICBzaG9ydDogNTAsXG4gICAgICAgICAgICBtZWRpdW06IDM1MCxcbiAgICAgICAgICAgIGxvbmc6IDgwMCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDE1MDAsXG4gICAgICAgIH0sXG4gICAgICAgICdTcG9ydGluZyBSaWZsZXMnOiB7XG4gICAgICAgICAgICBzaG9ydDogNTAsXG4gICAgICAgICAgICBtZWRpdW06IDI1MCxcbiAgICAgICAgICAgIGxvbmc6IDUwMCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDc1MCxcbiAgICAgICAgfSxcbiAgICAgICAgJ0xpZ2h0IE1hY2hpbmUgR3Vucyc6IHtcbiAgICAgICAgICAgIHNob3J0OiAyNSxcbiAgICAgICAgICAgIG1lZGl1bTogMjAwLFxuICAgICAgICAgICAgbG9uZzogNDAwLFxuICAgICAgICAgICAgZXh0cmVtZTogODAwLFxuICAgICAgICB9LFxuICAgICAgICAnTWVkaXVtL0hlYXZ5IE1hY2hpbmVndW4nOiB7XG4gICAgICAgICAgICBzaG9ydDogNDAsXG4gICAgICAgICAgICBtZWRpdW06IDI1MCxcbiAgICAgICAgICAgIGxvbmc6IDc1MCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDEyMDAsXG4gICAgICAgIH0sXG4gICAgICAgICdBc3NhdWx0IENhbm5vbnMnOiB7XG4gICAgICAgICAgICBzaG9ydDogNTAsXG4gICAgICAgICAgICBtZWRpdW06IDMwMCxcbiAgICAgICAgICAgIGxvbmc6IDc1MCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDE1MDAsXG4gICAgICAgIH0sXG4gICAgICAgICdHcmVuYWRlIExhdW5jaGVycyc6IHtcbiAgICAgICAgICAgIG1pbjogNSxcbiAgICAgICAgICAgIHNob3J0OiA1MCxcbiAgICAgICAgICAgIG1lZGl1bTogMTAwLFxuICAgICAgICAgICAgbG9uZzogMTUwLFxuICAgICAgICAgICAgZXh0cmVtZTogNTAwLFxuICAgICAgICB9LFxuICAgICAgICAnTWlzc2lsZSBMYXVuY2hlcnMnOiB7XG4gICAgICAgICAgICBtaW46IDIwLFxuICAgICAgICAgICAgc2hvcnQ6IDcwLFxuICAgICAgICAgICAgbWVkaXVtOiAxNTAsXG4gICAgICAgICAgICBsb25nOiA0NTAsXG4gICAgICAgICAgICBleHRyZW1lOiAxNTAwLFxuICAgICAgICB9LFxuICAgICAgICAnQm93cyc6IHtcbiAgICAgICAgICAgIHNob3J0OiAxLFxuICAgICAgICAgICAgbWVkaXVtOiAxMCxcbiAgICAgICAgICAgIGxvbmc6IDMwLFxuICAgICAgICAgICAgZXh0cmVtZTogNjAsXG4gICAgICAgICAgICBhdHRyaWJ1dGU6ICdzdHJlbmd0aCcsXG4gICAgICAgIH0sXG4gICAgICAgICdMaWdodCBDcm9zc2Jvd3MnOiB7XG4gICAgICAgICAgICBzaG9ydDogNixcbiAgICAgICAgICAgIG1lZGl1bTogMjQsXG4gICAgICAgICAgICBsb25nOiA2MCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDEyMCxcbiAgICAgICAgfSxcbiAgICAgICAgJ01lZGl1bSBDcm9zc2Jvd3MnOiB7XG4gICAgICAgICAgICBzaG9ydDogOSxcbiAgICAgICAgICAgIG1lZGl1bTogMzYsXG4gICAgICAgICAgICBsb25nOiA5MCxcbiAgICAgICAgICAgIGV4dHJlbWU6IDE1MCxcbiAgICAgICAgfSxcbiAgICAgICAgJ0hlYXZ5IENyb3NzYm93cyc6IHtcbiAgICAgICAgICAgIHNob3J0OiAxNSxcbiAgICAgICAgICAgIG1lZGl1bTogNDUsXG4gICAgICAgICAgICBsb25nOiAxMjAsXG4gICAgICAgICAgICBleHRyZW1lOiAxODAsXG4gICAgICAgIH0sXG4gICAgICAgICdUaHJvd24gS25pZmUnOiB7XG4gICAgICAgICAgICBzaG9ydDogMSxcbiAgICAgICAgICAgIG1lZGl1bTogMixcbiAgICAgICAgICAgIGxvbmc6IDMsXG4gICAgICAgICAgICBleHRyZW1lOiA1LFxuICAgICAgICAgICAgYXR0cmlidXRlOiAnc3RyZW5ndGgnLFxuICAgICAgICB9LFxuICAgICAgICAnTmV0Jzoge1xuICAgICAgICAgICAgc2hvcnQ6IDAuNSxcbiAgICAgICAgICAgIG1lZGl1bTogMSxcbiAgICAgICAgICAgIGxvbmc6IDEuNSxcbiAgICAgICAgICAgIGV4dHJlbWU6IDIuNSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogJ3N0cmVuZ3RoJyxcbiAgICAgICAgfSxcbiAgICAgICAgJ1NodXJpa2VuJzoge1xuICAgICAgICAgICAgc2hvcnQ6IDEsXG4gICAgICAgICAgICBtZWRpdW06IDIsXG4gICAgICAgICAgICBsb25nOiA1LFxuICAgICAgICAgICAgZXh0cmVtZTogNyxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogJ3N0cmVuZ3RoJyxcbiAgICAgICAgfSxcbiAgICAgICAgJ1N0YW5kYXJkIEdyZW5hZGUnOiB7XG4gICAgICAgICAgICBzaG9ydDogMixcbiAgICAgICAgICAgIG1lZGl1bTogNCxcbiAgICAgICAgICAgIGxvbmc6IDYsXG4gICAgICAgICAgICBleHRyZW1lOiAxMCxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogJ3N0cmVuZ3RoJyxcbiAgICAgICAgfSxcbiAgICAgICAgJ0Flcm9keW5hbWljIEdyZW5hZGUnOiB7XG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBzaG9ydDogMixcbiAgICAgICAgICAgIG1lZGl1bTogNCxcbiAgICAgICAgICAgIGxvbmc6IDgsXG4gICAgICAgICAgICBleHRyZW1lOiAxNSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogJ3N0cmVuZ3RoJyxcbiAgICAgICAgfSxcbiAgICAgICAgJ0hhcnBvb24gR3VuJzoge1xuICAgICAgICAgICAgc2hvcnQ6IDUsXG4gICAgICAgICAgICBtZWRpdW06IDIwLFxuICAgICAgICAgICAgbG9uZzogNDAsXG4gICAgICAgICAgICBleHRyZW1lOiA2MCxcbiAgICAgICAgfSxcbiAgICAgICAgJ0hhcnBvb24gR3VuIChVbmRlcndhdGVyKSc6IHtcbiAgICAgICAgICAgIHNob3J0OiA2LFxuICAgICAgICAgICAgbWVkaXVtOiAyNCxcbiAgICAgICAgICAgIGxvbmc6IDYwLFxuICAgICAgICAgICAgZXh0cmVtZTogMTIwLFxuICAgICAgICB9LFxuICAgICAgICAnRmxhbWV0aHJvd2Vycyc6IHtcbiAgICAgICAgICAgIHNob3J0OiAxNSxcbiAgICAgICAgICAgIG1lZGl1bTogMjAsXG4gICAgICAgICAgICBsb25nOiAtMSxcbiAgICAgICAgICAgIGV4dHJlbWU6IC0xLFxuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJPT1RfSU1QT1JUX0ZPTERFUl9OQU1FID0gJ1NSNWUnO1xufVxuIiwiaW1wb3J0IHsgRGF0YUltcG9ydGVyIH0gZnJvbSAnLi9EYXRhSW1wb3J0ZXInO1xuaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5pbXBvcnQgQ3JpdHRlclBvd2VyID0gU2hhZG93cnVuLkNyaXR0ZXJQb3dlcjtcbmltcG9ydCB7IENyaXR0ZXJQb3dlclBhcnNlckJhc2UgfSBmcm9tICcuLi9wYXJzZXIvY3JpdHRlci1wb3dlci9Dcml0dGVyUG93ZXJQYXJzZXJCYXNlJztcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7RGVmYXVsdFZhbHVlc30gZnJvbSBcIi4uLy4uL2RhdGFUZW1wbGF0ZXNcIjtcblxuZXhwb3J0IGNsYXNzIENyaXR0ZXJQb3dlckltcG9ydGVyIGV4dGVuZHMgRGF0YUltcG9ydGVyIHtcbiAgICBwdWJsaWMgY2F0ZWdvcnlUcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgaXRlbVRyYW5zbGF0aW9uczogYW55O1xuICAgIHB1YmxpYyBmaWxlcyA9IFsnY3JpdHRlcnBvd2Vycy54bWwnXTtcblxuICAgIENhblBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4ganNvbk9iamVjdC5oYXNPd25Qcm9wZXJ0eSgncG93ZXJzJykgJiYganNvbk9iamVjdFsncG93ZXJzJ10uaGFzT3duUHJvcGVydHkoJ3Bvd2VyJyk7XG4gICAgfVxuXG4gICAgR2V0RGVmYXVsdERhdGEoKTogQ3JpdHRlclBvd2VyIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICdVbm5hbWVkIEl0ZW0nLFxuICAgICAgICAgICAgX2lkOiAnJyxcbiAgICAgICAgICAgIGZvbGRlcjogJycsXG4gICAgICAgICAgICBpbWc6ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyxcbiAgICAgICAgICAgIGZsYWdzOiB7fSxcbiAgICAgICAgICAgIHR5cGU6ICdjcml0dGVyX3Bvd2VyJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNwZWM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1vZF9kZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZTogRGVmYXVsdFZhbHVlcy5kYW1hZ2VEYXRhKHt0eXBlOiB7YmFzZTogJycsIHZhbHVlOiAnJ319KSxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHRlbmRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG9wcG9zZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGw6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhbHRfbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICBkaWNlX3Bvb2xfbW9kOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFybW9yOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICBtb2Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhY2lkOiAwLFxuICAgICAgICAgICAgICAgICAgICBjb2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICBmaXJlOiAwLFxuICAgICAgICAgICAgICAgICAgICBlbGVjdHJpY2l0eTogMCxcbiAgICAgICAgICAgICAgICAgICAgcmFkaWF0aW9uOiAwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgICAgIHBvd2VyVHlwZTogJycsXG4gICAgICAgICAgICAgICAgcmFuZ2U6ICcnLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICBrYXJtYTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgRXh0cmFjdFRyYW5zbGF0aW9uKCkge1xuICAgICAgICBpZiAoIURhdGFJbXBvcnRlci5qc29uaTE4bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGpzb25Dcml0dGVyUG93ZXJpMThuID0gSW1wb3J0SGVscGVyLkV4dHJhY3REYXRhRmlsZVRyYW5zbGF0aW9uKERhdGFJbXBvcnRlci5qc29uaTE4biwgdGhpcy5maWxlc1swXSk7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlUcmFuc2xhdGlvbnMgPSBJbXBvcnRIZWxwZXIuRXh0cmFjdENhdGVnb3JpZXNUcmFuc2xhdGlvbihqc29uQ3JpdHRlclBvd2VyaTE4bik7XG4gICAgICAgIHRoaXMuaXRlbVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0SXRlbVRyYW5zbGF0aW9uKGpzb25Dcml0dGVyUG93ZXJpMThuLCAncG93ZXJzJywgJ3Bvd2VyJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBDcml0dGVyUG93ZXJQYXJzZXJCYXNlKCk7XG4gICAgICBjb25zdCBmb2xkZXIgPSBhd2FpdCBJbXBvcnRIZWxwZXIuR2V0Rm9sZGVyQXRQYXRoKGAke0NvbnN0YW50cy5ST09UX0lNUE9SVF9GT0xERVJfTkFNRX0vQ3JpdHRlciBQb3dlcnNgLCB0cnVlKTtcblxuICAgICAgbGV0IGRhdGFzOiBDcml0dGVyUG93ZXJbXSA9IFtdO1xuICAgICAgbGV0IGpzb25EYXRhcyA9IGpzb25PYmplY3RbJ3Bvd2VycyddWydwb3dlciddO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uRGF0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQganNvbkRhdGEgPSBqc29uRGF0YXNbaV07XG5cbiAgICAgICAgICBsZXQgZGF0YSA9IHBhcnNlci5QYXJzZShqc29uRGF0YSwgdGhpcy5HZXREZWZhdWx0RGF0YSgpLCB0aGlzLml0ZW1UcmFuc2xhdGlvbnMpO1xuICAgICAgICAgIGRhdGEuZm9sZGVyID0gZm9sZGVyLmlkO1xuICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbih0aGlzLml0ZW1UcmFuc2xhdGlvbnMsIGRhdGEubmFtZSk7XG5cbiAgICAgICAgICBkYXRhcy5wdXNoKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgSXRlbS5jcmVhdGUoZGF0YXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuXG5jb25zdCB4bWwyanMgPSByZXF1aXJlKCd4bWwyanMnKTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERhdGFJbXBvcnRlciB7XG4gICAgcHVibGljIGFic3RyYWN0IGZpbGVzOiBzdHJpbmdbXTtcbiAgICBwdWJsaWMgc3RhdGljIGpzb25pMThuOiBhbnk7XG4gICAgcHVibGljIGNhdGVnb3J5VHJhbnNsYXRpb25zOiBhbnk7XG4gICAgcHVibGljIGVudHJ5VHJhbnNsYXRpb25zOiBhbnk7XG4gICAgcHVibGljIHN0YXRpYyB1bnN1cHBvcnRlZEJvb2tzOiBzdHJpbmdbXSA9IFsnMjA1MCddO1xuXG4gICAgLyoqXG4gICAgICogR2V0IGRlZmF1bHQgZGF0YSBmb3IgY29uc3RydWN0aW5nIGEgVEl0ZW0uXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IEdldERlZmF1bHREYXRhKCk6IGFueTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGpzb25PYmplY3QgSlNPTiBEYXRhIHdpdGggYWxsIGRhdGEgdHJhbnNsYXRpb25zIGZvciBvbmUgbGFuZ3VhZ2UuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBDYW5QYXJzZUkxOG4oanNvbk9iamVjdDogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdjaHVtbWVyJykgJiYganNvbk9iamVjdC5jaHVtbWVyLmxlbmd0aCA+IDAgJiYganNvbk9iamVjdC5jaHVtbWVyWzBdLiQuaGFzT3duUHJvcGVydHkoJ2ZpbGUnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdHJhbnNsYXRpb25zIGFzIGEgd2hvbGUgZm9yIGFsbCBpbXBsZW1lbnRpbmcgY2xhc3NlcyB0byBleHRyYWN0IGZyb20gd2l0aG91dCByZXBhcnNpbmcuXG4gICAgICogQHBhcmFtIGpzb25PYmplY3QgSlNPTiBEYXRhIHdpdGggYWxsIGRhdGEgdHJhbnNsYXRpb25zIGZvciBvbmUgbGFuZ3VhZ2UuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBQYXJzZVRyYW5zbGF0aW9uKGpzb25PYmplY3Q6IG9iamVjdCkge1xuICAgICAgICBpZiAoanNvbk9iamVjdCAmJiBqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdjaHVtbWVyJykpIHtcbiAgICAgICAgICAgIERhdGFJbXBvcnRlci5qc29uaTE4biA9IGpzb25PYmplY3RbJ2NodW1tZXInXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRpbmcgY2xhc3NlcyBjYW4gdXNlIEV4dHJhY3RUcmFuc2xhdGlvbiB0byBvbmx5IGV4dHJhY3QgbmVlZGVkIHRyYW5zbGF0aW9ucy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgRXh0cmFjdFRyYW5zbGF0aW9uKGZpbGVOYW1lPzogc3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGlmIHRoaXMgaW1wb3J0ZXIgaXMgY2FwYWJsZSBvZiBwYXJzaW5nIHRoZSBwcm92aWRlZCBKU09OIGRhdGEuXG4gICAgICogQHBhcmFtIGpzb25PYmplY3QgSlNPTiBkYXRhIHRvIGNoZWNrIGltcG9ydCBjYXBhYmlsaXR5IGZvci5cbiAgICAgKiBAcmV0dXJucyBib29sZWFuIFRydWUgaWYgdGhlIGltcG9ydGVyIGlzIGNhcGFibGUgb2YgcGFyc2luZyB0aGUgcHJvdmlkZWQgWE1MIGRhdGEuXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IENhblBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aGUgc3BlY2lmaWVkIGpzb25PYmplY3QgYW5kIHJldHVybiBJdGVtIHJlcHJlc2VudGF0aW9ucy5cbiAgICAgKiBAcGFyYW0ganNvbk9iamVjdCBUaGUgSlNPTiBkYXRhIHRvIHBhcnNlLlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGNyZWF0ZWQgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYW4gWE1MIHN0cmluZyBpbnRvIGEgSlNPTiBvYmplY3QuXG4gICAgICogQHBhcmFtIHhtbFN0cmluZyBUaGUgc3RyaW5nIHRvIHBhcnNlIGFzIFhNTC5cbiAgICAgKiBAcmV0dXJucyBBIGpzb24gb2JqZWN0IGNvbnZlcnRlZCBmcm9tIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyB4bWwyanNvbih4bWxTdHJpbmc6IHN0cmluZyk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IHhtbDJqcy5QYXJzZXIoe1xuICAgICAgICAgICAgZXhwbGljaXRBcnJheTogZmFsc2UsXG4gICAgICAgICAgICBleHBsaWNpdENoYXJrZXk6IHRydWUsXG4gICAgICAgICAgICBjaGFya2V5OiBJbXBvcnRIZWxwZXIuQ0hBUl9LRVksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAoYXdhaXQgcGFyc2VyLnBhcnNlU3RyaW5nUHJvbWlzZSh4bWxTdHJpbmcpKVsnY2h1bW1lciddO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdW5zdXBwb3J0ZWRCb29rU291cmNlKGpzb25PYmplY3QpIHtcbiAgICAgICAgaWYgKCFqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdzb3VyY2UnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbk9iamVjdCwgJ3NvdXJjZScsICcnKTtcbiAgICAgICAgcmV0dXJuIERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEJvb2tzLmluY2x1ZGVzKHNvdXJjZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB1bnN1cHBvcnRlZEVudHJ5KGpzb25PYmplY3QpIHtcbiAgICAgICAgaWYgKERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEJvb2tTb3VyY2UoanNvbk9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RGF0YUltcG9ydGVyfSBmcm9tIFwiLi9EYXRhSW1wb3J0ZXJcIjtcbmltcG9ydCB7SW1wb3J0SGVscGVyfSBmcm9tIFwiLi4vaGVscGVyL0ltcG9ydEhlbHBlclwiO1xuaW1wb3J0IHtDb25zdGFudHN9IGZyb20gXCIuL0NvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgRGV2aWNlSW1wb3J0ZXIgZXh0ZW5kcyBEYXRhSW1wb3J0ZXIge1xuICAgIHB1YmxpYyBmaWxlcyA9IFsnZ2Vhci54bWwnXTtcblxuICAgIENhblBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4ganNvbk9iamVjdC5oYXNPd25Qcm9wZXJ0eSgnZ2VhcnMnKSAmJiBqc29uT2JqZWN0WydnZWFycyddLmhhc093blByb3BlcnR5KCdnZWFyJyk7XG4gICAgfVxuXG4gICAgR2V0RGVmYXVsdERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgIF9pZDogJycsXG4gICAgICAgICAgICBmb2xkZXI6ICcnLFxuICAgICAgICAgICAgaW1nOiAnaWNvbnMvc3ZnL215c3RlcnktbWFuLnN2ZycsXG4gICAgICAgICAgICBmbGFnczoge30sXG4gICAgICAgICAgICB0eXBlOiAnZGV2aWNlJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGVjaG5vbG9neToge1xuICAgICAgICAgICAgICAgICAgICByYXRpbmc6IDEsXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJpbGl0eTogJycsXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICBjb3N0OiAwLFxuICAgICAgICAgICAgICAgICAgICBlcXVpcHBlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uY2VhbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uX21vbml0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdjb21tbGluaycsXG4gICAgICAgICAgICAgICAgXCJhdHRzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhdHQxXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXR0XCI6IFwiYXR0YWNrXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhdHQyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXR0XCI6IFwic2xlYXplXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhdHQzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXR0XCI6IFwiZGF0YV9wcm9jZXNzaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhdHQ0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXR0XCI6IFwiZmlyZXdhbGxcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgRXh0cmFjdFRyYW5zbGF0aW9uKGZpbGVOYW1lPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICghRGF0YUltcG9ydGVyLmpzb25pMThuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQganNvbkdlYXJpMThuID0gSW1wb3J0SGVscGVyLkV4dHJhY3REYXRhRmlsZVRyYW5zbGF0aW9uKERhdGFJbXBvcnRlci5qc29uaTE4biwgdGhpcy5maWxlc1swXSk7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlUcmFuc2xhdGlvbnMgPSBJbXBvcnRIZWxwZXIuRXh0cmFjdENhdGVnb3JpZXNUcmFuc2xhdGlvbihqc29uR2VhcmkxOG4pO1xuICAgICAgICB0aGlzLmVudHJ5VHJhbnNsYXRpb25zID0gSW1wb3J0SGVscGVyLkV4dHJhY3RJdGVtVHJhbnNsYXRpb24oanNvbkdlYXJpMThuLCAnZ2VhcnMnLCAnZ2VhcicpO1xuICAgIH1cblxuICAgIFBhcnNlQ29tbWxpbmtEZXZpY2VzKGNvbW1saW5rcywgZm9sZGVyKSB7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbW1saW5rIG9mIGNvbW1saW5rcykge1xuICAgICAgICAgICAgaWYgKERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEVudHJ5KGNvbW1saW5rKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuR2V0RGVmYXVsdERhdGEoKTtcblxuICAgICAgICAgICAgZGF0YS5uYW1lID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGNvbW1saW5rLCAnbmFtZScpO1xuICAgICAgICAgICAgZGF0YS5uYW1lID0gSW1wb3J0SGVscGVyLk1hcE5hbWVUb1RyYW5zbGF0aW9uKHRoaXMuZW50cnlUcmFuc2xhdGlvbnMsIGRhdGEubmFtZSk7XG5cbiAgICAgICAgICAgIGRhdGEuZGF0YS5kZXNjcmlwdGlvbi5zb3VyY2UgPSBgJHtJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoY29tbWxpbmssICdzb3VyY2UnKX0gJHtJbXBvcnRIZWxwZXIuTWFwTmFtZVRvUGFnZVNvdXJjZSh0aGlzLmVudHJ5VHJhbnNsYXRpb25zLCBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoY29tbWxpbmssICduYW1lJyksIEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShjb21tbGluaywgJ3BhZ2UnKSl9YDtcbiAgICAgICAgICAgIGRhdGEuZGF0YS50ZWNobm9sb2d5LnJhdGluZyA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShjb21tbGluaywgJ2RldmljZXJhdGluZycsIDApO1xuICAgICAgICAgICAgZGF0YS5kYXRhLnRlY2hub2xvZ3kuYXZhaWxhYmlsaXR5ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGNvbW1saW5rLCAnYXZhaWwnKTtcbiAgICAgICAgICAgIGRhdGEuZGF0YS50ZWNobm9sb2d5LmNvc3QgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoY29tbWxpbmssICdjb3N0JywgMCk7XG4gICAgICAgICAgICBkYXRhLmRhdGEuYXR0cy5hdHQzLnZhbHVlID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGNvbW1saW5rLCAnZGF0YXByb2Nlc3NpbmcnLCAwKTtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5hdHRzLmF0dDQudmFsdWUgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoY29tbWxpbmssICdmaXJld2FsbCcsIDApO1xuXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGRhdGEuZm9sZGVyID0gZm9sZGVyLmlkO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBlbnRyaWVzLnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW50cmllcztcbiAgICB9XG5cbiAgICBQYXJzZUN5YmVyZGVja0RldmljZXMoY3liZXJkZWNrcywgZm9sZGVyKSB7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGN5YmVyZGVjayBvZiBjeWJlcmRlY2tzKSB7XG4gICAgICAgICAgICBpZiAoRGF0YUltcG9ydGVyLnVuc3VwcG9ydGVkRW50cnkoY3liZXJkZWNrKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5HZXREZWZhdWx0RGF0YSgpO1xuXG4gICAgICAgICAgICBkYXRhLmRhdGEuY2F0ZWdvcnkgPSAnY3liZXJkZWNrJztcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShjeWJlcmRlY2ssICduYW1lJyk7XG4gICAgICAgICAgICBkYXRhLm5hbWUgPSBJbXBvcnRIZWxwZXIuTWFwTmFtZVRvVHJhbnNsYXRpb24odGhpcy5lbnRyeVRyYW5zbGF0aW9ucywgZGF0YS5uYW1lKTtcblxuICAgICAgICAgICAgZGF0YS5kYXRhLmRlc2NyaXB0aW9uLnNvdXJjZSA9IGAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShjeWJlcmRlY2ssICdzb3VyY2UnKX0gJHtJbXBvcnRIZWxwZXIuTWFwTmFtZVRvUGFnZVNvdXJjZSh0aGlzLmVudHJ5VHJhbnNsYXRpb25zLCBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoY3liZXJkZWNrLCAnbmFtZScpLCBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoY3liZXJkZWNrLCAncGFnZScpKX1gO1xuICAgICAgICAgICAgZGF0YS5kYXRhLnRlY2hub2xvZ3kucmF0aW5nID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGN5YmVyZGVjaywgJ2RldmljZXJhdGluZycsIDApO1xuICAgICAgICAgICAgZGF0YS5kYXRhLnRlY2hub2xvZ3kuYXZhaWxhYmlsaXR5ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGN5YmVyZGVjaywgJ2F2YWlsJyk7XG4gICAgICAgICAgICBkYXRhLmRhdGEudGVjaG5vbG9neS5jb3N0ID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGN5YmVyZGVjaywgJ2Nvc3QnLCAwKTtcblxuICAgICAgICAgICAgLy8gU29tZSBjeWJlcmRlY2tzIGhhdmUgYSBmbGV4aWJsZSBhdHRyaWJ1dGUgb3JkZXJcbiAgICAgICAgICAgIC8vIGF0dHJpYnV0ZWFycmF5IGlzIGEgJywnIHNlcGFyYXRlZCBsaXN0IG9mIHZhbHVlcy4gU2luY2UgaXQncyBoYWNreSwgYmUgdmVyeSB1bmZvcmdpdmluZy5cbiAgICAgICAgICAgIGlmIChjeWJlcmRlY2suaGFzT3duUHJvcGVydHkoJ2F0dHJpYnV0ZWFycmF5JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVPcmRlciA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShjeWJlcmRlY2ssICdhdHRyaWJ1dGVhcnJheScpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0MSA9IE51bWJlcihhdHRyaWJ1dGVPcmRlclswXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0MiA9IE51bWJlcihhdHRyaWJ1dGVPcmRlclsxXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0MyA9IE51bWJlcihhdHRyaWJ1dGVPcmRlclsyXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0NCA9IE51bWJlcihhdHRyaWJ1dGVPcmRlclszXSk7XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhLmF0dHMuYXR0MS52YWx1ZSA9IGF0dDE7XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhLmF0dHMuYXR0Mi52YWx1ZSA9IGF0dDI7XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhLmF0dHMuYXR0My52YWx1ZSA9IGF0dDM7XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhLmF0dHMuYXR0NC52YWx1ZSA9IGF0dDQ7XG5cbiAgICAgICAgICAgIC8vIFNvbWUgY3liZXJkZWNrcyBoYXZlIGEgZml4ZWQgYXR0cmlidXRlIG9yZGVyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN5YmVyZGVjay5oYXNPd25Qcm9wZXJ0eSgnYXR0YWNrJykpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmRhdGEuYXR0cy5hdHQxLnZhbHVlID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGN5YmVyZGVjaywgJ2F0dGFjaycsIDApO1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5hdHRzLmF0dDIudmFsdWUgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoY3liZXJkZWNrLCAnc2xlYXplJywgMCk7XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhLmF0dHMuYXR0My52YWx1ZSA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShjeWJlcmRlY2ssICdkYXRhcHJvY2Vzc2luZycsIDApO1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5hdHRzLmF0dDQudmFsdWUgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoY3liZXJkZWNrLCAnZmlyZXdhbGwnLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBkYXRhLmZvbGRlciA9IGZvbGRlci5pZDtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgZW50cmllcy5wdXNoKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgbGV0IGVudHJpZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY29tbWxpbmtzID0ganNvbk9iamVjdFsnZ2VhcnMnXVsnZ2VhciddLmZpbHRlcihnZWFyID0+IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShnZWFyLCAnY2F0ZWdvcnknLCAnJykgPT09ICdDb21tbGlua3MnKTtcbiAgICAgICAgY29uc3QgY3liZXJkZWNrcyA9IGpzb25PYmplY3RbJ2dlYXJzJ11bJ2dlYXInXS5maWx0ZXIoZ2VhciA9PiBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoZ2VhciwgJ2NhdGVnb3J5JywgJycpID09PSAnQ3liZXJkZWNrcycpO1xuXG4gICAgICAgIGxldCBjb21tbGlua3NGb2xkZXIgPSBhd2FpdCBJbXBvcnRIZWxwZXIuR2V0Rm9sZGVyQXRQYXRoKGAke0NvbnN0YW50cy5ST09UX0lNUE9SVF9GT0xERVJfTkFNRX0vJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EZXZpY2VDYXRDb21tbGluaycpfWAsIHRydWUpO1xuICAgICAgICBsZXQgY3liZXJkZWNrc0ZvbGRlciA9IGF3YWl0IEltcG9ydEhlbHBlci5HZXRGb2xkZXJBdFBhdGgoYCR7Q29uc3RhbnRzLlJPT1RfSU1QT1JUX0ZPTERFUl9OQU1FfS8ke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRldmljZUNhdEN5YmVyZGVjaycpfWAsIHRydWUpO1xuXG4gICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLmNvbmNhdCh0aGlzLlBhcnNlQ29tbWxpbmtEZXZpY2VzKGNvbW1saW5rcywgY29tbWxpbmtzRm9sZGVyKSk7XG4gICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLmNvbmNhdCh0aGlzLlBhcnNlQ3liZXJkZWNrRGV2aWNlcyhjeWJlcmRlY2tzLCBjeWJlcmRlY2tzRm9sZGVyKSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IEl0ZW0uY3JlYXRlKGVudHJpZXMpXG4gICAgfVxuXG4gICAgLyogTGlzdCBvZiB1bnN1cHBvcnRlZCBDb21tbGlua3MsIGR1ZSB0byBkeW5hbWljcyB2YWx1ZSBjYWxjdWxhdGlvbnMuXG4gICAgICovXG4gICAgc3RhdGljIHVuc3VwcG9ydGVkRW50cnkoanNvbkRhdGEpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEVudHJ5KGpzb25EYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1bnN1cHBvcnRlZElkcyA9IFtcbiAgICAgICAgICAgICdkNjNlYjg0MS03YjE1LTQ1MzktOTAyNi1iOTBhNDkyNGFlZWInLCAgLy8gRHluYW1pYyByYXRpbmcgdmFsdWUuXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB1bnN1cHBvcnRlZElkcy5pbmNsdWRlcyhJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdpZCcpKTtcbiAgICB9XG59IiwiaW1wb3J0IHtEYXRhSW1wb3J0ZXJ9IGZyb20gXCIuL0RhdGFJbXBvcnRlclwiO1xuaW1wb3J0IHtJbXBvcnRIZWxwZXJ9IGZyb20gXCIuLi9oZWxwZXIvSW1wb3J0SGVscGVyXCI7XG5pbXBvcnQge0NvbnN0YW50c30gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBFcXVpcG1lbnRJbXBvcnRlciBleHRlbmRzIERhdGFJbXBvcnRlciB7XG4gICAgcHVibGljIGZpbGVzID0gWydnZWFyLnhtbCddO1xuXG4gICAgQ2FuUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdnZWFycycpICYmIGpzb25PYmplY3RbJ2dlYXJzJ10uaGFzT3duUHJvcGVydHkoJ2dlYXInKTtcbiAgICB9XG5cbiAgICBHZXREZWZhdWx0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgX2lkOiAnJyxcbiAgICAgICAgICAgIGZvbGRlcjogJycsXG4gICAgICAgICAgICBpbWc6ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyxcbiAgICAgICAgICAgIGZsYWdzOiB7fSxcbiAgICAgICAgICAgIHR5cGU6ICdlcXVpcG1lbnQnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhdDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZWNobm9sb2d5OiB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogMSxcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmlsaXR5OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvc3Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIGVxdWlwcGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25jZWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25fbW9uaXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBFeHRyYWN0VHJhbnNsYXRpb24oZmlsZU5hbWU/OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCFEYXRhSW1wb3J0ZXIuanNvbmkxOG4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBqc29uR2VhcmkxOG4gPSBJbXBvcnRIZWxwZXIuRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb24oRGF0YUltcG9ydGVyLmpzb25pMThuLCB0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0Q2F0ZWdvcmllc1RyYW5zbGF0aW9uKGpzb25HZWFyaTE4bik7XG4gICAgICAgIHRoaXMuZW50cnlUcmFuc2xhdGlvbnMgPSBJbXBvcnRIZWxwZXIuRXh0cmFjdEl0ZW1UcmFuc2xhdGlvbihqc29uR2VhcmkxOG4sICdnZWFycycsICdnZWFyJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2VFcXVpcG1lbnRzKGVxdWlwbWVudHMpIHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgZXF1aXBtZW50IG9mIGVxdWlwbWVudHMpIHtcbiAgICAgICAgICAgIGlmIChEYXRhSW1wb3J0ZXIudW5zdXBwb3J0ZWRFbnRyeShlcXVpcG1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlcGxhY2UgLyBhcyBpdCdzIHVzZWQgYXMgYSBzZXBhcmF0b3IgaW4gR2V0Rm9sZGVyQXRQYXRoLlxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBJbXBvcnRIZWxwZXIuVHJhbnNsYXRlQ2F0ZWdvcnkoSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGVxdWlwbWVudCwgJ2NhdGVnb3J5JyksIHRoaXMuY2F0ZWdvcnlUcmFuc2xhdGlvbnMpLnJlcGxhY2UoJy8nLCAnICcpO1xuICAgICAgICAgICAgbGV0IGNhdGVnb3J5Rm9sZGVyID0gYXdhaXQgSW1wb3J0SGVscGVyLkdldEZvbGRlckF0UGF0aChgJHtDb25zdGFudHMuUk9PVF9JTVBPUlRfRk9MREVSX05BTUV9LyR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuR2VhcicpfS8ke2NhdGVnb3J5fWAsIHRydWUpO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5HZXREZWZhdWx0RGF0YSgpO1xuICAgICAgICAgICAgZGF0YS5uYW1lID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGVxdWlwbWVudCwgJ25hbWUnKTtcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbih0aGlzLmVudHJ5VHJhbnNsYXRpb25zLCBkYXRhLm5hbWUpO1xuXG4gICAgICAgICAgICBkYXRhLmRhdGEuZGVzY3JpcHRpb24uc291cmNlID0gYCR7SW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGVxdWlwbWVudCwgJ3NvdXJjZScpfSAke0ltcG9ydEhlbHBlci5NYXBOYW1lVG9QYWdlU291cmNlKHRoaXMuZW50cnlUcmFuc2xhdGlvbnMsIEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShlcXVpcG1lbnQsICduYW1lJyksIEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShlcXVpcG1lbnQsICdwYWdlJykpfWA7XG4gICAgICAgICAgICBkYXRhLmRhdGEudGVjaG5vbG9neS5yYXRpbmcgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoZXF1aXBtZW50LCAncmF0aW5nJywgMCk7XG4gICAgICAgICAgICBkYXRhLmRhdGEudGVjaG5vbG9neS5hdmFpbGFiaWxpdHkgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoZXF1aXBtZW50LCAnYXZhaWwnKTtcbiAgICAgICAgICAgIGRhdGEuZGF0YS50ZWNobm9sb2d5LmNvc3QgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoZXF1aXBtZW50LCAnY29zdCcsIDApO1xuXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGRhdGEuZm9sZGVyID0gY2F0ZWdvcnlGb2xkZXIuaWQ7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGVudHJpZXMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgIH1cblxuICAgIEZpbHRlckpzb25PYmplY3RzKGpzb25PYmplY3QpIHtcbiAgICAgICAgY29uc3QgdW5zdXBwb3J0ZWRDYXRlZ29yaWVzID0gW1xuICAgICAgICAgICAgJ0FtbXVuaXRpb24nLFxuICAgICAgICAgICAgJ0NvbW1saW5rcycsXG4gICAgICAgICAgICAnQ3liZXJkZWNrcycsXG4gICAgICAgICAgICAnSGFja2luZyBQcm9ncmFtcycsXG4gICAgICAgICAgICAnUmlnZ2VyIENvbW1hbmQgQ29uc29sZXMnLFxuICAgICAgICAgICAgJ0N1c3RvbSdcbiAgICAgICAgXVxuXG4gICAgICAgIHJldHVybiBqc29uT2JqZWN0WydnZWFycyddWydnZWFyJ10uZmlsdGVyKGdlYXIgPT4gIXVuc3VwcG9ydGVkQ2F0ZWdvcmllcy5pbmNsdWRlcyhJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoZ2VhciwgJ2NhdGVnb3J5JywgJycpKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgY29uc3QgZXF1aXBtZW50cyA9IHRoaXMuRmlsdGVySnNvbk9iamVjdHMoanNvbk9iamVjdCk7XG5cbiAgICAgICAgY29uc3QgZW50cmllcyA9IGF3YWl0IHRoaXMuUGFyc2VFcXVpcG1lbnRzKGVxdWlwbWVudHMpO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBJdGVtLmNyZWF0ZShlbnRyaWVzKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRGF0YUltcG9ydGVyIH0gZnJvbSAnLi9EYXRhSW1wb3J0ZXInO1xuaW1wb3J0IE1vZCA9IFNoYWRvd3J1bi5Nb2RpZmljYXRpb247XG5pbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7IE1vZFBhcnNlckJhc2UgfSBmcm9tICcuLi9wYXJzZXIvbW9kL01vZFBhcnNlckJhc2UnO1xuXG5leHBvcnQgY2xhc3MgTW9kSW1wb3J0ZXIgZXh0ZW5kcyBEYXRhSW1wb3J0ZXIge1xuICAgIHB1YmxpYyBjYXRlZ29yeVRyYW5zbGF0aW9uczogYW55O1xuICAgIHB1YmxpYyBhY2Nlc3NvcnlUcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgZmlsZXMgPSBbJ3dlYXBvbnMueG1sJ107XG5cbiAgICBDYW5QYXJzZShqc29uT2JqZWN0OiBvYmplY3QpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGpzb25PYmplY3QuaGFzT3duUHJvcGVydHkoJ2FjY2Vzc29yaWVzJykgJiYganNvbk9iamVjdFsnYWNjZXNzb3JpZXMnXS5oYXNPd25Qcm9wZXJ0eSgnYWNjZXNzb3J5Jyk7XG4gICAgfVxuXG4gICAgR2V0RGVmYXVsdERhdGEoKTogTW9kIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgX2lkOiAnJyxcbiAgICAgICAgICAgIGZvbGRlcjogJycsXG4gICAgICAgICAgICBpbWc6ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyxcbiAgICAgICAgICAgIGZsYWdzOiB7fSxcbiAgICAgICAgICAgIHR5cGU6ICdtb2RpZmljYXRpb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhdDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZWNobm9sb2d5OiB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogMSxcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmlsaXR5OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvc3Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIGVxdWlwcGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25jZWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25fbW9uaXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdpcmVsZXNzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnJyxcbiAgICAgICAgICAgICAgICBtb3VudF9wb2ludDogJycsXG4gICAgICAgICAgICAgICAgZGljZV9wb29sOiAwLFxuICAgICAgICAgICAgICAgIGFjY3VyYWN5OiAwLFxuICAgICAgICAgICAgICAgIHJjOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBFeHRyYWN0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIGlmICghRGF0YUltcG9ydGVyLmpzb25pMThuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQganNvbldlYXBvbnNpMThuID0gSW1wb3J0SGVscGVyLkV4dHJhY3REYXRhRmlsZVRyYW5zbGF0aW9uKERhdGFJbXBvcnRlci5qc29uaTE4biwgdGhpcy5maWxlc1swXSk7XG4gICAgICAgIC8vIFBhcnRzIG9mIHdlYXBvbiBhY2Nlc3NvcnkgdHJhbnNsYXRpb25zIGFyZSB3aXRoaW4gdGhlIGFwcGxpY2F0aW9uIHRyYW5zbGF0aW9uLiBDdXJyZW50bHkgb25seSBkYXRhIHRyYW5zbGF0aW9uIGlzIHVzZWQuXG4gICAgICAgIHRoaXMuYWNjZXNzb3J5VHJhbnNsYXRpb25zID0gSW1wb3J0SGVscGVyLkV4dHJhY3RJdGVtVHJhbnNsYXRpb24oanNvbldlYXBvbnNpMThuLCAnYWNjZXNzb3JpZXMnLCAnYWNjZXNzb3J5Jyk7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IE1vZFBhcnNlckJhc2UoKTtcblxuICAgICAgICBsZXQgZGF0YXM6IE1vZFtdID0gW107XG4gICAgICAgIGxldCBqc29uRGF0YXMgPSBqc29uT2JqZWN0WydhY2Nlc3NvcmllcyddWydhY2Nlc3NvcnknXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uRGF0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBqc29uRGF0YSA9IGpzb25EYXRhc1tpXTtcblxuICAgICAgICAgICAgaWYgKERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEVudHJ5KGpzb25EYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHBhcnNlci5QYXJzZShqc29uRGF0YSwgdGhpcy5HZXREZWZhdWx0RGF0YSgpKTtcbiAgICAgICAgICAgIC8vIFRPRE86IEludGVncmF0ZSBpbnRvIE1vZFBhcnNlckJhc2UgYXBwcm9hY2guXG4gICAgICAgICAgICBkYXRhLm5hbWUgPSBJbXBvcnRIZWxwZXIuTWFwTmFtZVRvVHJhbnNsYXRpb24odGhpcy5hY2Nlc3NvcnlUcmFuc2xhdGlvbnMsIGRhdGEubmFtZSk7XG4gICAgICAgICAgICAvL1RPRE86IFRlc3QgdGhpc1xuXG4gICAgICAgICAgICBsZXQgZm9sZGVyTmFtZSA9IGRhdGEuZGF0YS5tb3VudF9wb2ludCAhPT0gdW5kZWZpbmVkID8gZGF0YS5kYXRhLm1vdW50X3BvaW50IDogJ090aGVyJztcbiAgICAgICAgICAgIGlmIChmb2xkZXJOYW1lLmluY2x1ZGVzKCcvJykpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXROYW1lID0gZm9sZGVyTmFtZS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIGZvbGRlck5hbWUgPSBzcGxpdE5hbWVbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmb2xkZXIgPSBhd2FpdCBJbXBvcnRIZWxwZXIuR2V0Rm9sZGVyQXRQYXRoKGAke0NvbnN0YW50cy5ST09UX0lNUE9SVF9GT0xERVJfTkFNRX0vTW9kcy8ke2ZvbGRlck5hbWV9YCwgdHJ1ZSk7XG4gICAgICAgICAgICBkYXRhLmZvbGRlciA9IGZvbGRlci5pZDtcblxuICAgICAgICAgICAgZGF0YXMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhd2FpdCBJdGVtLmNyZWF0ZShkYXRhcyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUltcG9ydGVyIH0gZnJvbSAnLi9EYXRhSW1wb3J0ZXInO1xuaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5pbXBvcnQgeyBRdWFsaXR5UGFyc2VyQmFzZSB9IGZyb20gJy4uL3BhcnNlci9xdWFsaXR5L1F1YWxpdHlQYXJzZXJCYXNlJztcbmltcG9ydCBRdWFsaXR5ID0gU2hhZG93cnVuLlF1YWxpdHk7XG5pbXBvcnQge0RlZmF1bHRWYWx1ZXN9IGZyb20gXCIuLi8uLi9kYXRhVGVtcGxhdGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBRdWFsaXR5SW1wb3J0ZXIgZXh0ZW5kcyBEYXRhSW1wb3J0ZXIge1xuICAgIHB1YmxpYyBjYXRlZ29yeVRyYW5zbGF0aW9uczogYW55O1xuICAgIHB1YmxpYyBpdGVtVHJhbnNsYXRpb25zOiBhbnk7XG4gICAgcHVibGljIGZpbGVzID0gWydxdWFsaXRpZXMueG1sJ107XG5cbiAgICBDYW5QYXJzZShqc29uT2JqZWN0OiBvYmplY3QpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGpzb25PYmplY3QuaGFzT3duUHJvcGVydHkoJ3F1YWxpdGllcycpICYmIGpzb25PYmplY3RbJ3F1YWxpdGllcyddLmhhc093blByb3BlcnR5KCdxdWFsaXR5Jyk7XG4gICAgfVxuXG4gICAgR2V0RGVmYXVsdERhdGEoKTogUXVhbGl0eSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnVW5uYW1lZCBBcm1vcicsXG4gICAgICAgICAgICBfaWQ6ICcnLFxuICAgICAgICAgICAgZm9sZGVyOiAnJyxcbiAgICAgICAgICAgIGltZzogJ2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi5zdmcnLFxuICAgICAgICAgICAgZmxhZ3M6IHt9LFxuICAgICAgICAgICAgdHlwZTogJ3F1YWxpdHknLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhdDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJycsXG4gICAgICAgICAgICAgICAgICAgIHNraWxsOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3BlYzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1vZDogMCxcbiAgICAgICAgICAgICAgICAgICAgbW9kX2Rlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlOiBEZWZhdWx0VmFsdWVzLmRhbWFnZURhdGEoe3R5cGU6IHtiYXNlOiAnJywgdmFsdWU6ICcnfX0pLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb3Bwb3NlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFsdF9tb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRpY2VfcG9vbF9tb2Q6IFtdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIEV4dHJhY3RUcmFuc2xhdGlvbigpIHtcbiAgICAgICAgaWYgKCFEYXRhSW1wb3J0ZXIuanNvbmkxOG4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBqc29uUXVhbGl0eWkxOG4gPSBJbXBvcnRIZWxwZXIuRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb24oRGF0YUltcG9ydGVyLmpzb25pMThuLCB0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0Q2F0ZWdvcmllc1RyYW5zbGF0aW9uKGpzb25RdWFsaXR5aTE4bik7XG4gICAgICAgIHRoaXMuaXRlbVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0SXRlbVRyYW5zbGF0aW9uKGpzb25RdWFsaXR5aTE4biwgJ3F1YWxpdGllcycsICdxdWFsaXR5Jyk7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgY29uc3QganNvbk5hbWVUcmFuc2xhdGlvbnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9sZGVycyA9IGF3YWl0IEltcG9ydEhlbHBlci5NYWtlQ2F0ZWdvcnlGb2xkZXJzKGpzb25PYmplY3QsICdRdWFsaXRpZXMnLCB0aGlzLmNhdGVnb3J5VHJhbnNsYXRpb25zKTtcbiAgICAgICAgY29uc29sZS5sb2coZm9sZGVycyk7XG5cbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFF1YWxpdHlQYXJzZXJCYXNlKCk7XG5cbiAgICAgICAgbGV0IGRhdGFzOiBRdWFsaXR5W10gPSBbXTtcbiAgICAgICAgbGV0IGpzb25EYXRhcyA9IGpzb25PYmplY3RbJ3F1YWxpdGllcyddWydxdWFsaXR5J107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwganNvbkRhdGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQganNvbkRhdGEgPSBqc29uRGF0YXNbaV07XG5cbiAgICAgICAgICAgIGlmIChEYXRhSW1wb3J0ZXIudW5zdXBwb3J0ZWRFbnRyeShqc29uRGF0YSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRhdGEgPSBwYXJzZXIuUGFyc2UoanNvbkRhdGEsIHRoaXMuR2V0RGVmYXVsdERhdGEoKSwgdGhpcy5pdGVtVHJhbnNsYXRpb25zKTtcblxuICAgICAgICAgICAgbGV0IGNhdGVnb3J5ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnY2F0ZWdvcnknKTtcbiAgICAgICAgICAgIGRhdGEuZm9sZGVyID0gZm9sZGVyc1tjYXRlZ29yeS50b0xvd2VyQ2FzZSgpXS5pZDtcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbih0aGlzLml0ZW1UcmFuc2xhdGlvbnMsIGRhdGEubmFtZSk7XG5cbiAgICAgICAgICAgIGRhdGFzLnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXdhaXQgSXRlbS5jcmVhdGUoZGF0YXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERhdGFJbXBvcnRlciB9IGZyb20gJy4vRGF0YUltcG9ydGVyJztcbmltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IFNwZWxsID0gU2hhZG93cnVuLlNwZWxsO1xuaW1wb3J0IHsgU3BlbGxQYXJzZXJCYXNlIH0gZnJvbSAnLi4vcGFyc2VyL3NwZWxsL1NwZWxsUGFyc2VyQmFzZSc7XG5pbXBvcnQgeyBDb21iYXRTcGVsbFBhcnNlciB9IGZyb20gJy4uL3BhcnNlci9zcGVsbC9Db21iYXRTcGVsbFBhcnNlcic7XG5pbXBvcnQgeyBNYW5pcHVsYXRpb25TcGVsbFBhcnNlciB9IGZyb20gJy4uL3BhcnNlci9zcGVsbC9NYW5pcHVsYXRpb25TcGVsbFBhcnNlcic7XG5pbXBvcnQgeyBJbGx1c2lvblNwZWxsUGFyc2VyIH0gZnJvbSAnLi4vcGFyc2VyL3NwZWxsL0lsbHVzaW9uU3BlbGxQYXJzZXInO1xuaW1wb3J0IHsgRGV0ZWN0aW9uU3BlbGxJbXBvcnRlciB9IGZyb20gJy4uL3BhcnNlci9zcGVsbC9EZXRlY3Rpb25TcGVsbEltcG9ydGVyJztcbmltcG9ydCB7IFBhcnNlck1hcCB9IGZyb20gJy4uL3BhcnNlci9QYXJzZXJNYXAnO1xuaW1wb3J0IHtEZWZhdWx0VmFsdWVzfSBmcm9tIFwiLi4vLi4vZGF0YVRlbXBsYXRlc1wiO1xuXG5leHBvcnQgY2xhc3MgU3BlbGxJbXBvcnRlciBleHRlbmRzIERhdGFJbXBvcnRlciB7XG4gICAgcHVibGljIGNhdGVnb3J5VHJhbnNsYXRpb25zOiBhbnk7XG4gICAgcHVibGljIGl0ZW1UcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgZmlsZXMgPSBbJ3NwZWxscy54bWwnXTtcblxuICAgIENhblBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4ganNvbk9iamVjdC5oYXNPd25Qcm9wZXJ0eSgnc3BlbGxzJykgJiYganNvbk9iamVjdFsnc3BlbGxzJ10uaGFzT3duUHJvcGVydHkoJ3NwZWxsJyk7XG4gICAgfVxuXG4gICAgR2V0RGVmYXVsdERhdGEoKTogU3BlbGwge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJ1VubmFtZWQgSXRlbScsXG4gICAgICAgICAgICBfaWQ6ICcnLFxuICAgICAgICAgICAgZm9sZGVyOiAnJyxcbiAgICAgICAgICAgIGltZzogJ2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi5zdmcnLFxuICAgICAgICAgICAgZmxhZ3M6IHt9LFxuICAgICAgICAgICAgdHlwZTogJ3NwZWxsJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd2YXJpZXMnLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ21hZ2ljJyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJycsXG4gICAgICAgICAgICAgICAgICAgIHNraWxsOiAnc3BlbGxjYXN0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgc3BlYzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1vZDogMCxcbiAgICAgICAgICAgICAgICAgICAgbW9kX2Rlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlOiBEZWZhdWx0VmFsdWVzLmRhbWFnZURhdGEoe3R5cGU6IHtiYXNlOiAnJywgdmFsdWU6ICcnfX0pLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb3Bwb3NlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFsdF9tb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRpY2VfcG9vbF9tb2Q6IFtdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHJhaW46IDAsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgIHJhbmdlOiAnJyxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogJycsXG4gICAgICAgICAgICAgICAgY29tYmF0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGV0ZWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaWxsdXNpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHNlbnNlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1hbmlwdWxhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBkYW1hZ2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lbnRhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50YWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwaHlzaWNhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgRXh0cmFjdFRyYW5zbGF0aW9uKCkge1xuICAgICAgICBpZiAoIURhdGFJbXBvcnRlci5qc29uaTE4bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGpzb25TcGVsbGkxOG4gPSBJbXBvcnRIZWxwZXIuRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb24oRGF0YUltcG9ydGVyLmpzb25pMThuLCB0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0Q2F0ZWdvcmllc1RyYW5zbGF0aW9uKGpzb25TcGVsbGkxOG4pO1xuICAgICAgICB0aGlzLml0ZW1UcmFuc2xhdGlvbnMgPSBJbXBvcnRIZWxwZXIuRXh0cmFjdEl0ZW1UcmFuc2xhdGlvbihqc29uU3BlbGxpMThuLCAnc3BlbGxzJywgJ3NwZWxsJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgY29uc3QgZm9sZGVycyA9IGF3YWl0IEltcG9ydEhlbHBlci5NYWtlQ2F0ZWdvcnlGb2xkZXJzKGpzb25PYmplY3QsICdTcGVsbHMnLCB0aGlzLmNhdGVnb3J5VHJhbnNsYXRpb25zKTtcblxuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgUGFyc2VyTWFwPFNwZWxsPignY2F0ZWdvcnknLCBbXG4gICAgICAgICAgICB7IGtleTogJ0NvbWJhdCcsIHZhbHVlOiBuZXcgQ29tYmF0U3BlbGxQYXJzZXIoKSB9LFxuICAgICAgICAgICAgeyBrZXk6ICdNYW5pcHVsYXRpb24nLCB2YWx1ZTogbmV3IE1hbmlwdWxhdGlvblNwZWxsUGFyc2VyKCkgfSxcbiAgICAgICAgICAgIHsga2V5OiAnSWxsdXNpb24nLCB2YWx1ZTogbmV3IElsbHVzaW9uU3BlbGxQYXJzZXIoKSB9LFxuICAgICAgICAgICAgeyBrZXk6ICdEZXRlY3Rpb24nLCB2YWx1ZTogbmV3IERldGVjdGlvblNwZWxsSW1wb3J0ZXIoKSB9LFxuICAgICAgICAgICAgeyBrZXk6ICdIZWFsdGgnLCB2YWx1ZTogbmV3IFNwZWxsUGFyc2VyQmFzZSgpIH0sXG4gICAgICAgICAgICB7IGtleTogJ0VuY2hhbnRtZW50cycsIHZhbHVlOiBuZXcgU3BlbGxQYXJzZXJCYXNlKCkgfSxcbiAgICAgICAgICAgIHsga2V5OiAnUml0dWFscycsIHZhbHVlOiBuZXcgU3BlbGxQYXJzZXJCYXNlKCkgfSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IGRhdGFzOiBTcGVsbFtdID0gW107XG4gICAgICAgIGxldCBqc29uRGF0YXMgPSBqc29uT2JqZWN0WydzcGVsbHMnXVsnc3BlbGwnXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uRGF0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBqc29uRGF0YSA9IGpzb25EYXRhc1tpXTtcbiAgICAgICAgICAgIGlmIChEYXRhSW1wb3J0ZXIudW5zdXBwb3J0ZWRFbnRyeShqc29uRGF0YSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRhdGEgPSBwYXJzZXIuUGFyc2UoanNvbkRhdGEsIHRoaXMuR2V0RGVmYXVsdERhdGEoKSwgdGhpcy5pdGVtVHJhbnNsYXRpb25zKTtcbiAgICAgICAgICAgIGRhdGEuZm9sZGVyID0gZm9sZGVyc1tkYXRhLmRhdGEuY2F0ZWdvcnldLmlkO1xuICAgICAgICAgICAgZGF0YXMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhd2FpdCBJdGVtLmNyZWF0ZShkYXRhcyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUltcG9ydGVyIH0gZnJvbSAnLi9EYXRhSW1wb3J0ZXInO1xuaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5pbXBvcnQgeyBDeWJlcndhcmVQYXJzZXIgfSBmcm9tICcuLi9wYXJzZXIvd2FyZS9DeWJlcndhcmVQYXJzZXInO1xuaW1wb3J0IFdhcmUgPSBTaGFkb3dydW4uV2FyZTtcbmltcG9ydCBDeWJlcndhcmUgPSBTaGFkb3dydW4uQ3liZXJ3YXJlO1xuaW1wb3J0IHtEZWZhdWx0VmFsdWVzfSBmcm9tIFwiLi4vLi4vZGF0YVRlbXBsYXRlc1wiO1xuXG5leHBvcnQgY2xhc3MgV2FyZUltcG9ydGVyIGV4dGVuZHMgRGF0YUltcG9ydGVyIHtcbiAgICBwdWJsaWMgY2F0ZWdvcnlUcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgaXRlbVRyYW5zbGF0aW9uczogYW55O1xuICAgIHB1YmxpYyBmaWxlcyA9IFsnY3liZXJ3YXJlLnhtbCcsICdiaW93YXJlLnhtbCddO1xuXG4gICAgQ2FuUGFyc2UoanNvbk9iamVjdDogb2JqZWN0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdjeWJlcndhcmVzJykgJiYganNvbk9iamVjdFsnY3liZXJ3YXJlcyddLmhhc093blByb3BlcnR5KCdjeWJlcndhcmUnKSB8fFxuICAgICAgICAgICAgICAganNvbk9iamVjdC5oYXNPd25Qcm9wZXJ0eSgnYmlvd2FyZXMnKSAmJiBqc29uT2JqZWN0WydiaW93YXJlcyddLmhhc093blByb3BlcnR5KCdiaW93YXJlJyk7XG4gICAgfVxuXG4gICAgR2V0RGVmYXVsdEN5YmVyd2FyZURhdGEoKTogQ3liZXJ3YXJlIHtcbiAgICAgICAgLy9AdHMtaWdub3JlIC8vIEJpby9DeWJlcndhcmUgY29uZmxpY3RzIG9uICd0eXBlJy4uLlxuICAgICAgICByZXR1cm4gey4uLnRoaXMuR2V0RGVmYXVsdERhdGEoKSwgdHlwZTogJ2N5YmVyd2FyZSd9O1xuICAgIH1cblxuICAgIEdldERlZmF1bHRCaW93YXJlRGF0YSgpOiBDeWJlcndhcmUge1xuICAgICAgICAvL0B0cy1pZ25vcmUgLy8gQmlvL0N5YmVyd2FyZSBjb25mbGljdHMgb24gJ3R5cGUnLi4uXG4gICAgICAgIHJldHVybiB7Li4udGhpcy5HZXREZWZhdWx0RGF0YSgpLCB0eXBlOiAnYmlvd2FyZSd9O1xuICAgIH1cblxuICAgIEdldERlZmF1bHREYXRhKCk6IFdhcmUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJ1VubmFtZWQgRm9ybScsXG4gICAgICAgICAgICB0eXBlOiAnY3liZXJ3YXJlJyxcbiAgICAgICAgICAgIF9pZDogJycsXG4gICAgICAgICAgICBmb2xkZXI6ICcnLFxuICAgICAgICAgICAgaW1nOiAnaWNvbnMvc3ZnL215c3RlcnktbWFuLnN2ZycsXG4gICAgICAgICAgICBmbGFnczoge30sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjaGF0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRlY2hub2xvZ3k6IHtcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAxLFxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFiaWxpdHk6ICcnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgY29zdDogMCxcbiAgICAgICAgICAgICAgICAgICAgZXF1aXBwZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmNlYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZDogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbl9tb25pdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2lyZWxlc3M6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFybW9yOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICBtb2Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhY2lkOiAwLFxuICAgICAgICAgICAgICAgICAgICBjb2xkOiAwLFxuICAgICAgICAgICAgICAgICAgICBmaXJlOiAwLFxuICAgICAgICAgICAgICAgICAgICBlbGVjdHJpY2l0eTogMCxcbiAgICAgICAgICAgICAgICAgICAgcmFkaWF0aW9uOiAwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNwZWM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1vZF9kZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZTogRGVmYXVsdFZhbHVlcy5kYW1hZ2VEYXRhKHt0eXBlOiB7YmFzZTogJycsIHZhbHVlOiAnJ319KSxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHRlbmRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG9wcG9zZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGw6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhbHRfbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICBkaWNlX3Bvb2xfbW9kOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdyYWRlOiAnc3RhbmRhcmQnLFxuICAgICAgICAgICAgICAgIGVzc2VuY2U6IDAsXG4gICAgICAgICAgICAgICAgY2FwYWNpdHk6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBFeHRyYWN0VHJhbnNsYXRpb24oZmlsZU5hbWUpIHtcbiAgICAgICAgaWYgKCFEYXRhSW1wb3J0ZXIuanNvbmkxOG4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBqc29uSXRlbWkxOG4gPSBJbXBvcnRIZWxwZXIuRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb24oRGF0YUltcG9ydGVyLmpzb25pMThuLCBmaWxlTmFtZSk7XG4gICAgICAgICAvLyBUT0RPOiBNb3ZlIEV4dHJhY3RUcmFuc2xhdGlvbiBwaGFzZSBiZWZvcmUgdGhlIHBhcnNpbmcgcGhhc2UgYW5kIGluaXRpYXRlIGl0IHdpdGggdGhlIGZpbGVuYW1lIHRvIHBhcnNlLlxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXMubGVuZ3RoICE9PSAyKSBjb25zb2xlLmVycm9yKCdMYXppbHkgaGFja2VkIGNvZGUgd2lsbCBmYWlsIGZvciBtb3JlIG9yIGxlc3MgdGhhbiB0d28gZmlsZXMuJyk7XG5cbiAgICAgICAgdGhpcy5jYXRlZ29yeVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0Q2F0ZWdvcmllc1RyYW5zbGF0aW9uKGpzb25JdGVtaTE4bik7XG5cbiAgICAgICAgY29uc3Qge3R5cGVLZXksIGxpc3RLZXl9ID0gZmlsZU5hbWUgPT09ICdjeWJlcndhcmUueG1sJyA/XG4gICAgICAgICAgICAgICAge3R5cGVLZXk6ICdjeWJlcndhcmVzJywgbGlzdEtleTogJ2N5YmVyd2FyZSd9IDpcbiAgICAgICAgICAgICAgICB7dHlwZUtleTogJ2Jpb3dhcmVzJywgbGlzdEtleTogJ2Jpb3dhcmUnfTtcblxuICAgICAgICB0aGlzLml0ZW1UcmFuc2xhdGlvbnMgPSBJbXBvcnRIZWxwZXIuRXh0cmFjdEl0ZW1UcmFuc2xhdGlvbihqc29uSXRlbWkxOG4sIHR5cGVLZXksIGxpc3RLZXkpO1xuICAgIH1cblxuICAgIGFzeW5jIFBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IFByb21pc2U8RW50aXR5PiB7XG4gICAgICAgIGNvbnN0IGN5YmVyUGFyc2VyID0gbmV3IEN5YmVyd2FyZVBhcnNlcigpO1xuXG4gICAgICAgIGxldCBrZXkgPSBqc29uT2JqZWN0Lmhhc093blByb3BlcnR5KCdjeWJlcndhcmVzJykgPyAnQ3liZXJ3YXJlJyA6ICdCaW93YXJlJztcbiAgICAgICAgY29uc3QgZm9sZGVycyA9IGF3YWl0IEltcG9ydEhlbHBlci5NYWtlQ2F0ZWdvcnlGb2xkZXJzKGpzb25PYmplY3QsIGtleSk7XG5cbiAgICAgICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxldCBkYXRhczogV2FyZVtdID0gW107XG4gICAgICAgIGxldCBqc29uRGF0YXMgPSBqc29uT2JqZWN0W2tleSArICdzJ11ba2V5XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uRGF0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBqc29uRGF0YSA9IGpzb25EYXRhc1tpXTtcblxuICAgICAgICAgICAgaWYgKERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEVudHJ5KGpzb25EYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0RGF0YSA9IGtleSA9PT0gJ2N5YmVyd2FyZScgPyB0aGlzLkdldERlZmF1bHRDeWJlcndhcmVEYXRhKCkgOiB0aGlzLkdldERlZmF1bHRCaW93YXJlRGF0YSgpO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBjeWJlclBhcnNlci5QYXJzZShqc29uRGF0YSwgZGVmYXVsdERhdGEsIHRoaXMuaXRlbVRyYW5zbGF0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ2NhdGVnb3J5Jyk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IERvZXMgdGhpcyB0eXBlIG1peHR1cmUgY2F1c2UgbGF0ZXIgaXNzdWVzPyBXaWxsIGl0IGNhcnJ5IG92ZXI/XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGRhdGEuZm9sZGVyID0gZm9sZGVyc1tjYXRlZ29yeS50b0xvd2VyQ2FzZSgpXS5pZDtcblxuICAgICAgICAgICAgLy8gLy8gVE9ETzogRm9sbG93IENvbXBsZXhGb3JtUGFyc2VyQmFzZSBhcHByb2FjaC5cbiAgICAgICAgICAgIC8vIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbih0aGlzLml0ZW1UcmFuc2xhdGlvbnMsIGRhdGEubmFtZSk7XG5cbiAgICAgICAgICAgIGRhdGFzLnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXdhaXQgSXRlbS5jcmVhdGUoZGF0YXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERhdGFJbXBvcnRlciB9IGZyb20gJy4vRGF0YUltcG9ydGVyJztcbmltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgUmFuZ2VkUGFyc2VyIH0gZnJvbSAnLi4vcGFyc2VyL3dlYXBvbi9SYW5nZWRQYXJzZXInO1xuaW1wb3J0IHsgTWVsZWVQYXJzZXIgfSBmcm9tICcuLi9wYXJzZXIvd2VhcG9uL01lbGVlUGFyc2VyJztcbmltcG9ydCB7IFRocm93blBhcnNlciB9IGZyb20gJy4uL3BhcnNlci93ZWFwb24vVGhyb3duUGFyc2VyJztcbmltcG9ydCB7IFBhcnNlck1hcCB9IGZyb20gJy4uL3BhcnNlci9QYXJzZXJNYXAnO1xuaW1wb3J0IFdlYXBvbiA9IFNoYWRvd3J1bi5XZWFwb247XG5pbXBvcnQgeyBXZWFwb25QYXJzZXJCYXNlIH0gZnJvbSAnLi4vcGFyc2VyL3dlYXBvbi9XZWFwb25QYXJzZXJCYXNlJztcbmltcG9ydCB7RGVmYXVsdFZhbHVlc30gZnJvbSBcIi4uLy4uL2RhdGFUZW1wbGF0ZXNcIjtcblxuZXhwb3J0IGNsYXNzIFdlYXBvbkltcG9ydGVyIGV4dGVuZHMgRGF0YUltcG9ydGVyIHtcbiAgICBwdWJsaWMgY2F0ZWdvcnlUcmFuc2xhdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgaXRlbVRyYW5zbGF0aW9uczogYW55O1xuICAgIHB1YmxpYyBmaWxlcyA9IFsnd2VhcG9ucy54bWwnXTtcblxuICAgIENhblBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4ganNvbk9iamVjdC5oYXNPd25Qcm9wZXJ0eSgnd2VhcG9ucycpICYmIGpzb25PYmplY3RbJ3dlYXBvbnMnXS5oYXNPd25Qcm9wZXJ0eSgnd2VhcG9uJyk7XG4gICAgfVxuXG4gICAgR2V0RGVmYXVsdERhdGEoKTogV2VhcG9uIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6ICdVbm5hbWVkIEl0ZW0nLFxuICAgICAgICAgICAgX2lkOiAnJyxcbiAgICAgICAgICAgIGZvbGRlcjogJycsXG4gICAgICAgICAgICBpbWc6ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJyxcbiAgICAgICAgICAgIGZsYWdzOiB7fSxcbiAgICAgICAgICAgIHR5cGU6ICd3ZWFwb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhdDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZhcmllcycsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnYWdpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNwZWM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1vZF9kZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZTogRGVmYXVsdFZhbHVlcy5kYW1hZ2VEYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBvcHBvc2VkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGVmZW5zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFsdF9tb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRpY2VfcG9vbF9tb2Q6IFtdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGVjaG5vbG9neToge1xuICAgICAgICAgICAgICAgICAgICByYXRpbmc6IDEsXG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJpbGl0eTogJycsXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICBjb3N0OiAwLFxuICAgICAgICAgICAgICAgICAgICBlcXVpcHBlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uY2VhbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uX21vbml0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3aXJlbGVzczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYW1tbzoge1xuICAgICAgICAgICAgICAgICAgICBzcGFyZV9jbGlwczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgICAgICAgICByYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaXVtOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJlbWU6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJjOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtb2Rlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlX3Nob3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VtaV9hdXRvOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1cnN0X2ZpcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hdXRvOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1lbGVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWNoOiAwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGhyb3duOiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZWRpdW06IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25nOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmVtZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJsYXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wb2ZmOiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdyYW5nZScsXG4gICAgICAgICAgICAgICAgc3ViY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBFeHRyYWN0VHJhbnNsYXRpb24oKSB7XG4gICAgICAgIGlmICghRGF0YUltcG9ydGVyLmpzb25pMThuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQganNvbldlYXBvbmkxOG4gPSBJbXBvcnRIZWxwZXIuRXh0cmFjdERhdGFGaWxlVHJhbnNsYXRpb24oRGF0YUltcG9ydGVyLmpzb25pMThuLCB0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeVRyYW5zbGF0aW9ucyA9IEltcG9ydEhlbHBlci5FeHRyYWN0Q2F0ZWdvcmllc1RyYW5zbGF0aW9uKGpzb25XZWFwb25pMThuKTtcbiAgICAgICAgdGhpcy5pdGVtVHJhbnNsYXRpb25zID0gSW1wb3J0SGVscGVyLkV4dHJhY3RJdGVtVHJhbnNsYXRpb24oanNvbldlYXBvbmkxOG4sICd3ZWFwb25zJywgJ3dlYXBvbicpO1xuICAgIH1cblxuICAgIGFzeW5jIFBhcnNlKGpzb25PYmplY3Q6IG9iamVjdCk6IFByb21pc2U8RW50aXR5PiB7XG4gICAgICAgIGNvbnN0IGZvbGRlcnMgPSBhd2FpdCBJbXBvcnRIZWxwZXIuTWFrZUNhdGVnb3J5Rm9sZGVycyhqc29uT2JqZWN0LCAnV2VhcG9ucycsIHRoaXMuY2F0ZWdvcnlUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAgIGZvbGRlcnNbJ2dlYXInXSA9IGF3YWl0IEltcG9ydEhlbHBlci5HZXRGb2xkZXJBdFBhdGgoYCR7Q29uc3RhbnRzLlJPT1RfSU1QT1JUX0ZPTERFUl9OQU1FfS9XZWFwb25zL0dlYXJgLCB0cnVlKTtcbiAgICAgICAgZm9sZGVyc1sncXVhbGl0eSddID0gYXdhaXQgSW1wb3J0SGVscGVyLkdldEZvbGRlckF0UGF0aChgJHtDb25zdGFudHMuUk9PVF9JTVBPUlRfRk9MREVSX05BTUV9L1dlYXBvbnMvUXVhbGl0eWAsIHRydWUpO1xuXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXJNYXA8V2VhcG9uPihXZWFwb25QYXJzZXJCYXNlLkdldFdlYXBvblR5cGUsIFtcbiAgICAgICAgICAgIHsga2V5OiAncmFuZ2UnLCB2YWx1ZTogbmV3IFJhbmdlZFBhcnNlcigpIH0sXG4gICAgICAgICAgICB7IGtleTogJ21lbGVlJywgdmFsdWU6IG5ldyBNZWxlZVBhcnNlcigpIH0sXG4gICAgICAgICAgICB7IGtleTogJ3Rocm93bicsIHZhbHVlOiBuZXcgVGhyb3duUGFyc2VyKCkgfSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IGRhdGFzOiBXZWFwb25bXSA9IFtdO1xuICAgICAgICBsZXQganNvbkRhdGFzID0ganNvbk9iamVjdFsnd2VhcG9ucyddWyd3ZWFwb24nXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uRGF0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBqc29uRGF0YSA9IGpzb25EYXRhc1tpXTtcblxuICAgICAgICAgICAgaWYgKERhdGFJbXBvcnRlci51bnN1cHBvcnRlZEVudHJ5KGpzb25EYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHBhcnNlci5QYXJzZShqc29uRGF0YSwgdGhpcy5HZXREZWZhdWx0RGF0YSgpLCB0aGlzLml0ZW1UcmFuc2xhdGlvbnMpO1xuICAgICAgICAgICAgZGF0YS5mb2xkZXIgPSBmb2xkZXJzW2RhdGEuZGF0YS5zdWJjYXRlZ29yeV0uaWQ7XG5cbiAgICAgICAgICAgIGRhdGFzLnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXdhaXQgSXRlbS5jcmVhdGUoZGF0YXMpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQYXJzZXI8VFJlc3VsdD4ge1xuICAgIHB1YmxpYyBhYnN0cmFjdCBQYXJzZShqc29uRGF0YTogb2JqZWN0LCBkYXRhOiBUUmVzdWx0LCBqc29uVHJhbnNsYXRpb24/OiBvYmplY3QpOiBUUmVzdWx0O1xufVxuIiwiaW1wb3J0IHsgUGFyc2VyIH0gZnJvbSAnLi9QYXJzZXInO1xuaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXJNYXA8VFJlc3VsdD4gZXh0ZW5kcyBQYXJzZXI8VFJlc3VsdD4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbV9CcmFuY2hLZXk6IHN0cmluZyB8IEJyYW5jaEZ1bmM8VFJlc3VsdD47XG4gICAgcHJpdmF0ZSByZWFkb25seSBtX01hcDogTWFwPHN0cmluZywgUGFyc2VyPFRSZXN1bHQ+PjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihicmFuY2hLZXk6IHN0cmluZyB8IEJyYW5jaEZ1bmM8VFJlc3VsdD4sIGVsZW1lbnRzOiBDQXJnPFRSZXN1bHQ+W10pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm1fQnJhbmNoS2V5ID0gYnJhbmNoS2V5O1xuXG4gICAgICAgIHRoaXMubV9NYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgeyBrZXksIHZhbHVlIH0gb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRoaXMubV9NYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IFRSZXN1bHQsIGpzb25UcmFuc2xhdGlvbj86IG9iamVjdCk6IFRSZXN1bHQge1xuICAgICAgICBsZXQga2V5O1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMubV9CcmFuY2hLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGtleSA9IHRoaXMubV9CcmFuY2hLZXkoanNvbkRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gdGhpcy5tX0JyYW5jaEtleTtcbiAgICAgICAgICAgIGtleSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwga2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXMubV9NYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmIChwYXJzZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZmluZCBtYXBwZWQgcGFyc2VyIGZvciBjYXRlZ29yeSAke2tleX0uYCk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VyLlBhcnNlKGpzb25EYXRhLCBkYXRhLCBqc29uVHJhbnNsYXRpb24pO1xuICAgIH1cbn1cblxudHlwZSBDQXJnPFRSZXN1bHQ+ID0ge1xuICAgIGtleTogc3RyaW5nO1xuICAgIHZhbHVlOiBQYXJzZXI8VFJlc3VsdD47XG59O1xudHlwZSBCcmFuY2hGdW5jPFRSZXN1bHQ+ID0gKFRSZXN1bHQpID0+IHN0cmluZztcbiIsImltcG9ydCBBcm1vciA9IFNoYWRvd3J1bi5Bcm1vcjtcbmltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uLy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IHsgVGVjaG5vbG9neUl0ZW1QYXJzZXJCYXNlIH0gZnJvbSAnLi4vaXRlbS9UZWNobm9sb2d5SXRlbVBhcnNlckJhc2UnO1xuXG5leHBvcnQgY2xhc3MgQXJtb3JQYXJzZXJCYXNlIGV4dGVuZHMgVGVjaG5vbG9neUl0ZW1QYXJzZXJCYXNlPEFybW9yPiB7XG4gICAgUGFyc2UoanNvbkRhdGE6IG9iamVjdCwgZGF0YTogU2hhZG93cnVuLkFybW9yKTogU2hhZG93cnVuLkFybW9yIHtcbiAgICAgICAgZGF0YSA9IHN1cGVyLlBhcnNlKGpzb25EYXRhLCBkYXRhKTtcblxuICAgICAgICBkYXRhLmRhdGEuYXJtb3IudmFsdWUgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoanNvbkRhdGEsICdhcm1vcicsIDApO1xuICAgICAgICBkYXRhLmRhdGEuYXJtb3IubW9kID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnYXJtb3InKS5pbmNsdWRlcygnKycpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbiIsImltcG9ydCBDb21wbGV4Rm9ybSA9IFNoYWRvd3J1bi5Db21wbGV4Rm9ybTtcbmltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uLy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IHsgSXRlbVBhcnNlckJhc2UgfSBmcm9tICcuLi9pdGVtL0l0ZW1QYXJzZXJCYXNlJztcbmltcG9ydCBDb21wbGV4Rm9ybVRhcmdldCA9IFNoYWRvd3J1bi5Db21wbGV4Rm9ybVRhcmdldDtcblxuZXhwb3J0IGNsYXNzIENvbXBsZXhGb3JtUGFyc2VyQmFzZSBleHRlbmRzIEl0ZW1QYXJzZXJCYXNlPENvbXBsZXhGb3JtPiB7XG4gICAgUGFyc2UoanNvbkRhdGE6IG9iamVjdCwgZGF0YTogU2hhZG93cnVuLkNvbXBsZXhGb3JtLCBqc29uVHJhbnNsYXRpb24/OiBvYmplY3QpOiBTaGFkb3dydW4uQ29tcGxleEZvcm0ge1xuICAgICAgICBkYXRhLm5hbWUgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICduYW1lJyk7XG5cbiAgICAgICAgZGF0YS5kYXRhLmRlc2NyaXB0aW9uLnNvdXJjZSA9IGAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3NvdXJjZScpfSAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3BhZ2UnKX1gO1xuXG4gICAgICAgIGxldCBmYWRlID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnZnYnKTtcbiAgICAgICAgaWYgKGZhZGUuaW5jbHVkZXMoJysnKSB8fCBmYWRlLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5mYWRlID0gcGFyc2VJbnQoZmFkZS5zdWJzdHJpbmcoMSwgZmFkZS5sZW5ndGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkdXJhdGlvbiA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ2R1cmF0aW9uJyk7XG4gICAgICAgIGlmIChkdXJhdGlvbiA9PT0gJ0knKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuZHVyYXRpb24gPSAnaW5zdGFudCc7XG4gICAgICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT09ICdTJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmR1cmF0aW9uID0gJ3N1c3RhaW5lZCc7XG4gICAgICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT09ICdQJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmR1cmF0aW9uID0gJ3Blcm1hbmVudCc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGFyZ2V0ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAndGFyZ2V0Jyk7XG4gICAgICAgIHN3aXRjaCAodGFyZ2V0KSB7XG4gICAgICAgICAgICBjYXNlICdEZXZpY2UnOlxuICAgICAgICAgICAgY2FzZSAnRmlsZSc6XG4gICAgICAgICAgICBjYXNlICdIb3N0JzpcbiAgICAgICAgICAgIGNhc2UgJ1BlcnNvbmEnOlxuICAgICAgICAgICAgY2FzZSAnU2VsZic6XG4gICAgICAgICAgICBjYXNlICdTcHJpdGUnOlxuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS50YXJnZXQgPSB0YXJnZXQudG9Mb3dlckNhc2UoKSBhcyBDb21wbGV4Rm9ybVRhcmdldDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhLnRhcmdldCA9ICdvdGhlcic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanNvblRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBvcmlnTmFtZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ25hbWUnKTtcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbihqc29uVHJhbnNsYXRpb24sIG9yaWdOYW1lKTtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kZXNjcmlwdGlvbi5zb3VyY2UgPSBgJHtJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdzb3VyY2UnKX0gJHtJbXBvcnRIZWxwZXIuTWFwTmFtZVRvUGFnZVNvdXJjZShqc29uVHJhbnNsYXRpb24sIG9yaWdOYW1lKX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5pbXBvcnQgQ3JpdHRlclBvd2VyID0gU2hhZG93cnVuLkNyaXR0ZXJQb3dlcjtcbmltcG9ydCBDcml0dGVyUG93ZXJDYXRlZ29yeSA9IFNoYWRvd3J1bi5Dcml0dGVyUG93ZXJDYXRlZ29yeTtcbmltcG9ydCB7IEl0ZW1QYXJzZXJCYXNlIH0gZnJvbSAnLi4vaXRlbS9JdGVtUGFyc2VyQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBDcml0dGVyUG93ZXJQYXJzZXJCYXNlIGV4dGVuZHMgSXRlbVBhcnNlckJhc2U8Q3JpdHRlclBvd2VyPiB7XG4gICAgcHVibGljIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IENyaXR0ZXJQb3dlciwganNvblRyYW5zbGF0aW9uPzogb2JqZWN0KTogQ3JpdHRlclBvd2VyIHtcblxuICAgICAgICBjb25zb2xlLmxvZyhqc29uRGF0YSk7XG5cbiAgICAgICAgZGF0YS5uYW1lID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnbmFtZScpO1xuXG4gICAgICAgIGRhdGEuZGF0YS5kZXNjcmlwdGlvbi5zb3VyY2UgPSBgJHtJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdzb3VyY2UnKX0gJHtJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdwYWdlJyl9YDtcbiAgICAgICAgZGF0YS5kYXRhLmNhdGVnb3J5ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnY2F0ZWdvcnknKS50b0xvd2VyQ2FzZSgpIGFzIENyaXR0ZXJQb3dlckNhdGVnb3J5O1xuXG4gICAgICAgIGxldCBkdXJhdGlvbiA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ2R1cmF0aW9uJyk7XG4gICAgICAgIGlmIChkdXJhdGlvbiA9PT0gJ0Fsd2F5cycpIHtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kdXJhdGlvbiA9ICdhbHdheXMnO1xuICAgICAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09PSAnSW5zdGFudCcpIHtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kdXJhdGlvbiA9ICdpbnN0YW50JztcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PT0gJ1N1c3RhaW5lZCcpIHtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kdXJhdGlvbiA9ICdzdXN0YWluZWQnO1xuICAgICAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09PSAnUGVybWFuZW50Jykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmR1cmF0aW9uID0gJ3Blcm1hbmVudCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRhdGEuZGF0YS5kdXJhdGlvbiA9ICdzcGVjaWFsJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByYW5nZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3JhbmdlJyk7XG4gICAgICAgIGlmIChyYW5nZSA9PT0gJ1QnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEucmFuZ2UgPSAndG91Y2gnO1xuICAgICAgICB9IGVsc2UgaWYgKHJhbmdlID09PSAnTE9TJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLnJhbmdlID0gJ2xvcyc7XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2UgPT09ICdMT1MgKEEpJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLnJhbmdlID0gJ2xvc19hJztcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZSA9PT0gJ1NlbGYnKSB7XG4gICAgICAgICAgIGRhdGEuZGF0YS5yYW5nZSA9ICdzZWxmJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhLmRhdGEucmFuZ2UgPSAnc3BlY2lhbCc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHlwZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3R5cGUnKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdQJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLnBvd2VyVHlwZSA9ICdwaHlzaWNhbCc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ00nKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEucG93ZXJUeXBlID0gJ21hbmEnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGpzb25UcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ05hbWUgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICduYW1lJyk7XG4gICAgICAgICAgICBkYXRhLm5hbWUgPSBJbXBvcnRIZWxwZXIuTWFwTmFtZVRvVHJhbnNsYXRpb24oanNvblRyYW5zbGF0aW9uLCBvcmlnTmFtZSk7XG4gICAgICAgICAgICBkYXRhLmRhdGEuZGVzY3JpcHRpb24uc291cmNlID0gYCR7SW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnc291cmNlJyl9ICR7SW1wb3J0SGVscGVyLk1hcE5hbWVUb1BhZ2VTb3VyY2UoanNvblRyYW5zbGF0aW9uLCBvcmlnTmFtZSl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBhcnNlciB9IGZyb20gJy4uL1BhcnNlcic7XG5pbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCBTUjVJdGVtVHlwZSA9IFNoYWRvd3J1bi5TUjVJdGVtVHlwZTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEl0ZW1QYXJzZXJCYXNlPFRSZXN1bHQgZXh0ZW5kcyBTUjVJdGVtVHlwZT4gZXh0ZW5kcyBQYXJzZXI8VFJlc3VsdD4ge1xuICAgIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IFRSZXN1bHQsIGpzb25UcmFuc2xhdGlvbj86IG9iamVjdCk6IFRSZXN1bHQge1xuICAgICAgICBkYXRhLm5hbWUgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICduYW1lJyk7XG5cbiAgICAgICAgZGF0YS5kYXRhLmRlc2NyaXB0aW9uLnNvdXJjZSA9IGAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3NvdXJjZScpfSAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3BhZ2UnKX1gO1xuXG4gICAgICAgIGlmIChqc29uVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdOYW1lID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnbmFtZScpO1xuICAgICAgICAgICAgZGF0YS5uYW1lID0gSW1wb3J0SGVscGVyLk1hcE5hbWVUb1RyYW5zbGF0aW9uKGpzb25UcmFuc2xhdGlvbiwgb3JpZ05hbWUpO1xuICAgICAgICAgICAgZGF0YS5kYXRhLmRlc2NyaXB0aW9uLnNvdXJjZSA9IGAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3NvdXJjZScpfSAke0ltcG9ydEhlbHBlci5NYXBOYW1lVG9QYWdlU291cmNlKGpzb25UcmFuc2xhdGlvbiwgb3JpZ05hbWUpfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU1I1SXRlbVR5cGUgPSBTaGFkb3dydW4uU1I1SXRlbVR5cGU7XG5pbXBvcnQgeyBJdGVtUGFyc2VyQmFzZSB9IGZyb20gJy4vSXRlbVBhcnNlckJhc2UnO1xuaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5pbXBvcnQgVGVjaG5vbG9neSA9IFNoYWRvd3J1bi5UZWNobm9sb2d5O1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVGVjaG5vbG9neUl0ZW1QYXJzZXJCYXNlPFRSZXN1bHQgZXh0ZW5kcyBUZWNobm9sb2d5ICYgU1I1SXRlbVR5cGU+IGV4dGVuZHMgSXRlbVBhcnNlckJhc2U8VFJlc3VsdD4ge1xuICAgIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IFRSZXN1bHQsIGpzb25UcmFuc2xhdGlvbj86IG9iamVjdCk6IFRSZXN1bHQge1xuICAgICAgICBkYXRhID0gc3VwZXIuUGFyc2UoanNvbkRhdGEsIGRhdGEsIGpzb25UcmFuc2xhdGlvbik7XG5cbiAgICAgICAgZGF0YS5kYXRhLnRlY2hub2xvZ3kuYXZhaWxhYmlsaXR5ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnYXZhaWwnLCAnMCcpO1xuICAgICAgICBkYXRhLmRhdGEudGVjaG5vbG9neS5jb3N0ID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGpzb25EYXRhLCAnY29zdCcsIDApO1xuICAgICAgICBkYXRhLmRhdGEudGVjaG5vbG9neS5yYXRpbmcgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoanNvbkRhdGEsICdyYXRpbmcnLCAwKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTW9kID0gU2hhZG93cnVuLk1vZGlmaWNhdGlvbjtcbmltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uLy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IE1vdW50VHlwZSA9IFNoYWRvd3J1bi5Nb3VudFR5cGU7XG5pbXBvcnQgeyBUZWNobm9sb2d5SXRlbVBhcnNlckJhc2UgfSBmcm9tICcuLi9pdGVtL1RlY2hub2xvZ3lJdGVtUGFyc2VyQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBNb2RQYXJzZXJCYXNlIGV4dGVuZHMgVGVjaG5vbG9neUl0ZW1QYXJzZXJCYXNlPE1vZD4ge1xuICAgIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IE1vZCk6IE1vZCB7XG4gICAgICAgIGRhdGEgPSBzdXBlci5QYXJzZShqc29uRGF0YSwgZGF0YSk7XG5cbiAgICAgICAgZGF0YS5kYXRhLnR5cGUgPSAnd2VhcG9uJztcblxuICAgICAgICBkYXRhLmRhdGEubW91bnRfcG9pbnQgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdtb3VudCcpIGFzIE1vdW50VHlwZTtcblxuICAgICAgICBkYXRhLmRhdGEucmMgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoanNvbkRhdGEsICdyYycsIDApO1xuICAgICAgICBkYXRhLmRhdGEuYWNjdXJhY3kgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoanNvbkRhdGEsICdhY2N1cmFjeScsIDApO1xuXG4gICAgICAgIGRhdGEuZGF0YS50ZWNobm9sb2d5LmNvbmNlYWwuYmFzZSA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShqc29uRGF0YSwgJ2NvbmNlYWwnLCAwKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCBRdWFsaXR5ID0gU2hhZG93cnVuLlF1YWxpdHk7XG5pbXBvcnQgeyBJdGVtUGFyc2VyQmFzZSB9IGZyb20gJy4uL2l0ZW0vSXRlbVBhcnNlckJhc2UnO1xuXG5leHBvcnQgY2xhc3MgUXVhbGl0eVBhcnNlckJhc2UgZXh0ZW5kcyBJdGVtUGFyc2VyQmFzZTxRdWFsaXR5PiB7XG4gICAgcHVibGljIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IFF1YWxpdHksIGpzb25UcmFuc2xhdGlvbj8pOiBRdWFsaXR5IHtcbiAgICAgICAgZGF0YS5uYW1lID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnbmFtZScpO1xuXG4gICAgICAgIGRhdGEuZGF0YS5kZXNjcmlwdGlvbi5zb3VyY2UgPSBgJHtJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdzb3VyY2UnKX0gJHtJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdwYWdlJyl9YDtcblxuICAgICAgICBkYXRhLmRhdGEudHlwZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ2NhdGVnb3J5JykgPT09ICdQb3NpdGl2ZScgPyAncG9zaXRpdmUnIDogJ25lZ2F0aXZlJztcblxuICAgICAgICBpZiAoanNvblRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBvcmlnTmFtZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ25hbWUnKTtcbiAgICAgICAgICAgIGRhdGEubmFtZSA9IEltcG9ydEhlbHBlci5NYXBOYW1lVG9UcmFuc2xhdGlvbihqc29uVHJhbnNsYXRpb24sIG9yaWdOYW1lKTtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kZXNjcmlwdGlvbi5zb3VyY2UgPSBgJHtJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdzb3VyY2UnKX0gJHtJbXBvcnRIZWxwZXIuTWFwTmFtZVRvUGFnZVNvdXJjZShqc29uVHJhbnNsYXRpb24sIG9yaWdOYW1lKX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3BlbGxQYXJzZXJCYXNlIH0gZnJvbSAnLi9TcGVsbFBhcnNlckJhc2UnO1xuaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5cbmV4cG9ydCBjbGFzcyBDb21iYXRTcGVsbFBhcnNlciBleHRlbmRzIFNwZWxsUGFyc2VyQmFzZSB7XG4gICAgUGFyc2UoanNvbkRhdGE6IG9iamVjdCwgZGF0YTogU2hhZG93cnVuLlNwZWxsLCBqc29uVHJhbnNsYXRpb24/OiBvYmplY3QpOiBTaGFkb3dydW4uU3BlbGwge1xuICAgICAgICBkYXRhID0gc3VwZXIuUGFyc2UoanNvbkRhdGEsIGRhdGEsIGpzb25UcmFuc2xhdGlvbik7XG5cbiAgICAgICAgbGV0IGRlc2NyaXB0b3IgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdkZXNjcmlwdG9yJyk7XG4gICAgICAgIC8vIEEgZmV3IHNwZWxscyBoYXZlIGEgbWlzc2luZyBkZXNjcmlwdG9yIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAgICAvLyBUaGUgZmllbGQgaXMgPGRlc2NyaXB0b3IgLz4gcmF0aGVyIHRoYW4gPGRlc2NyaXB0b3I+PC9kZXNjcmlwdG9yPlxuICAgICAgICAvLyB3aGljaCBnZXRzIGltcG9ydGVkIGFzIHVuZGVmaW5lZCByYXRoZXIgdGhhbiBlbXB0eSBzdHJpbmcgKHNpZ2gpXG4gICAgICAgIC8vIFJhdGhlciB0aGFuIHJlZmFjdG9yIG91ciBJbXBvcnRIZWxwZXIgd2UnbGwgaGFuZGxlIGl0IGluIGhlcmUuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3IgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZGF0YS5jb21iYXQudHlwZSA9IGRlc2NyaXB0b3IuaW5jbHVkZXMoJ0luZGlyZWN0JykgPyAnaW5kaXJlY3QnIDogJ2RpcmVjdCc7XG4gICAgICAgIGlmIChkYXRhLmRhdGEuY29tYmF0LnR5cGUgPT09ICdkaXJlY3QnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuYWN0aW9uLm9wcG9zZWQudHlwZSA9ICdkZWZlbnNlJztcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5kYXRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdwaHlzaWNhbCc6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5hY3Rpb24ub3Bwb3NlZC5hdHRyaWJ1dGUgPSAnYm9keSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21hbmEnOlxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdGEuYWN0aW9uLm9wcG9zZWQuYXR0cmlidXRlID0gJ3dpbGxwb3dlcic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZGF0YS5jb21iYXQudHlwZSA9PT0gJ2luZGlyZWN0Jykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLnR5cGUgPSAnZGVmZW5zZSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTcGVsbFBhcnNlckJhc2UgfSBmcm9tICcuL1NwZWxsUGFyc2VyQmFzZSc7XG5pbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcblxuZXhwb3J0IGNsYXNzIERldGVjdGlvblNwZWxsSW1wb3J0ZXIgZXh0ZW5kcyBTcGVsbFBhcnNlckJhc2Uge1xuICAgIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IFNoYWRvd3J1bi5TcGVsbCwganNvblRyYW5zbGF0aW9uPzogb2JqZWN0KTogU2hhZG93cnVuLlNwZWxsIHtcbiAgICAgICAgZGF0YSA9IHN1cGVyLlBhcnNlKGpzb25EYXRhLCBkYXRhLCBqc29uVHJhbnNsYXRpb24pO1xuXG4gICAgICAgIGxldCBkZXNjcmlwdG9yID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnZGVzY3JpcHRvcicpO1xuICAgICAgICAvLyBBIGZldyBzcGVsbHMgaGF2ZSBhIG1pc3NpbmcgZGVzY3JpcHRvciBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgICAgLy8gVGhlIGZpZWxkIGlzIDxkZXNjcmlwdG9yIC8+IHJhdGhlciB0aGFuIDxkZXNjcmlwdG9yPjwvZGVzY3JpcHRvcj5cbiAgICAgICAgLy8gd2hpY2ggZ2V0cyBpbXBvcnRlZCBhcyB1bmRlZmluZWQgcmF0aGVyIHRoYW4gZW1wdHkgc3RyaW5nIChzaWdoKVxuICAgICAgICAvLyBSYXRoZXIgdGhhbiByZWZhY3RvciBvdXIgSW1wb3J0SGVscGVyIHdlJ2xsIGhhbmRsZSBpdCBpbiBoZXJlLlxuICAgICAgICBpZiAoZGVzY3JpcHRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmRhdGEuZGV0ZWN0aW9uLnBhc3NpdmUgPSBkZXNjcmlwdG9yLmluY2x1ZGVzKCdQYXNzaXZlJyk7XG4gICAgICAgIGlmICghZGF0YS5kYXRhLmRldGVjdGlvbi5wYXNzaXZlKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuYWN0aW9uLm9wcG9zZWQudHlwZSA9ICdjdXN0b20nO1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLmF0dHJpYnV0ZSA9ICd3aWxscG93ZXInO1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLmF0dHJpYnV0ZTIgPSAnbG9naWMnO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5kYXRhLmRldGVjdGlvbi5leHRlbmRlZCA9IGRlc2NyaXB0b3IuaW5jbHVkZXMoJ0V4dGVuZGVkJyk7XG5cbiAgICAgICAgaWYgKGRlc2NyaXB0b3IuaW5jbHVkZXMoJ1BzeWNoaWMnKSkge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmRldGVjdGlvbi50eXBlID0gJ3BzeWNoaWMnO1xuICAgICAgICB9IGVsc2UgaWYgKGRlc2NyaXB0b3IuaW5jbHVkZXMoJ0RpcmVjdGlvbmFsJykpIHtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kZXRlY3Rpb24udHlwZSA9ICdkaXJlY3Rpb25hbCc7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVzY3JpcHRvci5pbmNsdWRlcygnQXJlYScpKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuZGV0ZWN0aW9uLnR5cGUgPSAnYXJlYSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTcGVsbFBhcnNlckJhc2UgfSBmcm9tICcuL1NwZWxsUGFyc2VyQmFzZSc7XG5pbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcblxuZXhwb3J0IGNsYXNzIElsbHVzaW9uU3BlbGxQYXJzZXIgZXh0ZW5kcyBTcGVsbFBhcnNlckJhc2Uge1xuICAgIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IFNoYWRvd3J1bi5TcGVsbCwganNvblRyYW5zbGF0aW9uPzogb2JqZWN0KTogU2hhZG93cnVuLlNwZWxsIHtcbiAgICAgICAgZGF0YSA9IHN1cGVyLlBhcnNlKGpzb25EYXRhLCBkYXRhLCBqc29uVHJhbnNsYXRpb24pO1xuXG4gICAgICAgIGxldCBkZXNjcmlwdG9yID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnZGVzY3JpcHRvcicpO1xuICAgICAgICAvLyBBIGZldyBzcGVsbHMgaGF2ZSBhIG1pc3NpbmcgZGVzY3JpcHRvciBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgICAgLy8gVGhlIGZpZWxkIGlzIDxkZXNjcmlwdG9yIC8+IHJhdGhlciB0aGFuIDxkZXNjcmlwdG9yPjwvZGVzY3JpcHRvcj5cbiAgICAgICAgLy8gd2hpY2ggZ2V0cyBpbXBvcnRlZCBhcyB1bmRlZmluZWQgcmF0aGVyIHRoYW4gZW1wdHkgc3RyaW5nIChzaWdoKVxuICAgICAgICAvLyBSYXRoZXIgdGhhbiByZWZhY3RvciBvdXIgSW1wb3J0SGVscGVyIHdlJ2xsIGhhbmRsZSBpdCBpbiBoZXJlLlxuICAgICAgICBpZiAoZGVzY3JpcHRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5kYXRhLnR5cGUgPT09ICdtYW5hJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLnR5cGUgPSAnY3VzdG9tJztcbiAgICAgICAgICAgIGRhdGEuZGF0YS5hY3Rpb24ub3Bwb3NlZC5hdHRyaWJ1dGUgPSAnbG9naWMnO1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLmF0dHJpYnV0ZTIgPSAnd2lsbHBvd2VyJztcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEudHlwZSA9PT0gJ3BoeXNpY2FsJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLnR5cGUgPSAnY3VzdG9tJztcbiAgICAgICAgICAgIGRhdGEuZGF0YS5hY3Rpb24ub3Bwb3NlZC5hdHRyaWJ1dGUgPSAnaW50dWl0aW9uJztcbiAgICAgICAgICAgIGRhdGEuZGF0YS5hY3Rpb24ub3Bwb3NlZC5hdHRyaWJ1dGUyID0gJ2xvZ2ljJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNwZWxsUGFyc2VyQmFzZSB9IGZyb20gJy4vU3BlbGxQYXJzZXJCYXNlJztcbmltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uLy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IFNwZWxsID0gU2hhZG93cnVuLlNwZWxsO1xuXG5leHBvcnQgY2xhc3MgTWFuaXB1bGF0aW9uU3BlbGxQYXJzZXIgZXh0ZW5kcyBTcGVsbFBhcnNlckJhc2Uge1xuICAgIFBhcnNlKGpzb25EYXRhOiBvYmplY3QsIGRhdGE6IFNwZWxsLCBqc29uVHJhbnNsYXRpb24/OiBvYmplY3QpOiBTcGVsbCB7XG4gICAgICAgIGRhdGEgPSBzdXBlci5QYXJzZShqc29uRGF0YSwgZGF0YSwganNvblRyYW5zbGF0aW9uKTtcblxuICAgICAgICBsZXQgZGVzY3JpcHRvciA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ2Rlc2NyaXB0b3InKTtcbiAgICAgICAgLy8gQSBmZXcgc3BlbGxzIGhhdmUgYSBtaXNzaW5nIGRlc2NyaXB0b3IgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICAgIC8vIFRoZSBmaWVsZCBpcyA8ZGVzY3JpcHRvciAvPiByYXRoZXIgdGhhbiA8ZGVzY3JpcHRvcj48L2Rlc2NyaXB0b3I+XG4gICAgICAgIC8vIHdoaWNoIGdldHMgaW1wb3J0ZWQgYXMgdW5kZWZpbmVkIHJhdGhlciB0aGFuIGVtcHR5IHN0cmluZyAoc2lnaClcbiAgICAgICAgLy8gUmF0aGVyIHRoYW4gcmVmYWN0b3Igb3VyIEltcG9ydEhlbHBlciB3ZSdsbCBoYW5kbGUgaXQgaW4gaGVyZS5cbiAgICAgICAgaWYgKGRlc2NyaXB0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVzY3JpcHRvciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5kYXRhLm1hbmlwdWxhdGlvbi5lbnZpcm9ubWVudGFsID0gZGVzY3JpcHRvci5pbmNsdWRlcygnRW52aXJvbm1lbnRhbCcpO1xuICAgICAgICAvLyBHZW5lcmFsbHkgbm8gcmVzaXN0YW5jZSByb2xsLlxuXG4gICAgICAgIGRhdGEuZGF0YS5tYW5pcHVsYXRpb24ubWVudGFsID0gZGVzY3JpcHRvci5pbmNsdWRlcygnTWVudGFsJyk7XG4gICAgICAgIGlmIChkYXRhLmRhdGEubWFuaXB1bGF0aW9uLm1lbnRhbCkge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLnR5cGUgPSAnY3VzdG9tJztcbiAgICAgICAgICAgIGRhdGEuZGF0YS5hY3Rpb24ub3Bwb3NlZC5hdHRyaWJ1dGUgPSAnbG9naWMnO1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLmF0dHJpYnV0ZTIgPSAnd2lsbHBvd2VyJztcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZGF0YS5tYW5pcHVsYXRpb24ucGh5c2ljYWwgPSBkZXNjcmlwdG9yLmluY2x1ZGVzKCdQaHlzaWNhbCcpO1xuICAgICAgICBpZiAoZGF0YS5kYXRhLm1hbmlwdWxhdGlvbi5waHlzaWNhbCkge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLnR5cGUgPSAnY3VzdG9tJztcbiAgICAgICAgICAgIGRhdGEuZGF0YS5hY3Rpb24ub3Bwb3NlZC5hdHRyaWJ1dGUgPSAnYm9keSc7XG4gICAgICAgICAgICBkYXRhLmRhdGEuYWN0aW9uLm9wcG9zZWQuYXR0cmlidXRlMiA9ICdzdHJlbmd0aCc7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5kYXRhLm1hbmlwdWxhdGlvbi5kYW1hZ2luZyA9IGRlc2NyaXB0b3IuaW5jbHVkZXMoJ0RhbWFnaW5nJyk7XG4gICAgICAgIGlmIChkYXRhLmRhdGEubWFuaXB1bGF0aW9uLmRhbWFnaW5nKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuYWN0aW9uLm9wcG9zZWQudHlwZSA9ICdzb2FrJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEltcG9ydEhlbHBlciB9IGZyb20gJy4uLy4uL2hlbHBlci9JbXBvcnRIZWxwZXInO1xuaW1wb3J0IFNwZWxsID0gU2hhZG93cnVuLlNwZWxsO1xuaW1wb3J0IFNwZWxsQ2F0ZW9ncnkgPSBTaGFkb3dydW4uU3BlbGxDYXRlb2dyeTtcbmltcG9ydCB7IEl0ZW1QYXJzZXJCYXNlIH0gZnJvbSAnLi4vaXRlbS9JdGVtUGFyc2VyQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBTcGVsbFBhcnNlckJhc2UgZXh0ZW5kcyBJdGVtUGFyc2VyQmFzZTxTcGVsbD4ge1xuICAgIHB1YmxpYyBQYXJzZShqc29uRGF0YTogb2JqZWN0LCBkYXRhOiBTcGVsbCwganNvblRyYW5zbGF0aW9uPzogb2JqZWN0KTogU3BlbGwge1xuICAgICAgICBkYXRhLm5hbWUgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICduYW1lJyk7XG5cbiAgICAgICAgZGF0YS5kYXRhLmRlc2NyaXB0aW9uLnNvdXJjZSA9IGAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3NvdXJjZScpfSAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3BhZ2UnKX1gO1xuICAgICAgICBkYXRhLmRhdGEuY2F0ZWdvcnkgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdjYXRlZ29yeScpLnRvTG93ZXJDYXNlKCkgYXMgU3BlbGxDYXRlb2dyeTtcblxuICAgICAgICBsZXQgZGFtYWdlID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnZGFtYWdlJyk7XG4gICAgICAgIGlmIChkYW1hZ2UgPT09ICdQJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5kYW1hZ2UudHlwZS5iYXNlID0gJ3BoeXNpY2FsJztcbiAgICAgICAgICAgIGRhdGEuZGF0YS5hY3Rpb24uZGFtYWdlLnR5cGUudmFsdWUgPSAncGh5c2ljYWwnO1xuICAgICAgICB9IGVsc2UgaWYgKGRhbWFnZSA9PT0gJ1MnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuYWN0aW9uLmRhbWFnZS50eXBlLmJhc2UgPSAnc3R1bic7XG4gICAgICAgICAgICBkYXRhLmRhdGEuYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlID0gJ3N0dW4nO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGR1cmF0aW9uID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnZHVyYXRpb24nKTtcbiAgICAgICAgaWYgKGR1cmF0aW9uID09PSAnSScpIHtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kdXJhdGlvbiA9ICdpbnN0YW50JztcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PT0gJ1MnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuZHVyYXRpb24gPSAnc3VzdGFpbmVkJztcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PT0gJ1AnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuZHVyYXRpb24gPSAncGVybWFuZW50JztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkcmFpbiA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ2R2Jyk7XG4gICAgICAgIGlmIChkcmFpbi5pbmNsdWRlcygnKycpIHx8IGRyYWluLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgIGRhdGEuZGF0YS5kcmFpbiA9IHBhcnNlSW50KGRyYWluLnN1YnN0cmluZygxLCBkcmFpbi5sZW5ndGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByYW5nZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3JhbmdlJyk7XG4gICAgICAgIGlmIChyYW5nZSA9PT0gJ1QnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEucmFuZ2UgPSAndG91Y2gnO1xuICAgICAgICB9IGVsc2UgaWYgKHJhbmdlID09PSAnTE9TJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLnJhbmdlID0gJ2xvcyc7XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2UgPT09ICdMT1MgKEEpJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhLnJhbmdlID0gJ2xvc19hJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0eXBlID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAndHlwZScpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ1AnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEudHlwZSA9ICdwaHlzaWNhbCc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ00nKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEudHlwZSA9ICdtYW5hJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqc29uVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdOYW1lID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnbmFtZScpO1xuICAgICAgICAgICAgZGF0YS5uYW1lID0gSW1wb3J0SGVscGVyLk1hcE5hbWVUb1RyYW5zbGF0aW9uKGpzb25UcmFuc2xhdGlvbiwgb3JpZ05hbWUpO1xuICAgICAgICAgICAgZGF0YS5kYXRhLmRlc2NyaXB0aW9uLnNvdXJjZSA9IGAke0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3NvdXJjZScpfSAke0ltcG9ydEhlbHBlci5NYXBOYW1lVG9QYWdlU291cmNlKGpzb25UcmFuc2xhdGlvbiwgb3JpZ05hbWUpfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCB7IFRlY2hub2xvZ3lJdGVtUGFyc2VyQmFzZSB9IGZyb20gJy4uL2l0ZW0vVGVjaG5vbG9neUl0ZW1QYXJzZXJCYXNlJztcbmltcG9ydCBDeWJlcndhcmUgPSBTaGFkb3dydW4uQ3liZXJ3YXJlO1xuaW1wb3J0IFdhcmUgPSBTaGFkb3dydW4uV2FyZTtcblxuZXhwb3J0IGNsYXNzIEN5YmVyd2FyZVBhcnNlciBleHRlbmRzIFRlY2hub2xvZ3lJdGVtUGFyc2VyQmFzZTxXYXJlPiB7XG4gICAgUGFyc2UoanNvbkRhdGE6IG9iamVjdCwgZGF0YTogV2FyZSwganNvblRyYW5zbGF0aW9uPzogb2JqZWN0KTogV2FyZSB7XG4gICAgICAgIGRhdGEgPSBzdXBlci5QYXJzZShqc29uRGF0YSwgZGF0YSwganNvblRyYW5zbGF0aW9uKTtcblxuICAgICAgICBjb25zdCBlc3NlbmNlID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnZXNzJywgJzAnKS5tYXRjaCgvWzAtOV1cXC4/WzAtOV0qL2cpO1xuICAgICAgICBpZiAoZXNzZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmVzc2VuY2UgPSBwYXJzZUZsb2F0KGVzc2VuY2VbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FwYWNpdHkgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdjYXBhY2l0eScsICcwJykubWF0Y2goL1swLTldKy9nKTtcbiAgICAgICAgaWYgKGNhcGFjaXR5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEuY2FwYWNpdHkgPSBwYXJzZUludChjYXBhY2l0eVswXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCB7IFdlYXBvblBhcnNlckJhc2UgfSBmcm9tICcuL1dlYXBvblBhcnNlckJhc2UnO1xuaW1wb3J0IEFjdG9yQXR0cmlidXRlID0gU2hhZG93cnVuLkFjdG9yQXR0cmlidXRlO1xuaW1wb3J0IERhbWFnZURhdGEgPSBTaGFkb3dydW4uRGFtYWdlRGF0YTtcbmltcG9ydCBEYW1hZ2VUeXBlID0gU2hhZG93cnVuLkRhbWFnZVR5cGU7XG5pbXBvcnQgV2VhcG9uID0gU2hhZG93cnVuLldlYXBvbjtcbmltcG9ydCB7RGVmYXVsdFZhbHVlc30gZnJvbSBcIi4uLy4uLy4uL2RhdGFUZW1wbGF0ZXNcIjtcblxuZXhwb3J0IGNsYXNzIE1lbGVlUGFyc2VyIGV4dGVuZHMgV2VhcG9uUGFyc2VyQmFzZSB7XG4gICAgR2V0RGFtYWdlKGpzb25EYXRhOiBvYmplY3QpOiBEYW1hZ2VEYXRhIHtcbiAgICAgICAgbGV0IGpzb25EYW1hZ2UgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdkYW1hZ2UnKTtcbiAgICAgICAgbGV0IGRhbWFnZUNvZGU6IGFueSA9IGpzb25EYW1hZ2UubWF0Y2goLyhTVFIpKFsrLV0/KShbMS05XSopXFwpKFtQU10pL2cpPy5bMF07XG5cbiAgICAgICAgaWYgKGRhbWFnZUNvZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIERlZmF1bHRWYWx1ZXMuZGFtYWdlRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhbWFnZUJhc2UgPSAwO1xuICAgICAgICBsZXQgZGFtYWdlQXAgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoanNvbkRhdGEsICdhcCcsIDApO1xuXG4gICAgICAgIGxldCBzcGxpdERhbWFnZUNvZGUgPSBkYW1hZ2VDb2RlLnNwbGl0KCcpJyk7XG4gICAgICAgIGxldCBkYW1hZ2VUeXBlID0gc3BsaXREYW1hZ2VDb2RlWzFdLmluY2x1ZGVzKCdQJykgPyAncGh5c2ljYWwnIDogJ3N0dW4nO1xuXG4gICAgICAgIGxldCBzcGxpdEJhc2VDb2RlID0gZGFtYWdlQ29kZS5pbmNsdWRlcygnKycpID8gc3BsaXREYW1hZ2VDb2RlWzBdLnNwbGl0KCcrJykgOiBzcGxpdERhbWFnZUNvZGVbMF0uc3BsaXQoJy0nKTtcbiAgICAgICAgaWYgKHNwbGl0RGFtYWdlQ29kZVswXS5pbmNsdWRlcygnKycpIHx8IHNwbGl0RGFtYWdlQ29kZVswXS5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgICAgICBkYW1hZ2VCYXNlID0gcGFyc2VJbnQoc3BsaXRCYXNlQ29kZVsxXSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhbWFnZUF0dHJpYnV0ZSA9IGRhbWFnZUNvZGUuaW5jbHVkZXMoJ1NUUicpID8gJ3N0cmVuZ3RoJyA6ICcnO1xuXG4gICAgICAgIGNvbnN0IHBhcnRpYWxEYW1hZ2VEYXRhID0ge1xuICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgIGJhc2U6IGRhbWFnZVR5cGUgYXMgRGFtYWdlVHlwZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGFtYWdlVHlwZSBhcyBEYW1hZ2VUeXBlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJhc2U6IGRhbWFnZUJhc2UsXG4gICAgICAgICAgICB2YWx1ZTogZGFtYWdlQmFzZSxcbiAgICAgICAgICAgIGFwOiB7XG4gICAgICAgICAgICAgICAgYmFzZTogZGFtYWdlQXAsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRhbWFnZUFwLFxuICAgICAgICAgICAgICAgIG1vZDogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXR0cmlidXRlOiBkYW1hZ2VBdHRyaWJ1dGUgYXMgQWN0b3JBdHRyaWJ1dGUsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlZmF1bHRWYWx1ZXMuZGFtYWdlRGF0YShwYXJ0aWFsRGFtYWdlRGF0YSk7XG4gICAgfVxuXG4gICAgUGFyc2UoanNvbkRhdGE6IG9iamVjdCwgZGF0YTogV2VhcG9uLCBqc29uVHJhbnNsYXRpb24/OiBvYmplY3QpOiBXZWFwb24ge1xuICAgICAgICBkYXRhID0gc3VwZXIuUGFyc2UoanNvbkRhdGEsIGRhdGEsIGpzb25UcmFuc2xhdGlvbik7XG5cbiAgICAgICAgZGF0YS5kYXRhLm1lbGVlLnJlYWNoID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGpzb25EYXRhLCAncmVhY2gnKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCB7IFdlYXBvblBhcnNlckJhc2UgfSBmcm9tICcuL1dlYXBvblBhcnNlckJhc2UnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vaW1wb3J0ZXIvQ29uc3RhbnRzJztcbmltcG9ydCBEYW1hZ2VEYXRhID0gU2hhZG93cnVuLkRhbWFnZURhdGE7XG5pbXBvcnQgRGFtYWdlVHlwZSA9IFNoYWRvd3J1bi5EYW1hZ2VUeXBlO1xuaW1wb3J0IFdlYXBvbiA9IFNoYWRvd3J1bi5XZWFwb247XG5pbXBvcnQge0RlZmF1bHRWYWx1ZXN9IGZyb20gXCIuLi8uLi8uLi9kYXRhVGVtcGxhdGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZWRQYXJzZXIgZXh0ZW5kcyBXZWFwb25QYXJzZXJCYXNlIHtcbiAgICBwdWJsaWMgR2V0RGFtYWdlKGpzb25EYXRhOiBvYmplY3QpOiBEYW1hZ2VEYXRhIHtcbiAgICAgICAgbGV0IGpzb25EYW1hZ2UgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdkYW1hZ2UnKTtcbiAgICAgICAgbGV0IGRhbWFnZUNvZGUgPSBqc29uRGFtYWdlLm1hdGNoKC9bMC05XStbUFNdL2cpPy5bMF07XG5cbiAgICAgICAgaWYgKGRhbWFnZUNvZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIERlZmF1bHRWYWx1ZXMuZGFtYWdlRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhbWFnZVR5cGUgPSBkYW1hZ2VDb2RlLmluY2x1ZGVzKCdQJykgPyAncGh5c2ljYWwnIDogJ3N0dW4nO1xuICAgICAgICBsZXQgZGFtYWdlQW1vdW50ID0gcGFyc2VJbnQoZGFtYWdlQ29kZS5yZXBsYWNlKGRhbWFnZVR5cGVbMF0udG9VcHBlckNhc2UoKSwgJycpKTtcbiAgICAgICAgbGV0IGRhbWFnZUFwID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGpzb25EYXRhLCAnYXAnLCAwKTtcblxuICAgICAgICBjb25zdCBwYXJ0aWFsRGFtYWdlRGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgICBiYXNlOiBkYW1hZ2VUeXBlIGFzIERhbWFnZVR5cGUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRhbWFnZVR5cGUgYXMgRGFtYWdlVHlwZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiYXNlOiBkYW1hZ2VBbW91bnQsXG4gICAgICAgICAgICB2YWx1ZTogZGFtYWdlQW1vdW50LFxuICAgICAgICAgICAgYXA6IHtcbiAgICAgICAgICAgICAgICBiYXNlOiBkYW1hZ2VBcCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGFtYWdlQXAsXG4gICAgICAgICAgICAgICAgbW9kOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWZhdWx0VmFsdWVzLmRhbWFnZURhdGEocGFydGlhbERhbWFnZURhdGEpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBHZXRBbW1vKHdlYXBvbkpzb246IG9iamVjdCkge1xuICAgICAgICBsZXQganNvbkFtbW8gPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUod2VhcG9uSnNvbiwgJ2FtbW8nKTtcbiAgICAgICAgbGV0IG1hdGNoID0ganNvbkFtbW8ubWF0Y2goLyhbMC05XSspL2cpPy5bMF07XG4gICAgICAgIHJldHVybiBtYXRjaCAhPT0gdW5kZWZpbmVkID8gcGFyc2VJbnQobWF0Y2gpIDogMDtcbiAgICB9XG5cbiAgICBQYXJzZShqc29uRGF0YTogb2JqZWN0LCBkYXRhOiBXZWFwb24sIGpzb25UcmFuc2xhdGlvbj86IG9iamVjdCk6IFdlYXBvbiB7XG4gICAgICAgIGRhdGEgPSBzdXBlci5QYXJzZShqc29uRGF0YSwgZGF0YSwganNvblRyYW5zbGF0aW9uKTtcblxuICAgICAgICBkYXRhLmRhdGEucmFuZ2UucmMuYmFzZSA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShqc29uRGF0YSwgJ3JjJyk7XG4gICAgICAgIGRhdGEuZGF0YS5yYW5nZS5yYy52YWx1ZSA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShqc29uRGF0YSwgJ3JjJyk7XG5cbiAgICAgICAgaWYgKGpzb25EYXRhLmhhc093blByb3BlcnR5KCdyYW5nZScpKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEucmFuZ2UucmFuZ2VzID0gQ29uc3RhbnRzLldFQVBPTl9SQU5HRVNbSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAncmFuZ2UnKV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEucmFuZ2UucmFuZ2VzID0gQ29uc3RhbnRzLldFQVBPTl9SQU5HRVNbSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnY2F0ZWdvcnknKV07XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmRhdGEuYW1tby5jdXJyZW50LnZhbHVlID0gdGhpcy5HZXRBbW1vKGpzb25EYXRhKTtcbiAgICAgICAgZGF0YS5kYXRhLmFtbW8uY3VycmVudC5tYXggPSB0aGlzLkdldEFtbW8oanNvbkRhdGEpO1xuXG4gICAgICAgIGRhdGEuZGF0YS5yYW5nZS5tb2Rlcy5zaW5nbGVfc2hvdCA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ21vZGUnKS5pbmNsdWRlcygnU1MnKTtcbiAgICAgICAgZGF0YS5kYXRhLnJhbmdlLm1vZGVzLnNlbWlfYXV0byA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ21vZGUnKS5pbmNsdWRlcygnU0EnKTtcbiAgICAgICAgZGF0YS5kYXRhLnJhbmdlLm1vZGVzLmJ1cnN0X2ZpcmUgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdtb2RlJykuaW5jbHVkZXMoJ0JGJyk7XG4gICAgICAgIGRhdGEuZGF0YS5yYW5nZS5tb2Rlcy5mdWxsX2F1dG8gPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdtb2RlJykuaW5jbHVkZXMoJ0ZBJyk7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSW1wb3J0SGVscGVyIH0gZnJvbSAnLi4vLi4vaGVscGVyL0ltcG9ydEhlbHBlcic7XG5pbXBvcnQgeyBXZWFwb25QYXJzZXJCYXNlIH0gZnJvbSAnLi9XZWFwb25QYXJzZXJCYXNlJztcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uLy4uL2ltcG9ydGVyL0NvbnN0YW50cyc7XG5pbXBvcnQgQmxhc3REYXRhID0gU2hhZG93cnVuLkJsYXN0RGF0YTtcbmltcG9ydCBBY3RvckF0dHJpYnV0ZSA9IFNoYWRvd3J1bi5BY3RvckF0dHJpYnV0ZTtcbmltcG9ydCBEYW1hZ2VEYXRhID0gU2hhZG93cnVuLkRhbWFnZURhdGE7XG5pbXBvcnQgRGFtYWdlVHlwZSA9IFNoYWRvd3J1bi5EYW1hZ2VUeXBlO1xuaW1wb3J0IFdlYXBvbiA9IFNoYWRvd3J1bi5XZWFwb247XG5pbXBvcnQge0RlZmF1bHRWYWx1ZXN9IGZyb20gXCIuLi8uLi8uLi9kYXRhVGVtcGxhdGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBUaHJvd25QYXJzZXIgZXh0ZW5kcyBXZWFwb25QYXJzZXJCYXNlIHtcbiAgICBwdWJsaWMgR2V0RGFtYWdlKGpzb25EYXRhOiBvYmplY3QpOiBEYW1hZ2VEYXRhIHtcbiAgICAgICAgbGV0IGpzb25EYW1hZ2UgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdkYW1hZ2UnKTtcblxuICAgICAgICBsZXQgZGFtYWdlQW1vdW50ID0gMDtcbiAgICAgICAgbGV0IGRhbWFnZVR5cGUgPSAncGh5c2ljYWwnO1xuICAgICAgICBsZXQgZGFtYWdlQXR0cmlidXRlID0gJyc7XG5cbiAgICAgICAgLy9TVFIgc2NhbGluZyB3ZWFwb25zIGxpa2UgdGhlIGJvb21lcmFuZ1xuICAgICAgICBpZiAoanNvbkRhbWFnZS5pbmNsdWRlcygnU1RSJykpIHtcbiAgICAgICAgICAgIGRhbWFnZUF0dHJpYnV0ZSA9ICdzdHJlbmd0aCc7XG5cbiAgICAgICAgICAgIGxldCBkYW1hZ2VNYXRjaCA9IGpzb25EYW1hZ2UubWF0Y2goLygoU1RSKShbKy1dKVswLTldXFwpW1BTXSkvZyk/LlswXTtcbiAgICAgICAgICAgIGlmIChkYW1hZ2VNYXRjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFtb3VudE1hdGNoID0gZGFtYWdlTWF0Y2gubWF0Y2goLy0/WzAtOV0rL2cpPy5bMF07XG4gICAgICAgICAgICAgICAgZGFtYWdlQW1vdW50ID0gYW1vdW50TWF0Y2ggIT09IHVuZGVmaW5lZCA/IHBhcnNlSW50KGFtb3VudE1hdGNoKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGFtYWdlTWF0Y2ggPSBqc29uRGFtYWdlLm1hdGNoKC8oWzAtOV0rW1BTXSkvZyk/LlswXTtcblxuICAgICAgICAgICAgaWYgKGRhbWFnZU1hdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgYW1vdW50TWF0Y2ggPSBkYW1hZ2VNYXRjaC5tYXRjaCgvWzAtOV0rL2cpPy5bMF07XG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudE1hdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlQW1vdW50ID0gcGFyc2VJbnQoYW1vdW50TWF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydGlhbERhbWFnZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6ICdwaHlzaWNhbCcgYXMgRGFtYWdlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAncGh5c2ljYWwnIGFzIERhbWFnZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdFZhbHVlcy5kYW1hZ2VEYXRhKHBhcnRpYWxEYW1hZ2VEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkYW1hZ2VUeXBlID0ganNvbkRhbWFnZS5pbmNsdWRlcygnUCcpID8gJ3BoeXNpY2FsJyA6ICdzdHVuJztcblxuICAgICAgICBsZXQgZGFtYWdlQXAgPSBJbXBvcnRIZWxwZXIuSW50VmFsdWUoanNvbkRhdGEsICdhcCcsIDApO1xuXG4gICAgICAgIGNvbnN0IHBhcnRpYWxEYW1hZ2VEYXRhID0ge1xuICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgIGJhc2U6IGRhbWFnZVR5cGUgYXMgRGFtYWdlVHlwZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGFtYWdlVHlwZSBhcyBEYW1hZ2VUeXBlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJhc2U6IGRhbWFnZUFtb3VudCxcbiAgICAgICAgICAgIHZhbHVlOiBkYW1hZ2VBbW91bnQsXG4gICAgICAgICAgICBhcDoge1xuICAgICAgICAgICAgICAgIGJhc2U6IGRhbWFnZUFwLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkYW1hZ2VBcCxcbiAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogZGFtYWdlQXR0cmlidXRlIGFzIEFjdG9yQXR0cmlidXRlLFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWZhdWx0VmFsdWVzLmRhbWFnZURhdGEocGFydGlhbERhbWFnZURhdGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBHZXRCbGFzdChqc29uRGF0YTogb2JqZWN0LCBkYXRhOiBXZWFwb24pOiBCbGFzdERhdGEge1xuICAgICAgICBsZXQgYmxhc3REYXRhOiBCbGFzdERhdGEgPSB7XG4gICAgICAgICAgICByYWRpdXM6IDAsXG4gICAgICAgICAgICBkcm9wb2ZmOiAwLFxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBibGFzdENvZGUgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdkYW1hZ2UnKTtcblxuICAgICAgICBsZXQgcmFkaXVzTWF0Y2ggPSBibGFzdENvZGUubWF0Y2goLyhbMC05XSttKS8pPy5bMF07XG4gICAgICAgIGlmIChyYWRpdXNNYXRjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByYWRpdXNNYXRjaCA9IHJhZGl1c01hdGNoLm1hdGNoKC9bMC05XSsvKT8uWzBdO1xuICAgICAgICAgICAgaWYgKHJhZGl1c01hdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBibGFzdERhdGEucmFkaXVzID0gcGFyc2VJbnQocmFkaXVzTWF0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRyb3BvZmZNYXRjaCA9IGJsYXN0Q29kZS5tYXRjaCgvKC1bMC05XStcXC9tKS8pPy5bMF07XG4gICAgICAgIGlmIChkcm9wb2ZmTWF0Y2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZHJvcG9mZk1hdGNoID0gZHJvcG9mZk1hdGNoLm1hdGNoKC8tWzAtOV0rLyk/LlswXTtcbiAgICAgICAgICAgIGlmIChkcm9wb2ZmTWF0Y2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJsYXN0RGF0YS5kcm9wb2ZmID0gcGFyc2VJbnQoZHJvcG9mZk1hdGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChibGFzdERhdGEuZHJvcG9mZiAmJiAhYmxhc3REYXRhLnJhZGl1cykge1xuICAgICAgICAgICAgYmxhc3REYXRhLnJhZGl1cyA9IC0oZGF0YS5kYXRhLmFjdGlvbi5kYW1hZ2UuYmFzZSAvIGJsYXN0RGF0YS5kcm9wb2ZmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBibGFzdERhdGE7XG4gICAgfVxuXG4gICAgUGFyc2UoanNvbkRhdGE6IG9iamVjdCwgZGF0YTogV2VhcG9uLCBqc29uVHJhbnNsYXRpb24/OiBvYmplY3QpOiBXZWFwb24ge1xuICAgICAgICBkYXRhID0gc3VwZXIuUGFyc2UoanNvbkRhdGEsIGRhdGEsIGpzb25UcmFuc2xhdGlvbik7XG5cbiAgICAgICAgaWYgKGpzb25EYXRhLmhhc093blByb3BlcnR5KCdyYW5nZScpKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEudGhyb3duLnJhbmdlcyA9IENvbnN0YW50cy5XRUFQT05fUkFOR0VTW0ltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZShqc29uRGF0YSwgJ3JhbmdlJyldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YS5kYXRhLnRocm93bi5yYW5nZXMgPSBDb25zdGFudHMuV0VBUE9OX1JBTkdFU1tJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUoanNvbkRhdGEsICdjYXRlZ29yeScpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZGF0YS50aHJvd24uYmxhc3QgPSB0aGlzLkdldEJsYXN0KGpzb25EYXRhLCBkYXRhKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJbXBvcnRIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXIvSW1wb3J0SGVscGVyJztcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uLy4uL2ltcG9ydGVyL0NvbnN0YW50cyc7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuaW1wb3J0IFdlYXBvbiA9IFNoYWRvd3J1bi5XZWFwb247XG5pbXBvcnQgV2VhcG9uQ2F0ZWdvcnkgPSBTaGFkb3dydW4uV2VhcG9uQ2F0ZWdvcnk7XG5pbXBvcnQgU2tpbGxOYW1lID0gU2hhZG93cnVuLlNraWxsTmFtZTtcbmltcG9ydCB7IFRlY2hub2xvZ3lJdGVtUGFyc2VyQmFzZSB9IGZyb20gJy4uL2l0ZW0vVGVjaG5vbG9neUl0ZW1QYXJzZXJCYXNlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFdlYXBvblBhcnNlckJhc2UgZXh0ZW5kcyBUZWNobm9sb2d5SXRlbVBhcnNlckJhc2U8V2VhcG9uPiB7XG4gICAgcHVibGljIGFic3RyYWN0IEdldERhbWFnZShqc29uRGF0YTogb2JqZWN0KTogRGFtYWdlRGF0YTtcblxuICAgIHByb3RlY3RlZCBHZXRTa2lsbCh3ZWFwb25Kc29uOiBvYmplY3QpOiBTa2lsbE5hbWUge1xuICAgICAgICBpZiAod2VhcG9uSnNvbi5oYXNPd25Qcm9wZXJ0eSgndXNlc2tpbGwnKSkge1xuICAgICAgICAgICAgbGV0IGpzb25Ta2lsbCA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZSh3ZWFwb25Kc29uLCAndXNlc2tpbGwnKTtcbiAgICAgICAgICAgIGlmIChDb25zdGFudHMuTUFQX0NBVEVHT1JZX1RPX1NLSUxMLmhhc093blByb3BlcnR5KGpzb25Ta2lsbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzLk1BUF9DQVRFR09SWV9UT19TS0lMTFtqc29uU2tpbGxdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpzb25Ta2lsbC5yZXBsYWNlKC9bXFxzXFwtXS9nLCAnXycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnkgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUod2VhcG9uSnNvbiwgJ2NhdGVnb3J5Jyk7XG4gICAgICAgICAgICBpZiAoQ29uc3RhbnRzLk1BUF9DQVRFR09SWV9UT19TS0lMTC5oYXNPd25Qcm9wZXJ0eShjYXRlZ29yeSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzLk1BUF9DQVRFR09SWV9UT19TS0lMTFtjYXRlZ29yeV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0eXBlID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKHdlYXBvbkpzb24sICd0eXBlJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlID09PSAncmFuZ2VkJyA/ICdleG90aWNfcmFuZ2UnIDogJ2V4b3RpY19tZWxlZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIEdldFdlYXBvblR5cGUod2VhcG9uSnNvbjogb2JqZWN0KTogV2VhcG9uQ2F0ZWdvcnkge1xuICAgICAgICBsZXQgdHlwZSA9IEltcG9ydEhlbHBlci5TdHJpbmdWYWx1ZSh3ZWFwb25Kc29uLCAndHlwZScpO1xuICAgICAgICAvL21lbGVlIGlzIHRoZSBsZWFzdCBzcGVjaWZpYywgYWxsIG1lbGVlIGVudHJpZXMgYXJlIGFjY3VyYXRlXG4gICAgICAgIGlmICh0eXBlID09PSAnTWVsZWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21lbGVlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNraWxsIHRha2VzIHByaW9yaXRpZXMgb3ZlciBjYXRlZ29yeVxuICAgICAgICAgICAgaWYgKHdlYXBvbkpzb24uaGFzT3duUHJvcGVydHkoJ3VzZXNraWxsJykpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2tpbGwgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUod2VhcG9uSnNvbiwgJ3VzZXNraWxsJyk7XG4gICAgICAgICAgICAgICAgaWYgKHNraWxsID09PSAnVGhyb3dpbmcgV2VhcG9ucycpIHJldHVybiAndGhyb3duJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2F0ZWdvcnkgaXMgdGhlIGZhbGxiYWNrXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnkgPSBJbXBvcnRIZWxwZXIuU3RyaW5nVmFsdWUod2VhcG9uSnNvbiwgJ2NhdGVnb3J5Jyk7XG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnkgPT09ICdUaHJvd2luZyBXZWFwb25zJykgcmV0dXJuICd0aHJvd24nO1xuICAgICAgICAgICAgLy8gcmFuZ2VkIGlzIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgcmV0dXJuICdyYW5nZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgUGFyc2UoanNvbkRhdGE6IG9iamVjdCwgZGF0YTogV2VhcG9uLCBqc29uVHJhbnNsYXRpb24/OiBvYmplY3QpOiBXZWFwb24ge1xuICAgICAgICBkYXRhID0gc3VwZXIuUGFyc2UoanNvbkRhdGEsIGRhdGEsIGpzb25UcmFuc2xhdGlvbik7XG5cbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gSW1wb3J0SGVscGVyLlN0cmluZ1ZhbHVlKGpzb25EYXRhLCAnY2F0ZWdvcnknKTtcbiAgICAgICAgLy8gQSBzaW5nbGUgaXRlbSBkb2VzIG5vdCBtZWV0IG5vcm1hbCBydWxlcywgdGhhbmtzIENodW1tZXIhXG4gICAgICAgIC8vIFRPRE86IENoZWNrIHRoZXNlIHJ1bGVzIGFmdGVyIGxvY2FsaXphdGlvbiB1c2luZyBhIGdlbmVyaWMsIG5vbi1lbmdsaXNoIGFwcHJvYWNoLlxuICAgICAgICBpZiAoY2F0ZWdvcnkgPT09ICdIb2xkLW91dHMnKSB7XG4gICAgICAgICAgICBjYXRlZ29yeSA9ICdIb2xkb3V0cyc7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmRhdGEuY2F0ZWdvcnkgPSBXZWFwb25QYXJzZXJCYXNlLkdldFdlYXBvblR5cGUoanNvbkRhdGEpO1xuICAgICAgICBkYXRhLmRhdGEuc3ViY2F0ZWdvcnkgPSBjYXRlZ29yeS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGRhdGEuZGF0YS5hY3Rpb24uc2tpbGwgPSB0aGlzLkdldFNraWxsKGpzb25EYXRhKTtcbiAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5kYW1hZ2UgPSB0aGlzLkdldERhbWFnZShqc29uRGF0YSk7XG5cbiAgICAgICAgZGF0YS5kYXRhLmFjdGlvbi5saW1pdC52YWx1ZSA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShqc29uRGF0YSwgJ2FjY3VyYWN5Jyk7XG4gICAgICAgIGRhdGEuZGF0YS5hY3Rpb24ubGltaXQuYmFzZSA9IEltcG9ydEhlbHBlci5JbnRWYWx1ZShqc29uRGF0YSwgJ2FjY3VyYWN5Jyk7XG5cbiAgICAgICAgZGF0YS5kYXRhLnRlY2hub2xvZ3kuY29uY2VhbC5iYXNlID0gSW1wb3J0SGVscGVyLkludFZhbHVlKGpzb25EYXRhLCAnY29uY2VhbCcpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBEZXZpY2VEYXRhID0gU2hhZG93cnVuLkRldmljZURhdGE7XG5pbXBvcnQgeyBTUjVJdGVtIH0gZnJvbSAnLi9TUjVJdGVtJztcbmltcG9ydCBBbW1vRGF0YSA9IFNoYWRvd3J1bi5BbW1vRGF0YTtcblxuZXhwb3J0IGNvbnN0IENoYXREYXRhID0ge1xuICAgIGFjdGlvbjogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgaWYgKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFN0cmluZ0xpc3Q6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24uc2tpbGwpIHtcbiAgICAgICAgICAgICAgICBsYWJlbFN0cmluZ0xpc3QucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEuYWN0aW9uLnNraWxsKSk7XG4gICAgICAgICAgICAgICAgbGFiZWxTdHJpbmdMaXN0LnB1c2goSGVscGVycy5sYWJlbChkYXRhLmFjdGlvbi5hdHRyaWJ1dGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5hY3Rpb24uYXR0cmlidXRlMikge1xuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24uYXR0cmlidXRlKSk7XG4gICAgICAgICAgICAgICAgbGFiZWxTdHJpbmdMaXN0LnB1c2goSGVscGVycy5sYWJlbChkYXRhLmFjdGlvbi5hdHRyaWJ1dGUyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuYWN0aW9uLmF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24uYXR0cmlidXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24ubW9kKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxTdHJpbmdMaXN0LnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuSXRlbU1vZCcpfSAoJHtkYXRhLmFjdGlvbi5tb2R9KWApO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gd2hlbiBhbGwgbW9kcyBhcmUgbW9kbGlzdHNcbiAgICAgICAgICAgICAgICAvLyBPYmplY3QuZW50cmllcyhkYXRhLmFjdGlvbi5tb2QpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT5cbiAgICAgICAgICAgICAgICAvLyAgICAgbGFiZWxTdHJpbmdMaXN0LnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKGtleSl9ICgke3ZhbHVlfSlgKVxuICAgICAgICAgICAgICAgIC8vICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFiZWxTdHJpbmdMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxhYmVscy5yb2xsID0gbGFiZWxTdHJpbmdMaXN0LmpvaW4oJyArICcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24ub3Bwb3NlZC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBvcHBvc2VkIH0gPSBkYXRhLmFjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAob3Bwb3NlZC50eXBlICE9PSAnY3VzdG9tJykgbGFiZWxzLm9wcG9zZWRSb2xsID0gYHZzLiAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC50eXBlKX1gO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wcG9zZWQuc2tpbGwpIGxhYmVscy5vcHBvc2VkUm9sbCA9IGB2cy4gJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuc2tpbGwpfSske0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUpfWA7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUyKSBsYWJlbHMub3Bwb3NlZFJvbGwgPSBgdnMuICR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZSl9KyR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZTIpfWA7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUpIGxhYmVscy5vcHBvc2VkUm9sbCA9IGB2cy4gJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuYXR0cmlidXRlKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXR1cCBhY3Rpb24gcHJvcHNcbiAgICAgICAgICAgIC8vIGdvIGluIG9yZGVyIG9mIFwiTGltaXQvQWNjdXJhY3lcIiBcIkRhbWFnZVwiIFwiQVBcIlxuICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIGFjdGlvbiB0eXBlIGlmIHNldCB0byAndmFyaWVzJyBvciAnbm9uZScgYXMgdGhhdCdzIHByZXR0eSBtdWNoIHVzZWxlc3MgaW5mb1xuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLnR5cGUgIT09ICcnICYmIGRhdGEuYWN0aW9uLnR5cGUgIT09ICd2YXJpZXMnICYmIGRhdGEuYWN0aW9uLnR5cGUgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIHByb3BzLnB1c2goYCR7SGVscGVycy5sYWJlbChkYXRhLmFjdGlvbi50eXBlKX0gQWN0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24ubGltaXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxpbWl0IH0gPSBkYXRhLmFjdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBsaW1pdC5hdHRyaWJ1dGUgPyBgJHtnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5saW1pdHNbbGltaXQuYXR0cmlidXRlXSl9YCA6ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbWl0VmFsID0gbGltaXQudmFsdWUgPyBsaW1pdC52YWx1ZSA6ICcnO1xuICAgICAgICAgICAgICAgIGxldCBsaW1pdFN0ciA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRTdHIgKz0gYXR0cmlidXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGltaXRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRTdHIgKz0gJyArICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGltaXRTdHIgKz0gbGltaXRWYWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxpbWl0U3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnB1c2goYExpbWl0ICR7bGltaXRTdHJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYW1hZ2UgfSA9IGRhdGEuYWN0aW9uO1xuICAgICAgICAgICAgICAgIGxldCBkYW1hZ2VTdHJpbmcgPSAnJztcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudFN0cmluZyA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGRhbWFnZS5hdHRyaWJ1dGUgPyBgJHtnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hdHRyaWJ1dGVzW2RhbWFnZS5hdHRyaWJ1dGVdKX0gKyBgIDogJyc7XG4gICAgICAgICAgICAgICAgaWYgKGRhbWFnZS52YWx1ZSB8fCBhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGRhbWFnZS50eXBlLnZhbHVlID8gZGFtYWdlLnR5cGUudmFsdWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlU3RyaW5nID0gYERWICR7YXR0cmlidXRlfSR7ZGFtYWdlLnZhbHVlfSR7dHlwZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGFtYWdlLmVsZW1lbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIGRhbWFnZSB2YWx1ZSBhbmQgYXJlIGVsZWN0cmljLCBmb2xsb3cgdGhlIGNvbnZlbnRpb24gb2YgKGUpIGFmdGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYW1hZ2UudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYW1hZ2UuZWxlbWVudC52YWx1ZSA9PT0gJ2VsZWN0cmljaXR5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZVN0cmluZyArPSAnIChlKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRTdHJpbmcgPSBIZWxwZXJzLmxhYmVsKGRhbWFnZS5lbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRTdHJpbmcgPSBIZWxwZXJzLmxhYmVsKGRhbWFnZS5lbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGFtYWdlU3RyaW5nKSBwcm9wcy5wdXNoKGRhbWFnZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRTdHJpbmcpIHByb3BzLnB1c2goZWxlbWVudFN0cmluZyk7XG4gICAgICAgICAgICAgICAgaWYgKGRhbWFnZS5hcCAmJiBkYW1hZ2UuYXAudmFsdWUpIHByb3BzLnB1c2goYEFQICR7ZGFtYWdlLmFwLnZhbHVlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzaW46IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIHByb3BzLnB1c2goYFJhdGluZyAke2RhdGEudGVjaG5vbG9neS5yYXRpbmd9YCk7XG4gICAgICAgIGRhdGEubGljZW5zZXMuZm9yRWFjaCgobGljZW5zZSkgPT4ge1xuICAgICAgICAgICAgcHJvcHMucHVzaChgJHtsaWNlbnNlLm5hbWV9IFIke2xpY2Vuc2UucnRnfWApO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgY29udGFjdDogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgcHJvcHMucHVzaChkYXRhLnR5cGUpO1xuICAgICAgICBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNvbm5lY3Rpb24nKX0gJHtkYXRhLmNvbm5lY3Rpb259YCk7XG4gICAgICAgIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTG95YWx0eScpfSAke2RhdGEubG95YWx0eX1gKTtcbiAgICAgICAgaWYgKGRhdGEuYmxhY2ttYWlsKSB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkJsYWNrbWFpbCcpfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmZhbWlseSkge1xuICAgICAgICAgICAgcHJvcHMucHVzaChnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5GYW1pbHknKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgbGlmZXN0eWxlOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICBwcm9wcy5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS50eXBlKSk7XG4gICAgICAgIGlmIChkYXRhLmNvc3QpIHByb3BzLnB1c2goYMKlJHtkYXRhLmNvc3R9YCk7XG4gICAgICAgIGlmIChkYXRhLmNvbWZvcnRzKSBwcm9wcy5wdXNoKGBDb21mb3J0cyAke2RhdGEuY29tZm9ydHN9YCk7XG4gICAgICAgIGlmIChkYXRhLnNlY3VyaXR5KSBwcm9wcy5wdXNoKGBTZWN1cml0eSAke2RhdGEuc2VjdXJpdHl9YCk7XG4gICAgICAgIGlmIChkYXRhLm5laWdoYm9yaG9vZCkgcHJvcHMucHVzaChgTmVpZ2hib3Job29kICR7ZGF0YS5uZWlnaGJvcmhvb2R9YCk7XG4gICAgICAgIGlmIChkYXRhLmd1ZXN0cykgcHJvcHMucHVzaChgR3Vlc3RzICR7ZGF0YS5ndWVzdHN9YCk7XG4gICAgfSxcblxuICAgIGFkZXB0X3Bvd2VyOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICBDaGF0RGF0YS5hY3Rpb24oZGF0YSwgbGFiZWxzLCBwcm9wcyk7XG4gICAgICAgIHByb3BzLnB1c2goYFBQICR7ZGF0YS5wcH1gKTtcbiAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEudHlwZSkpO1xuICAgIH0sXG5cbiAgICBhcm1vcjogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgaWYgKGRhdGEuYXJtb3IpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmFybW9yLnZhbHVlKSBwcm9wcy5wdXNoKGBBcm1vciAke2RhdGEuYXJtb3IubW9kID8gJysnIDogJyd9JHtkYXRhLmFybW9yLnZhbHVlfWApO1xuICAgICAgICAgICAgaWYgKGRhdGEuYXJtb3IuYWNpZCkgcHJvcHMucHVzaChgQWNpZCAke2RhdGEuYXJtb3IuYWNpZH1gKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmFybW9yLmNvbGQpIHByb3BzLnB1c2goYENvbGQgJHtkYXRhLmFybW9yLmNvbGR9YCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5maXJlKSBwcm9wcy5wdXNoKGBGaXJlICR7ZGF0YS5hcm1vci5maXJlfWApO1xuICAgICAgICAgICAgaWYgKGRhdGEuYXJtb3IuZWxlY3RyaWNpdHkpIHByb3BzLnB1c2goYEVsZWN0cmljaXR5ICR7ZGF0YS5hcm1vci5lbGVjdHJpY2l0eX1gKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmFybW9yLnJhZGlhdGlvbikgcHJvcHMucHVzaChgUmFkaWF0aW9uICR7ZGF0YS5hcm1vci5yYWRpYXRpb259YCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYW1tbzogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgaWYgKGRhdGEuZGFtYWdlVHlwZSkgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuRGFtYWdlVHlwZVwiKX0gJHtkYXRhLmRhbWFnZVR5cGV9YCk7XG4gICAgICAgIGlmIChkYXRhLmRhbWFnZSkgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuRGFtYWdlVmFsdWVcIil9ICR7ZGF0YS5kYW1hZ2V9YCk7XG4gICAgICAgIGlmIChkYXRhLmVsZW1lbnQpIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LkVsZW1lbnRcIil9ICR7ZGF0YS5lbGVtZW50fWApO1xuICAgICAgICBpZiAoZGF0YS5hcCkgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuQVBcIil9ICR7ZGF0YS5hcH1gKTtcbiAgICAgICAgaWYgKGRhdGEuYmxhc3QucmFkaXVzKSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkJsYXN0UmFkaXVzJyl9ICR7ZGF0YS5ibGFzdC5yYWRpdXN9bWApO1xuICAgICAgICBpZiAoZGF0YS5ibGFzdC5kcm9wb2ZmKSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRyb3BvZmYnKX0gJHtkYXRhLmJsYXN0LmRyb3BvZmZ9L21gKTtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbTogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgcHJvcHMucHVzaChnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5wcm9ncmFtVHlwZXNbZGF0YS50eXBlXSkpO1xuICAgIH0sXG5cbiAgICBjb21wbGV4X2Zvcm06IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIENoYXREYXRhLmFjdGlvbihkYXRhLCBsYWJlbHMsIHByb3BzKTtcbiAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEudGFyZ2V0KSwgSGVscGVycy5sYWJlbChkYXRhLmR1cmF0aW9uKSk7XG4gICAgICAgIGNvbnN0IHsgZmFkZSB9ID0gZGF0YTtcbiAgICAgICAgaWYgKGZhZGUgPiAwKSBwcm9wcy5wdXNoKGBGYWRlIEwrJHtmYWRlfWApO1xuICAgICAgICBlbHNlIGlmIChmYWRlIDwgMCkgcHJvcHMucHVzaChgRmFkZSBMJHtmYWRlfWApO1xuICAgICAgICBlbHNlIHByb3BzLnB1c2goJ0ZhZGUgTCcpO1xuICAgIH0sXG5cbiAgICBjeWJlcndhcmU6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIENoYXREYXRhLmFjdGlvbihkYXRhLCBsYWJlbHMsIHByb3BzKTtcbiAgICAgICAgQ2hhdERhdGEuYXJtb3IoZGF0YSwgbGFiZWxzLCBwcm9wcyk7XG4gICAgICAgIGlmIChkYXRhLmVzc2VuY2UpIHByb3BzLnB1c2goYEVzcyAke2RhdGEuZXNzZW5jZX1gKTtcbiAgICB9LFxuXG4gICAgYmlvd2FyZTogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xuICAgICAgICBDaGF0RGF0YS5hcm1vcihkYXRhLCBsYWJlbHMsIHByb3BzKTtcbiAgICAgICAgaWYgKGRhdGEuZXNzZW5jZSkgcHJvcHMucHVzaChgRXNzICR7ZGF0YS5lc3NlbmNlfWApO1xuICAgIH0sXG5cbiAgICBkZXZpY2U6IChkYXRhOiBEZXZpY2VEYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnRlY2hub2xvZ3kgJiYgZGF0YS50ZWNobm9sb2d5LnJhdGluZykgcHJvcHMucHVzaChgUmF0aW5nICR7ZGF0YS50ZWNobm9sb2d5LnJhdGluZ31gKTtcbiAgICAgICAgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICdjeWJlcmRlY2snKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dE4gb2YgT2JqZWN0LnZhbHVlcyhkYXRhLmF0dHMpKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMucHVzaChgJHtIZWxwZXJzLmxhYmVsKGF0dE4uYXR0KX0gJHthdHROLnZhbHVlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGVxdWlwbWVudDogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgaWYgKGRhdGEudGVjaG5vbG9neSAmJiBkYXRhLnRlY2hub2xvZ3kucmF0aW5nKSBwcm9wcy5wdXNoKGBSYXRpbmcgJHtkYXRhLnRlY2hub2xvZ3kucmF0aW5nfWApO1xuICAgIH0sXG5cbiAgICBxdWFsaXR5OiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICBDaGF0RGF0YS5hY3Rpb24oZGF0YSwgbGFiZWxzLCBwcm9wcyk7XG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLnR5cGUpKTtcbiAgICB9LFxuXG4gICAgc3ByaXRlX3Bvd2VyOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICAvLyBhZGQgYWN0aW9uIGRhdGFcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xuICAgIH0sXG5cbiAgICBjcml0dGVyX3Bvd2VyOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICAvLyBwb3dlciB0eXBlXG4gICAgICAgIHByb3BzLnB1c2goZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuY3JpdHRlclBvd2VyLnR5cGVzW2RhdGEucG93ZXJUeXBlXSkpO1xuICAgICAgICAvLyBkdXJhdGlvblxuICAgICAgICBwcm9wcy5wdXNoKGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmNyaXR0ZXJQb3dlci5kdXJhdGlvbnNbZGF0YS5kdXJhdGlvbl0pKTtcbiAgICAgICAgLy8gcmFuZ2VcbiAgICAgICAgcHJvcHMucHVzaChnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5jcml0dGVyUG93ZXIucmFuZ2VzW2RhdGEucmFuZ2VdKSk7XG5cbiAgICAgICAgLy8gYWRkIGFjdGlvbiBkYXRhXG4gICAgICAgIENoYXREYXRhLmFjdGlvbihkYXRhLCBsYWJlbHMsIHByb3BzKTtcbiAgICB9LFxuXG4gICAgLy8gYWRkIHByb3BlcnRpZXMgZm9yIHNwZWxsIGRhdGEsIGZvbGxvdyBvcmRlciBpbiBib29rXG4gICAgc3BlbGw6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIC8vIGZpcnN0IGNhdGVnb3J5IGFuZCB0eXBlXG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLmNhdGVnb3J5KSwgSGVscGVycy5sYWJlbChkYXRhLnR5cGUpKTtcblxuICAgICAgICAvLyBhZGQgc3VidHlwZSB0YWdzXG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnY29tYmF0Jykge1xuICAgICAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEuY29tYmF0LnR5cGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnaGVhbHRoJykge1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICdpbGx1c2lvbicpIHtcbiAgICAgICAgICAgIHByb3BzLnB1c2goZGF0YS5pbGx1c2lvbi50eXBlKTtcbiAgICAgICAgICAgIHByb3BzLnB1c2goZGF0YS5pbGx1c2lvbi5zZW5zZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jYXRlZ29yeSA9PT0gJ21hbmlwdWxhdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5kYW1hZ2luZykgcHJvcHMucHVzaCgnRGFtYWdpbmcnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5tZW50YWwpIHByb3BzLnB1c2goJ01lbnRhbCcpO1xuICAgICAgICAgICAgaWYgKGRhdGEubWFuaXB1bGF0aW9uLmVudmlyb25tZW50YWwpIHByb3BzLnB1c2goJ0Vudmlyb25tZW50YWwnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5waHlzaWNhbCkgcHJvcHMucHVzaCgnUGh5c2ljYWwnKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnZGV0ZWN0aW9uJykge1xuICAgICAgICAgICAgcHJvcHMucHVzaChkYXRhLmlsbHVzaW9uLnR5cGUpO1xuICAgICAgICAgICAgcHJvcHMucHVzaChkYXRhLmlsbHVzaW9uLnBhc3NpdmUgPyAnUGFzc2l2ZScgOiAnQWN0aXZlJyk7XG4gICAgICAgICAgICBpZiAoZGF0YS5pbGx1c2lvbi5leHRlbmRlZCkgcHJvcHMucHVzaCgnRXh0ZW5kZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgcmFuZ2VcbiAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEucmFuZ2UpKTtcblxuICAgICAgICAvLyBhZGQgYWN0aW9uIGRhdGFcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xuXG4gICAgICAgIC8vIGFkZCBkdXJhdGlvbiBkYXRhXG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLmR1cmF0aW9uKSk7XG5cbiAgICAgICAgLy8gYWRkIGRyYWluIGRhdGFcbiAgICAgICAgY29uc3QgeyBkcmFpbiB9ID0gZGF0YTtcbiAgICAgICAgaWYgKGRyYWluID4gMCkgcHJvcHMucHVzaChgRHJhaW4gRiske2RyYWlufWApO1xuICAgICAgICBlbHNlIGlmIChkcmFpbiA8IDApIHByb3BzLnB1c2goYERyYWluIEYke2RyYWlufWApO1xuICAgICAgICBlbHNlIHByb3BzLnB1c2goJ0RyYWluIEYnKTtcblxuICAgICAgICBsYWJlbHMucm9sbCA9ICdDYXN0JztcbiAgICB9LFxuXG4gICAgd2VhcG9uOiAoZGF0YSwgbGFiZWxzLCBwcm9wcywgaXRlbTogU1I1SXRlbSkgPT4ge1xuICAgICAgICBDaGF0RGF0YS5hY3Rpb24oZGF0YSwgbGFiZWxzLCBwcm9wcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluY2x1ZGVzKCdMaW1pdCcpKSB7XG4gICAgICAgICAgICAgICAgcHJvcHNbaV0gPSBwcm9wLnJlcGxhY2UoJ0xpbWl0JywgJ0FjY3VyYWN5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcXVpcHBlZEFtbW8gPSBpdGVtLmdldEVxdWlwcGVkQW1tbygpO1xuICAgICAgICBpZiAoZXF1aXBwZWRBbW1vICYmIGRhdGEuYW1tbyAmJiBkYXRhLmFtbW8uY3VycmVudD8ubWF4KSB7XG4gICAgICAgICAgICBpZiAoZXF1aXBwZWRBbW1vKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW1tb0RhdGEgPSBlcXVpcHBlZEFtbW8uZGF0YS5kYXRhIGFzIEFtbW9EYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY3VycmVudCwgc3BhcmVfY2xpcHMgfSA9IGRhdGEuYW1tbztcbiAgICAgICAgICAgICAgICBpZiAoZXF1aXBwZWRBbW1vLm5hbWUpIHByb3BzLnB1c2goYCR7ZXF1aXBwZWRBbW1vLm5hbWV9ICgke2N1cnJlbnQudmFsdWV9LyR7Y3VycmVudC5tYXh9KWApO1xuICAgICAgICAgICAgICAgIGlmIChhbW1vRGF0YS5ibGFzdC5yYWRpdXMpIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQmxhc3RSYWRpdXMnKX0gJHthbW1vRGF0YS5ibGFzdC5yYWRpdXN9bWApO1xuICAgICAgICAgICAgICAgIGlmIChhbW1vRGF0YS5ibGFzdC5kcm9wb2ZmKSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRyb3BvZmYnKX0gJGFtbW9EYXRhLmJsYXN0LmRyb3BvZmZ9L21gKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BhcmVfY2xpcHMgJiYgc3BhcmVfY2xpcHMubWF4KSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNwYXJlQ2xpcHMnKX0gKCR7c3BhcmVfY2xpcHMudmFsdWV9LyR7c3BhcmVfY2xpcHMubWF4fSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnRlY2hub2xvZ3k/LmNvbmNlYWw/LnZhbHVlKSB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNvbmNlYWwnKX0gJHtkYXRhLnRlY2hub2xvZ3kuY29uY2VhbC52YWx1ZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5ID09PSAncmFuZ2UnKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5yYW5nZS5yYykge1xuICAgICAgICAgICAgICAgIGxldCByY1N0cmluZyA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJlY29pbENvbXBlbnNhdGlvbicpfSAke2RhdGEucmFuZ2UucmMudmFsdWV9YDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbT8uYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmNTdHJpbmcgKz0gYCAoJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Ub3RhbCcpfSAke2l0ZW0uYWN0b3IuZ2V0UmVjb2lsQ29tcGVuc2F0aW9uKCl9KWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocmNTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEucmFuZ2UubW9kZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNb2Rlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZGVzIH0gPSBkYXRhLnJhbmdlO1xuICAgICAgICAgICAgICAgIGlmIChtb2Rlcy5zaW5nbGVfc2hvdCkgbmV3TW9kZXMucHVzaCgnU1I1LldlYXBvbk1vZGVTaW5nbGVTaG90U2hvcnQnKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZXMuc2VtaV9hdXRvKSBuZXdNb2Rlcy5wdXNoKCdTUjUuV2VhcG9uTW9kZVNlbWlBdXRvU2hvcnQnKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZXMuYnVyc3RfZmlyZSkgbmV3TW9kZXMucHVzaCgnU1I1LldlYXBvbk1vZGVCdXJzdEZpcmVTaG9ydCcpO1xuICAgICAgICAgICAgICAgIGlmIChtb2Rlcy5mdWxsX2F1dG8pIG5ld01vZGVzLnB1c2goJ1NSNS5XZWFwb25Nb2RlRnVsbEF1dG9TaG9ydCcpO1xuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gobmV3TW9kZXMubWFwKChtKSA9PiBnYW1lLmkxOG4ubG9jYWxpemUobSkpLmpvaW4oJy8nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5yYW5nZS5yYW5nZXMpIHByb3BzLnB1c2goQXJyYXkuZnJvbShPYmplY3QudmFsdWVzKGRhdGEucmFuZ2UucmFuZ2VzKSkuam9pbignLycpKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnbWVsZWUnKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5tZWxlZS5yZWFjaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWNoU3RyaW5nID0gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUmVhY2gnKX0gJHtkYXRhLm1lbGVlLnJlYWNofWA7XG4gICAgICAgICAgICAgICAgLy8gZmluZCBhY2N1cmFjeSBpbiBwcm9wcyBhbmQgaW5zZXJ0IG91cnNlbHZlcyBhZnRlciBpdFxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY0luZGV4ID0gcHJvcHMuZmluZEluZGV4KChwKSA9PiBwLmluY2x1ZGVzKCdBY2N1cmFjeScpKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zcGxpY2UoYWNjSW5kZXggKyAxLCAwLCByZWFjaFN0cmluZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMucHVzaChyZWFjaFN0cmluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICd0aHJvd24nKSB7XG4gICAgICAgICAgICBjb25zdCB7IGJsYXN0IH0gPSBkYXRhLnRocm93bjtcbiAgICAgICAgICAgIGlmIChibGFzdD8ucmFkaXVzKSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkJsYXN0UmFkaXVzJyl9ICR7Ymxhc3QucmFkaXVzfW1gKTtcbiAgICAgICAgICAgIGlmIChibGFzdD8uZHJvcG9mZikgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Ecm9wb2ZmJyl9ICR7Ymxhc3QuZHJvcG9mZn0vbWApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50aHJvd24ucmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXVsdCA9IGRhdGEudGhyb3duLnJhbmdlcy5hdHRyaWJ1dGUgJiYgaXRlbT8uYWN0b3IgPyBpdGVtLmFjdG9yLmRhdGEuZGF0YS5hdHRyaWJ1dGVzW2RhdGEudGhyb3duLnJhbmdlcy5hdHRyaWJ1dGVdLnZhbHVlIDogMTtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZXMgPSBbZGF0YS50aHJvd24ucmFuZ2VzLnNob3J0LCBkYXRhLnRocm93bi5yYW5nZXMubWVkaXVtLCBkYXRhLnRocm93bi5yYW5nZXMubG9uZywgZGF0YS50aHJvd24ucmFuZ2VzLmV4dHJlbWVdO1xuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocmFuZ2VzLm1hcCgodikgPT4gdiAqIG11bHQpLmpvaW4oJy8nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcXVpcHBlZE1vZHMgPSBpdGVtLmdldEVxdWlwcGVkTW9kcygpO1xuICAgICAgICBpZiAoZXF1aXBwZWRNb2RzKSB7XG4gICAgICAgICAgICBlcXVpcHBlZE1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcHMucHVzaChgJHttb2QubmFtZX1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG4iLCIvKipcbiAqIEhhbmRsZSBhbGwgdGhpbmdzIHJlbGF0ZWQgdG8gdGhlIGFjdGlvbiB0ZW1wbGF0ZSAodGVtcGxhdGUuanNvbilcbiAqL1xuaW1wb3J0IHtTUjVBY3Rvcn0gZnJvbSBcIi4uL2FjdG9yL1NSNUFjdG9yXCI7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tIFwiLi4vaGVscGVyc1wiO1xuaW1wb3J0IEZvcm11bGFPcGVyYXRvciA9IFNoYWRvd3J1bi5Gb3JtdWxhT3BlcmF0b3I7XG5cbmV4cG9ydCBjbGFzcyBJdGVtQWN0aW9uIHtcbiAgICBzdGF0aWMgY2FsY0RhbWFnZShkYW1hZ2U6IERhbWFnZURhdGEsIGFjdG9yOiBTUjVBY3Rvcik6IERhbWFnZURhdGEge1xuICAgICAgICAvLyBBdm9pZCBtYW5pcHVsYXRpb24gb24gb3JpZ2luYWwgZGF0YSwgd2hpY2ggbWlnaHQgY29tZSBmcm9tIGRhdGFiYXNlIHZhbHVlcy5cbiAgICAgICAgZGFtYWdlID0gZHVwbGljYXRlKGRhbWFnZSk7XG5cbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYWN0b3IuZmluZEF0dHJpYnV0ZShkYW1hZ2UuYXR0cmlidXRlKTtcblxuICAgICAgICBpZiAoIWF0dHJpYnV0ZSkgcmV0dXJuIGRhbWFnZTtcblxuICAgICAgICBkYW1hZ2UuYmFzZSA9IEl0ZW1BY3Rpb24uX2FwcGx5Rm9ybXVsYU9wZXJhdG9yVG9WYWx1ZXMoZGFtYWdlLmJhc2UsIGF0dHJpYnV0ZS52YWx1ZSwgZGFtYWdlLmJhc2VfZm9ybXVsYV9vcGVyYXRvcik7XG5cbiAgICAgICAgLy8gUmF0aGVyIHJlZHVjZSBkYW1hZ2UgdG8gdGhlIG5leHQgZnVsbCBkZWNpbWFsLlxuICAgICAgICBkYW1hZ2UuYmFzZSA9IEhlbHBlcnMuYXBwbHlWYWx1ZVJhbmdlKE1hdGguZmxvb3IoZGFtYWdlLmJhc2UpLCB7bWluOiAwfSk7XG4gICAgICAgIGRhbWFnZS52YWx1ZSA9IGRhbWFnZS5iYXNlO1xuXG4gICAgICAgIHJldHVybiBkYW1hZ2U7XG4gICAgfVxuXG4gICAgLyoqIENhbGN1bGF0ZSB0aGUgcmVzdWx0IG9mIG9wZXJhdGluZyBvbiB0d28gdmFsdWVzIHdpdGggYmFzaWMgZm9ybXVsYSBvcGVyYXRvcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmFzZSBUaGUgYmFzaWMgdmFsdWUgb3BlcmF0ZWQgb3Bvbi5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIGRvaW5nIHRoZSBvcGVyYXRpb24gd2l0aC4gSWYgb3JkZXIgaXMgaW1wb3J0YW50LCB0aGlzIHZhbHVlIHdpbGwgYmUgYWZ0ZXIgdGhlIG9wZXJhdG9yLlxuICAgICAqIEBwYXJhbSBvcGVyYXRvciBBIGZvcm11bGEgb3BlcmF0b3IgKGJhc2ljKSB0byBiZSB1c2VkIHdpdGhpbiBhIHNpbXBsZSBjYWxjdWxhdGlvbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgX2FwcGx5Rm9ybXVsYU9wZXJhdG9yVG9WYWx1ZXMoYmFzZTogbnVtYmVyLCB2YWx1ZTogbnVtYmVyLCBvcGVyYXRvcjpGb3JtdWxhT3BlcmF0b3IpOiBudW1iZXIge1xuICAgICAgICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UgKyB2YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJzdWJ0cmFjdFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlIC0gdmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwibXVsdGlwbHlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSAqIHZhbHVlO1xuICAgICAgICAgICAgY2FzZSBcImRpdmlkZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlIC8gdmFsdWU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuc3VwcG9ydGVkIGJhc2UgZGFtYWdlIGZvcm11bGEgb3BlcmF0b3I6ICcke29wZXJhdG9yfScgdXNlZC4gRmFsbGluZyBiYWNrIHRvICdhZGQnLmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHtIZWxwZXJzfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7U1I1QWN0b3J9IGZyb20gJy4uL2FjdG9yL1NSNUFjdG9yJztcbmltcG9ydCB7QWN0aW9uVGVzdERhdGEsIFNoYWRvd3J1bkl0ZW1EaWFsb2d9IGZyb20gJy4uL2FwcHMvZGlhbG9ncy9TaGFkb3dydW5JdGVtRGlhbG9nJztcbmltcG9ydCB7Q2hhdERhdGF9IGZyb20gJy4vQ2hhdERhdGEnO1xuaW1wb3J0IHtTaGFkb3dydW5Sb2xsLCBTaGFkb3dydW5Sb2xsZXIsIFRlc3R9IGZyb20gJy4uL3JvbGxzL1NoYWRvd3J1blJvbGxlcic7XG5pbXBvcnQge2NyZWF0ZUl0ZW1DaGF0TWVzc2FnZX0gZnJvbSAnLi4vY2hhdCc7XG5pbXBvcnQge0RFRkFVTFRfUk9MTF9OQU1FLCBGTEFHUywgU1lTVEVNX05BTUV9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge1NSNUl0ZW1EYXRhV3JhcHBlcn0gZnJvbSAnLi9TUjVJdGVtRGF0YVdyYXBwZXInO1xuaW1wb3J0IHtQYXJ0c0xpc3R9IGZyb20gJy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5pbXBvcnQgTW9kTGlzdCA9IFNoYWRvd3J1bi5Nb2RMaXN0O1xuaW1wb3J0IEF0dGFja0RhdGEgPSBTaGFkb3dydW4uQXR0YWNrRGF0YTtcbmltcG9ydCBBdHRyaWJ1dGVGaWVsZCA9IFNoYWRvd3J1bi5BdHRyaWJ1dGVGaWVsZDtcbmltcG9ydCBTa2lsbEZpZWxkID0gU2hhZG93cnVuLlNraWxsRmllbGQ7XG5pbXBvcnQgTGltaXRGaWVsZCA9IFNoYWRvd3J1bi5MaW1pdEZpZWxkO1xuaW1wb3J0IEZpcmVNb2RlRGF0YSA9IFNoYWRvd3J1bi5GaXJlTW9kZURhdGE7XG5pbXBvcnQgU3BlbGxGb3JjZURhdGEgPSBTaGFkb3dydW4uU3BlbGxGb3JjZURhdGE7XG5pbXBvcnQgQ29tcGxleEZvcm1MZXZlbERhdGEgPSBTaGFkb3dydW4uQ29tcGxleEZvcm1MZXZlbERhdGE7XG5pbXBvcnQgRmlyZVJhbmdlRGF0YSA9IFNoYWRvd3J1bi5GaXJlUmFuZ2VEYXRhO1xuaW1wb3J0IEJsYXN0RGF0YSA9IFNoYWRvd3J1bi5CbGFzdERhdGE7XG5pbXBvcnQgQ29uZGl0aW9uRGF0YSA9IFNoYWRvd3J1bi5Db25kaXRpb25EYXRhO1xuaW1wb3J0IFNSNUl0ZW1UeXBlID0gU2hhZG93cnVuLlNSNUl0ZW1UeXBlO1xuaW1wb3J0IEFjdGlvblJvbGxEYXRhID0gU2hhZG93cnVuLkFjdGlvblJvbGxEYXRhO1xuaW1wb3J0IERhbWFnZURhdGEgPSBTaGFkb3dydW4uRGFtYWdlRGF0YTtcbmltcG9ydCBEZWZlbnNlUm9sbE9wdGlvbnMgPSBTaGFkb3dydW4uRGVmZW5zZVJvbGxPcHRpb25zO1xuaW1wb3J0IFNwZWxsRGVmZW5zZU9wdGlvbnMgPSBTaGFkb3dydW4uU3BlbGxEZWZlbnNlT3B0aW9ucztcbmltcG9ydCBTcGVsbERhdGEgPSBTaGFkb3dydW4uU3BlbGxEYXRhO1xuaW1wb3J0IFdlYXBvbkRhdGEgPSBTaGFkb3dydW4uV2VhcG9uRGF0YTtcbmltcG9ydCBBbW1vRGF0YSA9IFNoYWRvd3J1bi5BbW1vRGF0YTtcbmltcG9ydCBUZWNobm9sb2d5UGFydERhdGEgPSBTaGFkb3dydW4uVGVjaG5vbG9neVBhcnREYXRhO1xuaW1wb3J0IFNpbiA9IFNoYWRvd3J1bi5TaW47XG5pbXBvcnQgV2VhcG9uID0gU2hhZG93cnVuLldlYXBvbjtcbmltcG9ydCBBbW1vID0gU2hhZG93cnVuLkFtbW87XG5pbXBvcnQgVGVjaG5vbG9neURhdGEgPSBTaGFkb3dydW4uVGVjaG5vbG9neURhdGE7XG5pbXBvcnQgUmFuZ2VXZWFwb25EYXRhID0gU2hhZG93cnVuLlJhbmdlV2VhcG9uRGF0YTtcbmltcG9ydCBTcGVsbFJhbmdlID0gU2hhZG93cnVuLlNwZWxsUmFuZ2U7XG5pbXBvcnQgQ3JpdHRlclBvd2VyUmFuZ2UgPSBTaGFkb3dydW4uQ3JpdHRlclBvd2VyUmFuZ2U7XG5pbXBvcnQgQWRlcHRQb3dlciA9IFNoYWRvd3J1bi5BZGVwdFBvd2VyO1xuaW1wb3J0IE1vZGlmaWNhdGlvbiA9IFNoYWRvd3J1bi5Nb2RpZmljYXRpb247XG5pbXBvcnQgQWN0aW9uID0gU2hhZG93cnVuLkFjdGlvbjtcbmltcG9ydCBBcm1vciA9IFNoYWRvd3J1bi5Bcm1vcjtcbmltcG9ydCBDb21wbGV4Rm9ybSA9IFNoYWRvd3J1bi5Db21wbGV4Rm9ybTtcbmltcG9ydCBDb250YWN0ID0gU2hhZG93cnVuLkNvbnRhY3Q7XG5pbXBvcnQgQ3JpdHRlclBvd2VyID0gU2hhZG93cnVuLkNyaXR0ZXJQb3dlcjtcbmltcG9ydCBDeWJlcndhcmUgPSBTaGFkb3dydW4uQ3liZXJ3YXJlO1xuaW1wb3J0IERldmljZSA9IFNoYWRvd3J1bi5EZXZpY2U7XG5pbXBvcnQgRXF1aXBtZW50ID0gU2hhZG93cnVuLkVxdWlwbWVudDtcbmltcG9ydCBMaWZlc3R5bGUgPSBTaGFkb3dydW4uTGlmZXN0eWxlO1xuaW1wb3J0IFByb2dyYW0gPSBTaGFkb3dydW4uUHJvZ3JhbTtcbmltcG9ydCBRdWFsaXR5ID0gU2hhZG93cnVuLlF1YWxpdHk7XG5pbXBvcnQgU3BlbGwgPSBTaGFkb3dydW4uU3BlbGw7XG5pbXBvcnQgU3ByaXRlUG93ZXIgPSBTaGFkb3dydW4uU3ByaXRlUG93ZXI7XG5pbXBvcnQge0l0ZW1BY3Rpb259IGZyb20gXCIuL0l0ZW1BY3Rpb25cIjtcbmltcG9ydCB7U2tpbGxGbG93fSBmcm9tIFwiLi4vYWN0b3IvU2tpbGxGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBTUjVJdGVtIGV4dGVuZHMgSXRlbSB7XG4gICAgLy8gTk9URTogSW4gY29udHJhc3QgdG8gU1I1QWN0b3Igd2UgY2FuIG9ubHkgdHlwZSBJdGVtLmRhdGEgYXMgdGhlIHR5cGluZyBzdHJ1Y3R1cmUgZm9yIEl0ZW1EYXRhIGRvZXNuJ3QgaGF2ZVxuICAgIC8vICAgICAgIG1vbm9saXRoaWMgSXRlbS5kYXRhLmRhdGEgdHlwaW5nIChTUjVBY3RvckRhdGEpIGJ1dCBvbmx5IG9uZSBmb3IgZWFjaCBJdGVtIHR5cGUuIFRoZXJlZm9yZSB3ZSBjYW4ndFxuICAgIC8vICAgICAgIGRvIGV4dGVuZHMgSXRlbTxTUjVJdGVtRGF0YT4gYXMgd2UgY2FuIHdpdGggdGhlIFNSNUFjdG9yIGNsYXNzLlxuICAgIGRhdGE6IFNSNUl0ZW1UeXBlO1xuICAgIGl0ZW1zOiBTUjVJdGVtW107XG5cbiAgICBsYWJlbHM6IHt9ID0ge307XG5cblxuICAgIGdldCBhY3RvcigpOiBTUjVBY3RvciB7XG4gICAgICAgIHJldHVybiBzdXBlci5hY3RvciBhcyBTUjVBY3RvcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCB3cmFwcGVyKCk6IFNSNUl0ZW1EYXRhV3JhcHBlciB7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gY2FzdCBoZXJlIHRvIHVua25vd24gZmlyc3QgdG8gbWFrZSB0cyBoYXBweVxuICAgICAgICByZXR1cm4gbmV3IFNSNUl0ZW1EYXRhV3JhcHBlcigodGhpcy5kYXRhIGFzIHVua25vd24pIGFzIFNSNUl0ZW1UeXBlKTtcbiAgICB9XG5cbiAgICAvLyBGbGFnIEZ1bmN0aW9uc1xuICAgIGdldExhc3RGaXJlTW9kZSgpOiBGaXJlTW9kZURhdGEge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGFnKFNZU1RFTV9OQU1FLCBGTEFHUy5MYXN0RmlyZU1vZGUpIHx8IHsgdmFsdWU6IDAgfTtcbiAgICB9XG4gICAgYXN5bmMgc2V0TGFzdEZpcmVNb2RlKGZpcmVNb2RlOiBGaXJlTW9kZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuTGFzdEZpcmVNb2RlLCBmaXJlTW9kZSk7XG4gICAgfVxuICAgIGdldExhc3RTcGVsbEZvcmNlKCk6IFNwZWxsRm9yY2VEYXRhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuTGFzdFNwZWxsRm9yY2UpIHx8IHsgdmFsdWU6IDAgfTtcbiAgICB9XG4gICAgYXN5bmMgc2V0TGFzdFNwZWxsRm9yY2UoZm9yY2U6IFNwZWxsRm9yY2VEYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkxhc3RTcGVsbEZvcmNlLCBmb3JjZSk7XG4gICAgfVxuICAgIGdldExhc3RDb21wbGV4Rm9ybUxldmVsKCk6IENvbXBsZXhGb3JtTGV2ZWxEYXRhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuTGFzdENvbXBsZXhGb3JtTGV2ZWwpIHx8IHsgdmFsdWU6IDAgfTtcbiAgICB9XG4gICAgYXN5bmMgc2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwobGV2ZWw6IENvbXBsZXhGb3JtTGV2ZWxEYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkxhc3RDb21wbGV4Rm9ybUxldmVsLCBsZXZlbCk7XG4gICAgfVxuICAgIGdldExhc3RGaXJlUmFuZ2VNb2QoKTogRmlyZVJhbmdlRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkxhc3RGaXJlUmFuZ2UpIHx8IHsgdmFsdWU6IDAgfTtcbiAgICB9XG4gICAgYXN5bmMgc2V0TGFzdEZpcmVSYW5nZU1vZChlbnZpcm9ubWVudGFsTW9kOiBGaXJlUmFuZ2VEYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkxhc3RGaXJlUmFuZ2UsIGVudmlyb25tZW50YWxNb2QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBBcnJheSBvZiB0aGUgRW1iZWRkZWQgSXRlbSBEYXRhXG4gICAgICogVE9ETyBwcm9wZXJseSB0eXBlIHRoaXNcbiAgICAgKi9cbiAgICBnZXRFbWJlZGRlZEl0ZW1zKCk6IGFueVtdIHtcbiAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5nZXRGbGFnKFNZU1RFTV9OQU1FLCBGTEFHUy5FbWJlZGRlZEl0ZW1zKTtcblxuICAgICAgICBpdGVtcyA9IGl0ZW1zID8gaXRlbXMgOiBbXTtcblxuICAgICAgICAvLyBtb3ZlZCB0aGlzIFwiaG90Zml4XCIgdG8gaGVyZSBzbyB0aGF0IGV2ZXJ5d2hlcmUgdGhhdCBhY2Nlc3NlcyB0aGUgZmxhZyBqdXN0IGdldHMgYW4gYXJyYXkgLS0gU2hhd25cbiAgICAgICAgaWYgKGl0ZW1zICYmICFBcnJheS5pc0FycmF5KGl0ZW1zKSkge1xuICAgICAgICAgICAgaXRlbXMgPSBIZWxwZXJzLmNvbnZlcnRJbmRleGVkT2JqZWN0VG9BcnJheShpdGVtcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYW51YWxseSBtYXAgd3JvbmdseSBjb252ZXJ0ZWQgYXJyYXkgZmllbGRzLi4uXG4gICAgICAgIGl0ZW1zID0gaXRlbXMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uZWZmZWN0cyAmJiAhQXJyYXkuaXNBcnJheShpdGVtLmVmZmVjdHMpKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5lZmZlY3RzID0gSGVscGVycy5jb252ZXJ0SW5kZXhlZE9iamVjdFRvQXJyYXkoaXRlbS5lZmZlY3RzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBlbWJlZGRlZCBpdGVtIGRhdGFcbiAgICAgKiBAcGFyYW0gaXRlbXNcbiAgICAgKi9cbiAgICBhc3luYyBzZXRFbWJlZGRlZEl0ZW1zKGl0ZW1zOiBhbnlbXSkge1xuICAgICAgICAvLyBjbGVhciB0aGUgZmxhZyBmaXJzdCB0byByZW1vdmUgdGhlIHByZXZpb3VzIGl0ZW1zIC0gaWYgd2UgZG9uJ3QgZG8gdGhpcyB0aGVuIGl0IGRvZXNuJ3QgYWN0dWFsbHkgXCJkZWxldGVcIiBhbnkgaXRlbXNcbiAgICAgICAgLy8gYXdhaXQgdGhpcy51bnNldEZsYWcoU1lTVEVNX05BTUUsICdlbWJlZGRlZEl0ZW1zJyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuRW1iZWRkZWRJdGVtcywgaXRlbXMpO1xuICAgIH1cblxuICAgIGFzeW5jIGNsZWFyRW1iZWRkZWRJdGVtcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy51bnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLkVtYmVkZGVkSXRlbXMpO1xuICAgIH1cblxuICAgIC8qKiBPdmVyd3JpdGUgdG8gYWxsb3cgZm9yIG9wdGlvbnMgcGFyYW0gdG8gYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGUoZGF0YSwgb3B0aW9ucz8pOiBQcm9taXNlPHRoaXM+IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnVwZGF0ZShkYXRhLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBnZXQgaGFzT3Bwb3NlZFJvbGwoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZ2V0QWN0aW9uKCk7XG4gICAgICAgIGlmICghYWN0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiAhIWFjdGlvbi5vcHBvc2VkLnR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGhhc1JvbGwoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZ2V0QWN0aW9uKCk7XG4gICAgICAgIHJldHVybiAhIShhY3Rpb24gJiYgYWN0aW9uLnR5cGUgIT09ICcnICYmIChhY3Rpb24uc2tpbGwgfHwgYWN0aW9uLmF0dHJpYnV0ZSB8fCBhY3Rpb24uYXR0cmlidXRlMiB8fCBhY3Rpb24uZGljZV9wb29sX21vZCkpO1xuICAgIH1cbiAgICBnZXQgaGFzVGVtcGxhdGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQXJlYU9mRWZmZWN0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUFJFUEFSRSBEQVRBIENBTk5PVCBQVUxMIEZST00gdGhpcy5hY3RvciBhdCBBTExcbiAgICAgKiAtIGFzIG9mIGZvdW5kcnkgdjAuNy40LCBhY3RvciBkYXRhIGlzbid0IHByZXBhcmVkIGJ5IHRoZSB0aW1lIHdlIHByZXBhcmUgaXRlbXNcbiAgICAgKiAtIHRoaXMgY2F1c2VkIGlzc3VlcyB3aXRoIEFjdGlvbnMgdGhhdCBoYXZlIGEgTGltaXQgb3IgRGFtYWdlIGF0dHJpYnV0ZSBhbmQgc28gdGhvc2Ugd2VyZSBtb3ZlZFxuICAgICAqL1xuICAgIHByZXBhcmVEYXRhKCkge1xuICAgICAgICBzdXBlci5wcmVwYXJlRGF0YSgpO1xuXG4gICAgICAgIC8vIERlc2NyaXB0aW9uIGxhYmVscyBtaWdodCBoYXZlIGNoYW5nZWQgc2luY2UgbGFzdCBkYXRhIHByZXAuXG4gICAgICAgIHRoaXMubGFiZWxzID0ge307XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAnc2luJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEuZGF0YS5saWNlbnNlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmUgLy8gdGFNaUY6IFRoaXMgc2VlbXMgdG8gYmUgYSBoYWNreSBzb2x1dGlvbiB0byBzb21lIGludGVybmFsIG9yIEZvdW5kcnkgaXNzdWUgd2l0aCByZWFkaW5nXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgYSBvYmplY3QvSGFzaE1hcCB3aGVuIGFuIGFycmF5L2l0ZXJhYmxlIHdhcyBleHBlY3RlZFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5kYXRhLmxpY2Vuc2VzID0gT2JqZWN0LnZhbHVlcyh0aGlzLmRhdGEuZGF0YS5saWNlbnNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXF1aXBwZWRNb2RzID0gdGhpcy5nZXRFcXVpcHBlZE1vZHMoKTtcbiAgICAgICAgY29uc3QgZXF1aXBwZWRBbW1vID0gdGhpcy5nZXRFcXVpcHBlZEFtbW8oKTtcblxuICAgICAgICBjb25zdCB0ZWNobm9sb2d5ID0gdGhpcy5nZXRUZWNobm9sb2d5KCk7XG4gICAgICAgIGlmICh0ZWNobm9sb2d5KSB7XG4gICAgICAgICAgICAvLyB0YU1pRjogVGhpcyBtaWdyYXRpb24gY29kZSBjb3VsZCBiZSBuZWVkZWQgZm9yIGl0ZW1zIGltcG9ydGVkIGZyb20gYW4gb2xkZXIgY29tcGVuZGl1bT9cbiAgICAgICAgICAgIGlmICh0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yID0geyB2YWx1ZTogMCwgbWF4OiAwLCBsYWJlbDogJycgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJhdGluZyBtaWdodCBiZSBhIHN0cmluZy5cbiAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9IHR5cGVvZiB0ZWNobm9sb2d5LnJhdGluZyA9PT0gJ3N0cmluZycgPyAwIDogdGVjaG5vbG9neS5yYXRpbmc7XG4gICAgICAgICAgICB0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yLm1heCA9IDggKyBNYXRoLmNlaWwocmF0aW5nIC8gMik7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBjb25jZWFsIGRhdGEuXG4gICAgICAgICAgICBpZiAoIXRlY2hub2xvZ3kuY29uY2VhbCkgdGVjaG5vbG9neS5jb25jZWFsID0ge2Jhc2U6IDAsIHZhbHVlOiAwLCBtb2Q6IFtdfTtcblxuICAgICAgICAgICAgY29uc3QgY29uY2VhbFBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgICAgICBlcXVpcHBlZE1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVjaG5vbG9neSA9IG1vZC5nZXRUZWNobm9sb2d5KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGVjaG5vbG9neSAmJiB0ZWNobm9sb2d5LmNvbmNlYWwudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uY2VhbFBhcnRzLmFkZFVuaXF1ZVBhcnQobW9kLm5hbWUsIHRlY2hub2xvZ3kuY29uY2VhbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRlY2hub2xvZ3kuY29uY2VhbC5tb2QgPSBjb25jZWFsUGFydHMubGlzdDtcbiAgICAgICAgICAgIHRlY2hub2xvZ3kuY29uY2VhbC52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKHRlY2hub2xvZ3kuY29uY2VhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLmdldEFjdGlvbigpO1xuICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb24uYWx0X21vZCA9IDA7XG4gICAgICAgICAgICBhY3Rpb24ubGltaXQubW9kID0gW107XG4gICAgICAgICAgICBhY3Rpb24uZGFtYWdlLm1vZCA9IFtdO1xuICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5hcC5tb2QgPSBbXTtcbiAgICAgICAgICAgIGFjdGlvbi5kaWNlX3Bvb2xfbW9kID0gW107XG5cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIC8vIER1ZSB0byBmYXVsdHkgdGVtcGxhdGUgdmFsdWUgaXRlbXMgd2l0aG91dCBhIHNldCBvcGVyYXRvciB3aWxsIGhhdmUgYSBvcGVyYXRvciBsaXRlcmFsIGluc3RlYWQgc2luY2UgMC43LjEwLlxuICAgICAgICAgICAgaWYgKGFjdGlvbi5kYW1hZ2UuYmFzZV9mb3JtdWxhX29wZXJhdG9yID09PSAnKycpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLmJhc2VfZm9ybXVsYV9vcGVyYXRvciA9ICdhZGQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBoYW5kbGUgb3ZlcnJpZGVzIGZyb20gbW9kc1xuICAgICAgICAgICAgY29uc3QgbGltaXRQYXJ0cyA9IG5ldyBQYXJ0c0xpc3QoYWN0aW9uLmxpbWl0Lm1vZCk7XG4gICAgICAgICAgICBjb25zdCBkcFBhcnRzID0gbmV3IFBhcnRzTGlzdChhY3Rpb24uZGljZV9wb29sX21vZCk7XG4gICAgICAgICAgICBlcXVpcHBlZE1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpY2F0aW9uID0gbW9kLmFzTW9kaWZpY2F0aW9uRGF0YSgpO1xuICAgICAgICAgICAgICAgIGlmICghbW9kaWZpY2F0aW9uKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBpZiAobW9kaWZpY2F0aW9uLmRhdGEuYWNjdXJhY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRQYXJ0cy5hZGRVbmlxdWVQYXJ0KG1vZC5uYW1lLCBtb2RpZmljYXRpb24uZGF0YS5hY2N1cmFjeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtb2RpZmljYXRpb24uZGF0YS5kaWNlX3Bvb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgZHBQYXJ0cy5hZGRVbmlxdWVQYXJ0KG1vZC5uYW1lLCBtb2RpZmljYXRpb24uZGF0YS5kaWNlX3Bvb2wpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG5cblxuICAgICAgICAgICAgaWYgKGVxdWlwcGVkQW1tbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFtbW9EYXRhID0gZXF1aXBwZWRBbW1vLmRhdGEuZGF0YSBhcyBBbW1vRGF0YTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgbW9kcyB0byBkYW1hZ2UgZnJvbSBhbW1vXG4gICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChhY3Rpb24uZGFtYWdlLm1vZCwgZXF1aXBwZWRBbW1vLm5hbWUsIGFtbW9EYXRhLmRhbWFnZSk7XG4gICAgICAgICAgICAgICAgLy8gYWRkIG1vZHMgdG8gYXAgZnJvbSBhbW1vXG4gICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5hcC5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChhY3Rpb24uZGFtYWdlLmFwLm1vZCwgZXF1aXBwZWRBbW1vLm5hbWUsIGFtbW9EYXRhLmFwKTtcblxuICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoYW1tb0RhdGEuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLmVsZW1lbnQudmFsdWUgPSBhbW1vRGF0YS5lbGVtZW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UuZWxlbWVudC52YWx1ZSA9IGFjdGlvbi5kYW1hZ2UuZWxlbWVudC5iYXNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIGRhbWFnZSB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKGFtbW9EYXRhLmRhbWFnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlID0gYW1tb0RhdGEuZGFtYWdlVHlwZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLnR5cGUudmFsdWUgPSBhY3Rpb24uZGFtYWdlLnR5cGUuYmFzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNldCB2YWx1ZSBpZiB3ZSBkb24ndCBoYXZlIGl0ZW0gb3ZlcnJpZGVzXG4gICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5lbGVtZW50LnZhbHVlID0gYWN0aW9uLmRhbWFnZS5lbGVtZW50LmJhc2U7XG4gICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlID0gYWN0aW9uLmRhbWFnZS50eXBlLmJhc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9uY2UgYWxsIGRhbWFnZSBtb2RzIGhhdmUgYmVlbiBhY2NvdW50ZWQgZm9yLCBzdW0gYmFzZSBhbmQgbW9kIHRvIHZhbHVlXG4gICAgICAgICAgICBhY3Rpb24uZGFtYWdlLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoYWN0aW9uLmRhbWFnZSk7XG4gICAgICAgICAgICBhY3Rpb24uZGFtYWdlLmFwLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoYWN0aW9uLmRhbWFnZS5hcCk7XG5cbiAgICAgICAgICAgIGFjdGlvbi5saW1pdC52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKGFjdGlvbi5saW1pdCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuZ2V0V2VhcG9uUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICBpZiAocmFuZ2UucmMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZVBhcnRzID0gbmV3IFBhcnRzTGlzdCgpO1xuICAgICAgICAgICAgICAgIGVxdWlwcGVkTW9kcy5mb3JFYWNoKChtb2QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBsaWtlIHRoaXMuZGF0YS5kYXRhIEl0ZW0uRGF0YTxEYXRhVHlwZT4gcG9zc2libHkgYmVpbmcgYWxsIHRoZSB0aGluZ3MuXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2QuZGF0YS5kYXRhLnJjKSByYW5nZVBhcnRzLmFkZFVuaXF1ZVBhcnQobW9kLm5hbWUsIG1vZC5kYXRhLmRhdGEucmMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgb3ZlcnJpZGVzIGZyb20gYW1tb1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZSAvLyBUeXBlU2NyaXB0IGRvZXNuJ3QgbGlrZSB0aGlzLmRhdGEuZGF0YSBJdGVtLkRhdGE8RGF0YVR5cGU+IHBvc3NpYmx5IGJlaW5nIGFsbCB0aGUgdGhpbmdzLlxuICAgICAgICAgICAgICAgIHJhbmdlLnJjLm1vZCA9IHJhbmdlUGFydHMubGlzdDtcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmUgLy8gVHlwZVNjcmlwdCBkb2Vzbid0IGxpa2UgdGhpcy5kYXRhLmRhdGEgSXRlbS5EYXRhPERhdGFUeXBlPiBwb3NzaWJseSBiZWluZyBhbGwgdGhlIHRoaW5ncy5cbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UucmMpIHJhbmdlLnJjLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwocmFuZ2UucmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWRlcHRQb3dlciA9IHRoaXMuYXNBZGVwdFBvd2VyRGF0YSgpO1xuICAgICAgICBpZiAoYWRlcHRQb3dlcikge1xuICAgICAgICAgICAgYWRlcHRQb3dlci5kYXRhLnR5cGUgPSBhZGVwdFBvd2VyLmRhdGEuYWN0aW9uLnR5cGUgPyAnYWN0aXZlJyA6ICdwYXNzaXZlJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHBvc3RJdGVtQ2FyZCgpIHtcbiAgICAgICAgY29uc3QgdGVzdHMgPSAgdGhpcy5nZXRBY3Rpb25UZXN0cygpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgYWN0b3I6IHRoaXMuYWN0b3IsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5nZXRDaGF0RGF0YSgpLFxuICAgICAgICAgICAgaXRlbTogdGhpcyxcbiAgICAgICAgICAgIHByZXZpZXdUZW1wbGF0ZTogdGhpcy5oYXNUZW1wbGF0ZSxcbiAgICAgICAgICAgIHRlc3RzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVJdGVtQ2hhdE1lc3NhZ2Uob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXN5bmMgY2FzdEFjdGlvbihldmVudD8pIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdG9yKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZG9udFJvbGxUZXN0ID0gZXZlbnQ/LnNoaWZ0S2V5IHx8ICF0aGlzLmhhc1JvbGw7XG4gICAgICAgIGlmIChkb250Um9sbFRlc3QpIHJldHVybiBhd2FpdCB0aGlzLnBvc3RJdGVtQ2FyZCgpO1xuXG4gICAgICAgIGNvbnN0IGRpYWxvZyA9IGF3YWl0IFNoYWRvd3J1bkl0ZW1EaWFsb2cuY3JlYXRlKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgLy8gU29tZSBpdGVtcyBtaWdodCBub3QgaGF2ZSBhbiBhZGRpdGlvbmFsIGRpYWxvZy5cbiAgICAgICAgaWYgKCFkaWFsb2cpIHJldHVybiBhd2FpdCB0aGlzLnJvbGxUZXN0KGV2ZW50KTtcblxuICAgICAgICBjb25zdCBhY3Rpb25UZXN0RGF0YSA9IGF3YWl0IGRpYWxvZy5zZWxlY3QoKTtcbiAgICAgICAgaWYgKGRpYWxvZy5jYW5jZWxlZCkgcmV0dXJuO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJvbGxUZXN0KGV2ZW50LCBhY3Rpb25UZXN0RGF0YSk7XG59XG5cbiAgICBnZXRDaGF0RGF0YShodG1sT3B0aW9ucz8pIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEuZGF0YSk7XG4gICAgICAgIGNvbnN0IHsgbGFiZWxzIH0gPSB0aGlzO1xuICAgICAgICAvL0B0cy1pZ25vcmUgLy8gVGhpcyBpcyBhIGhhY2t5IG1vbmtleSBwYXRjaCBzb2x1dGlvbiB0byBhZGQgYSBwcm9wZXJ0eSB0byB0aGUgaXRlbSBkYXRhXG4gICAgICAgIC8vICAgICAgICAgICAgICB0aGF0J3Mgbm90IGFjdHVhbGx5IGRlZmluZWQgaW4gYW55IFNSNUl0ZW0gdHlwaW5nLlxuICAgICAgICBpZiAoIWRhdGEuZGVzY3JpcHRpb24pIGRhdGEuZGVzY3JpcHRpb24gPSB7fTtcbiAgICAgICAgLy8gVGV4dEVkaXRvci5lbnJpY2hIVE1MIHdpbGwgcmV0dXJuIG51bGwgYXMgYSBzdHJpbmcsIG1ha2luZyBsYXRlciBoYW5kbGluZyBkaWZmaWN1bHQuXG4gICAgICAgIGlmICghZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSkgZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSA9ICcnO1xuXG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24udmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSwgaHRtbE9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHByb3BzID0gW107XG4gICAgICAgIGNvbnN0IGZ1bmMgPSBDaGF0RGF0YVt0aGlzLmRhdGEudHlwZV07XG4gICAgICAgIGlmIChmdW5jKSBmdW5jKGR1cGxpY2F0ZShkYXRhKSwgbGFiZWxzLCBwcm9wcywgdGhpcyk7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlIC8vIFRoaXMgaXMgYSBoYWNreSBtb25rZXkgcGF0Y2ggc29sdXRpb24gdG8gYWRkIGEgcHJvcGVydHkgdG8gdGhlIGl0ZW0gZGF0YVxuICAgICAgICAvLyAgICAgICAgICAgICAgdGhhdCdzIG5vdCBhY3R1YWxseSBkZWZpbmVkIGluIGFueSBTUjVJdGVtIHR5cGluZy5cbiAgICAgICAgZGF0YS5wcm9wZXJ0aWVzID0gcHJvcHMuZmlsdGVyKChwKSA9PiAhIXApO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGdldEFjdGlvblRlc3ROYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHRlc3ROYW1lID0gdGhpcy5nZXRSb2xsTmFtZSgpO1xuICAgICAgICByZXR1cm4gdGVzdE5hbWUgPyB0ZXN0TmFtZSA6ICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5BY3Rpb24nKTtcbiAgICB9XG5cbiAgICBnZXRPcHBvc2VkVGVzdE5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG5hbWUgPSAnJztcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5nZXRBY3Rpb24oKTtcbiAgICAgICAgaWYgKGFjdGlvbiAmJiBhY3Rpb24ub3Bwb3NlZC50eXBlKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9wcG9zZWQgfSA9IGFjdGlvbjtcbiAgICAgICAgICAgIGlmIChvcHBvc2VkLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC50eXBlKX1gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHBvc2VkLnNraWxsKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC5za2lsbCl9KyR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZSl9YDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUyKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUpfSske0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUyKX1gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHBvc2VkLmF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBgJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuYXR0cmlidXRlKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW9kID0gdGhpcy5nZXRPcHBvc2VkVGVzdE1vZGlmaWVyKCk7XG4gICAgICAgIGlmIChtb2QpIG5hbWUgKz0gYCAke21vZH1gO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG5cbiAgICBnZXRPcHBvc2VkVGVzdE1vZCgpOiBQYXJ0c0xpc3Q8bnVtYmVyPiB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgIGlmICh0aGlzLmhhc0RlZmVuc2VUZXN0KCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQXJlYU9mRWZmZWN0KCkpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQW9lJywgLTIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSYW5nZWRXZWFwb24oKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlRGF0YSA9IHRoaXMuZ2V0TGFzdEZpcmVNb2RlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpcmVNb2RlRGF0YT8uZGVmZW5zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZU1vZGVEYXRhLmRlZmVuc2UgIT09ICdTUjUuRHVja09yQ292ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJlTW9kZSA9ICtmaXJlTW9kZURhdGEuZGVmZW5zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5GaXJlTW9kZScsIGZpcmVNb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgfVxuXG4gICAgZ2V0T3Bwb3NlZFRlc3RNb2RpZmllcigpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB0ZXN0TW9kID0gdGhpcy5nZXRPcHBvc2VkVGVzdE1vZCgpO1xuICAgICAgICBjb25zdCB0b3RhbCA9IHRlc3RNb2QudG90YWw7XG4gICAgICAgIGlmICh0b3RhbCkgcmV0dXJuIGAoJHt0b3RhbH0pYDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1JhbmdlZFdlYXBvbigpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyZU1vZGVEYXRhID0gdGhpcy5nZXRMYXN0RmlyZU1vZGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyZU1vZGVEYXRhPy5kZWZlbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJlTW9kZURhdGEuZGVmZW5zZSA9PT0gJ1NSNS5EdWNrT3JDb3ZlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EdWNrT3JDb3ZlcicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAgZ2V0Qmxhc3REYXRhKGFjdGlvblRlc3REYXRhPzogQWN0aW9uVGVzdERhdGEpOiBCbGFzdERhdGEgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc1NwZWxsKCkgJiYgdGhpcy5pc0FyZWFPZkVmZmVjdCgpKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhLmRhdGEgYXMgU3BlbGxEYXRhO1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0IHNwZWxsIGRpc3RhbmNlIGlzIGVxdWFsIHRvIGl0J3MgRm9yY2UuXG4gICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLmdldExhc3RTcGVsbEZvcmNlKCkudmFsdWU7XG5cbiAgICAgICAgICAgIC8vIEV4Y2VwdCBmb3IgcHJlZGVmaW5lZCB1c2VyIHRlc3Qgc2VsZWN0aW9uLlxuICAgICAgICAgICAgaWYgKGFjdGlvblRlc3REYXRhPy5zcGVsbCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gYWN0aW9uVGVzdERhdGEuc3BlbGwuZm9yY2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEV4dGVuZGVkIHNwZWxscyBoYXZlIGEgbG9uZ2VyIHJhbmdlLlxuICAgICAgICAgICAgLy8gVE9ETzogZGF0YS5leHRlbmRlZCBpcyBub3QgZGVmaW5lZCBpbiB0eXBpbmcuIEl0IG9ubHkgZXhpc3RzIHVuZGVyIGRhdGEuZGV0ZWN0aW9uIG9yIGRhdGEuYWN0aW9uXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoZGF0YS5leHRlbmRlZCkgZGlzdGFuY2UgKj0gMTA7XG4gICAgICAgICAgICBjb25zdCBkcm9wb2ZmID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYWRpdXM6IGRpc3RhbmNlLFxuICAgICAgICAgICAgICAgIGRyb3BvZmZcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNHcmVuYWRlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGEuZGF0YSBhcyBXZWFwb25EYXRhO1xuXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRhdGEudGhyb3duLmJsYXN0LnJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IGRyb3BvZmYgPSBkYXRhLnRocm93bi5ibGFzdC5kcm9wb2ZmO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJhZGl1czogZGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgZHJvcG9mZlxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNFeHBsb3NpdmVBbW1vKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFtbW8gPSB0aGlzLmdldEVxdWlwcGVkQW1tbygpO1xuICAgICAgICAgICAgY29uc3QgYW1tb0RhdGEgPSBhbW1vLmRhdGEgYXMgQW1tbztcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gYW1tb0RhdGEuZGF0YS5ibGFzdC5yYWRpdXM7XG4gICAgICAgICAgICBjb25zdCBkcm9wb2ZmID0gYW1tb0RhdGEuZGF0YS5ibGFzdC5kcm9wb2ZmO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJhZGl1czogZGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgZHJvcG9mZlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEVxdWlwcGVkQW1tbygpOiBTUjVJdGVtIHtcbiAgICAgICAgY29uc3QgZXF1aXBwZWRBbW1vcyA9ICh0aGlzLml0ZW1zIHx8IFtdKS5maWx0ZXIoKGl0ZW0pID0+XG4gICAgICAgICAgICBpdGVtLmlzQW1tbygpICYmXG4gICAgICAgICAgICBpdGVtLmlzRXF1aXBwZWQoKSk7XG5cbiAgICAgICAgLy8gQ2FzdCBUeXBpbmcgaXNuJ3QgYSBtaXN0YWtlLCBzbyBsb25nIGFzIGlzQW1tbyBpcyBmaWx0ZXJlZC5cbiAgICAgICAgcmV0dXJuIGVxdWlwcGVkQW1tb3NbMF07XG4gICAgfVxuXG4gICAgZ2V0RXF1aXBwZWRNb2RzKCk6IFNSNUl0ZW1bXSB7XG4gICAgICAgIHJldHVybiAodGhpcy5pdGVtcyB8fCBbXSkuZmlsdGVyKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pc1dlYXBvbk1vZGlmaWNhdGlvbigpICYmXG4gICAgICAgICAgICBpdGVtLmlzRXF1aXBwZWQoKSk7XG4gICAgfVxuXG4gICAgaGFzRXhwbG9zaXZlQW1tbygpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYW1tbyA9IHRoaXMuZ2V0RXF1aXBwZWRBbW1vKCk7XG4gICAgICAgIGlmICghYW1tbykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBkYXRhID0gYW1tby5kYXRhLmRhdGEgYXMgQW1tb0RhdGE7XG4gICAgICAgIHJldHVybiBkYXRhLmJsYXN0LnJhZGl1cyA+IDA7XG4gICAgfVxuXG4gICAgYXN5bmMgZXF1aXBXZWFwb25Nb2QoaWlkKSB7XG4gICAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0T3duZWRJdGVtKGlpZCk7XG4gICAgICAgIGlmIChtb2QpIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cERhdGEgPSBkdXBsaWNhdGUobW9kLmRhdGEpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGR1cERhdGEuZGF0YSBhcyBUZWNobm9sb2d5UGFydERhdGE7XG4gICAgICAgICAgICBkYXRhLnRlY2hub2xvZ3kuZXF1aXBwZWQgPSAhZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVPd25lZEl0ZW0oZHVwRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNBbW1vKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmhhc0FtbW8oKTtcbiAgICB9XG5cbiAgICBhc3luYyB1c2VBbW1vKGZpcmVNb2RlKSB7XG4gICAgICAgIGNvbnN0IHdlYXBvbiA9IGR1cGxpY2F0ZSh0aGlzLmFzV2VhcG9uRGF0YSgpKTtcbiAgICAgICAgaWYgKHdlYXBvbikge1xuICAgICAgICAgICAgY29uc3QgeyBhbW1vIH0gPSB3ZWFwb24uZGF0YTtcbiAgICAgICAgICAgIGFtbW8uY3VycmVudC52YWx1ZSA9IE1hdGgubWF4KDAsIGFtbW8uY3VycmVudC52YWx1ZSAtIGZpcmVNb2RlKTtcblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKHdlYXBvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZWxvYWRBbW1vKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gZHVwbGljYXRlKHRoaXMuYXNXZWFwb25EYXRhKCkpO1xuXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHsgYW1tbyB9ID0gZGF0YS5kYXRhO1xuICAgICAgICBjb25zdCBkaWZmID0gYW1tby5jdXJyZW50Lm1heCAtIGFtbW8uY3VycmVudC52YWx1ZTtcbiAgICAgICAgYW1tby5jdXJyZW50LnZhbHVlID0gYW1tby5jdXJyZW50Lm1heDtcblxuICAgICAgICBpZiAoYW1tby5zcGFyZV9jbGlwcykge1xuICAgICAgICAgICAgYW1tby5zcGFyZV9jbGlwcy52YWx1ZSA9IE1hdGgubWF4KDAsIGFtbW8uc3BhcmVfY2xpcHMudmFsdWUgLSAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKGRhdGEpO1xuXG4gICAgICAgIGNvbnN0IG5ld0FtbXVuaXRpb24gPSAodGhpcy5pdGVtcyB8fCBbXSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGkpID0+IGkuZGF0YS50eXBlID09PSAnYW1tbycpXG4gICAgICAgICAgICAucmVkdWNlKChhY2M6IEVudGl0eS5EYXRhW10sIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW1vRGF0YSA9IGl0ZW0uYXNBbW1vRGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFtbW9EYXRhICYmIGFtbW9EYXRhLmRhdGEudGVjaG5vbG9neS5lcXVpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRlY2hub2xvZ3kgfSA9IGFtbW9EYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF0eSA9IHR5cGVvZiB0ZWNobm9sb2d5LnF1YW50aXR5ID09PSAnc3RyaW5nJyA/IDAgOiB0ZWNobm9sb2d5LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICB0ZWNobm9sb2d5LnF1YW50aXR5ID0gTWF0aC5tYXgoMCwgcXR5IC0gZGlmZik7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKGl0ZW0uZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgaWYgKG5ld0FtbXVuaXRpb24gJiYgbmV3QW1tdW5pdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlT3duZWRJdGVtKG5ld0FtbXVuaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXF1aXBBbW1vKGlpZCkge1xuICAgICAgICAvLyBvbmx5IGFsbG93IGFtbW8gdGhhdCB3YXMganVzdCBjbGlja2VkIHRvIGJlIGVxdWlwcGVkXG4gICAgICAgIGNvbnN0IGFtbW8gPSB0aGlzLml0ZW1zXG4gICAgICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09ICdhbW1vJylcbiAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvd25lZEl0ZW0gPSB0aGlzLmdldE93bmVkSXRlbShpdGVtLl9pZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYW1tb0RhdGEgPSBvd25lZEl0ZW0/LmFzQW1tb0RhdGEoKTtcblxuICAgICAgICAgICAgICAgIGlmIChvd25lZEl0ZW0gJiYgYW1tb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYW1tb0RhdGEuZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkID0gaWlkID09PSBpdGVtLl9pZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG93bmVkSXRlbS5kYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZU93bmVkSXRlbShhbW1vKTtcbiAgICB9XG5cbiAgICBhc3luYyBhZGROZXdMaWNlbnNlKCkge1xuICAgICAgICBjb25zdCBzaW4gPSBkdXBsaWNhdGUodGhpcy5hc1NpbkRhdGEoKSk7XG4gICAgICAgIGlmICghc2luKSByZXR1cm47XG5cbiAgICAgICAgLy8gTk9URTogVGhpcyBtaWdodCBiZSByZWxhdGVkIHRvIEZvdW5kcnkgZGF0YSBzZXJpYWxpemF0aW9uIHNvbWV0aW1lcyByZXR1cm5pbmcgYXJyYXlzIGFzIG9yZGVyZWQgSGFzaE1hcHMuLi5cbiAgICAgICAgaWYgKHR5cGVvZiBzaW4uZGF0YS5saWNlbnNlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHNpbi5kYXRhLmxpY2Vuc2VzID0gT2JqZWN0LnZhbHVlcyhzaW4uZGF0YS5saWNlbnNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzaW4uZGF0YS5saWNlbnNlcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgcnRnOiAnJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoc2luKTtcbiAgICB9XG5cbiAgICBnZXRSb2xsUGFydHNMaXN0KCk6IE1vZExpc3Q8bnVtYmVyPiB7XG4gICAgICAgIC8vIHdlIG9ubHkgaGF2ZSBhIHJvbGwgaWYgd2UgaGF2ZSBhbiBhY3Rpb24gb3IgYW4gYWN0b3JcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5nZXRBY3Rpb24oKTtcbiAgICAgICAgaWYgKCFhY3Rpb24gfHwgIXRoaXMuYWN0b3IpIHJldHVybiBbXTtcblxuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QoZHVwbGljYXRlKHRoaXMuZ2V0TW9kaWZpZXJMaXN0KCkpKTtcblxuICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3IuZmluZEFjdGl2ZVNraWxsKHRoaXMuZ2V0QWN0aW9uU2tpbGwoKSk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYWN0b3IuZmluZEF0dHJpYnV0ZSh0aGlzLmdldEFjdGlvbkF0dHJpYnV0ZSgpKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlMiA9IHRoaXMuYWN0b3IuZmluZEF0dHJpYnV0ZSh0aGlzLmdldEFjdGlvbkF0dHJpYnV0ZTIoKSk7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0ZSAmJiBhdHRyaWJ1dGUubGFiZWwpIHBhcnRzLmFkZFBhcnQoYXR0cmlidXRlLmxhYmVsLCBhdHRyaWJ1dGUudmFsdWUpO1xuXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSB2YWxpZCBza2lsbCwgZG9uJ3QgbG9vayBmb3IgYSBzZWNvbmQgYXR0cmlidXRlXG4gICAgICAgIGlmIChza2lsbCkge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChza2lsbC5sYWJlbCB8fCBza2lsbC5uYW1lLCBza2lsbC52YWx1ZSk7XG4gICAgICAgICAgICBTa2lsbEZsb3cuaGFuZGxlRGVmYXVsdGluZyhza2lsbCwgcGFydHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZTIgJiYgYXR0cmlidXRlMi5sYWJlbCkge1xuICAgICAgICAgICAgcGFydHMuYWRkUGFydChhdHRyaWJ1dGUyLmxhYmVsLCBhdHRyaWJ1dGUyLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNwZWMgPSB0aGlzLmdldEFjdGlvblNwZWNpYWxpemF0aW9uKCk7XG4gICAgICAgIGlmIChzcGVjKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KHNwZWMsIDIpO1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZSBwYXJzZUludCBkb2VzIGFsbG93IGZvciBudW1iZXIgdHlwZSBwYXJhbWV0ZXIuXG4gICAgICAgIGNvbnN0IG1vZCA9IHBhcnNlSW50KHRoaXMuZGF0YS5kYXRhLmFjdGlvbi5tb2QgfHwgMCk7XG4gICAgICAgIGlmIChtb2QpIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5JdGVtTW9kJywgbW9kKTtcblxuICAgICAgICBjb25zdCBhdHRzOiAoQXR0cmlidXRlRmllbGQgfCBTa2lsbEZpZWxkKVtdIHwgYm9vbGVhbiA9IFtdO1xuICAgICAgICBpZiAoYXR0cmlidXRlICE9PSB1bmRlZmluZWQpIGF0dHMucHVzaChhdHRyaWJ1dGUpO1xuICAgICAgICBpZiAoYXR0cmlidXRlMiAhPT0gdW5kZWZpbmVkKSBhdHRzLnB1c2goYXR0cmlidXRlMik7XG4gICAgICAgIGlmIChza2lsbCAhPT0gdW5kZWZpbmVkKSBhdHRzLnB1c2goc2tpbGwpO1xuICAgICAgICAvLyBhZGQgZ2xvYmFsIHBhcnRzIGZyb20gYWN0b3JcbiAgICAgICAgdGhpcy5hY3Rvci5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuICAgICAgICB0aGlzLmFjdG9yLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgYXR0cyk7XG4gICAgICAgIHRoaXMuX2FkZFdlYXBvblBhcnRzKHBhcnRzKTtcblxuICAgICAgICByZXR1cm4gcGFydHMubGlzdDtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVSZWNvaWwoKSB7XG4gICAgICAgIGNvbnN0IGxhc3RGaXJlTW9kZSA9IHRoaXMuZ2V0TGFzdEZpcmVNb2RlKCk7XG4gICAgICAgIGlmICghbGFzdEZpcmVNb2RlKSByZXR1cm4gMDtcbiAgICAgICAgaWYgKGxhc3RGaXJlTW9kZS52YWx1ZSA9PT0gMjApIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5nZXRSZWNvaWxDb21wZW5zYXRpb24odHJ1ZSkgLSAodGhpcy5nZXRMYXN0RmlyZU1vZGUoKT8udmFsdWUgfHwgMCksIDApO1xuICAgIH1cblxuICAgIF9hZGRXZWFwb25QYXJ0cyhwYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSYW5nZWRXZWFwb24oKSkge1xuICAgICAgICAgICAgY29uc3QgcmVjb2lsID0gdGhpcy5jYWxjdWxhdGVSZWNvaWwoKTtcbiAgICAgICAgICAgIGlmIChyZWNvaWwpIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5SZWNvaWwnLCByZWNvaWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNTaW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNTaW4oKTtcbiAgICB9XG5cbiAgICBhc1NpbkRhdGEoKTogU2luIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBTaW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0xpZmVzdHlsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0xpZmVzdHlsZSgpO1xuICAgIH1cblxuICAgIGFzTGlmZXN0eWxlRGF0YSgpOiBMaWZlc3R5bGUgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc0xpZmVzdHlsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhIGFzIExpZmVzdHlsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQW1tbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0FtbW8oKTtcbiAgICB9XG5cbiAgICBhc0FtbW9EYXRhKCk6IEFtbW8gfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc0FtbW8oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBBbW1vO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNNb2RpZmljYXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNNb2RpZmljYXRpb24oKTtcbiAgICB9XG5cbiAgICBhc01vZGlmaWNhdGlvbkRhdGEoKTogTW9kaWZpY2F0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb2RpZmljYXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBNb2RpZmljYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1dlYXBvbk1vZGlmaWNhdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc1dlYXBvbk1vZGlmaWNhdGlvbigpO1xuICAgIH1cblxuICAgIGlzQXJtb3JNb2RpZmljYXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNBcm1vck1vZGlmaWNhdGlvbigpO1xuICAgIH1cblxuICAgIGlzUHJvZ3JhbSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc1Byb2dyYW0oKTtcbiAgICB9XG5cbiAgICBhc1Byb2dyYW1EYXRhKCk6IFByb2dyYW0gfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2dyYW0oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBQcm9ncmFtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNRdWFsaXR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzUXVhbGl0eSgpO1xuICAgIH1cblxuICAgIGFzUXVhbGl0eURhdGEoKTogUXVhbGl0eSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzUXVhbGl0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhIGFzIFF1YWxpdHk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0FkZXB0UG93ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ2FkZXB0X3Bvd2VyJztcbiAgICB9XG5cbiAgICBhc0FkZXB0UG93ZXJEYXRhKCk6IEFkZXB0UG93ZXJ8dW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBZGVwdFBvd2VyKCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhIGFzIEFkZXB0UG93ZXI7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVtb3ZlTGljZW5zZShpbmRleCkge1xuICAgICAgICBjb25zdCBkYXRhID0gZHVwbGljYXRlKHRoaXMuYXNTaW5EYXRhKCkpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgZGF0YS5kYXRhLmxpY2Vuc2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZShkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzQWN0aW9uKCk7XG4gICAgfVxuXG4gICAgYXNBY3Rpb25EYXRhKCk6IEFjdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgYXMgQWN0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIGFzeW5jIHJvbGxPcHBvc2VkVGVzdCh0YXJnZXQ6IFNSNUFjdG9yLCBhdHRhY2s6IEF0dGFja0RhdGEsIGV2ZW50KTogIFByb21pc2U8U2hhZG93cnVuUm9sbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBmaXJlTW9kZURlZmVuc2U6IDAsXG4gICAgICAgICAgICBjb3ZlcjogZmFsc2UsXG4gICAgICAgICAgICBhdHRhY2tcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuZ2V0T3Bwb3NlZFRlc3RNb2QoKTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5nZXRBY3Rpb24oKTtcbiAgICAgICAgaWYgKCFhY3Rpb24pIHJldHVybjtcblxuICAgICAgICBjb25zdCB7IG9wcG9zZWQgfSA9IGFjdGlvbjtcblxuICAgICAgICBpZiAob3Bwb3NlZC50eXBlID09PSAnZGVmZW5zZScpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJvbGxEZWZlbnNlKHRhcmdldCwgb3B0aW9ucyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChvcHBvc2VkLnR5cGUgPT09ICdzb2FrJykge1xuICAgICAgICAgICAgb3B0aW9uc1snZGFtYWdlJ10gPSBhdHRhY2s/LmRhbWFnZTtcbiAgICAgICAgICAgIG9wdGlvbnNbJ2F0dGFja2VySGl0cyddID0gYXR0YWNrPy5oaXRzO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRhcmdldC5yb2xsU29hayhvcHRpb25zLCBwYXJ0cy5saXN0KTtcblxuICAgICAgICB9IGVsc2UgaWYgKG9wcG9zZWQudHlwZSA9PT0gJ2FybW9yJykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5yb2xsQXJtb3Iob3B0aW9ucyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChvcHBvc2VkLnNraWxsICYmIG9wcG9zZWQuYXR0cmlidXRlKSB7XG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHRhcmdldC5nZXRTa2lsbChvcHBvc2VkLnNraWxsKTtcblxuICAgICAgICAgICAgaWYgKCFza2lsbCkge1xuICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LkVycm9ycy5NaXNzaW5nU2tpbGxcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5yb2xsU2tpbGwoc2tpbGwsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogb3Bwb3NlZC5hdHRyaWJ1dGUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2UgaWYgKG9wcG9zZWQuYXR0cmlidXRlICYmIG9wcG9zZWQuYXR0cmlidXRlMikge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5yb2xsVHdvQXR0cmlidXRlcyhbb3Bwb3NlZC5hdHRyaWJ1dGUsIG9wcG9zZWQuYXR0cmlidXRlMl0sIG9wdGlvbnMpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQucm9sbFNpbmdsZUF0dHJpYnV0ZShvcHBvc2VkLmF0dHJpYnV0ZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJvbGxUZXN0VHlwZSh0eXBlOiBzdHJpbmcsIGF0dGFjazogQXR0YWNrRGF0YSwgZXZlbnQsIHRhcmdldDogU1I1QWN0b3IpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdvcHBvc2VkJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yb2xsT3Bwb3NlZFRlc3QodGFyZ2V0LCBhdHRhY2ssIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2FjdGlvbicpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FzdEFjdGlvbihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb2xscyBhIHRlc3QgdXNpbmcgdGhlIGxhdGVzdCBzdG9yZWQgZGF0YSBvbiB0aGUgaXRlbSAoZm9yY2UsIGZpcmVNb2RlLCBsZXZlbClcbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSBhY3Rpb25UZXN0RGF0YVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW55IGFkZGl0aW9uYWwgcm9sbCBvcHRpb25zIHRvIHBhc3MgYWxvbmcgLSBub3RlIHRoYXQgY3VycmVudGx5IHRoZSBJdGVtIHdpbGwgb3ZlcndyaXRlIC0tIFdJUFxuICAgICAqL1xuICAgIGFzeW5jIHJvbGxUZXN0KGV2ZW50LCBhY3Rpb25UZXN0RGF0YT86IEFjdGlvblRlc3REYXRhKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG5cbiAgICAgICAgY29uc3Qgcm9sbCA9IGF3YWl0IFNoYWRvd3J1blJvbGxlci5pdGVtUm9sbChldmVudCwgdGhpcywgYWN0aW9uVGVzdERhdGEpO1xuICAgICAgICBpZiAoIXJvbGwpIHJldHVybjtcblxuICAgICAgICBhd2FpdCBTaGFkb3dydW5Sb2xsZXIucmVzdWx0aW5nSXRlbVJvbGxzKGV2ZW50LCB0aGlzLCBhY3Rpb25UZXN0RGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIHJvbGw7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEl0ZW1Gcm9tTWVzc2FnZShodG1sKTogU1I1SXRlbSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBodG1sLmZpbmQoJy5jaGF0LWNhcmQnKTtcbiAgICAgICAgbGV0IGFjdG9yO1xuICAgICAgICBjb25zdCB0b2tlbktleSA9IGNhcmQuZGF0YSgndG9rZW5JZCcpO1xuICAgICAgICBpZiAodG9rZW5LZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IHRva2VuS2V5LnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgICAgICBpZiAoc2NlbmVJZCA9PT0gY2FudmFzPy5zY2VuZS5faWQpIHRva2VuID0gY2FudmFzLnRva2Vucy5nZXQodG9rZW5JZCk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZTogU2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzY2VuZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5kYXRhLnRva2Vucy5maW5kKCh0KSA9PiB0LmlkID09PSBOdW1iZXIodG9rZW5JZCkpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbkRhdGEpIHRva2VuID0gbmV3IFRva2VuKHRva2VuRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgICAgICAgICBhY3RvciA9IEFjdG9yLmZyb21Ub2tlbih0b2tlbik7XG4gICAgICAgIH0gZWxzZSBhY3RvciA9IGdhbWUuYWN0b3JzLmdldChjYXJkLmRhdGEoJ2FjdG9ySWQnKSk7XG5cbiAgICAgICAgaWYgKCFhY3RvcikgcmV0dXJuO1xuICAgICAgICBjb25zdCBpdGVtSWQgPSBjYXJkLmRhdGEoJ2l0ZW1JZCcpO1xuICAgICAgICByZXR1cm4gYWN0b3IuZ2V0T3duZWRJdGVtKGl0ZW1JZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFRhcmdldHMoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcmFjdGVyIH0gPSBnYW1lLnVzZXI7XG4gICAgICAgIGNvbnN0IHsgY29udHJvbGxlZCB9ID0gY2FudmFzLnRva2VucztcbiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IGNvbnRyb2xsZWQucmVkdWNlKChhcnIsIHQpID0+ICh0LmFjdG9yID8gYXJyLmNvbmNhdChbdC5hY3Rvcl0pIDogYXJyKSwgW10pO1xuICAgICAgICBpZiAoY2hhcmFjdGVyICYmIGNvbnRyb2xsZWQubGVuZ3RoID09PSAwKSB0YXJnZXRzLnB1c2goY2hhcmFjdGVyKTtcbiAgICAgICAgaWYgKCF0YXJnZXRzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBZb3UgbXVzdCBkZXNpZ25hdGUgYSBzcGVjaWZpYyBUb2tlbiBhcyB0aGUgcm9sbCB0YXJnZXRgKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldHM7XG4gICAgfVxuXG4gICAgZ2V0QWN0aW9uVGVzdHMoKTogVGVzdFtdIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1JvbGwpIHJldHVybiBbXVxuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuZ2V0QWN0aW9uVGVzdE5hbWUoKSxcbiAgICAgICAgICAgIHR5cGU6ICdhY3Rpb24nLFxuICAgICAgICB9XTtcbiAgICB9XG5cbiAgICBnZXRPcHBvc2VkVGVzdHMoKTogVGVzdFtdIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc09wcG9zZWRSb2xsKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5nZXRPcHBvc2VkVGVzdE5hbWUoKSxcbiAgICAgICAgICAgIHR5cGU6ICdvcHBvc2VkJyxcbiAgICAgICAgfV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGl0ZW0gaW4gdGhpcyBpdGVtXG4gICAgICogQHBhcmFtIGl0ZW1EYXRhXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVPd25lZEl0ZW0oaXRlbURhdGEsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbURhdGEpKSBpdGVtRGF0YSA9IFtpdGVtRGF0YV07XG4gICAgICAgIC8vIHdlYXBvbnMgYWNjZXB0IGl0ZW1zXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SXRlbXMgPSBkdXBsaWNhdGUodGhpcy5nZXRFbWJlZGRlZEl0ZW1zKCkpO1xuXG4gICAgICAgICAgICBpdGVtRGF0YS5mb3JFYWNoKChvZ0l0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZHVwbGljYXRlKG9nSXRlbSk7XG4gICAgICAgICAgICAgICAgaXRlbS5faWQgPSByYW5kb21JRCgxNik7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2FtbW8nIHx8IGl0ZW0udHlwZSA9PT0gJ21vZGlmaWNhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0/LmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEudGVjaG5vbG9neS5lcXVpcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldEVtYmVkZGVkSXRlbXMoY3VycmVudEl0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZURhdGEoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgZW1iZWRkZWRJdGVtc1xuICAgICAqL1xuICAgIHByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCkge1xuICAgICAgICBzdXBlci5wcmVwYXJlRW1iZWRkZWRFbnRpdGllcygpO1xuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLmdldEVtYmVkZGVkSXRlbXMoKTtcblxuICAgICAgICAvLyBUZW1wbGF0ZXMgYW5kIGZ1cnRoZXIgbG9naWMgbmVlZCBhIGl0ZW1zIEhhc2hNYXAsIHlldCB0aGUgZmxhZyBwcm92aWRlcyBhbiBhcnJheS5cbiAgICAgICAgaWYgKGl0ZW1zKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gKHRoaXMuaXRlbXMgfHwgW10pLnJlZHVjZSgob2JqZWN0LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W2kuaWRdID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgfSwge30pO1xuXG4gICAgICAgICAgICAvLyBNZXJnZSBwb3NzaWJsZSBjaGFuZ2VzIC8gbmV3IGl0ZW1zIGZyb20gdGhlIGZsYWcgaW50byB0aGUgY3VycmVudCBpdGVtIGluc3RhbmNlLlxuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLl9pZCBpbiBleGlzdGluZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SXRlbSA9IGV4aXN0aW5nW2l0ZW0uX2lkXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQYXRjaCAuZGF0YSBpc24ndCByZWFsbHkgYW55bW9yZSBidXQgZG8gaXQgZm9yIGNvbnNpc3RlbmN5LlxuICAgICAgICAgICAgICAgICAgICAvLyBQYXRjaCAuX2RhdGEgaXMgbmVlZGVkIGZvciBJdGVtLnByZXBhcmVEYXRhIHRvIHdvcmssIGFzIGl0J3Mgc2ltcGx5IGR1cGxpY2F0aW5nIF9kYXRhIG92ZXIgZGF0YS5cbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIG9sZCBpdGVtIGRhdGEgd2lsbCBiZSB1c2VkIGZvciB2YWx1ZSBwcmVwYXJhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW0uZGF0YSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtLl9kYXRhID0gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW0ucHJlcGFyZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRJdGVtO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlydHkgdGhpbmdzIGRvbmUgaGVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJdGVtLmNyZWF0ZU93bmVkKGl0ZW0sIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0T3duZWRJdGVtKGl0ZW1JZCk6IFNSNUl0ZW0gfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgICAgIGlmICghaXRlbXMpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbmQoKGkpID0+IGkuX2lkID09PSBpdGVtSWQpO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZU93bmVkSXRlbShjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZHVwbGljYXRlKHRoaXMuZ2V0RW1iZWRkZWRJdGVtcygpKTtcbiAgICAgICAgaWYgKCFpdGVtcykgcmV0dXJuO1xuICAgICAgICBjaGFuZ2VzID0gQXJyYXkuaXNBcnJheShjaGFuZ2VzKSA/IGNoYW5nZXMgOiBbY2hhbmdlc107XG4gICAgICAgIGlmICghY2hhbmdlcyB8fCBjaGFuZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2goKGl0ZW1DaGFuZ2VzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGl0ZW1zLmZpbmRJbmRleCgoaSkgPT4gaS5faWQgPT09IGl0ZW1DaGFuZ2VzLl9pZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtQ2hhbmdlcyA9IGV4cGFuZE9iamVjdChpdGVtQ2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgbWVyZ2VPYmplY3QoaXRlbSwgaXRlbUNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIGl0ZW1zW2luZGV4XSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5pdGVtc1tpbmRleF0uZGF0YSA9IGl0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zZXRFbWJlZGRlZEl0ZW1zKGl0ZW1zKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlRW1iZWRkZWRFbnRpdGllcygpO1xuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVEYXRhKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlRW1iZWRkZWRFbnRpdHkoZW1iZWRkZWROYW1lOiBzdHJpbmcsIHVwZGF0ZURhdGE6IG9iamVjdCB8IG9iamVjdFtdLCBvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlT3duZWRJdGVtKHVwZGF0ZURhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gb3duZWQgaXRlbVxuICAgICAqIEBwYXJhbSBkZWxldGVkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAgICovXG4gICAgYXN5bmMgZGVsZXRlT3duZWRJdGVtKGRlbGV0ZWQpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkdXBsaWNhdGUodGhpcy5nZXRFbWJlZGRlZEl0ZW1zKCkpO1xuICAgICAgICBpZiAoIWl0ZW1zKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaWR4ID0gaXRlbXMuZmluZEluZGV4KChpKSA9PiBpLl9pZCA9PT0gZGVsZXRlZCB8fCBOdW1iZXIoaS5faWQpID09PSBkZWxldGVkKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHRocm93IG5ldyBFcnJvcihgU2hhZG93cnVuNWUgfCBDb3VsZG4ndCBmaW5kIG93bmVkIGl0ZW0gJHtkZWxldGVkfWApO1xuICAgICAgICBpdGVtcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byBjbGVhciB0aGUgaXRlbXMgd2hlbiBvbmUgaXMgZGVsZXRlZCBvciBpdCB3b24ndCBhY3R1YWxseSBiZSBkZWxldGVkXG4gICAgICAgIGF3YWl0IHRoaXMuY2xlYXJFbWJlZGRlZEl0ZW1zKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0RW1iZWRkZWRJdGVtcyhpdGVtcyk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZUVtYmVkZGVkRW50aXRpZXMoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlRGF0YSgpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcihmYWxzZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFzeW5jIG9wZW5QZGZTb3VyY2UoKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBQREZvdW5kcnkgbW9kdWxlIGhvb2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9EanBob2VuaXg3MTkvUERGb3VuZHJ5XG4gICAgICAgIGlmICghdWlbJ1BERm91bmRyeSddKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRElBTE9HLk1pc3NpbmdNb2R1bGVDb250ZW50JykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5nZXRCb29rU291cmNlKCk7XG4gICAgICAgIGlmIChzb3VyY2UgPT09ICcnKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNvdXJjZUZpZWxkRW1wdHlFcnJvcicpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG9wZW4gUERGIHRvIGNvcnJlY3QgbG9jYXRpb25cbiAgICAgICAgLy8gcGFyc2UgaG93ZXZlciB5b3UgbmVlZCwgYWxsIFwiYnV0dG9uc1wiIHdpbGwgbGVhZCB0byB0aGlzIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IFtjb2RlLCBwYWdlXSA9IHNvdXJjZS5zcGxpdCgnICcpO1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB1aS5QREZvdW5kcnkub3BlblBERkJ5Q29kZShjb2RlLCB7IHBhZ2U6IHBhcnNlSW50KHBhZ2UpIH0pO1xuICAgIH1cblxuICAgIF9jYW5EZWFsRGFtYWdlKCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBOT1RFOiBEb3VibGUgbmVnYXRpb24gdG8gZm9yY2UgYm9vbGVhbiBjb21wYXJpc29uIGNhc3RpbmcuXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZ2V0QWN0aW9uKCk7XG4gICAgICAgIGlmICghYWN0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiAhIWFjdGlvbi5kYW1hZ2UudHlwZS5iYXNlO1xuICAgIH1cblxuICAgIGdldEFjdGlvbigpOiBBY3Rpb25Sb2xsRGF0YXx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmdldEFjdGlvbigpO1xuICAgIH1cblxuICAgIGdldEV4dGVuZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLmdldEFjdGlvbigpO1xuICAgICAgICBpZiAoIWFjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gYWN0aW9uLmV4dGVuZGVkO1xuICAgIH1cblxuICAgIGdldFRlY2hub2xvZ3koKTogVGVjaG5vbG9neURhdGF8dW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRUZWNobm9sb2d5KCk7XG4gICAgfVxuXG4gICAgZ2V0UmFuZ2UoKTogQ3JpdHRlclBvd2VyUmFuZ2V8U3BlbGxSYW5nZXxSYW5nZVdlYXBvbkRhdGF8dW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRSYW5nZSgpO1xuICAgIH1cblxuICAgIGdldFdlYXBvblJhbmdlKCk6IFJhbmdlV2VhcG9uRGF0YXx1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc1JhbmdlZFdlYXBvbigpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFuZ2UoKSBhcyBSYW5nZVdlYXBvbkRhdGE7XG4gICAgfVxuXG4gICAgZ2V0QXR0YWNrRGF0YShoaXRzOiBudW1iZXIsIGFjdGlvblRlc3REYXRhPzogQWN0aW9uVGVzdERhdGEpOiBBdHRhY2tEYXRhIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYW5EZWFsRGFtYWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZ2V0QWN0aW9uKCk7XG4gICAgICAgIGlmICghYWN0aW9uKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZGFtYWdlID0gSXRlbUFjdGlvbi5jYWxjRGFtYWdlKGFjdGlvbi5kYW1hZ2UsIHRoaXMuYWN0b3IpO1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IEF0dGFja0RhdGEgPSB7XG4gICAgICAgICAgICBoaXRzLFxuICAgICAgICAgICAgZGFtYWdlLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1vZGlmeSBhY3Rpb24gZGFtYWdlIGJ5IHNwZWxsIGRhbWFnZS5cbiAgICAgICAgaWYgKHRoaXMuaXNDb21iYXRTcGVsbCgpICYmIGFjdGlvblRlc3REYXRhPy5zcGVsbCkge1xuICAgICAgICAgICAgY29uc3QgZm9yY2UgPSBhY3Rpb25UZXN0RGF0YS5zcGVsbC5mb3JjZTtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVBhcnRzID0gbmV3IFBhcnRzTGlzdChkYXRhLmRhbWFnZS5tb2QpO1xuICAgICAgICAgICAgY29uc3Qgc3BlbGxEYW1hZ2UgPSB0aGlzLmdldFNwZWxsRGFtYWdlKGZvcmNlLCBoaXRzKTtcblxuICAgICAgICAgICAgaWYgKHNwZWxsRGFtYWdlKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5mb3JjZSA9IGZvcmNlO1xuICAgICAgICAgICAgICAgIGRhdGEuZGFtYWdlLmJhc2UgPSBzcGVsbERhbWFnZS5iYXNlO1xuICAgICAgICAgICAgICAgIGRhdGEuZGFtYWdlLnZhbHVlID0gc3BlbGxEYW1hZ2UuYmFzZSArIGRhbWFnZVBhcnRzLnRvdGFsO1xuICAgICAgICAgICAgICAgIGRhdGEuZGFtYWdlLmFwLnZhbHVlID0gLXNwZWxsRGFtYWdlLmFwLnZhbHVlICsgZGFtYWdlUGFydHMudG90YWw7XG4gICAgICAgICAgICAgICAgZGF0YS5kYW1hZ2UuYXAuYmFzZSA9IC1zcGVsbERhbWFnZS5hcC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxleEZvcm0oKSAmJiBhY3Rpb25UZXN0RGF0YT8uY29tcGxleEZvcm0pIHtcbiAgICAgICAgICAgIGRhdGEubGV2ZWwgPSBhY3Rpb25UZXN0RGF0YS5jb21wbGV4Rm9ybS5sZXZlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzTWVsZWVXZWFwb24oKSkge1xuICAgICAgICAgICAgZGF0YS5yZWFjaCA9IHRoaXMuZ2V0UmVhY2goKTtcbiAgICAgICAgICAgIGRhdGEuYWNjdXJhY3kgPSB0aGlzLmdldEFjdGlvbkxpbWl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc1JhbmdlZFdlYXBvbigpKSB7XG4gICAgICAgICAgICBkYXRhLmZpcmVNb2RlID0gYWN0aW9uVGVzdERhdGE/LnJhbmdlZFdlYXBvbj8uZmlyZU1vZGU7XG4gICAgICAgICAgICBkYXRhLmFjY3VyYWN5ID0gdGhpcy5nZXRBY3Rpb25MaW1pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmxhc3REYXRhID0gdGhpcy5nZXRCbGFzdERhdGEoYWN0aW9uVGVzdERhdGEpO1xuICAgICAgICBpZiAoYmxhc3REYXRhKSBkYXRhLmJsYXN0ID0gYmxhc3REYXRhO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGdldFJvbGxOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmlzUmFuZ2VkV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5SYW5nZVdlYXBvbkF0dGFjaycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTWVsZWVXZWFwb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1lbGVlV2VhcG9uQXR0YWNrJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNDb21iYXRTcGVsbCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU3BlbGxBdHRhY2snKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1NwZWxsKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGVsbENhc3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNSb2xsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gREVGQVVMVF9ST0xMX05BTUU7XG4gICAgfVxuXG4gICAgZ2V0TGltaXQoKTogTGltaXRGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLy8gVE9ETzogVGhpcyBzaG91bGQgdXNlIHRoaXMuZ2V0QWN0aW9uKCkuIEhvd2V2ZXIgYWN0aW9uLmxpbWl0IGRvZXNuJ3QgY29udGFpbiBsYWJlbCBmaWVsZC5cbiAgICAgICAgY29uc3QgbGltaXQgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5saW1pdCk7XG4gICAgICAgIGlmICghbGltaXQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGdvIHRocm91Z2ggYW5kIHNldCB0aGUgbGFiZWwgY29ycmVjdGx5XG4gICAgICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicpIHtcbiAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gJ1NSNS5BY2N1cmFjeSc7XG4gICAgICAgIH0gZWxzZSBpZiAobGltaXQ/LmF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgbGltaXQubGFiZWwgPSBDT05GSUcuU1I1LmxpbWl0c1tsaW1pdC5hdHRyaWJ1dGVdO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNTcGVsbCgpKSB7XG4gICAgICAgICAgICBsaW1pdC52YWx1ZSA9IHRoaXMuZ2V0TGFzdFNwZWxsRm9yY2UoKS52YWx1ZTtcbiAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gJ1NSNS5Gb3JjZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0NvbXBsZXhGb3JtKCkpIHtcbiAgICAgICAgICAgIGxpbWl0LnZhbHVlID0gdGhpcy5nZXRMYXN0Q29tcGxleEZvcm1MZXZlbCgpLnZhbHVlO1xuICAgICAgICAgICAgbGltaXQubGFiZWwgPSAnU1I1LkxldmVsJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gJ1NSNS5MaW1pdCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGp1c3QgbGltaXQgdmFsdWUgZm9yIGFjdG9yIGRhdGFcbiAgICAgICAgaWYgKGxpbWl0LmF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgY29uc3QgYXR0ID0gdGhpcy5hY3Rvci5maW5kTGltaXQobGltaXQuYXR0cmlidXRlKTtcbiAgICAgICAgICAgIGlmIChhdHQpIHtcbiAgICAgICAgICAgICAgICBsaW1pdC5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChsaW1pdC5tb2QsIGF0dC5sYWJlbCwgYXR0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBIZWxwZXJzLmNhbGNUb3RhbChsaW1pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGltaXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgc2V0RmxhZyB0byByZW1vdmUgdGhlICdTUjUuJyBmcm9tIGtleXMgaW4gbW9kbGlzdHMsIG90aGVyd2lzZSBpdCBoYW5kbGVzIHRoZW0gYXMgZW1iZWRkZWQga2V5c1xuICAgICAqIEBwYXJhbSBzY29wZVxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICBzZXRGbGFnKHNjb3BlOiBzdHJpbmcsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogUHJvbWlzZTxFbnRpdHk+IHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBIZWxwZXJzLm9uU2V0RmxhZyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBzdXBlci5zZXRGbGFnKHNjb3BlLCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBnZXRGbGFnIHRvIGFkZCBiYWNrIHRoZSAnU1I1Licga2V5cyBjb3JyZWN0bHkgdG8gYmUgaGFuZGxlZFxuICAgICAqIEBwYXJhbSBzY29wZVxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKi9cbiAgICBnZXRGbGFnKHNjb3BlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHN1cGVyLmdldEZsYWcoc2NvcGUsIGtleSk7XG4gICAgICAgIHJldHVybiBIZWxwZXJzLm9uR2V0RmxhZyhkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXNzdGhyb3VnaCBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICBpc0FyZWFPZkVmZmVjdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0FyZWFPZkVmZmVjdCgpO1xuICAgIH1cblxuICAgIGlzQXJtb3IoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNBcm1vcigpO1xuICAgIH1cblxuICAgIGFzQXJtb3JEYXRhKCk6IEFybW9yIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBcm1vcigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhIGFzIEFybW9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFzQXJtb3JCYXNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmhhc0FybW9yQmFzZSgpO1xuICAgIH1cblxuICAgIGhhc0FybW9yQWNjZXNzb3J5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmhhc0FybW9yQWNjZXNzb3J5KCk7XG4gICAgfVxuXG4gICAgaGFzQXJtb3IoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaGFzQXJtb3IoKTtcbiAgICB9XG5cbiAgICBpc0dyZW5hZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNHcmVuYWRlKCk7XG4gICAgfVxuXG4gICAgaXNXZWFwb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNXZWFwb24oKTtcbiAgICB9XG5cbiAgICBhc1dlYXBvbkRhdGEoKTogV2VhcG9uIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMud3JhcHBlci5pc1dlYXBvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhIGFzIFdlYXBvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQ3liZXJ3YXJlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzQ3liZXJ3YXJlKCk7XG4gICAgfVxuXG4gICAgYXNDeWJlcndhcmVEYXRhKCk6IEN5YmVyd2FyZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzQ3liZXJ3YXJlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgYXMgQ3liZXJ3YXJlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNDb21iYXRTcGVsbCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0NvbWJhdFNwZWxsKCk7XG4gICAgfVxuXG4gICAgaXNEaXJlY3RDb21iYXRTcGVsbCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0RpcmVjdENvbWJhdFNwZWxsKCk7XG4gICAgfVxuXG4gICAgaXNJbmRpcmVjdENvbWJhdFNwZWxsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzSW5kaXJlY3RDb21iYXRTcGVsbCgpO1xuICAgIH1cblxuICAgIGlzTWFuYVNwZWxsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzTWFuYVNwZWxsKCk7XG4gICAgfVxuXG4gICAgaXNQaHlzaWNhbFNwZWxsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzUGh5c2ljYWxTcGVsbCgpO1xuICAgIH1cblxuICAgIGlzUmFuZ2VkV2VhcG9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzUmFuZ2VkV2VhcG9uKCk7XG4gICAgfVxuXG4gICAgaXNTcGVsbCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc1NwZWxsKCk7XG4gICAgfVxuXG4gICAgYXNTcGVsbERhdGEoKTogU3BlbGwgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc1NwZWxsKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgYXMgU3BlbGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1Nwcml0ZVBvd2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzU3ByaXRlUG93ZXIoKTtcbiAgICB9XG5cbiAgICBhc1Nwcml0ZVBvd2VyRGF0YSgpOiBTcHJpdGVQb3dlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzU3ByaXRlUG93ZXIoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBTcHJpdGVQb3dlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQmlvd2FyZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0Jpb3dhcmUoKTtcbiAgICB9XG5cbiAgICBpc0NvbXBsZXhGb3JtKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzQ29tcGxleEZvcm0oKTtcbiAgICB9XG5cbiAgICBhc0NvbXBsZXhGb3JtRGF0YSgpOiBDb21wbGV4Rm9ybSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxleEZvcm0oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBDb21wbGV4Rm9ybTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQ29udGFjdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0NvbnRhY3QoKTtcbiAgICB9XG5cbiAgICBhc0NvbnRhY3REYXRhKCk6IENvbnRhY3QgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc0NvbnRhY3QoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBDb250YWN0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNDcml0dGVyUG93ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNDcml0dGVyUG93ZXIoKTtcbiAgICB9XG5cbiAgICBhc0NyaXR0ZXJQb3dlckRhdGEoKTogQ3JpdHRlclBvd2VyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDcml0dGVyUG93ZXIoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSBhcyBDcml0dGVyUG93ZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc01lbGVlV2VhcG9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzTWVsZWVXZWFwb24oKTtcbiAgICB9XG5cbiAgICBpc0RldmljZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0RldmljZSgpO1xuICAgIH1cblxuICAgIGFzRGV2aWNlRGF0YSgpOiBEZXZpY2UgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc0RldmljZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhIGFzIERldmljZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRXF1aXBtZW50KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzRXF1aXBtZW50KCk7XG4gICAgfVxuXG4gICAgYXNFcXVpcG1lbnREYXRhKCk6IEVxdWlwbWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzRXF1aXBtZW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgYXMgRXF1aXBtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNFcXVpcHBlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0VxdWlwcGVkKCk7XG4gICAgfVxuXG4gICAgaXNDeWJlcmRlY2soKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNDeWJlcmRlY2soKTtcbiAgICB9XG5cbiAgICBnZXRCb29rU291cmNlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0Qm9va1NvdXJjZSgpO1xuICAgIH1cblxuICAgIGdldENvbmRpdGlvbk1vbml0b3IoKTogQ29uZGl0aW9uRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0Q29uZGl0aW9uTW9uaXRvcigpO1xuICAgIH1cblxuICAgIGdldFJhdGluZygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmdldFJhdGluZygpO1xuICAgIH1cblxuICAgIGdldEFybW9yVmFsdWUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRBcm1vclZhbHVlKCk7XG4gICAgfVxuXG4gICAgZ2V0QXJtb3JFbGVtZW50cygpOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRBcm1vckVsZW1lbnRzKCk7XG4gICAgfVxuXG4gICAgZ2V0RXNzZW5jZUxvc3MoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRFc3NlbmNlTG9zcygpO1xuICAgIH1cblxuICAgIGdldEFTREYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0QVNERigpO1xuICAgIH1cblxuICAgIGdldEFjdGlvblNraWxsKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0QWN0aW9uU2tpbGwoKTtcbiAgICB9XG5cbiAgICBnZXRBY3Rpb25BdHRyaWJ1dGUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRBY3Rpb25BdHRyaWJ1dGUoKTtcbiAgICB9XG5cbiAgICBnZXRBY3Rpb25BdHRyaWJ1dGUyKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0QWN0aW9uQXR0cmlidXRlMigpO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkxpbWl0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBsaW1pdCA9IHRoaXMud3JhcHBlci5nZXRBY3Rpb25MaW1pdCgpO1xuICAgICAgICAvLyBnZXQgdGhlIGxpbWl0IG1vZGlmaWVycyBmcm9tIHRoZSBhY3RvciBpZiB3ZSBoYXZlIHRoZW1cbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy53cmFwcGVyLmdldEFjdGlvbigpO1xuICAgICAgICBpZiAoYWN0aW9uPy5saW1pdC5hdHRyaWJ1dGUgJiYgbGltaXQgJiYgdGhpcy5hY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgeyBhdHRyaWJ1dGUgfSA9IGFjdGlvbi5saW1pdDtcbiAgICAgICAgICAgIGNvbnN0IGF0dCA9IHRoaXMuYWN0b3IuZmluZEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgICAgICAgaWYgKGF0dCkge1xuICAgICAgICAgICAgICAgIGxpbWl0ICs9IGF0dC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGltaXQ7XG4gICAgfVxuXG4gICAgZ2V0TW9kaWZpZXJMaXN0KCk6IE1vZExpc3Q8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0TW9kaWZpZXJMaXN0KCk7XG4gICAgfVxuXG4gICAgZ2V0QWN0aW9uU3BlY2lhbGl6YXRpb24oKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRBY3Rpb25TcGVjaWFsaXphdGlvbigpO1xuICAgIH1cblxuICAgIGdldERyYWluKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0RHJhaW4oKTtcbiAgICB9XG5cbiAgICBnZXRGYWRlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0RmFkZSgpO1xuICAgIH1cblxuICAgIGdldFJlY29pbENvbXBlbnNhdGlvbihpbmNsdWRlQWN0b3I6IGJvb2xlYW4gPSB0cnVlKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHJjID0gdGhpcy53cmFwcGVyLmdldFJlY29pbENvbXBlbnNhdGlvbigpO1xuICAgICAgICBpZiAoaW5jbHVkZUFjdG9yICYmIHRoaXMuYWN0b3IpIHtcbiAgICAgICAgICAgIHJjICs9IHRoaXMuYWN0b3IuZ2V0UmVjb2lsQ29tcGVuc2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJjO1xuICAgIH1cblxuICAgIGdldFJlYWNoKCk6IG51bWJlciB7XG4gICAgICAgIGlmICh0aGlzLmlzTWVsZWVXZWFwb24oKSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YS5kYXRhIGFzIFdlYXBvbkRhdGE7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5tZWxlZS5yZWFjaCA/PyAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIGdldENvbmRpdGlvbigpOiBDb25kaXRpb25EYXRhfHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IHRlY2hub2xvZ3kgPSB0aGlzLmdldFRlY2hub2xvZ3koKTtcbiAgICAgICAgaWYgKHRlY2hub2xvZ3kgJiYgXCJjb25kaXRpb25fbW9uaXRvclwiIGluIHRlY2hub2xvZ3kpXG4gICAgICAgICAgICByZXR1cm4gdGVjaG5vbG9neS5jb25kaXRpb25fbW9uaXRvcjtcbiAgICB9XG5cbiAgICBoYXNEZWZlbnNlVGVzdCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc09wcG9zZWRSb2xsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZ2V0QWN0aW9uKCk7XG4gICAgICAgIGlmICghYWN0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBhY3Rpb24ub3Bwb3NlZC50eXBlID09PSAnZGVmZW5zZSc7XG4gICAgfVxuXG4gICAgLyoqIFVzZSB0aGlzIG1ldGhvZCB0byBnZXQgdGhlIGJhc2UgZGFtYWdlIG9mIHNwZWxsLCBiZWZvcmUgYW55IG9wcG9zaW5nIGFjdGlvblxuICAgICAqXG4gICAgICogTk9URTogVGhpcyB3aWxsIE5PVCBnaXZlIHlvdSBtb2RpZmllZCBkYW1hZ2UgZm9yIGRpcmVjdCBjb21iYXQgc3BlbGxzXG4gICAgICovXG4gICAgZ2V0U3BlbGxEYW1hZ2UoZm9yY2U6IG51bWJlciwgaGl0czogbnVtYmVyKTogRGFtYWdlRGF0YXx1bmRlZmluZWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb21iYXRTcGVsbCgpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5nZXRBY3Rpb24oKTtcbiAgICAgICAgaWYgKCFhY3Rpb24pIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5pc0RpcmVjdENvbWJhdFNwZWxsKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IGhpdHM7XG5cbiAgICAgICAgICAgIHJldHVybiBIZWxwZXJzLmNyZWF0ZURhbWFnZURhdGEoZGFtYWdlLCBhY3Rpb24uZGFtYWdlLnR5cGUudmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJbmRpcmVjdENvbWJhdFNwZWxsKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IGZvcmNlO1xuICAgICAgICAgICAgY29uc3QgYXAgPSAtZm9yY2U7XG5cbiAgICAgICAgICAgIHJldHVybiBIZWxwZXJzLmNyZWF0ZURhbWFnZURhdGEoZGFtYWdlLCBhY3Rpb24uZGFtYWdlLnR5cGUudmFsdWUsIC1hcClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE86IE1vdmUgaW50byBhIHJ1bGUgc2VjdGlvbi5cbiAgICBhc3luYyByb2xsRGVmZW5zZSh0YXJnZXQ6IFNSNUFjdG9yLCBvcHRpb25zOiBEZWZlbnNlUm9sbE9wdGlvbnMpOiBQcm9taXNlPFNoYWRvd3J1blJvbGwgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgLy8gVE9ETzogTWF5YmUgbW92ZSBpbnRvIGRlZmVuc2UgbWV0aG9kcyBhbmQgZ2l2ZSB0aGUgYWN0b3IgYWNjZXNzIHRvIHRoZSBpdGVtLlxuICAgICAgICBjb25zdCBvcHBvc2VkUGFydHMgPSB0aGlzLmdldE9wcG9zZWRUZXN0TW9kKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNXZWFwb24oKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5jb3ZlciA9IHRydWU7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRhY2s/LmZpcmVNb2RlPy5kZWZlbnNlKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5maXJlTW9kZURlZmVuc2UgPSArb3B0aW9ucy5hdHRhY2suZmlyZU1vZGUuZGVmZW5zZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRhcmdldC5yb2xsQXR0YWNrRGVmZW5zZShvcHRpb25zLCBvcHBvc2VkUGFydHMubGlzdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0RpcmVjdENvbWJhdFNwZWxsKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0YXJnZXQucm9sbERpcmVjdFNwZWxsRGVmZW5zZSh0aGlzLCBvcHRpb25zIGFzIFNwZWxsRGVmZW5zZU9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNJbmRpcmVjdENvbWJhdFNwZWxsKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0YXJnZXQucm9sbEluZGlyZWN0U3BlbGxEZWZlbnNlKHRoaXMsIG9wdGlvbnMgYXMgU3BlbGxEZWZlbnNlT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogU2hvdWxkIGVudmlyb25tZW50YWwgbW9kaWZpZXJzIGFwcGx5IGFuIGFjdGlvbiBieSB0aGlzIGl0ZW0/XG4gICAgICovXG4gICAgYXBwbHlFbnZpcm9ubWVudGFsTW9kaWZpZXJzKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pc1JhbmdlZFdlYXBvbigpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaXNNZWxlZVdlYXBvbigpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaXNJbmRpcmVjdENvbWJhdFNwZWxsKCkpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhV3JhcHBlciB9IGZyb20gJy4uL2RhdGFXcmFwcGVycy9EYXRhV3JhcHBlcic7XG5pbXBvcnQgU1I1SXRlbVR5cGUgPSBTaGFkb3dydW4uU1I1SXRlbVR5cGU7XG5pbXBvcnQgQ29uZGl0aW9uRGF0YSA9IFNoYWRvd3J1bi5Db25kaXRpb25EYXRhO1xuaW1wb3J0IE1vZExpc3QgPSBTaGFkb3dydW4uTW9kTGlzdDtcbmltcG9ydCBTUjVJdGVtRGF0YVBhcnRpYWwgPSBTaGFkb3dydW4uU1I1SXRlbURhdGFQYXJ0aWFsO1xuaW1wb3J0IEFjdGlvblJvbGxEYXRhID0gU2hhZG93cnVuLkFjdGlvblJvbGxEYXRhO1xuaW1wb3J0IFNwZWxsRGF0YSA9IFNoYWRvd3J1bi5TcGVsbERhdGE7XG5pbXBvcnQgU2luRGF0YSA9IFNoYWRvd3J1bi5TaW5EYXRhO1xuaW1wb3J0IFNpbiA9IFNoYWRvd3J1bi5TaW47XG5pbXBvcnQgU1I1SXRlbURhdGEgPSBTaGFkb3dydW4uU1I1SXRlbURhdGE7XG5pbXBvcnQgQWN0aW9uUGFydERhdGEgPSBTaGFkb3dydW4uQWN0aW9uUGFydERhdGE7XG5pbXBvcnQgV2VhcG9uID0gU2hhZG93cnVuLldlYXBvbjtcbmltcG9ydCBNb2RpZmljYXRpb24gPSBTaGFkb3dydW4uTW9kaWZpY2F0aW9uO1xuaW1wb3J0IFRlY2hub2xvZ3lEYXRhID0gU2hhZG93cnVuLlRlY2hub2xvZ3lEYXRhO1xuaW1wb3J0IENyaXR0ZXJQb3dlclJhbmdlID0gU2hhZG93cnVuLkNyaXR0ZXJQb3dlclJhbmdlO1xuaW1wb3J0IFNwZWxsUmFuZ2UgPSBTaGFkb3dydW4uU3BlbGxSYW5nZTtcbmltcG9ydCBSYW5nZVdlYXBvbkRhdGEgPSBTaGFkb3dydW4uUmFuZ2VXZWFwb25EYXRhO1xuXG5leHBvcnQgY2xhc3MgU1I1SXRlbURhdGFXcmFwcGVyIGV4dGVuZHMgRGF0YVdyYXBwZXI8U1I1SXRlbVR5cGU+IHtcbiAgICBnZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGU7XG4gICAgfVxuICAgIGdldERhdGEoKTogU1I1SXRlbURhdGFQYXJ0aWFsIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmRhdGEuZGF0YSBhcyB1bmtub3duKSBhcyBTUjVJdGVtRGF0YVBhcnRpYWw7XG4gICAgfVxuXG4gICAgaXNBcmVhT2ZFZmZlY3QoKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIFRPRE8gZmlndXJlIG91dCBob3cgdG8gZGV0ZWN0IGV4cGxvc2l2ZSBhbW1vXG4gICAgICAgIHJldHVybiB0aGlzLmlzR3JlbmFkZSgpIHx8ICh0aGlzLmlzU3BlbGwoKSAmJiB0aGlzLmdldERhdGEoKS5yYW5nZSA9PT0gJ2xvc19hJyk7IC8vfHwgdGhpcy5oYXNFeHBsb3NpdmVBbW1vKCk7XG4gICAgfVxuXG4gICAgLyoqIFNob3VsZCBvbmx5IGJlIHVzZWQgdG8gY2hlY2sgZm9yIGFjdHVhbCBhcm1vciBpdGVtIHR5cGUuXG4gICAgICogTk9URTogU2hvdWxkIHlvdSBvbmx5IGNhcmUgYWJvdXQgYSBwb3NzaWJsZSBhcm1vciB2YWx1ZSB1c2UgY291bGRIYXZlQXJtb3IgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBpc0FybW9yKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdhcm1vcic7XG4gICAgfVxuXG4gICAgLyoqIFdpbGwgZ2l2ZSBhbiBpbmRpY2F0b3IgaWYgYW4gaXRlbSBwcm92aWRlcyBhbiBhcm1vciB2YWx1ZSwgd2l0aG91dCBsb2NraW5nIGludG8gb25seSB0aGUgQXJtb3IgaXRlbSB0eXBlLlxuICAgICAqIE5PVEU6IFNob3VsZCB5b3Ugb25seSBjYXJlIGFib3V0IHRoZSBhcm1vciBpdGVtIHR5cGUgdXNlIGlzQXJtb3IgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBjb3VsZEhhdmVBcm1vcigpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYXJtb3IgPSB0aGlzLmdldERhdGEoKS5hcm1vcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNBcm1vcigpIHx8IGFybW9yICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaGFzQXJtb3JCYXNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNBcm1vcigpICYmICF0aGlzLmdldERhdGEoKS5hcm1vcj8ubW9kO1xuICAgIH1cblxuICAgIGhhc0FybW9yQWNjZXNzb3J5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNBcm1vcigpICYmICh0aGlzLmdldERhdGEoKS5hcm1vcj8ubW9kID8/IGZhbHNlKTtcbiAgICB9XG5cbiAgICBoYXNBcm1vcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXJtb3JWYWx1ZSgpID4gMDtcbiAgICB9XG5cbiAgICBpc0dyZW5hZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVGhyb3duV2VhcG9uKCkgJiYgKHRoaXMuZ2V0RGF0YSgpLnRocm93bj8uYmxhc3QucmFkaXVzID8/IDApID4gMDtcbiAgICB9XG5cbiAgICBpc1Rocm93bldlYXBvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNXZWFwb24oKSAmJiB0aGlzLmdldERhdGEoKS5jYXRlZ29yeSA9PT0gJ3Rocm93bic7XG4gICAgfVxuXG4gICAgaXNXZWFwb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbic7XG4gICAgfVxuXG4gICAgaXNNb2RpZmljYXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ21vZGlmaWNhdGlvbic7XG4gICAgfVxuXG4gICAgaXNXZWFwb25Nb2RpZmljYXRpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5pc01vZGlmaWNhdGlvbigpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IG1vZGlmaWNhdGlvbiA9IHRoaXMuZGF0YSBhcyBNb2RpZmljYXRpb247XG4gICAgICAgIHJldHVybiBtb2RpZmljYXRpb24uZGF0YS50eXBlID09PSAnd2VhcG9uJztcbiAgICB9XG5cbiAgICBpc0FybW9yTW9kaWZpY2F0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXRoaXMuaXNNb2RpZmljYXRpb24oKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBtb2RpZmljYXRpb24gPSB0aGlzLmRhdGEgYXMgTW9kaWZpY2F0aW9uO1xuICAgICAgICByZXR1cm4gbW9kaWZpY2F0aW9uLmRhdGEudHlwZSA9PT0gJ2FybW9yJztcbiAgICB9XG5cbiAgICBpc1Byb2dyYW0oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ3Byb2dyYW0nO1xuICAgIH1cblxuICAgIGlzUXVhbGl0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAncXVhbGl0eSc7XG4gICAgfVxuXG4gICAgaXNBbW1vKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdhbW1vJztcbiAgICB9XG5cbiAgICBpc0N5YmVyd2FyZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnY3liZXJ3YXJlJztcbiAgICB9XG5cbiAgICBpc0Jpb3dhcmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ2Jpb3dhcmUnO1xuICAgIH1cblxuICAgIGlzQm9keXdhcmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQ3liZXJ3YXJlKCkgfHwgdGhpcy5pc0Jpb3dhcmUoKTtcbiAgICB9XG5cbiAgICBpc0NvbWJhdFNwZWxsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NwZWxsKCkgJiYgdGhpcy5nZXREYXRhKCkuY2F0ZWdvcnkgPT09ICdjb21iYXQnO1xuICAgIH1cblxuICAgIGlzRGlyZWN0Q29tYmF0U3BlbGwoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5pc0NvbWJhdFNwZWxsKCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpPy5jb21iYXQ/LnR5cGUgPT09ICdkaXJlY3QnO1xuICAgIH1cblxuICAgIGlzSW5kaXJlY3RDb21iYXRTcGVsbCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29tYmF0U3BlbGwoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk/LmNvbWJhdD8udHlwZSA9PT0gJ2luZGlyZWN0JztcbiAgICB9XG5cbiAgICBpc01hbmFTcGVsbCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3BlbGwoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBDYXN0IGFzIHBhcnRpYWwgc3BlbGxkYXRhIGR1ZSB0byBjb25mbGljdGluZyAudHlwZSBiZXR3ZWVuIGRpZmZlcmluZyBpdGVtIHR5cGVzLlxuICAgICAgICBjb25zdCBzcGVsbERhdGEgPSB0aGlzLmdldERhdGEoKSBhcyBQYXJ0aWFsPFNwZWxsRGF0YT47XG4gICAgICAgIHJldHVybiBzcGVsbERhdGEudHlwZSA9PT0gJ21hbmEnO1xuICAgIH1cblxuICAgIGlzUGh5c2ljYWxTcGVsbCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3BlbGwoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBDYXN0IGFzIHBhcnRpYWwgc3BlbGxkYXRhIGR1ZSB0byBjb25mbGljdGluZyAudHlwZSBiZXR3ZWVuIGRpZmZlcmluZyBpdGVtIHR5cGVzLlxuICAgICAgICBjb25zdCBzcGVsbERhdGEgPSB0aGlzLmdldERhdGEoKSBhcyBQYXJ0aWFsPFNwZWxsRGF0YT47XG4gICAgICAgIHJldHVybiBzcGVsbERhdGEudHlwZSA9PT0gJ3BoeXNpY2FsJztcbiAgICB9XG5cbiAgICBpc1JhbmdlZFdlYXBvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNXZWFwb24oKSAmJiB0aGlzLmdldERhdGEoKS5jYXRlZ29yeSA9PT0gJ3JhbmdlJztcbiAgICB9XG5cbiAgICBpc1NwZWxsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdzcGVsbCc7XG4gICAgfVxuXG4gICAgaXNTcHJpdGVQb3dlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnc3ByaXRlX3Bvd2VyJztcbiAgICB9XG5cbiAgICBpc0NvbXBsZXhGb3JtKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdjb21wbGV4X2Zvcm0nO1xuICAgIH1cblxuICAgIGlzQ29udGFjdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnY29udGFjdCc7XG4gICAgfVxuXG4gICAgaXNDcml0dGVyUG93ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ2NyaXR0ZXJfcG93ZXInO1xuICAgIH1cblxuICAgIGlzTWVsZWVXZWFwb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicgJiYgdGhpcy5nZXREYXRhKCkuY2F0ZWdvcnkgPT09ICdtZWxlZSc7XG4gICAgfVxuXG4gICAgaXNEZXZpY2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ2RldmljZSc7XG4gICAgfVxuXG4gICAgaXNFcXVpcG1lbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ2VxdWlwbWVudCc7XG4gICAgfVxuXG4gICAgaXNFcXVpcHBlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpLnRlY2hub2xvZ3k/LmVxdWlwcGVkIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIGlzQ3liZXJkZWNrKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RldmljZSgpICYmIHRoaXMuZ2V0RGF0YSgpLmNhdGVnb3J5ID09PSAnY3liZXJkZWNrJztcbiAgICB9XG5cbiAgICBpc1NpbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnc2luJztcbiAgICB9XG5cbiAgICBpc0xpZmVzdHlsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnbGlmZXN0eWxlJztcbiAgICB9XG5cbiAgICBnZXRJZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLl9pZDtcbiAgICB9XG5cbiAgICBnZXRCb29rU291cmNlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKS5kZXNjcmlwdGlvbj8uc291cmNlID8/ICcnO1xuICAgIH1cblxuICAgIGdldENvbmRpdGlvbk1vbml0b3IoKTogQ29uZGl0aW9uRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKS50ZWNobm9sb2d5Py5jb25kaXRpb25fbW9uaXRvciA/PyB7IHZhbHVlOiAwLCBtYXg6IDAsIGxhYmVsOiAnJyB9O1xuICAgIH1cblxuICAgIGdldFJhdGluZygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCkudGVjaG5vbG9neT8ucmF0aW5nIHx8IDA7XG4gICAgfVxuXG4gICAgZ2V0QXJtb3JWYWx1ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk/LmFybW9yPy52YWx1ZSA/PyAwO1xuICAgIH1cblxuICAgIGdldEFybW9yRWxlbWVudHMoKTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB7XG4gICAgICAgIC8vIFRPRE8gY2xlYW4gdGhpcyB1cFxuICAgICAgICBjb25zdCB7IGZpcmUsIGVsZWN0cmljaXR5LCBjb2xkLCBhY2lkIH0gPSB0aGlzLmdldERhdGEoKS5hcm1vciB8fCB7fTtcbiAgICAgICAgcmV0dXJuIHsgZmlyZTogZmlyZSA/PyAwLCBlbGVjdHJpY2l0eTogZWxlY3RyaWNpdHkgPz8gMCwgY29sZDogY29sZCA/PyAwLCBhY2lkOiBhY2lkID8/IDAgfTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubmFtZTtcbiAgICB9XG5cbiAgICBnZXRFc3NlbmNlTG9zcygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk/LmVzc2VuY2UgPz8gMDtcbiAgICB9XG5cbiAgICBnZXRBbW1vKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCkuYW1tbztcbiAgICB9XG5cbiAgICBnZXRBU0RGKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEZXZpY2UoKSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBtYXRyaXggYXR0cmlidXRlcyBhcmUgc2V0IHVwIGFzIGFuIG9iamVjdFxuICAgICAgICBjb25zdCBtYXRyaXggPSB7XG4gICAgICAgICAgICBhdHRhY2s6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICBkZXZpY2VfYXR0OiAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbGVhemU6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICBkZXZpY2VfYXR0OiAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRSYXRpbmcoKSxcbiAgICAgICAgICAgICAgICBkZXZpY2VfYXR0OiAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaXJld2FsbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmdldFJhdGluZygpLFxuICAgICAgICAgICAgICAgIGRldmljZV9hdHQ6ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5pc0N5YmVyZGVjaygpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHtcbiAgICAgICAgICAgICAqICAgICBhdHROOiB7XG4gICAgICAgICAgICAgKiAgICAgICAgIHZhbHVlOiBudW1iZXIsXG4gICAgICAgICAgICAgKiAgICAgICAgIGF0dDogc3RyaW5nICh0aGUgQVNERiBhdHRyaWJ1dGUpXG4gICAgICAgICAgICAgKiAgICAgfVxuICAgICAgICAgICAgICogfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBhdHRzOiB7IFtrZXk6IHN0cmluZ106IHsgdmFsdWU6IG51bWJlcjsgYXR0OiBzdHJpbmcgfSB9IHwgdW5kZWZpbmVkID0gdGhpcy5nZXREYXRhKCkuYXR0cztcbiAgICAgICAgICAgIGlmIChhdHRzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgYXR0XSBvZiBPYmplY3QuZW50cmllcyhhdHRzKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRyaXhbYXR0LmF0dF0udmFsdWUgPSBhdHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeFthdHQuYXR0XS5kZXZpY2VfYXR0ID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuXG4gICAgZ2V0UXVhbnRpdHkoKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpPy50ZWNobm9sb2d5Py5xdWFudGl0eSB8fCAxO1xuICAgIH1cblxuICAgIGlzQWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdhY3Rpb24nO1xuICAgIH1cblxuICAgIGdldEFjdGlvbigpOiBBY3Rpb25Sb2xsRGF0YXx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCkuYWN0aW9uO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkRpY2VQb29sTW9kKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKS5hY3Rpb24/Lm1vZDtcbiAgICB9XG5cbiAgICBnZXRMaW1pdEF0dHJpYnV0ZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCkuYWN0aW9uPy5saW1pdD8uYXR0cmlidXRlO1xuICAgIH1cblxuICAgIGdldEFjdGlvblNraWxsKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKS5hY3Rpb24/LnNraWxsO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkF0dHJpYnV0ZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCkuYWN0aW9uPy5hdHRyaWJ1dGU7XG4gICAgfVxuXG4gICAgZ2V0QWN0aW9uQXR0cmlidXRlMigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCkuYWN0aW9uPy5hdHRyaWJ1dGUyO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkxpbWl0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKS5hY3Rpb24/LmxpbWl0Py52YWx1ZTtcbiAgICB9XG5cbiAgICBnZXRNb2RpZmllckxpc3QoKTogTW9kTGlzdDxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmFjdGlvbj8uZGljZV9wb29sX21vZCB8fCBbXTtcbiAgICB9XG5cbiAgICBnZXRBY3Rpb25TcGVjaWFsaXphdGlvbigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5nZXREYXRhKCkuYWN0aW9uPy5zcGVjKSByZXR1cm4gJ1NSNS5TcGVjaWFsaXphdGlvbic7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0RHJhaW4oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmRyYWluIHx8IDA7XG4gICAgfVxuXG4gICAgZ2V0RmFkZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCkuZmFkZSB8fCAwO1xuICAgIH1cblxuICAgIGdldFJlY29pbENvbXBlbnNhdGlvbigpOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMuaXNSYW5nZWRXZWFwb24oKSkgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLmdldERhdGEoKT8ucmFuZ2U/LnJjLnZhbHVlID8/ICcwJztcbiAgICAgICAgcmV0dXJuIE51bWJlcihiYXNlKTtcbiAgICB9XG5cbiAgICBnZXRSZWFjaCgpOiBudW1iZXIge1xuICAgICAgICBpZiAodGhpcy5pc01lbGVlV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKS5tZWxlZT8ucmVhY2ggPz8gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBnZXRUZWNobm9sb2d5KCk6IFRlY2hub2xvZ3lEYXRhfHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChcInRlY2hub2xvZ3lcIiBpbiB0aGlzLmRhdGEuZGF0YSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS50ZWNobm9sb2d5O1xuICAgIH1cblxuICAgIGdldFJhbmdlKCk6IENyaXR0ZXJQb3dlclJhbmdlfFNwZWxsUmFuZ2V8UmFuZ2VXZWFwb25EYXRhfHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghKFwicmFuZ2VcIiBpbiB0aGlzLmRhdGEuZGF0YSkpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLnR5cGUgPT09ICdjcml0dGVyX3Bvd2VyJylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5yYW5nZSBhcyBDcml0dGVyUG93ZXJSYW5nZTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLnR5cGUgPT09ICdzcGVsbCcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEucmFuZ2UgYXMgU3BlbGxSYW5nZTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLnR5cGUgPT09ICd3ZWFwb24nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLnJhbmdlIGFzIFJhbmdlV2VhcG9uRGF0YTtcbiAgICB9XG5cbiAgICBoYXNEZWZlbnNlVGVzdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmFjdGlvbj8ub3Bwb3NlZD8udHlwZSA9PT0gJ2RlZmVuc2UnO1xuICAgIH1cblxuICAgIGhhc0FtbW8oKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGFtbW8gPSB0aGlzLmdldEFtbW8oKTtcbiAgICAgICAgcmV0dXJuICEhYW1tb1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IFNSNUl0ZW0gfSBmcm9tICcuL1NSNUl0ZW0nO1xuaW1wb3J0IFNSNUFjdG9yU2hlZXREYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yU2hlZXREYXRhO1xuaW1wb3J0IHtTUjV9IGZyb20gXCIuLi9jb25maWdcIjtcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgU1I1SXRlbVNoZWV0IGV4dGVuZHMgSXRlbVNoZWV0PHt9LCBTUjVJdGVtPiB7XG4gICAgcHJpdmF0ZSBfc2hvd25EZXNjOiBhbnlbXTtcbiAgICBwcml2YXRlIF9zY3JvbGw6IHN0cmluZztcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgICAgICB0aGlzLl9zaG93bkRlc2MgPSBbXTtcbiAgICB9XG5cbiAgICBnZXRFbWJlZGRlZEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtLml0ZW1zIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBTaW1wbGUgSXRlbSBTaGVldFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICAgICAgICBjbGFzc2VzOiBbJ3NyNScsICdzaGVldCcsICdpdGVtJ10sXG4gICAgICAgICAgICB3aWR0aDogNjUwLFxuICAgICAgICAgICAgaGVpZ2h0OiA0NTAsXG4gICAgICAgICAgICB0YWJzOiBbeyBuYXZTZWxlY3RvcjogJy50YWJzJywgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0Ym9keScgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vJztcbiAgICAgICAgcmV0dXJuIGAke3BhdGh9JHt0aGlzLml0ZW0uZGF0YS50eXBlfS5odG1sYDtcbiAgICB9XG5cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBkYXRhIGZvciByZW5kZXJpbmcgdGhlIEl0ZW0gc2hlZXRcbiAgICAgKiBUaGUgcHJlcGFyZWQgZGF0YSBvYmplY3QgY29udGFpbnMgYm90aCB0aGUgYWN0b3IgZGF0YSBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgc2hlZXQgb3B0aW9uc1xuICAgICAqL1xuICAgIGdldERhdGEoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzdXBlci5nZXREYXRhKCk7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gZGF0YS5kYXRhO1xuXG4gICAgICAgIGlmIChpdGVtRGF0YS5hY3Rpb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IGl0ZW1EYXRhO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24ubW9kID09PSAwKSBkZWxldGUgYWN0aW9uLm1vZDtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmxpbWl0ID09PSAwKSBkZWxldGUgYWN0aW9uLmxpbWl0O1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlLm1vZCA9PT0gMCkgZGVsZXRlIGFjdGlvbi5kYW1hZ2UubW9kO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmRhbWFnZS5hcC5tb2QgPT09IDApIGRlbGV0ZSBhY3Rpb24uZGFtYWdlLmFwLm1vZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5saW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmxpbWl0Lm1vZCA9PT0gMCkgZGVsZXRlIGFjdGlvbi5saW1pdC5tb2Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbURhdGEudGVjaG5vbG9neSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZWNoID0gaXRlbURhdGEudGVjaG5vbG9neTtcbiAgICAgICAgICAgICAgICBpZiAodGVjaC5yYXRpbmcgPT09IDApIGRlbGV0ZSB0ZWNoLnJhdGluZztcbiAgICAgICAgICAgICAgICBpZiAodGVjaC5xdWFudGl0eSA9PT0gMCkgZGVsZXRlIHRlY2gucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgaWYgKHRlY2guY29zdCA9PT0gMCkgZGVsZXRlIHRlY2guY29zdDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFbJ2NvbmZpZyddID0gQ09ORklHLlNSNTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmdldEVtYmVkZGVkSXRlbXMoKTtcbiAgICAgICAgY29uc3QgW2FtbXVuaXRpb24sIHdlYXBvbk1vZHMsIGFybW9yTW9kc10gPSBpdGVtcy5yZWR1Y2UoXG4gICAgICAgICAgICAocGFydHM6IFtJdGVtLkRhdGFbXSwgSXRlbS5EYXRhW10sIEl0ZW0uRGF0YVtdXSwgaXRlbTogU1I1SXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhbW1vJykgcGFydHNbMF0ucHVzaChpdGVtLmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtb2RpZmljYXRpb24nICYmIFwidHlwZVwiIGluIGl0ZW0uZGF0YS5kYXRhICYmIGl0ZW0uZGF0YS5kYXRhLnR5cGUgPT09ICd3ZWFwb24nKSBwYXJ0c1sxXS5wdXNoKGl0ZW0uZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21vZGlmaWNhdGlvbicgJiYgXCJ0eXBlXCIgaW4gaXRlbS5kYXRhLmRhdGEgJiYgaXRlbS5kYXRhLmRhdGEudHlwZSA9PT0gJ2FybW9yJykgcGFydHNbMl0ucHVzaChpdGVtLmRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbW10sIFtdLCBbXV0sXG4gICAgICAgICk7XG4gICAgICAgIGRhdGFbJ2FtbXVuaXRpb24nXSA9IGFtbXVuaXRpb247XG4gICAgICAgIGRhdGFbJ3dlYXBvbk1vZHMnXSA9IHdlYXBvbk1vZHM7XG4gICAgICAgIGRhdGFbJ2FybW9yTW9kcyddID0gYXJtb3JNb2RzO1xuICAgICAgICBkYXRhWydhY3RpdmVTa2lsbHMnXSA9IHRoaXMuX2dldFNvcnRlZEFjdGl2ZVNraWxsc0ZvclNlbGVjdCgpO1xuICAgICAgICBkYXRhWydhdHRyaWJ1dGVzJ10gPSB0aGlzLl9nZXRTb3J0ZWRBdHRyaWJ1dGVzRm9yU2VsZWN0KCk7XG4gICAgICAgIGRhdGFbJ2xpbWl0cyddID0gdGhpcy5fZ2V0U29ydGVkTGltaXRzRm9yU2VsZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aW9uIGxpbWl0cyBjdXJyZW50bHkgY29udGFpbiBsaW1pdHMgZm9yIGFsbCBhY3Rpb24gdHlwZXMuIEJlIGl0IG1hdHJpeCwgbWFnaWMgb3IgcGh5c2ljYWwuXG4gICAgICovXG4gICAgX2dldFNvcnRlZExpbWl0c0ZvclNlbGVjdCgpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuc29ydENvbmZpZ1ZhbHVlc0J5VHJhbnNsYXRpb24oU1I1LmxpbWl0cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT25seSBkaXNwbGF5XG4gICAgICovXG4gICAgX2dldFNvcnRlZEF0dHJpYnV0ZXNGb3JTZWxlY3QoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBIZWxwZXJzLnNvcnRDb25maWdWYWx1ZXNCeVRyYW5zbGF0aW9uKFNSNS5hdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICBfZ2V0U29ydGVkQWN0aXZlU2tpbGxzRm9yU2VsZWN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbS5hY3RvcikgcmV0dXJuIFNSNS5hY3RpdmVTa2lsbHM7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVNraWxscyA9IEhlbHBlcnMuc29ydFNraWxscyh0aGlzLml0ZW0uYWN0b3IuZ2V0QWN0aXZlU2tpbGxzKCkpO1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZVNraWxsc0ZvclNlbGVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtpZCwgc2tpbGxdIG9mIE9iamVjdC5lbnRyaWVzKGFjdGl2ZVNraWxscykpIHtcbiAgICAgICAgICAgIC8vIExlZ2FjeSBza2lsbHMgaGF2ZSBubyBuYW1lLCBidXQgdGhlaXIgbmFtZSBpcyB0aGVpciBpZCFcbiAgICAgICAgICAgIC8vIEN1c3RvbSBza2lsbHMgaGF2ZSBhIG5hbWUgYW5kIHRoZWlyIGlkIGlzIHJhbmRvbS5cbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHNraWxsLm5hbWUgfHwgaWQ7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHNraWxsLmxhYmVsIHx8IHNraWxsLm5hbWU7XG4gICAgICAgICAgICBhY3RpdmVTa2lsbHNGb3JTZWxlY3Rba2V5XSA9IGxhYmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjdGl2ZVNraWxsc0ZvclNlbGVjdDtcbiAgICB9XG5cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXG4gICAgICogQHBhcmFtIGh0bWwgLSAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgICAqL1xuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG4gICAgICAgIGlmICh0aGlzLml0ZW0udHlwZSA9PT0gJ3dlYXBvbicpIHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZSAvLyBUT0RPOiBTb21laG93IEpxdWVyeSBkb2Vzbid0IGhhdmUgZHJhZy9kcm9wIGluIHR5cGluZ1xuICAgICAgICAgICAgdGhpcy5mb3JtLm9uZHJhZ292ZXIgPSAoZXZlbnQpID0+IHRoaXMuX29uRHJhZ092ZXIoZXZlbnQpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlIC8vIFRPRE86IFNvbWVob3cgSnF1ZXJ5IGRvZXNuJ3QgaGF2ZSBkcmFnL2Ryb3AgaW4gdHlwaW5nXG4gICAgICAgICAgICB0aGlzLmZvcm0ub25kcm9wID0gKGV2ZW50KSA9PiB0aGlzLl9vbkRyb3AoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGh0bWwuZmluZCgnLmFkZC1uZXctYW1tbycpLmNsaWNrKHRoaXMuX29uQWRkTmV3QW1tby5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuYW1tby1lcXVpcCcpLmNsaWNrKHRoaXMuX29uQW1tb0VxdWlwLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5hbW1vLWRlbGV0ZScpLmNsaWNrKHRoaXMuX29uQW1tb1JlbW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuYW1tby1yZWxvYWQnKS5jbGljayh0aGlzLl9vbkFtbW9SZWxvYWQuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuZWRpdC1pdGVtJykuY2xpY2sodGhpcy5fb25FZGl0SXRlbS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBodG1sLmZpbmQoJy5hZGQtbmV3LW1vZCcpLmNsaWNrKHRoaXMuX29uQWRkV2VhcG9uTW9kLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5tb2QtZXF1aXAnKS5jbGljayh0aGlzLl9vbldlYXBvbk1vZEVxdWlwLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5tb2QtZGVsZXRlJykuY2xpY2sodGhpcy5fb25XZWFwb25Nb2RSZW1vdmUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuYWRkLW5ldy1saWNlbnNlJykuY2xpY2sodGhpcy5fb25BZGRMaWNlbnNlLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5saWNlbnNlLWRlbGV0ZScpLm9uKCdjbGljaycsIHRoaXMuX29uUmVtb3ZlTGljZW5zZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBodG1sLmZpbmQoJy5vcGVuLXNvdXJjZS1wZGYnKS5vbignY2xpY2snLCB0aGlzLl9vbk9wZW5Tb3VyY2VQZGYuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuaGFzLWRlc2MnKS5jbGljaygoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcubGlzdC1pdGVtJyk7XG4gICAgICAgICAgICBjb25zdCBpaWQgPSAkKGl0ZW0pLmRhdGEoKS5pdGVtO1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBpdGVtLm5leHQoKTtcbiAgICAgICAgICAgIGZpZWxkLnRvZ2dsZSgpO1xuICAgICAgICAgICAgaWYgKGlpZCkge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pcygnOnZpc2libGUnKSkgdGhpcy5fc2hvd25EZXNjLnB1c2goaWlkKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX3Nob3duRGVzYyA9IHRoaXMuX3Nob3duRGVzYy5maWx0ZXIoKHZhbCkgPT4gdmFsICE9PSBpaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBodG1sLmZpbmQoJy5oaWRkZW4nKS5oaWRlKCk7XG4gICAgfVxuXG4gICAgX29uRHJhZ092ZXIoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkRyb3AoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSk7XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlICE9PSAnSXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2hhZG93cnVuNWUgfCBDYW4gb25seSBkcm9wIEl0ZW1zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NoYWRvd3J1bjVlIHwgZHJvcCBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpdGVtO1xuICAgICAgICAvLyBDYXNlIDEgLSBEYXRhIGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICAgICAgaWYgKGRhdGEuZGF0YSkge1xuICAgICAgICAgICAgLy8gVE9ETyB0ZXN0XG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtLmlzT3duZWQgJiYgZGF0YS5hY3RvcklkID09PSB0aGlzLml0ZW0uYWN0b3I/Ll9pZCAmJiBkYXRhLmRhdGEuX2lkID09PSB0aGlzLml0ZW0uX2lkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NoYWRvd3J1bjVlIHwgQ2FudCBkcm9wIGl0ZW0gb24gaXRzZWxmJyk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0FyZSB5b3UgdHJ5aW5nIHRvIGJyZWFrIHRoZSBnYW1lPz8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEucGFjaykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAvLyBDYXNlIDIgLSBGcm9tIGEgQ29tcGVuZGl1bSBQYWNrXG4gICAgICAgICAgICAvLyBUT0RPIHRlc3RcbiAgICAgICAgICAgIGl0ZW0gPSBhd2FpdCB0aGlzLl9nZXRJdGVtRnJvbUNvbGxlY3Rpb24oZGF0YS5wYWNrLCBkYXRhLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhc2UgMyAtIEZyb20gYSBXb3JsZCBFbnRpdHlcbiAgICAgICAgICAgIGl0ZW0gPSBnYW1lLml0ZW1zLmdldChkYXRhLmlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbS5jcmVhdGVPd25lZEl0ZW0oaXRlbS5kYXRhKTtcbiAgICB9XG5cbiAgICBfZ2V0SXRlbUZyb21Db2xsZWN0aW9uKGNvbGxlY3Rpb24sIGl0ZW1JZCkge1xuICAgICAgICBjb25zdCBwYWNrID0gZ2FtZS5wYWNrcy5maW5kKChwKSA9PiBwLmNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcGFjay5nZXRFbnRpdHkoaXRlbUlkKTtcbiAgICB9XG5cbiAgICBfZXZlbnRJZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcubGlzdC1pdGVtJykuZGF0YXNldC5pdGVtSWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uT3BlblNvdXJjZVBkZihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBhd2FpdCB0aGlzLml0ZW0ub3BlblBkZlNvdXJjZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkVkaXRJdGVtKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW0uZ2V0T3duZWRJdGVtKHRoaXMuX2V2ZW50SWQoZXZlbnQpKTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc2hlZXQucmVuZGVyKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQWRkTGljZW5zZShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBhd2FpdCB0aGlzLml0ZW0uYWRkTmV3TGljZW5zZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJlbW92ZUxpY2Vuc2UoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSBhd2FpdCB0aGlzLml0ZW0ucmVtb3ZlTGljZW5zZShpbmRleCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uV2VhcG9uTW9kUmVtb3ZlKGV2ZW50KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX29uT3duZWRJdGVtUmVtb3ZlKGV2ZW50KTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25XZWFwb25Nb2RFcXVpcChldmVudCkge1xuICAgICAgICBhd2FpdCB0aGlzLml0ZW0uZXF1aXBXZWFwb25Nb2QodGhpcy5fZXZlbnRJZChldmVudCkpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkFkZFdlYXBvbk1vZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0eXBlID0gJ21vZGlmaWNhdGlvbic7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogYE5ldyAke0hlbHBlcnMubGFiZWwodHlwZSl9YCxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBkYXRhOiBkdXBsaWNhdGUoZ2FtZS5zeXN0ZW0ubW9kZWwuSXRlbS5tb2RpZmljYXRpb24pLFxuICAgICAgICB9O1xuICAgICAgICBpdGVtRGF0YS5kYXRhLnR5cGUgPSAnd2VhcG9uJztcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBpdGVtID0gSXRlbS5jcmVhdGVPd25lZChpdGVtRGF0YSwgdGhpcy5pdGVtKTtcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLmNyZWF0ZU93bmVkSXRlbShpdGVtLmRhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkFtbW9SZWxvYWQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLnJlbG9hZEFtbW8oKTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25BbW1vUmVtb3ZlKGV2ZW50KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX29uT3duZWRJdGVtUmVtb3ZlKGV2ZW50KTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25BbW1vRXF1aXAoZXZlbnQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLmVxdWlwQW1tbyh0aGlzLl9ldmVudElkKGV2ZW50KSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQWRkTmV3QW1tbyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0eXBlID0gJ2FtbW8nO1xuICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHtcbiAgICAgICAgICAgIG5hbWU6IGBOZXcgJHtIZWxwZXJzLmxhYmVsKHR5cGUpfWAsXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgZGF0YTogZHVwbGljYXRlKGdhbWUuc3lzdGVtLm1vZGVsLkl0ZW0uYW1tbyksXG4gICAgICAgIH07XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgaXRlbSA9IEl0ZW0uY3JlYXRlT3duZWQoaXRlbURhdGEsIHRoaXMuaXRlbSk7XG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5jcmVhdGVPd25lZEl0ZW0oaXRlbS5kYXRhKTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25Pd25lZEl0ZW1SZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgdXNlckNvbnNlbnRlZCA9IGF3YWl0IEhlbHBlcnMuY29uZmlybURlbGV0aW9uKCk7XG4gICAgICAgIGlmICghdXNlckNvbnNlbnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5kZWxldGVPd25lZEl0ZW0odGhpcy5fZXZlbnRJZChldmVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbmRBY3RpdmVMaXN0KCkge1xuICAgICAgICByZXR1cm4gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy50YWIuYWN0aXZlIC5zY3JvbGwtYXJlYScpO1xuICAgIH1cblxuICAgIC8qKiBUaGlzIGlzIG5lZWRlZCB0byBjaXJjdW12ZW50IEFwcGxpY2F0aW9uLmNsb3NlIHNldHRpbmcgY2xvc2VkIHN0YXRlIGVhcmx5LCBkdWUgdG8gaXQncyBhc3luYyBhbmltYXRpb25cbiAgICAgKiAtIFRoZSBsZW5ndGggb2YgdGhlIGNsb3NpbmcgYW5pbWF0aW9uIGNhbid0IGJlIGxvbmdlciB0aGVuIGFueSBhd2FpdCB0aW1lIGluIHRoZSBjbG9zaW5nIGN5Y2xlXG4gICAgICogLSBGb3JtQXBwbGljYXRpb24uX29uU3VibWl0IHdpbGwgb3RoZXJ3aXNlIHNldCAuX3N0YXRlIHRvIFJFTkRFUkVEIGV2ZW4gaWYgdGhlIEFwcGxpY2F0aW9uIHdpbmRvdyBoYXMgY2xvc2VkIGFscmVhZHlcbiAgICAgKiAtIFN1YnNlcXVlbnQgcmVuZGVyIGNhbGxzIHRoZW4gd2lsbCBzaG93IHRoZSB3aW5kb3cgYWdhaW4sIGR1ZSB0byBpdCdzIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZml4U3RhbGVSZW5kZXJlZFN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IEFwcGxpY2F0aW9uLlJFTkRFUl9TVEFURVMuUkVOREVSRUQgJiYgdWkud2luZG93c1t0aGlzLmFwcElkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFNSNUl0ZW1TaGVldCBhcHAgZm9yICR7dGhpcy5lbnRpdHkubmFtZX0gaXMgc2V0IGFzIFJFTkRFUkVEIGJ1dCBoYXMgbm8gd2luZG93IHJlZ2lzdGVyZWQuIEZpeGluZyBhcHAgaW50ZXJuYWwgcmVuZGVyIHN0YXRlLiBUaGlzIGlzIGEga25vd24gYnVnLmApO1xuICAgICAgICAgICAgLy8gSG90Zml4aW5nIGluc3RlYWQgb2YgdGhpcy5jbG9zZSgpIHNpbmNlIEZvcm1BcHBsaWNhdGlvbi5jbG9zZSgpIGV4cGVjdHMgZm9ybSBlbGVtZW50cywgd2hpY2ggZG9uJ3QgZXhpc3QgYW55bW9yZS5cbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gQXBwbGljYXRpb24uUkVOREVSX1NUQVRFUy5DTE9TRUQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFzeW5jIF9yZW5kZXIoZm9yY2UgPSBmYWxzZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgZm9yIGEgdGltaW5nIGJ1Zy4gU2VlIGZ1bmN0aW9uIGRvYyBmb3IgY29kZSByZW1vdmFsLiBHb29kIGx1Y2ssIHRoZXJlIGJlIGRyYWdvbnMgaGVyZS4gLSB0YU1cbiAgICAgICAgdGhpcy5maXhTdGFsZVJlbmRlcmVkU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9zYXZlU2Nyb2xsUG9zaXRpb25zKCk7XG4gICAgICAgIGF3YWl0IHN1cGVyLl9yZW5kZXIoZm9yY2UsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9yZXN0b3JlU2Nyb2xsUG9zaXRpb25zKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzdG9yZVNjcm9sbFBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTGlzdCA9IHRoaXMuX2ZpbmRBY3RpdmVMaXN0KCk7XG4gICAgICAgIGlmIChhY3RpdmVMaXN0Lmxlbmd0aCAmJiB0aGlzLl9zY3JvbGwgIT0gbnVsbCkge1xuICAgICAgICAgICAgYWN0aXZlTGlzdC5wcm9wKCdzY3JvbGxUb3AnLCB0aGlzLl9zY3JvbGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2F2ZVNjcm9sbFBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTGlzdCA9IHRoaXMuX2ZpbmRBY3RpdmVMaXN0KCk7XG4gICAgICAgIGlmIChhY3RpdmVMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsID0gYWN0aXZlTGlzdC5wcm9wKCdzY3JvbGxUb3AnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQ3JlYXRlIGEgTWFjcm8gZnJvbSBhbiBJdGVtIGRyb3AuXG4gKiBHZXQgYW4gZXhpc3RpbmcgaXRlbSBtYWNybyBpZiBvbmUgZXhpc3RzLCBvdGhlcndpc2UgY3JlYXRlIGEgbmV3IG9uZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtICAgICBUaGUgaXRlbSBkYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gc2xvdCAgICAgVGhlIGhvdGJhciBzbG90IHRvIHVzZVxuICogQHJldHVybnMge1Byb21pc2V9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtTWFjcm8oaXRlbSwgc2xvdCkge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBgZ2FtZS5zaGFkb3dydW41ZS5yb2xsSXRlbU1hY3JvKFwiJHtpdGVtLm5hbWV9XCIpO2A7XG4gICAgbGV0IG1hY3JvID0gZ2FtZS5tYWNyb3MuZW50aXRpZXMuZmluZCgobSkgPT4gbS5uYW1lID09PSBpdGVtLm5hbWUpO1xuICAgIGlmICghbWFjcm8pIHtcbiAgICAgICAgbWFjcm8gPSAoYXdhaXQgTWFjcm8uY3JlYXRlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2NyaXB0JyxcbiAgICAgICAgICAgICAgICBpbWc6IGl0ZW0uaW1nLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IGNvbW1hbmQsXG4gICAgICAgICAgICAgICAgZmxhZ3M6IHsgJ3NoYWRvd3J1bjVlLml0ZW1NYWNybyc6IHRydWUgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IGRpc3BsYXlTaGVldDogZmFsc2UgfSxcbiAgICAgICAgKSkgYXMgTWFjcm87XG4gICAgfVxuICAgIGlmIChtYWNybykgZ2FtZS51c2VyLmFzc2lnbkhvdGJhck1hY3JvKG1hY3JvLCBzbG90KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBNYWNybyBmcm9tIGFuIEl0ZW0gZHJvcC5cbiAqIEdldCBhbiBleGlzdGluZyBpdGVtIG1hY3JvIGlmIG9uZSBleGlzdHMsIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgb25lLlxuICogQHBhcmFtIHtzdHJpbmd9IGl0ZW1OYW1lXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm9sbEl0ZW1NYWNybyhpdGVtTmFtZSkge1xuICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKCk7XG4gICAgbGV0IGFjdG9yO1xuICAgIGlmIChzcGVha2VyLnRva2VuKSBhY3RvciA9IGdhbWUuYWN0b3JzLnRva2Vuc1tzcGVha2VyLnRva2VuXTtcbiAgICBpZiAoIWFjdG9yKSBhY3RvciA9IGdhbWUuYWN0b3JzLmdldChzcGVha2VyLmFjdG9yKTtcbiAgICBjb25zdCBpdGVtID0gYWN0b3IgPyBhY3Rvci5pdGVtcy5maW5kKChpKSA9PiBpLm5hbWUgPT09IGl0ZW1OYW1lKSA6IG51bGw7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMud2FybihgWW91ciBjb250cm9sbGVkIEFjdG9yIGRvZXMgbm90IGhhdmUgYW4gaXRlbSBuYW1lZCAke2l0ZW1OYW1lfWApO1xuICAgIH1cblxuICAgIHJldHVybiBpdGVtLmNhc3RBY3Rpb24oKTtcbn0iLCJpbXBvcnQgeyBIYW5kbGViYXJNYW5hZ2VyIH0gZnJvbSAnLi9oYW5kbGViYXJzL0hhbmRsZWJhck1hbmFnZXInO1xuaW1wb3J0IHtIb29rc01hbmFnZXJ9IGZyb20gXCIuL2hvb2tzXCI7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgRm91bmRyeSBWVFQgSW5pdGlhbGl6YXRpb24gICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXG5Ib29rc01hbmFnZXIucmVnaXN0ZXJIb29rcygpO1xuSGFuZGxlYmFyTWFuYWdlci5yZWdpc3RlckhlbHBlcnMoKTsiLCJpbXBvcnQgeyBWZXJzaW9uTWlncmF0aW9uIH0gZnJvbSAnLi9WZXJzaW9uTWlncmF0aW9uJztcbmltcG9ydCB7IExlZ2FjeU1pZ3JhdGlvbiB9IGZyb20gJy4vdmVyc2lvbnMvTGVnYWN5TWlncmF0aW9uJztcbmltcG9ydCB7IFZlcnNpb24wXzZfNSB9IGZyb20gJy4vdmVyc2lvbnMvVmVyc2lvbjBfNl81JztcbmltcG9ydCB7IFZlcnNpb24wXzZfMTAgfSBmcm9tICcuL3ZlcnNpb25zL1ZlcnNpb24wXzZfMTAnO1xuaW1wb3J0IHtWZXJzaW9uMF83XzJ9IGZyb20gXCIuL3ZlcnNpb25zL1ZlcnNpb24wXzdfMlwiO1xuXG50eXBlIFZlcnNpb25EZWZpbml0aW9uID0ge1xuICAgIHZlcnNpb25OdW1iZXI6IHN0cmluZztcbiAgICBtaWdyYXRpb246IFZlcnNpb25NaWdyYXRpb247XG59O1xuZXhwb3J0IGNsYXNzIE1pZ3JhdG9yIHtcbiAgICAvLyBNYXAgb2YgYWxsIHZlcnNpb24gbWlncmF0aW9ucyB0byB0aGVpciB0YXJnZXQgdmVyc2lvbiBudW1iZXJzLlxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHNfVmVyc2lvbnM6IFZlcnNpb25EZWZpbml0aW9uW10gPSBbXG4gICAgICAgIHsgdmVyc2lvbk51bWJlcjogTGVnYWN5TWlncmF0aW9uLlRhcmdldFZlcnNpb24sIG1pZ3JhdGlvbjogbmV3IExlZ2FjeU1pZ3JhdGlvbigpIH0sXG4gICAgICAgIHsgdmVyc2lvbk51bWJlcjogVmVyc2lvbjBfNl81LlRhcmdldFZlcnNpb24sIG1pZ3JhdGlvbjogbmV3IFZlcnNpb24wXzZfNSgpIH0sXG4gICAgICAgIHsgdmVyc2lvbk51bWJlcjogVmVyc2lvbjBfNl8xMC5UYXJnZXRWZXJzaW9uLCBtaWdyYXRpb246IG5ldyBWZXJzaW9uMF82XzEwKCkgfSxcbiAgICAgICAgeyB2ZXJzaW9uTnVtYmVyOiBWZXJzaW9uMF83XzIuVGFyZ2V0VmVyc2lvbiwgbWlncmF0aW9uOiBuZXcgVmVyc2lvbjBfN18yKCkgfSxcbiAgICBdO1xuXG4gICAgLy9UT0RPOiBDYWxsIG9uIEluaXQoKVxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgQmVnaW5NaWdyYXRpb24oKSB7XG4gICAgICAgIGxldCBjdXJyZW50VmVyc2lvbiA9IGdhbWUuc2V0dGluZ3MuZ2V0KFZlcnNpb25NaWdyYXRpb24uTU9EVUxFX05BTUUsIFZlcnNpb25NaWdyYXRpb24uS0VZX0RBVEFfVkVSU0lPTik7XG4gICAgICAgIGlmIChjdXJyZW50VmVyc2lvbiA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRWZXJzaW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VmVyc2lvbiA9IFZlcnNpb25NaWdyYXRpb24uTk9fVkVSU0lPTjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbnMgPSBNaWdyYXRvci5zX1ZlcnNpb25zLmZpbHRlcigoeyB2ZXJzaW9uTnVtYmVyIH0pID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHZlcnNpb25OVW1iZXIgaXMgZ3JlYXRlciB0aGFuIGN1cnJlbnRWZXJzaW9uLCB3ZSBuZWVkIHRvIGFwcGx5IHRoaXMgbWlncmF0aW9uXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlVmVyc2lvbih2ZXJzaW9uTnVtYmVyLCBjdXJyZW50VmVyc2lvbikgPT09IDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE5vIG1pZ3JhdGlvbnMgYXJlIHJlcXVpcmVkLCBleGl0LlxuICAgICAgICBpZiAobWlncmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5XYXJuaW5nVGl0bGUnKTtcbiAgICAgICAgY29uc3QgbG9jYWxpemVkV2FybmluZ0hlYWRlciA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5XYXJuaW5nSGVhZGVyJyk7XG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdSZXF1aXJlZCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5XYXJuaW5nUmVxdWlyZWQnKTtcbiAgICAgICAgY29uc3QgbG9jYWxpemVkV2FybmluZ0Rlc2NyaXB0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLldhcm5pbmdEZXNjcmlwdGlvbicpO1xuICAgICAgICBjb25zdCBsb2NhbGl6ZWRXYXJuaW5nQmFja3VwID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLldhcm5pbmdCYWNrdXAnKTtcbiAgICAgICAgY29uc3QgbG9jYWxpemVkV2FybmluZ0JlZ2luID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLkJlZ2luTWlncmF0aW9uJyk7XG5cbiAgICAgICAgY29uc3QgZCA9IG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplZFdhcm5pbmdUaXRsZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICAgICAgYDxoMiBzdHlsZT1cImNvbG9yOiByZWQ7IHRleHQtYWxpZ246IGNlbnRlclwiPiR7bG9jYWxpemVkV2FybmluZ0hlYWRlcn08L2gyPmAgK1xuICAgICAgICAgICAgICAgIGA8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiPjxpPiR7bG9jYWxpemVkV2FybmluZ1JlcXVpcmVkfTwvaT48L3A+YCArXG4gICAgICAgICAgICAgICAgYDxwPiR7bG9jYWxpemVkV2FybmluZ0Rlc2NyaXB0aW9ufTwvcD5gICtcbiAgICAgICAgICAgICAgICBgPGgzIHN0eWxlPVwiY29sb3I6IHJlZFwiPiR7bG9jYWxpemVkV2FybmluZ0JhY2t1cH08L2gzPmAsXG4gICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgb2s6IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxvY2FsaXplZFdhcm5pbmdCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMubWlncmF0ZShtaWdyYXRpb25zKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdvaycsXG4gICAgICAgIH0pO1xuICAgICAgICBkLnJlbmRlcih0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBtaWdyYXRlKG1pZ3JhdGlvbnM6IFZlcnNpb25EZWZpbml0aW9uW10pIHtcbiAgICAgICAgLy8gd2Ugd2FudCB0byBhcHBseSBtaWdyYXRpb25zIGluIGFzY2VuZGluZyBvcmRlciB1bnRpbCB3ZSdyZSB1cCB0byB0aGUgbGF0ZXN0XG4gICAgICAgIG1pZ3JhdGlvbnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVZlcnNpb24oYS52ZXJzaW9uTnVtYmVyLCBiLnZlcnNpb25OdW1iZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCB0aGlzLm1pZ3JhdGVXb3JsZChnYW1lLCBtaWdyYXRpb25zKTtcbiAgICAgICAgYXdhaXQgdGhpcy5taWdyYXRlQ29tcGVuZGl1bShnYW1lLCBtaWdyYXRpb25zKTtcblxuICAgICAgICBjb25zdCBsb2NhbGl6ZWRXYXJuaW5nVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc1RpdGxlJyk7XG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdIZWFkZXIgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc0hlYWRlcicpO1xuICAgICAgICBjb25zdCBsb2NhbGl6ZWRTdWNjZXNzRGVzY3JpcHRpb24gPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc0Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFN1Y2Nlc3NQYWNrc0luZm8gPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc1BhY2tzSW5mbycpO1xuICAgICAgICBjb25zdCBsb2NhbGl6ZWRTdWNjZXNzQ29uZmlybSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5TdWNjZXNzQ29uZmlybScpO1xuICAgICAgICBjb25zdCBwYWNrc0RpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplZFdhcm5pbmdUaXRsZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICAgICAgYDxoMiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6IGdyZWVuXCI+JHtsb2NhbGl6ZWRXYXJuaW5nSGVhZGVyfTwvaDI+YCArXG4gICAgICAgICAgICAgICAgYDxwPiR7bG9jYWxpemVkU3VjY2Vzc0Rlc2NyaXB0aW9ufTwvcD5gICtcbiAgICAgICAgICAgICAgICBgPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIj48aT4ke2xvY2FsaXplZFN1Y2Nlc3NQYWNrc0luZm99PC9pPjwvcD5gLFxuICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICAgIG9rOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT4nLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogbG9jYWxpemVkU3VjY2Vzc0NvbmZpcm0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0OiAnb2snLFxuICAgICAgICB9KTtcbiAgICAgICAgcGFja3NEaWFsb2cucmVuZGVyKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgYWxsIHdvcmxkIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gZ2FtZVxuICAgICAqIEBwYXJhbSBtaWdyYXRpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgbWlncmF0ZVdvcmxkKGdhbWU6IEdhbWUsIG1pZ3JhdGlvbnM6IFZlcnNpb25EZWZpbml0aW9uW10pIHtcbiAgICAgICAgLy8gUnVuIHRoZSBtaWdyYXRpb25zIGluIG9yZGVyXG4gICAgICAgIGZvciAoY29uc3QgeyBtaWdyYXRpb24gfSBvZiBtaWdyYXRpb25zKSB7XG4gICAgICAgICAgICBhd2FpdCBtaWdyYXRpb24uTWlncmF0ZShnYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBhbGwgd29ybGQgY29tcGVuZGl1bSBwYWNrc1xuICAgICAqIEBwYXJhbSBnYW1lIEdhbWUgdGhhdCB3aWxsIGJlIG1pZ3JhdGVkXG4gICAgICogQHBhcmFtIG1pZ3JhdGlvbnMgSW5zdGFuY2VzIG9mIHRoZSB2ZXJzaW9uIG1pZ3JhdGlvblxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIG1pZ3JhdGVDb21wZW5kaXVtKGdhbWU6IEdhbWUsIG1pZ3JhdGlvbnM6IFZlcnNpb25EZWZpbml0aW9uW10pIHtcbiAgICAgICAgLy8gTWlncmF0ZSBXb3JsZCBDb21wZW5kaXVtIFBhY2tzXG4gICAgICAgIGNvbnN0IHBhY2tzID0gZ2FtZS5wYWNrcy5maWx0ZXIoKHBhY2spID0+IHBhY2subWV0YWRhdGEucGFja2FnZSA9PT0gJ3dvcmxkJyAmJiBbJ0FjdG9yJywgJ0l0ZW0nLCAnU2NlbmUnXS5pbmNsdWRlcyhwYWNrLm1ldGFkYXRhLmVudGl0eSkpO1xuXG4gICAgICAgIC8vIFJ1biB0aGUgbWlncmF0aW9ucyBpbiBvcmRlciBvbiBlYWNoIHBhY2suXG4gICAgICAgIGZvciAoY29uc3QgcGFjayBvZiBwYWNrcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IG1pZ3JhdGlvbiB9IG9mIG1pZ3JhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBtaWdyYXRpb24uTWlncmF0ZUNvbXBlbmRpdW1QYWNrKHBhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZm91bmQgYXQ6IGh0dHBzOi8vaGVsbG9hY20uY29tL3RoZS1qYXZhc2NyaXB0LWZ1bmN0aW9uLXRvLWNvbXBhcmUtdmVyc2lvbi1udW1iZXItc3RyaW5ncy9cbiAgICAvLyB1cGRhdGVkIGZvciB0eXBlc2NyaXB0XG4gICAgLyoqXG4gICAgICogY29tcGFyZSB0d28gdmVyc2lvbiBudW1iZXJzLCByZXR1cm5zIDEgaWYgdjEgPiB2MiwgLTEgaWYgdjEgPCB2MiwgMCBpZiBlcXVhbFxuICAgICAqIEBwYXJhbSB2MVxuICAgICAqIEBwYXJhbSB2MlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY29tcGFyZVZlcnNpb24odjE6IHN0cmluZywgdjI6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzMSA9IHYxLnNwbGl0KCcuJykubWFwKChzKSA9PiBwYXJzZUludChzLCAxMCkpO1xuICAgICAgICBjb25zdCBzMiA9IHYyLnNwbGl0KCcuJykubWFwKChzKSA9PiBwYXJzZUludChzLCAxMCkpO1xuICAgICAgICBjb25zdCBrID0gTWF0aC5taW4odjEubGVuZ3RoLCB2Mi5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGs7ICsraSkge1xuICAgICAgICAgICAgaWYgKHMxW2ldID4gczJbaV0pIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKHMxW2ldIDwgczJbaV0pIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdjEubGVuZ3RoID09PSB2Mi5sZW5ndGggPyAwIDogdjEubGVuZ3RoIDwgdjIubGVuZ3RoID8gLTEgOiAxO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNSNUFjdG9yIH0gZnJvbSAnLi4vYWN0b3IvU1I1QWN0b3InO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgZ2FtZSdzIGRhdGEgbW9kZWwgZnJvbSBzb3VyY2UgdmVyc2lvbiB0byBhIHRhcmdldCB2ZXJzaW9uLlxuICogRXh0ZW5kaW5nIGNsYXNzZXMgYXJlIG9ubHkgcmVxdWlyZWQgdG8gaGFuZGxlIGl0ZW1zLCBhY3RvcnMsIGFuZCBzY2VuZXMsXG4gKiAgb3RoZXIgbWV0aG9kcyBhcmUgaW1wbGVtZW50YWJsZSBwdXJlbHkgZm9yIGNvbnZlbmllbmNlIGFuZCBhdG9taWNpdHkuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBWZXJzaW9uTWlncmF0aW9uIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgTU9EVUxFX05BTUUgPSAnc2hhZG93cnVuNWUnO1xuICAgIHN0YXRpYyByZWFkb25seSBLRVlfREFUQV9WRVJTSU9OID0gJ3N5c3RlbU1pZ3JhdGlvblZlcnNpb24nO1xuICAgIHN0YXRpYyByZWFkb25seSBOT19WRVJTSU9OID0gJzAnO1xuXG4gICAgcHJpdmF0ZSBtX0Fib3J0OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBtX0Fib3J0UmVhc29uOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxsb3dlZCB2ZXJzaW9uIHRoaXMgbWlncmF0b3Igc2hvdWxkIGJlIGFibGUgdG8gb3BlcmF0ZSBvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRpbmcgdmVyc2lvbiB0aGlzIG1pZ3JhdG9yIHdpbGwgcHJvZHVjZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nO1xuXG4gICAgcHVibGljIGdldCBTb3VyY2VWZXJzaW9uRnJpZW5kbHlOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgdiR7dGhpcy5Tb3VyY2VWZXJzaW9ufWA7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgVGFyZ2V0VmVyc2lvbkZyaWVuZGx5TmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYHYke3RoaXMuVGFyZ2V0VmVyc2lvbn1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYWcgdGhlIG1pZ3JhdGlvbiB0byBiZSBhYm9ydGVkLlxuICAgICAqIEBwYXJhbSByZWFzb24gVGhlIHJlYXNvbiB0aGF0IHRoZSBtaWdyYXRpb24gbXVzdCBiZSBhYm9ydGVkLCB0byBiZSBkaXNwbGF5ZWRcbiAgICAgKiAgdG8gdGhlIHVzZXIgYW5kIHJldHVybmVkIGZyb20gdGhlIG1pZ3JhdGlvbiBjYWxsLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhYm9ydChyZWFzb246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLm1fQWJvcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLm1fQWJvcnRSZWFzb24gPSByZWFzb247XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihgRGF0YSBtaWdyYXRpb24gaGFzIGJlZW4gYWJvcnRlZDogJHtyZWFzb259YCwgeyBwZXJtYW5lbnQ6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVnaW4gbWlncmF0aW9uIGZvciB0aGUgc3BlY2lmaWVkIGdhbWUuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIHdvcmxkIHRoYXQgc2hvdWxkIGJlIG1pZ3JhdGVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBNaWdyYXRlKGdhbWU6IEdhbWUpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPIFVuaWdub3JlIHdoZW4gRm91bmRyeSBUeXBlcyB1cGRhdGVzXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uQmVnaW5Ob3RpZmljYXRpb24nKX0gJHt0aGlzLlNvdXJjZVZlcnNpb25GcmllbmRseU5hbWV9IC0+ICR7dGhpcy5UYXJnZXRWZXJzaW9uRnJpZW5kbHlOYW1lfS5gKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPIFVuaWdub3JlIHdoZW4gRm91bmRyeSBUeXBlcyB1cGRhdGVzXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uRG9Ob3RDbG9zZU5vdGlmaWNhdGlvbicpLCB7XG4gICAgICAgICAgICBwZXJtYW5lbnQ6IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE1hcCBvZiBlbnRpdGllcyB0byB1cGRhdGUsIHN0b3JlIHVudGlsIGxhdGVyIHRvIHJlZHVjZSBjaGFuY2Ugb2YgcGFydGlhbCB1cGRhdGVzXG4gICAgICAgIC8vIHdoaWNoIG1heSByZXN1bHQgaW4gaW1wb3NzaWJsZSBnYW1lIHN0YXRlcy5cbiAgICAgICAgY29uc3QgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPiA9IG5ldyBNYXA8RW50aXR5LCBFbnRpdHlVcGRhdGU+KCk7XG5cbiAgICAgICAgLy8gTWlncmF0ZSBXb3JsZCBJdGVtc1xuICAgICAgICBhd2FpdCB0aGlzLlByZU1pZ3JhdGVJdGVtRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMubV9BYm9ydFJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5JdGVyYXRlSXRlbXMoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XG4gICAgICAgIGF3YWl0IHRoaXMuUG9zdE1pZ3JhdGVJdGVtRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMubV9BYm9ydFJlYXNvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNaWdyYXRlIFdvcmxkIEFjdG9yc1xuICAgICAgICBhd2FpdCB0aGlzLlByZU1pZ3JhdGVBY3RvckRhdGEoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XG4gICAgICAgIGlmICh0aGlzLm1fQWJvcnQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLm1fQWJvcnRSZWFzb24pO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuSXRlcmF0ZUFjdG9ycyhnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5Qb3N0TWlncmF0ZUFjdG9yRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMubV9BYm9ydFJlYXNvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNaWdyYXRlIEFjdG9yIFRva2Vuc1xuICAgICAgICBhd2FpdCB0aGlzLlByZU1pZ3JhdGVTY2VuZURhdGEoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XG4gICAgICAgIGlmICh0aGlzLm1fQWJvcnQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLm1fQWJvcnRSZWFzb24pO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuSXRlcmF0ZVNjZW5lcyhnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5Qb3N0TWlncmF0ZVNjZW5lRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMubV9BYm9ydFJlYXNvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSB0aGUgdXBkYXRlcywgdGhpcyBzaG91bGQgKmFsd2F5cyogd29yaywgbm93IHRoYXQgcGFyc2luZyBpcyBjb21wbGV0ZS5cbiAgICAgICAgYXdhaXQgdGhpcy5BcHBseShlbnRpdHlVcGRhdGVzKTtcblxuICAgICAgICBhd2FpdCBnYW1lLnNldHRpbmdzLnNldChWZXJzaW9uTWlncmF0aW9uLk1PRFVMRV9OQU1FLCBWZXJzaW9uTWlncmF0aW9uLktFWV9EQVRBX1ZFUlNJT04sIHRoaXMuVGFyZ2V0VmVyc2lvbik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgVE9ETyBVbmlnbm9yZSB3aGVuIEZvdW5kcnkgVHlwZXMgdXBkYXRlc1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLlN1Y2Nlc3NOb3RpZmljYXRpb24nKX0gJHt0aGlzLlRhcmdldFZlcnNpb259LmAsIHsgcGVybWFuZW50OiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIHNwZWNpZmllZCBtYXBwaW5nIG9mIGVudGl0aWVzLCBpdGVyYXRpdmVseSB1cGRhdGluZyBlYWNoLlxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIEEgbWFwcGluZyBvZiBlbnRpdHkgdXBkYXRlRGF0YSBwYWlycy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgQXBwbHkoZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPikge1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIHsgdXBkYXRlRGF0YSwgZW1iZWRkZWRJdGVtcyB9XSBvZiBlbnRpdHlVcGRhdGVzKSB7XG4gICAgICAgICAgICBpZiAoZW1iZWRkZWRJdGVtcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdG9yID0gZW50aXR5IGFzIFNSNUFjdG9yO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFjdG9yLnVwZGF0ZU93bmVkSXRlbShlbWJlZGRlZEl0ZW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGVudGl0eS51cGRhdGUodXBkYXRlRGF0YSwgeyBlbmZvcmNlVHlwZXM6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBzY2VuZXMgYW5kIG1pZ3JhdGUgZWFjaCBpZiBuZWVkZWQuXG4gICAgICogQHBhcmFtIGdhbWVcbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBJdGVyYXRlU2NlbmVzKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pIHtcbiAgICAgICAgLy9AdHMtaWdub3JlICAvLyBUeXBlU2NyaXB0IGV4cGVjdHMgZW50cmllcyAoQ29sbGVjdGlvbi5lbnRyaWVzKSB0byBiZSBhIGNhbGwsIHlldCBpdCdzIGEgZ2V0IHByb3BlcnR5LlxuICAgICAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIGdhbWUuc2NlbmVzLmVudHJpZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5TaG91bGRNaWdyYXRlU2NlbmVEYXRhKHNjZW5lKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNjZW5lLl9pZCA9PT0gJ01Bd1NGaGxYUmlwaXhPV3cnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTY2VuZSBQcmUtVXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjZW5lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0aW5nIFNjZW5lIGVudGl0eSAke3NjZW5lLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IGF3YWl0IHRoaXMuTWlncmF0ZVNjZW5lRGF0YShkdXBsaWNhdGUoc2NlbmUuZGF0YSkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGhhc1Rva2VuVXBkYXRlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEudG9rZW5zID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgc2NlbmUuZGF0YS50b2tlbnMubWFwKGFzeW5jICh0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkodG9rZW4uYWN0b3JEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuRGF0YVVwZGF0ZSA9IGF3YWl0IHRoaXMuTWlncmF0ZUFjdG9yRGF0YSh0b2tlbi5hY3RvckRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KHRva2VuRGF0YVVwZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNUb2tlblVwZGF0ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuRGF0YVVwZGF0ZVsnX2lkJ10gPSB0b2tlbi5faWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUb2tlbiA9IGR1cGxpY2F0ZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW4uYWN0b3JEYXRhID0gYXdhaXQgbWVyZ2VPYmplY3QodG9rZW4uYWN0b3JEYXRhLCB0b2tlbkRhdGFVcGRhdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5mb3JjZVR5cGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wbGFjZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdUb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChzY2VuZS5faWQgPT09ICdNQXdTRmhsWFJpcGl4T1d3Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2NlbmUgUHJlLVVwZGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzY2VuZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkodXBkYXRlRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXhwYW5kT2JqZWN0KHVwZGF0ZURhdGEpO1xuICAgICAgICAgICAgICAgIGVudGl0eVVwZGF0ZXMuc2V0KHNjZW5lLCB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGVkSXRlbXM6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBpdGVtcyBhbmQgbWlncmF0ZSBlYWNoIGlmIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIFRoZSBjdXJyZW50IG1hcCBvZiBlbnRpdHkgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgSXRlcmF0ZUl0ZW1zKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGdhbWUuaXRlbXMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5TaG91bGRNaWdyYXRlSXRlbURhdGEoaXRlbS5kYXRhKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE1pZ3JhdGluZyBJdGVtOiAke2l0ZW0ubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlSXRlbURhdGEoaXRlbS5kYXRhKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdEVtcHR5KHVwZGF0ZURhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV4cGFuZE9iamVjdCh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgICAgICBlbnRpdHlVcGRhdGVzLnNldChpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGVkSXRlbXM6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBhY3RvcnMgYW5kIG1pZ3JhdGUgZWFjaCBpZiBuZWVkZWQuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIEl0ZXJhdGVBY3RvcnMoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPikge1xuICAgICAgICBmb3IgKGNvbnN0IGFjdG9yIG9mIGdhbWUuYWN0b3JzLmVudGl0aWVzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghKGF3YWl0IHRoaXMuU2hvdWxkTWlncmF0ZUFjdG9yRGF0YShhY3Rvci5kYXRhKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE1pZ3JhdGluZyBBY3RvciAke2FjdG9yLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWN0b3IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBhd2FpdCB0aGlzLk1pZ3JhdGVBY3RvckRhdGEoZHVwbGljYXRlKGFjdG9yLmRhdGEpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlRGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IHVwZGF0ZURhdGEuaXRlbXM7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVEYXRhLml0ZW1zO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV4cGFuZE9iamVjdCh1cGRhdGVEYXRhKTtcblxuICAgICAgICAgICAgICAgIGVudGl0eVVwZGF0ZXMuc2V0KGFjdG9yLCB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGVkSXRlbXM6IGl0ZW1zLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGFuIGFjdG9yJ3MgaXRlbXMsIHVwZGF0aW5nIHRob3NlIHRoYXQgbmVlZCB1cGRhdGluZy5cbiAgICAgKiBAcGFyYW0gYWN0b3JEYXRhIFRoZSBhY3RvciB0byBpdGVyYXRlIG92ZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YSBUaGUgZXhpc3RpbmcgdXBkYXRlIGRhdGEgdG8gbWVyZ2UgaW50b1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBJdGVyYXRlQWN0b3JJdGVtcyhhY3RvckRhdGE6IEFjdG9yLkRhdGEsIHVwZGF0ZURhdGEpIHtcbiAgICAgICAgbGV0IGhhc0l0ZW1VcGRhdGVzID0gZmFsc2U7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGFjdG9yRGF0YS5pdGVtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBhY3RvckRhdGEuaXRlbXMubWFwKGFzeW5jIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtVXBkYXRlID0gYXdhaXQgdGhpcy5NaWdyYXRlSXRlbURhdGEoaXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KGl0ZW1VcGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNJdGVtVXBkYXRlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtVXBkYXRlWydfaWQnXSA9IGl0ZW0uX2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1lcmdlT2JqZWN0KGl0ZW0sIGl0ZW1VcGRhdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmZvcmNlVHlwZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucGxhY2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChoYXNJdGVtVXBkYXRlcykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEuaXRlbXMgPSBpdGVtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVEYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgc2NlbmUgcmVxdWlyZXMgdXBkYXRlcy5cbiAgICAgKiBAcGFyYW0gc2NlbmUgVGhlIHNjZW5lIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdHJ1ZSBvciBmYWxzZS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZVNjZW5lRGF0YShzY2VuZTogU2NlbmUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNaWdyYXRlIHRoZSBzcGVjaWZpZWQgc2NlbmUncyBkYXRhLlxuICAgICAqIEBwYXJhbSBzY2VuZSBUaGUgc2NlbmUgdG8gbWlncmF0ZS5cbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHVwZGF0ZSBkYXRhLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBNaWdyYXRlU2NlbmVEYXRhKHNjZW5lOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvIHNvbWV0aGluZyByaWdodCBiZWZvcmUgc2NlbmUgZGF0YSBpcyBtaWdyYXRlZC5cbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIFRoZSBjdXJyZW50IG1hcCBvZiBlbnRpdHkgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgUHJlTWlncmF0ZVNjZW5lRGF0YShnYW1lOiBHYW1lLCBlbnRpdHlVcGRhdGVzOiBNYXA8RW50aXR5LCBFbnRpdHlVcGRhdGU+KTogUHJvbWlzZTx2b2lkPiB7fVxuICAgIC8qKlxuICAgICAqIERvIHNvbWV0aGluZyByaWdodCBiZWZvcmUgc2NlbmUgZGF0YSBpcyBtaWdyYXRlZC5cbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIFRoZSBjdXJyZW50IG1hcCBvZiBlbnRpdHkgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgUG9zdE1pZ3JhdGVTY2VuZURhdGEoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPik6IFByb21pc2U8dm9pZD4ge31cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGFuIGl0ZW0gcmVxdWlyZXMgdXBkYXRlcy5cbiAgICAgKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRydWUgb3IgZmFsc2UuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVJdGVtRGF0YShpdGVtOiBFbnRpdHkuRGF0YSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgdGhlIHNwZWNpZmllZCBpdGVtJ3MgZGF0YS5cbiAgICAgKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0byBtaWdyYXRlLlxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlIGRhdGEuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVJdGVtRGF0YShpdGVtOiBFbnRpdHkuRGF0YSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG8gc29tZXRoaW5nIHJpZ2h0IGJlZm9yZSBpdGVtIGRhdGEgaXMgbWlncmF0ZWQuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFByZU1pZ3JhdGVJdGVtRGF0YShnYW1lOiBHYW1lLCBlbnRpdHlVcGRhdGVzOiBNYXA8RW50aXR5LCBFbnRpdHlVcGRhdGU+KTogUHJvbWlzZTx2b2lkPiB7fVxuICAgIC8qKlxuICAgICAqIERvIHNvbWV0aGluZyByaWdodCBiZWZvcmUgaXRlbSBkYXRhIGlzIG1pZ3JhdGVkLlxuICAgICAqIEBwYXJhbSBnYW1lIFRoZSBnYW1lIHRvIGJlIHVwZGF0ZWQuXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBQb3N0TWlncmF0ZUl0ZW1EYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhbiBhY3RvciByZXF1aXJlcyB1cGRhdGVzLlxuICAgICAqIEBwYXJhbSBhY3RvciBUaGUgYWN0b3IgdG8gY2hlY2suXG4gICAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0cnVlIG9yIGZhbHNlLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlQWN0b3JEYXRhKGFjdG9yOiBBY3Rvci5EYXRhKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWlncmF0ZSB0aGUgc3BlY2lmaWVkIGFjdG9yJ3MgZGF0YS5cbiAgICAgKiBAcGFyYW0gYWN0b3IgVGhlIGFjdG9yIHRvIG1pZ3JhdGUuXG4gICAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB1cGRhdGUgZGF0YS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZUFjdG9yRGF0YShhY3RvcjogQWN0b3IuRGF0YSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG8gc29tZXRoaW5nIHJpZ2h0IGJlZm9yZSBhY3RvciBkYXRhIGlzIG1pZ3JhdGVkLlxuICAgICAqIEBwYXJhbSBnYW1lIFRoZSBnYW1lIHRvIGJlIHVwZGF0ZWQuXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBQcmVNaWdyYXRlQWN0b3JEYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XG4gICAgLyoqXG4gICAgICogRG8gc29tZXRoaW5nIHJpZ2h0IGFmdGVyIGFjdG9yIGRhdGEgaXMgbWlncmF0ZWQuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFBvc3RNaWdyYXRlQWN0b3JEYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgICAvKipcbiAgICAgKiBNaWdyYXRlIGEgY29tcGVuZGl1bSBwYWNrXG4gICAgICogQHBhcmFtIHBhY2tcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgTWlncmF0ZUNvbXBlbmRpdW1QYWNrKHBhY2s6IENvbXBlbmRpdW0pIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gcGFjay5tZXRhZGF0YS5lbnRpdHk7XG4gICAgICAgIGlmICghWydBY3RvcicsICdJdGVtJywgJ1NjZW5lJ10uaW5jbHVkZXMoZW50aXR5KSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJlZ2luIGJ5IHJlcXVlc3Rpbmcgc2VydmVyLXNpZGUgZGF0YSBtb2RlbCBtaWdyYXRpb24gYW5kIGdldCB0aGUgbWlncmF0ZWQgY29udGVudFxuICAgICAgICBhd2FpdCBwYWNrLm1pZ3JhdGUoe30pO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgcGFjay5nZXRDb250ZW50KCk7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGNvbXBlbmRpdW0gZW50cmllcyAtIGFwcGx5aW5nIGZpbmUtdHVuZWQgbWlncmF0aW9uIGZ1bmN0aW9uc1xuICAgICAgICBmb3IgKGxldCBlbnQgb2YgY29udGVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlRGF0YTogYW55ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5ID09PSAnSXRlbScpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSA9IGF3YWl0IHRoaXMuTWlncmF0ZUl0ZW1EYXRhKGVudC5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ19pZCddID0gZW50Ll9pZDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFjay51cGRhdGVFbnRpdHkodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFVuY29tbWVudCB3aGVuIGZvdW5kcnkgYWxsb3dzIGVtYmVkZGVkcyB0byBiZSB1cGRhdGVkIGluIHBhY2tzXG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAoZW50aXR5ID09PSAnQWN0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlQWN0b3JEYXRhKGVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChpc09iamVjdEVtcHR5KHVwZGF0ZURhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1cGRhdGVEYXRhWydfaWQnXSA9IGVudC5faWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBhd2FpdCBwYWNrLnVwZGF0ZUVudGl0eSh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVudGl0eSA9PT0gJ1NjZW5lJykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlU2NlbmVEYXRhKGVudC5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ19pZCddID0gZW50Ll9pZDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFjay51cGRhdGVFbnRpdHkodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRlZCBhbGwgJHtlbnRpdHl9IGVudGl0aWVzIGZyb20gQ29tcGVuZGl1bSAke3BhY2suY29sbGVjdGlvbn1gKTtcbiAgICB9XG59XG5cbnR5cGUgRW50aXR5VXBkYXRlID0ge1xuICAgIHVwZGF0ZURhdGE6IGFueTtcbiAgICBlbWJlZGRlZEl0ZW1zOiBudWxsIHwgYW55W107XG59O1xuIiwiaW1wb3J0IHsgVmVyc2lvbk1pZ3JhdGlvbiB9IGZyb20gJy4uL1ZlcnNpb25NaWdyYXRpb24nO1xuXG4vKipcbiAqIE1pZ3JhdGVzIHRoZSBkYXRhIG1vZGVsIGZvciBMZWdhY3kgbWlncmF0aW9ucyBwcmlvciB0byAwLjYuNFxuICovXG5leHBvcnQgY2xhc3MgTGVnYWN5TWlncmF0aW9uIGV4dGVuZHMgVmVyc2lvbk1pZ3JhdGlvbiB7XG4gICAgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwJztcbiAgICB9XG4gICAgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIExlZ2FjeU1pZ3JhdGlvbi5UYXJnZXRWZXJzaW9uO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwLjYuNCc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBBY3Rvci5EYXRhKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgbGV0IHVwZGF0ZURhdGE6IGFueSA9IHt9O1xuICAgICAgICBMZWdhY3lNaWdyYXRpb24ubWlncmF0ZUFjdG9yT3ZlcmZsb3coYWN0b3JEYXRhLCB1cGRhdGVEYXRhKTtcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVBY3RvclNraWxscyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpO1xuXG4gICAgICAgIHVwZGF0ZURhdGEgPSBhd2FpdCB0aGlzLkl0ZXJhdGVBY3Rvckl0ZW1zKGFjdG9yRGF0YSwgdXBkYXRlRGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZURhdGE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVJdGVtRGF0YShpdGVtOiBFbnRpdHkuRGF0YSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVEYW1hZ2VUeXBlQW5kRWxlbWVudChpdGVtLCB1cGRhdGVEYXRhKTtcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVJdGVtc0FkZEFjdGlvbnMoaXRlbSwgdXBkYXRlRGF0YSk7XG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlQWN0b3JPdmVyZmxvdyhpdGVtLCB1cGRhdGVEYXRhKTtcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVJdGVtc0FkZENhcGFjaXR5KGl0ZW0sIHVwZGF0ZURhdGEpO1xuICAgICAgICBMZWdhY3lNaWdyYXRpb24ubWlncmF0ZUl0ZW1zQW1tbyhpdGVtLCB1cGRhdGVEYXRhKTtcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVJdGVtc0NvbmNlYWwoaXRlbSwgdXBkYXRlRGF0YSk7XG4gICAgICAgIHJldHVybiB1cGRhdGVEYXRhO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBNaWdyYXRlU2NlbmVEYXRhKHNjZW5lOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBBY3Rvci5EYXRhKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlSXRlbURhdGEoaXRlbTogRW50aXR5LkRhdGEpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVTY2VuZURhdGEoc2NlbmU6IFNjZW5lKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHNjZW5lLmRhdGEudG9rZW5zPy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgYWN0b3Igb3ZlcmZsb3cgZnJvbSBhbiBpbnRlZ2VyIHRvIGFuIG9iamVjdFxuICAgICAqIC0gaXQgd2Fzbid0IGV2ZW4gZGlzcGxheWVkIGJlZm9yZSBzbyB3ZSBrbm93IGl0IGlzIDBcbiAgICAgKiBAcGFyYW0gYWN0b3JEYXRhXG4gICAgICogQHBhcmFtIHVwZGF0ZURhdGFcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBtaWdyYXRlQWN0b3JPdmVyZmxvdyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpIHtcbiAgICAgICAgaWYgKGdldFByb3BlcnR5KGFjdG9yRGF0YS5kYXRhLCAndHJhY2sucGh5c2ljYWwub3ZlcmZsb3cnKSA9PT0gMCkge1xuICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS50cmFjay5waHlzaWNhbC5vdmVyZmxvdy52YWx1ZSddID0gMDtcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEudHJhY2sucGh5c2ljYWwub3ZlcmZsb3cubWF4J10gPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWlncmF0ZSBhY3RvciBza2lsbHMgc3BlY2lhbGl6YXRpb25zIHRvIGJlIGEgbGlzdCBpbnN0ZWFkIG9mIHN0cmluZ1xuICAgICAqIEBwYXJhbSBhY3RvckRhdGFcbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVBY3RvclNraWxscyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpIHtcbiAgICAgICAgaWYgKCFhY3RvckRhdGEuZGF0YT8uc2tpbGxzPy5hY3RpdmUpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc3BsaXRSZWdleCA9IC9bLFxcL3wuXSsvO1xuXG4gICAgICAgIGNvbnN0IHJlZHVjZXIgPSAocnVubmluZywgW2tleSwgdmFsXSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbC5zcGVjcykgJiYgdmFsLnNwZWNzKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZ1trZXldID0ge1xuICAgICAgICAgICAgICAgICAgICBzcGVjczogdmFsLnNwZWNzLnNwbGl0KHNwbGl0UmVnZXgpLmZpbHRlcigocykgPT4gcyAhPT0gJycpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYWN0b3JEYXRhLmRhdGEuc2tpbGxzKSB7XG4gICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnNraWxscy5hY3RpdmUnXSA9IE9iamVjdC5lbnRyaWVzKGFjdG9yRGF0YS5kYXRhLnNraWxscy5hY3RpdmUpLnJlZHVjZShyZWR1Y2VyLCB7fSk7XG4gICAgICAgICAgICBpZiAoYWN0b3JEYXRhLmRhdGEuc2tpbGxzLmtub3dsZWRnZSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmtub3dsZWRnZS5zdHJlZXQudmFsdWUnXSA9IE9iamVjdC5lbnRyaWVzKGFjdG9yRGF0YS5kYXRhLnNraWxscz8ua25vd2xlZGdlPy5zdHJlZXQ/LnZhbHVlKS5yZWR1Y2UocmVkdWNlciwge30pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmtub3dsZWRnZS5wcm9mZXNzaW9uYWwudmFsdWUnXSA9IE9iamVjdC5lbnRyaWVzKGFjdG9yRGF0YS5kYXRhLnNraWxscz8ua25vd2xlZGdlPy5wcm9mZXNzaW9uYWw/LnZhbHVlKS5yZWR1Y2UocmVkdWNlciwge30pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmtub3dsZWRnZS5hY2FkZW1pYy52YWx1ZSddID0gT2JqZWN0LmVudHJpZXMoYWN0b3JEYXRhLmRhdGEuc2tpbGxzPy5rbm93bGVkZ2U/LmFjYWRlbWljPy52YWx1ZSkucmVkdWNlKHJlZHVjZXIsIHt9KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnNraWxscy5rbm93bGVkZ2UuaW50ZXJlc3RzLnZhbHVlJ10gPSBPYmplY3QuZW50cmllcyhhY3RvckRhdGEuZGF0YS5za2lsbHM/Lmtub3dsZWRnZT8uaW50ZXJlc3RzPy52YWx1ZSkucmVkdWNlKHJlZHVjZXIsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3RvckRhdGEuZGF0YS5za2lsbHMubGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnNraWxscy5sYW5ndWFnZS52YWx1ZSddID0gT2JqZWN0LmVudHJpZXMoYWN0b3JEYXRhLmRhdGEuc2tpbGxzPy5sYW5ndWFnZT8udmFsdWUpLnJlZHVjZShyZWR1Y2VyLCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHBhcmFtIHVwZGF0ZURhdGFcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBtaWdyYXRlRGFtYWdlVHlwZUFuZEVsZW1lbnQoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnTWlncmF0aW5nIERhbWFnZSBhbmQgRWxlbWVudHMnKTtcbiAgICAgICAgaWYgKGl0ZW0uZGF0YS5hY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IGl0ZW0uZGF0YS5hY3Rpb247XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbi5kYW1hZ2UudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLmFjdGlvbi5kYW1hZ2UudHlwZS5iYXNlJ10gPSBpdGVtLmRhdGEuYWN0aW9uLmRhbWFnZS50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24uZGFtYWdlLmVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5hY3Rpb24uZGFtYWdlLmVsZW1lbnQuYmFzZSddID0gaXRlbS5kYXRhLmFjdGlvbi5kYW1hZ2UuZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgYW1tbyBmcm9tIHJhbmdlZCB3ZWFwb25zIG9ubHkgdG8gYWxsIHdlYXBvbnNcbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWlncmF0ZUl0ZW1zQW1tbyhpdGVtLCB1cGRhdGVEYXRhKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdNaWdyYXRpbmcgQW1tbycpO1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnd2VhcG9uJyAmJiBpdGVtLmRhdGEuYW1tbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudEFtbW8gPSB7IHZhbHVlOiAwLCBtYXg6IDAgfTtcbiAgICAgICAgICAgIGlmIChpdGVtLmRhdGEuY2F0ZWdvcnkgPT09ICdyYW5nZScgJiYgaXRlbS5kYXRhLnJhbmdlICYmIGl0ZW0uZGF0YS5yYW5nZS5hbW1vKSB7XG4gICAgICAgICAgICAgICAgLy8gY29weSBvdmVyIGFtbW8gY291bnRcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRBbW1vID0gaXRlbS5kYXRhLnJhbmdlLmFtbW87XG4gICAgICAgICAgICAgICAgY3VycmVudEFtbW8udmFsdWUgPSBvbGRBbW1vLnZhbHVlO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRBbW1vLm1heCA9IG9sZEFtbW8ubWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5hbW1vJ10gPSB7XG4gICAgICAgICAgICAgICAgc3BhcmVfY2xpcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1heDogMCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnRBbW1vLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IGN1cnJlbnRBbW1vLm1heCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgY29uY2VhbCBuYW1lXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVJdGVtc0NvbmNlYWwoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgICAgICBpZiAoaXRlbS5kYXRhLnRlY2hub2xvZ3k/LmNvbmNlYWxhYmlsaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEudGVjaG5vbG9neS5jb25jZWFsJ10gPSB7XG4gICAgICAgICAgICAgICAgYmFzZTogaXRlbS5kYXRhLnRlY2hub2xvZ3kuY29uY2VhbGFiaWxpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGNhcGFjaXR5IHRvIGl0ZW1zXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVJdGVtc0FkZENhcGFjaXR5KGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICAgICAgaWYgKFsnY3liZXJ3YXJlJ10uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YS5jYXBhY2l0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YS5kYXRhLmNhcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhY3Rpb25zIHRvIG5lZWRlZCBpdGVtc1xuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHBhcmFtIHVwZGF0ZURhdGFcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBtaWdyYXRlSXRlbXNBZGRBY3Rpb25zKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICAgICAgaWYgKFsncXVhbGl0eScsICdjeWJlcndhcmUnXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5kYXRhLmFjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgc2tpbGw6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzcGVjOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHRlbmRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcHBvc2VkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlRGF0YS5kYXRhKSB1cGRhdGVEYXRhLmRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLmRhdGEuYWN0aW9uID0gYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVmVyc2lvbk1pZ3JhdGlvbiB9IGZyb20gJy4uL1ZlcnNpb25NaWdyYXRpb24nO1xuaW1wb3J0IFNSNUFjdG9yVHlwZSA9IFNoYWRvd3J1bi5TUjVBY3RvclR5cGU7XG5cbi8qKlxuICogQWRkIGRlZmF1bHQgdmFsdWUgb2Ygd2lsbHBvd2VyIHRvIHRoZSBmdWxsX2RlZmVuc2VfYXR0cmlidXRlIGZpZWxkXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJzaW9uMF82XzEwIGV4dGVuZHMgVmVyc2lvbk1pZ3JhdGlvbiB7XG4gICAgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwLjYuOSc7XG4gICAgfVxuICAgIGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBWZXJzaW9uMF82XzEwLlRhcmdldFZlcnNpb247XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgVGFyZ2V0VmVyc2lvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJzAuNi4xMCc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBTUjVBY3RvclR5cGUpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBpZiAoYWN0b3JEYXRhLmRhdGE/LmF0dHJpYnV0ZXM/LmVkZ2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZWRnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogYWN0b3JEYXRhLmRhdGEuYXR0cmlidXRlcy5lZGdlLm1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhY3RvckRhdGEuZGF0YS5hdHRyaWJ1dGVzLmVkZ2UubWF4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlczogYWN0b3JEYXRhLmRhdGEuYXR0cmlidXRlcy5lZGdlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlQWN0b3JEYXRhKGFjdG9yRGF0YTogU1I1QWN0b3JUeXBlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBhY3RvckRhdGEuZGF0YS5hdHRyaWJ1dGVzLmVkZ2U/LnVzZXMgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZVNjZW5lRGF0YShzY2VuZTogU2NlbmUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gc2NlbmUuZGF0YS50b2tlbnM/Lmxlbmd0aCA+IDA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVmVyc2lvbk1pZ3JhdGlvbiB9IGZyb20gJy4uL1ZlcnNpb25NaWdyYXRpb24nO1xuXG4vKipcbiAqIEFkZCBkZWZhdWx0IHZhbHVlIG9mIHdpbGxwb3dlciB0byB0aGUgZnVsbF9kZWZlbnNlX2F0dHJpYnV0ZSBmaWVsZFxuICovXG5leHBvcnQgY2xhc3MgVmVyc2lvbjBfNl81IGV4dGVuZHMgVmVyc2lvbk1pZ3JhdGlvbiB7XG4gICAgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwLjYuNCc7XG4gICAgfVxuICAgIGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBWZXJzaW9uMF82XzUuVGFyZ2V0VmVyc2lvbjtcbiAgICB9XG4gICAgc3RhdGljIGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnMC42LjUnO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBNaWdyYXRlQWN0b3JEYXRhKGFjdG9yRGF0YTogQWN0b3IuRGF0YSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGxldCB1cGRhdGVEYXRhOiBhbnkgPSB7fTtcbiAgICAgICAgaWYgKHVwZGF0ZURhdGEuZGF0YSA9PT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmRhdGEgPSB7fTtcbiAgICAgICAgdXBkYXRlRGF0YS5kYXRhLmZ1bGxfZGVmZW5zZV9hdHRyaWJ1dGUgPSAnd2lsbHBvd2VyJztcbiAgICAgICAgcmV0dXJuIHVwZGF0ZURhdGE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIGFjdG9yRGF0YS5kYXRhLmZ1bGxfZGVmZW5zZV9hdHRyaWJ1dGUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZVNjZW5lRGF0YShzY2VuZTogU2NlbmUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gc2NlbmUuZGF0YS50b2tlbnM/Lmxlbmd0aCA+IDA7XG4gICAgfVxufVxuIiwiLy8gVE9ETzogSG93IHRvIHRyaWdnZXIgdGVzdCBtaWdyYXRpb24uXG4vLyBUT0RPOiBIb3cgdG8gdGVzdCBtaWdyYXRpb24gcmVzdWx0cz9cblxuXG5pbXBvcnQge1ZlcnNpb25NaWdyYXRpb259IGZyb20gXCIuLi9WZXJzaW9uTWlncmF0aW9uXCI7XG5pbXBvcnQge1NSNX0gZnJvbSBcIi4uLy4uL2NvbmZpZ1wiO1xuaW1wb3J0IFNSNUFjdG9yQmFzZSA9IFNoYWRvd3J1bi5TUjVBY3RvckJhc2U7XG5cbi8qKiBOUEMgLyBHcnVudCBmZWF0dXJlIHNldFxuICogLSBBZGQgbnBjIGNoYXJhY3RlciBkYXRhLlxuICogLSBBZGQgdHJhY2sgZGlzYWJsZWQgZmVhdHVyZVxuICovXG5leHBvcnQgY2xhc3MgVmVyc2lvbjBfN18yIGV4dGVuZHMgVmVyc2lvbk1pZ3JhdGlvbiB7XG4gICAgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwLjcuMSc7XG4gICAgfVxuXG4gICAgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFZlcnNpb24wXzdfMi5UYXJnZXRWZXJzaW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgVGFyZ2V0VmVyc2lvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJzAuNy4yJztcbiAgICB9XG5cbiAgICBzdGF0aWMgTm9OUENEYXRhRm9yQ2hhcmFjdGVyKGFjdG9yRGF0YTogU1I1QWN0b3JCYXNlKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIFVzZSBpbiBvcGVyYXRvciBzaW5jZSBUeXBlU2NyaXB0IGNhbiBoYW5kbGUgdGhhdCBmb3IgdW5pb24gdHlwZXMgaW5zdGVhZCBvZiBwcm9wZXJ0eSB1c2FnZS5cbiAgICAgICAgcmV0dXJuIGFjdG9yRGF0YS50eXBlID09PSAnY2hhcmFjdGVyJyAmJiAoXG4gICAgICAgICAgICAhKFwiaXNfbnBjXCIgaW4gYWN0b3JEYXRhPy5kYXRhKSB8fFxuICAgICAgICAgICAgIShcIm5wY1wiIGluIGFjdG9yRGF0YT8uZGF0YSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgVW5zdXBwb3J0ZWRNZXRhdHlwZShhY3RvckRhdGE6IFNSNUFjdG9yQmFzZSk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBUT0RPOiBDaGVjayBvbiBDaGFyYWN0ZXJBY3RvckRhdGEubWV0YXR5cGUgdHlwaW5nIChzZWUgdHMtaWdub3JlKVxuICAgICAgICAvL0B0cy1pZ25vcmUgLy8gaW4tb3BlcmF0b3IgZG9lc24ndCB3b3JrIGhlcmUsIGFzIHRoZSB1bmRlcmx5aW5nIHR5cGluZyBmb3IgbWV0YXR5cGUgd2lsbCByZXN1bHQgaW4gc3RyaW5nIHwgbnVtYmVyIHwgdW5kZWZpbmVkXG4gICAgICAgIGNvbnN0IHR5cGUgPSBhY3RvckRhdGEuZGF0YS5tZXRhdHlwZT8udG9Mb3dlckNhc2UoKSA/PyAnJztcbiAgICAgICAgcmV0dXJuIGFjdG9yRGF0YS50eXBlID09PSAnY2hhcmFjdGVyJyAmJlxuICAgICAgICAgICAgU1I1LmNoYXJhY3Rlci50eXBlcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZUFjdG9yRGF0YShhY3RvckRhdGE6IFNSNUFjdG9yQmFzZSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IHtcbiAgICAgICAgICAgIGRhdGE/OiBvYmplY3QsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzPzogb2JqZWN0XG4gICAgICAgIH0gPSB7fTtcblxuICAgICAgICBpZiAoVmVyc2lvbjBfN18yLlVuc3VwcG9ydGVkTWV0YXR5cGUoYWN0b3JEYXRhKSkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2hlY2sgb24gQ2hhcmFjdGVyQWN0b3JEYXRhLm1ldGF0eXBlIHR5cGluZyAoc2VlIHRzLWlnbm9yZSlcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZSAvLyBpbi1vcGVyYXRvciBkb2Vzbid0IHdvcmsgaGVyZSwgYXMgdGhlIHVuZGVybHlpbmcgdHlwaW5nIGZvciBtZXRhdHlwZSB3aWxsIHJlc3VsdCBpbiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBhY3RvckRhdGEuZGF0YS5tZXRhdHlwZT8udG9Mb3dlckNhc2UoKSA/PyAnJztcbiAgICAgICAgICAgIC8vIFRPRE86IFdoYXQgdG8gZG8gd2l0aCBjdXN0b20gbWV0YXR5cGVzP1xuICAgICAgICAgICAgY29uc3QgbWV0YXR5cGVEYXRhID0ge21ldGF0eXBlOiBTUjUuY2hhcmFjdGVyLnR5cGVzLmhhc093blByb3BlcnR5KHR5cGUpID8gdHlwZSA6ICdodW1hbid9O1xuICAgICAgICAgICAgdXBkYXRlRGF0YS5kYXRhID0gey4uLnVwZGF0ZURhdGEuZGF0YSwgLi4ubWV0YXR5cGVEYXRhfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChWZXJzaW9uMF83XzIuTm9OUENEYXRhRm9yQ2hhcmFjdGVyKGFjdG9yRGF0YSkpIHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGEuZGF0YSA9IHVwZGF0ZURhdGEuZGF0YSA/IHVwZGF0ZURhdGEuZGF0YSA6IHt9O1xuICAgICAgICAgICAgY29uc3QgbnBjRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpc19ucGM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5wYzoge1xuICAgICAgICAgICAgICAgICAgICBpc19ncnVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByb2Zlc3Npb25hbF9yYXRpbmc6IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVEYXRhLmRhdGEgPSB7Li4udXBkYXRlRGF0YS5kYXRhLCAuLi5ucGNEYXRhfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVEYXRhO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlQWN0b3JEYXRhKGFjdG9yRGF0YTogU1I1QWN0b3JCYXNlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBWZXJzaW9uMF83XzIuVW5zdXBwb3J0ZWRNZXRhdHlwZShhY3RvckRhdGEpIHx8IFZlcnNpb24wXzdfMi5Ob05QQ0RhdGFGb3JDaGFyYWN0ZXIoYWN0b3JEYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IE1vZExpc3QgPSBTaGFkb3dydW4uTW9kTGlzdDtcbmltcG9ydCBNb2RMaXN0RW50cnkgPSBTaGFkb3dydW4uTW9kTGlzdEVudHJ5O1xuXG5leHBvcnQgY2xhc3MgUGFydHNMaXN0PFRUeXBlPiB7XG4gICAgZ2V0IGxpc3QoKTogTW9kTGlzdDxUVHlwZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdC5zbGljZSgpO1xuICAgIH1cblxuICAgIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldCB0b3RhbCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fbGlzdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IHBhcnQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH1cblxuICAgIGdldCBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgZ2V0UGFydFZhbHVlKG5hbWU6IHN0cmluZyk6IFRUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QuZmluZCgocGFydCkgPT4gcGFydC5uYW1lID09PSBuYW1lKT8udmFsdWU7XG4gICAgfVxuXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2xpc3QubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9saXN0OiBNb2RMaXN0PFRUeXBlPjtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnRzPzogTW9kTGlzdDxUVHlwZT4pIHtcbiAgICAgICAgbGV0IGFjdHVhbFBhcnRzID0gW10gYXMgTW9kTGlzdDxUVHlwZT47XG4gICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFydHMpKSB7XG4gICAgICAgICAgICAgICAgYWN0dWFsUGFydHMgPSBwYXJ0cztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3MgYSBudW1iZXIsIHdlIGFyZSBkZWFsaW5nIHdpdGggYW4gYXJyYXkgYXMgYW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKE51bWJlcihuYW1lKSkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAodmFsdWUgYXMgTW9kTGlzdEVudHJ5PFRUeXBlPikubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICh2YWx1ZSBhcyBNb2RMaXN0RW50cnk8VFR5cGU+KS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsUGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgTW9kTGlzdEVudHJ5PFRUeXBlPik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdCA9IGFjdHVhbFBhcnRzO1xuICAgIH1cblxuICAgIGFkZFBhcnQobmFtZTogc3RyaW5nLCB2YWx1ZTogVFR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbGlzdC5wdXNoKHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkVW5pcXVlUGFydChuYW1lOiBzdHJpbmcsIHZhbHVlPzogVFR5cGUsIG92ZXJ3cml0ZSA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9saXN0LmZpbmRJbmRleCgocGFydCkgPT4gcGFydC5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGV4aXN0IGFuZCBzaG91bGQndmUgb3ZlcndyaXRlLCByZXR1cm5cbiAgICAgICAgICAgIGlmICghb3ZlcndyaXRlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBwYXNzZWQgdW5kZWZpbmVkLCByZW1vdmUgdGhlIHZhbHVlXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgZ28gdGhyb3VnaCB1bnRpbCB3ZSBubyBsb25nZXIgaGF2ZSBhIHBhcnQgb2YgdGhpcyBuYW1lXG4gICAgICAgICAgICB0aGlzLmFkZFVuaXF1ZVBhcnQobmFtZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFBhcnQobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlUGFydChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9saXN0LmZpbmRJbmRleCgocGFydCkgPT4gcGFydC5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRNZXNzYWdlT3V0cHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0O1xuICAgIH1cblxuICAgIHN0YXRpYyBBZGRVbmlxdWVQYXJ0PFRUeXBlPihsaXN0OiBNb2RMaXN0PFRUeXBlPiwgbmFtZTogc3RyaW5nLCB2YWx1ZTogVFR5cGUsIG92ZXJ3cml0ZSA9IHRydWUpOiBNb2RMaXN0PFRUeXBlPiB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChsaXN0KTtcbiAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChuYW1lLCB2YWx1ZSwgb3ZlcndyaXRlKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzLl9saXN0O1xuICAgIH1cblxuICAgIHN0YXRpYyBUb3RhbChsaXN0OiBNb2RMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0KGxpc3QpO1xuICAgICAgICByZXR1cm4gcGFydHMudG90YWw7XG4gICAgfVxufVxuIiwiaW1wb3J0IE1vZExpc3QgPSBTaGFkb3dydW4uTW9kTGlzdDtcbmltcG9ydCBSb2xsRXZlbnQgPSBTaGFkb3dydW4uUm9sbEV2ZW50O1xuaW1wb3J0IEJhc2VWYWx1ZVBhaXIgPSBTaGFkb3dydW4uQmFzZVZhbHVlUGFpcjtcbmltcG9ydCBMYWJlbEZpZWxkID0gU2hhZG93cnVuLkxhYmVsRmllbGQ7XG5pbXBvcnQgQXR0YWNrRGF0YSA9IFNoYWRvd3J1bi5BdHRhY2tEYXRhO1xuaW1wb3J0IERhbWFnZURhdGEgPSBTaGFkb3dydW4uRGFtYWdlRGF0YTtcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IFNSNUFjdG9yIH0gZnJvbSAnLi4vYWN0b3IvU1I1QWN0b3InO1xuaW1wb3J0IHsgU1I1SXRlbSB9IGZyb20gJy4uL2l0ZW0vU1I1SXRlbSc7XG5pbXBvcnQge1xuICAgIGNyZWF0ZVJvbGxDaGF0TWVzc2FnZSwgY3JlYXRlVGFyZ2V0Q2hhdE1lc3NhZ2UsIFJvbGxUYXJnZXRDaGF0TWVzc2FnZSxcbiAgICBUYXJnZXRDaGF0TWVzc2FnZU9wdGlvbnNcbn0gZnJvbSAnLi4vY2hhdCc7XG5pbXBvcnQge0NPUkVfRkxBR1MsIENPUkVfTkFNRSwgREVGQVVMVF9ST0xMX05BTUUsIEZMQUdTLCBTUiwgU1lTVEVNX05BTUV9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBQYXJ0c0xpc3QgfSBmcm9tICcuLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuaW1wb3J0IHtBY3Rpb25UZXN0RGF0YX0gZnJvbSBcIi4uL2FwcHMvZGlhbG9ncy9TaGFkb3dydW5JdGVtRGlhbG9nXCI7XG5pbXBvcnQgQmxhc3REYXRhID0gU2hhZG93cnVuLkJsYXN0RGF0YTtcbmltcG9ydCBGaXJlTW9kZURhdGEgPSBTaGFkb3dydW4uRmlyZU1vZGVEYXRhO1xuaW1wb3J0IERyYWluRGF0YSA9IFNoYWRvd3J1bi5EcmFpbkRhdGE7XG5pbXBvcnQge1NoYWRvd3J1blRlc3REaWFsb2d9IGZyb20gXCIuLi9hcHBzL2RpYWxvZ3MvU2hhZG93cnVuVGVzdERpYWxvZ1wiO1xuaW1wb3J0IE1vZGlmaWVkRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5Nb2RpZmllZERhbWFnZURhdGE7XG5pbXBvcnQgTGltaXRGaWVsZCA9IFNoYWRvd3J1bi5MaW1pdEZpZWxkO1xuaW1wb3J0IENvbWJhdERhdGEgPSBTaGFkb3dydW4uQ29tYmF0RGF0YTtcblxuLy8gaXRlbSwgYWN0b3IsIGRpY2VQb29sLCBhdHRhY2ssIGRlZmVuc2UsIHNwZWxsLCBmb3JtXG5leHBvcnQgdHlwZSBUZXN0ID0gIHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXN0RGlhbG9nRGF0YSB7XG4gICAgcGFydHM6IFBhcnRzTGlzdDxudW1iZXI+XG4gICAgbGltaXQ6IG51bWJlclxuICAgIHdvdW5kczogYm9vbGVhblxuICAgIGV4dGVuZGVkOiBib29sZWFuXG4gICAgcm9sbE1vZGU6IGtleW9mIHR5cGVvZiBDT05GSUcuRGljZS5yb2xsTW9kZXM7XG59XG5cbmludGVyZmFjZSBSb2xsUHJvcHMge1xuICAgIHBhcnRzPzogTW9kTGlzdDxudW1iZXI+LFxuICAgIGxpbWl0PzogYW55LFxuICAgIGV4cGxvZGVTaXhlcz86IGJvb2xlYW5cbn1cblxuLy8gVE9ETzogU2VwYXJhdGUgaW50byAncm9sbCBkYXRhJyBhbmQgJ3RlbXBsYXRlIGRhdGEnLCB3aGljaCBvbmx5IHBhc3NlcyB0aHJvdWdoIGJ1dCBpc24ndCB1c2VkLlxuZXhwb3J0IGludGVyZmFjZSBCYXNpY1JvbGxQcm9wcyB7XG4gICAgcGFydHM/OiBNb2RMaXN0PG51bWJlcj47XG4gICAgbGltaXQ/OiBMaW1pdEZpZWxkO1xuICAgIGV4cGxvZGVTaXhlcz86IGJvb2xlYW47XG4gICAgdGl0bGU/OiBzdHJpbmc7XG4gICAgYWN0b3I/OiBTUjVBY3RvcjtcbiAgICB0YXJnZXQ/OiBUb2tlbjtcbiAgICBpdGVtPzogU1I1SXRlbTtcbiAgICAvLyBQZXJzb25hbCBhdHRhY2tcbiAgICBhdHRhY2s/OiBBdHRhY2tEYXRhXG4gICAgLy8gSW5jb21pbmcgYXR0YWNrIGZvciBhIGRlZmVuc2UgdGVzdFxuICAgIGluY29taW5nQXR0YWNrPzogQXR0YWNrRGF0YTtcbiAgICBkYW1hZ2U/OiBNb2RpZmllZERhbWFnZURhdGE7XG4gICAgdGVzdHM/OiBUZXN0W107XG4gICAgZGVzY3JpcHRpb24/OiBvYmplY3Q7XG4gICAgcHJldmlld1RlbXBsYXRlPzogYm9vbGVhbjtcbiAgICBoaWRlUm9sbE1lc3NhZ2U/OiBib29sZWFuO1xuICAgIHJvbGxNb2RlPzoga2V5b2YgdHlwZW9mIENPTkZJRy5EaWNlLnJvbGxNb2RlcztcbiAgICBjb21iYXQ/OiBDb21iYXREYXRhXG59XG5cbi8qKiBQcm92aWRlIGEgY2xlYXIgaW50ZXJmYWNlIG9mIHdoaWNoIHZhbHVlIGFyZSBndWFyYW50ZWVkIHRvIGJlIGRlZmluZWQuXG4gICAgICovXG5leHBvcnQgaW50ZXJmYWNlIEJhc2ljUm9sbFByb3BzRGVmYXVsdGVkIGV4dGVuZHMgQmFzaWNSb2xsUHJvcHMge1xuICAgIHRpdGxlOiBzdHJpbmdcbiAgICBwYXJ0czogTW9kTGlzdDxudW1iZXI+XG4gICAgZXhwbG9kZVNpeGVzOiBib29sZWFuXG4gICAgaGlkZVJvbGxNZXNzYWdlOiBib29sZWFuXG4gICAgcHJldmlld1RlbXBsYXRlOiBib29sZWFuXG4gICAgcm9sbE1vZGU6IGtleW9mIHR5cGVvZiBDT05GSUcuRGljZS5yb2xsTW9kZXNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb2xsRGlhbG9nT3B0aW9ucyB7XG4gICAgZW52aXJvbm1lbnRhbD86IG51bWJlclxuICAgIHBvb2w/OiBib29sZWFuXG4gICAgZXh0ZW5kZWQ/OiBib29sZWFuXG4gICAgbGltaXQ/OiBib29sZWFuXG4gICAgd291bmRzPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkdmFuY2VkUm9sbFByb3BzIGV4dGVuZHMgQmFzaWNSb2xsUHJvcHMge1xuICAgIGV2ZW50PzogUm9sbEV2ZW50O1xuICAgIGV4dGVuZGVkPzogYm9vbGVhbjtcbiAgICB3b3VuZHM/OiBib29sZWFuO1xuICAgIGFmdGVyPzogKHJvbGw6IFJvbGwgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICAgYXR0YWNrPzogQXR0YWNrRGF0YTtcbiAgICBmaXJlTW9kZT86IEZpcmVNb2RlRGF0YVxuICAgIGNvbWJhdD86IENvbWJhdERhdGFcbn1cblxuLyoqIFByb3ZpZGUgYSBjbGVhciBpbnRlcmZhY2Ugb2Ygd2hpY2ggdmFsdWUgYXJlIGd1YXJhbnRlZWQgdG8gYmUgZGVmaW5lZC5cbiAgICAgKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWR2YW5jZWRSb2xsUHJvcHNEZWZhdWx0ZWQgZXh0ZW5kcyBBZHZhbmNlZFJvbGxQcm9wcyB7XG4gICAgcGFydHM6IE1vZExpc3Q8bnVtYmVyPlxuICAgIHdvdW5kczogYm9vbGVhblxufVxuXG50eXBlIFNoYWRvd3J1blJvbGxEYXRhID0ge1xuICAgIGxpbWl0OiBudW1iZXJcbiAgICB0aHJlc2hvbGQ6IG51bWJlclxuICAgIHBhcnRzOiBNb2RMaXN0PG51bWJlcj5cbiAgICBleHBsb2RlU2l4ZXM6IGJvb2xlYW5cbn1cbmV4cG9ydCBjbGFzcyBTaGFkb3dydW5Sb2xsIGV4dGVuZHMgUm9sbCB7XG4gICAgZGF0YTogU2hhZG93cnVuUm9sbERhdGFcbiAgICAvLyBhZGQgY2xhc3MgUm9sbCB0byB0aGUganNvbiBzbyBkaWNlLXNvLW5pY2Ugd29ya3NcbiAgICB0b0pTT04oKTogYW55IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHN1cGVyLnRvSlNPTigpO1xuICAgICAgICBkYXRhLmNsYXNzID0gJ1JvbGwnO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBnZXQgc2lkZXMoKTogbnVtYmVyW10ge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgLy8gMC43LnggZm91bmRyeVZUVFxuICAgICAgICBpZiAodGhpcy50ZXJtcykge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXJtc1swXS5yZXN1bHRzLm1hcChyZXN1bHQgPT4gcmVzdWx0LnJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgLy8gMC42LnggZm91bmRyeVZUVFxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0c1swXS5yb2xscy5tYXAocm9sbCA9PiByb2xsLnJvbGwpO1xuICAgIH1cblxuICAgIGdldCBsaW1pdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxpbWl0O1xuICAgIH1cblxuICAgIGdldCB0aHJlc2hvbGQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50aHJlc2hvbGQ7XG4gICAgfVxuXG4gICAgZ2V0IHBhcnRzKCk6IE1vZExpc3Q8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucGFydHM7XG4gICAgfVxuXG4gICAgZ2V0IGV4cGxvZGVTaXhlcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5leHBsb2RlU2l4ZXM7XG4gICAgfVxuXG4gICAgY291bnQoc2lkZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuc2lkZXM7XG4gICAgICAgIHJldHVybiByZXN1bHRzLnJlZHVjZSgoY291bnRlZCwgcmVzdWx0KSA9PiByZXN1bHQgPT09IHNpZGUgPyBjb3VudGVkICsgMSA6IGNvdW50ZWQsIDApO1xuICAgIH1cblxuICAgIGdldCBoaXRzKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsO1xuICAgIH1cblxuICAgIGdldCBwb29sKCk6IG51bWJlciB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvLyAwLjcueCBmb3VuZHJ5VlRUXG4gICAgICAgIGlmICh0aGlzLnRlcm1zKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpY2VbMF0ubnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vIDAuNi54IGZvdW5kcnlWVFRcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0ucm9sbHMubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldCBnbGl0Y2hlZCgpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGdsaXRjaGVkID0gMDtcbiAgICAgICAgU1IuZGllLmdsaXRjaC5mb3JFYWNoKGRpZSA9PiBnbGl0Y2hlZCArPSB0aGlzLmNvdW50KGRpZSkpO1xuICAgICAgICByZXR1cm4gZ2xpdGNoZWQgPiBNYXRoLmZsb29yKHRoaXMucG9vbCAvIDIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNoYWRvd3J1blJvbGxlciB7XG4gICAgc3RhdGljIGFzeW5jIGl0ZW1Sb2xsKGV2ZW50LCBpdGVtOiBTUjVJdGVtLCBhY3Rpb25UZXN0RGF0YT86IEFjdGlvblRlc3REYXRhKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIC8vIENyZWF0ZSBjb21tb24gZGF0YSBmb3IgYWxsIGl0ZW0gdHlwZXMuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gaXRlbS5nZXRSb2xsTmFtZSgpO1xuICAgICAgICBjb25zdCBhY3RvciA9IGl0ZW0uYWN0b3I7XG4gICAgICAgIGNvbnN0IGF0dGFjayA9ICBpdGVtLmdldEF0dGFja0RhdGEoMCwgYWN0aW9uVGVzdERhdGEpO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGl0ZW0uZ2V0Um9sbFBhcnRzTGlzdCgpO1xuICAgICAgICBjb25zdCBsaW1pdCA9IGl0ZW0uZ2V0TGltaXQoKTtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWQgPSBpdGVtLmdldEV4dGVuZGVkKCk7XG4gICAgICAgIGNvbnN0IHByZXZpZXdUZW1wbGF0ZSA9IGl0ZW0uaGFzVGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gaXRlbS5nZXRDaGF0RGF0YSgpO1xuICAgICAgICBjb25zdCB0ZXN0cyA9IGl0ZW0uZ2V0T3Bwb3NlZFRlc3RzKCk7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IGF3YWl0IGFjdG9yLmdldE1vZGlmaWVycygpO1xuXG4gICAgICAgIC8vIFByZXBhcmUgdGhlIHJvbGwgYW5kIGRpYWxvZy5cbiAgICAgICAgY29uc3QgYWR2YW5jZWRSb2xsUHJvcHMgPSB7XG4gICAgICAgICAgICBoaWRlUm9sbE1lc3NhZ2U6IHRydWUsXG4gICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICBhY3RvcixcbiAgICAgICAgICAgIHBhcnRzLFxuICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICBleHRlbmRlZCxcbiAgICAgICAgICAgIHRlc3RzXG4gICAgICAgIH0gYXMgQWR2YW5jZWRSb2xsUHJvcHM7XG5cblxuICAgICAgICAvLyBSZXNldCBkaWFsb2cgb3B0aW9ucyB0byBkZWZhdWx0IHZhbHVlcyBhbmQgc2V0IGVhY2ggYWNjb3JkaW5nIHRvIGl0ZW0gdHlwZXMuXG4gICAgICAgIGNvbnN0IGFkdmFuY2VkRGlhbG9nT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGVudmlyb25tZW50YWw6IDAsXG4gICAgICAgIH0gYXMgUm9sbERpYWxvZ09wdGlvbnM7XG4gICAgICAgIGlmIChpdGVtLmFwcGx5RW52aXJvbm1lbnRhbE1vZGlmaWVycygpKSB7XG4gICAgICAgICAgICBhZHZhbmNlZERpYWxvZ09wdGlvbnMuZW52aXJvbm1lbnRhbCA9IG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm9sbCA9IGF3YWl0IFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoYWR2YW5jZWRSb2xsUHJvcHMsIGFkdmFuY2VkRGlhbG9nT3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKCFyb2xsKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGF0dGFjaykge1xuICAgICAgICAgICAgYXR0YWNrLmhpdHMgPSByb2xsLmhpdHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBTZXBhcmF0aW9uIG9mIGNvbmNlcm5zLiAnUm9sbGVyJyBzaG91bGQgb25seSByb2xsIGFuZCBwcmVwYXJlIHRvIHJvbGwuXG4gICAgICAgIC8vICAgICAgIFJ1bGVzIHNob3VsZCBiZSBoYW5kbGVkIGVsc2V3aGVyZS4gQXR0YWNrIEhhbmRsZXI/IFJhbmdlZCwgTWVsZWUsIERpcmVjdFNwZWxsLCBJbmRpcmVjdFNwZWxsLi4uXG4gICAgICAgIGlmIChhdHRhY2sgJiYgaXRlbS5pc0NvbWJhdFNwZWxsKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNwZWxsQXR0YWNrID0gaXRlbS5nZXRBdHRhY2tEYXRhKHJvbGwuaGl0cywgYWN0aW9uVGVzdERhdGEpO1xuICAgICAgICAgICAgaWYgKHNwZWxsQXR0YWNrKSBhdHRhY2suZGFtYWdlID0gc3BlbGxBdHRhY2suZGFtYWdlO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBIYW5kbGUgdXNlciB0YXJnZXRpbmcgZm9yIGZvciB0YXJnZXRlZCBtZXNzYWdlcyBhbmQgZGlzcGxheS5cbiAgICAgICAgY29uc3QgdGFyZ2V0czogVG9rZW5bXSA9IEhlbHBlcnMuZ2V0VXNlclRhcmdldHMoKTtcbiAgICAgICAgLy8gQWxsb3cgZm9yIGRpcmVjdCBkZWZlbnNlIHdpdGhvdXQgdG9rZW4gc2VsZWN0aW9uIGZvciBPTkUgdG9rZW4gdGFyZ2V0ZWQuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRhcmdldHMubGVuZ3RoID09PSAxID8gdGFyZ2V0c1swXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCByb2xsQ2hhdE9wdGlvbnMgPSB7dGl0bGUsIHJvbGwsIGFjdG9yLCBpdGVtLCBhdHRhY2ssIHByZXZpZXdUZW1wbGF0ZSwgdGFyZ2V0cywgdGFyZ2V0LCBkZXNjcmlwdGlvbiwgdGVzdHN9O1xuICAgICAgICBhd2FpdCBjcmVhdGVSb2xsQ2hhdE1lc3NhZ2Uocm9sbENoYXRPcHRpb25zKTtcblxuICAgICAgICBpZiAodGVzdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYXRPcHRpb25zID0ge2FjdG9yLCBpdGVtLCB0ZXN0cywgcm9sbCwgYXR0YWNrfVxuICAgICAgICAgICAgYXdhaXQgU2hhZG93cnVuUm9sbGVyLnRhcmdldHNDaGF0TWVzc2FnZXModGFyZ2V0cywgdGFyZ2V0Q2hhdE9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJvbGw7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlc3VsdGluZ0l0ZW1Sb2xscyhldmVudCwgaXRlbTogU1I1SXRlbSwgYWN0aW9uVGVzdERhdGE/IDogQWN0aW9uVGVzdERhdGEpIHtcbiAgICAgICAgLy8gQ2FzdCByZXN1bHRpbmcgdGVzdHMgZnJvbSBhYm92ZSBTdWNjZXNzIFRlc3QgZGVwZW5kaW5nIG9uIGl0ZW0gdHlwZS5cbiAgICAgICAgaWYgKGl0ZW0uaXNDb21wbGV4Rm9ybSgpICYmIGFjdGlvblRlc3REYXRhPy5jb21wbGV4Rm9ybSkge1xuICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBhY3Rpb25UZXN0RGF0YS5jb21wbGV4Rm9ybS5sZXZlbDtcbiAgICAgICAgICAgIGNvbnN0IGZhZGUgPSBpdGVtLmdldEZhZGUoKSArIGxldmVsO1xuICAgICAgICAgICAgY29uc3QgbWluRmFkZSA9IDI7XG4gICAgICAgICAgICBjb25zdCB0b3RhbEZhZGUgPSBNYXRoLm1heChmYWRlLCBtaW5GYWRlKTtcbiAgICAgICAgICAgIGF3YWl0IGl0ZW0uYWN0b3Iucm9sbEZhZGUoeyBldmVudCB9LCB0b3RhbEZhZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0uaXNTcGVsbCgpKSB7XG4gICAgICAgICAgICAvLyBpZiAoaXRlbS5pc0NvbWJhdFNwZWxsKCkgJiYgcm9sbCkge1xuICAgICAgICAgICAgLy8gICAgIC8vIFRPRE86IGlzQ29tYmF0U3BlbGwgYW5kIHJvbGwgZG9lcyBzb21ldGhpbmcgYnV0IGlzbid0IGhhbmRsZWQuXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBpZiAoYWN0aW9uVGVzdERhdGE/LnNwZWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yY2UgPSBhY3Rpb25UZXN0RGF0YS5zcGVsbC5mb3JjZTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNrbGVzcyA9IGFjdGlvblRlc3REYXRhLnNwZWxsLnJlY2tsZXNzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRyYWluID0gaXRlbS5nZXREcmFpbigpICsgZm9yY2UgKyAocmVja2xlc3MgPyAzIDogMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluRHJhaW4gPSAyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsRHJhaW4gPSBNYXRoLm1heChkcmFpbiwgbWluRHJhaW4pO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgaXRlbS5hY3Rvci5yb2xsRHJhaW4oeyBldmVudCB9LCB0b3RhbERyYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtLmlzV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmhhc0FtbW8oKSAmJiBhY3Rpb25UZXN0RGF0YT8ucmFuZ2VkV2VhcG9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyZU1vZGUgPSBhY3Rpb25UZXN0RGF0YS5yYW5nZWRXZWFwb24uZmlyZU1vZGUudmFsdWUgfHwgMTtcbiAgICAgICAgICAgICAgICBhd2FpdCBpdGVtLnVzZUFtbW8oZmlyZU1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNoYWRvd3J1bkZvcm11bGEoe1xuICAgICAgICBwYXJ0czogcGFydHNQcm9wcyxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIGV4cGxvZGUsXG4gICAgfToge1xuICAgICAgICBwYXJ0czogTW9kTGlzdDxudW1iZXI+O1xuICAgICAgICBsaW1pdD86IEJhc2VWYWx1ZVBhaXI8bnVtYmVyPiAmIExhYmVsRmllbGQ7XG4gICAgICAgIGV4cGxvZGU/OiBib29sZWFuO1xuICAgIH0pOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QocGFydHNQcm9wcyk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcGFydHMudG90YWw7XG4gICAgICAgIGlmIChjb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUm9sbE9uZURpZScpKTtcbiAgICAgICAgICAgIHJldHVybiAnMGQ2Y3M+PTUnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmb3JtdWxhID0gYCR7Y291bnR9ZDZgO1xuICAgICAgICBpZiAoZXhwbG9kZSkge1xuICAgICAgICAgICAgZm9ybXVsYSArPSAneDYnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdD8udmFsdWUpIHtcbiAgICAgICAgICAgIGZvcm11bGEgKz0gYGtoJHtsaW1pdC52YWx1ZX1gO1xuICAgICAgICB9XG4gICAgICAgIGZvcm11bGEgKz0gJ2NzPj01JztcbiAgICAgICAgcmV0dXJuIGZvcm11bGE7XG4gICAgfVxuXG4gICAgc3RhdGljIHJvbGwocHJvcHM6IFJvbGxQcm9wcyk6IFNoYWRvd3J1blJvbGx8dW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0KHByb3BzLnBhcnRzKTtcblxuICAgICAgICAvLyBQcmVwYXJlIFNSIFN1Y2Nlc3MgVGVzdCB3aXRoIGZvdW5kcnkgZm9ybXVsYS5cbiAgICAgICAgY29uc3QgZm9ybXVsYU9wdGlvbnMgPSB7IHBhcnRzOiBwYXJ0cy5saXN0LCBsaW1pdDogcHJvcHMubGltaXQsIGV4cGxvZGU6IHByb3BzLmV4cGxvZGVTaXhlcyB9O1xuICAgICAgICBjb25zdCBmb3JtdWxhID0gdGhpcy5zaGFkb3dydW5Gb3JtdWxhKGZvcm11bGFPcHRpb25zKTtcbiAgICAgICAgaWYgKCFmb3JtdWxhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeGVjdXRlIHRoZSBTdWNjZXNzIFRlc3QuXG4gICAgICAgIGNvbnN0IHJvbGxEYXRhID0ge3BhcnRzOiBwYXJ0cy5saXN0LCBsaW1pdDogcHJvcHMubGltaXQsIGV4cGxvZGVTaXhlczogcHJvcHMuZXhwbG9kZVNpeGVzfTtcbiAgICAgICAgY29uc3Qgcm9sbCA9IG5ldyBTaGFkb3dydW5Sb2xsKGZvcm11bGEsIHJvbGxEYXRhKTtcblxuICAgICAgICAvLyBSZXR1cm4gcm9sbCByZWZlcmVuY2UgaW5zdGVhZCByb2xsKCkgcmV0dXJuIHRvIGF2b2lkIHR5cGluZyBpc3N1ZXMuXG4gICAgICAgIHJvbGwucm9sbCgpO1xuXG4gICAgICAgIHJldHVybiByb2xsO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBiYXNpY1JvbGwoYmFzaWNQcm9wczogQmFzaWNSb2xsUHJvcHMpOiBQcm9taXNlPFNoYWRvd3J1blJvbGwgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBTaGFkb3dydW5Sb2xsZXIuYmFzaWNSb2xsUHJvcHNEZWZhdWx0cyhiYXNpY1Byb3BzKTtcblxuICAgICAgICBjb25zdCByb2xsID0gYXdhaXQgU2hhZG93cnVuUm9sbGVyLnJvbGwoe3BhcnRzOiBwcm9wcy5wYXJ0cywgbGltaXQ6IHByb3BzLmxpbWl0LCBleHBsb2RlU2l4ZXM6IHByb3BzLmV4cGxvZGVTaXhlc30pO1xuICAgICAgICBpZiAoIXJvbGwpIHJldHVybjtcblxuICAgICAgICBpZiAoIXByb3BzLmhpZGVSb2xsTWVzc2FnZSkge1xuICAgICAgICAgICAgYXdhaXQgU2hhZG93cnVuUm9sbGVyLnJvbGxDaGF0TWVzc2FnZShyb2xsLCBwcm9wcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcm9sbDtcbiAgICB9XG5cbiAgICAvKiogUHJvdmlkZSBhIGNsZWFyIGludGVyZmFjZSBvZiB3aGljaCB2YWx1ZSBhcmUgZ3VhcmFudGVlZCB0byBiZSBkZWZpbmVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBiYXNpY1JvbGxQcm9wc0RlZmF1bHRzKHByb3BzOiBCYXNpY1JvbGxQcm9wcyk6IEJhc2ljUm9sbFByb3BzRGVmYXVsdGVkIHtcbiAgICAgICAgcHJvcHMudGl0bGUgPSBwcm9wcy50aXRsZSA/PyBERUZBVUxUX1JPTExfTkFNRTtcbiAgICAgICAgcHJvcHMucGFydHMgPSBwcm9wcy5wYXJ0cyA/PyBbXTtcbiAgICAgICAgcHJvcHMuZXhwbG9kZVNpeGVzID0gcHJvcHMuZXhwbG9kZVNpeGVzID8/IGZhbHNlO1xuICAgICAgICBwcm9wcy5oaWRlUm9sbE1lc3NhZ2UgPSBwcm9wcy5oaWRlUm9sbE1lc3NhZ2UgPz8gZmFsc2U7XG4gICAgICAgIHByb3BzLnJvbGxNb2RlID0gcHJvcHMucm9sbE1vZGUgPz8gQ09ORklHLkRpY2Uucm9sbE1vZGVzLnJvbGw7XG4gICAgICAgIHByb3BzLnByZXZpZXdUZW1wbGF0ZSA9IHByb3BzLnByZXZpZXdUZW1wbGF0ZSA/PyBmYWxzZTtcblxuICAgICAgICByZXR1cm4gey4uLnByb3BzfSBhcyBCYXNpY1JvbGxQcm9wc0RlZmF1bHRlZDtcbiAgICB9XG5cbiAgICAvKiogUHJvdmlkZSBhIGNsZWFyIGludGVyZmFjZSBvZiB3aGljaCB2YWx1ZSBhcmUgZ3VhcmFudGVlZCB0byBiZSBkZWZpbmVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBhZHZhbmNlZFJvbGxQcm9wc0RlZmF1bHRzKHByb3BzOiBBZHZhbmNlZFJvbGxQcm9wcyk6IEFkdmFuY2VkUm9sbFByb3BzRGVmYXVsdGVkIHtcbiAgICAgICAgcHJvcHMucGFydHMgPSBwcm9wcy5wYXJ0cyA/PyBbXTtcbiAgICAgICAgcHJvcHMud291bmRzID0gcHJvcHMud291bmRzID8/IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHsuLi5wcm9wc30gYXMgQWR2YW5jZWRSb2xsUHJvcHNEZWZhdWx0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvbXB0IGEgcm9sbCBmb3IgdGhlIHVzZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgcHJvbXB0Um9sbCgpOiBQcm9taXNlPFNoYWRvd3J1blJvbGwgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBnYW1lLnVzZXIuZ2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuTGFzdFJvbGxQcm9tcHRWYWx1ZSkgfHwgMDtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbeyBuYW1lOiAnU1I1Lkxhc3RSb2xsJywgdmFsdWUgfV07XG4gICAgICAgIGNvbnN0IGFkdmFuY2VkUm9sbFByb3BzID0geyBwYXJ0cywgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZShcIlNSNS5UZXN0XCIpfSBhcyBBZHZhbmNlZFJvbGxQcm9wcztcbiAgICAgICAgY29uc3QgZGlhbG9nT3B0aW9ucyA9IHsgcG9vbDogdHJ1ZSB9XG4gICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKGFkdmFuY2VkUm9sbFByb3BzLCBkaWFsb2dPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBhbiBhZHZhbmNlZCByb2xsXG4gICAgICogLSBQcm9tcHRzIHRoZSB1c2VyIGZvciBtb2RpZmllcnNcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgYWR2YW5jZWRSb2xsKGFkdmFuY2VkUHJvcHM6IEFkdmFuY2VkUm9sbFByb3BzLCBkaWFsb2dPcHRpb25zPzogUm9sbERpYWxvZ09wdGlvbnMpOiBQcm9taXNlPFNoYWRvd3J1blJvbGwgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgLy8gUmVtb3ZlIGFmdGVyIHJvbGwgY2FsbGJhY2sgYXMgdG8gbm90IG1vdmUgaXQgZnVydGhlciBpbnRvIG90aGVyIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgICBjb25zdCB7YWZ0ZXJ9ID0gYWR2YW5jZWRQcm9wcztcblxuICAgICAgICBjb25zdCBwcm9wcyA9IFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGxQcm9wc0RlZmF1bHRzKGFkdmFuY2VkUHJvcHMpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBsaW1pdHMgaWYgZ2FtZSBzZXR0aW5ncyBpcyBzZXRcbiAgICAgICAgaWYgKCFnYW1lLnNldHRpbmdzLmdldChTWVNURU1fTkFNRSwgRkxBR1MuQXBwbHlMaW1pdHMpKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvcHMubGltaXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTaGFkb3dydW5Sb2xsZXIuX2Vycm9yT25JbnZhbGlkTGltaXQocHJvcHMubGltaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXNrIHVzZXIgZm9yIGFkZGl0aW9uYWwsIGdlbmVyYWwgc3VjY2VzcyB0ZXN0IHJvbGUgbW9kaWZpZXJzLlxuICAgICAgICBjb25zdCB0ZXN0RGlhbG9nT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBwcm9wcy50aXRsZSxcbiAgICAgICAgICAgIGRpYWxvZ09wdGlvbnMsXG4gICAgICAgICAgICBleHRlbmRlZDogcHJvcHMuZXh0ZW5kZWQsXG4gICAgICAgICAgICBsaW1pdDogcHJvcHMubGltaXQsXG4gICAgICAgICAgICB3b3VuZHM6IHByb3BzLndvdW5kcyxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0ZXN0RGlhbG9nID0gYXdhaXQgU2hhZG93cnVuVGVzdERpYWxvZy5jcmVhdGUocHJvcHMuYWN0b3IsIHRlc3REaWFsb2dPcHRpb25zLCBwcm9wcy5wYXJ0cyk7XG4gICAgICAgIGNvbnN0IHRlc3REYXRhID0gYXdhaXQgdGVzdERpYWxvZy5zZWxlY3QoKTtcblxuICAgICAgICBpZiAodGVzdERpYWxvZy5jYW5jZWxlZCkgcmV0dXJuO1xuXG5cbiAgICAgICAgLy8gUHJlcGFyZSBUZXN0IFJvbGwuXG4gICAgICAgIGNvbnN0IGJhc2ljUm9sbFByb3BzID0gey4uLnByb3BzfSBhcyBCYXNpY1JvbGxQcm9wc0RlZmF1bHRlZDtcbiAgICAgICAgLy8gYmFzaWNSb2xsUHJvcHMud291bmRzID0gdGVzdERhdGEud291bmRzO1xuICAgICAgICAvLyBiYXNpY1JvbGxQcm9wcy5kaWFsb2dPcHRpb25zID0gdGVzdERhdGEuZGlhbG9nT3B0aW9ucztcbiAgICAgICAgYmFzaWNSb2xsUHJvcHMucm9sbE1vZGUgPSB0ZXN0RGF0YS5yb2xsTW9kZTtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBuZWVkZWQgYSBob3RmaXguLi4gYmFzaWNSb2xsIGlzIHVzZWQgc2Vjb25kQ2hhbmNlIGFuZCBwdXNoVGhlTGltaXQgY2hhdCBhY3Rpb25zLlxuICAgICAgICAvLyAgICAgICBJZiB0aG9zZSBhcmUgaGFuZGxlZCBieSBhZHZhbmNlZFJvbGwgKHdpdGhvdXQgYSBkaWFsb2cpIGJhc2ljUm9sbCBtZXNzYWdlIGNyZWF0aW9uIGNhbiBiZSByZW1vdmVkXG4gICAgICAgIC8vICAgICAgIGFuZCB0aGlzIGxpbmUgYXMgd2VsbC4uLlxuICAgICAgICBiYXNpY1JvbGxQcm9wcy5oaWRlUm9sbE1lc3NhZ2UgPSB0cnVlO1xuXG5cbiAgICAgICAgaWYgKHRlc3REaWFsb2cuc2VsZWN0ZWRCdXR0b24gPT09ICdlZGdlJyAmJiBwcm9wcy5hY3Rvcikge1xuICAgICAgICAgICAgYXdhaXQgU2hhZG93cnVuUm9sbGVyLmhhbmRsZUV4cGxvZGluZ1NpeGVzKHByb3BzLmFjdG9yLCBiYXNpY1JvbGxQcm9wcywgdGVzdERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgYmFzaWMgcm9sbCBwYXJ0cyBhcyB0aGUgTEFTVCBzdGVwLCB0byBhdm9pZCBtaXNzaW5nIGFueSBwYXJ0cy5cbiAgICAgICAgYmFzaWNSb2xsUHJvcHMucGFydHMgPSB0ZXN0RGF0YS5wYXJ0cy5saXN0O1xuXG4gICAgICAgIC8vIEV4ZWN1dGUgVGVzdCByb2xsLi4uXG4gICAgICAgIGNvbnN0IHJvbGwgPSBhd2FpdCB0aGlzLmJhc2ljUm9sbChiYXNpY1JvbGxQcm9wcyk7XG4gICAgICAgIGlmICghcm9sbCkgcmV0dXJuO1xuXG5cbiAgICAgICAgaWYgKCFwcm9wcy5oaWRlUm9sbE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGF3YWl0IFNoYWRvd3J1blJvbGxlci5yb2xsQ2hhdE1lc3NhZ2Uocm9sbCwgYmFzaWNSb2xsUHJvcHMpO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAodGVzdERhdGEuZXh0ZW5kZWQpIHtcbiAgICAgICAgICAgIFNoYWRvd3J1blJvbGxlci5oYW5kbGVFeHRlbmRlZFJvbGwocHJvcHMsIHRlc3REYXRhKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gQ2FsbCBhbnkgcHJvdmlkZWQgY2FsbGJhY2tzIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIHRoaXMgcm9sbC5cbiAgICAgICAgaWYgKGFmdGVyKSBhd2FpdCBhZnRlcihyb2xsKTtcblxuICAgICAgICByZXR1cm4gcm9sbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgcm9sbENoYXRNZXNzYWdlKHJvbGw6IFNoYWRvd3J1blJvbGwsIHByb3BzOiBCYXNpY1JvbGxQcm9wc0RlZmF1bHRlZCkge1xuICAgICAgICBjb25zdCB7YWN0b3IsIHRhcmdldCwgaXRlbSwgcm9sbE1vZGUsIGRlc2NyaXB0aW9uLCB0aXRsZSwgcHJldmlld1RlbXBsYXRlLCBhdHRhY2ssIGluY29taW5nQXR0YWNrLCBkYW1hZ2UsIHRlc3RzLCBjb21iYXR9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IHJvbGxDaGF0TWVzc2FnZU9wdGlvbnMgPSB7cm9sbCwgYWN0b3IsIHRhcmdldCwgaXRlbSwgcm9sbE1vZGUsIGRlc2NyaXB0aW9uLCB0aXRsZSwgcHJldmlld1RlbXBsYXRlLCBhdHRhY2ssIGluY29taW5nQXR0YWNrLCBkYW1hZ2UsIHRlc3RzLCBjb21iYXR9O1xuICAgICAgICBhd2FpdCBjcmVhdGVSb2xsQ2hhdE1lc3NhZ2Uocm9sbENoYXRNZXNzYWdlT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBzcGVjaWZpYyB0YXJnZXRlZCBwbGF5ZXIgZ2l2ZW4uXG4gICAgICpcbiAgICAgKiBVc2UgdGFyZ2V0c0NoYXRNZXNzYWdlcyBmb3IgYSBzaW1wbGUgd2F5IHRvIHNlbmQgdG8gYWxsIGFjdGl2ZSBwbGF5ZXIgdGFyZ2V0cy5cbiAgICAgKlxuICAgICAqIFNob3VsZCBhIHRhcmdldCBoYXZlIG11bHRpcGxlIHVzZXIgb3duZXJzLCBlYWNoIHdpbGwgZ2V0IGEgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIHRhcmdldENoYXRNZXNzYWdlKG9wdGlvbnM6IFJvbGxUYXJnZXRDaGF0TWVzc2FnZSkge1xuICAgICAgICBpZiAoIWdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5XaGlzcGVyT3Bwb3NlZFRlc3RzVG9UYXJnZXRlZFBsYXllcnMpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgcm9sbE1vZGUgPSBvcHRpb25zLnJvbGxNb2RlID8/IGdhbWUuc2V0dGluZ3MuZ2V0KENPUkVfTkFNRSwgQ09SRV9GTEFHUy5Sb2xsTW9kZSk7XG4gICAgICAgIGlmIChyb2xsTW9kZSA9PT0gJ3JvbGwnKSByZXR1cm47XG5cbiAgICAgICAgLy8gQHRzLWlnbm9yZSAvLyBUb2tlbi5hY3RvciBpcyBvZiB0eXBlIEFjdG9yIGluc3RlYWQgb2YgU1I1QWN0b3JcbiAgICAgICAgY29uc3QgdXNlcnMgPSBvcHRpb25zLnRhcmdldC5hY3Rvci5nZXRBY3RpdmVQbGF5ZXJPd25lcnMoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdXNlcnMpIHtcbiAgICAgICAgICAgIGlmICh1c2VyLmlzR00pIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHVzZXIgPT09IGdhbWUudXNlcikgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYXRNZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgIGFjdG9yOiBvcHRpb25zLmFjdG9yLCB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0LCB0YXJnZXRzOiBbb3B0aW9ucy50YXJnZXRdLCBpdGVtOiBvcHRpb25zLml0ZW0sXG4gICAgICAgICAgICAgICAgdGVzdHM6IG9wdGlvbnMudGVzdHMsIHdoaXNwZXJUbzogdXNlciwgYXR0YWNrOiBvcHRpb25zLmF0dGFja1xuICAgICAgICAgICAgfSBhcyBUYXJnZXRDaGF0TWVzc2FnZU9wdGlvbnM7XG4gICAgICAgICAgICBhd2FpdCBjcmVhdGVUYXJnZXRDaGF0TWVzc2FnZSh0YXJnZXRDaGF0TWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogU2VuZCBtZXNzYWdlcyB0byBBTEwgdGFyZ2V0cywgbm8gbWF0dGVyIGlmIHNwZWNpZmljYWxseSB0YXJnZXRlZCBpbiBhIGFjdGlvbiBkaWFsb2cuXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBjYXVzZSBmb3IgbXVsdGlwbGUgdGFyZ2V0IHdoaXNwZXJzIHRvIGhhcHBlbiwgZXZlbiBpZiB0aGUgYWN0aXZlIHBsYXllciBvbmx5IHNlbGVjdGVkIG9uZVxuICAgICAqIGR1cmluZywgZm9yIGV4YW1wbGUsIHRoZSByYW5nZWQgd2VhcG9uIGRpYWxvZyAod2hpY2ggZ2l2ZXMgYSBzZWxlY3Rpb24gYW5kIHJldHVybnMgb25lKVxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyB0YXJnZXRzQ2hhdE1lc3NhZ2VzKHRhcmdldHM6IFRva2VuW10sIG9wdGlvbnM6IFJvbGxUYXJnZXRDaGF0TWVzc2FnZSkge1xuICAgICAgICBpZiAoIWdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5XaGlzcGVyT3Bwb3NlZFRlc3RzVG9UYXJnZXRlZFBsYXllcnMpKSByZXR1cm47XG5cbiAgICAgICAgdGFyZ2V0cy5mb3JFYWNoKHRhcmdldCA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC8vIFRva2VuLmFjdG9yIGlzIG9mIHR5cGUgQWN0b3IgaW5zdGVhZCBvZiBTUjVBY3RvclxuICAgICAgICAgICAgaWYgKCF0YXJnZXQuYWN0b3IuaGFzQWN0aXZlUGxheWVyT3duZXIoKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBvcHRpb25zID0gey4uLm9wdGlvbnMsIHRhcmdldH07XG4gICAgICAgICAgICBTaGFkb3dydW5Sb2xsZXIudGFyZ2V0Q2hhdE1lc3NhZ2Uob3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIF9lcnJvck9uSW52YWxpZExpbWl0KGxpbWl0PzogTGltaXRGaWVsZCkge1xuICAgICAgICBpZiAobGltaXQgJiYgbGltaXQudmFsdWUgPCAwKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lldhcm5pbmdzLk5lZ2F0aXZlTGltaXRWYWx1ZScpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBoYW5kbGVFeHRlbmRlZFJvbGwoYWR2YW5jZWRQcm9wczogQWR2YW5jZWRSb2xsUHJvcHNEZWZhdWx0ZWQsIHRlc3REYXRhOiBUZXN0RGlhbG9nRGF0YSkge1xuICAgICAgICBjb25zdCBjdXJyZW50RXh0ZW5kZWQgPSB0ZXN0RGF0YS5wYXJ0cy5nZXRQYXJ0VmFsdWUoJ1NSNS5FeHRlbmRlZCcpID8/IDA7XG4gICAgICAgIHRlc3REYXRhLnBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5FeHRlbmRlZCcsIGN1cnJlbnRFeHRlbmRlZCAtIDEpO1xuXG4gICAgICAgIC8vIFByZXBhcmUgdGhlIG5leHQsIGV4dGVuZGVkIHRlc3Qgcm9sbC5cbiAgICAgICAgYWR2YW5jZWRQcm9wcy5wYXJ0cyA9IHRlc3REYXRhLnBhcnRzLmxpc3Q7XG4gICAgICAgIGFkdmFuY2VkUHJvcHMuZXh0ZW5kZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBkZWxheUluTXMgPSA0MDA7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5hZHZhbmNlZFJvbGwoYWR2YW5jZWRQcm9wcyksIGRlbGF5SW5Ncyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGhhbmRsZUV4cGxvZGluZ1NpeGVzKGFjdG9yOiBTUjVBY3RvciwgYmFzaWNQcm9wczogQmFzaWNSb2xsUHJvcHMsIHRlc3REYXRhOiBUZXN0RGlhbG9nRGF0YSkge1xuICAgICAgICBiYXNpY1Byb3BzLmV4cGxvZGVTaXhlcyA9IHRydWU7XG4gICAgICAgIGRlbGV0ZSBiYXNpY1Byb3BzLmxpbWl0O1xuICAgICAgICB0ZXN0RGF0YS5wYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuUHVzaFRoZUxpbWl0JywgYWN0b3IuZ2V0RWRnZSgpLnZhbHVlKTtcblxuICAgICAgICBhd2FpdCBhY3Rvci51c2VFZGdlKCk7XG4gICAgfVxufVxuIiwiLy8gZ2FtZSBzZXR0aW5ncyBmb3Igc2hhZG93cnVuIDVlXG5cbmltcG9ydCB7IFZlcnNpb25NaWdyYXRpb24gfSBmcm9tICcuL21pZ3JhdG9yL1ZlcnNpb25NaWdyYXRpb24nO1xuaW1wb3J0IHsgRkxBR1MsIFNZU1RFTV9OQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTeXN0ZW1TZXR0aW5ncyA9ICgpID0+IHtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBkaWFnb25hbCBtb3ZlbWVudCBydWxlIHNldHRpbmdcbiAgICAgKi9cbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKFNZU1RFTV9OQU1FLCAnZGlhZ29uYWxNb3ZlbWVudCcsIHtcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTLkRpYWdvbmFsTW92ZW1lbnROYW1lJyxcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLkRpYWdvbmFsTW92ZW1lbnREZXNjcmlwdGlvbicsXG4gICAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJzEtMi0xJyxcbiAgICAgICAgY2hvaWNlczoge1xuICAgICAgICAgICAgJzEtMS0xJzogJ1NFVFRJTkdTLklnbm9yZURpYWdvbmFsJyxcbiAgICAgICAgICAgICcxLTItMSc6ICdTRVRUSU5HUy5Fc3RpbWF0ZURpYWdvbmFsJyxcbiAgICAgICAgICAgICdFVUNMJzogJ1NFVFRJTkdTLkV1Y2xpZGVhbicsXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2hhbmdlOiAocnVsZSkgPT4gKGNhbnZhcy5ncmlkLmRpYWdvbmFsUnVsZSA9IHJ1bGUpLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBsaW1pdCBiZWhhdmlvclxuICAgICAqL1xuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoU1lTVEVNX05BTUUsICdhcHBseUxpbWl0cycsIHtcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTLkFwcGx5TGltaXRzTmFtZScsXG4gICAgICAgIGhpbnQ6ICdTRVRUSU5HUy5BcHBseUxpbWl0c0Rlc2NyaXB0aW9uJyxcbiAgICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoU1lTVEVNX05BTUUsICdkaXNwbGF5RGVmYXVsdFJvbGxDYXJkJywge1xuICAgICAgICBuYW1lOiAnU0VUVElOR1MuRGlzcGxheURlZmF1bHRSb2xsQ2FyZE5hbWUnLFxuICAgICAgICBoaW50OiAnU0VUVElOR1MuRGlzcGxheURlZmF1bHRSb2xsQ2FyZERlc2NyaXB0aW9uJyxcbiAgICAgICAgc2NvcGU6ICd1c2VyJyxcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRyYWNrIHN5c3RlbSB2ZXJzaW9uIHVwb24gd2hpY2ggYSBtaWdyYXRpb24gd2FzIGxhc3QgYXBwbGllZFxuICAgICAqL1xuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoU1lTVEVNX05BTUUsIFZlcnNpb25NaWdyYXRpb24uS0VZX0RBVEFfVkVSU0lPTiwge1xuICAgICAgICBuYW1lOiAnU3lzdGVtIERhdGEgVmVyc2lvbi4nLFxuICAgICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgICAgY29uZmlnOiBmYWxzZSxcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgfSk7XG5cbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKFNZU1RFTV9OQU1FLCBGTEFHUy5TaG93R2xpdGNoQW5pbWF0aW9uLCB7XG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUy5TaG93R2xpdGNoQW5pbWF0aW9uTmFtZScsXG4gICAgICAgIGhpbnQ6ICdTRVRUSU5HUy5TaG93R2xpdGNoQW5pbWF0aW9uRGVzY3JpcHRpb24nLFxuICAgICAgICBzY29wZTogJ3VzZXInLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgfSk7XG5cbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKFNZU1RFTV9OQU1FLCBGTEFHUy5TaG93VG9rZW5OYW1lRm9yQ2hhdE91dHB1dCwge1xuICAgICAgICBuYW1lOiAnU0VUVElOR1MuU2hvd1Rva2VuTmFtZUZvckNoYXRPdXRwdXROYW1lJyxcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLlNob3dUb2tlbk5hbWVGb3JDaGF0T3V0cHV0RGVzY3JpcHRpb24nLFxuICAgICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihTWVNURU1fTkFNRSwgRkxBR1MuV2hpc3Blck9wcG9zZWRUZXN0c1RvVGFyZ2V0ZWRQbGF5ZXJzLCB7XG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUy5XaGlzcGVyT3Bwb3NlZFRlc3RzVG9UYXJnZXRlZFBsYXllcnMnLFxuICAgICAgICBoaW50OiAnU0VUVElOR1MuV2hpc3Blck9wcG9zZWRUZXN0c1RvVGFyZ2V0ZWRQbGF5ZXJzRGVzY3JpcHRpb24nLFxuICAgICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihTWVNURU1fTkFNRSwgRkxBR1MuT25seUFsbG93Um9sbE9uRGVmYXVsdGFibGVTa2lsbHMsIHtcbiAgICAgICAgIG5hbWU6ICdTRVRUSU5HUy5Pbmx5QWxsb3dSb2xsT25EZWZhdWx0YWJsZVNraWxscycsXG4gICAgICAgIGhpbnQ6ICdTRVRUSU5HUy5Pbmx5QWxsb3dSb2xsT25EZWZhdWx0YWJsZVNraWxsc0Rlc2NyaXB0aW9uJyxcbiAgICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoU1lTVEVNX05BTUUsIEZMQUdTLlNob3dTa2lsbHNXaXRoRGV0YWlscywge1xuICAgICAgICAgbmFtZTogJ1NFVFRJTkdTLlNob3dTa2lsbHNXaXRoRGV0YWlscycsXG4gICAgICAgIGhpbnQ6ICdTRVRUSU5HUy5TaG93U2tpbGxzV2l0aERldGFpbHNEZXNjcmlwdGlvbicsXG4gICAgICAgIHNjb3BlOiAndXNlcicsXG4gICAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoU1lTVEVNX05BTUUsIEZMQUdTLk9ubHlBdXRvUm9sbE5QQ0luQ29tYmF0LCB7XG4gICAgICAgICBuYW1lOiAnU0VUVElOR1MuT25seUF1dG9Sb2xsTlBDSW5Db21iYXQnLFxuICAgICAgICBoaW50OiAnU0VUVElOR1MuT25seUF1dG9Sb2xsTlBDSW5Db21iYXREZXNjcmlwdGlvbicsXG4gICAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHtTUn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgQ29tYmF0UnVsZXMge1xuICAgIHN0YXRpYyBpbmlPcmRlckNhbkRvQW5vdGhlclBhc3Moc2NvcmVzOiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGNvbnN0IHNjb3JlIG9mIHNjb3Jlcykge1xuICAgICAgICAgICAgaWYgKENvbWJhdFJ1bGVzLmluaVNjb3JlQ2FuRG9Bbm90aGVyUGFzcyhzY29yZSkpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlcmUgaXMgYW5vdGhlciBpbml0aWF0aXZlIHBhc3MgcG9zc2libGUgd2l0aCB0aGUgZ2l2ZW4gc2NvcmUuXG4gICAgICogQHBhcmFtIHNjb3JlXG4gICAgICogQHJldHVybiB0cnVlIG1lYW5zIGFub3RoZXIgaW5pdGlhdGl2ZSBwYXNzIGlzIHBvc3NpYmxlXG4gICAgICovXG4gICAgc3RhdGljIGluaVNjb3JlQ2FuRG9Bbm90aGVyUGFzcyhzY29yZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBDb21iYXRSdWxlcy5yZWR1Y2VJbmlSZXN1bHRBZnRlclBhc3Moc2NvcmUpID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVkdWNlIHRoZSBnaXZlbiBpbml0aWF0aXZlIHNjb3JlIGFjY29yZGluZyB0byBAUERGIFNSNSMxNTlcbiAgICAgKiBAcGFyYW0gc2NvcmUgVGhpcyBnaXZlbiBzY29yZSBjYW4ndCBiZSByZWR1Y2VkIHVuZGVyIHplcm8uXG4gICAgICovXG4gICAgc3RhdGljIHJlZHVjZUluaVJlc3VsdEFmdGVyUGFzcyhzY29yZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHNjb3JlICsgU1IuY29tYmF0LklOSV9SRVNVTFRfTU9EX0FGVEVSX0lOSV9QQVNTLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2UgdGhlIGluaXRpYXRpdmUgc2NvcmUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IGluaXRpYXRpdmUgcGFzcyBAUERGIFNSNSMxNjAuXG4gICAgICogQHBhcmFtIHNjb3JlXG4gICAgICogQHBhcmFtIHBhc3MgVGhlIGN1cnJlbnQgaW5pdGlhdGl2ZSBwYXNzLiBFYWNoIGNvbWJhdCByb3VuZCBzdGFydHMgYXQgdGhlIGluaXRpYXRpdmUgcGFzcyBvZiAxLlxuICAgICAqL1xuICAgIHN0YXRpYyByZWR1Y2VJbmlPbkxhdGVTcGF3bihzY29yZTogbnVtYmVyLCBwYXNzOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAvLyBBc3N1cmUgdmFsaWQgc2NvcmUgcmFuZ2VzLlxuICAgICAgICAvLyBTaGlmdCBpbml0aWF0aXZlIHBhc3MgdmFsdWUgcmFuZ2UgZnJvbSBtaW4gMSB0byBtaW4gMCBmb3IgbXVsdGlwbGljYXRpb24uXG4gICAgICAgIHBhc3MgPSBNYXRoLm1heChwYXNzIC0gMSwgMCk7XG4gICAgICAgIHNjb3JlID0gTWF0aC5tYXgoc2NvcmUsIDApO1xuXG4gICAgICAgIC8vIFJlZHVjZSB0aGUgbmV3IHNjb3JlIGFjY29yZGluZyB0by4gTk9URTogTW9kaWZpZXIgaXMgbmVnYXRpdmVcbiAgICAgICAgY29uc3QgcmVkdWNlZFNjb3JlID0gc2NvcmUgKyBwYXNzICogU1IuY29tYmF0LklOSV9SRVNVTFRfTU9EX0FGVEVSX0lOSV9QQVNTO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgocmVkdWNlZFNjb3JlLCAwKTtcbiAgICB9XG59IiwiaW1wb3J0IHtGTEFHUywgU1IsIFNZU1RFTV9OQU1FfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgU2l0dWF0aW9uTW9kaWZpZXJzID0gU2hhZG93cnVuLlNpdHVhdGlvbk1vZGlmaWVycztcbmltcG9ydCBFbnZpcm9ubWVudGFsTW9kaWZpZXJzID0gU2hhZG93cnVuLkVudmlyb25tZW50YWxNb2RpZmllcnM7XG5pbXBvcnQgRW52aXJvbm1lbnRhbE1vZGlmaWVyTGV2ZWxzID0gU2hhZG93cnVuLkVudmlyb25tZW50YWxNb2RpZmllckxldmVscztcbmltcG9ydCBFbnZpcm9ubWVudGFsTW9kaWZpZXJDYXRlZ29yaWVzID0gU2hhZG93cnVuLkVudmlyb25tZW50YWxNb2RpZmllckNhdGVnb3JpZXM7XG5cbmV4cG9ydCBjbGFzcyBNb2RpZmllcnMge1xuICAgIGRhdGE6IFNpdHVhdGlvbk1vZGlmaWVycztcblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IFNpdHVhdGlvbk1vZGlmaWVycykge1xuICAgICAgICAvLyBGYWlsIGdyYWNlZnVsbHkgZm9yIG5vIG1vZGlmaWVycyBnaXZlbi5cbiAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGFzIEZvdW5kcnkgcmV0dXJucyBlbXB0eSBvYmplY3RzIGZvciBubyBmbGFncyBzZXQuXG4gICAgICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcgfHwgIShcImVudmlyb25tZW50YWxcIiBpbiBkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IE1vZGlmaWVycy5nZXREZWZhdWx0TW9kaWZpZXJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEdXBsaWNhdGUgZGF0YSB0byBhdm9pZCBjcm9zcyB0YWxrIGJldHdlZW4gZGlmZmVyZW50IGVudGl0aWVzIG92ZXIgZGlmZmVyZW50IE1vZGlmaWVyIGluc3RhbmNlcy5cbiAgICAgICAgdGhpcy5kYXRhID0gZHVwbGljYXRlKGRhdGEpO1xuICAgIH1cblxuICAgIGdldCBoYXNBY3RpdmVFbnZpcm9ubWVudGFsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5lbnZpcm9ubWVudGFsLmFjdGl2ZSkubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBnZXQgbW9kaWZpZXJzKCk6IFNpdHVhdGlvbk1vZGlmaWVycyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgc2V0IG1vZGlmaWVycyhtb2RpZmllcnM6IFNpdHVhdGlvbk1vZGlmaWVycykge1xuICAgICAgICB0aGlzLmRhdGEgPSBtb2RpZmllcnM7XG4gICAgfVxuXG4gICAgZ2V0IGVudmlyb25tZW50YWwoKTogRW52aXJvbm1lbnRhbE1vZGlmaWVycyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZW52aXJvbm1lbnRhbDtcbiAgICB9XG5cbiAgICBzZXQgZW52aXJvbm1lbnRhbChtb2RpZmllcnM6IEVudmlyb25tZW50YWxNb2RpZmllcnMpIHtcbiAgICAgICAgdGhpcy5kYXRhLmVudmlyb25tZW50YWwgPSBtb2RpZmllcnM7XG4gICAgfVxuXG4gICAgX21hdGNoaW5nQWN0aXZlRW52aXJvbm1lbnRhbChjYXRlZ29yeToga2V5b2YgRW52aXJvbm1lbnRhbE1vZGlmaWVyQ2F0ZWdvcmllcywgbGV2ZWw6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnZpcm9ubWVudGFsLmFjdGl2ZVtjYXRlZ29yeV0gPT09IGxldmVsO1xuICAgIH1cblxuICAgIF9zZXRFbnZpcm9ubWVudGFsQ2F0ZWdvcnlBY3RpdmUoY2F0ZWdvcnk6IGtleW9mIEVudmlyb25tZW50YWxNb2RpZmllckNhdGVnb3JpZXMsIGxldmVsOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudGFsLmFjdGl2ZVtjYXRlZ29yeV0gPSBsZXZlbDtcbiAgICB9XG5cbiAgICBfc2V0RW52aXJvbm1lbnRhbENhdGVnb3J5SW5hY3RpdmUoY2F0ZWdvcnk6IGtleW9mIEVudmlyb25tZW50YWxNb2RpZmllckNhdGVnb3JpZXMpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuZW52aXJvbm1lbnRhbC5hY3RpdmVbY2F0ZWdvcnldO1xuICAgIH1cblxuICAgIF9kaXNhYmxlRW52aXJvbm1lbnRhbE92ZXJ3cml0ZSgpIHtcbiAgICAgICAgdGhpcy5fc2V0RW52aXJvbm1lbnRhbENhdGVnb3J5SW5hY3RpdmUoJ3ZhbHVlJyk7XG4gICAgfVxuXG4gICAgLyoqIEFjdGlhdnRlIGEgZW52aXJvbm1lbnRhbCBtb2RpZmllciBjYXRlZ29yeSAod2luZCkgd2l0aCBhIHZhbHVlIGFuZCByZWNhbGN1bGF0ZSB0aGUgdG90YWwgbW9kaWZpZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYXRlZ29yeVxuICAgICAqIEBwYXJhbSBsZXZlbFxuICAgICAqL1xuICAgIGFjdGl2YXRlRW52aXJvbm1lbnRhbENhdGVnb3J5KGNhdGVnb3J5OiBrZXlvZiBFbnZpcm9ubWVudGFsTW9kaWZpZXJDYXRlZ29yaWVzLCBsZXZlbDogbnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fZW52aXJvbm1lbnRhbENhdGVnb3J5SXNPdmVyd3JpdGUoY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlRW52aXJvbm1lbnRhbE92ZXJ3cml0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RW52aXJvbm1lbnRhbENhdGVnb3J5QWN0aXZlKGNhdGVnb3J5LCBsZXZlbCk7XG4gICAgICAgIHRoaXMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgIH1cblxuICAgIHRvZ2dsZUVudmlyb25tZW50YWxDYXRlZ29yeShjYXRlZ29yeToga2V5b2YgRW52aXJvbm1lbnRhbE1vZGlmaWVyQ2F0ZWdvcmllcywgbGV2ZWw6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fbWF0Y2hpbmdBY3RpdmVFbnZpcm9ubWVudGFsKGNhdGVnb3J5LCBsZXZlbCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEVudmlyb25tZW50YWxDYXRlZ29yeUluYWN0aXZlKGNhdGVnb3J5KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9lbnZpcm9ubWVudGFsQ2F0ZWdvcnlJc092ZXJ3cml0ZShjYXRlZ29yeSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEVudmlyb25tZW50YWxPdmVyd3JpdGVBY3RpdmUobGV2ZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0RW52aXJvbm1lbnRhbENhdGVnb3J5QWN0aXZlKGNhdGVnb3J5LCBsZXZlbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgYSBsaW5nZXJpbmcgb3ZlcndyaXRlIGlmIGFueXRoaW5nIGlzIHNldCBhY3RpdmUuXG4gICAgICAgIGlmICghdGhpcy5fZW52aXJvbm1lbnRhbENhdGVnb3J5SXNPdmVyd3JpdGUoY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbnZpcm9ubWVudGFsT3ZlcndyaXRlSW5hY3RpdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgIH1cblxuICAgIGNhbGNFbnZpcm9ubWVudGFsVG90YWwoKSB7XG4gICAgICAgIC8vIE1hbnVhbCBzZWxlY3Rpb24gd2lsbCBvdmVyd3JpdGUgYWxsIGVsc2UuLi5cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlRW52aXJvbm1lbnRhbE92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgY29uc3QgbW9kaWZpZXIgPSB0aGlzLl9hY3RpdmVFbnZpcm9ubWVudGFsT3ZlcndyaXRlO1xuXG4gICAgICAgICAgICBpZiAobW9kaWZpZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFjdGl2ZSBvdmVyd3JpdGUgbW9kaWZpZXIgd2FzIHJldHVybmVkIGFzIHVuZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcmVzZXRFbnZpcm9ubWVudGFsKCk7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbnZpcm9ubWVudGFsT3ZlcndyaXRlQWN0aXZlKG1vZGlmaWVyKTtcbiAgICAgICAgICAgIHRoaXMuX3NldEVudmlyb25tZW50YWxUb3RhbChtb2RpZmllcik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0aW9uIGJhc2VkIG9uIGFjdGl2ZSBtb2RpZmllciBjYXRlZ29yaWVzLCBleGNsdWRpbmcgbWFudWFsIG92ZXJ3cml0ZS5cbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhdGVnb3JpZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLmVudmlyb25tZW50YWwuYWN0aXZlKS5maWx0ZXIoKFtjYXRlZ29yeSwgbGV2ZWxdKSA9PiBjYXRlZ29yeSAhPT0gJ3ZhbHVlJyk7XG4gICAgICAgICAgICAvLyBTaG91bGQgYW4gYWN0aXZlIGNhdGVnb3J5IG1pc3MgYSBsZXZlbCBzZXQsIGlnbm9yZSBhbmQgZmFpbCBncmFjZWZ1bGx5LlxuICAgICAgICAgICAgY29uc3QgYWN0aXZlTGV2ZWxzID0gYWN0aXZlQ2F0ZWdvcmllcy5tYXAoKFtjYXRlZ29yeSwgbGV2ZWxdKSA9PiBsZXZlbCA/IGxldmVsIDogMCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fY291bnRBY3RpdmVNb2RpZmllckxldmVscyhhY3RpdmVMZXZlbHMpO1xuXG4gICAgICAgICAgICBjb25zdCBtb2RpZmllcnMgPSBNb2RpZmllcnMuZ2V0RW52aXJvbm1lbnRhbE1vZGlmaWVyTGV2ZWxzKCk7XG5cbiAgICAgICAgICAgIGlmIChjb3VudC5leHRyZW1lID4gMCB8fCBjb3VudC5oZWF2eSA+PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0RW52aXJvbm1lbnRhbFRvdGFsKG1vZGlmaWVycy5leHRyZW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50LmhlYXZ5ID09PSAxIHx8IGNvdW50Lm1vZGVyYXRlID49IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFbnZpcm9ubWVudGFsVG90YWwobW9kaWZpZXJzLmhlYXZ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50Lm1vZGVyYXRlID09PSAxIHx8IGNvdW50LmxpZ2h0ID49IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFbnZpcm9ubWVudGFsVG90YWwobW9kaWZpZXJzLm1vZGVyYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50LmxpZ2h0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0RW52aXJvbm1lbnRhbFRvdGFsKG1vZGlmaWVycy5saWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldEVudmlyb25tZW50YWxUb3RhbChtb2RpZmllcnMuZ29vZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgY2xlYXJPbkVudGl0eShlbnRpdHk6IEVudGl0eSk6IFByb21pc2U8TW9kaWZpZXJzPiB7XG4gICAgICAgIGF3YWl0IGVudGl0eS51bnNldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLk1vZGlmaWVyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2RpZmllcnMoTW9kaWZpZXJzLmdldERlZmF1bHRNb2RpZmllcnMoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGNsZWFyRW52aXJvbm1lbnRhbE9uRW50aXR5KGVudGl0eTogRW50aXR5KTogUHJvbWlzZTxNb2RpZmllcnM+IHtcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gYXdhaXQgTW9kaWZpZXJzLmdldE1vZGlmaWVyc0Zyb21FbnRpdHkoZW50aXR5KTtcblxuICAgICAgICBtb2RpZmllcnMuZGF0YS5lbnZpcm9ubWVudGFsID0gTW9kaWZpZXJzLmdldERlZmF1bHRFbnZpcm9ubWVudGFsTW9kaWZpZXJzKCk7XG5cbiAgICAgICAgYXdhaXQgTW9kaWZpZXJzLnNldE1vZGlmaWVyc09uRW50aXR5KGVudGl0eSwgbW9kaWZpZXJzLmRhdGEpO1xuXG4gICAgICAgIHJldHVybiBtb2RpZmllcnM7XG4gICAgfVxuXG4gICAgX2Vudmlyb25tZW50YWxDYXRlZ29yeUlzT3ZlcndyaXRlKGNhdGVnb3J5OiBrZXlvZiBFbnZpcm9ubWVudGFsTW9kaWZpZXJDYXRlZ29yaWVzKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeSA9PT0gJ3ZhbHVlJztcbiAgICB9XG5cbiAgICBfcmVzZXRFbnZpcm9ubWVudGFsKCkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmVudmlyb25tZW50YWwuYWN0aXZlKS5mb3JFYWNoKGNhdGVnb3J5ID0+IGRlbGV0ZSB0aGlzLmVudmlyb25tZW50YWwuYWN0aXZlW2NhdGVnb3J5XSk7XG4gICAgfVxuXG4gICAgX3NldEVudmlyb25tZW50YWxPdmVyd3JpdGVBY3RpdmUodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9yZXNldEVudmlyb25tZW50YWwoKTtcbiAgICAgICAgdGhpcy5fc2V0RW52aXJvbm1lbnRhbENhdGVnb3J5QWN0aXZlKCd2YWx1ZScsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBfc2V0RW52aXJvbm1lbnRhbE92ZXJ3cml0ZUluYWN0aXZlKCkge1xuICAgICAgICB0aGlzLl9zZXRFbnZpcm9ubWVudGFsQ2F0ZWdvcnlJbmFjdGl2ZSgndmFsdWUnKTtcbiAgICB9XG5cbiAgICBfc2V0RW52aXJvbm1lbnRhbFRvdGFsKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudGFsLnRvdGFsID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IF9hY3RpdmVFbnZpcm9ubWVudGFsT3ZlcndyaXRlKCk6IG51bWJlcnx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUudmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhhc0FjdGl2ZUVudmlyb25tZW50YWxPdmVyd3JpdGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudmlyb25tZW50YWwuYWN0aXZlLnZhbHVlICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqIENvdW50IHRoZSBhbW91bnQgZWFjaCBsZXZlbCAobW9kaWZpZXIgdmFsdWUpIGFwcGVhcnMgaW4gdGhlIGFycmF5IG9mIG1vZGlmaWVyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlcyBBY3RpdmUgZW52aXJvbm1lbnRhbCBtb2RpZmllcnNcbiAgICAgKi9cbiAgICBfY291bnRBY3RpdmVNb2RpZmllckxldmVscyh2YWx1ZXM6IE51bWJlcltdKSB7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IE1vZGlmaWVycy5nZXRFbnZpcm9ubWVudGFsTW9kaWZpZXJMZXZlbHMoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGlnaHQ6IHZhbHVlcy5yZWR1Y2UoKGNvdW50OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpID0+ICh2YWx1ZSA9PT0gbW9kaWZpZXJzLmxpZ2h0ID8gY291bnQgKyAxIDogY291bnQpLCAwKSxcbiAgICAgICAgICAgIG1vZGVyYXRlOiB2YWx1ZXMucmVkdWNlKChjb3VudDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSA9PiAodmFsdWUgPT09IG1vZGlmaWVycy5tb2RlcmF0ZSA/IGNvdW50ICsgMSA6IGNvdW50KSwgMCksXG4gICAgICAgICAgICBoZWF2eTogdmFsdWVzLnJlZHVjZSgoY291bnQ6IG51bWJlciwgdmFsdWU6IG51bWJlcikgPT4gKHZhbHVlID09PSBtb2RpZmllcnMuaGVhdnkgPyBjb3VudCArIDEgOiBjb3VudCksIDApLFxuICAgICAgICAgICAgZXh0cmVtZTogdmFsdWVzLnJlZHVjZSgoY291bnQ6IG51bWJlciwgdmFsdWU6IG51bWJlcikgPT4gKHZhbHVlID09PSBtb2RpZmllcnMuZXh0cmVtZSA/IGNvdW50ICsgMSA6IGNvdW50KSwgMClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREZWZhdWx0RW52aXJvbm1lbnRhbE1vZGlmaWVycygpOiBFbnZpcm9ubWVudGFsTW9kaWZpZXJzICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgIGFjdGl2ZToge31cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREZWZhdWx0TW9kaWZpZXJzKCk6IFNpdHVhdGlvbk1vZGlmaWVycyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbnZpcm9ubWVudGFsOiBNb2RpZmllcnMuZ2V0RGVmYXVsdEVudmlyb25tZW50YWxNb2RpZmllcnMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEVudmlyb25tZW50YWxNb2RpZmllckxldmVscygpOiBFbnZpcm9ubWVudGFsTW9kaWZpZXJMZXZlbHMge1xuICAgICAgICByZXR1cm4gU1IuY29tYmF0LmVudmlyb25tZW50YWwubGV2ZWxzO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXRNb2RpZmllcnNGcm9tRW50aXR5KGVudGl0eTogRW50aXR5KTogUHJvbWlzZTxNb2RpZmllcnM+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGVudGl0eS5nZXRGbGFnKFNZU1RFTV9OQU1FLCBGTEFHUy5Nb2RpZmllcik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNb2RpZmllcnMoZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHNldE1vZGlmaWVyc09uRW50aXR5KGVudGl0eTogRW50aXR5LCBtb2RpZmllcnM6IFNpdHVhdGlvbk1vZGlmaWVycykge1xuICAgICAgICAvLyBUT0RPOiBBc2sgbGVhZ3VlIGFib3V0IHVuc2V0RmxhZyBiZWhhdm9pci4uLlxuICAgICAgICAvLyBOT1RFOiBDaGVjayBpZiBKU09OIHN0cmluZ2lmaWVyIHdvcmtzIG9yIG5vdC5cbiAgICAgICAgYXdhaXQgZW50aXR5LnVuc2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuTW9kaWZpZXIpO1xuICAgICAgICBhd2FpdCBlbnRpdHkuc2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuTW9kaWZpZXIsIG1vZGlmaWVycyk7XG4gICAgfVxufSIsImltcG9ydCB7IFNSNUl0ZW0gfSBmcm9tICcuL2l0ZW0vU1I1SXRlbSc7XG5cbmV4cG9ydCB0eXBlIFNoYWRvd3J1blRlbXBsYXRlRGF0YSA9IHtcbiAgICB0OiBzdHJpbmc7XG4gICAgdXNlcjogVXNlciB8IHN0cmluZztcbiAgICBkaXN0YW5jZTogbnVtYmVyO1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgZmlsbENvbG9yOiBzdHJpbmc7XG4gICAgZGlyZWN0aW9uOiBudW1iZXI7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAvLyBAdHMtaWdub3JlXG5jbGFzcyBUZW1wbGF0ZSBleHRlbmRzIE1lYXN1cmVkVGVtcGxhdGUge1xuICAgIGRhdGE6IFNoYWRvd3J1blRlbXBsYXRlRGF0YTtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIGl0ZW0/OiBTUjVJdGVtO1xuICAgIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkO1xuXG4gICAgc3RhdGljIGZyb21JdGVtKGl0ZW06IFNSNUl0ZW0sIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkKTogVGVtcGxhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVNoYXBlID0gJ2NpcmNsZSc7XG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge1xuICAgICAgICAgICAgdDogdGVtcGxhdGVTaGFwZSxcbiAgICAgICAgICAgIHVzZXI6IGdhbWUudXNlci5faWQsXG4gICAgICAgICAgICBkaXJlY3Rpb246IDAsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGZpbGxDb2xvcjogZ2FtZS51c2VyLmNvbG9yLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBibGFzdCA9IGl0ZW0uZ2V0Qmxhc3REYXRhKCk7XG4gICAgICAgIHRlbXBsYXRlRGF0YVsnZGlzdGFuY2UnXSA9IGJsYXN0Py5yYWRpdXM7XG4gICAgICAgIHRlbXBsYXRlRGF0YVsnZHJvcG9mZiddID0gYmxhc3Q/LmRyb3BvZmY7XG5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IG5ldyB0aGlzKHRlbXBsYXRlRGF0YSk7XG4gICAgICAgIHRlbXBsYXRlLml0ZW0gPSBpdGVtO1xuICAgICAgICB0ZW1wbGF0ZS5vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cblxuICAgIGRyYXdQcmV2aWV3KCkge1xuICAgICAgICBjb25zdCBpbml0aWFsTGF5ZXIgPSBjYW52YXMuYWN0aXZlTGF5ZXI7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5sYXllci5hY3RpdmF0ZSgpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMubGF5ZXIucHJldmlldy5hZGRDaGlsZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVByZXZpZXdMaXN0ZW5lcnMoaW5pdGlhbExheWVyKTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZVByZXZpZXdMaXN0ZW5lcnMoaW5pdGlhbExheWVyOiBDYW52YXNMYXllcikge1xuICAgICAgICBjb25zdCBoYW5kbGVycyA9IHt9O1xuICAgICAgICBsZXQgbW92ZVRpbWUgPSAwO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBwbGFjZW1lbnQgKG1vdXNlLW1vdmUpXG4gICAgICAgIGhhbmRsZXJzWydtbSddID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpOyAvLyBBcHBseSBhIDIwbXMgdGhyb3R0bGVcbiAgICAgICAgICAgIGlmIChub3cgLSBtb3ZlVGltZSA8PSAyMCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gZXZlbnQuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMubGF5ZXIpO1xuICAgICAgICAgICAgY29uc3Qgc25hcHBlZCA9IGNhbnZhcy5ncmlkLmdldFNuYXBwZWRQb3NpdGlvbihjZW50ZXIueCwgY2VudGVyLnksIDIpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnggPSBzbmFwcGVkLng7XG4gICAgICAgICAgICB0aGlzLmRhdGEueSA9IHNuYXBwZWQueTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgbW92ZVRpbWUgPSBub3c7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2FuY2VsIHRoZSB3b3JrZmxvdyAocmlnaHQtY2xpY2spXG4gICAgICAgIGhhbmRsZXJzWydyYyddID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sYXllci5wcmV2aWV3LnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgICAgICAgICBjYW52YXMuc3RhZ2Uub2ZmKCdtb3VzZW1vdmUnLCBoYW5kbGVyc1snbW0nXSk7XG4gICAgICAgICAgICBjYW52YXMuc3RhZ2Uub2ZmKCdtb3VzZWRvd24nLCBoYW5kbGVyc1snbGMnXSk7XG4gICAgICAgICAgICBjYW52YXMuYXBwLnZpZXcub25jb250ZXh0bWVudSA9IG51bGw7XG4gICAgICAgICAgICBjYW52YXMuYXBwLnZpZXcub253aGVlbCA9IG51bGw7XG4gICAgICAgICAgICBpbml0aWFsTGF5ZXIuYWN0aXZhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ29uZmlybSB0aGUgd29ya2Zsb3cgKGxlZnQtY2xpY2spXG4gICAgICAgIGhhbmRsZXJzWydsYyddID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyc1sncmMnXShldmVudCk7XG5cbiAgICAgICAgICAgIC8vIENvbmZpcm0gZmluYWwgc25hcHBlZCBwb3NpdGlvblxuICAgICAgICAgICAgY29uc3QgZGVzdGluYXRpb24gPSBjYW52YXMuZ3JpZC5nZXRTbmFwcGVkUG9zaXRpb24odGhpcy54LCB0aGlzLnksIDIpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnggPSBkZXN0aW5hdGlvbi54O1xuICAgICAgICAgICAgdGhpcy5kYXRhLnkgPSBkZXN0aW5hdGlvbi55O1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICBjYW52YXMuc2NlbmUuY3JlYXRlRW1iZWRkZWRFbnRpdHkoJ01lYXN1cmVkVGVtcGxhdGUnLCB0aGlzLmRhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJvdGF0ZSB0aGUgdGVtcGxhdGUgYnkgMyBkZWdyZWUgaW5jcmVtZW50cyAobW91c2Utd2hlZWwpXG4gICAgICAgIGhhbmRsZXJzWydtdyddID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSkgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gQXZvaWQgem9vbWluZyB0aGUgYnJvd3NlciB3aW5kb3dcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gY2FudmFzLmdyaWQudHlwZSA+IENPTlNULkdSSURfVFlQRVMuU1FVQVJFID8gMzAgOiAxNTtcbiAgICAgICAgICAgIGxldCBzbmFwID0gZXZlbnQuc2hpZnRLZXkgPyBkZWx0YSA6IDU7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZGlyZWN0aW9uICs9IHNuYXAgKiBNYXRoLnNpZ24oZXZlbnQuZGVsdGFZKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFjdGl2YXRlIGxpc3RlbmVyc1xuICAgICAgICBjYW52YXMuc3RhZ2Uub24oJ21vdXNlbW92ZScsIGhhbmRsZXJzWydtbSddKTtcbiAgICAgICAgY2FudmFzLnN0YWdlLm9uKCdtb3VzZWRvd24nLCBoYW5kbGVyc1snbGMnXSk7XG4gICAgICAgIGNhbnZhcy5hcHAudmlldy5vbmNvbnRleHRtZW51ID0gaGFuZGxlcnNbJ3JjJ107XG4gICAgICAgIGNhbnZhcy5hcHAudmlldy5vbndoZWVsID0gaGFuZGxlcnNbJ213J107XG4gICAgfVxufVxuIiwiaW1wb3J0IHtzaGFkb3dydW5SdWxlc01vZGlmaWVyc30gZnJvbSBcIi4vc3I1Lk1vZGlmaWVycy5zcGVjXCI7XG5cbmV4cG9ydCBjb25zdCBxdWVuY2hSZWdpc3RlciA9IHF1ZW5jaCA9PiB7XG4gICAgcXVlbmNoLnJlZ2lzdGVyQmF0Y2goXCJzaGFkb3dydW41ZS5ydWxlcy5tb2RpZmllcnNcIiwgc2hhZG93cnVuUnVsZXNNb2RpZmllcnMpO1xufTtcbiIsImltcG9ydCB7TW9kaWZpZXJzfSBmcm9tIFwiLi4vbW9kdWxlL3NyNS9Nb2RpZmllcnNcIjtcblxuXG5leHBvcnQgY29uc3Qgc2hhZG93cnVuUnVsZXNNb2RpZmllcnMgPSBjb250ZXh0ID0+IHtcbiAgICBjb25zdCB7ZGVzY3JpYmUsIGl0LCBhc3NlcnR9ID0gY29udGV4dDtcblxuXG4gICAgY29uc3QgZGVmYXVsdE1vZGlmaWVycyA9IHtcbiAgICAgICAgZW52aXJvbm1lbnRhbDoge1xuICAgICAgICAgICAgYWN0aXZlOiB7fSxcbiAgICAgICAgICAgIHRvdGFsOiAwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYWN0aXZlTW9kaWZpZXJzID0ge1xuICAgICAgICBlbnZpcm9ubWVudGFsOiB7XG4gICAgICAgICAgICBhY3RpdmU6IHtcbiAgICAgICAgICAgICAgICB3aW5kOiAtMSxcbiAgICAgICAgICAgICAgICBsaWdodDogLTFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3RhbDogLTNcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBkZXNjcmliZSgnU1I1IE1vZGlmaWVycycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCBjcmVhdGUgZGVmYXVsdCBtb2RpZmllciB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RpZmllcnMgPSBNb2RpZmllcnMuZ2V0RGVmYXVsdE1vZGlmaWVycygpO1xuXG4gICAgICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKG1vZGlmaWVycywgZGVmYXVsdE1vZGlmaWVycylcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ3Nob3VsZCB1c2UgZGVmYXVsdCBtb2RpZmllcnMgZm9yIGZhdWx0eSBjb25zdHJ1Y3RvciBwYXJhbXMnLCAoKSA9PiB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGFzc2VydC5kZWVwRXF1YWwobmV3IE1vZGlmaWVycyh7fSkuZGF0YSwgZGVmYXVsdE1vZGlmaWVycyk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGFzc2VydC5kZWVwRXF1YWwobmV3IE1vZGlmaWVycyh1bmRlZmluZWQpLmRhdGEsIGRlZmF1bHRNb2RpZmllcnMpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKG5ldyBNb2RpZmllcnMobnVsbCkuZGF0YSwgZGVmYXVsdE1vZGlmaWVycyk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGFzc2VydC5kZWVwRXF1YWwobmV3IE1vZGlmaWVycygwKS5kYXRhLCBkZWZhdWx0TW9kaWZpZXJzKTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbChuZXcgTW9kaWZpZXJzKDEpLmRhdGEsIGRlZmF1bHRNb2RpZmllcnMpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKG5ldyBNb2RpZmllcnMoKS5kYXRhLCBkZWZhdWx0TW9kaWZpZXJzKTtcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ3Nob3VsZCBzZXQgYW4gZW52aXJvbm1lbnRhbCBtb2RpZmllciBhY3RpdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RpZmllcnMgPSBuZXcgTW9kaWZpZXJzKGRlZmF1bHRNb2RpZmllcnMpO1xuICAgICAgICAgICAgbW9kaWZpZXJzLl9zZXRFbnZpcm9ubWVudGFsQ2F0ZWdvcnlBY3RpdmUoJ3dpbmQnLCAtMSk7XG5cbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZShtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUpLnRvLmVxbCh7d2luZDogLTF9KTtcbiAgICAgICAgfSlcbiAgICAgICAgaXQoJ3Nob3VsZCBzZXQgYW4gZW52aXJvbm1lbnRhbCBtb2RpZmllciBpbmFjdGl2ZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IG5ldyBNb2RpZmllcnMoe1xuICAgICAgICAgICAgICAgIGVudmlyb25tZW50YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpZ2h0OiAtM1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbW9kaWZpZXJzLl9zZXRFbnZpcm9ubWVudGFsQ2F0ZWdvcnlJbmFjdGl2ZSgnd2luZCcpO1xuXG4gICAgICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLmFjdGl2ZSwge2xpZ2h0OiAtM30pO1xuICAgICAgICB9KVxuICAgICAgICBpdCgnc2hvdWxkIHVuZGVyc3RhbmQgYWN0aXZlIGVudmlyb25tZW50YWwgbW9kaWZpZXJzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kaWZpZXJzQWN0aXZlID0gbmV3IE1vZGlmaWVycyh7XG4gICAgICAgICAgICAgICAgZW52aXJvbm1lbnRhbDoge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmQ6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IC0zXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwobW9kaWZpZXJzQWN0aXZlLmhhc0FjdGl2ZUVudmlyb25tZW50YWwsIHRydWUpO1xuICAgICAgICAgICAgY29uc3QgbW9kaWZpZXJzSW5hY3RpdmUgPSBuZXcgTW9kaWZpZXJzKHtcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudGFsOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZToge30sXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwobW9kaWZpZXJzSW5hY3RpdmUuaGFzQWN0aXZlRW52aXJvbm1lbnRhbCwgZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSB0aGUgdG90YWwgYWNjb3JkaW5nIHRvIHNyNSBydWxlcycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IG5ldyBNb2RpZmllcnMoZGVmYXVsdE1vZGlmaWVycyk7XG5cbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgMCk7XG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUud2luZCA9IC0xO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTEpO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLmxpZ2h0ID0gLTE7XG4gICAgICAgICAgICBtb2RpZmllcnMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAtMyk7XG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUucmFuZ2UgPSAtMTtcbiAgICAgICAgICAgIG1vZGlmaWVycy5jYWxjRW52aXJvbm1lbnRhbFRvdGFsKCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwobW9kaWZpZXJzLmVudmlyb25tZW50YWwudG90YWwsIC0zKTtcbiAgICAgICAgICAgIGRlbGV0ZSBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUubGlnaHQ7XG4gICAgICAgICAgICBtb2RpZmllcnMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAtMyk7XG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUubGlnaHQgPSAwO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTMpO1xuXG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUud2luZCA9IC0zO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTMpO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLmxpZ2h0ID0gLTM7XG4gICAgICAgICAgICBtb2RpZmllcnMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAtNik7XG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUucmFuZ2UgPSAtMztcbiAgICAgICAgICAgIG1vZGlmaWVycy5jYWxjRW52aXJvbm1lbnRhbFRvdGFsKCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwobW9kaWZpZXJzLmVudmlyb25tZW50YWwudG90YWwsIC02KTtcbiAgICAgICAgICAgIGRlbGV0ZSBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUubGlnaHQ7XG4gICAgICAgICAgICBtb2RpZmllcnMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAtNik7XG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUubGlnaHQgPSAwO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTYpO1xuXG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUud2luZCA9IC02O1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTYpO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLmxpZ2h0ID0gLTY7XG4gICAgICAgICAgICBtb2RpZmllcnMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAtMTApO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLnJhbmdlID0gLTY7XG4gICAgICAgICAgICBtb2RpZmllcnMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAtMTApO1xuICAgICAgICAgICAgZGVsZXRlIG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLmFjdGl2ZS5saWdodDtcbiAgICAgICAgICAgIG1vZGlmaWVycy5jYWxjRW52aXJvbm1lbnRhbFRvdGFsKCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwobW9kaWZpZXJzLmVudmlyb25tZW50YWwudG90YWwsIC0xMCk7XG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUubGlnaHQgPSAwO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTEwKTtcblxuICAgICAgICAgICAgbW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLnZhbHVlID0gMDtcbiAgICAgICAgICAgIG1vZGlmaWVycy5jYWxjRW52aXJvbm1lbnRhbFRvdGFsKCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwobW9kaWZpZXJzLmVudmlyb25tZW50YWwudG90YWwsIDApO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLnZhbHVlID0gLTE7XG4gICAgICAgICAgICBtb2RpZmllcnMuY2FsY0Vudmlyb25tZW50YWxUb3RhbCgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAtMSk7XG4gICAgICAgICAgICBtb2RpZmllcnMuZW52aXJvbm1lbnRhbC5hY3RpdmUudmFsdWUgPSAtMztcbiAgICAgICAgICAgIG1vZGlmaWVycy5jYWxjRW52aXJvbm1lbnRhbFRvdGFsKCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwobW9kaWZpZXJzLmVudmlyb25tZW50YWwudG90YWwsIC0zKTtcbiAgICAgICAgICAgIG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLmFjdGl2ZS52YWx1ZSA9IC02O1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTYpO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLnZhbHVlID0gLTEwO1xuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChtb2RpZmllcnMuZW52aXJvbm1lbnRhbC50b3RhbCwgLTEwKTtcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnc2hvdWxkIHJlc2V0IGFjdGl2ZSBlbnZpcm9ubWVudGFsIG1vZGlmaWVycycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IG5ldyBNb2RpZmllcnMoYWN0aXZlTW9kaWZpZXJzKTtcbiAgICAgICAgICAgIG1vZGlmaWVycy5fcmVzZXRFbnZpcm9ubWVudGFsKCk7XG5cbiAgICAgICAgICAgIGFzc2VydC5kZWVwRXF1YWwobW9kaWZpZXJzLmVudmlyb25tZW50YWwuYWN0aXZlLCB7fSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgdG90YWwgZm9yIGZhdWx0eSBhY3RpdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RpZmllcnMgPSBuZXcgTW9kaWZpZXJzKHtcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudGFsOiB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpZ2h0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbW9kaWZpZXJzLmNhbGNFbnZpcm9ubWVudGFsVG90YWwoKTtcblxuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKG1vZGlmaWVycy5lbnZpcm9ubWVudGFsLnRvdGFsLCAwKTtcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG4iXX0="}