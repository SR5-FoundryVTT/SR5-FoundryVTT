{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/@babel/runtime/helpers/get.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/superPropBase.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/regenerator/index.js","node_modules/regenerator-runtime/runtime.js","src/module/actor/SR5Actor.ts","src/module/actor/SR5ActorSheet.ts","src/module/actor/prep/ActorPrepFactory.ts","src/module/actor/prep/BaseActorPrep.ts","src/module/actor/prep/CharacterPrep.ts","src/module/actor/prep/SpiritPrep.ts","src/module/actor/prep/SpritePrep.ts","src/module/actor/prep/VehiclePrep.ts","src/module/actor/prep/functions/AttributesPrep.ts","src/module/actor/prep/functions/ConditionMonitorsPrep.ts","src/module/actor/prep/functions/InitiativePrep.ts","src/module/actor/prep/functions/ItemPrep.ts","src/module/actor/prep/functions/LimitsPrep.ts","src/module/actor/prep/functions/MatrixPrep.ts","src/module/actor/prep/functions/ModifiersPrep.ts","src/module/actor/prep/functions/MovementPrep.ts","src/module/actor/prep/functions/NPCPrep.ts","src/module/actor/prep/functions/SkillsPrep.ts","src/module/actor/prep/functions/WoundsPrep.ts","src/module/apps/chummer-import-form.js","src/module/apps/dialogs/ShadowrunItemDialog.ts","src/module/apps/gmtools/OverwatchScoreTracker.js","src/module/apps/skills/KnowledgeSkillEditForm.ts","src/module/apps/skills/LanguageSkillEditForm.ts","src/module/apps/skills/SkillEditForm.ts","src/module/canvas.ts","src/module/chat.ts","src/module/combat.ts","src/module/config.ts","src/module/constants.ts","src/module/dataTemplates.ts","src/module/dataWrappers/DataWrapper.ts","src/module/handlebars/BasicHelpers.ts","src/module/handlebars/HandlebarManager.ts","src/module/handlebars/HandlebarTemplates.ts","src/module/handlebars/ItemLineHelpers.ts","src/module/handlebars/RollAndLabelHelpers.ts","src/module/handlebars/SkillLineHelpers.ts","src/module/helpers.ts","src/module/hooks.ts","src/module/item/ChatData.ts","src/module/item/SR5Item.ts","src/module/item/SR5ItemDataWrapper.ts","src/module/item/SR5ItemSheet.ts","src/module/macros.ts","src/module/main.ts","src/module/migrator/Migrator.ts","src/module/migrator/VersionMigration.ts","src/module/migrator/versions/LegacyMigration.ts","src/module/migrator/versions/Version0_6_10.ts","src/module/migrator/versions/Version0_6_5.ts","src/module/migrator/versions/Version0_7_2.ts","src/module/parts/PartsList.ts","src/module/rolls/ShadowrunRoller.ts","src/module/settings.ts","src/module/template.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5uBA,8DAA2D;AAC3D,wCAAqC;AAarC,4CAAk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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import { ShadowrunRoller } from '../rolls/ShadowrunRoller';\nimport { Helpers } from '../helpers';\nimport { SR5Item } from '../item/SR5Item';\nimport ActorRollOptions = Shadowrun.ActorRollOptions;\nimport DefenseRollOptions = Shadowrun.DefenseRollOptions;\nimport SoakRollOptions = Shadowrun.SoakRollOptions;\nimport AttributeField = Shadowrun.AttributeField;\nimport SkillRollOptions = Shadowrun.SkillRollOptions;\nimport SkillField = Shadowrun.SkillField;\nimport ModList = Shadowrun.ModList;\nimport BaseValuePair = Shadowrun.BaseValuePair;\nimport ModifiableValue = Shadowrun.ModifiableValue;\nimport LabelField = Shadowrun.LabelField;\nimport LimitField = Shadowrun.LimitField;\nimport { SYSTEM_NAME, FLAGS } from '../constants';\nimport SR5ActorType = Shadowrun.SR5ActorType;\nimport { PartsList } from '../parts/PartsList';\nimport { ActorPrepFactory } from './prep/ActorPrepFactory';\nimport DamageData = Shadowrun.DamageData;\nimport DamageElement = Shadowrun.DamageElement;\nimport EdgeAttributeField = Shadowrun.EdgeAttributeField;\nimport VehicleActorData = Shadowrun.VehicleActorData;\nimport VehicleStat = Shadowrun.VehicleStat;\nimport RemovableSkills = Shadowrun.RemovableSkills;\n\nexport class SR5Actor extends Actor {\n    async update(data, options?) {\n        await super.update(data, options);\n        // trigger update for all items with action\n        // needed for rolls to properly update when items or attributes update\n        const itemUpdates: Item[] = [];\n        // @ts-ignore\n        for (let item of this.data.items) {\n            if (item && item.data.action) {\n                itemUpdates.push(item);\n            }\n        }\n        await this.updateEmbeddedEntity('OwnedItem', itemUpdates);\n        return this;\n    }\n\n    getOverwatchScore() {\n        const os = this.getFlag(SYSTEM_NAME, 'overwatchScore');\n        return os !== undefined ? os : 0;\n    }\n\n    async setOverwatchScore(value) {\n        const num = parseInt(value);\n        if (!isNaN(num)) {\n            return this.setFlag(SYSTEM_NAME, 'overwatchScore', num);\n        }\n    }\n\n    prepareData() {\n        super.prepareData();\n\n        const actorData = this.data as SR5ActorType;\n        const prepper = ActorPrepFactory.Create(actorData);\n        if (prepper) {\n            prepper.prepare();\n        }\n    }\n\n    getModifier(modifierName: string): number | undefined {\n        return this.data.data.modifiers[modifierName];\n    }\n\n    findActiveSkill(skillName?: string): SkillField | undefined {\n        if (skillName === undefined) return undefined;\n        return this.data.data.skills.active[skillName];\n    }\n\n    findAttribute(attributeName?: string): AttributeField | undefined {\n        if (attributeName === undefined) return undefined;\n        return this.data.data.attributes[attributeName];\n    }\n\n    findVehicleStat(statName?: string): VehicleStat | undefined {\n        if (statName === undefined) return undefined;\n        return this.data.data.vehicle_stats[statName];\n    }\n\n    findLimitFromAttribute(attributeName?: string): LimitField | undefined {\n        if (attributeName === undefined) return undefined;\n        const attribute = this.findAttribute(attributeName);\n        if (!attribute?.limit) return undefined;\n        return this.findLimit(attribute.limit);\n    }\n\n    findLimit(limitName?: string): LimitField | undefined {\n        if (!limitName) return undefined;\n        return this.data.data.limits[limitName];\n    }\n\n    getWoundModifier(): number {\n        return -1 * this.data.data.wounds?.value || 0;\n    }\n\n    getEdge(): EdgeAttributeField {\n        return this.data.data.attributes.edge;\n    }\n\n    getArmor(): BaseValuePair<number> & ModifiableValue & LabelField {\n        return this.data.data.armor;\n    }\n\n    getOwnedSR5Item(itemId: string): SR5Item | null {\n        return (super.getOwnedItem(itemId) as unknown) as SR5Item;\n    }\n\n    getMatrixDevice(): SR5Item | undefined | null {\n        const matrix = this.data.data.matrix;\n        if (matrix.device) return this.getOwnedSR5Item(matrix.device);\n        return undefined;\n    }\n\n    getFullDefenseAttribute(): AttributeField | undefined {\n        if (this.isVehicle()) {\n            return this.findVehicleStat('pilot');\n        } else {\n            let att = this.data.data.full_defense_attribute;\n            if (!att) att = 'willpower';\n            return this.findAttribute(att);\n        }\n    }\n\n    getEquippedWeapons(): SR5Item[] {\n        return this.items.filter((item) => item.isEquipped() && item.data.type === 'weapon');\n    }\n\n    getRecoilCompensation(): number {\n        let total = 1; // always get 1\n        const strength = this.findAttribute('strength');\n        if (strength) {\n            total += Math.ceil(strength.value / 3);\n        }\n        return total;\n    }\n\n    getDeviceRating(): number {\n        return this.data.data.matrix.rating;\n    }\n\n    isVehicle() {\n        return this.data.type === 'vehicle';\n    }\n\n    isGrunt() {\n        return this.data.data.is_npc && this.data.data.npc.is_grunt;\n    }\n\n    getVehicleTypeSkill(): SkillField | undefined {\n        let skill: SkillField | undefined;\n        switch (this.data.data.vehicleType) {\n            case 'air':\n                skill = this.findActiveSkill('pilot_aircraft');\n                break;\n            case 'ground':\n                skill = this.findActiveSkill('pilot_ground_craft');\n                break;\n            case 'water':\n                skill = this.findActiveSkill('pilot_water_craft');\n                break;\n            case 'aerospace':\n                skill = this.findActiveSkill('pilot_aerospace');\n                break;\n            case 'walker':\n                skill = this.findActiveSkill('pilot_walker');\n                break;\n            case 'exotic':\n                skill = this.findActiveSkill('pilot_exotic_vehicle');\n                break;\n            default:\n                break;\n        }\n        return skill;\n    }\n\n    getSkill(skillId: string): SkillField|undefined {\n        const {skills} = this.data.data;\n        if (skills.active.hasOwnProperty(skillId)) {\n            return skills.active[skillId];\n        }\n        if (skills.language.value.hasOwnProperty(skillId)) {\n            return skills.language.value[skillId];\n        }\n        if (skills.knowledge.value.hasOwnProperty(skillId)) {\n            return skills.knowledge.value[skillId];\n        }\n    }\n\n    getSkillLabel(skillId: string): string {\n        const skill = this.getSkill(skillId);\n        if (!skill) {\n            return '';\n        }\n\n        return skill.label ? skill.label : skill.name ? skill.name : '';\n    }\n\n    addKnowledgeSkill(category, skill?) {\n        const defaultSkill = {\n            name: '',\n            specs: [],\n            base: 0,\n            value: 0,\n            mod: 0,\n        };\n        skill = {\n            ...defaultSkill,\n            ...skill,\n        };\n\n        const id = randomID(16);\n        const value = {};\n        value[id] = skill;\n        const fieldName = `data.skills.knowledge.${category}.value`;\n        const updateData = {};\n        updateData[fieldName] = value;\n        this.update(updateData);\n    }\n\n    removeLanguageSkill(skillId) {\n        const value = {};\n        value[skillId] = { _delete: true };\n        this.update({ 'data.skills.language.value': value });\n    }\n\n    addLanguageSkill(skill) {\n        const defaultSkill = {\n            name: '',\n            specs: [],\n            base: 0,\n            value: 0,\n            mod: 0,\n        };\n        skill = {\n            ...defaultSkill,\n            ...skill,\n        };\n\n        const id = randomID(16);\n        const value = {};\n        value[id] = skill;\n        const fieldName = `data.skills.language.value`;\n        const updateData = {};\n        updateData[fieldName] = value;\n        this.update(updateData);\n    }\n\n    removeKnowledgeSkill(skillId, category) {\n        const value = {};\n        const updateData = {};\n\n        const dataString = `data.skills.knowledge.${category}.value`;\n        value[skillId] = { _delete: true };\n        updateData[dataString] = value;\n\n        this.update(updateData);\n    }\n\n    rollFade(options: ActorRollOptions = {}, incoming = -1) {\n        const wil = duplicate(this.data.data.attributes.willpower);\n        const res = duplicate(this.data.data.attributes.resonance);\n        const data = this.data.data;\n\n        const parts = new PartsList<number>();\n        parts.addUniquePart(wil.label, wil.value);\n        parts.addUniquePart(res.label, res.value);\n        if (data.modifiers.fade) parts.addUniquePart('SR5.Bonus', data.modifiers.fade);\n\n        let title = `${game.i18n.localize('SR5.Resist')} ${game.i18n.localize('SR5.Fade')}`;\n        const incomingDrain = {\n            label: 'SR5.Fade',\n            value: incoming,\n        };\n        return ShadowrunRoller.advancedRoll({\n            event: options.event,\n            parts: parts.list,\n            actor: this,\n            title: title,\n            wounds: false,\n            incomingDrain,\n        });\n    }\n\n    rollDrain(options: ActorRollOptions = {}, incoming = -1) {\n        const wil = duplicate(this.data.data.attributes.willpower);\n        const drainAtt = duplicate(this.data.data.attributes[this.data.data.magic.attribute]);\n\n        const parts = new PartsList<number>();\n        parts.addPart(wil.label, wil.value);\n        parts.addPart(drainAtt.label, drainAtt.value);\n        if (this.data.data.modifiers.drain) parts.addUniquePart('SR5.Bonus', this.data.data.modifiers.drain);\n\n        let title = `${game.i18n.localize('SR5.Resist')} ${game.i18n.localize('SR5.Drain')}`;\n        const incomingDrain = {\n            label: 'SR5.Drain',\n            value: incoming,\n        };\n        return ShadowrunRoller.advancedRoll({\n            event: options.event,\n            parts: parts.list,\n            actor: this,\n            title: title,\n            wounds: false,\n            incomingDrain,\n        });\n    }\n\n    rollArmor(options: ActorRollOptions = {}, partsProps: ModList<number> = []) {\n        const parts = new PartsList(partsProps);\n        this._addArmorParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options.event,\n            actor: this,\n            parts: parts.list,\n            title: game.i18n.localize('SR5.Armor'),\n            wounds: false,\n        });\n    }\n\n    rollDefense(options: DefenseRollOptions = {}, partsProps: ModList<number> = []) {\n        const parts = new PartsList(partsProps);\n        this._addDefenseParts(parts);\n        // full defense is always added\n        const activeDefenses = {\n            full_defense: {\n                label: 'SR5.FullDefense',\n                value: this.getFullDefenseAttribute()?.value,\n                initMod: -10,\n            },\n        };\n        // if we have a melee attack\n        if (options.incomingAttack?.reach) {\n            activeDefenses['dodge'] = {\n                label: 'SR5.Dodge',\n                value: this.findActiveSkill('gymnastics')?.value,\n                initMod: -5,\n            };\n            activeDefenses['block'] = {\n                label: 'SR5.Block',\n                value: this.findActiveSkill('unarmed_combat')?.value,\n                initMod: -5,\n            };\n            const equippedMeleeWeapons = this.getEquippedWeapons().filter((w) => w.isMeleeWeapon());\n            let defenseReach = 0;\n            equippedMeleeWeapons.forEach((weapon) => {\n                activeDefenses[`parry-${weapon.name}`] = {\n                    label: 'SR5.Parry',\n                    weapon: weapon.name,\n                    value: this.findActiveSkill(weapon.getActionSkill())?.value,\n                    init: -5,\n                };\n                defenseReach = Math.max(defenseReach, weapon.getReach());\n            });\n            const incomingReach = options.incomingAttack.reach;\n            const netReach = defenseReach - incomingReach;\n            if (netReach !== 0) {\n                parts.addUniquePart('SR5.Reach', netReach);\n            }\n        }\n        let dialogData = {\n            parts: parts.getMessageOutput(),\n            cover: options.cover,\n            activeDefenses,\n        };\n        let template = 'systems/shadowrun5e/dist/templates/rolls/roll-defense.html';\n        let cancel = true;\n        const incomingAttack = options.incomingAttack;\n        const event = options.event;\n        return new Promise((resolve) => {\n            renderTemplate(template, dialogData).then((dlg) => {\n                new Dialog({\n                    title: game.i18n.localize('SR5.Defense'),\n                    content: dlg,\n                    buttons: {\n                        continue: {\n                            label: game.i18n.localize('SR5.Continue'),\n                            callback: () => (cancel = false),\n                        },\n                    },\n                    default: 'normal',\n                    close: async (html) => {\n                        if (cancel) return;\n                        let cover = Helpers.parseInputToNumber($(html).find('[name=cover]').val());\n                        let special = Helpers.parseInputToString($(html).find('[name=activeDefense]').val());\n                        if (special) {\n                            // TODO subtract initiative score when Foundry updates to 0.7.0\n                            const defense = activeDefenses[special];\n                            parts.addUniquePart(defense.label, defense.value);\n                        }\n                        if (cover) parts.addUniquePart('SR5.Cover', cover);\n\n                        resolve(\n                            ShadowrunRoller.advancedRoll({\n                                event: event,\n                                actor: this,\n                                parts: parts.list,\n                                title: game.i18n.localize('SR5.DefenseTest'),\n                                incomingAttack,\n                            }).then(async (roll: Roll | undefined) => {\n                                if (incomingAttack && roll) {\n                                    let defenderHits = roll.total;\n                                    let attackerHits = incomingAttack.hits || 0;\n                                    let netHits = attackerHits - defenderHits;\n\n                                    if (netHits >= 0) {\n                                        const damage = incomingAttack.damage;\n                                        damage.mod = PartsList.AddUniquePart(damage.mod, 'SR5.NetHits', netHits);\n                                        damage.value = Helpers.calcTotal(damage);\n\n                                        const soakRollOptions = {\n                                            event: event,\n                                            damage: damage,\n                                        };\n                                        await this.rollSoak(soakRollOptions);\n                                    }\n                                }\n                            }),\n                        );\n                    },\n                }).render(true);\n            });\n        });\n    }\n\n    rollSoak(options?: SoakRollOptions, partsProps: ModList<number> = []) {\n        const parts = new PartsList(partsProps);\n        this._addSoakParts(parts);\n        let dialogData = {\n            damage: options?.damage,\n            parts: parts.getMessageOutput(),\n            elementTypes: CONFIG.SR5.elementTypes,\n        };\n        let id = '';\n        let cancel = true;\n        let template = 'systems/shadowrun5e/dist/templates/rolls/roll-soak.html';\n        return new Promise((resolve) => {\n            renderTemplate(template, dialogData).then((dlg) => {\n                new Dialog({\n                    title: game.i18n.localize('SR5.DamageResistanceTest'),\n                    content: dlg,\n                    buttons: {\n                        continue: {\n                            label: game.i18n.localize('SR5.Continue'),\n                            callback: () => {\n                                id = 'default';\n                                cancel = false;\n                            },\n                        },\n                    },\n                    close: async (html) => {\n                        if (cancel) return;\n\n                        const soak: DamageData = options?.damage\n                            ? options.damage\n                            : {\n                                  base: 0,\n                                  value: 0,\n                                  mod: [],\n                                  ap: {\n                                      base: 0,\n                                      value: 0,\n                                      mod: [],\n                                  },\n                                  attribute: '' as const,\n                                  type: {\n                                      base: '',\n                                      value: '',\n                                  },\n                                  element: {\n                                      base: '',\n                                      value: '',\n                                  },\n                              };\n\n                        const armor = this.getArmor();\n\n                        // handle element changes\n                        const element = Helpers.parseInputToString($(html).find('[name=element]').val());\n                        if (element) {\n                            soak.element.value = element as DamageElement;\n                        }\n                        const bonusArmor = armor[element] ?? 0;\n                        if (bonusArmor) {\n                            parts.addUniquePart(CONFIG.SR5.elementTypes[element], bonusArmor);\n                        }\n\n                        // handle ap changes\n                        const ap = Helpers.parseInputToNumber($(html).find('[name=ap]').val());\n                        if (ap) {\n                            let armorVal = armor.value + bonusArmor;\n\n                            // don't take more AP than armor\n                            parts.addUniquePart('SR5.AP', Math.max(ap, -armorVal));\n                        }\n\n                        // handle incoming damage changes\n                        const incomingDamage = Helpers.parseInputToNumber($(html).find('[name=incomingDamage]').val());\n                        if (incomingDamage) {\n                            const totalDamage = Helpers.calcTotal(soak);\n                            if (totalDamage !== incomingDamage) {\n                                const diff = incomingDamage - totalDamage;\n                                // add part and calc total again\n                                soak.mod = PartsList.AddUniquePart(soak.mod, 'SR5.UserInput', diff);\n                                soak.value = Helpers.calcTotal(soak);\n                            }\n\n                            const totalAp = Helpers.calcTotal(soak.ap);\n                            if (totalAp !== ap) {\n                                const diff = ap - totalAp;\n                                // add part and calc total\n                                soak.ap.mod = PartsList.AddUniquePart(soak.ap.mod, 'SR5.UserInput', diff);\n                                soak.ap.value = Helpers.calcTotal(soak.ap);\n                            }\n                        }\n\n                        let title = game.i18n.localize('SR5.SoakTest');\n                        resolve(\n                            ShadowrunRoller.advancedRoll({\n                                event: options?.event,\n                                actor: this,\n                                soak: soak,\n                                parts: parts.list,\n                                title: title,\n                                wounds: false,\n                            }),\n                        );\n                    },\n                }).render(true);\n            });\n        });\n    }\n\n    rollSingleAttribute(attId, options: ActorRollOptions) {\n        const attr = duplicate(this.data.data.attributes[attId]);\n        const parts = new PartsList<number>();\n        parts.addUniquePart(attr.label, attr.value);\n        this._addMatrixParts(parts, attr);\n        this._addGlobalParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            actor: this,\n            parts: parts.list,\n            title: Helpers.label(attId),\n        });\n    }\n\n    rollTwoAttributes([id1, id2], options: ActorRollOptions) {\n        const attr1 = duplicate(this.data.data.attributes[id1]);\n        const attr2 = duplicate(this.data.data.attributes[id2]);\n        const label1 = Helpers.label(id1);\n        const label2 = Helpers.label(id2);\n        const parts = new PartsList<number>();\n        parts.addPart(attr1.label, attr1.value);\n        parts.addPart(attr2.label, attr2.value);\n        this._addMatrixParts(parts, [attr1, attr2]);\n        this._addGlobalParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            actor: this,\n            parts: parts.list,\n            title: `${label1} + ${label2}`,\n        });\n    }\n\n    rollNaturalRecovery(track, options?: ActorRollOptions) {\n        let id1 = 'body';\n        let id2 = 'willpower';\n        let title = 'Natural Recover';\n        if (track === 'physical') {\n            id2 = 'body';\n            title += ' - Physical - 1 Day';\n        } else {\n            title += ' - Stun - 1 Hour';\n        }\n        let att1 = duplicate(this.data.data.attributes[id1]);\n        let att2 = duplicate(this.data.data.attributes[id2]);\n        const parts = new PartsList<number>();\n        parts.addPart(att1.label, att1.value);\n        parts.addPart(att2.label, att2.value);\n\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            actor: this,\n            parts: parts.list,\n            title: title,\n            extended: true,\n            after: async (roll: Roll | undefined) => {\n                if (!roll) return;\n                let hits = roll.total;\n                let current = this.data.data.track[track].value;\n\n                current = Math.max(current - hits, 0);\n\n                let key = `data.track.${track}.value`;\n\n                let u = {};\n                u[key] = current;\n                await this.update(u);\n            },\n        });\n    }\n\n    async rollMatrixAttribute(attr, options?: ActorRollOptions) {\n        let matrix_att = duplicate(this.data.data.matrix[attr]);\n        let title = game.i18n.localize(CONFIG.SR5.matrixAttributes[attr]);\n        const parts = new PartsList<number>();\n        parts.addPart(CONFIG.SR5.matrixAttributes[attr], matrix_att.value);\n\n        if (options && options.event && options.event[CONFIG.SR5.kbmod.SPEC]) parts.addUniquePart('SR5.Specialization', 2);\n        if (Helpers.hasModifiers(options?.event)) {\n            return ShadowrunRoller.advancedRoll({\n                event: options?.event,\n                actor: this,\n                parts: parts.list,\n                title: title,\n            });\n        }\n        const attributes = Helpers.filter(this.data.data.attributes, ([, value]) => value.value > 0);\n        const attribute = 'willpower';\n\n        let dialogData = {\n            attribute: attribute,\n            attributes: attributes,\n        };\n        const buttons = {\n            roll: {\n                label: 'Continue',\n                callback: () => (cancel = false),\n            },\n        };\n\n        let cancel = true;\n        renderTemplate('systems/shadowrun5e/dist/templates/rolls/matrix-roll.html', dialogData).then((dlg) => {\n            new Dialog({\n                title: `${title} Test`,\n                content: dlg,\n                buttons: buttons,\n                close: async (html) => {\n                    if (cancel) return;\n                    const newAtt = Helpers.parseInputToString($(html).find('[name=attribute]').val());\n                    let att: AttributeField | undefined = undefined;\n                    if (newAtt) {\n                        att = this.data.data.attributes[newAtt];\n                        title += ` + ${game.i18n.localize(CONFIG.SR5.attributes[newAtt])}`;\n                    }\n                    if (att !== undefined) {\n                        if (att.value && att.label) parts.addPart(att.label, att.value);\n                        this._addMatrixParts(parts, true);\n                        this._addGlobalParts(parts);\n                        return ShadowrunRoller.advancedRoll({\n                            event: options?.event,\n                            actor: this,\n                            parts: parts.list,\n                            title: title,\n                        });\n                    }\n                },\n            }).render(true);\n        });\n    }\n\n    promptRoll(options?: ActorRollOptions) {\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            title: 'Roll',\n            parts: [],\n            actor: this,\n            dialogOptions: {\n                prompt: true,\n            },\n        });\n    }\n\n    rollDeviceRating(options?: ActorRollOptions) {\n        const title = game.i18n.localize('SR5.Labels.ActorSheet.DeviceRating');\n        const parts = new PartsList<number>();\n        const rating = this.getDeviceRating();\n        // add device rating twice as this is the most common roll\n        parts.addPart(title, rating);\n        parts.addPart(title, rating);\n        this._addGlobalParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            title,\n            parts: parts.list,\n            actor: this,\n        });\n    }\n\n    rollAttributesTest(rollId, options?: ActorRollOptions) {\n        const title = game.i18n.localize(CONFIG.SR5.attributeRolls[rollId]);\n        const atts = this.data.data.attributes;\n        const modifiers = this.data.data.modifiers;\n        const parts = new PartsList<number>();\n        if (rollId === 'composure') {\n            parts.addUniquePart(atts.charisma.label, atts.charisma.value);\n            parts.addUniquePart(atts.willpower.label, atts.willpower.value);\n            if (modifiers.composure) parts.addUniquePart('SR5.Bonus', modifiers.composure);\n        } else if (rollId === 'judge_intentions') {\n            parts.addUniquePart(atts.charisma.label, atts.charisma.value);\n            parts.addUniquePart(atts.intuition.label, atts.intuition.value);\n            if (modifiers.judge_intentions) parts.addUniquePart('SR5.Bonus', modifiers.judge_intentions);\n        } else if (rollId === 'lift_carry') {\n            parts.addUniquePart(atts.strength.label, atts.strength.value);\n            parts.addUniquePart(atts.body.label, atts.body.value);\n            if (modifiers.lift_carry) parts.addUniquePart('SR5.Bonus', modifiers.lift_carry);\n        } else if (rollId === 'memory') {\n            parts.addUniquePart(atts.willpower.label, atts.willpower.value);\n            parts.addUniquePart(atts.logic.label, atts.logic.value);\n            if (modifiers.memory) parts.addUniquePart('SR5.Bonus', modifiers.memory);\n        }\n\n        this._addGlobalParts(parts);\n        return ShadowrunRoller.advancedRoll({\n            event: options?.event,\n            actor: this,\n            parts: parts.list,\n            title: `${title} Test`,\n        });\n    }\n\n    rollSkill(skill: SkillField, options?: SkillRollOptions) {\n        let att = duplicate(this.data.data.attributes[skill.attribute]);\n        let title = game.i18n.localize(skill.label);\n\n        if (options?.attribute) att = this.data.data.attributes[options.attribute];\n        let limit = this.data.data.limits[att.limit];\n        const parts = new PartsList<number>();\n        parts.addUniquePart(skill.label, skill.value);\n\n        if (options?.event && Helpers.hasModifiers(options?.event)) {\n            parts.addUniquePart(att.label, att.value);\n            if (options.event[CONFIG.SR5.kbmod.SPEC]) parts.addUniquePart('SR5.Specialization', 2);\n\n            this._addMatrixParts(parts, [att, skill]);\n            this._addGlobalParts(parts);\n            return ShadowrunRoller.advancedRoll({\n                event: options.event,\n                actor: this,\n                parts: parts.list,\n                limit,\n                title: `${title} Test`,\n            });\n        }\n        let dialogData = {\n            attribute: skill.attribute,\n            attributes: Helpers.filter(this.data.data.attributes, ([, value]) => value.value > 0),\n            limit: att.limit,\n            limits: this.data.data.limits,\n        };\n        let cancel = true;\n        let spec = '';\n\n        let buttons = {\n            roll: {\n                label: 'Normal',\n                callback: () => (cancel = false),\n            },\n        };\n        // add specializations to dialog as buttons\n        if (skill.specs?.length) {\n            skill.specs.forEach(\n                (s) =>\n                    (buttons[s] = {\n                        label: s,\n                        callback: () => {\n                            cancel = false;\n                            spec = s;\n                        },\n                    }),\n            );\n        }\n        renderTemplate('systems/shadowrun5e/dist/templates/rolls/skill-roll.html', dialogData).then((dlg) => {\n            new Dialog({\n                title: `${title} Test`,\n                content: dlg,\n                buttons,\n                close: async (html) => {\n                    if (cancel) return;\n                    const newAtt = Helpers.parseInputToString($(html).find('[name=\"attribute\"]').val());\n                    const newLimit = Helpers.parseInputToString($(html).find('[name=\"attribute.limit\"]').val());\n                    att = this.data.data.attributes[newAtt];\n                    title += ` + ${game.i18n.localize(CONFIG.SR5.attributes[newAtt])}`;\n                    limit = this.data.data.limits[newLimit];\n                    parts.addUniquePart(att.label, att.value);\n                    if (skill.value === 0) parts.addUniquePart('SR5.Defaulting', -1);\n                    if (spec) parts.addUniquePart('SR5.Specialization', 2);\n                    this._addMatrixParts(parts, [att, skill]);\n                    this._addGlobalParts(parts);\n                    return ShadowrunRoller.advancedRoll({\n                        event: options?.event,\n                        actor: this,\n                        parts: parts.list,\n                        limit,\n                        title: `${title} Test`,\n                    });\n                },\n            }).render(true);\n        });\n    }\n\n    rollDronePerception(options?: ActorRollOptions) {\n        if (!this.isVehicle()) {\n            return undefined;\n        }\n        const actorData = duplicate(this.data.data) as VehicleActorData;\n        if (actorData.controlMode === 'autopilot') {\n            const parts = new PartsList<number>();\n\n            const pilot = Helpers.calcTotal(actorData.vehicle_stats.pilot);\n            // TODO possibly look for autosoft item level?\n            const perception = this.findActiveSkill('perception');\n            const limit = this.findLimit('sensor');\n\n            if (perception && limit) {\n                parts.addPart('SR5.Vehicle.Clearsight', Helpers.calcTotal(perception));\n                parts.addPart('SR5.Vehicle.Stats.Pilot', pilot);\n\n                this._addGlobalParts(parts);\n\n                return ShadowrunRoller.advancedRoll({\n                    event: options?.event,\n                    actor: this,\n                    parts: parts.list,\n                    limit,\n                    title: game.i18n.localize('SR5.Labels.ActorSheet.RollDronePerception'),\n                });\n            }\n        } else {\n            this.rollActiveSkill('perception', options);\n        }\n    }\n\n    rollPilotVehicle(options?: ActorRollOptions) {\n        if (!this.isVehicle()) {\n            return undefined;\n        }\n        const actorData = duplicate(this.data.data) as VehicleActorData;\n        if (actorData.controlMode === 'autopilot') {\n            const parts = new PartsList<number>();\n\n            const pilot = Helpers.calcTotal(actorData.vehicle_stats.pilot);\n            let skill: SkillField | undefined = this.getVehicleTypeSkill();\n            const environment = actorData.environment;\n            const limit = this.findLimit(environment);\n\n            if (skill && limit) {\n                parts.addPart('SR5.Vehicle.Stats.Pilot', pilot);\n                // TODO possibly look for autosoft item level?\n                parts.addPart('SR5.Vehicle.Maneuvering', Helpers.calcTotal(skill));\n\n                this._addGlobalParts(parts);\n\n                return ShadowrunRoller.advancedRoll({\n                    event: options?.event,\n                    actor: this,\n                    parts: parts.list,\n                    limit,\n                    title: game.i18n.localize('SR5.Labels.ActorSheet.RollPilotVehicleTest'),\n                });\n            }\n        } else {\n            this.rollActiveSkill('perception', options);\n        }\n    }\n\n    rollDroneInfiltration(options?: ActorRollOptions) {\n        if (!this.isVehicle()) {\n            return undefined;\n        }\n        const actorData = duplicate(this.data.data) as VehicleActorData;\n        if (actorData.controlMode === 'autopilot') {\n            const parts = new PartsList<number>();\n\n            const pilot = Helpers.calcTotal(actorData.vehicle_stats.pilot);\n            // TODO possibly look for autosoft item level?\n            const sneaking = this.findActiveSkill('sneaking');\n            const limit = this.findLimit('sensor');\n\n            if (sneaking && limit) {\n                parts.addPart('SR5.Vehicle.Stealth', Helpers.calcTotal(sneaking));\n                parts.addPart('SR5.Vehicle.Stats.Pilot', pilot);\n\n                this._addGlobalParts(parts);\n\n                return ShadowrunRoller.advancedRoll({\n                    event: options?.event,\n                    actor: this,\n                    parts: parts.list,\n                    limit,\n                    title: game.i18n.localize('SR5.Labels.ActorSheet.RollDroneInfiltration'),\n                });\n            }\n        } else {\n            this.rollActiveSkill('sneaking', options);\n        }\n    }\n\n    rollKnowledgeSkill(catId: string, skillId: string, options?: SkillRollOptions) {\n        const category = duplicate(this.data.data.skills.knowledge[catId]);\n        const skill = duplicate(category.value[skillId]);\n        skill.attribute = category.attribute;\n        skill.label = skill.name;\n        return this.rollSkill(skill, options);\n    }\n\n    rollLanguageSkill(skillId: string, options?: SkillRollOptions) {\n        const skill = duplicate(this.data.data.skills.language.value[skillId]);\n        skill.attribute = 'intuition';\n        skill.label = skill.name;\n        return this.rollSkill(skill, options);\n    }\n\n    rollActiveSkill(skillId: string, options?: SkillRollOptions) {\n        const skill = duplicate(this.data.data.skills.active[skillId]);\n        return this.rollSkill(skill, options);\n    }\n\n    rollAttribute(attId, options?: ActorRollOptions) {\n        let title = game.i18n.localize(CONFIG.SR5.attributes[attId]);\n        const att = duplicate(this.data.data.attributes[attId]);\n        const atts = duplicate(this.data.data.attributes);\n        const parts = new PartsList<number>();\n        parts.addUniquePart(att.label, att.value);\n        let dialogData = {\n            attribute: att,\n            attributes: atts,\n        };\n        let cancel = true;\n        renderTemplate('systems/shadowrun5e/dist/templates/rolls/single-attribute.html', dialogData).then((dlg) => {\n            new Dialog({\n                title: `${title} Attribute Test`,\n                content: dlg,\n                buttons: {\n                    roll: {\n                        label: 'Continue',\n                        callback: () => (cancel = false),\n                    },\n                },\n                default: 'roll',\n                close: async (html) => {\n                    if (cancel) return;\n\n                    const att2Id: string = Helpers.parseInputToString($(html).find('[name=attribute2]').val());\n                    let att2: AttributeField | undefined = undefined;\n                    if (att2Id !== 'none') {\n                        att2 = atts[att2Id];\n                        if (att2?.label) {\n                            parts.addUniquePart(att2.label, att2.value);\n                            const att2IdLabel = game.i18n.localize(CONFIG.SR5.attributes[att2Id]);\n                            title += ` + ${att2IdLabel}`;\n                        }\n                    }\n                    if (att2Id === 'default') {\n                        parts.addUniquePart('SR5.Defaulting', -1);\n                    }\n                    this._addMatrixParts(parts, [att, att2]);\n                    this._addGlobalParts(parts);\n                    return ShadowrunRoller.advancedRoll({\n                        event: options?.event,\n                        title: `${title} Test`,\n                        actor: this,\n                        parts: parts.list,\n                    });\n                },\n            }).render(true);\n        });\n    }\n\n    _addMatrixParts(parts: PartsList<number>, atts) {\n        if (Helpers.isMatrix(atts)) {\n            const m = this.data.data.matrix;\n            if (m.hot_sim) parts.addUniquePart('SR5.HotSim', 2);\n            if (m.running_silent) parts.addUniquePart('SR5.RunningSilent', -2);\n        }\n    }\n    _addGlobalParts(parts: PartsList<number>) {\n        if (this.data.data.modifiers.global) {\n            parts.addUniquePart('SR5.Global', this.data.data.modifiers.global);\n        }\n    }\n\n    _addDefenseParts(parts: PartsList<number>) {\n        if (this.isVehicle()) {\n            const pilot = this.findVehicleStat('pilot');\n            if (pilot) {\n                parts.addUniquePart(pilot.label, Helpers.calcTotal(pilot));\n            }\n            const skill = this.getVehicleTypeSkill();\n            if (skill) {\n                parts.addUniquePart('SR5.Vehicle.Maneuvering', Helpers.calcTotal(skill));\n            }\n        } else {\n            const reaction = this.findAttribute('reaction');\n            const intuition = this.findAttribute('intuition');\n\n            if (reaction) {\n                parts.addUniquePart(reaction.label || 'SR5.Reaction', reaction.value);\n            }\n            if (intuition) {\n                parts.addUniquePart(intuition.label || 'SR5.Intuition', intuition.value);\n            }\n        }\n\n        const mod = this.getModifier('defense');\n        if (mod) {\n            parts.addUniquePart('SR5.Bonus', mod);\n        }\n    }\n\n    _addArmorParts(parts: PartsList<number>) {\n        const armor = this.getArmor();\n        if (armor) {\n            parts.addUniquePart(armor.label || 'SR5.Armor', armor.base);\n            for (let part of armor.mod) {\n                parts.addUniquePart(part.name, part.value);\n            }\n        }\n    }\n\n    _addSoakParts(parts: PartsList<number>) {\n        const body = this.findAttribute('body');\n        if (body) {\n            parts.addUniquePart(body.label || 'SR5.Body', body.value);\n        }\n        const mod = this.getModifier('soak');\n        if (mod) {\n            parts.addUniquePart(\"SR5.Bonus\", mod);\n        }\n        this._addArmorParts(parts);\n    }\n\n    static async pushTheLimit(li) {\n        let msg: ChatMessage = game.messages.get(li.data().messageId);\n\n        if (msg.getFlag(SYSTEM_NAME, FLAGS.MessageCustomRoll)) {\n            let actor = (msg.user.character as unknown) as SR5Actor;\n            if (!actor) {\n                // get controlled tokens\n                const tokens = canvas.tokens.controlled;\n                if (tokens.length > 0) {\n                    for (let token of tokens) {\n                        if (token.actor.owner) {\n                            actor = token.actor;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (actor) {\n                const parts = new PartsList<number>();\n                parts.addUniquePart('SR5.PushTheLimit', actor.getEdge().value);\n                ShadowrunRoller.basicRoll({\n                    title: ` - ${game.i18n.localize('SR5.PushTheLimit')}`,\n                    parts: parts.list,\n                    actor: actor,\n                }).then(() => {\n                    actor.update({\n                        'data.attributes.edge.uses': actor.getEdge().uses - 1,\n                    });\n                });\n            } else {\n                // @ts-ignore\n                ui.notifications.warn(game.i18n.localize('SR5.SelectTokenMessage'));\n            }\n        }\n    }\n\n    static async secondChance(li) {\n        let msg: ChatMessage = game.messages.get(li.data().messageId);\n        // @ts-ignore\n        let roll: Roll = JSON.parse(msg.data?.roll);\n        let formula = roll.formula;\n        let hits = roll.total;\n        let re = /(\\d+)d6/;\n        let matches = formula.match(re);\n        if (matches && matches[1]) {\n            let match = matches[1];\n            let pool = parseInt(match.replace('d6', ''));\n            if (!isNaN(pool) && !isNaN(hits)) {\n                let actor = (msg.user.character as unknown) as SR5Actor;\n                if (!actor) {\n                    // get controlled tokens\n                    const tokens = canvas.tokens.controlled;\n                    if (tokens.length > 0) {\n                        for (let token of tokens) {\n                            if (token.actor.owner) {\n                                actor = token.actor;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (actor) {\n                    const parts = new PartsList<number>();\n                    parts.addUniquePart('SR5.OriginalDicePool', pool);\n                    parts.addUniquePart('SR5.Successes', -hits);\n\n                    return ShadowrunRoller.basicRoll({\n                        title: ` - Second Chance`,\n                        parts: parts.list,\n                        actor: actor,\n                    }).then(() => {\n                        actor.update({\n                            'data.attributes.edge.uses': actor.getEdge().uses - 1,\n                        });\n                    });\n                } else {\n                    // @ts-ignore\n                    ui.notifications.warn(game.i18n.localize('SR5.SelectTokenMessage'));\n                }\n            }\n        }\n    }\n\n    /**\n     * Override setFlag to remove the 'SR5.' from keys in modlists, otherwise it handles them as embedded keys\n     * @param scope\n     * @param key\n     * @param value\n     */\n    setFlag(scope: string, key: string, value: any): Promise<this> {\n        const newValue = Helpers.onSetFlag(value);\n        return super.setFlag(scope, key, newValue);\n    }\n\n    /**\n     * Override getFlag to add back the 'SR5.' keys correctly to be handled\n     * @param scope\n     * @param key\n     */\n    getFlag(scope: string, key: string): any {\n        const data = super.getFlag(scope, key);\n        return Helpers.onGetFlag(data);\n    }\n}\n","import { Helpers } from '../helpers';\nimport { ChummerImportForm } from '../apps/chummer-import-form';\nimport { SkillEditForm } from '../apps/skills/SkillEditForm';\nimport { KnowledgeSkillEditForm } from '../apps/skills/KnowledgeSkillEditForm';\nimport { LanguageSkillEditForm } from '../apps/skills/LanguageSkillEditForm';\nimport SR5ActorSheetData = Shadowrun.SR5ActorSheetData;\nimport SR5SheetFilters = Shadowrun.SR5SheetFilters;\nimport Skills = Shadowrun.Skills;\nimport { SR5Actor } from './SR5Actor';\nimport MatrixAttribute = Shadowrun.MatrixAttribute;\nimport {SR5} from \"../config\";\nimport SkillField = Shadowrun.SkillField;\n\n// Use SR5ActorSheet._showSkillEditForm to only ever render one SkillEditForm instance.\n// Should multiple instances be open, Foundry will cause cross talk between skills and actors,\n// when opened in succession, causing SkillEditForm to wrongfully overwrite the wrong data.\nlet globalSkillAppId: number = -1;\n\n/**\n * Extend the basic ActorSheet with some very simple modifications\n */\nexport class SR5ActorSheet extends ActorSheet {\n    _shownDesc: string[];\n    _filters: SR5SheetFilters;\n    actor: SR5Actor;\n    _scroll: string;\n\n    constructor(...args) {\n        super(...args);\n\n        /**\n         * Keep track of the currently active sheet tab\n         * @type {string}\n         */\n        this._shownDesc = [];\n        this._filters = {\n            skills: '',\n            showUntrainedSkills: true\n        };\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Extend and override the default options used by the 5e Actor Sheet\n     * @returns {Object}\n     */\n    static get defaultOptions() {\n        return mergeObject(super.defaultOptions, {\n            classes: ['sr5', 'sheet', 'actor'],\n            width: 880,\n            height: 690,\n            tabs: [\n                {\n                    navSelector: '.tabs',\n                    contentSelector: '.sheetbody',\n                    initial: 'skills',\n                },\n            ],\n        });\n    }\n\n    get template() {\n        const path = 'systems/shadowrun5e/dist/templates/actor/';\n        return `${path}${this.actor.data.type}.html`;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Prepare data for rendering the Actor sheet\n     * The prepared data object contains both the actor data as well as additional sheet options\n     */\n    getData() {\n        const data: SR5ActorSheetData = (super.getData() as unknown) as SR5ActorSheetData;\n\n        // General purpose fields...\n        data.config = CONFIG.SR5;\n        data.filters = this._filters;\n\n        this._prepareMatrixAttributes(data);\n        this._prepareActorAttributes(data);\n\n        this._prepareItems(data);\n        this._prepareSkillsWithFilters(data);\n        this._prepareActorTypeFields(data);\n        this._prepareCharacterFields(data);\n\n        return data;\n    }\n\n    _isSkillMagic(id, skill) {\n        return skill.attribute === 'magic' || id === 'astral_combat' || id === 'assensing';\n    }\n\n    _isSkillResonance(skill) {\n        return skill.attribute === 'resonance'\n    }\n\n    _getSkillLabelOrName(skill) {\n        // Custom skills don't have labels, use their name instead.\n        return skill.label ? game.i18n.localize(skill.label) : skill.name;\n    }\n\n    _doesSkillContainText(key, skill, text) {\n        if (!text) {\n            return true;\n        }\n\n        // Search both english keys, localized labels and all specializations.\n        const name = this._getSkillLabelOrName(skill);\n        const searchKey = skill.name === undefined ? key : '';\n        let searchString = `${searchKey} ${name} ${skill?.specs?.join(' ')}`;\n\n        return searchString.toLowerCase().search(text.toLowerCase()) > -1;\n    }\n\n    _prepareCharacterFields(data: SR5ActorSheetData) {\n        // Empty zero value modifiers for display purposes.\n        const { modifiers: mods } = data.data;\n        for (let [key, value] of Object.entries(mods)) {\n            if (value === 0) mods[key] = '';\n        }\n\n        data.awakened = data.data.special === 'magic';\n        data.emerged = data.data.special === 'resonance';\n        data.woundTolerance = 3 + (Number(mods['wound_tolerance']) || 0);\n    }\n\n    _prepareActorTypeFields(data: SR5ActorSheetData) {\n        data.isCharacter = this.actor.data.type === 'character';\n        data.isSpirit = this.actor.data.type === 'spirit';\n    }\n\n    _prepareMatrixAttributes(data) {\n        const { matrix } = data.data;\n        if (matrix) {\n            const cleanupAttribute = (attribute: MatrixAttribute) => {\n                const att = matrix[attribute];\n                if (att) {\n                    if (!att.mod) att.mod = {};\n                    if (att.temp === 0) delete att.temp;\n                }\n            };\n\n            ['firewall', 'data_processing', 'sleaze', 'attack'].forEach((att: MatrixAttribute) => cleanupAttribute(att));\n        }\n    }\n\n    _prepareActorAttributes(data: SR5ActorSheetData) {\n        // Clear visible, zero value attributes temporary modifiers so they appear blank.\n        const attrs = data.data.attributes;\n        for (let [, att] of Object.entries(attrs)) {\n            if (!att.hidden) {\n                if (att.temp === 0) delete att.temp;\n            }\n        }\n    }\n\n    _prepareSkillsWithFilters(data: SR5ActorSheetData) {\n        this._filterActiveSkills(data);\n        this._filterKnowledgeSkills(data);\n        this._filterLanguageSkills(data);\n    }\n\n    _filterActiveSkills(data: SR5ActorSheetData) {\n        // Handle active skills directly, as it doesn't use sub-categories.\n        data.data.skills.active = this._filterSkills(data, data.data.skills.active);\n    }\n\n    _filterKnowledgeSkills(data: SR5ActorSheetData) {\n        // Knowledge skill have separate sub-categories.\n        Object.keys(SR5.knowledgeSkillCategories).forEach(category => {\n            if (!data.data.skills.knowledge.hasOwnProperty(category)) {\n                console.warn(`Knowledge Skill doesn't provide configured category ${category}`);\n                return;\n            }\n            data.data.skills.knowledge[category].value = this._filterSkills(data, data.data.skills.knowledge[category].value);\n        });\n    }\n\n    _filterLanguageSkills(data: SR5ActorSheetData) {\n        // Language Skills have no sub-categories.\n        data.data.skills.language.value = this._filterSkills(data, data.data.skills.language.value);\n    }\n\n    _filterSkills(data: SR5ActorSheetData, skills: Skills) {\n        const filteredSkills = {};\n        for (let [key, skill] of Object.entries(skills)) {\n            if (this._showSkill(key, skill, data)) {\n                filteredSkills[key] = skill;\n            }\n        }\n        Helpers.orderKeys(filteredSkills);\n        return filteredSkills\n    }\n\n    _showSkill(key, skill, data) {\n        if (this._showMagicSkills(key, skill, data)) {\n            return true;\n        }\n        if (this._showResonanceSkills(key, skill, data)) {\n            return true;\n        }\n\n        return this._showGeneralSkill(key, skill);\n    }\n\n    _isSkillFiltered(skillId, skill) {\n        // a newly created skill should be filtered, no matter what.\n        const isFilterable = this._getSkillLabelOrName(skill).length > 0;\n        const isHiddenForText = !this._doesSkillContainText(skillId, skill, this._filters.skills);\n        const isHiddenForUntrained = !this._filters.showUntrainedSkills && skill.value === 0;\n\n        return !(isFilterable && (isHiddenForUntrained || isHiddenForText))\n    }\n\n    _showGeneralSkill(skillId, skill: SkillField) {\n        return !this._isSkillMagic(skillId, skill) &&\n               !this._isSkillResonance(skill) &&\n               this._isSkillFiltered(skillId, skill);\n    }\n\n    _showMagicSkills(skillId, skill: SkillField, data: SR5ActorSheetData) {\n        return this._isSkillMagic(skillId, skill) &&\n              data.data.special === 'magic' &&\n              this._isSkillFiltered(skillId, skill);\n    }\n\n    _showResonanceSkills(skillId, skill: SkillField, data: SR5ActorSheetData) {\n        return this._isSkillResonance(skill) &&\n               data.data.special === 'resonance' &&\n               this._isSkillFiltered(skillId, skill);\n    }\n\n    _prepareItems(data) {\n        const inventory = {};\n        inventory['weapon'] = {\n            label: game.i18n.localize('SR5.Weapon'),\n            items: [],\n            dataset: {\n                type: 'weapon',\n            },\n        };\n        if (this.actor.data.type === 'character') {\n            inventory['armor'] = {\n                label: game.i18n.localize('SR5.Armor'),\n                items: [],\n                dataset: {\n                    type: 'armor',\n                },\n            };\n            inventory['device'] = {\n                label: game.i18n.localize('SR5.Device'),\n                items: [],\n                dataset: {\n                    type: 'device',\n                },\n            };\n            inventory['equipment'] = {\n                label: game.i18n.localize('SR5.Equipment'),\n                items: [],\n                dataset: {\n                    type: 'equipment',\n                },\n            };\n            inventory['cyberware'] = {\n                label: game.i18n.localize('SR5.Cyberware'),\n                items: [],\n                dataset: {\n                    type: 'cyberware',\n                },\n            };\n        }\n\n        let [\n            items,\n            spells,\n            qualities,\n            adept_powers,\n            actions,\n            complex_forms,\n            lifestyles,\n            contacts,\n            sins,\n            programs,\n            critter_powers,\n            sprite_powers,\n        ] = data.items.reduce(\n            (arr, item) => {\n                item.isStack = item.data.quantity ? item.data.quantity > 1 : false;\n                if (item.type === 'spell') arr[1].push(item);\n                else if (item.type === 'quality') arr[2].push(item);\n                else if (item.type === 'adept_power') arr[3].push(item);\n                else if (item.type === 'action') arr[4].push(item);\n                else if (item.type === 'complex_form') arr[5].push(item);\n                else if (item.type === 'lifestyle') arr[6].push(item);\n                else if (item.type === 'contact') arr[7].push(item);\n                else if (item.type === 'sin') arr[8].push(item);\n                else if (item.type === 'program') arr[9].push(item);\n                else if (item.type === 'critter_power') arr[10].push(item);\n                else if (item.type === 'sprite_power') arr[11].push(item);\n                else if (Object.keys(inventory).includes(item.type)) arr[0].push(item);\n                return arr;\n            },\n            [[], [], [], [], [], [], [], [], [], [], [], []],\n        );\n\n        const sortByName = (i1, i2) => {\n            if (i1.name > i2.name) return 1;\n            if (i1.name < i2.name) return -1;\n            return 0;\n        };\n        const sortByEquipped = (left, right) => {\n            const leftEquipped = left.data?.technology?.equipped;\n            const rightEquipped = right.data?.technology?.equipped;\n            if (leftEquipped && !rightEquipped) return -1;\n            if (rightEquipped && !leftEquipped) return 1;\n            if (left.name > right.name) return 1;\n            if (left.name < right.name) return -1;\n            return 0;\n        };\n        actions.sort(sortByName);\n        adept_powers.sort(sortByName);\n        complex_forms.sort(sortByName);\n        items.sort(sortByEquipped);\n        spells.sort(sortByName);\n        contacts.sort(sortByName);\n        lifestyles.sort(sortByName);\n        sins.sort(sortByName);\n        programs.sort(sortByEquipped);\n        critter_powers.sort(sortByName);\n        sprite_powers.sort(sortByName);\n\n        items.forEach((item) => {\n            inventory[item.type].items.push(item);\n        });\n\n        data.inventory = Object.values(inventory);\n        data.magic = {\n            spellbook: spells,\n            powers: adept_powers,\n        };\n        data.actions = actions;\n        data.complex_forms = complex_forms;\n        data.lifestyles = lifestyles;\n        data.contacts = contacts;\n        data.sins = sins;\n        data.programs = programs;\n        data.critter_powers = critter_powers;\n        data.sprite_powers = sprite_powers;\n\n        qualities.sort((a, b) => {\n            if (a.data.type === 'positive' && b.data.type === 'negative') return -1;\n            if (a.data.type === 'negative' && b.data.type === 'positive') return 1;\n            return a.name < b.name ? -1 : 1;\n        });\n        data.qualities = qualities;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Activate event listeners using the prepared sheet HTML\n     * @param html The prepared HTML object ready to be rendered into the DOM\n     */\n    activateListeners(html) {\n        super.activateListeners(html);\n\n        html.find('.hidden').hide();\n\n        html.find('.has-desc').click((event) => {\n            event.preventDefault();\n            const item = $(event.currentTarget).parents('.list-item');\n            const iid = $(item).data().item;\n            const field = item.next();\n            field.toggle();\n            if (iid) {\n                if (field.is(':visible')) this._shownDesc.push(iid);\n                else this._shownDesc = this._shownDesc.filter((val) => val !== iid);\n            }\n        });\n\n        html.find('.skill-header').click(this._onFilterUntrainedSkills.bind(this));\n\n        html.find('.cell-input-roll').click(this._onRollCellInput.bind(this));\n        html.find('.attribute-roll').click(this._onRollAttribute.bind(this));\n        html.find('.skill-roll').click(this._onRollActiveSkill.bind(this));\n\n        html.find('#filter-skills').on('input', this._onFilterSkills.bind(this));\n\n        html.find('.skill-edit').click(this._onShowEditSkill.bind(this));\n        html.find('.knowledge-skill-edit').click(this._onShowEditKnowledgeSkill.bind(this));\n        html.find('.language-skill-edit').click(this._onShowEditLanguageSkill.bind(this));\n        html.find('.add-knowledge').click(this._onAddKnowledgeSkill.bind(this));\n        html.find('.add-language').click(this._onAddLanguageSkill.bind(this));\n        html.find('.remove-knowledge').click(this._onRemoveKnowledgeSkill.bind(this));\n        html.find('.remove-language').click(this._onRemoveLanguageSkill.bind(this));\n        html.find('.knowledge-skill').click(this._onRollKnowledgeSkill.bind(this));\n        html.find('.language-skill').click(this._onRollLanguageSkill.bind(this));\n\n        html.find('.item-roll').click(this._onRollItem.bind(this));\n        html.find('.item-equip-toggle').click(this._onEquipItem.bind(this));\n        html.find('.item-qty').change(this._onChangeQty.bind(this));\n        html.find('.item-rtg').change(this._onChangeRtg.bind(this));\n        html.find('.item-create').click(this._onItemCreate.bind(this));\n        html.find('.reload-ammo').click(this._onReloadAmmo.bind(this));\n        html.find('.matrix-att-selector').change(this._onMatrixAttributeSelected.bind(this));\n\n        html.find('.import-character').click(this._onShowImportCharacter.bind(this));\n\n\n\n        /**\n         * Open the PDF for an item on the actor\n         */\n        $(html)\n            .find('.open-source-pdf')\n            .on('click', async (event) => {\n                event.preventDefault();\n                const field = $(event.currentTarget).parents('.list-item');\n                const iid = $(field).data().itemId;\n                const item = this.actor.getOwnedSR5Item(iid);\n                if (item) {\n                    await item.openPdfSource();\n                }\n            });\n\n        $(html).find('.horizontal-cell-input .cell').on('click', this._onSetCellInput.bind(this));\n        $(html).find('.horizontal-cell-input .cell').on('contextmenu', this._onClearCellInput.bind(this));\n\n        /**\n         * New API to use for rolling from the actor sheet\n         * the clickable label needs the css class Roll\n         * a parent of the label needs to have the css class RollId, and then have data-roll-id set\n         */\n        $(html).find('.Roll').on('click', this._onRollFromSheet.bind(this));\n\n        // updates matrix condition monitor on the device the actor has equippe\n        $(html)\n            .find('[name=\"data.matrix.condition_monitor.value\"]')\n            .on('change', async (event: any) => {\n                event.preventDefault();\n                const value = Helpers.parseInputToNumber(event.currentTarget.value);\n                const matrixDevice = this.actor.getMatrixDevice();\n                if (matrixDevice && !isNaN(value)) {\n                    const updateData = {};\n                    updateData['data.technology.condition_monitor.value'] = value;\n                    await matrixDevice.update(updateData);\n                }\n            });\n\n        // Update Inventory Item\n        html.find('.item-edit').click((event) => {\n            event.preventDefault();\n            const iid = Helpers.listItemId(event);\n            const item = this.actor.getOwnedSR5Item(iid);\n            if (item) item.sheet.render(true);\n        });\n        // Delete Inventory Item\n        html.find('.item-delete').click((event) => {\n            event.preventDefault();\n            const iid = Helpers.listItemId(event);\n            const el = $(event.currentTarget).parents('.list-item');\n            this.actor.deleteOwnedItem(iid);\n            el.slideUp(200, () => this.render(false));\n        });\n        // Drag inventory item\n        let handler = (ev) => this._onDragItemStart(ev);\n        html.find('.list-item').each((i, item) => {\n            if (item.dataset && item.dataset.itemId) {\n                item.setAttribute('draggable', true);\n                item.addEventListener('dragstart', handler, false);\n            }\n        });\n    }\n\n    async _onRollFromSheet(event) {\n        event.preventDefault();\n        // look for roll id data in the current line\n        let rollId = $(event.currentTarget).data()?.rollId;\n        // if that doesn't exist, look for a prent with RollId name\n        rollId = rollId ?? $(event.currentTarget).parent('.RollId').data().rollId;\n\n        const split = rollId.split('.');\n        const options = { event };\n        switch (split[0]) {\n            case 'prompt-roll':\n                this.actor.promptRoll(options);\n                break;\n            case 'armor':\n                this.actor.rollArmor(options);\n                break;\n            case 'fade':\n                this.actor.rollFade(options);\n                break;\n            case 'drain':\n                this.actor.rollDrain(options);\n                break;\n            case 'defense':\n                this.actor.rollDefense(options);\n                break;\n            case 'damage-resist':\n                this.actor.rollSoak(options);\n                break;\n\n            // attribute only rolls\n            case 'composure':\n                this.actor.rollAttributesTest('composure');\n                break;\n            case 'judge-intentions':\n                this.actor.rollAttributesTest('judge_intentions');\n                break;\n            case 'lift-carry':\n                this.actor.rollAttributesTest('lift_carry');\n                break;\n            case 'memory':\n                this.actor.rollAttributesTest('memory');\n                break;\n\n            case 'vehicle-stat':\n                console.log('roll vehicle stat', rollId);\n                break;\n\n            case 'drone':\n                const prop = split[1]; // we expect another for \"drone\" category\n                switch (prop) {\n                    case 'perception':\n                        this.actor.rollDronePerception(options);\n                        break;\n                    case 'infiltration':\n                        this.actor.rollDroneInfiltration(options);\n                        break;\n                    case 'pilot-vehicle':\n                        this.actor.rollPilotVehicle(options);\n                        break;\n                }\n                break;\n            // end drone\n\n            case 'attribute':\n                const attribute = split[1];\n                if (attribute) {\n                    this.actor.rollAttribute(attribute, options);\n                }\n                break;\n            // end attribute\n\n            case 'skill':\n                const skillType = split[1];\n                switch (skillType) {\n                    case 'active': {\n                        const skillId = split[2];\n                        this.actor.rollActiveSkill(skillId, options);\n                        break;\n                    }\n                    case 'language': {\n                        const skillId = split[2];\n                        this.actor.rollLanguageSkill(skillId, options);\n                        break;\n                    }\n                    case 'knowledge': {\n                        const category = split[2];\n                        const skillId = split[3];\n                        this.actor.rollKnowledgeSkill(category, skillId, options);\n                        break;\n                    }\n                }\n                break;\n            // end skill\n\n            case 'matrix':\n                const subkey = split[1];\n                switch (subkey) {\n                    case 'attribute':\n                        const attr = split[2];\n                        this.actor.rollMatrixAttribute(attr, options);\n                        break;\n                    case 'device-rating':\n                        this.actor.rollDeviceRating(options);\n                        break;\n                }\n\n                break;\n            // end matrix\n        }\n    }\n\n    // Setup skill name filter within getData\n    async _onFilterSkills(event) {\n        this._filters.skills = event.currentTarget.value;\n        await this.render();\n    }\n\n    // Setup untrained skill filter within getData\n    async _onFilterUntrainedSkills(event) {\n        event.preventDefault();\n        this._filters.showUntrainedSkills = !this._filters.showUntrainedSkills;\n        await this.render();\n    }\n\n    async _onReloadAmmo(event) {\n        event.preventDefault();\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        if (item) return item.reloadAmmo();\n    }\n\n    async _onMatrixAttributeSelected(event) {\n        let iid = this.actor.data.data.matrix.device;\n        let item = this.actor.getOwnedSR5Item(iid);\n        if (!item) {\n            console.error('could not find item');\n            return;\n        }\n        // grab matrix attribute (sleaze, attack, etc.)\n        let att = event.currentTarget.dataset.att;\n        // grab device attribute (att1, att2, ...)\n        let deviceAtt = event.currentTarget.value;\n\n        // get current matrix attribute on the device\n        let oldVal = item.data.data.atts[deviceAtt].att;\n        let data = {\n            _id: iid,\n        };\n\n        // go through atts on device, setup matrix attributes on it\n        for (let i = 1; i <= 4; i++) {\n            let tmp = `att${i}`;\n            let key = `data.atts.att${i}.att`;\n            if (tmp === deviceAtt) {\n                data[key] = att;\n            } else if (item.data.data.atts[`att${i}`].att === att) {\n                data[key] = oldVal;\n            }\n        }\n        await this.actor.updateOwnedItem(data);\n    }\n\n    _onItemCreate(event) {\n        event.preventDefault();\n        const type = Helpers.listItemId(event);\n        const itemData = {\n            name: `New ${type}`,\n            type: type,\n        };\n        return this.actor.createOwnedItem(itemData, { renderSheet: true });\n    }\n\n    async _onAddLanguageSkill(event) {\n        event.preventDefault();\n        this.actor.addLanguageSkill({ name: '' });\n    }\n\n    async _onRemoveLanguageSkill(event) {\n        event.preventDefault();\n        const skillId = Helpers.listItemId(event);\n        this.actor.removeLanguageSkill(skillId);\n    }\n\n    async _onAddKnowledgeSkill(event) {\n        event.preventDefault();\n        const category = Helpers.listItemId(event);\n        this.actor.addKnowledgeSkill(category);\n    }\n\n    async _onRemoveKnowledgeSkill(event) {\n        event.preventDefault();\n        const [skillId, category] = Helpers.listItemId(event).split('.');\n        this.actor.removeKnowledgeSkill(skillId, category);\n    }\n\n    async _onChangeRtg(event) {\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        const rtg = parseInt(event.currentTarget.value);\n        if (item && rtg) {\n            item.update({ 'data.technology.rating': rtg });\n        }\n    }\n\n    async _onChangeQty(event) {\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        const qty = parseInt(event.currentTarget.value);\n        if (item && qty) {\n            item.data.data.technology.quantity = qty;\n            item.update({ 'data.technology.quantity': qty });\n        }\n    }\n\n    async _onEquipItem(event) {\n        event.preventDefault();\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        if (item) {\n            const itemData = item.data.data;\n            const newItems = [] as any[];\n            if (item.type === 'device') {\n                // turn off all other devices than the one that is being equipped\n                // if clicking the equipped, toggle it\n                for (let ite of this.actor.items.filter((i) => i.type === 'device')) {\n                    newItems.push({\n                        '_id': ite._id,\n                        'data.technology.equipped': ite._id === iid ? !itemData.technology.equipped : false,\n                    });\n                }\n            } else {\n                newItems.push({\n                    '_id': iid,\n                    'data.technology.equipped': !itemData.technology.equipped,\n                });\n            }\n            await this.actor.updateEmbeddedEntity('OwnedItem', newItems);\n            this.actor.render();\n        }\n    }\n\n    async _onSetCellInput(event) {\n        const value = Number(event.currentTarget.dataset.value);\n        const cmId = $(event.currentTarget).closest('.horizontal-cell-input').data().id;\n        const data = {};\n        if (cmId === 'stun' || cmId === 'physical') {\n            const property = `data.track.${cmId}.value`;\n            data[property] = value;\n        } else if (cmId === 'edge') {\n            const property = `data.attributes.edge.uses`;\n            data[property] = value;\n        } else if (cmId === 'overflow') {\n            const property = 'data.track.physical.overflow.value';\n            data[property] = value;\n        } else if (cmId === 'matrix') {\n            const matrixDevice = this.actor.getMatrixDevice();\n            if (matrixDevice && !isNaN(value)) {\n                const updateData = {};\n                updateData['data.technology.condition_monitor.value'] = value;\n                await matrixDevice.update(updateData);\n            } else {\n                data['data.matrix.condition_monitor.value'] = value;\n            }\n        }\n        await this.actor.update(data);\n    }\n\n    async _onClearCellInput(event) {\n        const cmId = $(event.currentTarget).closest('.horizontal-cell-input').data().id;\n        const data = {};\n        if (cmId === 'stun' || cmId === 'physical') {\n            const property = `data.track.${cmId}.value`;\n            data[property] = 0;\n        } else if (cmId === 'edge') {\n            const property = `data.attributes.edge.uses`;\n            data[property] = 0;\n        } else if (cmId === 'overflow') {\n            const property = 'data.track.physical.overflow.value';\n            data[property] = 0;\n        } else if (cmId === 'matrix') {\n            const matrixDevice = this.actor.getMatrixDevice();\n            if (matrixDevice) {\n                const updateData = {};\n                updateData['data.technology.condition_monitor.value'] = 0;\n                await matrixDevice.update(updateData);\n            } else {\n                data['data.matrix.condition_monitor.value'] = 0;\n            }\n        }\n        await this.actor.update(data);\n    }\n\n    async _onRollCellInput(event) {\n        event.preventDefault();\n        let track = $(event.currentTarget).closest('.horizontal-cell-input').data().id;\n        if (track === 'stun' || track === 'physical') {\n            await this.actor.rollNaturalRecovery(track, event);\n        } else if (track === 'edge') {\n            await this.actor.rollAttribute('edge');\n        }\n    }\n\n    async _onRollItem(event) {\n        event.preventDefault();\n        const iid = Helpers.listItemId(event);\n        const item = this.actor.getOwnedSR5Item(iid);\n        if (item) {\n            await item.postCard(event);\n        }\n    }\n\n    async _onRollKnowledgeSkill(event) {\n        event.preventDefault();\n        const id = Helpers.listItemId(event);\n        const [skill, category] = id.split('.');\n        return this.actor.rollKnowledgeSkill(category, skill, { event: event });\n    }\n\n    async _onRollLanguageSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        return this.actor.rollLanguageSkill(skill, { event: event });\n    }\n\n    async _onRollActiveSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        return this.actor.rollActiveSkill(skill, { event: event });\n    }\n\n    async _onRollAttribute(event) {\n        event.preventDefault();\n        const attr = event.currentTarget.closest('.attribute').dataset.attribute;\n        return this.actor.rollAttribute(attr, { event: event });\n    }\n\n    /**\n     * @private\n     */\n    _findActiveList() {\n        return $(this.element).find('.tab.active .scroll-area');\n    }\n\n    /**\n     * @private\n     */\n    async _render(...args) {\n        const focusList = $(this.element).find(':focus');\n        const focus: any = focusList.length ? focusList[0] : null;\n\n        this._saveScrollPositions();\n        await super._render(...args);\n        this._restoreScrollPositions();\n\n        if (focus && focus.name) {\n            const element = this.form[focus.name];\n            if (element) {\n                element.focus();\n                // set the selection range on the focus formed from before (keeps track of cursor in input)\n                element.setSelectionRange && element.setSelectionRange(focus.selectionStart, focus.selectionEnd);\n            }\n        }\n    }\n\n    /**\n     * @private\n     */\n    _restoreScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length && this._scroll != null) {\n            activeList.prop('scrollTop', this._scroll);\n        }\n    }\n\n    /**\n     * @private\n     */\n    _saveScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length) {\n            this._scroll = activeList.prop('scrollTop');\n        }\n    }\n\n    async _closeOpenSkillApp() {\n        if (globalSkillAppId !== -1) {\n            if (ui.windows[globalSkillAppId]) {\n                await ui.windows[globalSkillAppId].close();\n            }\n            globalSkillAppId = -1;\n        }\n    }\n\n    /** Keep track of each SkillEditForm instance and close before opening another.\n     *\n     * @param skillEditFormImplementation Any extending class! of SkillEditForm\n     * @param actor\n     * @param options\n     * @param args Collect arguments of the different renderWithSkill implementations.\n     */\n    async _showSkillEditForm(skillEditFormImplementation, actor: SR5Actor, options: object, ...args) {\n        await this._closeOpenSkillApp();\n\n        const skillEditForm = new skillEditFormImplementation(actor, options, ...args);\n        globalSkillAppId = skillEditForm.appId;\n        await skillEditForm.render(true);\n    }\n\n    _onShowEditKnowledgeSkill(event) {\n        event.preventDefault();\n        const [skill, category] = Helpers.listItemId(event).split('.');\n        this._showSkillEditForm(\n            KnowledgeSkillEditForm,\n            this.actor,\n            {\n                event: event,\n            },\n            skill,\n            category,\n        );\n    }\n\n    _onShowEditLanguageSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        // new LanguageSkillEditForm(this.actor, skill, { event: event }).render(true);\n        this._showSkillEditForm(LanguageSkillEditForm, this.actor, { event: event }, skill);\n    }\n\n    _onShowEditSkill(event) {\n        event.preventDefault();\n        const skill = Helpers.listItemId(event);\n        // new SkillEditForm(this.actor, skill, { event: event }).render(true);\n        this._showSkillEditForm(SkillEditForm, this.actor, { event: event }, skill);\n    }\n\n    _onShowImportCharacter(event) {\n        event.preventDefault();\n        const options = {\n            name: 'chummer-import',\n            title: 'Chummer Import',\n        };\n        new ChummerImportForm(this.actor, options).render(true);\n    }\n}\n","import SR5ActorType = Shadowrun.SR5ActorType;\nimport { CharacterPrep } from './CharacterPrep';\nimport { SpiritPrep } from './SpiritPrep';\nimport { SpritePrep } from './SpritePrep';\nimport { VehiclePrep } from './VehiclePrep';\n\nexport class ActorPrepFactory {\n    static Create(data: SR5ActorType) {\n        if (data.type === 'character') {\n            return new CharacterPrep(data);\n        } else if (data.type === 'spirit') {\n            return new SpiritPrep(data);\n        } else if (data.type === 'sprite') {\n            return new SpritePrep(data);\n        } else if (data.type === 'vehicle') {\n            return new VehiclePrep(data);\n        }\n    }\n}\n","import SR5ActorType = Shadowrun.SR5ActorType;\nimport { SR5ItemDataWrapper } from '../../item/SR5ItemDataWrapper';\nimport SR5ActorData = Shadowrun.SR5ActorData;\n\nexport abstract class BaseActorPrep<ActorType extends SR5ActorType, DataType extends SR5ActorData> {\n    data: DataType;\n    items: SR5ItemDataWrapper[];\n\n    constructor(data: ActorType) {\n        this.data = data.data;\n        this.items = data.items.map((item) => new SR5ItemDataWrapper(item));\n    }\n\n    // override with the correct order and fucntions to prepare the actor\n    abstract prepare(): void;\n}\n","import {BaseActorPrep} from './BaseActorPrep';\nimport {InitiativePrep} from './functions/InitiativePrep';\nimport {ModifiersPrep} from './functions/ModifiersPrep';\nimport {MatrixPrep} from './functions/MatrixPrep';\nimport {ItemPrep} from './functions/ItemPrep';\nimport {SkillsPrep} from './functions/SkillsPrep';\nimport {LimitsPrep} from './functions/LimitsPrep';\nimport {ConditionMonitorsPrep} from './functions/ConditionMonitorsPrep';\nimport {MovementPrep} from './functions/MovementPrep';\nimport {WoundsPrep} from './functions/WoundsPrep';\nimport {AttributesPrep} from './functions/AttributesPrep';\nimport {NPCPrep} from './functions/NPCPrep';\nimport {SR5} from '../../config';\nimport SR5CharacterType = Shadowrun.SR5CharacterType;\nimport CharacterActorData = Shadowrun.CharacterActorData;\n\nexport class CharacterPrep extends BaseActorPrep<SR5CharacterType, CharacterActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n\n        ItemPrep.prepareArmor(this.data, this.items);\n        ItemPrep.prepareCyberware(this.data, this.items);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimitBaseFromAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        MatrixPrep.prepareMatrix(this.data, this.items);\n        MatrixPrep.prepareMatrixToLimitsAndAttributes(this.data);\n\n        if (this.data.is_npc && this.data.npc.is_grunt) {\n            ConditionMonitorsPrep.prepareGrunt(this.data);\n        } else {\n            ConditionMonitorsPrep.preparePhysical(this.data);\n            ConditionMonitorsPrep.prepareStun(this.data);\n        }\n\n        MovementPrep.prepareMovement(this.data);\n        WoundsPrep.prepareWounds(this.data);\n\n        InitiativePrep.prepareMeatspaceInit(this.data);\n        InitiativePrep.prepareAstralInit(this.data);\n        InitiativePrep.prepareMatrixInit(this.data);\n        InitiativePrep.prepareCurrentInitiative(this.data);\n\n        // NPCPrep is reliant to be called after AttributesPrep.\n        NPCPrep.prepareNPCData(this.data);\n    }\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport SpiritActorData = Shadowrun.SpiritActorData;\nimport SR5SpiritType = Shadowrun.SR5SpiritType;\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { ConditionMonitorsPrep } from './functions/ConditionMonitorsPrep';\nimport { MovementPrep } from './functions/MovementPrep';\nimport { WoundsPrep } from './functions/WoundsPrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport SpiritType = Shadowrun.SpiritType;\nimport { Helpers } from '../../helpers';\n\nexport class SpiritPrep extends BaseActorPrep<SR5SpiritType, SpiritActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n\n        SpiritPrep.prepareSpiritBaseData(this.data);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimitBaseFromAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        SpiritPrep.prepareSpiritArmor(this.data);\n\n        ConditionMonitorsPrep.prepareStun(this.data);\n        ConditionMonitorsPrep.preparePhysical(this.data);\n\n        MovementPrep.prepareMovement(this.data);\n        WoundsPrep.prepareWounds(this.data);\n\n        InitiativePrep.prepareCurrentInitiative(this.data);\n\n        this.data.special = 'magic';\n    }\n\n    static prepareSpiritBaseData(data: SpiritActorData) {\n        const overrides = this.getSpiritStatModifiers(data.spiritType);\n\n        if (overrides) {\n            const { attributes, skills, initiative, force, modifiers } = data;\n\n            // set the base of attributes to the provided value\n            for (const [attId, value] of Object.entries(overrides.attributes)) {\n                if (attributes[attId] !== undefined) {\n                    attributes[attId].base = value + force;\n                }\n            }\n\n            for (const [skillId, skill] of Object.entries(skills.active)) {\n                skill.base = overrides.skills.find((s) => s === skillId) ? force : 0;\n            }\n\n            // prepare initiative data\n            initiative.meatspace.base.base = force * 2 + overrides.init + Number(modifiers['astral_initiative']);\n            initiative.meatspace.dice.base = 2;\n            initiative.astral.base.base = force * 2 + overrides.astral_init + Number(modifiers['astral_initiative_dice']);\n            initiative.astral.dice.base = 3;\n        }\n    }\n\n    static prepareSpiritArmor(data: SpiritActorData) {\n        const { armor, attributes } = data;\n        armor.base = (attributes.essence.value ?? 0) * 2;\n        armor.value = Helpers.calcTotal(armor);\n    }\n\n    /**\n     * get the attribute and initiative modifiers and skills\n     */\n    static getSpiritStatModifiers(spiritType: SpiritType) {\n        const overrides = {\n            // value of 0 for attribute makes it equal to the Force\n            attributes: {\n                body: 0,\n                agility: 0,\n                reaction: 0,\n                strength: 0,\n                willpower: 0,\n                logic: 0,\n                intuition: 0,\n                charisma: 0,\n                magic: 0,\n                essence: 0,\n            },\n            // modifiers for after the Force x 2 calculation\n            init: 0,\n            astral_init: 0,\n            // skills are all set to Force\n            skills: [] as string[],\n        };\n        switch (spiritType) {\n            case 'air':\n                overrides.attributes.body = -2;\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 4;\n                overrides.attributes.strength = -3;\n                overrides.init = 4;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'beasts':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = 1;\n                overrides.attributes.strength = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'earth':\n                overrides.attributes.body = 4;\n                overrides.attributes.agility = -2;\n                overrides.attributes.reaction = -1;\n                overrides.attributes.strength = 4;\n                overrides.attributes.logic = -1;\n                overrides.init = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'fire':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = -2;\n                overrides.attributes.intuition = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'flight', 'perception', 'unarmed_combat');\n                break;\n            case 'guardian':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = 2;\n                overrides.init = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'blades', 'clubs', 'counter_spelling', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'guidance':\n                overrides.attributes.body = 3;\n                overrides.attributes.agility = -1;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 1;\n                overrides.skills.push('arcana', 'assensing', 'astral_combat', 'counter_spelling', 'perception', 'unarmed_combat');\n                break;\n            case 'man':\n                overrides.attributes.body = 1;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = -2;\n                overrides.attributes.logic = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'spellcasting', 'unarmed_combat');\n                break;\n            case 'plant':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = -1;\n                overrides.attributes.strength = 1;\n                overrides.attributes.logic = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'exotic_range', 'unarmed_combat');\n                break;\n            case 'task':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 2;\n                overrides.init = 2;\n                overrides.skills.push('artisan', 'assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'water':\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 2;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n\n            case 'toxic_air':\n                overrides.attributes.body = -2;\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 4;\n                overrides.attributes.strength = -3;\n                overrides.init = 4;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'running', 'unarmed_combat');\n                break;\n            case 'toxic_beasts':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = 1;\n                overrides.attributes.strength = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'gymnastics', 'perception', 'running', 'unarmed_combat');\n                break;\n            case 'toxic_earth':\n                overrides.attributes.body = 4;\n                overrides.attributes.agility = -2;\n                overrides.attributes.reaction = -1;\n                overrides.attributes.strength = 4;\n                overrides.attributes.logic = -1;\n                overrides.init = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n            case 'toxic_fire':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = -2;\n                overrides.attributes.intuition = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'flight', 'unarmed_combat');\n                break;\n            case 'toxic_man':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = -2;\n                overrides.attributes.intuition = 1;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'spell_casting', 'unarmed_combat');\n                break;\n            case 'toxic_water':\n                overrides.attributes.body = 1;\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 2;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'exotic_range', 'perception', 'unarmed_combat');\n                break;\n\n            case 'blood':\n                overrides.attributes.body = 2;\n                overrides.attributes.agility = 2;\n                overrides.attributes.strength = 2;\n                overrides.attributes.logic = -1;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'running', 'unarmed_combat');\n                break;\n\n            case 'muse':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'nightmare':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'shade':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'succubus':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n            case 'wraith':\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 2;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.intuition = 1;\n                overrides.attributes.charisma = 2;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'con', 'gymnastics', 'intimidation', 'perception', 'unarmed_combat');\n                break;\n\n            case 'shedim':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 1;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'master_shedim':\n                overrides.attributes.reaction = 2;\n                overrides.attributes.strength = 1;\n                overrides.attributes.logic = 1;\n                overrides.attributes.intuition = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'counterspelling', 'perception', 'spellcasting', 'unarmed_combat');\n                break;\n\n            // insect\n            case 'caretaker':\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 1;\n                overrides.init = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'leadership', 'perception', 'unarmed_combat');\n                break;\n            case 'nymph':\n                overrides.attributes.body = 1;\n                overrides.attributes.reaction = 3;\n                overrides.attributes.strength = 1;\n                overrides.init = 3;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'gymnastics', 'spellcasting', 'unarmed_combat');\n                break;\n            case 'scout':\n                overrides.attributes.agility = 2;\n                overrides.attributes.reaction = 2;\n                overrides.init = 2;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'gymnastics', 'sneaking', 'unarmed_combat');\n                break;\n            case 'soldier':\n                overrides.attributes.body = 3;\n                overrides.attributes.agility = 1;\n                overrides.attributes.reaction = 1;\n                overrides.attributes.strength = 3;\n                overrides.init = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'counterspelling', 'exotic_range', 'gymnastics', 'perception', 'unarmed_combat');\n                break;\n            case 'worker':\n                overrides.attributes.strength = 1;\n                overrides.skills.push('assensing', 'astral_combat', 'perception', 'unarmed_combat');\n                break;\n            case 'queen':\n                overrides.attributes.body = 5;\n                overrides.attributes.agility = 3;\n                overrides.attributes.reaction = 4;\n                overrides.attributes.strength = 5;\n                overrides.attributes.willpower = 1;\n                overrides.attributes.logic = 1;\n                overrides.attributes.intuition = 1;\n                overrides.init = 5;\n                overrides.skills.push(\n                    'assensing',\n                    'astral_combat',\n                    'con',\n                    'counterspelling',\n                    'gymnastics',\n                    'leadership',\n                    'negotiation',\n                    'perception',\n                    'spellcasting',\n                    'unarmed_combat',\n                );\n                break;\n        }\n        return overrides;\n    }\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport SR5SpriteType = Shadowrun.SR5SpriteType;\nimport SpriteActorData = Shadowrun.SpriteActorData;\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { MatrixPrep } from './functions/MatrixPrep';\nimport SpriteType = Shadowrun.SpriteType;\nimport { Helpers } from '../../helpers';\nimport { PartsList } from '../../parts/PartsList';\n\n/**\n * Prepare a Sprite Type of Actor\n */\nexport class SpritePrep extends BaseActorPrep<SR5SpriteType, SpriteActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n\n        SpritePrep.prepareSpriteData(this.data);\n        MatrixPrep.prepareAttributesForDevice(this.data);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        MatrixPrep.prepareMatrixToLimitsAndAttributes(this.data);\n\n        InitiativePrep.prepareCurrentInitiative(this.data);\n\n        this.data.special = 'resonance';\n    }\n\n    /**\n     * Prepares basic Sprite specific data\n     * - matrix attribute values\n     * - device rating\n     * - matrix condition monitor\n     * - matrix initiative\n     * - skills\n     * @param data\n     */\n    static prepareSpriteData(data: SpriteActorData) {\n        const { level, skills, matrix, spriteType, initiative, attributes, modifiers } = data;\n\n        const matrixAtts = ['attack', 'sleaze', 'data_processing', 'firewall'];\n\n        const overrides = this.getSpriteStatModifiers(spriteType);\n\n        // apply the matrix overrides\n        matrixAtts.forEach((att) => {\n            if (matrix[att] !== undefined) {\n                matrix[att].base = level + overrides[att];\n                matrix[att].value = Helpers.calcTotal(matrix[att]);\n            }\n        });\n\n        // setup initiative from overrides\n        initiative.matrix.base.base = level * 2 + overrides.init;\n        PartsList.AddUniquePart(initiative.matrix.base.mod, 'SR5.Bonus', modifiers['matrix_initiative']);\n        Helpers.calcTotal(initiative.matrix.base);\n\n        initiative.matrix.dice.base = 4;\n        PartsList.AddUniquePart(initiative.matrix.dice.mod, 'SR5.Bonus', modifiers['matrix_initiative_dice']);\n        Helpers.calcTotal(initiative.matrix.dice);\n\n        // always in matrix perception\n        initiative.perception = 'matrix';\n\n        // calculate resonance value\n        attributes.resonance.base = level + overrides.resonance;\n        Helpers.calcTotal(attributes.resonance);\n\n        // apply skill levels\n        // clear skills that we don't have\n        for (const [skillId, skill] of Object.entries(skills.active)) {\n            skill.base = overrides.skills.find((s) => s === skillId) ? level : 0;\n        }\n\n        matrix.rating = level;\n        matrix.condition_monitor.max = 8 + Math.ceil(level / 2);\n    }\n\n    /**\n     * Get the stat modifiers for the specified type of sprite\n     * @param spriteType\n     */\n    static getSpriteStatModifiers(spriteType: SpriteType) {\n        const overrides = {\n            attack: 0,\n            sleaze: 0,\n            data_processing: 0,\n            firewall: 0,\n            resonance: 0,\n            init: 0,\n            // all sprites have computer\n            skills: ['computer'],\n        };\n        switch (spriteType) {\n            case 'courier':\n                overrides.sleaze = 3;\n                overrides.data_processing = 1;\n                overrides.firewall = 2;\n                overrides.init = 1;\n                overrides.skills.push('hacking');\n                break;\n            case 'crack':\n                overrides.sleaze = 3;\n                overrides.data_processing = 2;\n                overrides.firewall = 1;\n                overrides.init = 2;\n                overrides.skills.push('hacking', 'electronic_warfare');\n                break;\n            case 'data':\n                overrides.attack = -1;\n                overrides.data_processing = 4;\n                overrides.firewall = 1;\n                overrides.init = 4;\n                overrides.skills.push('electronic_warfare');\n                break;\n            case 'fault':\n                overrides.attack = 3;\n                overrides.data_processing = 1;\n                overrides.firewall = 2;\n                overrides.init = 1;\n                overrides.skills.push('cybercombat', 'hacking');\n                break;\n            case 'machine':\n                overrides.attack = 1;\n                overrides.data_processing = 3;\n                overrides.firewall = 2;\n                overrides.init = 3;\n                overrides.skills.push('electronic_warfare', 'hardware');\n                break;\n        }\n        return overrides;\n    }\n}\n","import { BaseActorPrep } from './BaseActorPrep';\nimport SR5VehicleType = Shadowrun.SR5VehicleType;\nimport VehicleActorData = Shadowrun.VehicleActorData;\nimport { SkillsPrep } from './functions/SkillsPrep';\nimport { ModifiersPrep } from './functions/ModifiersPrep';\nimport { InitiativePrep } from './functions/InitiativePrep';\nimport { AttributesPrep } from './functions/AttributesPrep';\nimport { LimitsPrep } from './functions/LimitsPrep';\nimport { MatrixPrep } from './functions/MatrixPrep';\nimport { Helpers } from '../../helpers';\nimport { PartsList } from '../../parts/PartsList';\n\nexport class VehiclePrep extends BaseActorPrep<SR5VehicleType, VehicleActorData> {\n    prepare() {\n        ModifiersPrep.prepareModifiers(this.data);\n\n        VehiclePrep.prepareVehicleStats(this.data);\n        VehiclePrep.prepareAttributes(this.data);\n        VehiclePrep.prepareLimits(this.data);\n\n        SkillsPrep.prepareSkills(this.data);\n        AttributesPrep.prepareAttributes(this.data);\n        LimitsPrep.prepareLimits(this.data);\n\n        VehiclePrep.prepareConditionMonitor(this.data);\n\n        MatrixPrep.prepareMatrixToLimitsAndAttributes(this.data);\n        MatrixPrep.prepareAttributesForDevice(this.data);\n\n        VehiclePrep.prepareMovement(this.data);\n\n        VehiclePrep.prepareMeatspaceInit(this.data);\n        InitiativePrep.prepareMatrixInit(this.data);\n        InitiativePrep.prepareCurrentInitiative(this.data);\n\n        VehiclePrep.prepareArmor(this.data);\n    }\n\n    static prepareVehicleStats(data: VehicleActorData) {\n        const { vehicle_stats, isOffRoad } = data;\n        // set the value for the stats\n        for (let [key, stat] of Object.entries(vehicle_stats)) {\n            // this turns the Object model into the list mod\n            if (typeof stat.mod === 'object') {\n                stat.mod = new PartsList(stat.mod).list;\n            }\n            const parts = new PartsList(stat.mod);\n\n            parts.addUniquePart('SR5.Temporary', stat.temp ?? 0);\n\n            stat.mod = parts.list;\n            Helpers.calcTotal(stat);\n            // add labels\n            stat.label = CONFIG.SR5.vehicle.stats[key];\n        }\n\n        // hide certain stats depending on if we're offroad\n        if (isOffRoad) {\n            vehicle_stats.off_road_speed.hidden = false;\n            vehicle_stats.off_road_handling.hidden = false;\n            vehicle_stats.speed.hidden = true;\n            vehicle_stats.handling.hidden = true;\n        } else {\n            vehicle_stats.off_road_speed.hidden = true;\n            vehicle_stats.off_road_handling.hidden = true;\n            vehicle_stats.speed.hidden = false;\n            vehicle_stats.handling.hidden = false;\n        }\n    }\n\n    static prepareAttributes(data: VehicleActorData) {\n        const { attributes, vehicle_stats } = data;\n\n        const attributeIds = ['agility', 'reaction', 'strength', 'willpower', 'logic', 'intuition', 'charisma'];\n\n        const totalPilot = Helpers.calcTotal(vehicle_stats.pilot);\n\n        attributeIds.forEach((attId) => {\n            if (attributes[attId] !== undefined) {\n                attributes[attId].base = totalPilot;\n            }\n        });\n    }\n\n    static prepareLimits(data: VehicleActorData) {\n        const { limits, vehicle_stats, isOffRoad } = data;\n\n        limits.mental.base = Helpers.calcTotal(vehicle_stats.sensor);\n\n        // add sensor, handling, and speed as limits\n        limits.sensor = { ...vehicle_stats.sensor, hidden: true };\n        limits.handling = { ...(isOffRoad ? vehicle_stats.off_road_handling : vehicle_stats.handling), hidden: true };\n        limits.speed = { ...(isOffRoad ? vehicle_stats.off_road_speed : vehicle_stats.speed), hidden: true };\n    }\n\n    static prepareConditionMonitor(data: VehicleActorData) {\n        const { track, attributes, matrix, isDrone, modifiers } = data;\n\n        const halfBody = Math.ceil(Helpers.calcTotal(attributes.body) / 2);\n        // CRB pg 199 drone vs vehicle physical condition monitor rules\n        if (isDrone) {\n            track.physical.max = 6 + halfBody + (Number(modifiers['physical_track']) || 0);\n        } else {\n            track.physical.max = 12 + halfBody + (Number(modifiers['physical_track']) || 0);\n        }\n        track.physical.label = CONFIG.SR5.damageTypes.physical;\n\n        const rating = matrix.rating || 0;\n        matrix.condition_monitor.max = 8 + Math.ceil(rating / 2);\n    }\n\n    static prepareMovement(data: VehicleActorData) {\n        const { vehicle_stats, movement, isOffRoad } = data;\n\n        let speedTotal = Helpers.calcTotal(isOffRoad ? vehicle_stats.off_road_speed : vehicle_stats.speed);\n\n        // algorithm to determine speed, CRB pg 202 table\n        movement.walk.base = 5 * Math.pow(2, speedTotal - 1);\n        movement.walk.value = movement.walk.base;\n\n        movement.run.base = 10 * Math.pow(2, speedTotal - 1);\n        movement.run.value = movement.run.base;\n    }\n\n    static prepareMeatspaceInit(data: VehicleActorData) {\n        const { vehicle_stats, initiative } = data;\n\n        const pilot = Helpers.calcTotal(vehicle_stats.pilot);\n\n        initiative.meatspace.base.base = pilot * 2;\n        initiative.meatspace.dice.base = 4;\n        Helpers.calcTotal(initiative.meatspace.base);\n        Helpers.calcTotal(initiative.meatspace.dice);\n    }\n\n    static prepareArmor(data: VehicleActorData) {\n        const { armor } = data;\n        armor.mod = PartsList.AddUniquePart(armor.mod, 'SR5.Temporary', armor['temp']);\n        Helpers.calcTotal(armor);\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { PartsList } from '../../../parts/PartsList';\nimport { Helpers } from '../../../helpers';\n\nexport class AttributesPrep {\n    /**\n     * Prepare actor data for attributes\n     */\n    static prepareAttributes(data: SR5ActorData) {\n        const { attributes } = data;\n\n        // always have special attributes set to hidden\n        attributes.magic.hidden = true;\n        attributes.resonance.hidden = true;\n        attributes.edge.hidden = true;\n        attributes.essence.hidden = true;\n\n        // set the value for the attributes\n        for (let [key, attribute] of Object.entries(attributes)) {\n            // don't manage the attribute if it is using the old method of edge tracking\n            // needed to be able to migrate things correctly\n            if (key === 'edge' && attribute['uses'] === undefined) return;\n            // always clear the mod list on prep\n            attribute.mod = [];\n            const parts = new PartsList(attribute.mod);\n\n            attribute.mod = parts.list;\n            Helpers.calcTotal(attribute);\n            // add labels\n            attribute.label = CONFIG.SR5.attributes[key];\n        }\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport PhysicalTrackActorData = Shadowrun.PhysicalTrackActorData;\nimport StunTrackActorData = Shadowrun.StunTrackActorData;\nimport TwoTrackActorData = Shadowrun.TwoTrackActorData;\n\nexport class ConditionMonitorsPrep {\n    static prepareStun(data: SR5ActorData & StunTrackActorData) {\n        const { track, attributes, modifiers } = data;\n\n        track.stun.max = 8 + Math.ceil(attributes.willpower.value / 2) + Number(modifiers['stun_track']);\n        track.stun.label = CONFIG.SR5.damageTypes.stun;\n        track.stun.disabled = false;\n    }\n\n    static preparePhysical(data: SR5ActorData & PhysicalTrackActorData) {\n        const { track, attributes, modifiers } = data;\n\n        track.physical.max = 8 + Math.ceil(attributes.body.value / 2) + Number(modifiers['physical_track']);\n        track.physical.overflow.max = attributes.body.value;\n        track.physical.label = CONFIG.SR5.damageTypes.physical;\n        track.physical.disabled = false;\n    }\n\n    static prepareGrunt(data: SR5ActorData & TwoTrackActorData) {\n        // Grunts use only one monitor, use physical to get overflow functionality.\n        ConditionMonitorsPrep.prepareStun(data);\n\n        const { track, attributes, modifiers } = data;\n        // Overwrite stun damage to avoid invisible damage modifiers.\n        track.stun.value = 0;\n        track.stun.disabled = true;\n\n        // Grunts use either their WIL or BOD as their monitors attribute.\n        const attribute = attributes.willpower.value > attributes.body.value ?\n            attributes.willpower:\n            attributes.body;\n\n        // TODO: Should track modifiers switch according to used attribute?\n        track.physical.max = 8 + Math.ceil(attribute.value / 2) + Number(modifiers['physical_track']);\n        track.physical.overflow.max = attributes.body.value;\n        track.physical.label = \"SR5.ConditionMonitor\";\n        track.physical.disabled = false;\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport MagicActorData = Shadowrun.MagicActorData;\nimport MatrixActorData = Shadowrun.MatrixActorData;\nimport { Helpers } from '../../../helpers';\nimport { PartsList } from '../../../parts/PartsList';\n\nexport class InitiativePrep {\n    static prepareCurrentInitiative(data: SR5ActorData) {\n        const { initiative } = data;\n\n        if (initiative.perception === 'matrix') initiative.current = initiative.matrix;\n        else if (initiative.perception === 'astral') initiative.current = initiative.astral;\n        else {\n            initiative.current = initiative.meatspace;\n            initiative.perception = 'meatspace';\n        }\n\n        initiative.current.dice.value = Helpers.calcTotal(initiative.current.dice);\n        if (initiative.edge) initiative.current.dice.value = 5;\n        initiative.current.dice.value = Math.min(5, initiative.current.dice.value); // maximum of 5d6 for initiative\n        initiative.current.dice.text = `${initiative.current.dice.value}d6`;\n\n        initiative.current.base.value = Helpers.calcTotal(initiative.current.base);\n    }\n\n    static prepareMeatspaceInit(data: SR5ActorData) {\n        const { initiative, attributes, modifiers } = data;\n\n        initiative.meatspace.base.base = attributes.intuition.value + attributes.reaction.value;\n        initiative.meatspace.base.mod = PartsList.AddUniquePart(initiative.meatspace.base.mod, \"SR5.Bonus\", Number(modifiers['meat_initiative']));\n\n        initiative.meatspace.dice.base = 1;\n        initiative.meatspace.dice.mod = PartsList.AddUniquePart(initiative.meatspace.dice.mod, \"SR5.Bonus\", Number(modifiers['meat_initiative_dice']));\n    }\n\n    static prepareAstralInit(data: SR5ActorData & MagicActorData) {\n        const { initiative, attributes, modifiers } = data;\n\n        initiative.astral.base.base = attributes.intuition.value * 2;\n        initiative.astral.base.mod = PartsList.AddUniquePart(initiative.astral.base.mod, \"SR5.Bonus\", Number(modifiers['astral_initiative']));\n\n        initiative.astral.dice.base = 2;\n        initiative.astral.dice.mod = PartsList.AddUniquePart(initiative.astral.dice.mod, \"SR5.Bonus\", Number(modifiers['astral_initiative_dice']));\n    }\n\n    static prepareMatrixInit(data: SR5ActorData & MatrixActorData) {\n        const { initiative, attributes, modifiers, matrix } = data;\n        if (matrix) {\n\n            initiative.matrix.base.base = attributes.intuition.value + data.matrix.data_processing.value;\n            initiative.matrix.base.mod = PartsList.AddUniquePart(initiative.matrix.base.mod, \"SR5.Bonus\", Number(modifiers['matrix_initiative']));\n\n            initiative.matrix.dice.base = (matrix.hot_sim ? 4 : 3);\n            initiative.matrix.dice.mod = PartsList.AddUniquePart(initiative.matrix.dice.mod, \"SR5.Bonus\", Number(modifiers['matrix_initiative_dice']));\n        }\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { SR5ItemDataWrapper } from '../../../item/SR5ItemDataWrapper';\nimport { Helpers } from '../../../helpers';\nimport { PartsList } from '../../../parts/PartsList';\nimport ArmorActorData = Shadowrun.ArmorActorData;\n\nexport class ItemPrep {\n    /**\n     * Prepare the armor data for the Item\n     * - will only allow one \"Base\" armor item to be used\n     * - all \"accessories\" will be added to the armor\n     */\n    static prepareArmor(data: SR5ActorData & ArmorActorData, items: SR5ItemDataWrapper[]) {\n        const { armor } = data;\n        armor.base = 0;\n        armor.value = 0;\n        armor.mod = [];\n        for (const element of Object.keys(CONFIG.SR5.elementTypes)) {\n            armor[element] = 0;\n        }\n\n        const equippedArmor = items.filter((item) => item.hasArmor() && item.isEquipped());\n        const armorModParts = new PartsList<number>(armor.mod);\n        equippedArmor?.forEach((item) => {\n            if (item.hasArmorAccessory()) {\n                armorModParts.addUniquePart(item.getName(), item.getArmorValue());\n            } // if not a mod, set armor.value to the items value\n            else {\n                armor.base = item.getArmorValue();\n                armor.label = item.getName();\n                for (const element of Object.keys(CONFIG.SR5.elementTypes)) {\n                    armor[element] = item.getArmorElements()[element];\n                }\n            }\n        });\n\n        if (data.modifiers['armor']) armorModParts.addUniquePart(game.i18n.localize('SR5.Bonus'), data.modifiers['armor']);\n        // SET ARMOR\n        armor.value = Helpers.calcTotal(armor);\n    }\n    /**\n     * Prepare actor data for cyberware changes\n     * - this calculates the actors essence\n     */\n    static prepareCyberware(data: SR5ActorData, items: SR5ItemDataWrapper[]) {\n        const { attributes } = data;\n        const parts = new PartsList<number>();\n        // add Items as values to lower the total value of essence\n        items\n            .filter((item) => item.isCyberware() && item.isEquipped())\n            .forEach((item) => {\n                if (item.getEssenceLoss()) {\n                    parts.addUniquePart(item.getName(), -Number(item.getEssenceLoss()));\n                }\n            });\n        // add the bonus from the misc tab if applied\n        const essenceMod = data.modifiers['essence'];\n        if (essenceMod && !Number.isNaN(essenceMod)) {\n            parts.addUniquePart('SR5.Bonus', Number(essenceMod));\n        }\n\n        attributes.essence.base = 6;\n        attributes.essence.mod = parts.list;\n        attributes.essence.value = Helpers.calcTotal(attributes.essence);\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { PartsList } from '../../../parts/PartsList';\nimport { Helpers } from '../../../helpers';\n\nexport class LimitsPrep {\n    static prepareLimits(data: SR5ActorData) {\n        const { limits, modifiers } = data;\n\n        // SETUP LIMITS\n        limits.physical.mod = PartsList.AddUniquePart(limits.physical.mod, 'SR5.Bonus', Number(modifiers['physical_limit']));\n        limits.mental.mod = PartsList.AddUniquePart(limits.mental.mod, 'SR5.Bonus', Number(modifiers['mental_limit']));\n        limits.social.mod = PartsList.AddUniquePart(limits.social.mod, \"SR5.Bonus\", Number(modifiers['social_limit']));\n\n        // limit labels\n        for (let [limitKey, limitValue] of Object.entries(limits)) {\n            Helpers.calcTotal(limitValue);\n            limitValue.label = CONFIG.SR5.limits[limitKey];\n        }\n    }\n\n    static prepareLimitBaseFromAttributes(data: SR5ActorData) {\n\n        const { limits, attributes } = data;\n\n        limits.physical.base = Math.ceil((2 * attributes.strength.value + attributes.body.value + attributes.reaction.value) / 3);\n        limits.mental.base = Math.ceil((2 * attributes.logic.value + attributes.intuition.value + attributes.willpower.value) / 3);\n        limits.social.base = Math.ceil((2 * attributes.charisma.value + attributes.willpower.value + attributes.essence.value) / 3);\n\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport MatrixActorData = Shadowrun.MatrixActorData;\nimport { Helpers } from '../../../helpers';\nimport { SR5ItemDataWrapper } from '../../../item/SR5ItemDataWrapper';\nimport { PartsList } from '../../../parts/PartsList';\n\nexport class MatrixPrep {\n    /**\n     * Prepare Matrix data on the actor\n     * - if an item is equipped, it will use that data\n     * - if it isn't and player is technomancer, it will use that data\n     */\n    static prepareMatrix(actorData: SR5ActorData & MatrixActorData, items: SR5ItemDataWrapper[]) {\n        const { matrix, attributes } = actorData;\n\n        const MatrixList = ['firewall', 'sleaze', 'data_processing', 'attack'];\n\n        // clear matrix data to defaults\n        MatrixList.forEach((key) => {\n            const parts = new PartsList(matrix[key].mod);\n            parts.addUniquePart('SR5.Temporary', matrix[key].temp);\n            // TODO LEGACY from when the sheet used 'mod.Temporary'\n            parts.removePart('Temporary');\n            matrix[key].mod = parts.list;\n            matrix[key].value = parts.total;\n        });\n        matrix.condition_monitor.max = 0;\n        matrix.rating = 0;\n        matrix.name = '';\n        matrix.device = '';\n        matrix.condition_monitor.label = 'SR5.ConditionMonitor';\n\n        // get the first equipped device, we don't care if they have more equipped -- it shouldn't happen\n        const device = items.find((item) => item.isEquipped() && item.isDevice());\n\n        if (device) {\n            const conditionMonitor = device.getConditionMonitor();\n            matrix.device = device.getId();\n            matrix.condition_monitor.max = conditionMonitor.max;\n            matrix.condition_monitor.value = conditionMonitor.value;\n            matrix.rating = device.getRating();\n            matrix.is_cyberdeck = device.isCyberdeck();\n            matrix.name = device.getName();\n            matrix.item = device.getData();\n            const deviceAtts = device.getASDF();\n            if (deviceAtts) {\n                // setup the actual matrix attributes for the actor\n                for (const [key, value] of Object.entries(deviceAtts)) {\n                    if (value && matrix[key]) {\n                        matrix[key].base = value.value;\n                        matrix[key].device_att = value.device_att;\n                    }\n                }\n            }\n        } // if we don't have a device, use living persona\n        else if (actorData.special === 'resonance') {\n            matrix.firewall.base = Helpers.calcTotal(attributes.willpower);\n            matrix.data_processing.base = Helpers.calcTotal(attributes.logic);\n            matrix.rating = Helpers.calcTotal(attributes.resonance);\n            matrix.attack.base = Helpers.calcTotal(attributes.charisma);\n            matrix.sleaze.base = Helpers.calcTotal(attributes.intuition);\n            matrix.name = game.i18n.localize('SR5.LivingPersona');\n        }\n\n        // set matrix condition monitor to max if greater than\n        if (matrix.condition_monitor.value > matrix.condition_monitor.max) {\n            matrix.condition_monitor.value = matrix.condition_monitor.max;\n        }\n    }\n\n    /**\n     * Add Matrix Attributes to Limits and Attributes\n     * @param data\n     */\n    static prepareMatrixToLimitsAndAttributes(data: SR5ActorData & MatrixActorData) {\n        const { matrix, attributes, limits } = data;\n        const MatrixList = ['firewall', 'sleaze', 'data_processing', 'attack'];\n\n        // add matrix attributes to both limits and attributes as hidden entries\n        MatrixList.forEach((key) => {\n            Helpers.calcTotal(matrix[key]);\n            if (matrix[key]) {\n                const label = CONFIG.SR5.matrixAttributes[key];\n                const { value, base, mod } = matrix[key];\n                const hidden = true;\n\n                limits[key] = {\n                    value,\n                    base,\n                    mod,\n                    label,\n                    hidden,\n                };\n                attributes[key] = {\n                    value,\n                    base,\n                    mod,\n                    label,\n                    hidden,\n                };\n            }\n        });\n    }\n\n    /**\n     * Prepare the mental attributes for a sheet that just has a device rating\n     * @param data\n     */\n    static prepareAttributesForDevice(data: SR5ActorData & MatrixActorData) {\n        const { matrix, attributes } = data;\n        const rating = matrix.rating || 0;\n        const mentalAttributes = ['intuition', 'logic', 'charisma', 'willpower'];\n\n        mentalAttributes.forEach((attLabel) => {\n            if (attributes[attLabel] !== undefined) {\n                attributes[attLabel].base = rating;\n                Helpers.calcTotal(attributes[attLabel]);\n            }\n        });\n        const basic = ['firewall', 'data_processing'];\n        basic.forEach((attId) => {\n            matrix[attId].base = rating;\n        });\n        [...basic, 'sleaze', 'attack'].forEach((attId) => {\n            Helpers.calcTotal(matrix[attId]);\n        });\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\n\nexport class ModifiersPrep {\n    /**\n     * Prepare the modifiers that are displayed in the Misc. tab\n     */\n    static prepareModifiers(data: SR5ActorData) {\n        if (!data.modifiers) data.modifiers = {};\n        const modifiers = {};\n        let miscTabModifiers = [\n            'soak',\n            'drain',\n            'armor',\n            'physical_limit',\n            'social_limit',\n            'mental_limit',\n            'stun_track',\n            'physical_track',\n            'meat_initiative',\n            'meat_initiative_dice',\n            'astral_initiative',\n            'astral_initiative_dice',\n            'matrix_initiative',\n            'matrix_initiative_dice',\n            'composure',\n            'lift_carry',\n            'judge_intentions',\n            'memory',\n            'walk',\n            'run',\n            'defense',\n            'wound_tolerance',\n            'essence',\n            'fade',\n        ];\n        miscTabModifiers.sort();\n        // force global to the top\n        miscTabModifiers.unshift('global');\n\n        for (let item of miscTabModifiers) {\n            modifiers[item] = Number(data.modifiers[item]) || 0;\n        }\n\n        data.modifiers = modifiers;\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport MovementActorData = Shadowrun.MovementActorData;\n\nexport class MovementPrep {\n    static prepareMovement(data: SR5ActorData & MovementActorData) {\n        const { attributes, modifiers } = data;\n        const movement = data.movement;\n        // default movement: WALK = AGI * 2, RUN = AGI * 4\n        movement.walk.value = attributes.agility.value * (2 + Number(modifiers['walk']));\n        movement.run.value = attributes.agility.value * (4 + Number(modifiers['run']));\n    }\n}\n","import CharacterActorData = Shadowrun.CharacterActorData;\nimport {DataTemplates} from \"../../../dataTemplates\";\nimport {Helpers} from \"../../../helpers\";\nimport {METATYPEMODIFIER} from \"../../../constants\";\nimport {PartsList} from \"../../../parts/PartsList\";\n\nexport class NPCPrep {\n    static prepareNPCData(data: CharacterActorData) {\n        // Apply to NPC and none NPC to remove lingering modifiers after actor has been removed it's npc status.\n        NPCPrep.applyMetatypeModifiers(data);\n    }\n\n    /** Replace current metatype modifiers with, even if nothing has changed.\n     *\n     */\n    static applyMetatypeModifiers(data: CharacterActorData) {\n        const {metatype} = data;\n        let modifiers = DataTemplates.grunt.metatype_modifiers[metatype];\n        modifiers = modifiers ? modifiers : {};\n\n        const {attributes} = data;\n\n        for (const [attId, attribute] of Object.entries(attributes)) {\n            // old-style object mod transformation is happening in AttributePrep and is needed here. Order is important.\n            if (!Array.isArray(attribute.mod)) {\n                    console.error('Actor data contains wrong data type for attribute.mod', attribute, !Array.isArray(attribute.mod));\n            } else {\n                const modifyBy = modifiers?.attributes?.[attId];\n                const parts = new PartsList(attribute.mod);\n                parts.removePart(METATYPEMODIFIER);\n\n                if (data.is_npc && modifyBy) {\n                    parts.addPart(METATYPEMODIFIER, modifyBy);\n                }\n\n                attribute.mod = parts.list;\n\n                Helpers.calcTotal(attribute);\n            }\n        }\n    }\n\n    static AddNPCMetatypeAttributeModifier(value) {\n        return {\n            name: METATYPEMODIFIER,\n            value: value as number\n        }\n    }\n}","import SR5ActorData = Shadowrun.SR5ActorData;\nimport { Helpers } from '../../../helpers';\nimport { PartsList } from '../../../parts/PartsList';\n\nexport class SkillsPrep {\n    /**\n     * Prepare actor data for skills\n     */\n    static prepareSkills(data: SR5ActorData) {\n        const { language, active, knowledge } = data.skills;\n        if (language) {\n            if (!language.value) language.value = {};\n            language.attribute = 'intuition';\n        }\n\n        // function that will set the total of a skill correctly\n        const prepareSkill = (skill) => {\n            skill.mod = [];\n            if (!skill.base) skill.base = 0;\n            if (skill.bonus?.length) {\n                for (let bonus of skill.bonus) {\n                    skill.mod = PartsList.AddUniquePart(skill.mod, bonus.key, Number(bonus.value));\n                }\n            }\n            skill.value = Helpers.calcTotal(skill);\n        };\n\n        // setup active skills\n        for (const skill of Object.values(active)) {\n            if (!skill.hidden) {\n                prepareSkill(skill);\n            }\n        }\n\n        const entries = Object.entries(data.skills.language.value);\n        // remove entries which are deleted TODO figure out how to delete these from the data\n        entries.forEach(([key, val]: [string, { _delete?: boolean }]) => val._delete && delete data.skills.language.value[key]);\n\n        for (let skill of Object.values(language.value)) {\n            prepareSkill(skill);\n            skill.attribute = 'intuition';\n        }\n\n        // setup knowledge skills\n        for (let [, group] of Object.entries(knowledge)) {\n            const entries = Object.entries(group.value);\n            // remove entries which are deleted TODO figure out how to delete these from the data\n            group.value = entries\n                .filter(([, val]) => !val._delete)\n                .reduce((acc, [id, skill]) => {\n                    prepareSkill(skill);\n\n                    // set the attribute on the skill\n                    skill.attribute = group.attribute;\n                    acc[id] = skill;\n                    return acc;\n                }, {});\n        }\n\n        // skill labels\n        for (let [skillKey, skillValue] of Object.entries(active)) {\n            skillValue.label = CONFIG.SR5.activeSkills[skillKey];\n        }\n    }\n}\n","import SR5ActorData = Shadowrun.SR5ActorData;\nimport TwoTrackActorData = Shadowrun.TwoTrackActorData;\nimport WoundsActorData = Shadowrun.WoundsActorData;\n\nexport class WoundsPrep {\n    static prepareWounds(data: SR5ActorData & TwoTrackActorData & WoundsActorData) {\n        const { modifiers, track } = data;\n        const count = 3 + Number(modifiers['wound_tolerance']);\n        const stunWounds = track.stun.disabled ? 0 : Math.floor(track.stun.value / count);\n        const physicalWounds = track.physical.disabled ? 0 : Math.floor(track.physical.value / count);\n\n        track.stun.wounds = stunWounds;\n        track.physical.wounds = physicalWounds;\n\n        data.wounds = {\n            value: stunWounds + physicalWounds,\n        };\n    }\n}\n","export class ChummerImportForm extends FormApplication {\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.id = 'chummer-import';\n        options.classes = ['shadowrun5e'];\n        options.title = 'Chummer/Hero Lab Import';\n        options.template = 'systems/shadowrun5e/dist/templates/apps/import.html';\n        options.width = 600;\n        options.height = 'auto';\n        return options;\n    }\n\n    getData() {\n        return {};\n    }\n\n    activateListeners(html) {\n        html.find('.submit-chummer-import').click(async (event) => {\n            event.preventDefault();\n            const chummerfile = JSON.parse($('.chummer-text').val());\n            const weapons = $('.weapons').is(':checked');\n            const armor = $('.armor').is(':checked');\n            const cyberware = $('.cyberware').is(':checked');\n            const equipment = $('.gear').is(':checked');\n            const qualities = $('.qualities').is(':checked');\n            const powers = $('.powers').is(':checked');\n            const spells = $('.spells').is(':checked');\n\n            console.log(chummerfile);\n\n            const parseAtt = (att) => {\n                if (att.toLowerCase() === 'bod') {\n                    return 'body';\n                }\n                if (att.toLowerCase() === 'agi') {\n                    return 'agility';\n                }\n                if (att.toLowerCase() === 'rea') {\n                    return 'reaction';\n                }\n                if (att.toLowerCase() === 'str') {\n                    return 'strength';\n                }\n                if (att.toLowerCase() === 'cha') {\n                    return 'charisma';\n                }\n                if (att.toLowerCase() === 'int') {\n                    return 'intuition';\n                }\n                if (att.toLowerCase() === 'log') {\n                    return 'logic';\n                }\n                if (att.toLowerCase() === 'wil') {\n                    return 'willpower';\n                }\n                if (att.toLowerCase() === 'edg') {\n                    return 'edge';\n                }\n                if (att.toLowerCase() === 'mag') {\n                    return 'magic';\n                }\n                if (att.toLowerCase() === 'res') {\n                    return 'resonance';\n                }\n            };\n\n            const parseDamage = (val) => {\n                const damage = {\n                    damage: 0,\n                    type: 'physical',\n                    radius: 0,\n                    dropoff: 0,\n                };\n                const split = val.split(',');\n                if (split.length > 0) {\n                    const l = split[0].match(/(\\d+)(\\w+)/);\n                    if (l && l[1]) damage.damage = parseInt(l[1]);\n                    if (l && l[2]) damage.type = l[2] === 'P' ? 'physical' : 'stun';\n                }\n                for (let i = 1; i < split.length; i++) {\n                    const l = split[i].match(/(-?\\d+)(.*)/);\n                    if (l && l[2]) {\n                        if (l[2].toLowerCase().includes('/m')) damage.dropoff = parseInt(l[1]);\n                        else damage.radius = parseInt(l[1]);\n                    }\n                }\n                return damage;\n            };\n\n            const getValues = (val) => {\n                const regex = /(-?[0-9]+)(?:([0-9]+))*/g;\n                const l = val.match(regex);\n                return l || ['0'];\n            };\n\n            const getArray = (value) => {\n                return Array.isArray(value) ? value : [value];\n            };\n            const updateData = duplicate(this.object.data);\n            const update = updateData.data;\n            const items = [];\n            let error = '';\n            // character info stuff, also techno/magic and essence\n            if (chummerfile.characters && chummerfile.characters.character) {\n                const c = chummerfile.characters.character;\n                try {\n                    if (c.playername) {\n                        update.player_name = c.playername;\n                    }\n                    if (c.alias) {\n                        update.name = c.alias;\n                        updateData.name = c.alias;\n                    }\n                    if (c.metatype) {\n                        update.metatype = c.metatype;\n                    }\n                    if (c.sex) {\n                        update.sex = c.sex;\n                    }\n                    if (c.age) {\n                        update.age = c.age;\n                    }\n                    if (c.height) {\n                        update.height = c.height;\n                    }\n                    if (c.weight) {\n                        update.weight = c.weight;\n                    }\n                    if (c.calculatedstreetcred) {\n                        update.street_cred = c.calculatedstreetcred;\n                    }\n                    if (c.calculatednotoriety) {\n                        update.notoriety = c.calculatednotoriety;\n                    }\n                    if (c.calculatedpublicawareness) {\n                        update.public_awareness = c.calculatedpublicawareness;\n                    }\n                    if (c.karma) {\n                        update.karma.value = c.karma;\n                    }\n                    if (c.totalkarma) {\n                        update.karma.max = c.totalkarma;\n                    }\n                    if (c.technomancer && c.technomancer.toLowerCase() === 'true') {\n                        update.special = 'resonance';\n                    }\n                    if (\n                        (c.magician && c.magician.toLowerCase() === 'true') ||\n                        (c.adept && c.adept.toLowerCase() === 'true')\n                    ) {\n                        update.special = 'magic';\n                        let attr = [];\n                        if (\n                            c.tradition &&\n                            c.tradition.drainattribute &&\n                            c.tradition.drainattribute.attr\n                        ) {\n                            attr = c.tradition.drainattribute.attr;\n                        } else if (c.tradition && c.tradition.drainattributes) {\n                            attr = c.tradition.drainattributes\n                                .split('+')\n                                .map((item) => item.trim());\n                        }\n                        attr.forEach((att) => {\n                            att = parseAtt(att);\n                            if (att !== 'willpower') update.magic.attribute = att;\n                        });\n                    }\n                    if (c.totaless) {\n                        update.attributes.essence.value = c.totaless;\n                    }\n                    if (c.nuyen) {\n                        update.nuyen = parseInt(c.nuyen.replace(',', ''));\n                    }\n                } catch (e) {\n                    error += `Error with character info: ${e}. `;\n                }\n                // update attributes\n                const atts = chummerfile.characters.character.attributes[1].attribute;\n                atts.forEach((att) => {\n                    try {\n                        const newAtt = parseAtt(att.name);\n                        if (newAtt) update.attributes[newAtt].base = parseInt(att.total);\n                    } catch (e) {\n                        error += `Error with attributes: ${e}. `;\n                    }\n                });\n                // initiative stuff\n                try {\n                    if (c.initbonus) {\n                        // not sure if this one is correct\n                        update.mods.initiative = c.initbonus;\n                    }\n                    if (c.initdice) {\n                        update.mods.initiative_dice = c.initdice - 1;\n                    }\n                } catch (e) {\n                    error += `Error with initiative: ${e}. `;\n                }\n                // skills...\n                const skills = c.skills.skill;\n                for (let i = 0; i < skills.length; i++) {\n                    try {\n                        const s = skills[i];\n                        if (s.rating > 0 && s.islanguage) {\n                            let group = 'active';\n                            let skill = null;\n                            const id = randomID(16);\n                            if (s.islanguage && s.islanguage.toLowerCase() === 'true') {\n                                skill = {};\n                                update.skills.language.value[id] = skill;\n                                group = 'language';\n                            } else if (s.knowledge && s.knowledge.toLowerCase() === 'true') {\n                                const category = s.skillcategory_english;\n                                console.log(category);\n                                skill = {};\n                                let skillCategory;\n                                if (category) {\n                                    console.log('found category', category);\n                                    const cat = category.toLowerCase();\n                                    if (cat === 'street')\n                                        skillCategory = update.skills.knowledge.street.value;\n                                    if (cat === 'academic')\n                                        skillCategory = update.skills.knowledge.academic.value;\n                                    if (cat === 'professional')\n                                        skillCategory = update.skills.knowledge.professional.value;\n                                    if (cat === 'interest')\n                                        skillCategory = update.skills.knowledge.interests.value;\n                                    if (skillCategory) skillCategory[id] = skill;\n                                } else {\n                                    if (s.attribute.toLowerCase() === 'int') {\n                                        update.skills.knowledge.street.value[id] = skill;\n                                    }\n                                    if (s.attribute.toLowerCase() === 'log') {\n                                        update.skills.knowledge.professional.value[id] = skill;\n                                    }\n                                }\n                                group = 'knowledge';\n                            } else {\n                                let name = s.name\n                                    .toLowerCase()\n                                    .trim()\n                                    .replace(/\\s/g, '_')\n                                    .replace(/-/g, '_');\n                                if (name.includes('exotic') && name.includes('_weapon'))\n                                    name = name.replace('_weapon', '');\n                                skill = update.skills.active[name];\n                            }\n                            if (!skill) console.error(`Couldn't parse skill ${s.name}`);\n                            if (skill) {\n                                if (group !== 'active') skill.name = s.name;\n                                skill.base = parseInt(s.rating);\n                                if (s.skillspecializations) {\n                                    skill.specs = getArray(\n                                        s.skillspecializations.skillspecialization.name\n                                    );\n                                }\n                            }\n                        }\n                    } catch (e) {\n                        console.error(e);\n                    }\n                }\n                // qualities\n                if (qualities && c.qualities && c.qualities.quality) {\n                    const qualities = getArray(c.qualities.quality);\n                    qualities.forEach((q) => {\n                        try {\n                            const data = {};\n                            data.type = q.qualitytype.toLowerCase();\n                            if (q.description)\n                                data.description = {\n                                    value: TextEditor.enrichHTML(q.description),\n                                };\n\n                            const itemData = {\n                                name: q.name,\n                                type: 'quality',\n                                data,\n                            };\n                            items.push(itemData);\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    });\n                }\n                // weapons\n                if (weapons && c.weapons != null && c.weapons.weapon != null) {\n                    const weapons = getArray(c.weapons.weapon);\n                    weapons.forEach((w) => {\n                        try {\n                            const data = {};\n                            const action = {};\n                            const damage = {};\n                            action.damage = damage;\n                            data.action = action;\n\n                            if (w.description) {\n                                data.description = {\n                                    value: TextEditor.enrichHTML(w.description),\n                                };\n                            }\n\n                            damage.ap = {\n                                base: parseInt(getValues(w.ap)[0]),\n                            };\n                            action.type = 'varies';\n                            if (w.skill) action.skill = w.skill.toLowerCase().replace(/\\s/g, '_');\n                            else if (w.category && w.category.toLowerCase().includes('exotic'))\n                                action.skill = w.category\n                                    .toLowerCase()\n                                    .replace(' weapons', '')\n                                    .replace(/\\s/g, '_');\n                            if (action.skill.includes('exotic'))\n                                action.skill = action.skill.replace('_weapon', '');\n                            action.attribute = 'agility';\n                            action.limit = {\n                                base: parseInt(getValues(w.accuracy)[0]),\n                            };\n                            action.opposed = {\n                                type: 'defense',\n                            };\n\n                            if (w.type.toLowerCase() === 'melee') {\n                                action.type = 'complex';\n                                data.category = 'melee';\n                                const melee = {};\n                                data.melee = melee;\n                                melee.reach = parseInt(w.reach);\n                            } else if (w.type.toLowerCase() === 'ranged') {\n                                data.category = 'range';\n                                if (w.skill.toLowerCase().includes('throw')) {\n                                    data.category = 'thrown'; // TODO clean this up\n                                }\n                                const range = {};\n                                data.range = range;\n                                range.rc = {\n                                    base: parseInt(getValues(w.rc)[0]),\n                                };\n                                if (w.mode) {\n                                    // HeroLab export doesn't have mode\n                                    const lower = w.mode.toLowerCase();\n                                    range.modes = {\n                                        single_shot: lower.includes('ss'),\n                                        semi_auto: lower.includes('sa'),\n                                        burst_fire: lower.includes('bf'),\n                                        full_auto: lower.includes('fa'),\n                                    };\n                                }\n                                if (w.clips != null && w.clips.clip != null) {\n                                    // HeroLab export doesn't have clips\n                                    const clips = Array.isArray(w.clips.clip)\n                                        ? w.clips.clip\n                                        : [w.clips.clip];\n                                    clips.forEach((clip) => {\n                                        console.log(clip);\n                                    });\n                                }\n                                if (\n                                    w.ranges &&\n                                    w.ranges.short &&\n                                    w.ranges.medium &&\n                                    w.ranges.long &&\n                                    w.ranges.extreme\n                                ) {\n                                    console.log(w.ranges);\n                                    range.ranges = {\n                                        short: parseInt(w.ranges.short.split('-')[1]),\n                                        medium: parseInt(w.ranges.medium.split('-')[1]),\n                                        long: parseInt(w.ranges.long.split('-')[1]),\n                                        extreme: parseInt(w.ranges.extreme.split('-')[1]),\n                                    };\n                                }\n                                // TODO figure out how to add mods to weapons\n                                // if (w.accessories && w.accessories.accessory) {\n                                //     range.mods = [];\n                                //     const accessories = getArray(w.accessories.accessory);\n                                //     accessories.forEach((a) => {\n                                //         if (a) {\n                                //             range.mods.push({\n                                //                 name: a.name,\n                                //             });\n                                //         }\n                                //     });\n                                // }\n                            } else if (w.type.toLowerCase() === 'thrown') {\n                                data.category = 'thrown';\n                            }\n                            {\n                                // TODO handle raw damage if present\n                                const d = parseDamage(w.damage_english);\n                                damage.base = d.damage;\n                                damage.type = {};\n                                damage.type.base = d.type;\n                                if (d.dropoff || d.radius) {\n                                    const thrown = {};\n                                    data.thrown = thrown;\n                                    thrown.blast = {\n                                        radius: d.radius,\n                                        dropoff: d.dropoff,\n                                    };\n                                }\n                            }\n\n                            const itemData = {\n                                name: w.name,\n                                type: 'weapon',\n                                data,\n                            };\n                            items.push(itemData);\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    });\n                }\n                // armors\n                if (armor && c.armors && c.armors.armor) {\n                    const armors = getArray(c.armors.armor);\n                    armors.forEach((a) => {\n                        try {\n                            const data = {};\n                            const armor = {};\n                            data.armor = armor;\n\n                            let desc = '';\n                            armor.mod = a.armor.includes('+');\n                            armor.value = parseInt(a.armor.replace('+', ''));\n                            if (a.description) desc = a.description;\n\n                            console.log(a);\n                            if (a.armormods && a.armormods.armormod) {\n                                armor.fire = 0;\n                                armor.electricity = 0;\n                                armor.cold = 0;\n                                armor.acid = 0;\n                                armor.radiation = 0;\n\n                                const modDesc = [];\n                                const mods = getArray(a.armormods.armormod);\n                                mods.forEach((mod) => {\n                                    if (mod.name.toLowerCase().includes('fire resistance')) {\n                                        armor.fire += parseInt(mod.rating);\n                                    } else if (mod.name.toLowerCase().includes('nonconductivity')) {\n                                        armor.electricity += parseInt(mod.rating);\n                                    } else if (mod.name.toLowerCase().includes('insulation')) {\n                                        armor.cold += parseInt(mod.rating);\n                                    } else if (\n                                        mod.name.toLowerCase().includes('radiation shielding')\n                                    ) {\n                                        armor.radiation += parseInt(mod.rating);\n                                    }\n                                    if (mod.rating !== '') {\n                                        modDesc.push(`${mod.name} R${mod.rating}`);\n                                    } else {\n                                        modDesc.push(mod.name);\n                                    }\n                                });\n                                if (modDesc.length > 0) {\n                                    // add desc to beginning\n                                    desc = `${modDesc.join(',')}\\n\\n${desc}`;\n                                }\n                            }\n                            if (a.equipped.toLowerCase() === 'true') {\n                                data.technology = {\n                                    equipped: true,\n                                };\n                            }\n                            data.description = {\n                                value: TextEditor.enrichHTML(desc),\n                            };\n\n                            const itemData = {\n                                name: a.name,\n                                type: 'armor',\n                                data,\n                            };\n                            items.push(itemData);\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    });\n                }\n                // cyberware\n                if (cyberware && c.cyberwares && c.cyberwares.cyberware) {\n                    const cyberwares = getArray(c.cyberwares.cyberware);\n                    cyberwares.forEach((cy) => {\n                        try {\n                            const data = {};\n                            data.description = {\n                                rating: cy.rating,\n                                value: cy.description,\n                            };\n                            data.technology = {\n                                equipped: true,\n                            };\n                            data.essence = cy.ess;\n                            data.grade = cy.grade;\n                            const itemData = {\n                                name: cy.name,\n                                type: 'cyberware',\n                                data,\n                            };\n                            items.push(itemData);\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    });\n                }\n                // powers\n                if (powers && c.powers && c.powers.power) {\n                    const powers = getArray(c.powers.power);\n                    powers.forEach((p) => {\n                        const data = {};\n                        if (p.description)\n                            data.description = {\n                                value: TextEditor.enrichHTML(p.description),\n                            };\n                        data.level = parseInt(p.rating);\n                        p.pp = parseInt(p.totalpoints);\n\n                        const itemData = {\n                            name: p.name,\n                            type: 'adept_power',\n                            data,\n                        };\n                        items.push(itemData);\n                    });\n                }\n                // gear\n                if (equipment && c.gears && c.gears.gear) {\n                    const gears = getArray(c.gears.gear);\n                    gears.forEach((g) => {\n                        try {\n                            const data = {};\n                            let { name } = g;\n                            if (g.extra) name += ` (${g.extra})`;\n                            data.technology = {\n                                rating: g.rating,\n                                quantity: g.qty,\n                            };\n                            data.description = {\n                                value: g.description,\n                            };\n                            const itemData = {\n                                name,\n                                type: 'equipment',\n                                data,\n                            };\n                            items.push(itemData);\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    });\n                }\n                // spells\n                if (spells && c.spells && c.spells.spell) {\n                    const spells = getArray(c.spells.spell);\n                    spells.forEach((s) => {\n                        try {\n                            if (s.alchemy.toLowerCase() !== 'true') {\n                                const action = {};\n                                const data = {};\n                                data.action = action;\n                                data.category = s.category.toLowerCase().replace(/\\s/g, '_');\n                                data.name = s.name;\n                                data.type = s.type === 'M' ? 'mana' : 'physical';\n                                data.range =\n                                    s.range === 'T'\n                                        ? 'touch'\n                                        : s.range\n                                              .toLowerCase()\n                                              .replace(/\\s/g, '_')\n                                              .replace('(', '')\n                                              .replace(')', '');\n                                data.drain = parseInt(s.dv.replace('F', ''));\n                                let description = '';\n                                if (s.descriptors) description = s.descriptors;\n                                if (s.description) description += `\\n${s.description}`;\n                                data.description = {};\n                                data.description.value = TextEditor.enrichHTML(description);\n\n                                if (s.duration.toLowerCase() === 's') data.duration = 'sustained';\n                                else if (s.duration.toLowerCase() === 'i')\n                                    data.duration = 'instant';\n                                else if (s.duration.toLowerCase() === 'p')\n                                    data.duration = 'permanent';\n\n                                action.type = 'varies';\n                                action.skill = 'spellcasting';\n                                action.attribute = 'magic';\n\n                                if (s.descriptors) {\n                                    const desc = s.descriptors.toLowerCase();\n                                    if (s.category.toLowerCase() === 'combat') {\n                                        data.combat = {};\n                                        if (desc.includes('direct')) {\n                                            data.combat.type = 'indirect';\n                                            action.opposed = {\n                                                type: 'defense',\n                                            };\n                                        } else {\n                                            data.combat.type = 'direct';\n                                            if (data.type === 'mana') {\n                                                action.opposed = {\n                                                    type: 'custom',\n                                                    attribute: 'willpower',\n                                                };\n                                            } else if (data.type === 'physical') {\n                                                action.opposed = {\n                                                    type: 'custom',\n                                                    attribute: 'body',\n                                                };\n                                            }\n                                        }\n                                    }\n                                    if (s.category.toLowerCase() === 'detection') {\n                                        data.detection = {};\n                                        const split = desc.split(',');\n                                        split.forEach((token) => {\n                                            token = token || '';\n                                            token = token.replace(' detection spell', '');\n                                            if (!token) return;\n                                            if (token.includes('area')) return;\n\n                                            if (token.includes('passive'))\n                                                data.detection.passive = true;\n                                            else if (token.includes('active'))\n                                                data.detection.passive = false;\n                                            else if (token)\n                                                data.detection.type = token.toLowerCase();\n                                        });\n                                        if (!data.detection.passive) {\n                                            action.opposed = {\n                                                type: 'custom',\n                                                attribute: 'willpower',\n                                                attribute2: 'logic',\n                                            };\n                                        }\n                                    }\n                                    if (s.category.toLowerCase() === 'illusion') {\n                                        data.illusion = {};\n                                        const split = desc.split(',');\n                                        split.forEach((token) => {\n                                            token = token || '';\n                                            token = token.replace(' illusion spell', '');\n                                            if (!token) return;\n                                            if (token.includes('area')) return;\n\n                                            if (token.includes('sense'))\n                                                data.illusion.sense = token.toLowerCase();\n                                            else if (token)\n                                                data.illusion.type = token.toLowerCase();\n                                        });\n                                        if (data.type === 'mana') {\n                                            action.opposed = {\n                                                type: 'custom',\n                                                attribute: 'willpower',\n                                                attribute2: 'logic',\n                                            };\n                                        } else {\n                                            action.opposed = {\n                                                type: 'custom',\n                                                attribute: 'intuition',\n                                                attribute2: 'logic',\n                                            };\n                                        }\n                                    }\n                                    if (s.category.toLowerCase() === 'manipulation') {\n                                        data.manipulation = {};\n                                        if (desc.includes('environmental'))\n                                            data.manipulation.environmental = true;\n                                        if (desc.includes('physical'))\n                                            data.manipulation.physical = true;\n                                        if (desc.includes('mental'))\n                                            data.manipulation.mental = true;\n                                        // TODO figure out how to parse damaging\n\n                                        if (data.manipulation.mental) {\n                                            action.opposed = {\n                                                type: 'custom',\n                                                attribute: 'willpower',\n                                                attribute2: 'logic',\n                                            };\n                                        }\n                                        if (data.manipulation.physical) {\n                                            action.opposed = {\n                                                type: 'custom',\n                                                attribute: 'body',\n                                                attribute2: 'strength',\n                                            };\n                                        }\n                                    }\n                                }\n                                const itemData = {\n                                    name: s.name,\n                                    type: 'spell',\n                                    data,\n                                };\n                                items.push(itemData);\n                            }\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    });\n                }\n            }\n            await this.object.update(updateData);\n            await this.object.createEmbeddedEntity('OwnedItem', items);\n            ui.notifications.info(\n                'Complete! Check everything. Notably: Ranged weapon mods and ammo; Strength based weapon damage; Specializations on all spells, powers, and weapons;'\n            );\n            this.close();\n        });\n    }\n}\n","import { SR5Item } from '../../item/SR5Item';\nimport { Helpers } from '../../helpers';\n\nexport class ShadowrunItemDialog extends Dialog {\n    static async fromItem(item: SR5Item, event?: MouseEvent): Promise<DialogData | undefined> {\n        const dialogData: DialogData = {\n            title: item.name,\n            buttons: {},\n        };\n        if (event) dialogData['event'] = event;\n\n        const templateData = {};\n        let templatePath = '';\n\n        if (item.isRangedWeapon()) {\n            ShadowrunItemDialog.addRangedWeaponData(templateData, dialogData, item);\n            templatePath = 'systems/shadowrun5e/dist/templates/rolls/range-weapon-roll.html';\n        } else if (item.isSpell()) {\n            ShadowrunItemDialog.addSpellData(templateData, dialogData, item);\n            templatePath = 'systems/shadowrun5e/dist/templates/rolls/roll-spell.html';\n        } else if (item.isComplexForm()) {\n            ShadowrunItemDialog.addComplexFormData(templateData, dialogData, item);\n            templatePath = 'systems/shadowrun5e/dist/templates/rolls/roll-complex-form.html';\n        }\n\n        if (templatePath) {\n            const dialog = await renderTemplate(templatePath, templateData);\n            return mergeObject(dialogData, {\n                content: dialog,\n            });\n        }\n\n        return undefined;\n    }\n\n    /*\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        return mergeObject(options, {\n            classes: ['sr5', 'sheet'],\n        });\n    }\n     */\n\n    static addComplexFormData(templateData: object, dialogData: DialogData, item: SR5Item): void {\n        const fade = item.getFade();\n        const title = `${Helpers.label(item.name)} Level`;\n\n        const level = item.getLastComplexFormLevel()?.value || 2 - fade;\n\n        templateData['fade'] = fade >= 0 ? `+${fade}` : fade;\n        templateData['level'] = level;\n        templateData['title'] = title;\n\n        let cancel = true;\n        dialogData.buttons = {\n            roll: {\n                label: 'Continue',\n                icon: '<i class=\"fas fa-dice-six\"></i>',\n                callback: () => (cancel = false),\n            },\n        };\n        dialogData.close = async (html) => {\n            if (cancel) return false;\n            const level = Helpers.parseInputToNumber($(html).find('[name=level]').val());\n            await item.setLastComplexFormLevel({ value: level });\n            return true;\n        };\n    }\n\n    static addSpellData(templateData: object, dialogData: DialogData, item: SR5Item): void {\n        const title = `${Helpers.label(item.name)} Force`;\n        const drain = item.getDrain();\n\n        const force = item.getLastSpellForce()?.value || 2 - drain;\n\n        templateData['drain'] = drain >= 0 ? `+${drain}` : `${drain}`;\n        templateData['force'] = force;\n        templateData['title'] = title;\n\n        dialogData.title = title;\n        let cancel = true;\n        let reckless = false;\n        dialogData.buttons = {\n            normal: {\n                label: game.i18n.localize('SR5.NormalSpellButton'),\n                callback: () => (cancel = false),\n            },\n            reckless: {\n                label: game.i18n.localize('SR5.RecklessSpellButton'),\n                callback: () => {\n                    reckless = true;\n                    cancel = false;\n                },\n            },\n        };\n        dialogData.default = 'normal';\n        dialogData.close = async (html) => {\n            if (cancel) return false;\n            const force = Helpers.parseInputToNumber($(html).find('[name=force]').val());\n            await item.setLastSpellForce({ value: force, reckless });\n            return true;\n        };\n    }\n\n    static addRangedWeaponData(templateData: object, dialogData: DialogData, item: SR5Item): void {\n        let title = dialogData.title || item.name;\n\n        const itemData = item.data.data;\n        const fireModes = {};\n\n        const { modes, ranges } = itemData.range;\n        const { ammo } = itemData;\n        if (modes.single_shot) {\n            fireModes['1'] = game.i18n.localize(\"SR5.WeaponModeSingleShotShort\");\n        }\n        if (modes.semi_auto) {\n            fireModes['1'] = game.i18n.localize(\"SR5.WeaponModeSemiAutoShort\");\n            fireModes['3'] = game.i18n.localize(\"SR5.WeaponModeSemiAutoBurst\");\n        }\n        if (modes.burst_fire) {\n            fireModes['3'] = `${modes.semi_auto ? `${game.i18n.localize(\"SR5.WeaponModeSemiAutoBurst\")}/` : ''}${game.i18n.localize(\"SR5.WeaponModeBurstFireShort\")}`;\n            fireModes['6'] = game.i18n.localize(\"SR5.WeaponModeBurstFireLong\");\n        }\n        if (modes.full_auto) {\n            fireModes['6'] = `${modes.burst_fire ? 'LB/' : ''}${game.i18n.localize(\"SR5.WeaponModeFullAutoShort\")}(s)`;\n            fireModes['10'] = `${game.i18n.localize(\"SR5.WeaponModeFullAutoShort\")}(c)`;\n            fireModes['20'] = game.i18n.localize('SR5.Suppressing');\n        }\n\n        const templateRanges = this._getRangeWeaponTemplateData(ranges);\n        const fireMode = item.getLastFireMode();\n        const rc = item.getRecoilCompensation(true);\n        templateData['fireModes'] = fireModes;\n        templateData['fireMode'] = fireMode?.value;\n        templateData['rc'] = rc;\n        templateData['ammo'] = ammo;\n        templateData['title'] = title;\n        templateData['ranges'] = templateRanges;\n        templateData['targetRange'] = item.getLastFireRangeMod();\n\n        let cancel = true;\n        dialogData.buttons = {\n            continue: {\n                label: game.i18n.localize('SR5.Continue'),\n                callback: () => (cancel = false),\n            },\n        };\n\n        dialogData.close = async (html) => {\n            if (cancel) return false;\n            const fireMode = Helpers.parseInputToNumber($(html).find('[name=\"fireMode\"]').val());\n            const range = Helpers.parseInputToNumber($(html).find('[name=\"range\"]').val());\n\n            if (range) {\n                await item.setLastFireRangeMod({ value: range });\n            }\n\n            if (fireMode) {\n                const fireModeString = fireModes[fireMode];\n                const defenseModifier = Helpers.mapRoundsToDefenseDesc(fireMode);\n                const fireModeData = {\n                    label: fireModeString,\n                    value: fireMode,\n                    defense: defenseModifier,\n                };\n                await item.setLastFireMode(fireModeData);\n            }\n            return true;\n        };\n    }\n\n    static _getRangeWeaponTemplateData(ranges) {\n        const lookup = {\n            short: 0,\n            medium: -1,\n            long: -3,\n            extreme: -6,\n        };\n        const newRanges = {};\n        for (const [key, value] of Object.entries(ranges)) {\n            newRanges[key] = {\n                distance: value,\n                label: CONFIG.SR5.weaponRanges[key],\n                modifier: lookup[key],\n            };\n        }\n        return newRanges;\n    }\n}\n","/**\n * A GM-Tool to keep track of all players overwatch scores\n */\nexport class OverwatchScoreTracker extends Application {\n    static MatrixOverwatchDiceCount = '2d6';\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.id = 'overwatch-score-tracker';\n        options.classes = ['sr5'];\n        options.title = game.i18n.localize('SR5.OverwatchScoreTrackerTitle');\n        options.template = 'systems/shadowrun5e/dist/templates/apps/gmtools/overwatch-score-tracker.html';\n        options.width = 450;\n        options.height = 'auto';\n        options.resizable = true;\n        return options;\n    }\n\n    static addedActors = [];\n\n    getData() {\n        // get list of actors that belong to users\n        const actors = game.users.reduce((acc, user) => {\n            if (!user.isGM && user.character) {\n                acc.push(user.character.data);\n            }\n            return acc;\n        }, []);\n\n        OverwatchScoreTracker.addedActors.forEach((id) => {\n            const actor = game.actors.find((a) => a._id === id);\n            if (actor) {\n                actors.push(actor.data);\n            }\n        });\n\n        return {\n            actors,\n        };\n    }\n\n    activateListeners(html) {\n        html.find('.overwatch-score-reset').on('click', this._resetOverwatchScore.bind(this));\n        html.find('.overwatch-score-add').on('click', this._addOverwatchScore.bind(this));\n        html.find('.overwatch-score-input').on('change', this._setOverwatchScore.bind(this));\n        html.find('.overwatch-score-roll-15-minutes').on('click', this._rollFor15Minutes.bind(this));\n        html.find('.overwatch-score-add-actor').on('click', this._onAddActor.bind(this));\n    }\n\n    // returns the actor that this event is acting on\n    _getActorFromEvent(event) {\n        const id = event.currentTarget.closest('.list-item').dataset.actorId;\n        if (id) return game.actors.find((a) => a._id === id);\n    }\n\n    _onAddActor(event) {\n        event.preventDefault();\n        const tokens = canvas.tokens.controlled;\n        if (tokens.length === 0) {\n            ui.notifications.warn(game.i18n.localize('SR5.OverwatchScoreTracker.NotifyNoSelectedTokens'));\n            return;\n        }\n        tokens.forEach((token) => {\n            const actorId = token.data.actorId;\n            OverwatchScoreTracker.addedActors.push(actorId);\n            this.render();\n        });\n    }\n\n    _setOverwatchScore(event) {\n        const actor = this._getActorFromEvent(event);\n        const amount = event.currentTarget.value;\n        if (amount && actor) {\n            actor.setOverwatchScore(amount).then(() => this.render());\n        }\n    }\n\n    _addOverwatchScore(event) {\n        const actor = this._getActorFromEvent(event);\n        const amount = parseInt(event.currentTarget.dataset.amount);\n        if (amount && actor) {\n            const os = actor.getOverwatchScore();\n            actor.setOverwatchScore(os + amount).then(() => this.render());\n        }\n    }\n\n    _resetOverwatchScore(event) {\n        event.preventDefault();\n        const actor = this._getActorFromEvent(event);\n        if (actor) {\n            actor.setOverwatchScore(0).then(() => this.render());\n        }\n    }\n\n    _rollFor15Minutes(event) {\n        event.preventDefault();\n        const actor = this._getActorFromEvent(event);\n        if (actor) {\n            //  use static value so it can be modified in modules\n            const roll = new Roll(OverwatchScoreTracker.MatrixOverwatchDiceCount);\n            roll.roll();\n\n            // use GM Roll Mode so players don't see\n            // const rollMode = CONFIG.Dice.rollModes.gmroll;\n            // roll.toMessage({ rollMode });\n\n            if (roll.total) {\n                const os = actor.getOverwatchScore();\n                actor.setOverwatchScore(os + roll.total).then(() => this.render());\n            }\n        }\n    }\n}\n","import { LanguageSkillEditForm } from './LanguageSkillEditForm';\nimport KnowledgeSkillCategory = Shadowrun.KnowledgeSkillCategory;\n\nexport class KnowledgeSkillEditForm extends LanguageSkillEditForm {\n    category: KnowledgeSkillCategory;\n    constructor(actor, options, skillId, category) {\n        super(actor, options, skillId);\n        this.category = category;\n    }\n    _updateString() {\n        return `data.skills.knowledge.${this.category}.value.${this.skillId}`;\n    }\n}\n","import { SkillEditForm } from './SkillEditForm';\n\nexport class LanguageSkillEditForm extends SkillEditForm {\n    _updateString() {\n        return `data.skills.language.value.${this.skillId}`;\n    }\n\n    getData() {\n        return mergeObject(super.getData(), {\n            editable_name: true,\n        });\n    }\n\n    /** @override */\n    _onUpdateObject(event, formData, updateData) {\n        super._onUpdateObject(event, formData, updateData);\n        const name = formData['data.name'];\n        const currentData = updateData[this._updateString()] || {};\n        updateData[this._updateString()] = {\n            ...currentData,\n            name,\n        };\n    }\n}\n","import SkillEditFormData = Shadowrun.SkillEditFormData;\n\nexport class SkillEditForm extends BaseEntitySheet {\n    skillId: string;\n\n    constructor(actor, options, skillId) {\n        super(actor, options);\n        this.skillId = skillId;\n    }\n\n    _updateString() {\n        return `data.skills.active.${this.skillId}`;\n    }\n\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        return mergeObject(options, {\n            id: 'skill-editor',\n            classes: ['sr5', 'sheet', 'skill-edit-window'],\n            template: 'systems/shadowrun5e/dist/templates/apps/skill-edit.html',\n            width: 300,\n            submitOnClose: true,\n            submitOnChange: true,\n            closeOnSubmit: false,\n            resizable: true,\n        });\n    }\n\n    get title(): string {\n        const label = this.entity.getSkillLabel(this.skillId);\n        return `${game.i18n.localize('SR5.EditSkill')} - ${game.i18n.localize(label)}`;\n    }\n\n    _onUpdateObject(event, formData, updateData) {\n        // get base value\n        const base = formData['data.base'];\n\n        // process specializations\n        const specsRegex = /data\\.specs\\.(\\d+)/;\n        const specs = Object.entries(formData).reduce((running, [key, val]: [string, any]) => {\n            const found = key.match(specsRegex);\n            if (found && found[0]) {\n                running.push(val);\n            }\n            return running;\n        }, [] as any[]);\n\n        // process bonuses\n        const bonusKeyRegex = /data\\.bonus\\.(\\d+).key/;\n        const bonusValueRegex = /data\\.bonus\\.(\\d+).value/;\n        const bonus = Object.entries(formData).reduce((running, [key, value]: [string, any]) => {\n            const foundKey = key.match(bonusKeyRegex);\n            const foundVal = key.match(bonusValueRegex);\n            if (foundKey && foundKey[0] && foundKey[1]) {\n                const index = foundKey[1];\n                if (running[index] === undefined) running[index] = {};\n                running[index].key = value;\n            } else if (foundVal && foundVal[0] && foundVal[1]) {\n                const index = foundVal[1];\n                if (running[index] === undefined) running[index] = {};\n                running[index].value = value;\n            }\n\n            return running;\n        }, [] as any[]);\n\n        const currentData = updateData[this._updateString()] || {};\n        updateData[this._updateString()] = {\n            ...currentData,\n            base,\n            specs,\n            bonus,\n        };\n    }\n\n    /** @override */\n    async _updateObject(event, formData) {\n        const updateData = {};\n        this._onUpdateObject(event, formData, updateData);\n        await this.entity.update(updateData);\n    }\n\n    activateListeners(html) {\n        super.activateListeners(html);\n        $(html).find('.add-spec').on('click', this._addNewSpec.bind(this));\n        $(html).find('.remove-spec').on('click', this._removeSpec.bind(this));\n        $(html).find('.add-bonus').on('click', this._addNewBonus.bind(this));\n        $(html).find('.remove-bonus').on('click', this._removeBonus.bind(this));\n    }\n\n    async _addNewBonus(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (!data) return;\n        const { bonus = [] } = data;\n        // add blank line for new bonus\n        updateData[`${this._updateString()}.bonus`] = [...bonus, { key: '', value: 0 }];\n        await this.entity.update(updateData);\n    }\n\n    async _removeBonus(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (data?.bonus) {\n            const { bonus } = data;\n            const index = event.currentTarget.dataset.spec;\n            if (index >= 0) {\n                bonus.splice(index, 1);\n                updateData[`${this._updateString()}.bonus`] = bonus;\n                await this.entity.update(updateData);\n            }\n        }\n    }\n\n    async _addNewSpec(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (data?.specs) {\n            // add a blank line to specs\n            const { specs } = data;\n            updateData[`${this._updateString()}.specs`] = [...specs, ''];\n        }\n        await this.entity.update(updateData);\n    }\n\n    async _removeSpec(event) {\n        event.preventDefault();\n        const updateData = {};\n        const data = this.getData().data;\n        if (data?.specs) {\n            const { specs } = data;\n            const index = event.currentTarget.dataset.spec;\n            if (index >= 0) {\n                specs.splice(index, 1);\n                updateData[`${this._updateString()}.specs`] = specs;\n                await this.entity.update(updateData);\n            }\n        }\n    }\n\n    getData(): SkillEditFormData {\n        const data = super.getData();\n        const actor = data.entity;\n        data['data'] = actor ? getProperty(actor, this._updateString()) : {};\n        return data;\n    }\n}\n","/**\n * Measure the distance between two pixel coordinates\n * See BaseGrid.measureDistance for more details\n *\n * @param {Object} p0           The origin coordinate {x, y}\n * @param {Object} p1           The destination coordinate {x, y}\n * @param {boolean} gridSpaces  Enforce grid distance (if true) vs. direct point-to-point (if false)\n * @return {number}             The distance between p1 and p0\n */\nimport { SYSTEM_NAME } from './constants';\n\nexport const measureDistance = function (p0, p1, { gridSpaces = true } = {}) {\n    if (!gridSpaces)\n        {  // BaseGrid exists... fix in foundry types\n            // @ts-ignore\n            return BaseGrid.prototype.measureDistance.bind(this)(p0, p1, {\n                        gridSpaces,\n                    });\n        }\n    const gs = canvas.dimensions.size;\n    const ray = new Ray(p0, p1);\n    const nx = Math.abs(Math.ceil(ray.dx / gs));\n    const ny = Math.abs(Math.ceil(ray.dy / gs));\n\n    // Get the number of straight and diagonal moves\n    const nDiagonal = Math.min(nx, ny);\n    const nStraight = Math.abs(ny - nx);\n\n    const diagonalRule = game.settings.get(SYSTEM_NAME, 'diagonalMovement');\n\n    if (diagonalRule === '1-2-1') {\n        const nd10 = Math.floor(nDiagonal / 2);\n        const spaces = nd10 * 2 + (nDiagonal - nd10) + nStraight;\n        return spaces * canvas.dimensions.distance;\n    }\n    return (nStraight + nDiagonal) * canvas.scene.data.gridDistance;\n};\n","import { SR5Actor } from './actor/SR5Actor';\nimport { SR5Item } from './item/SR5Item';\nimport Template from './template';\nimport ModList = Shadowrun.ModList;\nimport BaseValuePair = Shadowrun.BaseValuePair;\nimport DamageData = Shadowrun.DamageData;\nimport AttackData = Shadowrun.AttackData;\nimport LabelField = Shadowrun.LabelField;\nimport { FLAGS, SYSTEM_NAME } from './constants';\nimport { PartsList } from './parts/PartsList';\n\nexport type TemplateData = {\n    header: {\n        name: string;\n        img: string;\n    };\n    tokenId?: string;\n    dice?: Die[];\n    parts?: ModList<number>;\n    limit?: BaseValuePair<number> & LabelField;\n    testName?: string;\n    actor?: SR5Actor;\n    item?: SR5Item;\n    attack?: AttackData;\n    incomingAttack?: AttackData;\n    incomingDrain?: LabelField & {\n        value: number;\n    };\n    hits?: number;\n    soak?: DamageData;\n    tests?: {\n        label: string;\n        type: string;\n    }[];\n    description?: object;\n    previewTemplate?: boolean;\n    rollMode?: keyof typeof CONFIG.Dice.rollModes;\n};\n\nexport const createChatData = async (templateData: TemplateData, roll?: Roll) => {\n    const template = `systems/shadowrun5e/dist/templates/rolls/roll-card.html`;\n    const hackyTemplateData = {\n        ...templateData,\n        parts: new PartsList(templateData.parts).getMessageOutput(),\n        showGlitchAnimation: game.settings.get(SYSTEM_NAME, FLAGS.ShowGlitchAnimation),\n    };\n    const html = await renderTemplate(template, hackyTemplateData);\n    const actor = templateData.actor;\n\n    const chatData = {\n        user: game.user._id,\n        type: roll ? CONST.CHAT_MESSAGE_TYPES.ROLL : CONST.CHAT_MESSAGE_TYPES.OTHER,\n        content: html,\n        roll: roll ? JSON.stringify(roll) : undefined,\n        speaker: {\n            actor: actor?._id,\n            token: actor?.token,\n            alias: templateData.header.name,\n        },\n        flags: {\n            shadowrun5e: {\n                customRoll: true,\n            },\n        },\n    };\n    if (roll) {\n        chatData['sound'] = CONFIG.sounds.dice;\n    }\n    const rollMode = templateData.rollMode ?? game.settings.get('core', 'rollMode');\n\n    if (['gmroll', 'blindroll'].includes(rollMode)) chatData['whisper'] = ChatMessage.getWhisperRecipients('GM');\n    if (rollMode === 'blindroll') chatData['blind'] = true;\n\n    return chatData;\n};\n\nexport const addChatMessageContextOptions = (html, options) => {\n    const canRoll = (li) => {\n        const msg = game.messages.get(li.data().messageId);\n\n        return msg.getFlag(SYSTEM_NAME, FLAGS.MessageCustomRoll);\n    };\n\n    options.push(\n        {\n            name: 'Push the Limit',\n            callback: (li) => SR5Actor.pushTheLimit(li),\n            condition: canRoll,\n            icon: '<i class=\"fas fa-meteor\"></i>',\n        },\n        {\n            name: 'Second Chance',\n            callback: (li) => SR5Actor.secondChance(li),\n            condition: canRoll,\n            icon: '<i class=\"fas fa-dice-d6\"></i>',\n        },\n    );\n    return options;\n};\n\nexport const addRollListeners = (app: ChatMessage, html) => {\n    if (!app.getFlag(SYSTEM_NAME, FLAGS.MessageCustomRoll)) return;\n    const item = SR5Item.getItemFromMessage(html);\n    html.on('click', '.test-roll', async (event) => {\n        event.preventDefault();\n        if (item) {\n            const roll = await item.rollTest(event, { hideRollMessage: true });\n            if (roll && roll.templateData) {\n                const template = `systems/shadowrun5e/dist/templates/rolls/roll-card.html`;\n                const html = await renderTemplate(template, roll.templateData);\n                const data = {};\n                data['content'] = html;\n                await app.update(data);\n            }\n        }\n    });\n    html.on('click', '.test', async (event) => {\n        event.preventDefault();\n        const type = event.currentTarget.dataset.action;\n        if (item) {\n            await item.rollExtraTest(type, event);\n        }\n    });\n    html.on('click', '.place-template', (event) => {\n        event.preventDefault();\n        if (item) {\n            const template = Template.fromItem(item);\n            template?.drawPreview();\n        }\n    });\n    html.on('click', '.card-title', (event) => {\n        event.preventDefault();\n        $(event.currentTarget).siblings('.card-description').toggle();\n    });\n    if (item?.hasRoll && app.isRoll) $(html).find('.card-description').hide();\n};\n","import { SYSTEM_NAME } from './constants';\n\nexport const preCombatUpdate = async function (combat, changes, options) {\n    // triggers when combat round changes\n    if (changes.round && combat.round && changes.round > combat.round) {\n        let initPassEnd = true;\n        for (const c of combat.combatants) {\n            let init = Number(c.initiative);\n            init -= 10;\n            if (init > 0) initPassEnd = false;\n        }\n        if (!initPassEnd) {\n            changes.round = combat.round;\n        }\n        // if we are gm, call function normally\n        // if not gm, send a socket message for the gm to update the combatants\n        // for new initative passes or reroll\n        if (game.user.isGM) {\n            await shadowrunCombatUpdate(changes, options);\n        } else {\n            // @ts-ignore\n            game.socket.emit('system.shadowrun5e', {\n                gmCombatUpdate: {\n                    changes,\n                    options,\n                },\n            });\n        }\n    }\n};\n\nexport const shadowrunCombatUpdate = async (changes, options) => {\n    const { combat } = game;\n    // subtact 10 from all initiative, we just went into the next initiative pass\n    const removedCombatants = combat.getFlag(SYSTEM_NAME, 'removedCombatants') || [];\n    const combatants = [];\n    for (const c of combat.combatants) {\n        let init = Number(c.initiative);\n        init -= 10;\n        if (init <= 0) removedCombatants.push({ ...c });\n        else {\n            // @ts-ignore\n            combatants.push({ _id: c._id, initiative: init });\n        }\n    }\n    await combat.deleteEmbeddedEntity(\n        'Combatant',\n        removedCombatants.map((c) => c._id),\n        {},\n    );\n    await combat.updateEmbeddedEntity('Combatant', combatants, {});\n    if (combatants.length === 0) {\n        const messages = [];\n        const messageOptions = options.messageOptions || {};\n\n        for (const c of removedCombatants) {\n            const actorData = c.actor ? c.actor.data : {};\n            // @ts-ignore\n            const formula = combat._getInitiativeFormula(c);\n\n            const roll: Roll = new Roll(formula, actorData).roll();\n            c.initiative = roll.total;\n\n            const rollMode = messageOptions.rollMode || c.token.hidden || c.hidden ? 'gmroll' : 'roll';\n            const messageData = mergeObject(\n                {\n                    speaker: {\n                        scene: canvas.scene._id,\n                        actor: c.actor ? c.actor._id : null,\n                        token: c.token._id,\n                        alias: c.token.name,\n                    },\n                    flavor: `${c.token.name} rolls for Initiative!`,\n                },\n                messageOptions,\n            );\n            await roll.toMessage(messageData, {\n                rollMode,\n            });\n        }\n        await combat.createEmbeddedEntity('Combatant', removedCombatants, {});\n        await ChatMessage.create(messages);\n        await combat.unsetFlag(SYSTEM_NAME, 'removedCombatants');\n        // @ts-ignore\n        await combat.resetAll();\n        await combat.rollAll();\n        await combat.update({ turn: 0 });\n    } else if (removedCombatants.length) {\n        await combat.setFlag(SYSTEM_NAME, 'removedCombatants', removedCombatants);\n        await combat.update({ turn: 0 });\n    }\n};\n","export const SR5 = {\n    itemTypes: {\n        action: 'SR5.ItemTypes.Action',\n        adept_power: 'SR5.ItemTypes.AdeptPower',\n        ammo: 'SR5.ItemTypes.Ammo',\n        armor: 'SR5.ItemTypes.Armor',\n        complex_form: 'SR5.ItemTypes.ComplexForm',\n        contact: 'SR5.ItemTypes.Contact',\n        critter_power: 'SR5.ItemTypes.CritterPower',\n        cyberware: 'SR5.ItemTypes.Cyberware',\n        device: 'SR5.ItemTypes.Device',\n        equipment: 'SR5.ItemTypes.Equipment',\n        lifestyle: 'SR5.ItemTypes.Lifestyle',\n        modification: 'SR5.ItemTypes.Modification',\n        quality: 'SR5.ItemTypes.Quality',\n        sin: 'SR5.ItemTypes.Sin',\n        spell: 'SR5.ItemTypes.Spell',\n        weapon: 'SR5.ItemTypes.Weapon',\n    },\n\n    attributes: {\n        body: 'SR5.AttrBody',\n        agility: 'SR5.AttrAgility',\n        reaction: 'SR5.AttrReaction',\n        strength: 'SR5.AttrStrength',\n        willpower: 'SR5.AttrWillpower',\n        logic: 'SR5.AttrLogic',\n        intuition: 'SR5.AttrIntuition',\n        charisma: 'SR5.AttrCharisma',\n        magic: 'SR5.AttrMagic',\n        resonance: 'SR5.AttrResonance',\n        edge: 'SR5.AttrEdge',\n        essence: 'SR5.AttrEssence',\n        attack: 'SR5.MatrixAttrAttack',\n        sleaze: 'SR5.MatrixAttrSleaze',\n        data_processing: 'SR5.MatrixAttrDataProc',\n        firewall: 'SR5.MatrixAttrFirewall',\n    },\n\n    limits: {\n        physical: 'SR5.LimitPhysical',\n        social: 'SR5.LimitSocial',\n        mental: 'SR5.LimitMental',\n        attack: 'SR5.MatrixAttrAttack',\n        sleaze: 'SR5.MatrixAttrSleaze',\n        data_processing: 'SR5.MatrixAttrDataProc',\n        firewall: 'SR5.MatrixAttrFirewall',\n    },\n\n    specialTypes: {\n        mundane: 'SR5.Mundane',\n        magic: 'SR5.Awakened',\n        resonance: 'SR5.Emerged',\n    },\n\n    damageTypes: {\n        physical: 'SR5.DmgTypePhysical',\n        stun: 'SR5.DmgTypeStun',\n        matrix: 'SR5.DmgTypeMatrix',\n    },\n\n    elementTypes: {\n        fire: 'SR5.ElementFire',\n        cold: 'SR5.ElementCold',\n        acid: 'SR5.ElementAcid',\n        electricity: 'SR5.ElementElectricity',\n        radiation: 'SR5.ElementRadiation',\n    },\n\n    spellCategories: {\n        combat: 'SR5.SpellCatCombat',\n        detection: 'SR5.SpellCatDetection',\n        health: 'SR5.SpellCatHealth',\n        illusion: 'SR5.SpellCatIllusion',\n        manipulation: 'SR5.SpellCatManipulation',\n    },\n\n    spellTypes: {\n        physical: 'SR5.SpellTypePhysical',\n        mana: 'SR5.SpellTypeMana',\n    },\n\n    spellRanges: {\n        touch: 'SR5.SpellRangeTouch',\n        los: 'SR5.SpellRangeLos',\n        los_a: 'SR5.SpellRangeLosA',\n    },\n\n    combatSpellTypes: {\n        direct: 'SR5.SpellCombatDirect',\n        indirect: 'SR5.SpellCombatIndirect',\n    },\n\n    detectionSpellTypes: {\n        directional: 'SR5.SpellDetectionDirectional',\n        psychic: 'SR5.SpellDetectionPsychic',\n        area: 'SR5.SpellDetectionArea',\n    },\n\n    illusionSpellTypes: {\n        obvious: 'SR5.SpellIllusionObvious',\n        realistic: 'SR5.SpellIllusionRealistic',\n    },\n\n    illusionSpellSenses: {\n        'single-sense': 'SR5.SpellIllusionSingleSense',\n        'multi-sense': 'SR5.SpellIllusionMultiSense',\n    },\n\n    attributeRolls: {\n        composure: 'SR5.RollComposure',\n        lift_carry: 'SR5.RollLiftCarry',\n        judge_intentions: 'SR5.RollJudgeIntentions',\n        memory: 'SR5.RollMemory',\n    },\n\n    matrixTargets: {\n        persona: 'SR5.TargetPersona',\n        device: 'SR5.TargetDevice',\n        file: 'SR5.TargetFile',\n        self: 'SR5.TargetSelf',\n        sprite: 'SR5.TargetSprite',\n        other: 'SR5.TargetOther',\n    },\n\n    durations: {\n        instant: 'SR5.DurationInstant',\n        sustained: 'SR5.DurationSustained',\n        permanent: 'SR5.DurationPermanent',\n    },\n\n    weaponCategories: {\n        range: 'SR5.WeaponCatRange',\n        melee: 'SR5.WeaponCatMelee',\n        thrown: 'SR5.WeaponCatThrown',\n    },\n\n    weaponRanges: {\n        short: 'SR5.WeaponRangeShort',\n        medium: 'SR5.WeaponRangeMedium',\n        long: 'SR5.WeaponRangeLong',\n        extreme: 'SR5.WeaponRangeExtreme',\n    },\n\n    qualityTypes: {\n        positive: 'SR5.QualityTypePositive',\n        negative: 'SR5.QualityTypeNegative',\n    },\n\n    adeptPower: {\n        types: {\n            active: 'SR5.AdeptPower.Types.Active',\n            passive: 'SR5.AdeptPower.Types.Passive',\n        },\n    },\n\n    deviceCategories: {\n        commlink: 'SR5.DeviceCatCommlink',\n        cyberdeck: 'SR5.DeviceCatCyberdeck',\n    },\n\n    cyberwareGrades: {\n        standard: 'SR5.CyberwareGradeStandard',\n        alpha: 'SR5.CyberwareGradeAlpha',\n        beta: 'SR5.CyberwareGradeBeta',\n        delta: 'SR5.CyberwareGradeDelta',\n        used: 'SR5.CyberwareGradeUsed',\n    },\n\n    knowledgeSkillCategories: {\n        street: 'SR5.KnowledgeSkillStreet',\n        academic: 'SR5.KnowledgeSkillAcademic',\n        professional: 'SR5.KnowledgeSkillProfessional',\n        interests: 'SR5.KnowledgeSkillInterests',\n    },\n\n    activeSkills: {\n        archery: 'SR5.SkillArchery',\n        automatics: 'SR5.SkillAutomatics',\n        blades: 'SR5.SkillBlades',\n        clubs: 'SR5.SkillClubs',\n        exotic_melee: 'SR5.SkillExoticMelee',\n        exotic_range: 'SR5.SkillExoticRange',\n        heavy_weapons: 'SR5.SkillHeavyWeapons',\n        longarms: 'SR5.SkillLongarms',\n        pistols: 'SR5.SkillPistols',\n        throwing_weapons: 'SR5.SkillThrowingWeapons',\n        unarmed_combat: 'SR5.SkillUnarmedCombat',\n        disguise: 'SR5.SkillDisguise',\n        diving: 'SR5.SkillDiving',\n        escape_artist: 'SR5.SkillEscapeArtist',\n        free_fall: 'SR5.SkillFreeFall',\n        gymnastics: 'SR5.SkillGymnastics',\n        palming: 'SR5.SkillPalming',\n        perception: 'SR5.SkillPerception',\n        running: 'SR5.SkillRunning',\n        sneaking: 'SR5.SkillSneaking',\n        survival: 'SR5.SkillSurvival',\n        swimming: 'SR5.SkillSwimming',\n        tracking: 'SR5.SkillTracking',\n        con: 'SR5.SkillCon',\n        etiquette: 'SR5.SkillEtiquette',\n        impersonation: 'SR5.SkillImpersonation',\n        instruction: 'SR5.SkillInstruction',\n        intimidation: 'SR5.SkillIntimidation',\n        leadership: 'SR5.SkillLeadership',\n        negotiation: 'SR5.SkillNegotiation',\n        performance: 'SR5.SkillPerformance',\n        alchemy: 'SR5.SkillAlchemy',\n        arcana: 'SR5.SkillArcana',\n        artificing: 'SR5.SkillArtificing',\n        assensing: 'SR5.SkillAssensing',\n        astral_combat: 'SR5.SkillAstralCombat',\n        banishing: 'SR5.SkillBanishing',\n        binding: 'SR5.SkillBinding',\n        counterspelling: 'SR5.SkillCounterspelling',\n        disenchanting: 'SR5.SkillDisenchanting',\n        ritual_spellcasting: 'SR5.SkillRitualSpellcasting',\n        spellcasting: 'SR5.SkillSpellcasting',\n        summoning: 'SR5.SkillSummoning',\n        compiling: 'SR5.SkillCompiling',\n        decompiling: 'SR5.SkillDecompiling',\n        registering: 'SR5.SkillRegistering',\n        aeronautics_mechanic: 'SR5.SkillAeronauticsMechanic',\n        automotive_mechanic: 'SR5.SkillAutomotiveMechanic',\n        industrial_mechanic: 'SR5.SkillIndustrialMechanic',\n        nautical_mechanic: 'SR5.SkillNauticalMechanic',\n        animal_handling: 'SR5.SkillAnimalHandling',\n        armorer: 'SR5.SkillArmorer',\n        artisan: 'SR5.SkillArtisan',\n        biotechnology: 'SR5.SkillBiotechnology',\n        chemistry: 'SR5.SkillChemistry',\n        computer: 'SR5.SkillComputer',\n        cybercombat: 'SR5.SkillCybercombat',\n        cybertechnology: 'SR5.SkillCybertechnology',\n        demolitions: 'SR5.SkillDemolitions',\n        electronic_warfare: 'SR5.SkillElectronicWarfare',\n        first_aid: 'SR5.SkillFirstAid',\n        forgery: 'SR5.SkillForgery',\n        hacking: 'SR5.SkillHacking',\n        hardware: 'SR5.SkillHardware',\n        locksmith: 'SR5.SkillLocksmith',\n        medicine: 'SR5.SkillMedicine',\n        navigation: 'SR5.SkillNavigation',\n        software: 'SR5.SkillSoftware',\n        gunnery: 'SR5.SkillGunnery',\n        pilot_aerospace: 'SR5.SkillPilotAerospace',\n        pilot_aircraft: 'SR5.SkillPilotAircraft',\n        pilot_walker: 'SR5.SkillPilotWalker',\n        pilot_ground_craft: 'SR5.SkillPilotGroundCraft',\n        pilot_water_craft: 'SR5.SkillPilotWaterCraft',\n        pilot_exotic_vehicle: 'SR5.SkillPilotExoticVehicle',\n    },\n\n    actionTypes: {\n        none: 'SR5.ActionTypeNone',\n        free: 'SR5.ActionTypeFree',\n        simple: 'SR5.ActionTypeSimple',\n        complex: 'SR5.ActionTypeComplex',\n        varies: 'SR5.ActionTypeVaries',\n    },\n\n    matrixAttributes: {\n        attack: 'SR5.MatrixAttrAttack',\n        sleaze: 'SR5.MatrixAttrSleaze',\n        data_processing: 'SR5.MatrixAttrDataProc',\n        firewall: 'SR5.MatrixAttrFirewall',\n    },\n\n    initiativeCategories: {\n        meatspace: 'SR5.InitCatMeatspace',\n        astral: 'SR5.InitCatAstral',\n        matrix: 'SR5.InitCatMatrix',\n    },\n\n    modificationTypes: {\n        weapon: 'SR5.Weapon',\n        armor: 'SR5.Armor',\n    },\n\n    mountPoints: {\n        barrel: 'SR5.Barrel',\n        stock: 'SR5.Stock',\n        top: 'SR5.Top',\n        side: 'SR5.Side',\n        internal: 'SR5.Internal',\n    },\n\n    lifestyleTypes: {\n        street: 'SR5.LifestyleStreet',\n        squatter: 'SR5.LifestyleSquatter',\n        low: 'SR5.LifestyleLow',\n        medium: 'SR5.LifestyleMiddle',\n        high: 'SR5.LifestyleHigh',\n        luxory: 'SR5.LifestyleLuxory',\n        other: 'SR5.LifestyleOther',\n    },\n\n    kbmod: {\n        STANDARD: 'shiftKey',\n        EDGE: 'altKey',\n        SPEC: 'ctrlKey',\n    },\n\n    actorModifiers: {\n        soak: 'SR5.RollSoak',\n        drain: 'SR5.Drain',\n        armor: 'SR5.Armor',\n        physical_limit: 'SR5.PhysicalLimit',\n        social_limit: 'SR5.SocialLimit',\n        mental_limit: 'SR5.MentalLimit',\n        stun_track: 'SR5.StunTrack',\n        physical_track: 'SR5.PhysicalTrack',\n        meat_initiative: 'SR5.MeatSpaceInit',\n        meat_initiative_dice: 'SR5.MeatSpaceDice',\n        astral_initiative: 'SR5.AstralInit',\n        astral_initiative_dice: 'SR5.AstralDice',\n        matrix_initiative: 'SR5.MatrixInit',\n        matrix_initiative_dice: 'SR5.MatrixDice',\n        composure: 'SR5.RollComposure',\n        lift_carry: 'SR5.RollLiftCarry',\n        judge_intentions: 'SR5.RollJudgeIntentions',\n        memory: 'SR5.RollMemory',\n        walk: 'SR5.Walk',\n        run: 'SR5.Run',\n        defense: 'SR5.RollDefense',\n        wound_tolerance: 'SR5.WoundTolerance',\n        essence: 'SR5.AttrEssence',\n        fade: 'SR5.RollFade',\n        global: 'SR5.Global',\n    },\n\n    programTypes: {\n        common_program: 'SR5.CommonProgram',\n        hacking_program: 'SR5.HackingProgram',\n        agent: 'SR5.Agent',\n    },\n\n    spiritTypes: {\n        // base types\n        air: 'SR5.Spirit.Types.Air',\n        beasts: 'SR5.Spirit.Types.Beasts',\n        earth: 'SR5.Spirit.Types.Earth',\n        fire: 'SR5.Spirit.Types.Fire',\n        guardian: 'SR5.Spirit.Types.Guardian',\n        guidance: 'SR5.Spirit.Types.Guidance',\n        man: 'SR5.Spirit.Types.Man',\n        plant: 'SR5.Spirit.Types.Plant',\n        task: 'SR5.Spirit.Types.Task',\n        water: 'SR5.Spirit.Types.Water',\n\n        // toxic types\n        toxic_air: 'SR5.Spirit.Types.ToxicAir',\n        toxic_beasts: 'SR5.Spirit.Types.ToxicBeasts',\n        toxic_earth: 'SR5.Spirit.Types.ToxicEarth',\n        toxic_fire: 'SR5.Spirit.Types.ToxicFire',\n        toxic_man: 'SR5.Spirit.Types.ToxicMan',\n        toxic_water: 'SR5.Spirit.Types.ToxicWater',\n\n        // blood types\n        blood: 'SR5.Spirit.Types.Blood',\n\n        // shadow types\n        muse: 'SR5.Spirit.Types.Muse',\n        nightmare: 'SR5.Spirit.Types.Nightmare',\n        shade: 'SR5.Spirit.Types.Shade',\n        succubus: 'SR5.Spirit.Types.Succubus',\n        wraith: 'SR5.Spirit.Types.Wraith',\n\n        // shedim types\n        shedim: 'SR5.Spirit.Types.Shedim',\n        master_shedim: 'SR5.Spirit.Types.MasterShedim',\n\n        // insect types\n        caretaker: 'SR5.Spirit.Types.Caretaker',\n        nymph: 'SR5.Spirit.Types.Nymph',\n        scout: 'SR5.Spirit.Types.Scout',\n        soldier: 'SR5.Spirit.Types.Soldier',\n        worker: 'SR5.Spirit.Types.Worker',\n        queen: 'SR5.Spirit.Types.Queen',\n    },\n\n    critterPower: {\n        types: {\n            mana: 'SR5.CritterPower.Types.Mana',\n            physical: 'SR5.CritterPower.Types.Physical',\n        },\n        ranges: {\n            los: 'SR5.CritterPower.Ranges.LineOfSight',\n            self: 'SR5.CritterPower.Ranges.Self',\n            touch: 'SR5.CritterPower.Ranges.Touch',\n        },\n        durations: {\n            always: 'SR5.CritterPower.Durations.Always',\n            instant: 'SR5.CritterPower.Durations.Instant',\n            sustained: 'SR5.CritterPower.Durations.Sustained',\n            permanent: 'SR5.CritterPower.Durations.Permanent',\n            special: 'SR5.CritterPower.Durations.Special',\n        },\n    },\n\n    spriteTypes: {\n        courier: 'SR5.Sprite.Types.Courier',\n        crack: 'SR5.Sprite.Types.Crack',\n        data: 'SR5.Sprite.Types.Data',\n        fault: 'SR5.Sprite.Types.Fault',\n        machine: 'SR5.Sprite.Types.Machine',\n    },\n\n    vehicle: {\n        types: {\n            air: 'SR5.Vehicle.Types.Air',\n            aerospace: 'SR5.Vehicle.Types.Aerospace',\n            ground: 'SR5.Vehicle.Types.Ground',\n            water: 'SR5.Vehicle.Types.Water',\n            walker: 'SR5.Vehicle.Types.Walker',\n            exotic: 'SR5.Vehicle.Types.Exotic',\n        },\n        stats: {\n            handling: 'SR5.Vehicle.Stats.Handling',\n            off_road_handling: 'SR5.Vehicle.Stats.OffRoadHandling',\n            speed: 'SR5.Vehicle.Stats.Speed',\n            off_road_speed: 'SR5.Vehicle.Stats.OffRoadSpeed',\n            acceleration: 'SR5.Vehicle.Stats.Acceleration',\n            pilot: 'SR5.Vehicle.Stats.Pilot',\n            sensor: 'SR5.Vehicle.Stats.Sensor',\n        },\n        control_modes: {\n            manual: 'SR5.Vehicle.ControlModes.Manual',\n            remote: 'SR5.Vehicle.ControlModes.Remote',\n            rigger: 'SR5.Vehicle.ControlModes.Rigger',\n            autopilot: 'SR5.Vehicle.ControlModes.Autopilot',\n        },\n        environments: {\n            speed: 'SR5.Vehicle.Environments.Speed',\n            handling: 'SR5.Vehicle.Environments.Handling',\n        },\n    },\n\n    character: {\n        types: {\n            human: 'SR5.Character.Types.Human',\n            elf: 'SR5.Character.Types.Elf',\n            ork: 'SR5.Character.Types.Ork',\n            dwarf: 'SR5.Character.Types.Dwarf',\n            troll: 'SR5.Character.Types.Troll'\n        }\n    }\n};\n","export const SYSTEM_NAME = 'shadowrun5e';\nexport const FLAGS = {\n    ShowGlitchAnimation: 'showGlitchAnimation',\n    ShowTokenNameForChatOutput: 'showTokenNameInsteadOfActor',\n    MessageCustomRoll: 'customRoll'\n};\nexport const GLITCH_DIE = 1;\nexport const METATYPEMODIFIER = 'SR5.Character.Modifiers.NPCMetatypeAttribute';\n","export const DataTemplates = {\n    grunt: {\n        metatype_modifiers: {\n            elf: {\n                attributes: {\n                    agility: +1,\n                    charisma: +2,\n                    edge: -1\n                }\n            },\n            ork: {\n                attributes: {\n                    body: +3,\n                    strength: +2,\n                    logic: -1,\n                    charisma: -1,\n                    edge: -1\n                }\n            },\n            troll: {\n                attributes: {\n                    body: +4,\n                    agility: -1,\n                    strength: +4,\n                    logic: -1,\n                    intuition: -1,\n                    charisma: -2,\n                    edge: -1,\n                },\n                general: {\n                    armor: +1\n                }\n            },\n            dwarf: {\n                attributes: {\n                    body: +2,\n                    reaction: -1,\n                    strength: +2,\n                    willpower: +1,\n                    edge: -1\n                }\n            }\n        }\n    }\n}","export abstract class DataWrapper<DataType> {\n    constructor(protected data: DataType) {}\n}\n","import { Helpers } from '../helpers';\nimport {SafeString} from \"handlebars\";\n\nexport const registerBasicHelpers = () => {\n    Handlebars.registerHelper('localizeOb', function (strId, obj) {\n        if (obj) strId = obj[strId];\n        return game.i18n.localize(strId);\n    });\n\n    Handlebars.registerHelper('toHeaderCase', function (str) {\n        if (str) return Helpers.label(str);\n        return '';\n    });\n\n    Handlebars.registerHelper('concatStrings', function (...args) {\n        return args.filter(a => typeof a === 'string').join('');\n    });\n\n    Handlebars.registerHelper('concat', function (strs, c = ',') {\n        if (Array.isArray(strs)) {\n            return strs.join(c);\n        }\n        return strs;\n    });\n\n    Handlebars.registerHelper('for', function (from: number, to: number, options) {\n        let accum = '';\n        for (let i = from; i < to; i += 1) {\n            accum += options.fn(i);\n        }\n\n        return accum;\n    });\n    Handlebars.registerHelper('modulo', function (v1: number, v2: number) {\n        return v1 % v2;\n    });\n    Handlebars.registerHelper('divide', function (v1: number, v2: number) {\n        if (v2 === 0) return 0;\n        return v1 / v2;\n    });\n    Handlebars.registerHelper('hasprop', function (obj, prop, options) {\n        if (obj.hasOwnProperty(prop)) {\n            return options.fn(this);\n        } else return options.inverse(this);\n    });\n    Handlebars.registerHelper('ifin', function (val, arr, options) {\n        if (arr.includes(val)) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if greater than\n    Handlebars.registerHelper('ifgt', function (v1, v2, options) {\n        if (v1 > v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if less than\n    Handlebars.registerHelper('iflt', function (v1, v2, options) {\n        if (v1 < v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if less than or equal\n    Handlebars.registerHelper('iflte', function (v1, v2, options) {\n        if (v1 <= v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if not equal\n    Handlebars.registerHelper('ifne', function (v1, v2, options) {\n        if (v1 !== v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    // if equal\n    Handlebars.registerHelper('ife', function (v1, v2, options) {\n        if (v1 === v2) return options.fn(this);\n        else return options.inverse(this);\n    });\n    Handlebars.registerHelper('not', function (v1) {\n        return !v1;\n    });\n    Handlebars.registerHelper('sum', function (v1, v2) {\n        return v1 + v2;\n    });\n\n    Handlebars.registerHelper('isDefined', function (value) {\n        return value !== undefined && value !== null;\n    });\n    /**\n     * Return a default value if the provided value is not defined (null or undefined)\n     */\n    Handlebars.registerHelper('default', function (value: string, defaultValue: string) {\n        return new Handlebars.SafeString(value ?? defaultValue);\n    });\n\n    Handlebars.registerHelper('log', function (value: string) {\n        console.log(value);\n    });\n    Handlebars.registerHelper('buildName', function (options) {\n        const hash: string[] = Helpers.orderKeys(options.hash);\n        const name = Object.values(hash).reduce((retVal, current, index) => {\n            if (index > 0) retVal += '.';\n            return retVal + current;\n        }, '');\n        return new Handlebars.SafeString(name);\n    });\n    Handlebars.registerHelper('disabledHelper', function (value) {\n        const val = Boolean(value);\n        return val ? val : undefined;\n    });\n    // TODO: This helper doesn't work... Don't why, but it doesn't.\n    Handlebars.registerHelper('localizeShortened', function (label: string, length: number, options: any): SafeString {\n        return new Handlebars.SafeString(Helpers.shortenAttributeLocalization(label, length));\n    });\n};\n","import { preloadHandlebarsTemplates } from './HandlebarTemplates';\nimport { registerBasicHelpers } from './BasicHelpers';\nimport { registerRollAndLabelHelpers } from './RollAndLabelHelpers';\nimport { registerItemLineHelpers } from './ItemLineHelpers';\nimport { registerSkillLineHelpers } from './SkillLineHelpers';\n\nexport class HandlebarManager {\n    static loadTemplates(): void {\n        preloadHandlebarsTemplates();\n    }\n    static registerHelpers(): void {\n        registerBasicHelpers();\n        registerRollAndLabelHelpers();\n        registerItemLineHelpers();\n        registerSkillLineHelpers();\n    }\n}","export const preloadHandlebarsTemplates = async () => {\n    const templatePaths = [\n        // actor tabs\n        'systems/shadowrun5e/dist/templates/actor/tabs/ActionsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/BioTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/GearTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/MagicTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/MatrixTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/MiscTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/SkillsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/SocialTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/SpellsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/CritterPowersTab.html',\n\n        'systems/shadowrun5e/dist/templates/actor/tabs/spirit/SpiritSkillsTab.html',\n\n        'systems/shadowrun5e/dist/templates/actor/tabs/matrix/SpriteSkillsTab.html',\n\n        'systems/shadowrun5e/dist/templates/actor/tabs/vehicle/VehicleSkillsTab.html',\n        'systems/shadowrun5e/dist/templates/actor/tabs/vehicle/VehicleMatrixTab.html',\n\n        // uncategorized lists\n        'systems/shadowrun5e/dist/templates/actor/parts/Initiative.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/Movement.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/ProfileImage.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/NameInput.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/ActionList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/ContactList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/SinAndLifestyleList.html',\n\n        // magic\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/AdeptPowerList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/SpellList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/SpellAndAdeptPowerList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/magic/SpiritOptions.html',\n\n        // matrix\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/ProgramList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/ComplexFormList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/MatrixAttribute.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/SpritePowerList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/matrix/DeviceRating.html',\n\n        // attributes\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/Attribute.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/AttributeList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/SpecialAttributeList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/attributes/Limits.html',\n\n        // skills\n        'systems/shadowrun5e/dist/templates/actor/parts/skills/ActiveSkillList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/skills/LanguageAndKnowledgeSkillList.html',\n\n        // vehicle\n        'systems/shadowrun5e/dist/templates/actor/parts/vehicle/VehicleStatsList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/vehicle/VehicleSecondStatsList.html',\n        'systems/shadowrun5e/dist/templates/actor/parts/vehicle/VehicleMovement.html',\n\n        'systems/shadowrun5e/dist/templates/item/parts/description.html',\n        'systems/shadowrun5e/dist/templates/item/parts/technology.html',\n        'systems/shadowrun5e/dist/templates/item/parts/header.html',\n        'systems/shadowrun5e/dist/templates/item/parts/weapon-ammo-list.html',\n        'systems/shadowrun5e/dist/templates/item/parts/weapon-mods-list.html',\n        'systems/shadowrun5e/dist/templates/item/parts/action.html',\n        'systems/shadowrun5e/dist/templates/item/parts/damage.html',\n        'systems/shadowrun5e/dist/templates/item/parts/opposed.html',\n        'systems/shadowrun5e/dist/templates/item/parts/spell.html',\n        'systems/shadowrun5e/dist/templates/item/parts/complex_form.html',\n        'systems/shadowrun5e/dist/templates/item/parts/weapon.html',\n        'systems/shadowrun5e/dist/templates/item/parts/armor.html',\n        'systems/shadowrun5e/dist/templates/item/parts/matrix.html',\n        'systems/shadowrun5e/dist/templates/item/parts/sin.html',\n        'systems/shadowrun5e/dist/templates/item/parts/contact.html',\n        'systems/shadowrun5e/dist/templates/item/parts/lifestyle.html',\n        'systems/shadowrun5e/dist/templates/item/parts/ammo.html',\n        'systems/shadowrun5e/dist/templates/item/parts/modification.html',\n        'systems/shadowrun5e/dist/templates/item/parts/program.html',\n        'systems/shadowrun5e/dist/templates/item/parts/critter_power.html',\n        'systems/shadowrun5e/dist/templates/rolls/parts/parts-list.html',\n\n        // to wrap the bodies of tabs\n        'systems/shadowrun5e/dist/templates/common/TabWrapper.html',\n        'systems/shadowrun5e/dist/templates/common/ValueInput.html',\n\n        // Useful wrapper and implemented components\n        'systems/shadowrun5e/dist/templates/common/ValueMaxAttribute.html',\n        'systems/shadowrun5e/dist/templates/common/Attribute.html',\n        'systems/shadowrun5e/dist/templates/common/ValueModifiers.html',\n\n        // useful select template for the common pattern\n        'systems/shadowrun5e/dist/templates/common/Select.html',\n\n        // to create the condition monitors and edge counter\n        'systems/shadowrun5e/dist/templates/common/HorizontalCellInput.html',\n\n        // looks like a ListHeader\n        'systems/shadowrun5e/dist/templates/common/HeaderBlock.html',\n\n        'systems/shadowrun5e/dist/templates/common/NameLineBlock.html',\n\n        // list components\n        'systems/shadowrun5e/dist/templates/common/List/ListItem.html',\n        'systems/shadowrun5e/dist/templates/common/List/ListHeader.html'\n    ];\n\n    return loadTemplates(templatePaths);\n};\n","import SR5ItemType = Shadowrun.SR5ItemType;\nimport { SR5ItemDataWrapper } from '../item/SR5ItemDataWrapper';\n\nexport const registerItemLineHelpers = () => {\n    Handlebars.registerHelper('ItemHeaderIcons', function (id) {\n        const PlusIcon = 'fas fa-plus';\n        const AddText = game.i18n.localize('SR5.Add');\n        const addIcon = {\n            icon: PlusIcon,\n            text: AddText,\n            title: game.i18n.localize('SR5.CreateItem'),\n            cssClass: 'item-create',\n        };\n        switch (id) {\n            case 'lifestyle':\n                addIcon.title = game.i18n.localize('SR5.CreateItemLifestyle');\n                return [addIcon];\n            case 'contact':\n                addIcon.title = game.i18n.localize('SR5.CreateItemContact');\n                return [addIcon];\n            case 'sin':\n                addIcon.title = game.i18n.localize('SR5.CreateItemSIN');\n                return [addIcon];\n            case 'license':\n                addIcon.title = game.i18n.localize('SR5.CreateItemLicense');\n                return [addIcon];\n            case 'quality':\n                addIcon.title = game.i18n.localize('SR5.CreateItemQuality');\n                return [addIcon];\n            case 'adept_power':\n                addIcon.title = game.i18n.localize('SR5.CreateItemAdeptPower');\n                return [addIcon];\n            case 'action':\n                addIcon.title = game.i18n.localize('SR5.CreateItemAction');\n                return [addIcon];\n            case 'spell':\n                addIcon.title = game.i18n.localize('SR5.CreateItemSpell');\n                return [addIcon];\n            case 'gear':\n                addIcon.title = game.i18n.localize('SR5.CreateItemGear');\n                return [addIcon];\n            case 'complex_form':\n                addIcon.title = game.i18n.localize('SR5.CreateItemComplexForm');\n                return [addIcon];\n            case 'program':\n                addIcon.title = game.i18n.localize('SR5.CreateItemProgram');\n                return [addIcon];\n            case 'weapon':\n                addIcon.title = game.i18n.localize('SR5.CreateItemWeapon');\n                return [addIcon];\n            case 'armor':\n                addIcon.title = game.i18n.localize('SR5.CreateItemArmor');\n                return [addIcon];\n            case 'device':\n                addIcon.title = game.i18n.localize('SR5.CreateItemDevice');\n                return [addIcon];\n            case 'equipment':\n                addIcon.title = game.i18n.localize('SR5.CreateItemEquipment');\n                return [addIcon];\n            case 'cyberware':\n                addIcon.title = game.i18n.localize('SR5.CreateItemCyberware');\n                return [addIcon];\n            case 'critter_power':\n                addIcon.title = game.i18n.localize('SR5.CreateItemCritterPower');\n                return [addIcon];\n            case 'sprite_power':\n                addIcon.title = game.i18n.localize('SR5.CreateItemSpritePower');\n                return [addIcon];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('ItemHeaderRightSide', function (id) {\n        switch (id) {\n            case 'action':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Skill'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Attribute'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Attribute'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Limit'),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Modifier'),\n                            cssClass: 'six',\n                        },\n                    },\n                ];\n            case 'weapon':\n            case 'armor':\n            case 'device':\n            case 'equipment':\n            case 'cyberware':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Qty'),\n                        },\n                    },\n                ];\n            case 'complex_form':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Target'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Duration'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Fade'),\n                        },\n                    },\n                ];\n            case 'adept_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.PowerType'),\n                        },\n                    },\n                ];\n            case 'spell':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.SpellType'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.SpellRange'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Duration'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.Drain'),\n                        },\n                    },\n                ];\n            case 'critter_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.CritterPower.Type'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.CritterPower.Range'),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.CritterPower.Duration'),\n                        },\n                    },\n                ];\n            case 'quality':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize('SR5.QualityType'),\n                        },\n                    },\n                ];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('ItemRightSide', function (item: SR5ItemType) {\n        const wrapper = new SR5ItemDataWrapper(item);\n        const qtyInput = {\n            input: {\n                type: 'number',\n                value: wrapper.getQuantity(),\n                cssClass: 'item-qty',\n            },\n        };\n        switch (item.type) {\n            case 'action':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.activeSkills[wrapper.getActionSkill() ?? '']),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.attributes[wrapper.getActionAttribute() ?? '']),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.attributes[wrapper.getActionAttribute2() ?? '']),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: wrapper.getLimitAttribute()\n                                ? game.i18n.localize(CONFIG.SR5.attributes[wrapper.getLimitAttribute() ?? ''])\n                                : wrapper.getActionLimit(),\n                            cssClass: 'six',\n                        },\n                    },\n                    {\n                        text: {\n                            text: wrapper.getActionDicePoolMod(),\n                            cssClass: 'six',\n                        },\n                    },\n                ];\n            case 'armor':\n            case 'device':\n            case 'equipment':\n            case 'cyberware':\n                return [qtyInput];\n            case 'weapon':\n                if (wrapper.isRangedWeapon()) {\n                    const count = wrapper.getAmmo()?.current.value ?? 0;\n                    const max = wrapper.getAmmo()?.current.max ?? 0;\n                    const text = count < max ? `${game.i18n.localize('SR5.WeaponReload')} (${count}/${max})` : game.i18n.localize('SR5.AmmoFull');\n                    const cssClass = 'no-break' + (count < max ? ' reload-ammo roll' : ' faded');\n                    return [\n                        {\n                            text: {\n                                title: `${game.i18n.localize('SR5.WeaponAmmoCount')}: ${count}`,\n                                text,\n                                cssClass,\n                            },\n                        },\n                        {\n                            text: {\n                                text: '',\n                            },\n                        },\n                        qtyInput,\n                    ];\n                } else {\n                    return [qtyInput];\n                }\n\n            case 'quality':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.qualityTypes[item.data.type ?? '']),\n                        },\n                    },\n                ];\n\n            case 'adept_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.adeptPower.types[item.data.type ?? '']),\n                        },\n                    },\n                ];\n            case 'spell':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.spellTypes[item.data.type ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.spellRanges[item.data.range ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.durations[item.data.duration ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: wrapper.getDrain(),\n                        },\n                    },\n                ];\n            case 'critter_power':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.critterPower.types[item.data.powerType ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.critterPower.ranges[item.data.range ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.critterPower.durations[item.data.duration ?? '']),\n                        },\n                    },\n                ];\n\n            case 'complex_form':\n                return [\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.matrixTargets[item.data.target ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: game.i18n.localize(CONFIG.SR5.durations[item.data.duration ?? '']),\n                        },\n                    },\n                    {\n                        text: {\n                            text: String(item.data.fade),\n                        },\n                    },\n                ];\n            case 'program':\n                return [\n                    {\n                        button: {\n                            cssClass: `item-equip-toggle ${wrapper.isEquipped() ? 'light' : ''}`,\n                            short: true,\n                            text: wrapper.isEquipped() ? game.i18n.localize('SR5.Loaded') : game.i18n.localize('SR5.Load') + ' >>',\n                        },\n                    },\n                ];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('ItemIcons', function (item: SR5ItemType) {\n        const editIcon = {\n            icon: 'fas fa-edit item-edit',\n            title: game.i18n.localize('SR5.EditItem'),\n        };\n        const removeIcon = {\n            icon: 'fas fa-trash item-delete',\n            title: game.i18n.localize('SR5.DeleteItem'),\n        };\n        const equipIcon = {\n            icon: `${item.data.technology?.equipped ? 'fas fa-check-circle' : 'far fa-circle'} item-equip-toggle`,\n            title: game.i18n.localize('SR5.ToggleEquip'),\n        };\n        const pdfIcon = {\n            icon: 'fas fa-file open-source-pdf',\n            title: game.i18n.localize('SR5.OpenSourcePdf'),\n        };\n\n        const icons = [editIcon, removeIcon];\n\n        if (ui['PDFoundry']) {\n            icons.unshift(pdfIcon);\n        }\n\n        switch (item.type) {\n            case 'program':\n            case 'armor':\n            case 'device':\n            case 'equipment':\n            case 'cyberware':\n            case 'weapon':\n                icons.unshift(equipIcon);\n        }\n\n        return icons;\n    });\n};\n","import { PartsList } from '../parts/PartsList';\nimport ModList = Shadowrun.ModList;\n\nexport const registerRollAndLabelHelpers = () => {\n    Handlebars.registerHelper('damageAbbreviation', function (damage) {\n        if (damage === 'physical') return 'P';\n        if (damage === 'stun') return 'S';\n        if (damage === 'matrix') return 'M';\n        return '';\n    });\n    Handlebars.registerHelper('diceIcon', function (side) {\n        if (side) {\n            switch (side) {\n                case 1:\n                    return 'red';\n                case 2:\n                    return 'grey';\n                case 3:\n                    return 'grey';\n                case 4:\n                    return 'grey';\n                case 5:\n                    return 'green';\n                case 6:\n                    return 'green';\n            }\n        }\n    });\n\n    Handlebars.registerHelper('elementIcon', function (element) {\n        let icon = '';\n        if (element === 'electricity') {\n            icon = 'fas fa-bolt';\n        } else if (element === 'radiation') {\n            icon = 'fas fa-radiation-alt';\n        } else if (element === 'fire') {\n            icon = 'fas fa-fire';\n        } else if (element === 'acid') {\n            icon = 'fas fa-vials';\n        } else if (element === 'cold') {\n            icon = 'fas fa-snowflake';\n        }\n        return icon;\n    });\n\n    Handlebars.registerHelper('partsTotal', function (partsList: ModList<number>) {\n        const parts = new PartsList(partsList);\n        return parts.total;\n    });\n\n    Handlebars.registerHelper('signedValue', function (value: number): string {\n        if (value > 0) {\n            return `+${value}`;\n        } else {\n            return `${value}`;\n        }\n    });\n};\n","import SkillField = Shadowrun.SkillField;\nimport { Helpers } from '../helpers';\nimport SR5SheetFilters = Shadowrun.SR5SheetFilters;\n\nexport const registerSkillLineHelpers = () => {\n    Handlebars.registerHelper('SkillHeaderIcons', function (id) {\n        const addIcon = {\n            icon: 'fas fa-plus',\n            title: game.i18n.localize('SR5.AddSkill'),\n            text: game.i18n.localize('SR5.Add'),\n            cssClass: '',\n        };\n        switch (id) {\n            case 'active':\n                return [{}];\n            case 'language':\n                addIcon.cssClass = 'add-language';\n                return [addIcon];\n            case 'knowledge':\n                addIcon.cssClass = 'add-knowledge';\n                return [addIcon];\n            default:\n                return [];\n        }\n    });\n\n    Handlebars.registerHelper('SkillHeaderRightSide', function (id, filters: SR5SheetFilters) {\n        const specs = {\n            text: {\n                text: game.i18n.localize('SR5.Specialization'),\n                cssClass: 'skill-spec-item',\n            },\n        };\n\n        const rtg = {\n            // Change Rating header to show active filtering.\n            text: {\n                text: !filters || filters.showUntrainedSkills ?\n                    game.i18n.localize('SR5.Rtg') :\n                    game.i18n.localize('SR5.RtgAboveZero'),\n                cssClass: 'rtg',\n            },\n        };\n\n        switch (id) {\n            case 'active':\n            case 'knowledge':\n            case 'language':\n                return [specs, rtg];\n            default:\n                return [];\n        }\n    });\n    Handlebars.registerHelper('SkillRightSide', function (skillType: string, skill: SkillField) {\n        const specs = Array.isArray(skill.specs) ? skill.specs : [skill.specs];\n        return [\n            {\n                text: {\n                    text: specs.join(', ') ?? '',\n                    cssClass: 'skill-spec-item',\n                },\n            },\n            {\n                text: {\n                    text: Helpers.calcTotal(skill),\n                    cssClass: 'rtg',\n                },\n            },\n        ];\n    });\n\n    Handlebars.registerHelper('SkillIcons', function (skillType: string, skill: SkillField) {\n        const editIcon = {\n            icon: 'fas fa-edit',\n            title: game.i18n.localize('SR5.EditSkill'),\n            cssClass: '',\n        };\n        const removeIcon = {\n            icon: 'fas fa-trash',\n            title: game.i18n.localize('SR5.DeleteSkill'),\n            cssClass: '',\n        };\n        switch (skillType) {\n            case 'active':\n                editIcon.cssClass = 'skill-edit';\n                return [editIcon];\n            case 'language':\n                editIcon.cssClass = 'language-skill-edit';\n                removeIcon.cssClass = 'remove-language';\n                return [editIcon, removeIcon];\n            case 'knowledge':\n                editIcon.cssClass = 'knowledge-skill-edit';\n                removeIcon.cssClass = 'remove-knowledge';\n                return [editIcon, removeIcon];\n            default:\n                return [editIcon];\n        }\n    });\n\n};\n","import AttributeField = Shadowrun.AttributeField;\nimport SkillField = Shadowrun.SkillField;\nimport ModifiableValue = Shadowrun.ModifiableValue;\nimport { PartsList } from './parts/PartsList';\nimport LabelField = Shadowrun.LabelField;\n\nexport class Helpers {\n    /**\n     * Calculate the total value for a data object\n     * - stores the total value and returns it\n     * @param data\n     */\n    static calcTotal(data: ModifiableValue): number {\n        if (data.mod === undefined) data.mod = [];\n        const parts = new PartsList(data.mod);\n        // if a temp field is found, add it as a unique part\n        if (data['temp'] !== undefined) {\n            parts.addUniquePart('SR5.Temporary', data['temp']);\n        }\n        data.value = parts.total + data.base;\n        data.mod = parts.list;\n        return data.value;\n    }\n\n    static listItemId(event) {\n        return event.currentTarget.closest('.list-item').dataset.itemId;\n    }\n\n    // replace 'SR5.'s on keys with 'SR5_DOT_'\n    static onSetFlag(data) {\n        if (typeof data !== 'object') return data;\n        if (data === undefined || data === null) return data;\n        const newData = {};\n        for (const [key, value] of Object.entries(data)) {\n            const newKey = key.replace('SR5.', 'SR5_DOT_');\n            newData[newKey] = this.onSetFlag(value);\n        }\n        return newData;\n    }\n    // replace 'SR5_DOT_' with 'SR5.' on keys\n    static onGetFlag(data) {\n        if (typeof data !== 'object') return data;\n        if (data === undefined || data === null) return data;\n        const newData = {};\n        for (const [key, value] of Object.entries(data)) {\n            const newKey = key.replace('SR5_DOT_', 'SR5.');\n            newData[newKey] = this.onGetFlag(value);\n        }\n        return newData;\n    }\n\n    static isMatrix(atts?: boolean | (AttributeField | string | SkillField)[] | AttributeField | string | SkillField) {\n        if (!atts) return false;\n        if (typeof atts === 'boolean') return atts;\n        // array of labels to check for on the incoming data\n        const matrixLabels = [\n            'SR5.MatrixAttrFirewall',\n            'SR5.MatrixAttrDataProcessing',\n            'SR5.MatrixAttrSleaze',\n            'SR5.MatrixAttrAttack',\n            'SR5.SkillComputer',\n            'SR5.SkillHacking',\n            'SR5.SkillCybercombat',\n            'SR5.SkillElectronicWarfare',\n            'SR5.Software',\n        ];\n        if (!Array.isArray(atts)) atts = [atts];\n        atts = atts.filter((att) => att);\n        // iterate over the attributes and return true if we find a matrix att\n        for (const att of atts) {\n            if (typeof att === 'string') {\n                if (matrixLabels.indexOf(att) >= 0) {\n                    return true;\n                }\n            } else if (typeof att === 'object' && (att as LabelField).label !== undefined) {\n                if (matrixLabels.indexOf(att.label ?? '') >= 0) {\n                    return true;\n                }\n            }\n        }\n        // if we don't find anything return false\n        return false;\n    }\n\n    static parseInputToString(val: number | string | string[] | undefined): string {\n        if (val === undefined) return '';\n        if (typeof val === 'number') return val.toString();\n        if (typeof val === 'string') return val;\n        if (Array.isArray(val)) {\n            return val.join(',');\n        }\n        return '';\n    }\n\n    static parseInputToNumber(val: number | string | string[] | undefined): number {\n        if (typeof val === 'number') return val;\n        if (typeof val === 'string') {\n            const ret = +val;\n            if (!isNaN(ret)) return ret;\n            return 0;\n        }\n        if (Array.isArray(val)) {\n            const str = val.join('');\n            const ret = +str;\n            if (!isNaN(ret)) return ret;\n            return 0;\n        }\n        return 0;\n    }\n\n    static setupCustomCheckbox(app, html) {\n        const setContent = (el) => {\n            const checkbox = $(el).children('input[type=checkbox]');\n            const checkmark = $(el).children('.checkmark');\n            if ($(checkbox).prop('checked')) {\n                $(checkmark).addClass('fa-check-circle');\n                $(checkmark).removeClass('fa-circle');\n            } else {\n                $(checkmark).addClass('fa-circle');\n                $(checkmark).removeClass('fa-check-circle');\n            }\n        };\n        html.find('label.checkbox').each(function () {\n            setContent(this);\n        });\n        html.find('label.checkbox').click((event) => setContent(event.currentTarget));\n        html.find('.submit-checkbox').change((event) => app._onSubmit(event));\n    }\n\n    static mapRoundsToDefenseMod(rounds) {\n        if (rounds === 1) return 0;\n        if (rounds === 3) return -2;\n        if (rounds === 6) return -5;\n        if (rounds === 10) return -9;\n        return 0;\n    }\n\n    static mapRoundsToDefenseDesc(rounds) {\n        if (rounds === 1) return '';\n        if (rounds === 3) return '-2';\n        if (rounds === 6) return '-5';\n        if (rounds === 10) return '-9';\n        if (rounds === 20) return 'SR5.DuckOrCover';\n        return '';\n    }\n\n    static label(str) {\n        const frags = str.split('_');\n        for (let i = 0; i < frags.length; i++) {\n            frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n        }\n        frags.forEach((frag, idx) => {\n            if (frag === 'Processing') frags[idx] = 'Proc.';\n            if (frag === 'Mechanic') frags[idx] = 'Mech.';\n        });\n        return frags.join(' ');\n    }\n\n    static orderKeys(obj) {\n        const keys = Object.keys(obj).sort(function keyOrder(k1, k2) {\n            if (k1 < k2) return -1;\n            if (k1 > k2) return +1;\n            return 0;\n        });\n\n        let i;\n        const after = {};\n        for (i = 0; i < keys.length; i++) {\n            after[keys[i]] = obj[keys[i]];\n            delete obj[keys[i]];\n        }\n\n        for (i = 0; i < keys.length; i++) {\n            obj[keys[i]] = after[keys[i]];\n        }\n        return obj;\n    }\n\n    static hasModifiers(event) {\n        return event && (event.shiftKey || event.altKey || event.ctrlKey || event.metaKey);\n    }\n\n    static filter(obj, comp) {\n        const retObj = {};\n        if (typeof obj === 'object' && obj !== null) {\n            Object.entries(obj).forEach(([key, value]) => {\n                if (comp([key, value])) retObj[key] = value;\n            });\n        }\n        return retObj;\n    }\n\n    static addLabels(obj, label) {\n        if (typeof obj === 'object' && obj !== null) {\n            if (!obj.hasOwnProperty('label') && obj.hasOwnProperty('value') && label !== '') {\n                obj.label = label;\n            }\n            Object.entries(obj)\n                .filter(([, value]) => typeof value === 'object')\n                .forEach(([key, value]) => Helpers.addLabels(value, key));\n        }\n    }\n\n    /* Handle Shadowrun style shortened attribute names with typical three letter shortening. */\n    static shortenAttributeLocalization(label: string, length: number=3): string {\n        const name = game.i18n.localize(label);\n\n        if (length <= 0) {\n            return name;\n        }\n\n        if (name.length < length) {\n            length = name.length;\n        }\n\n        return name.slice(0, length).toUpperCase();\n    }\n}\n","import { SR5 } from './config';\nimport { Migrator } from './migrator/Migrator';\nimport { registerSystemSettings } from './settings';\nimport { SYSTEM_NAME } from './constants';\nimport { SR5Actor } from './actor/SR5Actor';\nimport { SR5ActorSheet } from './actor/SR5ActorSheet';\nimport { SR5Item } from './item/SR5Item';\nimport { SR5ItemSheet } from './item/SR5ItemSheet';\nimport { ShadowrunRoller } from './rolls/ShadowrunRoller';\nimport { Helpers } from './helpers';\nimport { HandlebarManager } from './handlebars/HandlebarManager';\nimport { measureDistance } from './canvas';\nimport { preCombatUpdate, shadowrunCombatUpdate } from './combat';\nimport * as chat from './chat';\nimport { createItemMacro, rollItemMacro } from './macros';\n\nimport { OverwatchScoreTracker } from './apps/gmtools/OverwatchScoreTracker';\n\nexport class HooksManager {\n    static registerHooks() {\n        // Register your highest level hook callbacks here for a quick overview of what's hooked into.\n\n        Hooks.once('init', HooksManager.init);\n\n        Hooks.on('canvasInit', HooksManager.canvasInit);\n        Hooks.on('ready', HooksManager.ready);\n        Hooks.on('renderChatMessage', HooksManager.readyChatMessage);\n        Hooks.on('getChatLogEntryContext', chat.addChatMessageContextOptions);\n        Hooks.on('hotbarDrop', HooksManager.hotbarDrop);\n        Hooks.on('renderSceneControls', HooksManager.renderSceneControls);\n        Hooks.on('getSceneControlButtons', HooksManager.getSceneControlButtons);\n\n        Hooks.on('preUpdateCombat', preCombatUpdate);\n    }\n\n    static init() {\n        console.log('Loading Shadowrun 5e System');\n\n        // Create a shadowrun5e namespace within the game global\n        game['shadowrun5e'] = {\n            SR5Actor,\n            ShadowrunRoller,\n            SR5Item,\n            rollItemMacro,\n        };\n\n        CONFIG.SR5 = SR5;\n        CONFIG.Actor.entityClass = SR5Actor;\n        CONFIG.Item.entityClass = SR5Item;\n\n        registerSystemSettings();\n\n        // Register sheet application classes\n        Actors.unregisterSheet('core', ActorSheet);\n        Actors.registerSheet(SYSTEM_NAME, SR5ActorSheet, { makeDefault: true });\n        Items.unregisterSheet('core', ItemSheet);\n        Items.registerSheet(SYSTEM_NAME, SR5ItemSheet, { makeDefault: true });\n\n        ['renderSR5ActorSheet', 'renderSR5ItemSheet'].forEach((s) => {\n            Hooks.on(s, (app, html) => Helpers.setupCustomCheckbox(app, html));\n        });\n\n        HandlebarManager.loadTemplates();\n    }\n\n    static async ready() {\n        game.socket.on('system.shadowrun5e', async (data) => {\n            if (game.user.isGM && data.gmCombatUpdate) {\n                await shadowrunCombatUpdate(data.gmCombatUpdate.changes, data.gmCombatUpdate.options);\n            }\n        });\n\n        if (game.user.isGM) {\n            await Migrator.BeginMigration();\n        }\n\n        // TODO make based on foundry version\n        const diceIconSelector = '#chat-controls .roll-type-select .fa-dice-d20';\n        $(document).on('click', diceIconSelector, () => ShadowrunRoller.promptRoll());\n        const diceIconSelectorNew = '#chat-controls .chat-control-icon .fa-dice-d20';\n        $(document).on('click', diceIconSelectorNew, () => ShadowrunRoller.promptRoll());\n    }\n\n    static canvasInit() {\n        //@ts-ignore\n        // SquareGrid isn't typed.\n        SquareGrid.prototype.measureDistance = measureDistance;\n    }\n\n    static hotbarDrop(bar, data, slot): boolean {\n        if (data.type === 'Item') {\n            // Promise can't be honored in this non-async function scope, as it needs to return a boolean.\n            createItemMacro(data.data, slot);\n        }\n\n        return false;\n    }\n\n    static renderSceneControls(controls, html) {\n        html.find('[data-tool=\"overwatch-score-tracker\"]').on('click', (event) => {\n            event.preventDefault();\n            new OverwatchScoreTracker().render(true);\n        });\n    }\n\n    static getSceneControlButtons(controls) {\n        if (game.user.isGM) {\n            const tokenControls = controls.find((c) => c.name === 'token');\n            tokenControls.tools.push({\n                name: 'overwatch-score-tracker',\n                title: 'CONTROLS.SR5.OverwatchScoreTracker',\n                icon: 'fas fa-network-wired',\n            });\n        }\n    }\n\n    static readyChatMessage(app, html) {\n        chat.addRollListeners(app, html);\n    }\n}\n","import { Helpers } from '../helpers';\nimport DeviceData = Shadowrun.DeviceData;\n\nexport const ChatData = {\n    action: (data, labels, props) => {\n        if (data.action) {\n            const labelStringList: string[] = [];\n            if (data.action.skill) {\n                labelStringList.push(Helpers.label(data.action.skill));\n                labelStringList.push(Helpers.label(data.action.attribute));\n            } else if (data.action.attribute2) {\n                labelStringList.push(Helpers.label(data.action.attribute));\n                labelStringList.push(Helpers.label(data.action.attribute2));\n            } else if (data.action.attribute) {\n                labelStringList.push(Helpers.label(data.action.attribute));\n            }\n            if (data.action.mod) {\n                labelStringList.push(`${game.i18n.localize('SR5.ItemMod')} (${data.action.mod})`);\n                // TODO when all mods are modlists\n                // Object.entries(data.action.mod).forEach(([key, value]) =>\n                //     labelStringList.push(`${game.i18n.localize(key)} (${value})`)\n                // );\n            }\n            if (labelStringList.length) {\n                labels.roll = labelStringList.join(' + ');\n            }\n\n            if (data.action.opposed.type) {\n                const { opposed } = data.action;\n                if (opposed.type !== 'custom') labels.opposedRoll = `vs. ${Helpers.label(opposed.type)}`;\n                else if (opposed.skill) labels.opposedRoll = `vs. ${Helpers.label(opposed.skill)}+${Helpers.label(opposed.attribute)}`;\n                else if (opposed.attribute2) labels.opposedRoll = `vs. ${Helpers.label(opposed.attribute)}+${Helpers.label(opposed.attribute2)}`;\n                else if (opposed.attribute) labels.opposedRoll = `vs. ${Helpers.label(opposed.attribute)}`;\n            }\n\n            // setup action props\n            // go in order of \"Limit/Accuracy\" \"Damage\" \"AP\"\n            // don't add action type if set to 'varies' or 'none' as that's pretty much useless info\n            if (data.action.type !== '' && data.action.type !== 'varies' && data.action.type !== 'none') {\n                props.push(`${Helpers.label(data.action.type)} Action`);\n            }\n            if (data.action.limit.value) props.push(`Limit ${data.action.limit.value}`);\n            if (data.action.damage.type.value) {\n                const { damage } = data.action;\n                let damageString = '';\n                let elementString = '';\n                if (damage.value) {\n                    damageString = `DV ${damage.value}${damage.type.value ? damage.type.value.toUpperCase().charAt(0) : ''}`;\n                }\n                if (damage.element.value) {\n                    // if we have a damage value and are electric, follow the convention of (e) after\n                    if (damage.value) {\n                        if (damage.element.value === 'electricity') {\n                            damageString += ' (e)';\n                        } else {\n                            elementString = Helpers.label(damage.element.value);\n                        }\n                    } else {\n                        elementString = Helpers.label(damage.element.value);\n                    }\n                }\n                if (damageString) props.push(damageString);\n                if (elementString) props.push(elementString);\n                if (damage.ap && damage.ap.value) props.push(`AP ${damage.ap.value}`);\n            }\n        }\n    },\n    sin: (data, labels, props) => {\n        props.push(`Rating ${data.technology.rating}`);\n        data.licenses.forEach((license) => {\n            props.push(`${license.name} R${license.rtg}`);\n        });\n    },\n\n    contact: (data, labels, props) => {\n        props.push(data.type);\n        props.push(`${game.i18n.localize('SR5.Connection')} ${data.connection}`);\n        props.push(`${game.i18n.localize('SR5.Loyalty')} ${data.loyalty}`);\n        if (data.blackmail) {\n            props.push(`${game.i18n.localize('SR5.Blackmail')}`);\n        }\n        if (data.family) {\n            props.push(game.i18n.localize('SR5.Family'));\n        }\n    },\n\n    lifestyle: (data, labels, props) => {\n        props.push(Helpers.label(data.type));\n        if (data.cost) props.push(`${data.cost}`);\n        if (data.comforts) props.push(`Comforts ${data.comforts}`);\n        if (data.security) props.push(`Security ${data.security}`);\n        if (data.neighborhood) props.push(`Neighborhood ${data.neighborhood}`);\n        if (data.guests) props.push(`Guests ${data.guests}`);\n    },\n\n    adept_power: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        props.push(`PP ${data.pp}`);\n        props.push(Helpers.label(data.type));\n    },\n\n    armor: (data, labels, props) => {\n        if (data.armor) {\n            if (data.armor.value) props.push(`Armor ${data.armor.mod ? '+' : ''}${data.armor.value}`);\n            if (data.armor.acid) props.push(`Acid ${data.armor.acid}`);\n            if (data.armor.cold) props.push(`Cold ${data.armor.cold}`);\n            if (data.armor.fire) props.push(`Fire ${data.armor.fire}`);\n            if (data.armor.electricity) props.push(`Electricity ${data.armor.electricity}`);\n            if (data.armor.radiation) props.push(`Radiation ${data.armor.radiation}`);\n        }\n    },\n\n    program: (data, labels, props) => {\n        props.push(game.i18n.localize(CONFIG.SR5.programTypes[data.type]));\n    },\n\n    complex_form: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        props.push(Helpers.label(data.target), Helpers.label(data.duration));\n        const { fade } = data;\n        if (fade > 0) props.push(`Fade L+${fade}`);\n        else if (fade < 0) props.push(`Fade L${fade}`);\n        else props.push('Fade L');\n    },\n\n    cyberware: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        ChatData.armor(data, labels, props);\n        if (data.essence) props.push(`Ess ${data.essence}`);\n    },\n\n    device: (data: DeviceData, labels, props) => {\n        if (data.technology && data.technology.rating) props.push(`Rating ${data.technology.rating}`);\n        if (data.category === 'cyberdeck') {\n            for (const attN of Object.values(data.atts)) {\n                props.push(`${Helpers.label(attN.att)} ${attN.value}`);\n            }\n        }\n    },\n\n    equipment: (data, labels, props) => {\n        if (data.technology && data.technology.rating) props.push(`Rating ${data.technology.rating}`);\n    },\n\n    quality: (data, labels, props) => {\n        ChatData.action(data, labels, props);\n        props.push(Helpers.label(data.type));\n    },\n\n    sprite_power: (data, labels, props) => {\n        // add action data\n        ChatData.action(data, labels, props);\n    },\n\n    critter_power: (data, labels, props) => {\n        // power type\n        props.push(game.i18n.localize(CONFIG.SR5.critterPower.types[data.powerType]));\n        // duration\n        props.push(game.i18n.localize(CONFIG.SR5.critterPower.durations[data.duration]));\n        // range\n        props.push(game.i18n.localize(CONFIG.SR5.critterPower.ranges[data.range]));\n\n        // add action data\n        ChatData.action(data, labels, props);\n    },\n\n    // add properties for spell data, follow order in book\n    spell: (data, labels, props) => {\n        // first category and type\n        props.push(Helpers.label(data.category), Helpers.label(data.type));\n\n        // add subtype tags\n        if (data.category === 'combat') {\n            props.push(Helpers.label(data.combat.type));\n        } else if (data.category === 'health') {\n        } else if (data.category === 'illusion') {\n            props.push(data.illusion.type);\n            props.push(data.illusion.sense);\n        } else if (data.category === 'manipulation') {\n            if (data.manipulation.damaging) props.push('Damaging');\n            if (data.manipulation.mental) props.push('Mental');\n            if (data.manipulation.environmental) props.push('Environmental');\n            if (data.manipulation.physical) props.push('Physical');\n        } else if (data.category === 'detection') {\n            props.push(data.illusion.type);\n            props.push(data.illusion.passive ? 'Passive' : 'Active');\n            if (data.illusion.extended) props.push('Extended');\n        }\n        // add range\n        props.push(Helpers.label(data.range));\n\n        // add action data\n        ChatData.action(data, labels, props);\n\n        // add duration data\n        props.push(Helpers.label(data.duration));\n\n        // add drain data\n        const { drain } = data;\n        if (drain > 0) props.push(`Drain F+${drain}`);\n        else if (drain < 0) props.push(`Drain F${drain}`);\n        else props.push('Drain F');\n\n        labels.roll = 'Cast';\n    },\n\n    weapon: (data, labels, props, item) => {\n        ChatData.action(data, labels, props);\n        for (let i = 0; i < props.length; i++) {\n            const prop = props[i];\n            if (prop.includes('Limit')) {\n                props[i] = prop.replace('Limit', 'Accuracy');\n            }\n        }\n\n        const equippedAmmo = item?.getEquippedAmmo();\n        if (equippedAmmo && data.ammo && data.ammo.current?.max) {\n            if (equippedAmmo) {\n                const { current, spare_clips } = data.ammo;\n                if (equippedAmmo.name) props.push(`${equippedAmmo.name} (${current.value}/${current.max})`);\n                if (equippedAmmo.data.data.blast.radius) props.push(`${game.i18n.localize('SR5.BlastRadius')} ${equippedAmmo.data.data.blast.radius}m`);\n                if (equippedAmmo.data.data.blast.dropoff) props.push(`${game.i18n.localize('SR5.Dropoff')} ${equippedAmmo.data.data.blast.dropoff}/m`);\n                if (spare_clips && spare_clips.max) props.push(`${game.i18n.localize('SR5.SpareClips')} (${spare_clips.value}/${spare_clips.max})`);\n            }\n        }\n\n        if (data.technology?.conceal?.value) {\n            props.push(`${game.i18n.localize('SR5.Conceal')} ${data.technology.conceal.value}`);\n        }\n\n        if (data.category === 'range') {\n            if (data.range.rc) {\n                let rcString = `${game.i18n.localize('SR5.RecoilCompensation')} ${data.range.rc.value}`;\n                if (item?.actor) {\n                    rcString += ` (${game.i18n.localize('SR5.Total')} ${item.actor.getRecoilCompensation()})`;\n                }\n                props.push(rcString);\n            }\n            if (data.range.modes) {\n                const newModes: string[] = [];\n                const { modes } = data.range;\n                if (modes.single_shot) newModes.push('SR5.WeaponModeSingleShotShort');\n                if (modes.semi_auto) newModes.push('SR5.WeaponModeSemiAutoShort');\n                if (modes.burst_fire) newModes.push('SR5.WeaponModeBurstFireShort');\n                if (modes.full_auto) newModes.push('SR5.WeaponModeFullAutoShort');\n                props.push(newModes.map((m) => game.i18n.localize(m)).join('/'));\n            }\n            if (data.range.ranges) props.push(Array.from(Object.values(data.range.ranges)).join('/'));\n        } else if (data.category === 'melee') {\n            if (data.melee.reach) {\n                const reachString = `${game.i18n.localize('SR5.Reach')} ${data.melee.reach}`;\n                // find accuracy in props and insert ourselves after it\n                const accIndex = props.findIndex((p) => p.includes('Accuracy'));\n                if (accIndex > -1) {\n                    props.splice(accIndex + 1, 0, reachString);\n                } else {\n                    props.push(reachString);\n                }\n            }\n        } else if (data.category === 'thrown') {\n            const { blast } = data.thrown;\n            if (blast?.radius) props.push(`${game.i18n.localize('SR5.BlastRadius')} ${blast.radius}m`);\n            if (blast?.dropoff) props.push(`${game.i18n.localize('SR5.Dropoff')} ${blast.dropoff}/m`);\n\n            if (data.thrown.ranges) {\n                const mult = data.thrown.ranges.attribute && item?.actor ? item.actor.data.data.attributes[data.thrown.ranges.attribute].value : 1;\n                const ranges = [data.thrown.ranges.short, data.thrown.ranges.medium, data.thrown.ranges.long, data.thrown.ranges.extreme];\n                props.push(ranges.map((v) => v * mult).join('/'));\n            }\n        }\n    },\n};\n","import { Helpers } from '../helpers';\nimport { SR5Actor } from '../actor/SR5Actor';\nimport { ShadowrunItemDialog } from '../apps/dialogs/ShadowrunItemDialog';\nimport ModList = Shadowrun.ModList;\nimport AttackData = Shadowrun.AttackData;\nimport AttributeField = Shadowrun.AttributeField;\nimport SkillField = Shadowrun.SkillField;\nimport LimitField = Shadowrun.LimitField;\nimport FireModeData = Shadowrun.FireModeData;\nimport SpellForceData = Shadowrun.SpellForceData;\nimport ComplexFormLevelData = Shadowrun.ComplexFormLevelData;\nimport FireRangeData = Shadowrun.FireRangeData;\nimport BlastData = Shadowrun.BlastData;\nimport { ChatData } from './ChatData';\nimport { AdvancedRollProps, ShadowrunRoll, ShadowrunRoller } from '../rolls/ShadowrunRoller';\nimport { createChatData } from '../chat';\nimport { SYSTEM_NAME } from '../constants';\nimport ConditionData = Shadowrun.ConditionData;\nimport { SR5ItemDataWrapper } from './SR5ItemDataWrapper';\nimport SR5ItemType = Shadowrun.SR5ItemType;\nimport { PartsList } from '../parts/PartsList';\n\nexport class SR5Item extends Item {\n    labels: {} = {};\n    items: SR5Item[];\n    actor: SR5Actor;\n\n    private get wrapper(): SR5ItemDataWrapper {\n        // we need to cast here to unknown first to make ts happy\n        return new SR5ItemDataWrapper((this.data as unknown) as SR5ItemType);\n    }\n\n    // Flag Functions\n    getLastFireMode(): FireModeData {\n        return this.getFlag(SYSTEM_NAME, 'lastFireMode') || { value: 0 };\n    }\n    async setLastFireMode(fireMode: FireModeData) {\n        return this.setFlag(SYSTEM_NAME, 'lastFireMode', fireMode);\n    }\n    getLastSpellForce(): SpellForceData {\n        return this.getFlag(SYSTEM_NAME, 'lastSpellForce') || { value: 0 };\n    }\n    async setLastSpellForce(force: SpellForceData) {\n        return this.setFlag(SYSTEM_NAME, 'lastSpellForce', force);\n    }\n    getLastComplexFormLevel(): ComplexFormLevelData {\n        return this.getFlag(SYSTEM_NAME, 'lastComplexFormLevel') || { value: 0 };\n    }\n    async setLastComplexFormLevel(level: ComplexFormLevelData) {\n        return this.setFlag(SYSTEM_NAME, 'lastComplexFormLevel', level);\n    }\n    getLastFireRangeMod(): FireRangeData {\n        return this.getFlag(SYSTEM_NAME, 'lastFireRange') || { value: 0 };\n    }\n    async setLastFireRangeMod(environmentalMod: FireRangeData) {\n        return this.setFlag(SYSTEM_NAME, 'lastFireRange', environmentalMod);\n    }\n\n    /**\n     * Return an Array of the Embedded Item Data\n     * TODO properly types this\n     */\n    getEmbeddedItems(): any[] {\n        let items = this.getFlag(SYSTEM_NAME, 'embeddedItems');\n        if (items) {\n            // moved this \"hotfix\" to here so that everywhere that accesses the flag just gets an array -- Shawn\n            //TODO: This is a hotfix. Items should either always be\n            // stored as an array or always be stored as a object.\n            if (!Array.isArray(items)) {\n                let newItems: any[] = [];\n                for (const key of Object.keys(items)) {\n                    newItems.push(items[key]);\n                }\n                return newItems;\n            }\n            return items;\n        }\n        return [];\n    }\n\n    /**\n     * Set the embedded item data\n     * @param items\n     */\n    async setEmbeddedItems(items: any[]) {\n        // clear the flag first to remove the previous items - if we don't do this then it doesn't actually \"delete\" any items\n        await this.unsetFlag(SYSTEM_NAME, 'embeddedItems');\n        await this.setFlag(SYSTEM_NAME, 'embeddedItems', items);\n    }\n\n    getLastAttack(): AttackData | undefined {\n        return this.getFlag(SYSTEM_NAME, 'lastAttack');\n    }\n    async setLastAttack(attack: AttackData) {\n        // unset the flag first to clear old data, data can get weird if not done\n        await this.unsetFlag(SYSTEM_NAME, 'lastAttack');\n        return this.setFlag(SYSTEM_NAME, 'lastAttack', attack);\n    }\n\n    async update(data, options?) {\n        const ret = super.update(data, options);\n        ret.then(() => {\n            if (this.actor) {\n                this.actor.render();\n            }\n        });\n        return ret;\n    }\n    get hasOpposedRoll(): boolean {\n        return !!(this.data.data.action && this.data.data.action.opposed.type);\n    }\n\n    get hasRoll(): boolean {\n        const { action } = this.data.data;\n        return !!(action && action.type !== '' && (action.skill || action.attribute));\n    }\n    get hasTemplate(): boolean {\n        return this.isAreaOfEffect();\n    }\n\n    prepareData() {\n        super.prepareData();\n        const labels = {};\n        const item = this.data;\n\n        if (item.type === 'sin') {\n            if (typeof item.data.licenses === 'object') {\n                item.data.licenses = Object.values(item.data.licenses);\n            }\n        }\n        const equippedMods = this.getEquippedMods();\n        const equippedAmmo = this.getEquippedAmmo();\n\n        const { technology, range, action } = item.data;\n\n        if (technology) {\n            if (technology.condition_monitor === undefined) {\n                technology.condition_monitor = { value: 0 };\n            }\n            technology.condition_monitor.max = 8 + Math.ceil(technology.rating / 2);\n\n            if (!technology.conceal) technology.conceal = {};\n\n            const concealParts = new PartsList<number>();\n            equippedMods.forEach((mod) => {\n                if (mod.data.data.technology.conceal.value) {\n                    concealParts.addUniquePart(mod.name, mod.data.data.technology.conceal.value);\n                }\n            });\n            technology.conceal.mod = concealParts.list;\n\n            technology.conceal.value = Helpers.calcTotal(technology.conceal);\n        }\n\n        if (action) {\n            action.alt_mod = 0;\n            action.limit.mod = [];\n            action.damage.mod = [];\n            action.damage.ap.mod = [];\n            action.dice_pool_mod = [];\n            // handle overrides from mods\n            const limitParts = new PartsList(action.limit.mod);\n            const dpParts = new PartsList(action.dice_pool_mod);\n            equippedMods.forEach((mod) => {\n                if (mod.data.data.accuracy) {\n                    limitParts.addUniquePart(mod.name, mod.data.data.accuracy);\n                }\n                if (mod.data.data.dice_pool) {\n                    dpParts.addUniquePart(mod.name, mod.data.data.dice_pool);\n                }\n            });\n\n            if (equippedAmmo) {\n                // add mods to damage from ammo\n                action.damage.mod = PartsList.AddUniquePart(action.damage.mod, equippedAmmo.name, equippedAmmo.data.data.damage);\n                // add mods to ap from ammo\n                action.damage.ap.mod = PartsList.AddUniquePart(action.damage.ap.mod, equippedAmmo.name, equippedAmmo.data.data.ap);\n\n                // override element\n                if (equippedAmmo.data.data.element) {\n                    action.damage.element.value = equippedAmmo.data.data.element;\n                } else {\n                    action.damage.element.value = action.damage.element.base;\n                }\n\n                // override damage type\n                if (equippedAmmo.data.data.damageType) {\n                    action.damage.type.value = equippedAmmo.data.data.damageType;\n                } else {\n                    action.damage.type.value = action.damage.type.base;\n                }\n            } else {\n                // set value if we don't have item overrides\n                action.damage.element.value = action.damage.element.base;\n                action.damage.type.value = action.damage.type.base;\n            }\n\n            // once all damage mods have been accounted for, sum base and mod to value\n            action.damage.value = Helpers.calcTotal(action.damage);\n            action.damage.ap.value = Helpers.calcTotal(action.damage.ap);\n\n            action.limit.value = Helpers.calcTotal(action.limit);\n\n            if (this.actor) {\n                if (action.damage.attribute) {\n                    const { attribute } = action.damage;\n                    // TODO convert this in the template\n                    action.damage.mod = PartsList.AddUniquePart(\n                        action.damage.mod,\n                        game.i18n.localize(CONFIG.SR5.attributes[attribute]),\n                        this.actor.findAttribute(attribute)?.value,\n                    );\n                    action.damage.value = Helpers.calcTotal(action.damage);\n                }\n                if (action.limit.attribute) {\n                    const { attribute } = action.limit;\n                    // TODO convert this in the template\n                    action.limit.mod = PartsList.AddUniquePart(\n                        action.limit.mod,\n                        game.i18n.localize(CONFIG.SR5.limits[attribute]),\n                        this.actor.findLimit(attribute)?.value,\n                    );\n                    action.limit.value = Helpers.calcTotal(action.limit);\n                }\n            }\n        }\n\n        if (range) {\n            if (range.rc) {\n                const rangeParts = new PartsList();\n                equippedMods.forEach((mod) => {\n                    if (mod.data.data.rc) rangeParts.addUniquePart(mod.name, mod.data.data.rc);\n                    // handle overrides from ammo\n                });\n                range.rc.mod = rangeParts.list;\n                if (range.rc) range.rc.value = Helpers.calcTotal(range.rc);\n            }\n        }\n\n        if (item.type === 'adept_power') {\n            item.data.type = item.data.action?.type ? 'active' : 'passive';\n        }\n\n        this.labels = labels;\n        item['properties'] = this.getChatData().properties;\n    }\n\n    async postCard(event?) {\n        // we won't work if we don't have an actor\n        if (!this.actor) return;\n\n        const postOnly = event?.shiftKey || !this.hasRoll;\n\n        const post = (bonus = {}) => {\n            // if only post, don't roll and post a card version -- otherwise roll\n            if (postOnly) {\n                const { token } = this.actor;\n                const attack = this.getAttackData(0);\n                // don't include any hits\n                delete attack?.hits;\n                console.error('SR5Item Roll');\n                // generate chat data\n                createChatData({\n                    header: {\n                        name: this.name,\n                        img: this.img,\n                    },\n                    testName: this.getRollName(),\n                    actor: this.actor,\n                    tokenId: token ? `${token.scene._id}.${token.id}` : undefined,\n                    description: this.getChatData(),\n                    item: this,\n                    previewTemplate: this.hasTemplate,\n                    attack,\n                    ...bonus,\n                }).then((chatData) => {\n                    // create the message\n                    return ChatMessage.create(chatData, { displaySheet: false });\n                });\n            } else {\n                this.rollTest(event);\n            }\n        };\n        // prompt user if needed\n        const dialogData = await ShadowrunItemDialog.fromItem(this, event);\n        if (dialogData) {\n            // keep track of old close function\n            const oldClose = dialogData.close;\n            // call post() after dialog closes\n            dialogData.close = async (html) => {\n                if (oldClose) {\n                    // the oldClose we put on the dialog will return a boolean\n                    const ret = ((await oldClose(html)) as unknown) as boolean;\n                    if (!ret) return;\n                }\n                post();\n            };\n            return new Dialog(dialogData).render(true);\n        } else {\n            post();\n        }\n    }\n\n    getChatData(htmlOptions?) {\n        const data = duplicate(this.data.data);\n        const { labels } = this;\n        if (!data.description) data.description = {};\n\n        data.description.value = TextEditor.enrichHTML(data.description.value, htmlOptions);\n\n        const props = [];\n        const func = ChatData[this.data.type];\n        if (func) func(duplicate(data), labels, props, this);\n\n        data.properties = props.filter((p) => !!p);\n\n        return data;\n    }\n\n    getOpposedTestName(): string {\n        let name = '';\n        if (this.data.data.action?.opposed?.type) {\n            const { opposed } = this.data.data.action;\n            if (opposed.type !== 'custom') {\n                name = `${Helpers.label(opposed.type)}`;\n            } else if (opposed.skill) {\n                name = `${Helpers.label(opposed.skill)}+${Helpers.label(opposed.attribute)}`;\n            } else if (opposed.attribute2) {\n                name = `${Helpers.label(opposed.attribute)}+${Helpers.label(opposed.attribute2)}`;\n            } else if (opposed.attribute) {\n                name = `${Helpers.label(opposed.attribute)}`;\n            }\n        }\n        const mod = this.getOpposedTestModifier();\n        if (mod) name += ` ${mod}`;\n        return name;\n    }\n\n    getOpposedTestMod(): PartsList<number> {\n        const parts = new PartsList<number>();\n        if (this.hasDefenseTest()) {\n            if (this.isAreaOfEffect()) {\n                parts.addUniquePart('SR5.Aoe', -2);\n            }\n            if (this.isRangedWeapon()) {\n                const fireModeData = this.getLastFireMode();\n                if (fireModeData?.defense) {\n                    if (fireModeData.defense !== 'SR5.DuckOrCover') {\n                        const fireMode = +fireModeData.defense;\n                        parts.addUniquePart('SR5.FireMode', fireMode);\n                    }\n                }\n            }\n        }\n        return parts;\n    }\n\n    getOpposedTestModifier(): string {\n        const testMod = this.getOpposedTestMod();\n        const total = testMod.total;\n        if (total) return `(${total})`;\n        else {\n            if (this.isRangedWeapon()) {\n                const fireModeData = this.getLastFireMode();\n                if (fireModeData?.defense) {\n                    if (fireModeData.defense === 'SR5.DuckOrCover') {\n                        return game.i18n.localize('SR5.DuckOrCover');\n                    }\n                }\n            }\n        }\n        return '';\n    }\n\n    getBlastData(): BlastData | undefined {\n        // can only handle spells and grenade right now\n        if (this.isSpell() && this.isAreaOfEffect()) {\n            // distance on spells is equal to force\n            let distance = this.getLastSpellForce().value;\n            // extended spells multiply by 10\n            if (this.data.data.extended) distance *= 10;\n            return {\n                radius: distance,\n                dropoff: 0,\n            };\n        } else if (this.isGrenade()) {\n            // use blast radius\n            const distance = this.data.data.thrown.blast.radius;\n            const dropoff = this.data.data.thrown.blast.dropoff;\n            return {\n                radius: distance,\n                dropoff: dropoff,\n            };\n        } else if (this.hasExplosiveAmmo()) {\n            const ammo = this.getEquippedAmmo();\n            const distance = ammo.data.data.blast.radius;\n            const dropoff = ammo.data.data.blast.dropoff;\n            return {\n                radius: distance,\n                dropoff,\n            };\n        }\n    }\n\n    getEquippedAmmo() {\n        return (this.items || []).filter((item) => item.type === 'ammo' && item.data.data?.technology?.equipped)[0];\n    }\n\n    getEquippedMods() {\n        return (this.items || []).filter((item) => item.type === 'modification' && item.data.data.type === 'weapon' && item.data.data?.technology?.equipped);\n    }\n\n    hasExplosiveAmmo(): boolean {\n        const ammo = this.getEquippedAmmo();\n        return ammo?.data?.data?.blast?.radius > 0;\n    }\n\n    async equipWeaponMod(iid) {\n        const mod = this.getOwnedItem(iid);\n        if (mod) {\n            const dupData = duplicate(mod.data);\n            dupData.data.technology.equipped = !dupData.data.technology.equipped;\n            await this.updateOwnedItem(dupData);\n        }\n    }\n\n    get hasAmmo() {\n        return this.data.data.ammo !== undefined;\n    }\n\n    async useAmmo(fireMode) {\n        const dupData = duplicate(this.data);\n        const { ammo } = dupData.data;\n        if (ammo) {\n            ammo.current.value = Math.max(0, ammo.current.value - fireMode);\n            return this.update(dupData);\n        }\n    }\n\n    async reloadAmmo() {\n        const data = duplicate(this.data);\n        const { ammo } = data.data;\n        const diff = ammo.current.max - ammo.current.value;\n        ammo.current.value = ammo.current.max;\n\n        if (ammo.spare_clips) {\n            ammo.spare_clips.value = Math.max(0, ammo.spare_clips.value - 1);\n        }\n        await this.update(data);\n\n        const newAmmunition = (this.items || [])\n            .filter((i) => i.data.type === 'ammo')\n            .reduce((acc: EntityData[], item) => {\n                const { technology } = item.data.data;\n                if (technology.equipped) {\n                    const qty = technology.quantity;\n                    technology.quantity = Math.max(0, qty - diff);\n                    acc.push(item.data);\n                }\n                return acc;\n            }, []);\n        if (newAmmunition.length) await this.updateOwnedItem(newAmmunition);\n    }\n\n    async equipAmmo(iid) {\n        // only allow ammo that was just clicked to be equipped\n        const ammo = this.items\n            ?.filter((item) => item.type === 'ammo')\n            .map((item) => {\n                const i = this.getOwnedItem(item._id);\n                if (i) {\n                    i.data.data.technology.equipped = iid === item._id;\n                    return i.data;\n                }\n            });\n        await this.updateOwnedItem(ammo);\n    }\n\n    addNewLicense() {\n        const data = duplicate(this.data);\n        const { licenses } = data.data;\n        if (typeof licenses === 'object') {\n            data.data.licenses = Object.values(licenses);\n        }\n        data.data.licenses.push({\n            name: '',\n            rtg: '',\n            description: '',\n        });\n        this.update(data);\n    }\n\n    getRollPartsList(): ModList<number> {\n        // we only have a roll if we have an action or an actor\n        if (!this.data.data.action || !this.actor) return [];\n\n        const parts = new PartsList(duplicate(this.getModifierList()));\n\n        const skill = this.actor.findActiveSkill(this.getActionSkill());\n        const attribute = this.actor.findAttribute(this.getActionAttribute());\n        const attribute2 = this.actor.findAttribute(this.getActionAttribute2());\n\n        if (attribute && attribute.label) parts.addPart(attribute.label, attribute.value);\n\n        // if we have a valid skill, don't look for a second attribute\n        if (skill && skill.label) {\n            parts.addUniquePart(skill.label, skill.value);\n            if (skill.value === 0) {\n                parts.addUniquePart('SR5.Defaulting', -1);\n            }\n        } else if (attribute2 && attribute2.label) parts.addUniquePart(attribute2.label, attribute2.value);\n\n        const spec = this.getActionSpecialization();\n        if (spec) parts.addUniquePart(spec, 2);\n\n        const mod = parseInt(this.data.data.action.mod || 0);\n        if (mod) parts.addUniquePart('SR5.ItemMod', mod);\n\n        const atts: (AttributeField | SkillField)[] | boolean = [];\n        if (attribute !== undefined) atts.push(attribute);\n        if (attribute2 !== undefined) atts.push(attribute2);\n        if (skill !== undefined) atts.push(skill);\n        // add global parts from actor\n        this.actor._addGlobalParts(parts);\n        this.actor._addMatrixParts(parts, atts);\n        this._addWeaponParts(parts);\n\n        return parts.list;\n    }\n\n    calculateRecoil() {\n        const lastFireMode = this.getLastFireMode();\n        if (!lastFireMode) return 0;\n        if (lastFireMode.value === 20) return 0;\n        return Math.min(this.getRecoilCompensation(true) - (this.getLastFireMode()?.value || 0), 0);\n    }\n\n    _addWeaponParts(parts: PartsList<number>) {\n        if (this.isRangedWeapon()) {\n            const recoil = this.calculateRecoil();\n            if (recoil) parts.addUniquePart('SR5.Recoil', recoil);\n        }\n    }\n\n    removeLicense(index) {\n        const data = duplicate(this.data);\n        const { licenses } = data.data;\n        licenses.splice(index, 1);\n        this.update(data);\n    }\n\n    async rollOpposedTest(target: SR5Actor, ev) {\n        const itemData = this.data.data;\n        const options = {\n            event: ev,\n            fireModeDefense: 0,\n            cover: false,\n        };\n\n        const lastAttack = this.getLastAttack();\n        const parts = this.getOpposedTestMod();\n        const { opposed } = itemData.action;\n\n        if (opposed.type === 'defense') {\n            if (lastAttack) {\n                options['incomingAttack'] = lastAttack;\n                options.cover = true;\n                if (lastAttack.fireMode?.defense) {\n                    options.fireModeDefense = +lastAttack.fireMode.defense;\n                }\n            }\n            return target.rollDefense(options, parts.list);\n        } else if (opposed.type === 'soak') {\n            options['damage'] = lastAttack?.damage;\n            options['attackerHits'] = lastAttack?.hits;\n            return target.rollSoak(options, parts.list);\n        } else if (opposed.type === 'armor') {\n            return target.rollArmor(options);\n        } else {\n            if (opposed.skill && opposed.attribute) {\n                return target.rollSkill(opposed.skill, {\n                    ...options,\n                    attribute: opposed.attribute,\n                });\n            } else if (opposed.attribute && opposed.attribute2) {\n                return target.rollTwoAttributes([opposed.attribute, opposed.attribute2], options);\n            } else if (opposed.attribute) {\n                return target.rollSingleAttribute(opposed.attribute, options);\n            }\n        }\n    }\n\n    async rollExtraTest(type: string, event) {\n        const targets = SR5Item.getTargets();\n        if (type === 'opposed') {\n            for (const t of targets) {\n                await this.rollOpposedTest(t, event);\n            }\n        }\n    }\n\n    /**\n     * Rolls a test using the latest stored data on the item (force, fireMode, level)\n     * @param event - mouse event\n     * @param options - any additional roll options to pass along - note that currently the Item will overwrite -- WIP\n     */\n    async rollTest(event, options?: Partial<AdvancedRollProps>): Promise<ShadowrunRoll | undefined> {\n        const promise = ShadowrunRoller.itemRoll(event, this, options);\n\n        // handle promise when it resolves for our own stuff\n        promise.then(async (roll) => {\n            const attackData = this.getAttackData(roll?.total ?? 0);\n            if (attackData) {\n                await this.setLastAttack(attackData);\n            }\n\n            // complex form handles fade\n            if (this.isComplexForm()) {\n                const totalFade = Math.max(this.getFade() + this.getLastComplexFormLevel().value, 2);\n                await this.actor.rollFade({ event }, totalFade);\n            } // spells handle drain, force, and attack data\n            else if (this.isSpell()) {\n                if (this.isCombatSpell() && roll) {\n                }\n                const forceData = this.getLastSpellForce();\n                const drain = Math.max(this.getDrain() + forceData.value + (forceData.reckless ? 3 : 0), 2);\n                await this.actor?.rollDrain({ event }, drain);\n            } // weapons handle ammo and attack data\n            else if (this.data.type === 'weapon') {\n                if (this.hasAmmo) {\n                    const fireMode = this.getLastFireMode()?.value || 1;\n                    await this.useAmmo(fireMode);\n                }\n            }\n        });\n\n        return promise;\n    }\n\n    static getItemFromMessage(html): SR5Item | undefined {\n        const card = html.find('.chat-card');\n        let actor;\n        const tokenKey = card.data('tokenId');\n        if (tokenKey) {\n            const [sceneId, tokenId] = tokenKey.split('.');\n            let token;\n            if (sceneId === canvas.scene._id) token = canvas.tokens.get(tokenId);\n            else {\n                const scene: Scene = game.scenes.get(sceneId);\n                if (!scene) return;\n                // @ts-ignore\n                const tokenData = scene.data.tokens.find((t) => t.id === Number(tokenId));\n                if (tokenData) token = new Token(tokenData);\n            }\n            if (!token) return;\n            actor = Actor.fromToken(token);\n        } else actor = game.actors.get(card.data('actorId'));\n\n        if (!actor) return;\n        const itemId = card.data('itemId');\n        return actor.getOwnedItem(itemId);\n    }\n\n    static getTargets() {\n        const { character } = game.user;\n        const { controlled } = canvas.tokens;\n        const targets = controlled.reduce((arr, t) => (t.actor ? arr.concat([t.actor]) : arr), []);\n        if (character && controlled.length === 0) targets.push(character);\n        if (!targets.length) throw new Error(`You must designate a specific Token as the roll target`);\n        return targets;\n    }\n\n    /**\n     * Create an item in this item\n     * @param itemData\n     * @param options\n     */\n    async createOwnedItem(itemData, options = {}) {\n        if (!Array.isArray(itemData)) itemData = [itemData];\n        // weapons accept items\n        if (this.type === 'weapon') {\n            const currentItems = duplicate(this.getEmbeddedItems());\n\n            itemData.forEach((ogItem) => {\n                const item = duplicate(ogItem);\n                item._id = randomID(16);\n                if (item.type === 'ammo' || item.type === 'modification') {\n                    if (item?.data?.technology?.equipped) {\n                        item.data.technology.equipped = false;\n                    }\n                    currentItems.push(item);\n                }\n            });\n\n            await this.setEmbeddedItems(currentItems);\n        }\n        await this.prepareEmbeddedEntities();\n        await this.prepareData();\n        await this.render(false);\n        return true;\n    }\n\n    /**\n     * Prepare embeddedItems\n     */\n    prepareEmbeddedEntities() {\n        super.prepareEmbeddedEntities();\n        let items = this.getEmbeddedItems();\n        if (items) {\n            const existing = (this.items || []).reduce((object, i) => {\n                object[i.id] = i;\n                return object;\n            }, {});\n            this.items = items.map((i) => {\n                if (i._id in existing) {\n                    const a = existing[i._id];\n                    a.data = i;\n                    a.prepareData();\n                    return a;\n                } else {\n                    // dirty things done here\n                    // @ts-ignore\n                    return Item.createOwned(i, this);\n                }\n            });\n        }\n    }\n\n    getOwnedItem(itemId) {\n        const items = this.items;\n        if (!items) return;\n        return items.find((i) => i._id === itemId);\n    }\n\n    async updateOwnedItem(changes) {\n        const items = duplicate(this.getEmbeddedItems());\n        if (!items) return;\n        changes = Array.isArray(changes) ? changes : [changes];\n        if (!changes || changes.length === 0) return;\n        changes.forEach((itemChanges) => {\n            const index = items.findIndex((i) => i._id === itemChanges._id);\n            if (index === -1) return;\n            const item = items[index];\n            if (item) {\n                itemChanges = expandObject(itemChanges);\n                mergeObject(item, itemChanges);\n                items[index] = item;\n                // this.items[index].data = items[index];\n            }\n        });\n\n        await this.setEmbeddedItems(items);\n        await this.prepareEmbeddedEntities();\n        await this.prepareData();\n        await this.render(false);\n        return true;\n    }\n\n    async updateEmbeddedEntity(embeddedName: string, updateData: object | object[], options?: object) {\n        await this.updateOwnedItem(updateData);\n        return this;\n    }\n\n    /**\n     * Remove an owned item\n     * @param deleted\n     * @returns {Promise<boolean>}\n     */\n    async deleteOwnedItem(deleted) {\n        const items = duplicate(this.getEmbeddedItems());\n        if (!items) return;\n\n        const idx = items.findIndex((i) => i._id === deleted || Number(i._id) === deleted);\n        if (idx === -1) throw new Error(`Shadowrun5e | Couldn't find owned item ${deleted}`);\n        items.splice(idx, 1);\n        await this.setEmbeddedItems(items);\n        await this.prepareEmbeddedEntities();\n        await this.prepareData();\n        await this.render(false);\n        return true;\n    }\n\n    async openPdfSource() {\n        // Check for PDFoundry module hook: https://github.com/Djphoenix719/PDFoundry\n        if (!ui['PDFoundry']) {\n            ui.notifications.warn(game.i18n.localize('SR5.DIALOG.MissingModuleContent'));\n            return;\n        }\n\n        const source = this.getBookSource();\n        if (source === '') {\n            // @ts-ignore\n            ui.notifications.error(game.i18n.localize('SR5.SourceFieldEmptyError'));\n        }\n        // TODO open PDF to correct location\n        // parse however you need, all \"buttons\" will lead to this function\n        const [code, page] = source.split(' ');\n\n        //@ts-ignore\n        ui.PDFoundry.openPDFByCode(code, {page: parseInt(page)});\n    }\n\n    getAttackData(hits: number): AttackData | undefined {\n        if (!this.data.data.action?.damage.type) return undefined;\n        const damage = this.data.data.action.damage;\n        const data: AttackData = {\n            hits,\n            damage: damage,\n        };\n\n        if (this.isCombatSpell()) {\n            const force = this.getLastSpellForce().value;\n            const damageParts = new PartsList(data.damage.mod);\n            data.force = force;\n            data.damage.base = force;\n            data.damage.value = force + damageParts.total;\n            data.damage.ap.value = -force + damageParts.total;\n            data.damage.ap.base = -force;\n        }\n\n        if (this.isComplexForm()) {\n            data.level = this.getLastComplexFormLevel().value;\n        }\n\n        if (this.isMeleeWeapon()) {\n            data.reach = this.getReach();\n            data.accuracy = this.getActionLimit();\n        }\n\n        if (this.isRangedWeapon()) {\n            data.fireMode = this.getLastFireMode();\n            data.accuracy = this.getActionLimit();\n        }\n\n        const blastData = this.getBlastData();\n        if (blastData) data.blast = blastData;\n\n        return data;\n    }\n\n    getRollName(): string | undefined {\n        if (this.isRangedWeapon()) {\n            return game.i18n.localize('SR5.RangeWeaponAttack');\n        }\n        if (this.isMeleeWeapon()) {\n            return game.i18n.localize('SR5.MeleeWeaponAttack');\n        }\n        if (this.isCombatSpell()) {\n            return game.i18n.localize('SR5.SpellAttack');\n        }\n        if (this.isSpell()) {\n            return game.i18n.localize('SR5.SpellCast');\n        }\n        if (this.hasRoll) return this.name;\n        return undefined;\n    }\n\n    getLimit(): LimitField | undefined {\n        const limit = this.data.data.action?.limit;\n        if (!limit) return undefined;\n        if (this.data.type === 'weapon') {\n            limit.label = 'SR5.Accuracy';\n        } else if (limit?.attribute) {\n            limit.label = CONFIG.SR5.attributes[limit.attribute];\n        } else if (this.isSpell()) {\n            limit.value = this.getLastSpellForce().value;\n            limit.label = 'SR5.Force';\n        } else if (this.isComplexForm()) {\n            limit.value = this.getLastComplexFormLevel().value;\n            limit.label = 'SR5.Level';\n        } else {\n            limit.label = 'SR5.Limit';\n        }\n        return limit;\n    }\n\n    /**\n     * Override setFlag to remove the 'SR5.' from keys in modlists, otherwise it handles them as embedded keys\n     * @param scope\n     * @param key\n     * @param value\n     */\n    setFlag(scope: string, key: string, value: any): Promise<this> {\n        const newValue = Helpers.onSetFlag(value);\n        return super.setFlag(scope, key, newValue);\n    }\n\n    /**\n     * Override getFlag to add back the 'SR5.' keys correctly to be handled\n     * @param scope\n     * @param key\n     */\n    getFlag(scope: string, key: string): any {\n        const data = super.getFlag(scope, key);\n        return Helpers.onGetFlag(data);\n    }\n\n    /**\n     * Passthrough functions\n     */\n    isAreaOfEffect(): boolean {\n        return this.wrapper.isAreaOfEffect();\n    }\n\n    isArmor(): boolean {\n        return this.wrapper.isArmor();\n    }\n\n    hasArmorBase(): boolean {\n        return this.wrapper.hasArmorBase();\n    }\n\n    hasArmorAccessory(): boolean {\n        return this.wrapper.hasArmorAccessory();\n    }\n\n    hasArmor(): boolean {\n        return this.wrapper.hasArmor();\n    }\n\n    isGrenade(): boolean {\n        return this.wrapper.isGrenade();\n    }\n\n    isWeapon(): boolean {\n        return this.wrapper.isWeapon();\n    }\n\n    isCyberware(): boolean {\n        return this.wrapper.isCyberware();\n    }\n\n    isCombatSpell(): boolean {\n        return this.wrapper.isCombatSpell();\n    }\n\n    isRangedWeapon(): boolean {\n        return this.wrapper.isRangedWeapon();\n    }\n\n    isSpell(): boolean {\n        return this.wrapper.isSpell();\n    }\n\n    isComplexForm(): boolean {\n        return this.wrapper.isComplexForm();\n    }\n\n    isMeleeWeapon(): boolean {\n        return this.wrapper.isMeleeWeapon();\n    }\n\n    isDevice(): boolean {\n        return this.wrapper.isDevice();\n    }\n\n    isEquipped(): boolean {\n        return this.wrapper.isEquipped();\n    }\n\n    isCyberdeck(): boolean {\n        return this.wrapper.isCyberdeck();\n    }\n\n    getBookSource(): string {\n        return this.wrapper.getBookSource();\n    }\n\n    getConditionMonitor(): ConditionData {\n        return this.wrapper.getConditionMonitor();\n    }\n\n    getRating(): number {\n        return this.wrapper.getRating();\n    }\n\n    getArmorValue(): number {\n        return this.wrapper.getArmorValue();\n    }\n\n    getArmorElements(): { [key: string]: number } {\n        return this.wrapper.getArmorElements();\n    }\n\n    getEssenceLoss(): number {\n        return this.wrapper.getEssenceLoss();\n    }\n\n    getASDF() {\n        return this.wrapper.getASDF();\n    }\n\n    getActionSkill(): string | undefined {\n        return this.wrapper.getActionSkill();\n    }\n\n    getActionAttribute(): string | undefined {\n        return this.wrapper.getActionAttribute();\n    }\n\n    getActionAttribute2(): string | undefined {\n        return this.wrapper.getActionAttribute2();\n    }\n\n    getActionLimit(): number | undefined {\n        return this.wrapper.getActionLimit();\n    }\n\n    getModifierList(): ModList<number> {\n        return this.wrapper.getModifierList();\n    }\n\n    getActionSpecialization(): string | undefined {\n        return this.wrapper.getActionSpecialization();\n    }\n\n    getDrain(): number {\n        return this.wrapper.getDrain();\n    }\n\n    getFade(): number {\n        return this.wrapper.getFade();\n    }\n\n    getRecoilCompensation(includeActor: boolean = true): number {\n        let rc = this.wrapper.getRecoilCompensation();\n        if (includeActor && this.actor) {\n            rc += this.actor.getRecoilCompensation();\n        }\n        return rc;\n    }\n\n    getReach(): number {\n        if (this.isMeleeWeapon()) {\n            return this.data.data.melee?.reach ?? 0;\n        }\n        return 0;\n    }\n\n    hasDefenseTest(): boolean {\n        return this.data.data.action?.opposed?.type === 'defense';\n    }\n}\n","import { DataWrapper } from '../dataWrappers/DataWrapper';\nimport SR5ItemType = Shadowrun.SR5ItemType;\nimport ConditionData = Shadowrun.ConditionData;\nimport ModList = Shadowrun.ModList;\nimport SR5ItemData = Shadowrun.SR5ItemData;\n\nexport class SR5ItemDataWrapper extends DataWrapper<SR5ItemType> {\n    getData(): SR5ItemData {\n        return this.data.data;\n    }\n\n    isAreaOfEffect(): boolean {\n        // TODO figure out how to detect explosive ammo\n        return this.isGrenade() || (this.isSpell() && this.data.data.range === 'los_a'); //|| this.hasExplosiveAmmo();\n    }\n\n    isArmor(): boolean {\n        return this.data.type === 'armor';\n    }\n\n    hasArmorBase(): boolean {\n        return this.hasArmor() && !this.data.data.armor?.mod;\n    }\n\n    hasArmorAccessory(): boolean {\n        return this.hasArmor() && (this.data.data.armor?.mod ?? false);\n    }\n\n    hasArmor(): boolean {\n        return this.getArmorValue() > 0;\n    }\n\n    isGrenade(): boolean {\n        return this.isThrownWeapon() && (this.data.data.thrown?.blast.radius ?? 0) > 0;\n    }\n\n    isThrownWeapon(): boolean {\n        return this.isWeapon() && this.data.data.category === 'thrown';\n    }\n\n    isWeapon(): boolean {\n        return this.data.type === 'weapon';\n    }\n\n    isCyberware(): boolean {\n        return this.data.type === 'cyberware';\n    }\n\n    isCombatSpell(): boolean {\n        return this.isSpell() && this.data.data.category === 'combat';\n    }\n\n    isRangedWeapon(): boolean {\n        return this.isWeapon() && this.data.data.category === 'range';\n    }\n\n    isSpell(): boolean {\n        return this.data.type === 'spell';\n    }\n\n    isComplexForm(): boolean {\n        return this.data.type === 'complex_form';\n    }\n\n    isMeleeWeapon(): boolean {\n        return this.data.type === 'weapon' && this.data.data.category === 'melee';\n    }\n\n    isDevice(): boolean {\n        return this.data.type === 'device';\n    }\n\n    isEquipped(): boolean {\n        return this.data.data.technology?.equipped || false;\n    }\n\n    isCyberdeck(): boolean {\n        return this.isDevice() && this.data.data.category === 'cyberdeck';\n    }\n\n    getId(): string {\n        return this.data._id;\n    }\n\n    getBookSource(): string {\n        return this.data.data.description.source;\n    }\n\n    getConditionMonitor(): ConditionData {\n        return this.data.data.technology?.condition_monitor ?? { value: 0, max: 0, label: '' };\n    }\n\n    getRating(): number {\n        return this.data.data.technology?.rating || 0;\n    }\n\n    getArmorValue(): number {\n        return this.data.data?.armor?.value ?? 0;\n    }\n\n    getArmorElements(): { [key: string]: number } {\n        // TODO clean this up\n        const { fire, electricity, cold, acid } = this.data.data.armor || {};\n        return { fire: fire ?? 0, electricity: electricity ?? 0, cold: cold ?? 0, acid: acid ?? 0 };\n    }\n\n    getName(): string {\n        return this.data.name;\n    }\n\n    getEssenceLoss(): number {\n        return this.data.data?.essence ?? 0;\n    }\n\n    getAmmo() {\n        return this.data.data.ammo;\n    }\n\n    getASDF() {\n        if (!this.isDevice()) return undefined;\n\n        // matrix attributes are set up as an object\n        const matrix = {\n            attack: {\n                value: 0,\n                device_att: '',\n            },\n            sleaze: {\n                value: 0,\n                device_att: '',\n            },\n            data_processing: {\n                value: this.getRating(),\n                device_att: '',\n            },\n            firewall: {\n                value: this.getRating(),\n                device_att: '',\n            },\n        };\n\n        if (this.isCyberdeck()) {\n            /**\n             * {\n             *     attN: {\n             *         value: number,\n             *         att: string (the ASDF attribute)\n             *     }\n             * }\n             */\n            const atts: { [key: string]: { value: number; att: string } } | undefined = this.data.data.atts;\n            if (atts) {\n                for (let [key, att] of Object.entries(atts)) {\n                    matrix[att.att].value = att.value;\n                    matrix[att.att].device_att = key;\n                }\n            }\n        }\n\n        return matrix;\n    }\n\n    getQuantity(): number | undefined {\n        return this.data.data?.technology?.quantity || 1;\n    }\n\n    getActionDicePoolMod(): number | undefined {\n        return this.data.data.action?.mod;\n    }\n\n    getLimitAttribute(): string | undefined {\n        return this.data.data.action?.limit?.attribute;\n    }\n\n    getActionSkill(): string | undefined {\n        return this.data.data.action?.skill;\n    }\n\n    getActionAttribute(): string | undefined {\n        return this.data.data.action?.attribute;\n    }\n\n    getActionAttribute2(): string | undefined {\n        return this.data.data.action?.attribute2;\n    }\n\n    getActionLimit(): number | undefined {\n        return this.data.data.action?.limit?.value;\n    }\n\n    getModifierList(): ModList<number> {\n        return this.data.data.action?.dice_pool_mod || [];\n    }\n\n    getActionSpecialization(): string | undefined {\n        if (this.data.data.action?.spec) return 'SR5.Specialization';\n        return undefined;\n    }\n\n    getDrain(): number {\n        return this.data.data.drain || 0;\n    }\n\n    getFade(): number {\n        return this.data.data.fade || 0;\n    }\n\n    getRecoilCompensation(): number {\n        if (!this.isRangedWeapon()) return 0;\n        const base = this.data.data?.range?.rc.value ?? '0';\n        return Number(base);\n    }\n\n    getReach(): number {\n        if (this.isMeleeWeapon()) {\n            return this.data.data.melee?.reach ?? 0;\n        }\n        return 0;\n    }\n\n    hasDefenseTest(): boolean {\n        return this.data.data.action?.opposed?.type === 'defense';\n    }\n}\n","import { Helpers } from '../helpers';\nimport { SR5Item } from './SR5Item';\n\n/**\n * Extend the basic ItemSheet with some very simple modifications\n */\nexport class SR5ItemSheet extends ItemSheet {\n    item: SR5Item;\n    private _shownDesc: any[];\n    private _scroll: string;\n    constructor(...args) {\n        super(...args);\n        this._shownDesc = [];\n    }\n\n    getEmbeddedItems() {\n        return this.item.items || [];\n    }\n\n    /**\n     * Extend and override the default options used by the Simple Item Sheet\n     * @returns {Object}\n     */\n    static get defaultOptions() {\n        return mergeObject(super.defaultOptions, {\n            classes: ['sr5', 'sheet', 'item'],\n            width: 650,\n            height: 450,\n            tabs: [{ navSelector: '.tabs', contentSelector: '.sheetbody' }],\n        });\n    }\n\n    get template() {\n        const path = 'systems/shadowrun5e/dist/templates/item/';\n        return `${path}${this.item.data.type}.html`;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Prepare data for rendering the Item sheet\n     * The prepared data object contains both the actor data as well as additional sheet options\n     */\n    getData() {\n        const data = super.getData();\n        const itemData = data.data;\n\n        if (itemData.action) {\n            try {\n                const { action } = itemData;\n                if (action.mod === 0) delete action.mod;\n                if (action.limit === 0) delete action.limit;\n                if (action.damage) {\n                    if (action.damage.mod === 0) delete action.damage.mod;\n                    if (action.damage.ap.mod === 0) delete action.damage.ap.mod;\n                }\n                if (action.limit) {\n                    if (action.limit.mod === 0) delete action.limit.mod;\n                }\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        if (itemData.technology) {\n            try {\n                const tech = itemData.technology;\n                if (tech.rating === 0) delete tech.rating;\n                if (tech.quantity === 0) delete tech.quantity;\n                if (tech.cost === 0) delete tech.cost;\n            } catch (e) {\n                console.log(e);\n            }\n        }\n\n        data['config'] = CONFIG.SR5;\n        const items = this.getEmbeddedItems();\n        const [ammunition, weaponMods, armorMods] = items.reduce(\n            (parts: [ItemData[], ItemData[], ItemData[]], item: SR5Item) => {\n                if (item.type === 'ammo') parts[0].push(item.data);\n                if (item.type === 'modification' && item.data.data.type === 'weapon') parts[1].push(item.data);\n                if (item.type === 'modification' && item.data.data.type === 'armor') parts[2].push(item.data);\n                return parts;\n            },\n            [[], [], []],\n        );\n        data['ammunition'] = ammunition;\n        data['weaponMods'] = weaponMods;\n        data['armorMods'] = armorMods;\n        // TODO set to the proper boolean for if the source PDF can be accessed\n        // I'm thinking maybe check for the mod being installed?\n        data['hasSourcePdfAvailable'] = true;\n\n        return data;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Activate event listeners using the prepared sheet HTML\n     * @param html -  The prepared HTML object ready to be rendered into the DOM\n     */\n    activateListeners(html) {\n        super.activateListeners(html);\n        if (this.item.type === 'weapon') {\n            this.form.ondragover = (event) => this._onDragOver(event);\n            this.form.ondrop = (event) => this._onDrop(event);\n        }\n        html.find('.add-new-ammo').click(this._onAddNewAmmo.bind(this));\n        html.find('.ammo-equip').click(this._onAmmoEquip.bind(this));\n        html.find('.ammo-delete').click(this._onAmmoRemove.bind(this));\n        html.find('.ammo-reload').click(this._onAmmoReload.bind(this));\n\n        html.find('.edit-item').click(this._onEditItem.bind(this));\n\n        html.find('.add-new-mod').click(this._onAddWeaponMod.bind(this));\n        html.find('.mod-equip').click(this._onWeaponModEquip.bind(this));\n        html.find('.mod-delete').click(this._onWeaponModRemove.bind(this));\n\n        html.find('.add-new-license').click(this._onAddLicense.bind(this));\n        html.find('.license-delete').on('click', this._onRemoveLicense.bind(this));\n\n        html.find('.open-source-pdf').on('click', this._onOpenSourcePdf.bind(this));\n\n        html.find('.has-desc').click((event) => {\n            event.preventDefault();\n            const item = $(event.currentTarget).parents('.list-item');\n            const iid = $(item).data().item;\n            const field = item.next();\n            field.toggle();\n            if (iid) {\n                if (field.is(':visible')) this._shownDesc.push(iid);\n                else this._shownDesc = this._shownDesc.filter((val) => val !== iid);\n            }\n        });\n\n        html.find('.hidden').hide();\n    }\n\n    _onDragOver(event) {\n        event.preventDefault();\n        return false;\n    }\n\n    async _onDrop(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        let data;\n        try {\n            data = JSON.parse(event.dataTransfer.getData('text/plain'));\n            if (data.type !== 'Item') {\n                console.log('Shadowrun5e | Can only drop Items');\n            }\n        } catch (err) {\n            console.log('Shadowrun5e | drop error');\n        }\n        let item;\n        // Case 1 - Data explicitly provided\n        if (data.data) {\n            // TODO test\n            if (this.item.isOwned && data.actorId === this.item.actor?._id && data.data._id === this.item._id) {\n                console.log('Shadowrun5e | Cant drop item on itself');\n                // @ts-ignore\n                ui.notifications.error('Are you trying to break the game??');\n            }\n            item = data;\n        } else if (data.pack) {\n            console.log(data);\n            // Case 2 - From a Compendium Pack\n            // TODO test\n            item = await this._getItemFromCollection(data.pack, data.id);\n        } else {\n            // Case 3 - From a World Entity\n            item = game.items.get(data.id);\n        }\n\n        this.item.createOwnedItem(item.data);\n    }\n\n    _getItemFromCollection(collection, itemId) {\n        const pack = game.packs.find((p) => p.collection === collection);\n        return pack.getEntity(itemId);\n    }\n\n    _eventId(event) {\n        event.preventDefault();\n        return event.currentTarget.closest('.list-item').dataset.itemId;\n    }\n\n    async _onOpenSourcePdf(event) {\n        event.preventDefault();\n        await this.item.openPdfSource();\n    }\n\n    async _onEditItem(event) {\n        const item = this.item.getOwnedItem(this._eventId(event));\n        if (item) {\n            item.sheet.render(true);\n        }\n    }\n\n    async _onAddLicense(event) {\n        event.preventDefault();\n        this.item.addNewLicense();\n    }\n\n    async _onRemoveLicense(event) {\n        event.preventDefault();\n        const index = event.currentTarget.dataset.index;\n        if (index >= 0) this.item.removeLicense(index);\n    }\n\n    async _onWeaponModRemove(event) {\n        this.item.deleteOwnedItem(this._eventId(event));\n    }\n\n    async _onWeaponModEquip(event) {\n        this.item.equipWeaponMod(this._eventId(event));\n    }\n\n    async _onAddWeaponMod(event) {\n        event.preventDefault();\n        const type = 'modification';\n        const itemData = {\n            name: `New ${Helpers.label(type)}`,\n            type: type,\n            data: duplicate(game.system.model.Item.modification),\n        };\n        itemData.data.type = 'weapon';\n        // @ts-ignore\n        const item = Item.createOwned(itemData, this.item);\n        this.item.createOwnedItem(item.data);\n    }\n\n    async _onAmmoReload(event) {\n        event.preventDefault();\n        this.item.reloadAmmo();\n    }\n\n    async _onAmmoRemove(event) {\n        this.item.deleteOwnedItem(this._eventId(event));\n    }\n\n    async _onAmmoEquip(event) {\n        this.item.equipAmmo(this._eventId(event));\n    }\n\n    _onAddNewAmmo(event) {\n        event.preventDefault();\n        const type = 'ammo';\n        const itemData = {\n            name: `New ${Helpers.label(type)}`,\n            type: type,\n            data: duplicate(game.system.model.Item.ammo),\n        };\n        // @ts-ignore\n        const item = Item.createOwned(itemData, this.item);\n        this.item.createOwnedItem(item.data);\n    }\n\n    /**\n     * @private\n     */\n    _findActiveList() {\n        return $(this.element).find('.tab.active .scroll-area');\n    }\n\n    /** This is needed to circumvent Application.close setting closed state early, due to it's async animation\n     * - The length of the closing animation can't be longer then any await time in the closing cycle\n     * - FormApplication._onSubmit will otherwise set ._state to RENDERED even if the Application window has closed already\n     * - Subsequent render calls then will show the window again, due to it's state\n     *\n     * @private\n     */\n    private fixStaleRenderedState() {\n        if (this._state === Application.RENDER_STATES.RENDERED && ui.windows[this.appId] === undefined) {\n            console.warn(`SR5ItemSheet app for ${this.entity.name} is set as RENDERED but has no window registered. Fixing app internal render state. This is a known bug.`);\n            // Hotfixing instead of this.close() since FormApplication.close() expects form elements, which don't exist anymore.\n            this._state = Application.RENDER_STATES.CLOSED;\n        }\n    }\n\n    /**\n     * @private\n     */\n    async _render(force = false, options = {}) {\n        // NOTE: This is for a timing bug. See function doc for code removal. Good luck, there be dragons here. - taM\n        this.fixStaleRenderedState();\n\n        this._saveScrollPositions();\n        await super._render(force, options);\n        this._restoreScrollPositions();\n    }\n\n    /**\n     * @private\n     */\n    _restoreScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length && this._scroll != null) {\n            activeList.prop('scrollTop', this._scroll);\n        }\n    }\n\n    /**\n     * @private\n     */\n    _saveScrollPositions() {\n        const activeList = this._findActiveList();\n        if (activeList.length) {\n            this._scroll = activeList.prop('scrollTop');\n        }\n    }\n}\n","/**\n * Create a Macro from an Item drop.\n * Get an existing item macro if one exists, otherwise create a new one.\n * @param {Object} item     The item data\n * @param {number} slot     The hotbar slot to use\n * @returns {Promise}\n */\nexport async function createItemMacro(item, slot) {\n    const command = `game.shadowrun5e.rollItemMacro(\"${item.name}\");`;\n    let macro = game.macros.entities.find((m) => m.name === item.name);\n    if (!macro) {\n        macro = (await Macro.create(\n            {\n                name: item.name,\n                type: 'script',\n                img: item.img,\n                command: command,\n                flags: { 'shadowrun5e.itemMacro': true },\n            },\n            { displaySheet: false },\n        )) as Macro;\n    }\n    if (macro) game.user.assignHotbarMacro(macro, slot);\n}\n\n/**\n * Create a Macro from an Item drop.\n * Get an existing item macro if one exists, otherwise create a new one.\n * @param {string} itemName\n * @return {Promise}\n */\nexport function rollItemMacro(itemName) {\n    const speaker = ChatMessage.getSpeaker();\n    let actor;\n    if (speaker.token) actor = game.actors.tokens[speaker.token];\n    if (!actor) actor = game.actors.get(speaker.actor);\n    const item = actor ? actor.items.find((i) => i.name === itemName) : null;\n    if (!item) {\n        // @ts-ignore\n        return ui.notifications.warn(`Your controlled Actor does not have an item named ${itemName}`);\n    }\n\n    return item.postCard();\n}","import { HandlebarManager } from './handlebars/HandlebarManager';\nimport {HooksManager} from \"./hooks\";\n\n/* -------------------------------------------- */\n/*  Foundry VTT Initialization                  */\n/* -------------------------------------------- */\n\n\nHooksManager.registerHooks();\nHandlebarManager.registerHelpers();","import { VersionMigration } from './VersionMigration';\nimport { LegacyMigration } from './versions/LegacyMigration';\nimport { Version0_6_5 } from './versions/Version0_6_5';\nimport { Version0_6_10 } from './versions/Version0_6_10';\nimport {Version0_7_2} from \"./versions/Version0_7_2\";\n\ntype VersionDefinition = {\n    versionNumber: string;\n    migration: VersionMigration;\n};\nexport class Migrator {\n    // Map of all version migrations to their target version numbers.\n    private static readonly s_Versions: VersionDefinition[] = [\n        { versionNumber: LegacyMigration.TargetVersion, migration: new LegacyMigration() },\n        { versionNumber: Version0_6_5.TargetVersion, migration: new Version0_6_5() },\n        { versionNumber: Version0_6_10.TargetVersion, migration: new Version0_6_10() },\n        { versionNumber: Version0_7_2.TargetVersion, migration: new Version0_7_2() },\n    ];\n\n    //TODO: Call on Init()\n    public static async BeginMigration() {\n        let currentVersion = game.settings.get(VersionMigration.MODULE_NAME, VersionMigration.KEY_DATA_VERSION);\n        if (currentVersion === undefined || currentVersion === null) {\n            currentVersion = VersionMigration.NO_VERSION;\n        }\n\n        const migrations = Migrator.s_Versions.filter(({ versionNumber }) => {\n            // if versionNUmber is greater than currentVersion, we need to apply this migration\n            return this.compareVersion(versionNumber, currentVersion) === 1;\n        });\n\n        // No migrations are required, exit.\n        if (migrations.length === 0) {\n            return;\n        }\n\n        const localizedWarningTitle = game.i18n.localize('SR5.MIGRATION.WarningTitle');\n        const localizedWarningHeader = game.i18n.localize('SR5.MIGRATION.WarningHeader');\n        const localizedWarningRequired = game.i18n.localize('SR5.MIGRATION.WarningRequired');\n        const localizedWarningDescription = game.i18n.localize('SR5.MIGRATION.WarningDescription');\n        const localizedWarningBackup = game.i18n.localize('SR5.MIGRATION.WarningBackup');\n        const localizedWarningBegin = game.i18n.localize('SR5.MIGRATION.BeginMigration');\n\n        const d = new Dialog({\n            title: localizedWarningTitle,\n            content:\n                `<h2 style=\"color: red; text-align: center\">${localizedWarningHeader}</h2>` +\n                `<p style=\"text-align: center\"><i>${localizedWarningRequired}</i></p>` +\n                `<p>${localizedWarningDescription}</p>` +\n                `<h3 style=\"color: red\">${localizedWarningBackup}</h3>`,\n            buttons: {\n                ok: {\n                    label: localizedWarningBegin,\n                    callback: () => this.migrate(migrations),\n                },\n            },\n            default: 'ok',\n        });\n        d.render(true);\n    }\n\n    private static async migrate(migrations: VersionDefinition[]) {\n        // we want to apply migrations in ascending order until we're up to the latest\n        migrations.sort((a, b) => {\n            return this.compareVersion(a.versionNumber, b.versionNumber);\n        });\n\n        await this.migrateWorld(game, migrations);\n        await this.migrateCompendium(game, migrations);\n\n        const localizedWarningTitle = game.i18n.localize('SR5.MIGRATION.SuccessTitle');\n        const localizedWarningHeader = game.i18n.localize('SR5.MIGRATION.SuccessHeader');\n        const localizedSuccessDescription = game.i18n.localize('SR5.MIGRATION.SuccessDescription');\n        const localizedSuccessPacksInfo = game.i18n.localize('SR5.MIGRATION.SuccessPacksInfo');\n        const localizedSuccessConfirm = game.i18n.localize('SR5.MIGRATION.SuccessConfirm');\n        const packsDialog = new Dialog({\n            title: localizedWarningTitle,\n            content:\n                `<h2 style=\"text-align: center; color: green\">${localizedWarningHeader}</h2>` +\n                `<p>${localizedSuccessDescription}</p>` +\n                `<p style=\"text-align: center\"><i>${localizedSuccessPacksInfo}</i></p>`,\n            buttons: {\n                ok: {\n                    icon: '<i class=\"fas fa-check\"></i>',\n                    label: localizedSuccessConfirm,\n                },\n            },\n            default: 'ok',\n        });\n        packsDialog.render(true);\n    }\n\n    /**\n     * Migrate all world objects\n     * @param game\n     * @param migrations\n     */\n    private static async migrateWorld(game: Game, migrations: VersionDefinition[]) {\n        // Run the migrations in order\n        for (const { migration } of migrations) {\n            await migration.Migrate(game);\n        }\n    }\n\n    /**\n     * Iterate over all world compendium packs\n     * @param game Game that will be migrated\n     * @param migrations Instances of the version migration\n     */\n    private static async migrateCompendium(game: Game, migrations: VersionDefinition[]) {\n        // Migrate World Compendium Packs\n        const packs = game.packs.filter((pack) => pack.metadata.package === 'world' && ['Actor', 'Item', 'Scene'].includes(pack.metadata.entity));\n\n        // Run the migrations in order on each pack.\n        for (const pack of packs) {\n            for (const { migration } of migrations) {\n                await migration.MigrateCompendiumPack(pack);\n            }\n        }\n    }\n\n    // found at: https://helloacm.com/the-javascript-function-to-compare-version-number-strings/\n    // updated for typescript\n    /**\n     * compare two version numbers, returns 1 if v1 > v2, -1 if v1 < v2, 0 if equal\n     * @param v1\n     * @param v2\n     */\n    public static compareVersion(v1: string, v2: string) {\n        const s1 = v1.split('.').map((s) => parseInt(s, 10));\n        const s2 = v2.split('.').map((s) => parseInt(s, 10));\n        const k = Math.min(v1.length, v2.length);\n        for (let i = 0; i < k; ++i) {\n            if (s1[i] > s2[i]) return 1;\n            if (s1[i] < s2[i]) return -1;\n        }\n        return v1.length === v2.length ? 0 : v1.length < v2.length ? -1 : 1;\n    }\n}\n","import { SR5Actor } from '../actor/SR5Actor';\n\n/**\n * Converts a game's data model from source version to a target version.\n * Extending classes are only required to handle items, actors, and scenes,\n *  other methods are implementable purely for convenience and atomicity.\n */\nexport abstract class VersionMigration {\n    static readonly MODULE_NAME = 'shadowrun5e';\n    static readonly KEY_DATA_VERSION = 'systemMigrationVersion';\n    static readonly NO_VERSION = '0';\n\n    private m_Abort: boolean = false;\n    private m_AbortReason: string;\n\n    /**\n     * The allowed version this migrator should be able to operate on.\n     */\n    public abstract get SourceVersion(): string;\n    /**\n     * The resulting version this migrator will produce.\n     */\n    public abstract get TargetVersion(): string;\n\n    public get SourceVersionFriendlyName(): string {\n        return `v${this.SourceVersion}`;\n    }\n    public get TargetVersionFriendlyName(): string {\n        return `v${this.TargetVersion}`;\n    }\n\n    /**\n     * Flag the migration to be aborted.\n     * @param reason The reason that the migration must be aborted, to be displayed\n     *  to the user and returned from the migration call.\n     */\n    protected abort(reason: string): void {\n        this.m_Abort = true;\n        this.m_AbortReason = reason;\n        // @ts-ignore\n        ui.notifications.error(`Data migration has been aborted: ${reason}`, { permanent: true });\n    }\n\n    /**\n     * Begin migration for the specified game.\n     * @param game The world that should be migrated.\n     */\n    public async Migrate(game: Game) {\n        // @ts-ignore TODO Unignore when Foundry Types updates\n        ui.notifications.info(`Beginning Shadowrun system migration from version ${this.SourceVersionFriendlyName} to ${this.TargetVersionFriendlyName}.`);\n        // @ts-ignore TODO Unignore when Foundry Types updates\n        ui.notifications.warn(`Please do not close your game or shutdown FoundryVTT.`, {\n            permanent: true,\n        });\n\n        // Map of entities to update, store until later to reduce chance of partial updates\n        // which may result in impossible game states.\n        const entityUpdates: Map<Entity, EntityUpdate> = new Map<Entity, EntityUpdate>();\n\n        // Migrate World Items\n        await this.PreMigrateItemData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n        await this.IterateItems(game, entityUpdates);\n        await this.PostMigrateItemData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n\n        // Migrate World Actors\n        await this.PreMigrateActorData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n        await this.IterateActors(game, entityUpdates);\n        await this.PostMigrateActorData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n\n        // Migrate Actor Tokens\n        await this.PreMigrateSceneData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n        await this.IterateScenes(game, entityUpdates);\n        await this.PostMigrateSceneData(game, entityUpdates);\n        if (this.m_Abort) {\n            return Promise.reject(this.m_AbortReason);\n        }\n\n        // Apply the updates, this should *always* work, now that parsing is complete.\n        await this.Apply(entityUpdates);\n\n        await game.settings.set(VersionMigration.MODULE_NAME, VersionMigration.KEY_DATA_VERSION, this.TargetVersion);\n        // @ts-ignore TODO Unignore when Foundry Types updates\n        ui.notifications.info(`Shadowrun system migration successfully migrated to version ${this.TargetVersion}.`, { permanent: true });\n    }\n\n    /**\n     * Applies the specified mapping of entities, iteratively updating each.\n     * @param entityUpdates A mapping of entity updateData pairs.\n     */\n    protected async Apply(entityUpdates: Map<Entity, EntityUpdate>) {\n        for (const [entity, { updateData, embeddedItems }] of entityUpdates) {\n            if (embeddedItems !== null) {\n                const actor = entity as SR5Actor;\n                await actor.updateOwnedItem(embeddedItems);\n            }\n            await entity.update(updateData, { enforceTypes: false });\n        }\n    }\n\n    /**\n     * Iterate through all scenes and migrate each if needed.\n     * @param game\n     * @param entityUpdates\n     */\n    protected async IterateScenes(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\n        for (const scene of game.scenes.entities) {\n            try {\n                if (!(await this.ShouldMigrateSceneData(scene))) {\n                    continue;\n                }\n\n                if (scene._id === 'MAwSFhlXRipixOWw') {\n                    console.log('Scene Pre-Update');\n                    console.log(scene);\n                }\n\n                console.log(`Migrating Scene entity ${scene.name}`);\n                const updateData = await this.MigrateSceneData(duplicate(scene.data));\n\n                let hasTokenUpdates = false;\n                updateData.tokens = await Promise.all(\n                    // @ts-ignore\n                    scene.data.tokens.map(async (token) => {\n                        if (isObjectEmpty(token.actorData)) {\n                            return token;\n                        }\n\n                        let tokenDataUpdate = await this.MigrateActorData(token.actorData);\n                        if (!isObjectEmpty(tokenDataUpdate)) {\n                            hasTokenUpdates = true;\n                            tokenDataUpdate['_id'] = token._id;\n\n                            const newToken = duplicate(token);\n                            newToken.actorData = await mergeObject(token.actorData, tokenDataUpdate, {\n                                enforceTypes: false,\n                                inplace: false,\n                            });\n                            console.log(newToken);\n                            return newToken;\n                        } else {\n                            return token;\n                        }\n                    }),\n                );\n                if (scene._id === 'MAwSFhlXRipixOWw') {\n                    console.log('Scene Pre-Update');\n                    console.log(scene);\n                }\n\n                if (isObjectEmpty(updateData)) {\n                    continue;\n                }\n\n                expandObject(updateData);\n                entityUpdates.set(scene, {\n                    updateData,\n                    embeddedItems: null,\n                });\n            } catch (error) {\n                console.error(error);\n                return Promise.reject(error);\n            }\n        }\n    }\n    /**\n     * Iterate through all items and migrate each if needed.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async IterateItems(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\n        for (const item of game.items.entities) {\n            try {\n                if (!(await this.ShouldMigrateItemData(item.data))) {\n                    continue;\n                }\n\n                console.log(`Migrating Item: ${item.name}`);\n                const updateData = await this.MigrateItemData(item.data);\n\n                if (isObjectEmpty(updateData)) {\n                    continue;\n                }\n\n                expandObject(updateData);\n                entityUpdates.set(item, {\n                    updateData,\n                    embeddedItems: null,\n                });\n            } catch (error) {\n                console.error(error);\n                return Promise.reject(error);\n            }\n        }\n    }\n    /**\n     * Iterate through all actors and migrate each if needed.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async IterateActors(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\n        for (const actor of game.actors.entities) {\n            try {\n                if (!(await this.ShouldMigrateActorData(actor.data))) {\n                    continue;\n                }\n\n                console.log(`Migrating Actor ${actor.name}`);\n                console.log(actor);\n                const updateData = await this.MigrateActorData(duplicate(actor.data));\n                console.log(updateData);\n                let items = [];\n                if (updateData.items) {\n                    items = updateData.items;\n                    delete updateData.items;\n                }\n\n                expandObject(updateData);\n\n                entityUpdates.set(actor, {\n                    updateData,\n                    embeddedItems: items,\n                });\n            } catch (error) {\n                console.error(error);\n                return Promise.reject(error);\n            }\n        }\n    }\n\n    /**\n     * Iterate over an actor's items, updating those that need updating.\n     * @param actorData The actor to iterate over\n     * @param updateData The existing update data to merge into\n     */\n    protected async IterateActorItems(actorData: ActorData, updateData) {\n        let hasItemUpdates = false;\n        // @ts-ignore\n        if (actorData.items !== undefined) {\n            const items = await Promise.all(\n                // @ts-ignore\n                actorData.items.map(async (item) => {\n                    let itemUpdate = await this.MigrateItemData(item);\n\n                    if (!isObjectEmpty(itemUpdate)) {\n                        hasItemUpdates = true;\n                        itemUpdate['_id'] = item._id;\n                        return await mergeObject(item, itemUpdate, {\n                            enforceTypes: false,\n                            inplace: false,\n                        });\n                    } else {\n                        return item;\n                    }\n                }),\n            );\n            if (hasItemUpdates) {\n                updateData.items = items;\n            }\n        }\n\n        return updateData;\n    }\n\n    /**\n     * Check if a scene requires updates.\n     * @param scene The scene to check.\n     * @return A promise that resolves true or false.\n     */\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        return false;\n    }\n    /**\n     * Migrate the specified scene's data.\n     * @param scene The scene to migrate.\n     * @return A promise that resolves with the update data.\n     */\n    protected async MigrateSceneData(scene: any): Promise<any> {\n        return {};\n    }\n    /**\n     * Do something right before scene data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PreMigrateSceneData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n    /**\n     * Do something right before scene data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PostMigrateSceneData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n\n    /**\n     * Check if an item requires updates.\n     * @param item The item to check.\n     * @return A promise that resolves true or false.\n     */\n    protected async ShouldMigrateItemData(item: EntityData): Promise<boolean> {\n        return false;\n    }\n    /**\n     * Migrate the specified item's data.\n     * @param item The item to migrate.\n     * @return A promise that resolves with the update data.\n     */\n    protected async MigrateItemData(item: EntityData): Promise<any> {\n        return {};\n    }\n    /**\n     * Do something right before item data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PreMigrateItemData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n    /**\n     * Do something right before item data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PostMigrateItemData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n\n    /**\n     * Check if an actor requires updates.\n     * @param actor The actor to check.\n     * @return A promise that resolves true or false.\n     */\n    protected async ShouldMigrateActorData(actor: ActorData): Promise<boolean> {\n        return false;\n    }\n    /**\n     * Migrate the specified actor's data.\n     * @param actor The actor to migrate.\n     * @return A promise that resolves with the update data.\n     */\n    protected async MigrateActorData(actor: ActorData): Promise<any> {\n        return {};\n    }\n    /**\n     * Do something right before actor data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PreMigrateActorData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n    /**\n     * Do something right after actor data is migrated.\n     * @param game The game to be updated.\n     * @param entityUpdates The current map of entity updates.\n     */\n    protected async PostMigrateActorData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\n\n    /**\n     * Migrate a compendium pack\n     * @param pack\n     */\n    public async MigrateCompendiumPack(pack: Compendium) {\n        const entity = pack.metadata.entity;\n        if (!['Actor', 'Item', 'Scene'].includes(entity)) return;\n\n        // Begin by requesting server-side data model migration and get the migrated content\n        await pack.migrate({});\n        const content = await pack.getContent();\n\n        // Iterate over compendium entries - applying fine-tuned migration functions\n        for (let ent of content) {\n            try {\n                let updateData: any = null;\n                if (entity === 'Item') {\n                    updateData = await this.MigrateItemData(ent.data);\n\n                    if (isObjectEmpty(updateData)) {\n                        continue;\n                    }\n\n                    expandObject(updateData);\n                    updateData['_id'] = ent._id;\n                    await pack.updateEntity(updateData);\n                    // TODO: Uncomment when foundry allows embeddeds to be updated in packs\n                    // } else if (entity === 'Actor') {\n                    //     updateData = await this.MigrateActorData(ent.data);\n                    //\n                    //     if (isObjectEmpty(updateData)) {\n                    //         continue;\n                    //     }\n                    //\n                    //     updateData['_id'] = ent._id;\n                    //     await pack.updateEntity(updateData);\n                } else if (entity === 'Scene') {\n                    updateData = await this.MigrateSceneData(ent.data);\n\n                    if (isObjectEmpty(updateData)) {\n                        continue;\n                    }\n\n                    expandObject(updateData);\n                    updateData['_id'] = ent._id;\n                    await pack.updateEntity(updateData);\n                }\n            } catch (err) {\n                console.error(err);\n            }\n        }\n        console.log(`Migrated all ${entity} entities from Compendium ${pack.collection}`);\n    }\n}\n\ntype EntityUpdate = {\n    updateData: any;\n    embeddedItems: null | any[];\n};\n","import { VersionMigration } from '../VersionMigration';\n\n/**\n * Migrates the data model for Legacy migrations prior to 0.6.4\n */\nexport class LegacyMigration extends VersionMigration {\n    get SourceVersion(): string {\n        return '0';\n    }\n    get TargetVersion(): string {\n        return LegacyMigration.TargetVersion;\n    }\n    static get TargetVersion(): string {\n        return '0.6.4';\n    }\n\n    protected async MigrateActorData(actorData: ActorData): Promise<any> {\n        let updateData: any = {};\n        LegacyMigration.migrateActorOverflow(actorData, updateData);\n        LegacyMigration.migrateActorSkills(actorData, updateData);\n\n        updateData = await this.IterateActorItems(actorData, updateData);\n\n        return updateData;\n    }\n\n    protected async MigrateItemData(item: EntityData): Promise<any> {\n        const updateData = {};\n        LegacyMigration.migrateDamageTypeAndElement(item, updateData);\n        LegacyMigration.migrateItemsAddActions(item, updateData);\n        LegacyMigration.migrateActorOverflow(item, updateData);\n        LegacyMigration.migrateItemsAddCapacity(item, updateData);\n        LegacyMigration.migrateItemsAmmo(item, updateData);\n        LegacyMigration.migrateItemsConceal(item, updateData);\n        return updateData;\n    }\n\n    protected async MigrateSceneData(scene: any): Promise<any> {\n        return {};\n    }\n\n    protected async ShouldMigrateActorData(actorData: ActorData): Promise<boolean> {\n        return true;\n    }\n\n    protected async ShouldMigrateItemData(item: EntityData): Promise<boolean> {\n        return true;\n    }\n\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        // @ts-ignore\n        return scene.data.tokens?.length > 0;\n    }\n\n    /**\n     * Migrate actor overflow from an integer to an object\n     * - it wasn't even displayed before so we know it is 0\n     * @param actorData\n     * @param updateData\n     */\n    private static migrateActorOverflow(actorData, updateData) {\n        if (getProperty(actorData.data, 'track.physical.overflow') === 0) {\n            updateData['data.track.physical.overflow.value'] = 0;\n            updateData['data.track.physical.overflow.max'] = 0;\n        }\n    }\n\n    /**\n     * Migrate actor skills specializations to be a list instead of string\n     * @param actorData\n     * @param updateData\n     */\n    private static migrateActorSkills(actorData, updateData) {\n        if (!actorData.data?.skills?.active) return;\n        const splitRegex = /[,\\/|.]+/;\n\n        const reducer = (running, [key, val]) => {\n            if (!Array.isArray(val.specs) && val.specs) {\n                running[key] = {\n                    specs: val.specs.split(splitRegex).filter((s) => s !== ''),\n                };\n            }\n            return running;\n        };\n\n        if (actorData.data.skills) {\n            updateData['data.skills.active'] = Object.entries(actorData.data.skills.active).reduce(reducer, {});\n            if (actorData.data.skills.knowledge) {\n                updateData['data.skills.knowledge.street.value'] = Object.entries(actorData.data.skills?.knowledge?.street?.value).reduce(reducer, {});\n                updateData['data.skills.knowledge.professional.value'] = Object.entries(actorData.data.skills?.knowledge?.professional?.value).reduce(reducer, {});\n                updateData['data.skills.knowledge.academic.value'] = Object.entries(actorData.data.skills?.knowledge?.academic?.value).reduce(reducer, {});\n                updateData['data.skills.knowledge.interests.value'] = Object.entries(actorData.data.skills?.knowledge?.interests?.value).reduce(reducer, {});\n            }\n            if (actorData.data.skills.language) {\n                updateData['data.skills.language.value'] = Object.entries(actorData.data.skills?.language?.value).reduce(reducer, {});\n            }\n        }\n    }\n\n    /**\n     *\n     * @param item\n     * @param updateData\n     */\n    private static migrateDamageTypeAndElement(item, updateData) {\n        // console.log('Migrating Damage and Elements');\n        if (item.data.action) {\n            const action = item.data.action;\n            if (typeof action.damage.type === 'string') {\n                updateData['data.action.damage.type.base'] = item.data.action.damage.type;\n            }\n            if (typeof action.damage.element === 'string') {\n                updateData['data.action.damage.element.base'] = item.data.action.damage.element;\n            }\n        }\n    }\n\n    /**\n     * Migrate ammo from ranged weapons only to all weapons\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsAmmo(item, updateData) {\n        // console.log('Migrating Ammo');\n        if (item.type === 'weapon' && item.data.ammo === undefined) {\n            let currentAmmo = { value: 0, max: 0 };\n            if (item.data.category === 'range' && item.data.range && item.data.range.ammo) {\n                // copy over ammo count\n                const oldAmmo = item.data.range.ammo;\n                currentAmmo.value = oldAmmo.value;\n                currentAmmo.max = oldAmmo.max;\n            }\n            updateData['data.ammo'] = {\n                spare_clips: {\n                    value: 0,\n                    max: 0,\n                },\n                current: {\n                    value: currentAmmo.value,\n                    max: currentAmmo.max,\n                },\n            };\n        }\n    }\n\n    /**\n     * Migrate conceal name\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsConceal(item, updateData) {\n        if (item.data.technology?.concealability !== undefined) {\n            updateData['data.technology.conceal'] = {\n                base: item.data.technology.concealability,\n            };\n        }\n    }\n\n    /**\n     * Add capacity to items\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsAddCapacity(item, updateData) {\n        if (['cyberware'].includes(item.type)) {\n            if (item.data.capacity === undefined) {\n                updateData.data.capacity = 0;\n            }\n        }\n    }\n\n    /**\n     * Add actions to needed items\n     * @param item\n     * @param updateData\n     */\n    private static migrateItemsAddActions(item, updateData) {\n        if (['quality', 'cyberware'].includes(item.type)) {\n            if (item.data.action === undefined) {\n                const action = {\n                    type: '',\n                    category: '',\n                    attribute: '',\n                    attribute2: '',\n                    skill: '',\n                    spec: false,\n                    mod: 0,\n                    limit: {\n                        value: 0,\n                        attribute: '',\n                    },\n                    extended: false,\n                    damage: {\n                        type: '',\n                        element: '',\n                        value: 0,\n                        ap: {\n                            value: 0,\n                        },\n                        attribute: '',\n                    },\n                    opposed: {\n                        type: '',\n                        attribute: '',\n                        attribute2: '',\n                        skill: '',\n                        mod: 0,\n                        description: '',\n                    },\n                };\n                if (!updateData.data) updateData.data = {};\n                updateData.data.action = action;\n            }\n        }\n    }\n}\n","import { VersionMigration } from '../VersionMigration';\nimport SR5ActorType = Shadowrun.SR5ActorType;\n\n/**\n * Add default value of willpower to the full_defense_attribute field\n */\nexport class Version0_6_10 extends VersionMigration {\n    get SourceVersion(): string {\n        return '0.6.9';\n    }\n    get TargetVersion(): string {\n        return Version0_6_10.TargetVersion;\n    }\n    static get TargetVersion(): string {\n        return '0.6.10';\n    }\n\n    protected async MigrateActorData(actorData: SR5ActorType): Promise<any> {\n        if (actorData.data?.attributes?.edge === undefined) return {};\n        return {\n            data: {\n                attributes: {\n                    edge: {\n                        base: actorData.data.attributes.edge.max,\n                        value: actorData.data.attributes.edge.max,\n                        uses: actorData.data.attributes.edge.value,\n                    },\n                },\n            },\n        };\n    }\n\n    protected async ShouldMigrateActorData(actorData: SR5ActorType): Promise<boolean> {\n        return actorData.data.attributes.edge?.uses === undefined;\n    }\n\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        // @ts-ignore\n        return scene.data.tokens?.length > 0;\n    }\n}\n","import { VersionMigration } from '../VersionMigration';\n\n/**\n * Add default value of willpower to the full_defense_attribute field\n */\nexport class Version0_6_5 extends VersionMigration {\n    get SourceVersion(): string {\n        return '0.6.4';\n    }\n    get TargetVersion(): string {\n        return Version0_6_5.TargetVersion;\n    }\n    static get TargetVersion(): string {\n        return '0.6.5';\n    }\n\n    protected async MigrateActorData(actorData: ActorData): Promise<any> {\n        let updateData: any = {};\n        if (updateData.data === undefined) updateData.data = {};\n        updateData.data.full_defense_attribute = 'willpower';\n        return updateData;\n    }\n\n    protected async ShouldMigrateActorData(actorData: any): Promise<boolean> {\n        return actorData.data.full_defense_attribute === undefined;\n    }\n\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\n        // @ts-ignore\n        return scene.data.tokens?.length > 0;\n    }\n}\n","// TODO: How to trigger test migration.\n// TODO: How to test migration results?\n\n\nimport {VersionMigration} from \"../VersionMigration\";\nimport {SR5} from \"../../config\";\nimport SR5ActorBase = Shadowrun.SR5ActorBase;\n\n/** NPC / Grunt feature set\n * - Add npc character data.\n * - Add track disabled feature\n */\nexport class Version0_7_2 extends VersionMigration {\n    get SourceVersion(): string {\n        return '0.7.1';\n    }\n\n    get TargetVersion(): string {\n        return Version0_7_2.TargetVersion;\n    }\n\n    static get TargetVersion(): string {\n        return '0.7.2';\n    }\n\n    static NoNPCDataForCharacter(actorData: SR5ActorBase): boolean {\n        return actorData.type === 'character' && (\n            actorData?.data?.is_npc === undefined ||\n            actorData?.data?.npc === undefined\n        );\n    }\n\n    static UnsupportedMetatype(actorData: SR5ActorBase): boolean {\n        const type = actorData.data.metatype.toLowerCase();\n        return actorData.type === 'character' &&\n            SR5.character.types.hasOwnProperty(type);\n    }\n\n    protected async MigrateActorData(actorData: SR5ActorBase): Promise<any> {\n        const updateData: {\n            data?: object,\n            attributes?: object\n        } = {};\n\n        if (Version0_7_2.UnsupportedMetatype(actorData)) {\n            const type = actorData.data.metatype.toLowerCase();\n            // TODO: What to do with custom metatypes?\n            const metatypeData = {metatype: SR5.character.types.hasOwnProperty(type) ? type : 'human'};\n            updateData.data = {...updateData.data, ...metatypeData};\n        }\n\n        if (Version0_7_2.NoNPCDataForCharacter(actorData)) {\n            updateData.data = updateData.data ? updateData.data : {};\n            const npcData = {\n                is_npc: false,\n                npc: {\n                    is_grunt: false,\n                    professional_rating: 0\n                }\n            }\n            updateData.data = {...updateData.data, ...npcData};\n        }\n\n        return updateData;\n    }\n\n    protected async ShouldMigrateActorData(actorData: SR5ActorBase): Promise<boolean> {\n        return Version0_7_2.UnsupportedMetatype(actorData) || Version0_7_2.NoNPCDataForCharacter(actorData);\n    }\n}","import ModList = Shadowrun.ModList;\nimport ModListEntry = Shadowrun.ModListEntry;\n\nexport class PartsList<TType> {\n    get list(): ModList<TType> {\n        return this._list.slice();\n    }\n\n    get length(): number {\n        return this._list.length;\n    }\n\n    get total(): number {\n        let total = 0;\n        for (const part of this._list) {\n            if (typeof part.value === 'number') {\n                total += part.value;\n            }\n        }\n        return total;\n    }\n\n    getPartValue(name: string): TType | undefined {\n        return this._list.find((part) => part.name === name)?.value;\n    }\n\n    clear(): void {\n        this._list.length = 0;\n    }\n\n    private _list: ModList<TType>;\n\n    constructor(parts?: ModList<TType>) {\n        let actualParts = [] as ModList<TType>;\n        if (parts) {\n            if (Array.isArray(parts)) {\n                actualParts = parts;\n            } else if (typeof parts === 'object') {\n                for (const [name, value] of Object.entries(parts)) {\n                    if (value !== null && value !== undefined) {\n                        // if it's a number, we are dealing with an array as an object\n                        if (!isNaN(Number(name)) && typeof value === 'object') {\n                            actualParts.push({\n                                name: (value as ModListEntry<TType>).name,\n                                value: (value as ModListEntry<TType>).value,\n                            });\n                        } else {\n                            actualParts.push({\n                                name,\n                                value,\n                            } as ModListEntry<TType>);\n                        }\n                    }\n                }\n            }\n        }\n        this._list = actualParts;\n    }\n\n    addPart(name: string, value: TType): void {\n        this._list.push({\n            name,\n            value,\n        });\n    }\n\n    addUniquePart(name: string, value?: TType, overwrite = true): void {\n        const index = this._list.findIndex((part) => part.name === name);\n        if (index > -1) {\n            // if we exist and should've overwrite, return\n            if (!overwrite) return;\n\n            this._list.splice(index, 1);\n            // if we are passed undefined, remove the value\n            if (value === undefined || value === null) return;\n            // recursively go through until we no longer have a part of this name\n            this.addUniquePart(name, value);\n        } else if (value) {\n            this.addPart(name, value);\n        }\n    }\n\n    removePart(name: string): boolean {\n        const index = this._list.findIndex((part) => part.name === name);\n        if (index > -1) {\n            this._list.splice(index, 1);\n            return true;\n        }\n        return false;\n    }\n\n    getMessageOutput() {\n        return this.list;\n    }\n\n    static AddUniquePart<TType>(list: ModList<TType>, name: string, value: TType, overwrite = true): ModList<TType> {\n        const parts = new PartsList(list);\n        parts.addUniquePart(name, value, overwrite);\n        return parts._list;\n    }\n\n    static Total(list: ModList<number>) {\n        const parts = new PartsList(list);\n        return parts.total;\n    }\n}\n","import ModList = Shadowrun.ModList;\nimport RollEvent = Shadowrun.RollEvent;\nimport BaseValuePair = Shadowrun.BaseValuePair;\nimport LabelField = Shadowrun.LabelField;\nimport AttackData = Shadowrun.AttackData;\nimport DamageData = Shadowrun.DamageData;\nimport { Helpers } from '../helpers';\nimport { SR5Actor } from '../actor/SR5Actor';\nimport { SR5Item } from '../item/SR5Item';\nimport { createChatData, TemplateData } from '../chat';\nimport {FLAGS, GLITCH_DIE, SYSTEM_NAME} from '../constants';\nimport { PartsList } from '../parts/PartsList';\n\nexport interface BasicRollProps {\n    name?: string;\n    img?: string;\n    parts?: ModList<number>;\n    limit?: BaseValuePair<number> & LabelField;\n    explodeSixes?: boolean;\n    title?: string;\n    actor?: SR5Actor;\n    item?: SR5Item;\n    attack?: AttackData;\n    incomingAttack?: AttackData;\n    incomingDrain?: LabelField & {\n        value: number;\n    };\n    soak?: DamageData;\n    tests?: {\n        label: string;\n        type: string;\n    }[];\n    description?: object;\n    previewTemplate?: boolean;\n    hideRollMessage?: boolean;\n    rollMode?: keyof typeof CONFIG.Dice.rollModes;\n}\n\nexport interface RollDialogOptions {\n    environmental?: number | boolean;\n    prompt?: boolean;\n}\n\nexport interface AdvancedRollProps extends BasicRollProps {\n    event?: RollEvent;\n    extended?: boolean;\n    wounds?: boolean;\n    after?: (roll: Roll | undefined) => void;\n    dialogOptions?: RollDialogOptions;\n}\n\nexport class ShadowrunRoll extends Roll {\n    templateData: TemplateData | undefined;\n    // add class Roll to the json so dice-so-nice works\n    toJSON(): any {\n        const data = super.toJSON();\n        data.class = 'Roll';\n        return data;\n    }\n\n    get sides(): number[] {\n        //@ts-ignore\n        // 0.7.x foundryVTT\n        if (this.terms) {\n            //@ts-ignore\n            return this.terms[0].results.map(result => result.result);\n        }\n\n        //@ts-ignore\n        // 0.6.x foundryVTT\n        return this.parts[0].rolls.map(roll => roll.roll);\n    }\n\n    count(side: number): number {\n        const results = this.sides;\n        return results.reduce((counted, result) => result === side ? counted + 1 : counted, 0);\n    }\n\n    get hits(): number {\n        return this.total;\n    }\n\n    get pool(): number {\n        //@ts-ignore\n        // 0.7.x foundryVTT\n        if (this.terms) {\n            //@ts-ignore\n            return this.dice[0].number;\n        }\n\n        //@ts-ignore\n        // 0.6.x foundryVTT\n        return this.parts[0].rolls.length;\n    }\n\n    get glitched(): boolean {\n        return this.count(GLITCH_DIE) > Math.floor(this.pool / 2);\n    }\n}\n\nexport class ShadowrunRoller {\n    static itemRoll(event, item: SR5Item, options?: Partial<AdvancedRollProps>): Promise<ShadowrunRoll | undefined> {\n        const parts = item.getRollPartsList();\n        let limit = item.getLimit();\n        let title = item.getRollName();\n\n        const rollData: AdvancedRollProps = {\n            ...options,\n            event: event,\n            dialogOptions: {\n                environmental: true,\n            },\n            parts,\n            actor: item.actor,\n            item,\n            limit,\n            title,\n            name: item.name,\n            img: item.img,\n            previewTemplate: item.hasTemplate,\n        };\n        rollData['attack'] = item.getAttackData(0);\n        rollData['blast'] = item.getBlastData();\n\n        if (item.hasOpposedRoll) {\n            rollData['tests'] = [\n                {\n                    label: item.getOpposedTestName(),\n                    type: 'opposed',\n                },\n            ];\n        }\n        if (item.isMeleeWeapon()) {\n            rollData['reach'] = item.getReach();\n        }\n        if (item.isRangedWeapon()) {\n            rollData['fireMode'] = item.getLastFireMode()?.label;\n            if (rollData.dialogOptions) {\n                rollData.dialogOptions.environmental = item.getLastFireRangeMod().value;\n            }\n        }\n        rollData.description = item.getChatData();\n\n        return ShadowrunRoller.advancedRoll(rollData);\n    }\n\n    static shadowrunFormula({\n        parts: partsProps,\n        limit,\n        explode,\n    }: {\n        parts: ModList<number>;\n        limit?: BaseValuePair<number> & LabelField;\n        explode?: boolean;\n    }): string {\n        const parts = new PartsList(partsProps);\n        const count = parts.total;\n        if (count <= 0) {\n            // @ts-ignore\n            ui.notifications.error(game.i18n.localize('SR5.RollOneDie'));\n            return '0d6cs>=5';\n        }\n        let formula = `${count}d6`;\n        if (explode) {\n            formula += 'x6';\n        }\n        if (limit?.value) {\n            formula += `kh${limit.value}`;\n        }\n        formula += 'cs>=5';\n        return formula;\n    }\n\n    static async basicRoll({\n        parts: partsProps = [],\n        limit,\n        explodeSixes,\n        title,\n        actor,\n        img = actor?.img,\n        name = actor?.name,\n        hideRollMessage,\n        rollMode,\n        ...props\n    }: BasicRollProps): Promise<ShadowrunRoll | undefined> {\n        let roll;\n        const parts = new PartsList(partsProps);\n        if (parts.length) {\n            const formula = this.shadowrunFormula({ parts: parts.list, limit, explode: explodeSixes });\n            if (!formula) return;\n            roll = new ShadowrunRoll(formula);\n            roll.roll();\n\n            if (game.settings.get(SYSTEM_NAME, 'displayDefaultRollCard')) {\n                await roll.toMessage({\n                    speaker: ChatMessage.getSpeaker({ actor: actor }),\n                    flavor: title,\n                    rollMode: rollMode,\n                });\n            }\n        }\n        const token = actor?.token;\n\n        [name, img] = ShadowrunRoller.getPreferedNameAndImageSource(name, img, actor, token);\n\n        const templateData = {\n            actor: actor,\n            header: {\n                name: name || '',\n                img: img || '',\n            },\n            tokenId: token ? `${token.scene._id}.${token.id}` : undefined,\n            rollMode,\n            dice: roll.sides,\n            limit,\n            testName: title,\n            dicePool: roll.pool,\n            parts: parts.list,\n            hits: roll.hits,\n            glitch: roll.glitched,\n            ...props,\n        };\n\n        // In what case would no roll be present? No parts? Why would this reach any logic then?\n        if (roll) {\n            roll.templateData = templateData;\n        }\n\n        if (!hideRollMessage) {\n            const chatData = await createChatData(templateData, roll);\n            ChatMessage.create(chatData, { displaySheet: false }).then((message) => {\n                console.log(message);\n            });\n        }\n        return roll;\n    }\n\n    /**\n     * Prompt a roll for the user\n     */\n    static promptRoll(): Promise<ShadowrunRoll | undefined> {\n        const lastRoll = game.user.getFlag(SYSTEM_NAME, 'lastRollPromptValue') || 0;\n        const parts = [{ name: 'SR5.LastRoll', value: lastRoll }];\n        return ShadowrunRoller.advancedRoll({ parts, title: 'Roll', dialogOptions: { prompt: true } });\n    }\n\n    /**\n     * Start an advanced roll\n     * - Prompts the user for modifiers\n     * @param props\n     */\n    static advancedRoll(props: AdvancedRollProps): Promise<ShadowrunRoll | undefined> {\n        // destructure what we need to use from props\n        // any value pulled out needs to be updated back in props if changed\n        const { title, actor, parts: partsProps = [], limit, extended, wounds = true, after, dialogOptions } = props;\n        const parts = new PartsList(partsProps);\n\n        // remove limits if game settings is set\n        if (!game.settings.get(SYSTEM_NAME, 'applyLimits')) {\n            delete props.limit;\n        }\n\n        // TODO create \"fast roll\" option\n\n        const rollMode = game.settings.get('core', 'rollMode');\n\n        let dialogData = {\n            options: dialogOptions,\n            extended,\n            dice_pool: parts.total,\n            parts: parts.getMessageOutput(),\n            limit: limit?.value,\n            wounds,\n            woundValue: actor?.getWoundModifier(),\n            rollMode,\n            rollModes: CONFIG.Dice.rollModes,\n        };\n        let template = 'systems/shadowrun5e/dist/templates/rolls/roll-dialog.html';\n        let edge = false;\n        let cancel = true;\n\n        const buttons = {\n            roll: {\n                label: game.i18n.localize('SR5.Roll'),\n                icon: '<i class=\"fas fa-dice-six\"></i>',\n                callback: () => (cancel = false),\n            },\n        };\n        if (actor) {\n            buttons['edge'] = {\n                label: `${game.i18n.localize('SR5.PushTheLimit')} (+${actor.getEdge().value})`,\n                icon: '<i class=\"fas fa-bomb\"></i>',\n                callback: () => {\n                    edge = true;\n                    cancel = false;\n                },\n            };\n        }\n\n        return new Promise((resolve) => {\n            renderTemplate(template, dialogData).then((dlg) => {\n                new Dialog({\n                    title: title,\n                    content: dlg,\n                    buttons,\n                    default: 'roll',\n\n                    close: async (html) => {\n                        if (cancel) return;\n                        // get the actual dice_pool from the difference of initial parts and value in the dialog\n\n                        const dicePoolValue = Helpers.parseInputToNumber($(html).find('[name=\"dice_pool\"]').val());\n\n                        if (dialogOptions?.prompt) {\n                            parts.clear();\n                            await game.user.setFlag(SYSTEM_NAME, 'lastRollPromptValue', dicePoolValue);\n                            parts.addUniquePart('SR5.Base', dicePoolValue);\n                        }\n\n                        const limitValue = Helpers.parseInputToNumber($(html).find('[name=\"limit\"]').val());\n\n                        if (limit && limit.value !== limitValue) {\n                            limit.value = limitValue;\n                            limit.base = limitValue;\n                            limit.label = 'SR5.Override';\n                        }\n\n                        const woundValue = Helpers.parseInputToNumber($(html).find('[name=\"wounds\"]').val());\n                        const situationMod = Helpers.parseInputToNumber($(html).find('[name=\"dp_mod\"]').val());\n                        const environmentMod = Helpers.parseInputToNumber($(html).find('[name=\"options.environmental\"]').val());\n\n                        if (wounds && woundValue !== 0) {\n                            parts.addUniquePart('SR5.Wounds', woundValue);\n                            props.wounds = true;\n                        }\n                        if (situationMod) {\n                            parts.addUniquePart('SR5.SituationalModifier', situationMod);\n                        }\n                        if (environmentMod) {\n                            parts.addUniquePart('SR5.EnvironmentModifier', environmentMod);\n                            if (!props.dialogOptions) props.dialogOptions = {};\n                            props.dialogOptions.environmental = true;\n                        }\n\n                        const extendedString = Helpers.parseInputToString($(html).find('[name=\"extended\"]').val());\n                        const extended = extendedString === 'true';\n\n                        if (edge && actor) {\n                            props.explodeSixes = true;\n                            parts.addUniquePart('SR5.PushTheLimit', actor.getEdge().value);\n                            delete props.limit;\n                            // TODO: Edge usage doesn't seem to apply on actor sheet.\n                            await actor.update({\n                                'data.attributes.edge.uses': actor.data.data.attributes.edge.uses - 1,\n                            });\n                        }\n\n                        props.rollMode = Helpers.parseInputToString($(html).find('[name=rollMode]').val());\n\n                        props.parts = parts.list;\n                        const r = this.basicRoll({\n                            ...props,\n                        });\n\n                        if (extended && r) {\n                            const currentExtended = parts.getPartValue('SR5.Extended') ?? 0;\n                            parts.addUniquePart('SR5.Extended', currentExtended - 1);\n                            props.parts = parts.list;\n                            // add a bit of a delay to roll again\n                            setTimeout(() => this.advancedRoll(props), 400);\n                        }\n                        resolve(r);\n                        if (after && r) r.then((roll) => after(roll));\n                    },\n                }).render(true);\n            });\n        });\n    }\n\n    /** Use either the actor or the tokens name and image, depending on system settings.\n     *\n     * However don't change anything if a custom name or image has been given.\n     */\n    static getPreferedNameAndImageSource(name?: string, img?: string, actor?: SR5Actor, token?: Token): [string|undefined, string|undefined] {\n\n        const namedAndImageMatchActor = name === actor?.name && img === actor?.img;\n        const useTokenNameForChatOutput = game.settings.get(SYSTEM_NAME, FLAGS.ShowTokenNameForChatOutput);\n\n        if (namedAndImageMatchActor && useTokenNameForChatOutput && token) {\n            img = token?.data.img;\n            name = token?.data.name;\n        }\n\n        return [name, img];\n    }\n}\n","// game settings for shadowrun 5e\n\nimport { VersionMigration } from './migrator/VersionMigration';\nimport { FLAGS, SYSTEM_NAME } from './constants';\n\nexport const registerSystemSettings = () => {\n\n    /**\n     * Register diagonal movement rule setting\n     */\n    game.settings.register(SYSTEM_NAME, 'diagonalMovement', {\n        name: 'SETTINGS.DiagonalMovementName',\n        hint: 'SETTINGS.DiagonalMovementDescription',\n        scope: 'world',\n        config: true,\n        type: String,\n        default: '1-2-1',\n        choices: {\n            '1-1-1': 'SETTINGS.IgnoreDiagonal',\n            '1-2-1': 'SETTINGS.EstimateDiagonal',\n        },\n        onChange: (rule) => (canvas.grid.diagonalRule = rule),\n    });\n\n    /**\n     * Default limit behavior\n     */\n    game.settings.register(SYSTEM_NAME, 'applyLimits', {\n        name: 'SETTINGS.ApplyLimitsName',\n        hint: 'SETTINGS.ApplyLimitsDescription',\n        scope: 'world',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, 'displayDefaultRollCard', {\n        name: 'SETTINGS.DisplayDefaultRollCardName',\n        hint: 'SETTINGS.DisplayDefaultRollCardDescription',\n        scope: 'user',\n        config: true,\n        type: Boolean,\n        default: false,\n    });\n\n    /**\n     * Track system version upon which a migration was last applied\n     */\n    game.settings.register(SYSTEM_NAME, VersionMigration.KEY_DATA_VERSION, {\n        name: 'System Data Version.',\n        scope: 'world',\n        config: false,\n        type: String,\n        default: '0',\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.ShowGlitchAnimation, {\n        name: 'SETTINGS.ShowGlitchAnimationName',\n        hint: 'SETTINGS.ShowGlitchAnimationDescription',\n        scope: 'user',\n        config: true,\n        type: Boolean,\n        default: true,\n    });\n\n    game.settings.register(SYSTEM_NAME, FLAGS.ShowTokenNameForChatOutput, {\n        name: 'SETTINGS.ShowTokenNameForChatOutputName',\n        hint: 'SETTINGS.ShowTokenNameForChatOutputDescription',\n        scope: 'world',\n        config: true,\n        type: Boolean,\n        default: true\n    });\n};\n","import { SR5Item } from './item/SR5Item';\n\nexport type ShadowrunTemplateData = {\n    t: string;\n    user: User | string;\n    distance: number;\n    x: number;\n    y: number;\n    fillColor: string;\n    direction: number;\n};\n\nexport default // @ts-ignore\nclass Template extends MeasuredTemplate {\n    data: ShadowrunTemplateData;\n    layer: PlaceablesLayer;\n    x: number;\n    y: number;\n    item?: SR5Item;\n    onComplete?: () => void;\n\n    static fromItem(item: SR5Item, onComplete?: () => void): Template | undefined {\n        const templateShape = 'circle';\n\n        const templateData = {\n            t: templateShape,\n            user: game.user._id,\n            direction: 0,\n            x: 0,\n            y: 0,\n            // @ts-ignore\n            fillColor: game.user.color,\n        };\n        const blast = item.getBlastData();\n        templateData['distance'] = blast?.radius;\n        templateData['dropoff'] = blast?.dropoff;\n\n        // @ts-ignore\n        const template = new this(templateData);\n        template.item = item;\n        template.onComplete = onComplete;\n        return template;\n    }\n\n    drawPreview() {\n        const initialLayer = canvas.activeLayer;\n        // @ts-ignore\n        this.draw();\n        // @ts-ignore\n        this.layer.activate();\n        // @ts-ignore\n        this.layer.preview.addChild(this);\n        this.activatePreviewListeners(initialLayer);\n    }\n\n    activatePreviewListeners(initialLayer: CanvasLayer) {\n        const handlers = {};\n        let moveTime = 0;\n\n        // Update placement (mouse-move)\n        handlers['mm'] = (event) => {\n            event.stopPropagation();\n            let now = Date.now(); // Apply a 20ms throttle\n            if (now - moveTime <= 20) return;\n            const center = event.data.getLocalPosition(this.layer);\n            const snapped = canvas.grid.getSnappedPosition(center.x, center.y, 2);\n            this.data.x = snapped.x;\n            this.data.y = snapped.y;\n            // @ts-ignore\n            this.refresh();\n            moveTime = now;\n        };\n\n        // Cancel the workflow (right-click)\n        handlers['rc'] = () => {\n            this.layer.preview.removeChildren();\n            canvas.stage.off('mousemove', handlers['mm']);\n            canvas.stage.off('mousedown', handlers['lc']);\n            canvas.app.view.oncontextmenu = null;\n            canvas.app.view.onwheel = null;\n            initialLayer.activate();\n\n            if (this.onComplete) this.onComplete();\n        };\n\n        // Confirm the workflow (left-click)\n        handlers['lc'] = (event) => {\n            handlers['rc'](event);\n\n            // Confirm final snapped position\n            const destination = canvas.grid.getSnappedPosition(this.x, this.y, 2);\n            this.data.x = destination.x;\n            this.data.y = destination.y;\n\n            // Create the template\n            canvas.scene.createEmbeddedEntity('MeasuredTemplate', this.data);\n        };\n\n        // Rotate the template by 3 degree increments (mouse-wheel)\n        handlers['mw'] = (event) => {\n            if (event.ctrlKey) event.preventDefault(); // Avoid zooming the browser window\n            event.stopPropagation();\n            let delta = canvas.grid.type > CONST.GRID_TYPES.SQUARE ? 30 : 15;\n            let snap = event.shiftKey ? delta : 5;\n            this.data.direction += snap * Math.sign(event.deltaY);\n            // @ts-ignore\n            this.refresh();\n        };\n\n        // Activate listeners\n        canvas.stage.on('mousemove', handlers['mm']);\n        canvas.stage.on('mousedown', handlers['lc']);\n        canvas.app.view.oncontextmenu = handlers['rc'];\n        canvas.app.view.onwheel = handlers['mw'];\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3N1cGVyUHJvcEJhc2UuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwic3JjL21vZHVsZS9hY3Rvci9TUjVBY3Rvci50cyIsInNyYy9tb2R1bGUvYWN0b3IvU1I1QWN0b3JTaGVldC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9BY3RvclByZXBGYWN0b3J5LnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL0Jhc2VBY3RvclByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvQ2hhcmFjdGVyUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9TcGlyaXRQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL1Nwcml0ZVByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvVmVoaWNsZVByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvZnVuY3Rpb25zL0F0dHJpYnV0ZXNQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Db25kaXRpb25Nb25pdG9yc1ByZXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3ByZXAvZnVuY3Rpb25zL0luaXRpYXRpdmVQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9JdGVtUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTGltaXRzUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTWF0cml4UHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTW9kaWZpZXJzUHJlcC50cyIsInNyYy9tb2R1bGUvYWN0b3IvcHJlcC9mdW5jdGlvbnMvTW92ZW1lbnRQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9OUENQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Ta2lsbHNQcmVwLnRzIiwic3JjL21vZHVsZS9hY3Rvci9wcmVwL2Z1bmN0aW9ucy9Xb3VuZHNQcmVwLnRzIiwic3JjL21vZHVsZS9hcHBzL2NodW1tZXItaW1wb3J0LWZvcm0uanMiLCJzcmMvbW9kdWxlL2FwcHMvZGlhbG9ncy9TaGFkb3dydW5JdGVtRGlhbG9nLnRzIiwic3JjL21vZHVsZS9hcHBzL2dtdG9vbHMvT3ZlcndhdGNoU2NvcmVUcmFja2VyLmpzIiwic3JjL21vZHVsZS9hcHBzL3NraWxscy9Lbm93bGVkZ2VTa2lsbEVkaXRGb3JtLnRzIiwic3JjL21vZHVsZS9hcHBzL3NraWxscy9MYW5ndWFnZVNraWxsRWRpdEZvcm0udHMiLCJzcmMvbW9kdWxlL2FwcHMvc2tpbGxzL1NraWxsRWRpdEZvcm0udHMiLCJzcmMvbW9kdWxlL2NhbnZhcy50cyIsInNyYy9tb2R1bGUvY2hhdC50cyIsInNyYy9tb2R1bGUvY29tYmF0LnRzIiwic3JjL21vZHVsZS9jb25maWcudHMiLCJzcmMvbW9kdWxlL2NvbnN0YW50cy50cyIsInNyYy9tb2R1bGUvZGF0YVRlbXBsYXRlcy50cyIsInNyYy9tb2R1bGUvZGF0YVdyYXBwZXJzL0RhdGFXcmFwcGVyLnRzIiwic3JjL21vZHVsZS9oYW5kbGViYXJzL0Jhc2ljSGVscGVycy50cyIsInNyYy9tb2R1bGUvaGFuZGxlYmFycy9IYW5kbGViYXJNYW5hZ2VyLnRzIiwic3JjL21vZHVsZS9oYW5kbGViYXJzL0hhbmRsZWJhclRlbXBsYXRlcy50cyIsInNyYy9tb2R1bGUvaGFuZGxlYmFycy9JdGVtTGluZUhlbHBlcnMudHMiLCJzcmMvbW9kdWxlL2hhbmRsZWJhcnMvUm9sbEFuZExhYmVsSGVscGVycy50cyIsInNyYy9tb2R1bGUvaGFuZGxlYmFycy9Ta2lsbExpbmVIZWxwZXJzLnRzIiwic3JjL21vZHVsZS9oZWxwZXJzLnRzIiwic3JjL21vZHVsZS9ob29rcy50cyIsInNyYy9tb2R1bGUvaXRlbS9DaGF0RGF0YS50cyIsInNyYy9tb2R1bGUvaXRlbS9TUjVJdGVtLnRzIiwic3JjL21vZHVsZS9pdGVtL1NSNUl0ZW1EYXRhV3JhcHBlci50cyIsInNyYy9tb2R1bGUvaXRlbS9TUjVJdGVtU2hlZXQudHMiLCJzcmMvbW9kdWxlL21hY3Jvcy50cyIsInNyYy9tb2R1bGUvbWFpbi50cyIsInNyYy9tb2R1bGUvbWlncmF0b3IvTWlncmF0b3IudHMiLCJzcmMvbW9kdWxlL21pZ3JhdG9yL1ZlcnNpb25NaWdyYXRpb24udHMiLCJzcmMvbW9kdWxlL21pZ3JhdG9yL3ZlcnNpb25zL0xlZ2FjeU1pZ3JhdGlvbi50cyIsInNyYy9tb2R1bGUvbWlncmF0b3IvdmVyc2lvbnMvVmVyc2lvbjBfNl8xMC50cyIsInNyYy9tb2R1bGUvbWlncmF0b3IvdmVyc2lvbnMvVmVyc2lvbjBfNl81LnRzIiwic3JjL21vZHVsZS9taWdyYXRvci92ZXJzaW9ucy9WZXJzaW9uMF83XzIudHMiLCJzcmMvbW9kdWxlL3BhcnRzL1BhcnRzTGlzdC50cyIsInNyYy9tb2R1bGUvcm9sbHMvU2hhZG93cnVuUm9sbGVyLnRzIiwic3JjL21vZHVsZS9zZXR0aW5ncy50cyIsInNyYy9tb2R1bGUvdGVtcGxhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFJLENBQUMsSUFBSSxLQUFLLGFBQWE7Z0JBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDbkQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVE7Z0JBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDOUMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWM7Z0JBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDcEQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFdBQVc7Z0JBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDakQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVM7Z0JBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDL0MsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEtBQUs7Z0JBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDM0MsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVM7Z0JBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDL0MsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGVBQWU7Z0JBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDdEQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWM7Z0JBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDckQsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFD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QXFCO1FBQ3JCLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM3QyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdDLENBQUM7Q0FDSjtBQXZHRCwyQkF1R0MiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQ7IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FzeW5jVG9HZW5lcmF0b3I7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2s7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZGVmaW5lUHJvcGVydHk7IiwidmFyIHN1cGVyUHJvcEJhc2UgPSByZXF1aXJlKFwiLi9zdXBlclByb3BCYXNlXCIpO1xuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IFJlZmxlY3QuZ2V0O1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgIHZhciBiYXNlID0gc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldDsiLCJmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2Y7IiwidmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vc2V0UHJvdG90eXBlT2ZcIik7XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaW5oZXJpdHM7IiwiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIGFzc2VydFRoaXNJbml0aWFsaXplZCA9IHJlcXVpcmUoXCIuL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjsiLCJmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZjsiLCJ2YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9nZXRQcm90b3R5cGVPZlwiKTtcblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkge1xuICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgIG9iamVjdCA9IGdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zdXBlclByb3BCYXNlOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCJpbXBvcnQgeyBTaGFkb3dydW5Sb2xsZXIgfSBmcm9tICcuLi9yb2xscy9TaGFkb3dydW5Sb2xsZXInO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgU1I1SXRlbSB9IGZyb20gJy4uL2l0ZW0vU1I1SXRlbSc7XG5pbXBvcnQgQWN0b3JSb2xsT3B0aW9ucyA9IFNoYWRvd3J1bi5BY3RvclJvbGxPcHRpb25zO1xuaW1wb3J0IERlZmVuc2VSb2xsT3B0aW9ucyA9IFNoYWRvd3J1bi5EZWZlbnNlUm9sbE9wdGlvbnM7XG5pbXBvcnQgU29ha1JvbGxPcHRpb25zID0gU2hhZG93cnVuLlNvYWtSb2xsT3B0aW9ucztcbmltcG9ydCBBdHRyaWJ1dGVGaWVsZCA9IFNoYWRvd3J1bi5BdHRyaWJ1dGVGaWVsZDtcbmltcG9ydCBTa2lsbFJvbGxPcHRpb25zID0gU2hhZG93cnVuLlNraWxsUm9sbE9wdGlvbnM7XG5pbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuaW1wb3J0IE1vZExpc3QgPSBTaGFkb3dydW4uTW9kTGlzdDtcbmltcG9ydCBCYXNlVmFsdWVQYWlyID0gU2hhZG93cnVuLkJhc2VWYWx1ZVBhaXI7XG5pbXBvcnQgTW9kaWZpYWJsZVZhbHVlID0gU2hhZG93cnVuLk1vZGlmaWFibGVWYWx1ZTtcbmltcG9ydCBMYWJlbEZpZWxkID0gU2hhZG93cnVuLkxhYmVsRmllbGQ7XG5pbXBvcnQgTGltaXRGaWVsZCA9IFNoYWRvd3J1bi5MaW1pdEZpZWxkO1xuaW1wb3J0IHsgU1lTVEVNX05BTUUsIEZMQUdTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBTUjVBY3RvclR5cGUgPSBTaGFkb3dydW4uU1I1QWN0b3JUeXBlO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vcGFydHMvUGFydHNMaXN0JztcbmltcG9ydCB7IEFjdG9yUHJlcEZhY3RvcnkgfSBmcm9tICcuL3ByZXAvQWN0b3JQcmVwRmFjdG9yeSc7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuaW1wb3J0IERhbWFnZUVsZW1lbnQgPSBTaGFkb3dydW4uRGFtYWdlRWxlbWVudDtcbmltcG9ydCBFZGdlQXR0cmlidXRlRmllbGQgPSBTaGFkb3dydW4uRWRnZUF0dHJpYnV0ZUZpZWxkO1xuaW1wb3J0IFZlaGljbGVBY3RvckRhdGEgPSBTaGFkb3dydW4uVmVoaWNsZUFjdG9yRGF0YTtcbmltcG9ydCBWZWhpY2xlU3RhdCA9IFNoYWRvd3J1bi5WZWhpY2xlU3RhdDtcbmltcG9ydCBSZW1vdmFibGVTa2lsbHMgPSBTaGFkb3dydW4uUmVtb3ZhYmxlU2tpbGxzO1xuXG5leHBvcnQgY2xhc3MgU1I1QWN0b3IgZXh0ZW5kcyBBY3RvciB7XG4gICAgYXN5bmMgdXBkYXRlKGRhdGEsIG9wdGlvbnM/KSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLnVwZGF0ZShkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgLy8gdHJpZ2dlciB1cGRhdGUgZm9yIGFsbCBpdGVtcyB3aXRoIGFjdGlvblxuICAgICAgICAvLyBuZWVkZWQgZm9yIHJvbGxzIHRvIHByb3Blcmx5IHVwZGF0ZSB3aGVuIGl0ZW1zIG9yIGF0dHJpYnV0ZXMgdXBkYXRlXG4gICAgICAgIGNvbnN0IGl0ZW1VcGRhdGVzOiBJdGVtW10gPSBbXTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5kYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgICAgIGl0ZW1VcGRhdGVzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgaXRlbVVwZGF0ZXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRPdmVyd2F0Y2hTY29yZSgpIHtcbiAgICAgICAgY29uc3Qgb3MgPSB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdvdmVyd2F0Y2hTY29yZScpO1xuICAgICAgICByZXR1cm4gb3MgIT09IHVuZGVmaW5lZCA/IG9zIDogMDtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRPdmVyd2F0Y2hTY29yZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNOYU4obnVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ292ZXJ3YXRjaFNjb3JlJywgbnVtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZXBhcmVEYXRhKCkge1xuICAgICAgICBzdXBlci5wcmVwYXJlRGF0YSgpO1xuXG4gICAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IHRoaXMuZGF0YSBhcyBTUjVBY3RvclR5cGU7XG4gICAgICAgIGNvbnN0IHByZXBwZXIgPSBBY3RvclByZXBGYWN0b3J5LkNyZWF0ZShhY3RvckRhdGEpO1xuICAgICAgICBpZiAocHJlcHBlcikge1xuICAgICAgICAgICAgcHJlcHBlci5wcmVwYXJlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRNb2RpZmllcihtb2RpZmllck5hbWU6IHN0cmluZyk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5tb2RpZmllcnNbbW9kaWZpZXJOYW1lXTtcbiAgICB9XG5cbiAgICBmaW5kQWN0aXZlU2tpbGwoc2tpbGxOYW1lPzogc3RyaW5nKTogU2tpbGxGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChza2lsbE5hbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLnNraWxscy5hY3RpdmVbc2tpbGxOYW1lXTtcbiAgICB9XG5cbiAgICBmaW5kQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU/OiBzdHJpbmcpOiBBdHRyaWJ1dGVGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgIH1cblxuICAgIGZpbmRWZWhpY2xlU3RhdChzdGF0TmFtZT86IHN0cmluZyk6IFZlaGljbGVTdGF0IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHN0YXROYW1lID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS52ZWhpY2xlX3N0YXRzW3N0YXROYW1lXTtcbiAgICB9XG5cbiAgICBmaW5kTGltaXRGcm9tQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU/OiBzdHJpbmcpOiBMaW1pdEZpZWxkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gdGhpcy5maW5kQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZT8ubGltaXQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaW1pdChhdHRyaWJ1dGUubGltaXQpO1xuICAgIH1cblxuICAgIGZpbmRMaW1pdChsaW1pdE5hbWU/OiBzdHJpbmcpOiBMaW1pdEZpZWxkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFsaW1pdE5hbWUpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5saW1pdHNbbGltaXROYW1lXTtcbiAgICB9XG5cbiAgICBnZXRXb3VuZE1vZGlmaWVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAtMSAqIHRoaXMuZGF0YS5kYXRhLndvdW5kcz8udmFsdWUgfHwgMDtcbiAgICB9XG5cbiAgICBnZXRFZGdlKCk6IEVkZ2VBdHRyaWJ1dGVGaWVsZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLmVkZ2U7XG4gICAgfVxuXG4gICAgZ2V0QXJtb3IoKTogQmFzZVZhbHVlUGFpcjxudW1iZXI+ICYgTW9kaWZpYWJsZVZhbHVlICYgTGFiZWxGaWVsZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hcm1vcjtcbiAgICB9XG5cbiAgICBnZXRPd25lZFNSNUl0ZW0oaXRlbUlkOiBzdHJpbmcpOiBTUjVJdGVtIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAoc3VwZXIuZ2V0T3duZWRJdGVtKGl0ZW1JZCkgYXMgdW5rbm93bikgYXMgU1I1SXRlbTtcbiAgICB9XG5cbiAgICBnZXRNYXRyaXhEZXZpY2UoKTogU1I1SXRlbSB8IHVuZGVmaW5lZCB8IG51bGwge1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLmRhdGEuZGF0YS5tYXRyaXg7XG4gICAgICAgIGlmIChtYXRyaXguZGV2aWNlKSByZXR1cm4gdGhpcy5nZXRPd25lZFNSNUl0ZW0obWF0cml4LmRldmljZSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0RnVsbERlZmVuc2VBdHRyaWJ1dGUoKTogQXR0cmlidXRlRmllbGQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc1ZlaGljbGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFZlaGljbGVTdGF0KCdwaWxvdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGF0dCA9IHRoaXMuZGF0YS5kYXRhLmZ1bGxfZGVmZW5zZV9hdHRyaWJ1dGU7XG4gICAgICAgICAgICBpZiAoIWF0dCkgYXR0ID0gJ3dpbGxwb3dlcic7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kQXR0cmlidXRlKGF0dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRFcXVpcHBlZFdlYXBvbnMoKTogU1I1SXRlbVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlzRXF1aXBwZWQoKSAmJiBpdGVtLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicpO1xuICAgIH1cblxuICAgIGdldFJlY29pbENvbXBlbnNhdGlvbigpOiBudW1iZXIge1xuICAgICAgICBsZXQgdG90YWwgPSAxOyAvLyBhbHdheXMgZ2V0IDFcbiAgICAgICAgY29uc3Qgc3RyZW5ndGggPSB0aGlzLmZpbmRBdHRyaWJ1dGUoJ3N0cmVuZ3RoJyk7XG4gICAgICAgIGlmIChzdHJlbmd0aCkge1xuICAgICAgICAgICAgdG90YWwgKz0gTWF0aC5jZWlsKHN0cmVuZ3RoLnZhbHVlIC8gMyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH1cblxuICAgIGdldERldmljZVJhdGluZygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEubWF0cml4LnJhdGluZztcbiAgICB9XG5cbiAgICBpc1ZlaGljbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ3ZlaGljbGUnO1xuICAgIH1cblxuICAgIGlzR3J1bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5pc19ucGMgJiYgdGhpcy5kYXRhLmRhdGEubnBjLmlzX2dydW50O1xuICAgIH1cblxuICAgIGdldFZlaGljbGVUeXBlU2tpbGwoKTogU2tpbGxGaWVsZCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBza2lsbDogU2tpbGxGaWVsZCB8IHVuZGVmaW5lZDtcbiAgICAgICAgc3dpdGNoICh0aGlzLmRhdGEuZGF0YS52ZWhpY2xlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYWlyJzpcbiAgICAgICAgICAgICAgICBza2lsbCA9IHRoaXMuZmluZEFjdGl2ZVNraWxsKCdwaWxvdF9haXJjcmFmdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ3JvdW5kJzpcbiAgICAgICAgICAgICAgICBza2lsbCA9IHRoaXMuZmluZEFjdGl2ZVNraWxsKCdwaWxvdF9ncm91bmRfY3JhZnQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dhdGVyJzpcbiAgICAgICAgICAgICAgICBza2lsbCA9IHRoaXMuZmluZEFjdGl2ZVNraWxsKCdwaWxvdF93YXRlcl9jcmFmdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYWVyb3NwYWNlJzpcbiAgICAgICAgICAgICAgICBza2lsbCA9IHRoaXMuZmluZEFjdGl2ZVNraWxsKCdwaWxvdF9hZXJvc3BhY2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dhbGtlcic6XG4gICAgICAgICAgICAgICAgc2tpbGwgPSB0aGlzLmZpbmRBY3RpdmVTa2lsbCgncGlsb3Rfd2Fsa2VyJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdleG90aWMnOlxuICAgICAgICAgICAgICAgIHNraWxsID0gdGhpcy5maW5kQWN0aXZlU2tpbGwoJ3BpbG90X2V4b3RpY192ZWhpY2xlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBza2lsbDtcbiAgICB9XG5cbiAgICBnZXRTa2lsbChza2lsbElkOiBzdHJpbmcpOiBTa2lsbEZpZWxkfHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IHtza2lsbHN9ID0gdGhpcy5kYXRhLmRhdGE7XG4gICAgICAgIGlmIChza2lsbHMuYWN0aXZlLmhhc093blByb3BlcnR5KHNraWxsSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2tpbGxzLmFjdGl2ZVtza2lsbElkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpbGxzLmxhbmd1YWdlLnZhbHVlLmhhc093blByb3BlcnR5KHNraWxsSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2tpbGxzLmxhbmd1YWdlLnZhbHVlW3NraWxsSWRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lsbHMua25vd2xlZGdlLnZhbHVlLmhhc093blByb3BlcnR5KHNraWxsSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2tpbGxzLmtub3dsZWRnZS52YWx1ZVtza2lsbElkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFNraWxsTGFiZWwoc2tpbGxJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmdldFNraWxsKHNraWxsSWQpO1xuICAgICAgICBpZiAoIXNraWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2tpbGwubGFiZWwgPyBza2lsbC5sYWJlbCA6IHNraWxsLm5hbWUgPyBza2lsbC5uYW1lIDogJyc7XG4gICAgfVxuXG4gICAgYWRkS25vd2xlZGdlU2tpbGwoY2F0ZWdvcnksIHNraWxsPykge1xuICAgICAgICBjb25zdCBkZWZhdWx0U2tpbGwgPSB7XG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgIHNwZWNzOiBbXSxcbiAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIG1vZDogMCxcbiAgICAgICAgfTtcbiAgICAgICAgc2tpbGwgPSB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0U2tpbGwsXG4gICAgICAgICAgICAuLi5za2lsbCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBpZCA9IHJhbmRvbUlEKDE2KTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB7fTtcbiAgICAgICAgdmFsdWVbaWRdID0gc2tpbGw7XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGBkYXRhLnNraWxscy5rbm93bGVkZ2UuJHtjYXRlZ29yeX0udmFsdWVgO1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgIHVwZGF0ZURhdGFbZmllbGROYW1lXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICB9XG5cbiAgICByZW1vdmVMYW5ndWFnZVNraWxsKHNraWxsSWQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB7fTtcbiAgICAgICAgdmFsdWVbc2tpbGxJZF0gPSB7IF9kZWxldGU6IHRydWUgfTtcbiAgICAgICAgdGhpcy51cGRhdGUoeyAnZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWUnOiB2YWx1ZSB9KTtcbiAgICB9XG5cbiAgICBhZGRMYW5ndWFnZVNraWxsKHNraWxsKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTa2lsbCA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgc3BlY3M6IFtdLFxuICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICB9O1xuICAgICAgICBza2lsbCA9IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRTa2lsbCxcbiAgICAgICAgICAgIC4uLnNraWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGlkID0gcmFuZG9tSUQoMTYpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHt9O1xuICAgICAgICB2YWx1ZVtpZF0gPSBza2lsbDtcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gYGRhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlYDtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xuICAgICAgICB1cGRhdGVEYXRhW2ZpZWxkTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUodXBkYXRlRGF0YSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlS25vd2xlZGdlU2tpbGwoc2tpbGxJZCwgY2F0ZWdvcnkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB7fTtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGRhdGFTdHJpbmcgPSBgZGF0YS5za2lsbHMua25vd2xlZGdlLiR7Y2F0ZWdvcnl9LnZhbHVlYDtcbiAgICAgICAgdmFsdWVbc2tpbGxJZF0gPSB7IF9kZWxldGU6IHRydWUgfTtcbiAgICAgICAgdXBkYXRlRGF0YVtkYXRhU3RyaW5nXSA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIHJvbGxGYWRlKG9wdGlvbnM6IEFjdG9yUm9sbE9wdGlvbnMgPSB7fSwgaW5jb21pbmcgPSAtMSkge1xuICAgICAgICBjb25zdCB3aWwgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlcy53aWxscG93ZXIpO1xuICAgICAgICBjb25zdCByZXMgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlcy5yZXNvbmFuY2UpO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhLmRhdGE7XG5cbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCh3aWwubGFiZWwsIHdpbC52YWx1ZSk7XG4gICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQocmVzLmxhYmVsLCByZXMudmFsdWUpO1xuICAgICAgICBpZiAoZGF0YS5tb2RpZmllcnMuZmFkZSkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkJvbnVzJywgZGF0YS5tb2RpZmllcnMuZmFkZSk7XG5cbiAgICAgICAgbGV0IHRpdGxlID0gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUmVzaXN0Jyl9ICR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRmFkZScpfWA7XG4gICAgICAgIGNvbnN0IGluY29taW5nRHJhaW4gPSB7XG4gICAgICAgICAgICBsYWJlbDogJ1NSNS5GYWRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBpbmNvbWluZyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnMuZXZlbnQsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgd291bmRzOiBmYWxzZSxcbiAgICAgICAgICAgIGluY29taW5nRHJhaW4sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxEcmFpbihvcHRpb25zOiBBY3RvclJvbGxPcHRpb25zID0ge30sIGluY29taW5nID0gLTEpIHtcbiAgICAgICAgY29uc3Qgd2lsID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXMud2lsbHBvd2VyKTtcbiAgICAgICAgY29uc3QgZHJhaW5BdHQgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1t0aGlzLmRhdGEuZGF0YS5tYWdpYy5hdHRyaWJ1dGVdKTtcblxuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuICAgICAgICBwYXJ0cy5hZGRQYXJ0KHdpbC5sYWJlbCwgd2lsLnZhbHVlKTtcbiAgICAgICAgcGFydHMuYWRkUGFydChkcmFpbkF0dC5sYWJlbCwgZHJhaW5BdHQudmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5kYXRhLmRhdGEubW9kaWZpZXJzLmRyYWluKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCB0aGlzLmRhdGEuZGF0YS5tb2RpZmllcnMuZHJhaW4pO1xuXG4gICAgICAgIGxldCB0aXRsZSA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJlc2lzdCcpfSAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRyYWluJyl9YDtcbiAgICAgICAgY29uc3QgaW5jb21pbmdEcmFpbiA9IHtcbiAgICAgICAgICAgIGxhYmVsOiAnU1I1LkRyYWluJyxcbiAgICAgICAgICAgIHZhbHVlOiBpbmNvbWluZyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnMuZXZlbnQsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgd291bmRzOiBmYWxzZSxcbiAgICAgICAgICAgIGluY29taW5nRHJhaW4sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxBcm1vcihvcHRpb25zOiBBY3RvclJvbGxPcHRpb25zID0ge30sIHBhcnRzUHJvcHM6IE1vZExpc3Q8bnVtYmVyPiA9IFtdKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChwYXJ0c1Byb3BzKTtcbiAgICAgICAgdGhpcy5fYWRkQXJtb3JQYXJ0cyhwYXJ0cyk7XG4gICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zLmV2ZW50LFxuICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Bcm1vcicpLFxuICAgICAgICAgICAgd291bmRzOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcm9sbERlZmVuc2Uob3B0aW9uczogRGVmZW5zZVJvbGxPcHRpb25zID0ge30sIHBhcnRzUHJvcHM6IE1vZExpc3Q8bnVtYmVyPiA9IFtdKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChwYXJ0c1Byb3BzKTtcbiAgICAgICAgdGhpcy5fYWRkRGVmZW5zZVBhcnRzKHBhcnRzKTtcbiAgICAgICAgLy8gZnVsbCBkZWZlbnNlIGlzIGFsd2F5cyBhZGRlZFxuICAgICAgICBjb25zdCBhY3RpdmVEZWZlbnNlcyA9IHtcbiAgICAgICAgICAgIGZ1bGxfZGVmZW5zZToge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnU1I1LkZ1bGxEZWZlbnNlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRGdWxsRGVmZW5zZUF0dHJpYnV0ZSgpPy52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbml0TW9kOiAtMTAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgbWVsZWUgYXR0YWNrXG4gICAgICAgIGlmIChvcHRpb25zLmluY29taW5nQXR0YWNrPy5yZWFjaCkge1xuICAgICAgICAgICAgYWN0aXZlRGVmZW5zZXNbJ2RvZGdlJ10gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTUjUuRG9kZ2UnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmZpbmRBY3RpdmVTa2lsbCgnZ3ltbmFzdGljcycpPy52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbml0TW9kOiAtNSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhY3RpdmVEZWZlbnNlc1snYmxvY2snXSA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1NSNS5CbG9jaycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuZmluZEFjdGl2ZVNraWxsKCd1bmFybWVkX2NvbWJhdCcpPy52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbml0TW9kOiAtNSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlcXVpcHBlZE1lbGVlV2VhcG9ucyA9IHRoaXMuZ2V0RXF1aXBwZWRXZWFwb25zKCkuZmlsdGVyKCh3KSA9PiB3LmlzTWVsZWVXZWFwb24oKSk7XG4gICAgICAgICAgICBsZXQgZGVmZW5zZVJlYWNoID0gMDtcbiAgICAgICAgICAgIGVxdWlwcGVkTWVsZWVXZWFwb25zLmZvckVhY2goKHdlYXBvbikgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZURlZmVuc2VzW2BwYXJyeS0ke3dlYXBvbi5uYW1lfWBdID0ge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1NSNS5QYXJyeScsXG4gICAgICAgICAgICAgICAgICAgIHdlYXBvbjogd2VhcG9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmZpbmRBY3RpdmVTa2lsbCh3ZWFwb24uZ2V0QWN0aW9uU2tpbGwoKSk/LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbml0OiAtNSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRlZmVuc2VSZWFjaCA9IE1hdGgubWF4KGRlZmVuc2VSZWFjaCwgd2VhcG9uLmdldFJlYWNoKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBpbmNvbWluZ1JlYWNoID0gb3B0aW9ucy5pbmNvbWluZ0F0dGFjay5yZWFjaDtcbiAgICAgICAgICAgIGNvbnN0IG5ldFJlYWNoID0gZGVmZW5zZVJlYWNoIC0gaW5jb21pbmdSZWFjaDtcbiAgICAgICAgICAgIGlmIChuZXRSZWFjaCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5SZWFjaCcsIG5ldFJlYWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlhbG9nRGF0YSA9IHtcbiAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5nZXRNZXNzYWdlT3V0cHV0KCksXG4gICAgICAgICAgICBjb3Zlcjogb3B0aW9ucy5jb3ZlcixcbiAgICAgICAgICAgIGFjdGl2ZURlZmVuc2VzLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yb2xsLWRlZmVuc2UuaHRtbCc7XG4gICAgICAgIGxldCBjYW5jZWwgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbmNvbWluZ0F0dGFjayA9IG9wdGlvbnMuaW5jb21pbmdBdHRhY2s7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gb3B0aW9ucy5ldmVudDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgZGlhbG9nRGF0YSkudGhlbigoZGxnKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IERpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EZWZlbnNlJyksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGRsZyxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ29udGludWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gKGNhbmNlbCA9IGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZTogYXN5bmMgKGh0bWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3ZlciA9IEhlbHBlcnMucGFyc2VJbnB1dFRvTnVtYmVyKCQoaHRtbCkuZmluZCgnW25hbWU9Y292ZXJdJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwZWNpYWwgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb1N0cmluZygkKGh0bWwpLmZpbmQoJ1tuYW1lPWFjdGl2ZURlZmVuc2VdJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHN1YnRyYWN0IGluaXRpYXRpdmUgc2NvcmUgd2hlbiBGb3VuZHJ5IHVwZGF0ZXMgdG8gMC43LjBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZlbnNlID0gYWN0aXZlRGVmZW5zZXNbc3BlY2lhbF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChkZWZlbnNlLmxhYmVsLCBkZWZlbnNlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3ZlcikgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkNvdmVyJywgY292ZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRlZmVuc2VUZXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY29taW5nQXR0YWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oYXN5bmMgKHJvbGw6IFJvbGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluY29taW5nQXR0YWNrICYmIHJvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWZlbmRlckhpdHMgPSByb2xsLnRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF0dGFja2VySGl0cyA9IGluY29taW5nQXR0YWNrLmhpdHMgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXRIaXRzID0gYXR0YWNrZXJIaXRzIC0gZGVmZW5kZXJIaXRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV0SGl0cyA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFtYWdlID0gaW5jb21pbmdBdHRhY2suZGFtYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChkYW1hZ2UubW9kLCAnU1I1Lk5ldEhpdHMnLCBuZXRIaXRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2UudmFsdWUgPSBIZWxwZXJzLmNhbGNUb3RhbChkYW1hZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ha1JvbGxPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZTogZGFtYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yb2xsU29hayhzb2FrUm9sbE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLnJlbmRlcih0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByb2xsU29hayhvcHRpb25zPzogU29ha1JvbGxPcHRpb25zLCBwYXJ0c1Byb3BzOiBNb2RMaXN0PG51bWJlcj4gPSBbXSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QocGFydHNQcm9wcyk7XG4gICAgICAgIHRoaXMuX2FkZFNvYWtQYXJ0cyhwYXJ0cyk7XG4gICAgICAgIGxldCBkaWFsb2dEYXRhID0ge1xuICAgICAgICAgICAgZGFtYWdlOiBvcHRpb25zPy5kYW1hZ2UsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMuZ2V0TWVzc2FnZU91dHB1dCgpLFxuICAgICAgICAgICAgZWxlbWVudFR5cGVzOiBDT05GSUcuU1I1LmVsZW1lbnRUeXBlcyxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGlkID0gJyc7XG4gICAgICAgIGxldCBjYW5jZWwgPSB0cnVlO1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yb2xsLXNvYWsuaHRtbCc7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIGRpYWxvZ0RhdGEpLnRoZW4oKGRsZykgPT4ge1xuICAgICAgICAgICAgICAgIG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRGFtYWdlUmVzaXN0YW5jZVRlc3QnKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogZGxnLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Db250aW51ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGFzeW5jIChodG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvYWs6IERhbWFnZURhdGEgPSBvcHRpb25zPy5kYW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuZGFtYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFybW9yID0gdGhpcy5nZXRBcm1vcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZWxlbWVudCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gSGVscGVycy5wYXJzZUlucHV0VG9TdHJpbmcoJChodG1sKS5maW5kKCdbbmFtZT1lbGVtZW50XScpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hay5lbGVtZW50LnZhbHVlID0gZWxlbWVudCBhcyBEYW1hZ2VFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9udXNBcm1vciA9IGFybW9yW2VsZW1lbnRdID8/IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9udXNBcm1vcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoQ09ORklHLlNSNS5lbGVtZW50VHlwZXNbZWxlbWVudF0sIGJvbnVzQXJtb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgYXAgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXAgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPWFwXScpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcm1vclZhbCA9IGFybW9yLnZhbHVlICsgYm9udXNBcm1vcjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHRha2UgbW9yZSBBUCB0aGFuIGFybW9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkFQJywgTWF0aC5tYXgoYXAsIC1hcm1vclZhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgaW5jb21pbmcgZGFtYWdlIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluY29taW5nRGFtYWdlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1pbmNvbWluZ0RhbWFnZV0nKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jb21pbmdEYW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbERhbWFnZSA9IEhlbHBlcnMuY2FsY1RvdGFsKHNvYWspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbERhbWFnZSAhPT0gaW5jb21pbmdEYW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IGluY29taW5nRGFtYWdlIC0gdG90YWxEYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBwYXJ0IGFuZCBjYWxjIHRvdGFsIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYWsubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoc29hay5tb2QsICdTUjUuVXNlcklucHV0JywgZGlmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYWsudmFsdWUgPSBIZWxwZXJzLmNhbGNUb3RhbChzb2FrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEFwID0gSGVscGVycy5jYWxjVG90YWwoc29hay5hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsQXAgIT09IGFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBhcCAtIHRvdGFsQXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBwYXJ0IGFuZCBjYWxjIHRvdGFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYWsuYXAubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoc29hay5hcC5tb2QsICdTUjUuVXNlcklucHV0JywgZGlmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYWsuYXAudmFsdWUgPSBIZWxwZXJzLmNhbGNUb3RhbChzb2FrLmFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNvYWtUZXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogb3B0aW9ucz8uZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2FrOiBzb2FrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3VuZHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcm9sbFNpbmdsZUF0dHJpYnV0ZShhdHRJZCwgb3B0aW9uczogQWN0b3JSb2xsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXNbYXR0SWRdKTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHRyLmxhYmVsLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgdGhpcy5fYWRkTWF0cml4UGFydHMocGFydHMsIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG4gICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICB0aXRsZTogSGVscGVycy5sYWJlbChhdHRJZCksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxUd29BdHRyaWJ1dGVzKFtpZDEsIGlkMl0sIG9wdGlvbnM6IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cjEgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1tpZDFdKTtcbiAgICAgICAgY29uc3QgYXR0cjIgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1tpZDJdKTtcbiAgICAgICAgY29uc3QgbGFiZWwxID0gSGVscGVycy5sYWJlbChpZDEpO1xuICAgICAgICBjb25zdCBsYWJlbDIgPSBIZWxwZXJzLmxhYmVsKGlkMik7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgIHBhcnRzLmFkZFBhcnQoYXR0cjEubGFiZWwsIGF0dHIxLnZhbHVlKTtcbiAgICAgICAgcGFydHMuYWRkUGFydChhdHRyMi5sYWJlbCwgYXR0cjIudmFsdWUpO1xuICAgICAgICB0aGlzLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgW2F0dHIxLCBhdHRyMl0pO1xuICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG4gICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICB0aXRsZTogYCR7bGFiZWwxfSArICR7bGFiZWwyfWAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxOYXR1cmFsUmVjb3ZlcnkodHJhY2ssIG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGxldCBpZDEgPSAnYm9keSc7XG4gICAgICAgIGxldCBpZDIgPSAnd2lsbHBvd2VyJztcbiAgICAgICAgbGV0IHRpdGxlID0gJ05hdHVyYWwgUmVjb3Zlcic7XG4gICAgICAgIGlmICh0cmFjayA9PT0gJ3BoeXNpY2FsJykge1xuICAgICAgICAgICAgaWQyID0gJ2JvZHknO1xuICAgICAgICAgICAgdGl0bGUgKz0gJyAtIFBoeXNpY2FsIC0gMSBEYXknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGUgKz0gJyAtIFN0dW4gLSAxIEhvdXInO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhdHQxID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXNbaWQxXSk7XG4gICAgICAgIGxldCBhdHQyID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXNbaWQyXSk7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgIHBhcnRzLmFkZFBhcnQoYXR0MS5sYWJlbCwgYXR0MS52YWx1ZSk7XG4gICAgICAgIHBhcnRzLmFkZFBhcnQoYXR0Mi5sYWJlbCwgYXR0Mi52YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIGV4dGVuZGVkOiB0cnVlLFxuICAgICAgICAgICAgYWZ0ZXI6IGFzeW5jIChyb2xsOiBSb2xsIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyb2xsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgbGV0IGhpdHMgPSByb2xsLnRvdGFsO1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5kYXRhLmRhdGEudHJhY2tbdHJhY2tdLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IE1hdGgubWF4KGN1cnJlbnQgLSBoaXRzLCAwKTtcblxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBgZGF0YS50cmFjay4ke3RyYWNrfS52YWx1ZWA7XG5cbiAgICAgICAgICAgICAgICBsZXQgdSA9IHt9O1xuICAgICAgICAgICAgICAgIHVba2V5XSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUodSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyByb2xsTWF0cml4QXR0cmlidXRlKGF0dHIsIG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGxldCBtYXRyaXhfYXR0ID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLm1hdHJpeFthdHRyXSk7XG4gICAgICAgIGxldCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1Lm1hdHJpeEF0dHJpYnV0ZXNbYXR0cl0pO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuICAgICAgICBwYXJ0cy5hZGRQYXJ0KENPTkZJRy5TUjUubWF0cml4QXR0cmlidXRlc1thdHRyXSwgbWF0cml4X2F0dC52YWx1ZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5ldmVudCAmJiBvcHRpb25zLmV2ZW50W0NPTkZJRy5TUjUua2Jtb2QuU1BFQ10pIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5TcGVjaWFsaXphdGlvbicsIDIpO1xuICAgICAgICBpZiAoSGVscGVycy5oYXNNb2RpZmllcnMob3B0aW9ucz8uZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBIZWxwZXJzLmZpbHRlcih0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLCAoWywgdmFsdWVdKSA9PiB2YWx1ZS52YWx1ZSA+IDApO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSAnd2lsbHBvd2VyJztcblxuICAgICAgICBsZXQgZGlhbG9nRGF0YSA9IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0cmlidXRlLFxuICAgICAgICAgICAgYXR0cmlidXRlczogYXR0cmlidXRlcyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IHtcbiAgICAgICAgICAgIHJvbGw6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gKGNhbmNlbCA9IGZhbHNlKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNhbmNlbCA9IHRydWU7XG4gICAgICAgIHJlbmRlclRlbXBsYXRlKCdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL3JvbGxzL21hdHJpeC1yb2xsLmh0bWwnLCBkaWFsb2dEYXRhKS50aGVuKChkbGcpID0+IHtcbiAgICAgICAgICAgIG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBgJHt0aXRsZX0gVGVzdGAsXG4gICAgICAgICAgICAgICAgY29udGVudDogZGxnLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IGJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgY2xvc2U6IGFzeW5jIChodG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXR0ID0gSGVscGVycy5wYXJzZUlucHV0VG9TdHJpbmcoJChodG1sKS5maW5kKCdbbmFtZT1hdHRyaWJ1dGVdJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXR0OiBBdHRyaWJ1dGVGaWVsZCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ID0gdGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1tuZXdBdHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgKz0gYCArICR7Z2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYXR0cmlidXRlc1tuZXdBdHRdKX1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dC52YWx1ZSAmJiBhdHQubGFiZWwpIHBhcnRzLmFkZFBhcnQoYXR0LmxhYmVsLCBhdHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTWF0cml4UGFydHMocGFydHMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb21wdFJvbGwob3B0aW9ucz86IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgdGl0bGU6ICdSb2xsJyxcbiAgICAgICAgICAgIHBhcnRzOiBbXSxcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgZGlhbG9nT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHByb21wdDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxEZXZpY2VSYXRpbmcob3B0aW9ucz86IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5MYWJlbHMuQWN0b3JTaGVldC5EZXZpY2VSYXRpbmcnKTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgY29uc3QgcmF0aW5nID0gdGhpcy5nZXREZXZpY2VSYXRpbmcoKTtcbiAgICAgICAgLy8gYWRkIGRldmljZSByYXRpbmcgdHdpY2UgYXMgdGhpcyBpcyB0aGUgbW9zdCBjb21tb24gcm9sbFxuICAgICAgICBwYXJ0cy5hZGRQYXJ0KHRpdGxlLCByYXRpbmcpO1xuICAgICAgICBwYXJ0cy5hZGRQYXJ0KHRpdGxlLCByYXRpbmcpO1xuICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG4gICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcm9sbEF0dHJpYnV0ZXNUZXN0KHJvbGxJZCwgb3B0aW9ucz86IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hdHRyaWJ1dGVSb2xsc1tyb2xsSWRdKTtcbiAgICAgICAgY29uc3QgYXR0cyA9IHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IHRoaXMuZGF0YS5kYXRhLm1vZGlmaWVycztcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgaWYgKHJvbGxJZCA9PT0gJ2NvbXBvc3VyZScpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0cy5jaGFyaXNtYS5sYWJlbCwgYXR0cy5jaGFyaXNtYS52YWx1ZSk7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dHMud2lsbHBvd2VyLmxhYmVsLCBhdHRzLndpbGxwb3dlci52YWx1ZSk7XG4gICAgICAgICAgICBpZiAobW9kaWZpZXJzLmNvbXBvc3VyZSkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkJvbnVzJywgbW9kaWZpZXJzLmNvbXBvc3VyZSk7XG4gICAgICAgIH0gZWxzZSBpZiAocm9sbElkID09PSAnanVkZ2VfaW50ZW50aW9ucycpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0cy5jaGFyaXNtYS5sYWJlbCwgYXR0cy5jaGFyaXNtYS52YWx1ZSk7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dHMuaW50dWl0aW9uLmxhYmVsLCBhdHRzLmludHVpdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICBpZiAobW9kaWZpZXJzLmp1ZGdlX2ludGVudGlvbnMpIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5Cb251cycsIG1vZGlmaWVycy5qdWRnZV9pbnRlbnRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmIChyb2xsSWQgPT09ICdsaWZ0X2NhcnJ5Jykge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHRzLnN0cmVuZ3RoLmxhYmVsLCBhdHRzLnN0cmVuZ3RoLnZhbHVlKTtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0cy5ib2R5LmxhYmVsLCBhdHRzLmJvZHkudmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5saWZ0X2NhcnJ5KSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCBtb2RpZmllcnMubGlmdF9jYXJyeSk7XG4gICAgICAgIH0gZWxzZSBpZiAocm9sbElkID09PSAnbWVtb3J5Jykge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHRzLndpbGxwb3dlci5sYWJlbCwgYXR0cy53aWxscG93ZXIudmFsdWUpO1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHRzLmxvZ2ljLmxhYmVsLCBhdHRzLmxvZ2ljLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChtb2RpZmllcnMubWVtb3J5KSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCBtb2RpZmllcnMubWVtb3J5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcbiAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIHRpdGxlOiBgJHt0aXRsZX0gVGVzdGAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvbGxTa2lsbChza2lsbDogU2tpbGxGaWVsZCwgb3B0aW9ucz86IFNraWxsUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGF0dCA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzW3NraWxsLmF0dHJpYnV0ZV0pO1xuICAgICAgICBsZXQgdGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoc2tpbGwubGFiZWwpO1xuXG4gICAgICAgIGlmIChvcHRpb25zPy5hdHRyaWJ1dGUpIGF0dCA9IHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXNbb3B0aW9ucy5hdHRyaWJ1dGVdO1xuICAgICAgICBsZXQgbGltaXQgPSB0aGlzLmRhdGEuZGF0YS5saW1pdHNbYXR0LmxpbWl0XTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcbiAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChza2lsbC5sYWJlbCwgc2tpbGwudmFsdWUpO1xuXG4gICAgICAgIGlmIChvcHRpb25zPy5ldmVudCAmJiBIZWxwZXJzLmhhc01vZGlmaWVycyhvcHRpb25zPy5ldmVudCkpIHtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoYXR0LmxhYmVsLCBhdHQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXZlbnRbQ09ORklHLlNSNS5rYm1vZC5TUEVDXSkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LlNwZWNpYWxpemF0aW9uJywgMik7XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZE1hdHJpeFBhcnRzKHBhcnRzLCBbYXR0LCBza2lsbF0pO1xuICAgICAgICAgICAgdGhpcy5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuICAgICAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zLmV2ZW50LFxuICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgIHRpdGxlOiBgJHt0aXRsZX0gVGVzdGAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlhbG9nRGF0YSA9IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogc2tpbGwuYXR0cmlidXRlLFxuICAgICAgICAgICAgYXR0cmlidXRlczogSGVscGVycy5maWx0ZXIodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlcywgKFssIHZhbHVlXSkgPT4gdmFsdWUudmFsdWUgPiAwKSxcbiAgICAgICAgICAgIGxpbWl0OiBhdHQubGltaXQsXG4gICAgICAgICAgICBsaW1pdHM6IHRoaXMuZGF0YS5kYXRhLmxpbWl0cyxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNhbmNlbCA9IHRydWU7XG4gICAgICAgIGxldCBzcGVjID0gJyc7XG5cbiAgICAgICAgbGV0IGJ1dHRvbnMgPSB7XG4gICAgICAgICAgICByb2xsOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiAoY2FuY2VsID0gZmFsc2UpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gYWRkIHNwZWNpYWxpemF0aW9ucyB0byBkaWFsb2cgYXMgYnV0dG9uc1xuICAgICAgICBpZiAoc2tpbGwuc3BlY3M/Lmxlbmd0aCkge1xuICAgICAgICAgICAgc2tpbGwuc3BlY3MuZm9yRWFjaChcbiAgICAgICAgICAgICAgICAocykgPT5cbiAgICAgICAgICAgICAgICAgICAgKGJ1dHRvbnNbc10gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlYyA9IHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyVGVtcGxhdGUoJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvc2tpbGwtcm9sbC5odG1sJywgZGlhbG9nRGF0YSkudGhlbigoZGxnKSA9PiB7XG4gICAgICAgICAgICBuZXcgRGlhbG9nKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogYCR7dGl0bGV9IFRlc3RgLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGRsZyxcbiAgICAgICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgICAgIGNsb3NlOiBhc3luYyAoaHRtbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0F0dCA9IEhlbHBlcnMucGFyc2VJbnB1dFRvU3RyaW5nKCQoaHRtbCkuZmluZCgnW25hbWU9XCJhdHRyaWJ1dGVcIl0nKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xpbWl0ID0gSGVscGVycy5wYXJzZUlucHV0VG9TdHJpbmcoJChodG1sKS5maW5kKCdbbmFtZT1cImF0dHJpYnV0ZS5saW1pdFwiXScpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0ID0gdGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1tuZXdBdHRdO1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSArPSBgICsgJHtnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hdHRyaWJ1dGVzW25ld0F0dF0pfWA7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0ID0gdGhpcy5kYXRhLmRhdGEubGltaXRzW25ld0xpbWl0XTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHQubGFiZWwsIGF0dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lsbC52YWx1ZSA9PT0gMCkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkRlZmF1bHRpbmcnLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGVjKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuU3BlY2lhbGl6YXRpb24nLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTWF0cml4UGFydHMocGFydHMsIFthdHQsIHNraWxsXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAke3RpdGxlfSBUZXN0YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLnJlbmRlcih0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcm9sbERyb25lUGVyY2VwdGlvbihvcHRpb25zPzogQWN0b3JSb2xsT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuaXNWZWhpY2xlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0b3JEYXRhID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhKSBhcyBWZWhpY2xlQWN0b3JEYXRhO1xuICAgICAgICBpZiAoYWN0b3JEYXRhLmNvbnRyb2xNb2RlID09PSAnYXV0b3BpbG90Jykge1xuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oKTtcblxuICAgICAgICAgICAgY29uc3QgcGlsb3QgPSBIZWxwZXJzLmNhbGNUb3RhbChhY3RvckRhdGEudmVoaWNsZV9zdGF0cy5waWxvdCk7XG4gICAgICAgICAgICAvLyBUT0RPIHBvc3NpYmx5IGxvb2sgZm9yIGF1dG9zb2Z0IGl0ZW0gbGV2ZWw/XG4gICAgICAgICAgICBjb25zdCBwZXJjZXB0aW9uID0gdGhpcy5maW5kQWN0aXZlU2tpbGwoJ3BlcmNlcHRpb24nKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gdGhpcy5maW5kTGltaXQoJ3NlbnNvcicpO1xuXG4gICAgICAgICAgICBpZiAocGVyY2VwdGlvbiAmJiBsaW1pdCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFBhcnQoJ1NSNS5WZWhpY2xlLkNsZWFyc2lnaHQnLCBIZWxwZXJzLmNhbGNUb3RhbChwZXJjZXB0aW9uKSk7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkUGFydCgnU1I1LlZlaGljbGUuU3RhdHMuUGlsb3QnLCBwaWxvdCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRHbG9iYWxQYXJ0cyhwYXJ0cyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiBvcHRpb25zPy5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgYWN0b3I6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkxhYmVscy5BY3RvclNoZWV0LlJvbGxEcm9uZVBlcmNlcHRpb24nKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9sbEFjdGl2ZVNraWxsKCdwZXJjZXB0aW9uJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb2xsUGlsb3RWZWhpY2xlKG9wdGlvbnM/OiBBY3RvclJvbGxPcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZlaGljbGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RvckRhdGEgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEpIGFzIFZlaGljbGVBY3RvckRhdGE7XG4gICAgICAgIGlmIChhY3RvckRhdGEuY29udHJvbE1vZGUgPT09ICdhdXRvcGlsb3QnKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuXG4gICAgICAgICAgICBjb25zdCBwaWxvdCA9IEhlbHBlcnMuY2FsY1RvdGFsKGFjdG9yRGF0YS52ZWhpY2xlX3N0YXRzLnBpbG90KTtcbiAgICAgICAgICAgIGxldCBza2lsbDogU2tpbGxGaWVsZCB8IHVuZGVmaW5lZCA9IHRoaXMuZ2V0VmVoaWNsZVR5cGVTa2lsbCgpO1xuICAgICAgICAgICAgY29uc3QgZW52aXJvbm1lbnQgPSBhY3RvckRhdGEuZW52aXJvbm1lbnQ7XG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IHRoaXMuZmluZExpbWl0KGVudmlyb25tZW50KTtcblxuICAgICAgICAgICAgaWYgKHNraWxsICYmIGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkUGFydCgnU1I1LlZlaGljbGUuU3RhdHMuUGlsb3QnLCBwaWxvdCk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBwb3NzaWJseSBsb29rIGZvciBhdXRvc29mdCBpdGVtIGxldmVsP1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFBhcnQoJ1NSNS5WZWhpY2xlLk1hbmV1dmVyaW5nJywgSGVscGVycy5jYWxjVG90YWwoc2tpbGwpKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTGFiZWxzLkFjdG9yU2hlZXQuUm9sbFBpbG90VmVoaWNsZVRlc3QnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9sbEFjdGl2ZVNraWxsKCdwZXJjZXB0aW9uJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb2xsRHJvbmVJbmZpbHRyYXRpb24ob3B0aW9ucz86IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmVoaWNsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEuZGF0YSkgYXMgVmVoaWNsZUFjdG9yRGF0YTtcbiAgICAgICAgaWYgKGFjdG9yRGF0YS5jb250cm9sTW9kZSA9PT0gJ2F1dG9waWxvdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBpbG90ID0gSGVscGVycy5jYWxjVG90YWwoYWN0b3JEYXRhLnZlaGljbGVfc3RhdHMucGlsb3QpO1xuICAgICAgICAgICAgLy8gVE9ETyBwb3NzaWJseSBsb29rIGZvciBhdXRvc29mdCBpdGVtIGxldmVsP1xuICAgICAgICAgICAgY29uc3Qgc25lYWtpbmcgPSB0aGlzLmZpbmRBY3RpdmVTa2lsbCgnc25lYWtpbmcnKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gdGhpcy5maW5kTGltaXQoJ3NlbnNvcicpO1xuXG4gICAgICAgICAgICBpZiAoc25lYWtpbmcgJiYgbGltaXQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRQYXJ0KCdTUjUuVmVoaWNsZS5TdGVhbHRoJywgSGVscGVycy5jYWxjVG90YWwoc25lYWtpbmcpKTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRQYXJ0KCdTUjUuVmVoaWNsZS5TdGF0cy5QaWxvdCcsIHBpbG90KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTGFiZWxzLkFjdG9yU2hlZXQuUm9sbERyb25lSW5maWx0cmF0aW9uJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvbGxBY3RpdmVTa2lsbCgnc25lYWtpbmcnLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJvbGxLbm93bGVkZ2VTa2lsbChjYXRJZDogc3RyaW5nLCBza2lsbElkOiBzdHJpbmcsIG9wdGlvbnM/OiBTa2lsbFJvbGxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLnNraWxscy5rbm93bGVkZ2VbY2F0SWRdKTtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSBkdXBsaWNhdGUoY2F0ZWdvcnkudmFsdWVbc2tpbGxJZF0pO1xuICAgICAgICBza2lsbC5hdHRyaWJ1dGUgPSBjYXRlZ29yeS5hdHRyaWJ1dGU7XG4gICAgICAgIHNraWxsLmxhYmVsID0gc2tpbGwubmFtZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9sbFNraWxsKHNraWxsLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByb2xsTGFuZ3VhZ2VTa2lsbChza2lsbElkOiBzdHJpbmcsIG9wdGlvbnM/OiBTa2lsbFJvbGxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNraWxsID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLnNraWxscy5sYW5ndWFnZS52YWx1ZVtza2lsbElkXSk7XG4gICAgICAgIHNraWxsLmF0dHJpYnV0ZSA9ICdpbnR1aXRpb24nO1xuICAgICAgICBza2lsbC5sYWJlbCA9IHNraWxsLm5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzLnJvbGxTa2lsbChza2lsbCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcm9sbEFjdGl2ZVNraWxsKHNraWxsSWQ6IHN0cmluZywgb3B0aW9ucz86IFNraWxsUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZVtza2lsbElkXSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJvbGxTa2lsbChza2lsbCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcm9sbEF0dHJpYnV0ZShhdHRJZCwgb3B0aW9ucz86IEFjdG9yUm9sbE9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuYXR0cmlidXRlc1thdHRJZF0pO1xuICAgICAgICBjb25zdCBhdHQgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlc1thdHRJZF0pO1xuICAgICAgICBjb25zdCBhdHRzID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dC5sYWJlbCwgYXR0LnZhbHVlKTtcbiAgICAgICAgbGV0IGRpYWxvZ0RhdGEgPSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IGF0dCxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGF0dHMsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYW5jZWwgPSB0cnVlO1xuICAgICAgICByZW5kZXJUZW1wbGF0ZSgnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9zaW5nbGUtYXR0cmlidXRlLmh0bWwnLCBkaWFsb2dEYXRhKS50aGVuKChkbGcpID0+IHtcbiAgICAgICAgICAgIG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBgJHt0aXRsZX0gQXR0cmlidXRlIFRlc3RgLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGRsZyxcbiAgICAgICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ29udGludWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IChjYW5jZWwgPSBmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAncm9sbCcsXG4gICAgICAgICAgICAgICAgY2xvc2U6IGFzeW5jIChodG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHQySWQ6IHN0cmluZyA9IEhlbHBlcnMucGFyc2VJbnB1dFRvU3RyaW5nKCQoaHRtbCkuZmluZCgnW25hbWU9YXR0cmlidXRlMl0nKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhdHQyOiBBdHRyaWJ1dGVGaWVsZCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dDJJZCAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHQyID0gYXR0c1thdHQySWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dDI/LmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChhdHQyLmxhYmVsLCBhdHQyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHQySWRMYWJlbCA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmF0dHJpYnV0ZXNbYXR0MklkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgKz0gYCArICR7YXR0MklkTGFiZWx9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0MklkID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5EZWZhdWx0aW5nJywgLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1hdHJpeFBhcnRzKHBhcnRzLCBbYXR0LCBhdHQyXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5hZHZhbmNlZFJvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IG9wdGlvbnM/LmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAke3RpdGxlfSBUZXN0YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHM6IHBhcnRzLmxpc3QsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9hZGRNYXRyaXhQYXJ0cyhwYXJ0czogUGFydHNMaXN0PG51bWJlcj4sIGF0dHMpIHtcbiAgICAgICAgaWYgKEhlbHBlcnMuaXNNYXRyaXgoYXR0cykpIHtcbiAgICAgICAgICAgIGNvbnN0IG0gPSB0aGlzLmRhdGEuZGF0YS5tYXRyaXg7XG4gICAgICAgICAgICBpZiAobS5ob3Rfc2ltKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuSG90U2ltJywgMik7XG4gICAgICAgICAgICBpZiAobS5ydW5uaW5nX3NpbGVudCkgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LlJ1bm5pbmdTaWxlbnQnLCAtMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZEdsb2JhbFBhcnRzKHBhcnRzOiBQYXJ0c0xpc3Q8bnVtYmVyPikge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmRhdGEubW9kaWZpZXJzLmdsb2JhbCkge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1Lkdsb2JhbCcsIHRoaXMuZGF0YS5kYXRhLm1vZGlmaWVycy5nbG9iYWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FkZERlZmVuc2VQYXJ0cyhwYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWZWhpY2xlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpbG90ID0gdGhpcy5maW5kVmVoaWNsZVN0YXQoJ3BpbG90Jyk7XG4gICAgICAgICAgICBpZiAocGlsb3QpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KHBpbG90LmxhYmVsLCBIZWxwZXJzLmNhbGNUb3RhbChwaWxvdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmdldFZlaGljbGVUeXBlU2tpbGwoKTtcbiAgICAgICAgICAgIGlmIChza2lsbCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5WZWhpY2xlLk1hbmV1dmVyaW5nJywgSGVscGVycy5jYWxjVG90YWwoc2tpbGwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWN0aW9uID0gdGhpcy5maW5kQXR0cmlidXRlKCdyZWFjdGlvbicpO1xuICAgICAgICAgICAgY29uc3QgaW50dWl0aW9uID0gdGhpcy5maW5kQXR0cmlidXRlKCdpbnR1aXRpb24nKTtcblxuICAgICAgICAgICAgaWYgKHJlYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChyZWFjdGlvbi5sYWJlbCB8fCAnU1I1LlJlYWN0aW9uJywgcmVhY3Rpb24udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludHVpdGlvbikge1xuICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoaW50dWl0aW9uLmxhYmVsIHx8ICdTUjUuSW50dWl0aW9uJywgaW50dWl0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0TW9kaWZpZXIoJ2RlZmVuc2UnKTtcbiAgICAgICAgaWYgKG1vZCkge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkJvbnVzJywgbW9kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZGRBcm1vclBhcnRzKHBhcnRzOiBQYXJ0c0xpc3Q8bnVtYmVyPikge1xuICAgICAgICBjb25zdCBhcm1vciA9IHRoaXMuZ2V0QXJtb3IoKTtcbiAgICAgICAgaWYgKGFybW9yKSB7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGFybW9yLmxhYmVsIHx8ICdTUjUuQXJtb3InLCBhcm1vci5iYXNlKTtcbiAgICAgICAgICAgIGZvciAobGV0IHBhcnQgb2YgYXJtb3IubW9kKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChwYXJ0Lm5hbWUsIHBhcnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FkZFNvYWtQYXJ0cyhwYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuZmluZEF0dHJpYnV0ZSgnYm9keScpO1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChib2R5LmxhYmVsIHx8ICdTUjUuQm9keScsIGJvZHkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0TW9kaWZpZXIoJ3NvYWsnKTtcbiAgICAgICAgaWYgKG1vZCkge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChcIlNSNS5Cb251c1wiLCBtb2QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FkZEFybW9yUGFydHMocGFydHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBwdXNoVGhlTGltaXQobGkpIHtcbiAgICAgICAgbGV0IG1zZzogQ2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChsaS5kYXRhKCkubWVzc2FnZUlkKTtcblxuICAgICAgICBpZiAobXNnLmdldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLk1lc3NhZ2VDdXN0b21Sb2xsKSkge1xuICAgICAgICAgICAgbGV0IGFjdG9yID0gKG1zZy51c2VyLmNoYXJhY3RlciBhcyB1bmtub3duKSBhcyBTUjVBY3RvcjtcbiAgICAgICAgICAgIGlmICghYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgY29udHJvbGxlZCB0b2tlbnNcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLmFjdG9yLm93bmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3IgPSB0b2tlbi5hY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LlB1c2hUaGVMaW1pdCcsIGFjdG9yLmdldEVkZ2UoKS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgU2hhZG93cnVuUm9sbGVyLmJhc2ljUm9sbCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgIC0gJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5QdXNoVGhlTGltaXQnKX1gLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgICAgICAgICAgYWN0b3I6IGFjdG9yLFxuICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY3Rvci51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEuYXR0cmlidXRlcy5lZGdlLnVzZXMnOiBhY3Rvci5nZXRFZGdlKCkudXNlcyAtIDEsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNlbGVjdFRva2VuTWVzc2FnZScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBzZWNvbmRDaGFuY2UobGkpIHtcbiAgICAgICAgbGV0IG1zZzogQ2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChsaS5kYXRhKCkubWVzc2FnZUlkKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsZXQgcm9sbDogUm9sbCA9IEpTT04ucGFyc2UobXNnLmRhdGE/LnJvbGwpO1xuICAgICAgICBsZXQgZm9ybXVsYSA9IHJvbGwuZm9ybXVsYTtcbiAgICAgICAgbGV0IGhpdHMgPSByb2xsLnRvdGFsO1xuICAgICAgICBsZXQgcmUgPSAvKFxcZCspZDYvO1xuICAgICAgICBsZXQgbWF0Y2hlcyA9IGZvcm11bGEubWF0Y2gocmUpO1xuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzWzFdKSB7XG4gICAgICAgICAgICBsZXQgbWF0Y2ggPSBtYXRjaGVzWzFdO1xuICAgICAgICAgICAgbGV0IHBvb2wgPSBwYXJzZUludChtYXRjaC5yZXBsYWNlKCdkNicsICcnKSk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBvb2wpICYmICFpc05hTihoaXRzKSkge1xuICAgICAgICAgICAgICAgIGxldCBhY3RvciA9IChtc2cudXNlci5jaGFyYWN0ZXIgYXMgdW5rbm93bikgYXMgU1I1QWN0b3I7XG4gICAgICAgICAgICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgY29udHJvbGxlZCB0b2tlbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gY2FudmFzLnRva2Vucy5jb250cm9sbGVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5hY3Rvci5vd25lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RvciA9IHRva2VuLmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5PcmlnaW5hbERpY2VQb29sJywgcG9vbCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5TdWNjZXNzZXMnLCAtaGl0cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNoYWRvd3J1blJvbGxlci5iYXNpY1JvbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAgLSBTZWNvbmQgQ2hhbmNlYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cy5saXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3I6IGFjdG9yLFxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEuYXR0cmlidXRlcy5lZGdlLnVzZXMnOiBhY3Rvci5nZXRFZGdlKCkudXNlcyAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU2VsZWN0VG9rZW5NZXNzYWdlJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHNldEZsYWcgdG8gcmVtb3ZlIHRoZSAnU1I1LicgZnJvbSBrZXlzIGluIG1vZGxpc3RzLCBvdGhlcndpc2UgaXQgaGFuZGxlcyB0aGVtIGFzIGVtYmVkZGVkIGtleXNcbiAgICAgKiBAcGFyYW0gc2NvcGVcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgc2V0RmxhZyhzY29wZTogc3RyaW5nLCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IFByb21pc2U8dGhpcz4ge1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IEhlbHBlcnMub25TZXRGbGFnKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldEZsYWcoc2NvcGUsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGdldEZsYWcgdG8gYWRkIGJhY2sgdGhlICdTUjUuJyBrZXlzIGNvcnJlY3RseSB0byBiZSBoYW5kbGVkXG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqL1xuICAgIGdldEZsYWcoc2NvcGU6IHN0cmluZywga2V5OiBzdHJpbmcpOiBhbnkge1xuICAgICAgICBjb25zdCBkYXRhID0gc3VwZXIuZ2V0RmxhZyhzY29wZSwga2V5KTtcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMub25HZXRGbGFnKGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IENodW1tZXJJbXBvcnRGb3JtIH0gZnJvbSAnLi4vYXBwcy9jaHVtbWVyLWltcG9ydC1mb3JtJztcbmltcG9ydCB7IFNraWxsRWRpdEZvcm0gfSBmcm9tICcuLi9hcHBzL3NraWxscy9Ta2lsbEVkaXRGb3JtJztcbmltcG9ydCB7IEtub3dsZWRnZVNraWxsRWRpdEZvcm0gfSBmcm9tICcuLi9hcHBzL3NraWxscy9Lbm93bGVkZ2VTa2lsbEVkaXRGb3JtJztcbmltcG9ydCB7IExhbmd1YWdlU2tpbGxFZGl0Rm9ybSB9IGZyb20gJy4uL2FwcHMvc2tpbGxzL0xhbmd1YWdlU2tpbGxFZGl0Rm9ybSc7XG5pbXBvcnQgU1I1QWN0b3JTaGVldERhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JTaGVldERhdGE7XG5pbXBvcnQgU1I1U2hlZXRGaWx0ZXJzID0gU2hhZG93cnVuLlNSNVNoZWV0RmlsdGVycztcbmltcG9ydCBTa2lsbHMgPSBTaGFkb3dydW4uU2tpbGxzO1xuaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuL1NSNUFjdG9yJztcbmltcG9ydCBNYXRyaXhBdHRyaWJ1dGUgPSBTaGFkb3dydW4uTWF0cml4QXR0cmlidXRlO1xuaW1wb3J0IHtTUjV9IGZyb20gXCIuLi9jb25maWdcIjtcbmltcG9ydCBTa2lsbEZpZWxkID0gU2hhZG93cnVuLlNraWxsRmllbGQ7XG5cbi8vIFVzZSBTUjVBY3RvclNoZWV0Ll9zaG93U2tpbGxFZGl0Rm9ybSB0byBvbmx5IGV2ZXIgcmVuZGVyIG9uZSBTa2lsbEVkaXRGb3JtIGluc3RhbmNlLlxuLy8gU2hvdWxkIG11bHRpcGxlIGluc3RhbmNlcyBiZSBvcGVuLCBGb3VuZHJ5IHdpbGwgY2F1c2UgY3Jvc3MgdGFsayBiZXR3ZWVuIHNraWxscyBhbmQgYWN0b3JzLFxuLy8gd2hlbiBvcGVuZWQgaW4gc3VjY2Vzc2lvbiwgY2F1c2luZyBTa2lsbEVkaXRGb3JtIHRvIHdyb25nZnVsbHkgb3ZlcndyaXRlIHRoZSB3cm9uZyBkYXRhLlxubGV0IGdsb2JhbFNraWxsQXBwSWQ6IG51bWJlciA9IC0xO1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgQWN0b3JTaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgU1I1QWN0b3JTaGVldCBleHRlbmRzIEFjdG9yU2hlZXQge1xuICAgIF9zaG93bkRlc2M6IHN0cmluZ1tdO1xuICAgIF9maWx0ZXJzOiBTUjVTaGVldEZpbHRlcnM7XG4gICAgYWN0b3I6IFNSNUFjdG9yO1xuICAgIF9zY3JvbGw6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgc2hlZXQgdGFiXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaG93bkRlc2MgPSBbXTtcbiAgICAgICAgdGhpcy5fZmlsdGVycyA9IHtcbiAgICAgICAgICAgIHNraWxsczogJycsXG4gICAgICAgICAgICBzaG93VW50cmFpbmVkU2tpbGxzOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSA1ZSBBY3RvciBTaGVldFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICAgICAgICBjbGFzc2VzOiBbJ3NyNScsICdzaGVldCcsICdhY3RvciddLFxuICAgICAgICAgICAgd2lkdGg6IDg4MCxcbiAgICAgICAgICAgIGhlaWdodDogNjkwLFxuICAgICAgICAgICAgdGFiczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmF2U2VsZWN0b3I6ICcudGFicycsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldGJvZHknLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsOiAnc2tpbGxzJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgICBjb25zdCBwYXRoID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvJztcbiAgICAgICAgcmV0dXJuIGAke3BhdGh9JHt0aGlzLmFjdG9yLmRhdGEudHlwZX0uaHRtbGA7XG4gICAgfVxuXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBBY3RvciBzaGVldFxuICAgICAqIFRoZSBwcmVwYXJlZCBkYXRhIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBhY3RvciBkYXRhIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBzaGVldCBvcHRpb25zXG4gICAgICovXG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgY29uc3QgZGF0YTogU1I1QWN0b3JTaGVldERhdGEgPSAoc3VwZXIuZ2V0RGF0YSgpIGFzIHVua25vd24pIGFzIFNSNUFjdG9yU2hlZXREYXRhO1xuXG4gICAgICAgIC8vIEdlbmVyYWwgcHVycG9zZSBmaWVsZHMuLi5cbiAgICAgICAgZGF0YS5jb25maWcgPSBDT05GSUcuU1I1O1xuICAgICAgICBkYXRhLmZpbHRlcnMgPSB0aGlzLl9maWx0ZXJzO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVNYXRyaXhBdHRyaWJ1dGVzKGRhdGEpO1xuICAgICAgICB0aGlzLl9wcmVwYXJlQWN0b3JBdHRyaWJ1dGVzKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVJdGVtcyhkYXRhKTtcbiAgICAgICAgdGhpcy5fcHJlcGFyZVNraWxsc1dpdGhGaWx0ZXJzKGRhdGEpO1xuICAgICAgICB0aGlzLl9wcmVwYXJlQWN0b3JUeXBlRmllbGRzKGRhdGEpO1xuICAgICAgICB0aGlzLl9wcmVwYXJlQ2hhcmFjdGVyRmllbGRzKGRhdGEpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIF9pc1NraWxsTWFnaWMoaWQsIHNraWxsKSB7XG4gICAgICAgIHJldHVybiBza2lsbC5hdHRyaWJ1dGUgPT09ICdtYWdpYycgfHwgaWQgPT09ICdhc3RyYWxfY29tYmF0JyB8fCBpZCA9PT0gJ2Fzc2Vuc2luZyc7XG4gICAgfVxuXG4gICAgX2lzU2tpbGxSZXNvbmFuY2Uoc2tpbGwpIHtcbiAgICAgICAgcmV0dXJuIHNraWxsLmF0dHJpYnV0ZSA9PT0gJ3Jlc29uYW5jZSdcbiAgICB9XG5cbiAgICBfZ2V0U2tpbGxMYWJlbE9yTmFtZShza2lsbCkge1xuICAgICAgICAvLyBDdXN0b20gc2tpbGxzIGRvbid0IGhhdmUgbGFiZWxzLCB1c2UgdGhlaXIgbmFtZSBpbnN0ZWFkLlxuICAgICAgICByZXR1cm4gc2tpbGwubGFiZWwgPyBnYW1lLmkxOG4ubG9jYWxpemUoc2tpbGwubGFiZWwpIDogc2tpbGwubmFtZTtcbiAgICB9XG5cbiAgICBfZG9lc1NraWxsQ29udGFpblRleHQoa2V5LCBza2lsbCwgdGV4dCkge1xuICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VhcmNoIGJvdGggZW5nbGlzaCBrZXlzLCBsb2NhbGl6ZWQgbGFiZWxzIGFuZCBhbGwgc3BlY2lhbGl6YXRpb25zLlxuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5fZ2V0U2tpbGxMYWJlbE9yTmFtZShza2lsbCk7XG4gICAgICAgIGNvbnN0IHNlYXJjaEtleSA9IHNraWxsLm5hbWUgPT09IHVuZGVmaW5lZCA/IGtleSA6ICcnO1xuICAgICAgICBsZXQgc2VhcmNoU3RyaW5nID0gYCR7c2VhcmNoS2V5fSAke25hbWV9ICR7c2tpbGw/LnNwZWNzPy5qb2luKCcgJyl9YDtcblxuICAgICAgICByZXR1cm4gc2VhcmNoU3RyaW5nLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHRleHQudG9Mb3dlckNhc2UoKSkgPiAtMTtcbiAgICB9XG5cbiAgICBfcHJlcGFyZUNoYXJhY3RlckZpZWxkcyhkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICAvLyBFbXB0eSB6ZXJvIHZhbHVlIG1vZGlmaWVycyBmb3IgZGlzcGxheSBwdXJwb3Nlcy5cbiAgICAgICAgY29uc3QgeyBtb2RpZmllcnM6IG1vZHMgfSA9IGRhdGEuZGF0YTtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1vZHMpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IDApIG1vZHNba2V5XSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5hd2FrZW5lZCA9IGRhdGEuZGF0YS5zcGVjaWFsID09PSAnbWFnaWMnO1xuICAgICAgICBkYXRhLmVtZXJnZWQgPSBkYXRhLmRhdGEuc3BlY2lhbCA9PT0gJ3Jlc29uYW5jZSc7XG4gICAgICAgIGRhdGEud291bmRUb2xlcmFuY2UgPSAzICsgKE51bWJlcihtb2RzWyd3b3VuZF90b2xlcmFuY2UnXSkgfHwgMCk7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVBY3RvclR5cGVGaWVsZHMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEpIHtcbiAgICAgICAgZGF0YS5pc0NoYXJhY3RlciA9IHRoaXMuYWN0b3IuZGF0YS50eXBlID09PSAnY2hhcmFjdGVyJztcbiAgICAgICAgZGF0YS5pc1NwaXJpdCA9IHRoaXMuYWN0b3IuZGF0YS50eXBlID09PSAnc3Bpcml0JztcbiAgICB9XG5cbiAgICBfcHJlcGFyZU1hdHJpeEF0dHJpYnV0ZXMoZGF0YSkge1xuICAgICAgICBjb25zdCB7IG1hdHJpeCB9ID0gZGF0YS5kYXRhO1xuICAgICAgICBpZiAobWF0cml4KSB7XG4gICAgICAgICAgICBjb25zdCBjbGVhbnVwQXR0cmlidXRlID0gKGF0dHJpYnV0ZTogTWF0cml4QXR0cmlidXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ID0gbWF0cml4W2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgaWYgKGF0dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dC5tb2QpIGF0dC5tb2QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dC50ZW1wID09PSAwKSBkZWxldGUgYXR0LnRlbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgWydmaXJld2FsbCcsICdkYXRhX3Byb2Nlc3NpbmcnLCAnc2xlYXplJywgJ2F0dGFjayddLmZvckVhY2goKGF0dDogTWF0cml4QXR0cmlidXRlKSA9PiBjbGVhbnVwQXR0cmlidXRlKGF0dCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3ByZXBhcmVBY3RvckF0dHJpYnV0ZXMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEpIHtcbiAgICAgICAgLy8gQ2xlYXIgdmlzaWJsZSwgemVybyB2YWx1ZSBhdHRyaWJ1dGVzIHRlbXBvcmFyeSBtb2RpZmllcnMgc28gdGhleSBhcHBlYXIgYmxhbmsuXG4gICAgICAgIGNvbnN0IGF0dHJzID0gZGF0YS5kYXRhLmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAobGV0IFssIGF0dF0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cnMpKSB7XG4gICAgICAgICAgICBpZiAoIWF0dC5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRlbXAgPT09IDApIGRlbGV0ZSBhdHQudGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wcmVwYXJlU2tpbGxzV2l0aEZpbHRlcnMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEpIHtcbiAgICAgICAgdGhpcy5fZmlsdGVyQWN0aXZlU2tpbGxzKGRhdGEpO1xuICAgICAgICB0aGlzLl9maWx0ZXJLbm93bGVkZ2VTa2lsbHMoZGF0YSk7XG4gICAgICAgIHRoaXMuX2ZpbHRlckxhbmd1YWdlU2tpbGxzKGRhdGEpO1xuICAgIH1cblxuICAgIF9maWx0ZXJBY3RpdmVTa2lsbHMoZGF0YTogU1I1QWN0b3JTaGVldERhdGEpIHtcbiAgICAgICAgLy8gSGFuZGxlIGFjdGl2ZSBza2lsbHMgZGlyZWN0bHksIGFzIGl0IGRvZXNuJ3QgdXNlIHN1Yi1jYXRlZ29yaWVzLlxuICAgICAgICBkYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZSA9IHRoaXMuX2ZpbHRlclNraWxscyhkYXRhLCBkYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZSk7XG4gICAgfVxuXG4gICAgX2ZpbHRlcktub3dsZWRnZVNraWxscyhkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICAvLyBLbm93bGVkZ2Ugc2tpbGwgaGF2ZSBzZXBhcmF0ZSBzdWItY2F0ZWdvcmllcy5cbiAgICAgICAgT2JqZWN0LmtleXMoU1I1Lmtub3dsZWRnZVNraWxsQ2F0ZWdvcmllcykuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRhdGEuZGF0YS5za2lsbHMua25vd2xlZGdlLmhhc093blByb3BlcnR5KGNhdGVnb3J5KSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgS25vd2xlZGdlIFNraWxsIGRvZXNuJ3QgcHJvdmlkZSBjb25maWd1cmVkIGNhdGVnb3J5ICR7Y2F0ZWdvcnl9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5kYXRhLnNraWxscy5rbm93bGVkZ2VbY2F0ZWdvcnldLnZhbHVlID0gdGhpcy5fZmlsdGVyU2tpbGxzKGRhdGEsIGRhdGEuZGF0YS5za2lsbHMua25vd2xlZGdlW2NhdGVnb3J5XS52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9maWx0ZXJMYW5ndWFnZVNraWxscyhkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICAvLyBMYW5ndWFnZSBTa2lsbHMgaGF2ZSBubyBzdWItY2F0ZWdvcmllcy5cbiAgICAgICAgZGF0YS5kYXRhLnNraWxscy5sYW5ndWFnZS52YWx1ZSA9IHRoaXMuX2ZpbHRlclNraWxscyhkYXRhLCBkYXRhLmRhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlKTtcbiAgICB9XG5cbiAgICBfZmlsdGVyU2tpbGxzKGRhdGE6IFNSNUFjdG9yU2hlZXREYXRhLCBza2lsbHM6IFNraWxscykge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFNraWxscyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBba2V5LCBza2lsbF0gb2YgT2JqZWN0LmVudHJpZXMoc2tpbGxzKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Nob3dTa2lsbChrZXksIHNraWxsLCBkYXRhKSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkU2tpbGxzW2tleV0gPSBza2lsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBIZWxwZXJzLm9yZGVyS2V5cyhmaWx0ZXJlZFNraWxscyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFNraWxsc1xuICAgIH1cblxuICAgIF9zaG93U2tpbGwoa2V5LCBza2lsbCwgZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5fc2hvd01hZ2ljU2tpbGxzKGtleSwgc2tpbGwsIGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc2hvd1Jlc29uYW5jZVNraWxscyhrZXksIHNraWxsLCBkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fc2hvd0dlbmVyYWxTa2lsbChrZXksIHNraWxsKTtcbiAgICB9XG5cbiAgICBfaXNTa2lsbEZpbHRlcmVkKHNraWxsSWQsIHNraWxsKSB7XG4gICAgICAgIC8vIGEgbmV3bHkgY3JlYXRlZCBza2lsbCBzaG91bGQgYmUgZmlsdGVyZWQsIG5vIG1hdHRlciB3aGF0LlxuICAgICAgICBjb25zdCBpc0ZpbHRlcmFibGUgPSB0aGlzLl9nZXRTa2lsbExhYmVsT3JOYW1lKHNraWxsKS5sZW5ndGggPiAwO1xuICAgICAgICBjb25zdCBpc0hpZGRlbkZvclRleHQgPSAhdGhpcy5fZG9lc1NraWxsQ29udGFpblRleHQoc2tpbGxJZCwgc2tpbGwsIHRoaXMuX2ZpbHRlcnMuc2tpbGxzKTtcbiAgICAgICAgY29uc3QgaXNIaWRkZW5Gb3JVbnRyYWluZWQgPSAhdGhpcy5fZmlsdGVycy5zaG93VW50cmFpbmVkU2tpbGxzICYmIHNraWxsLnZhbHVlID09PSAwO1xuXG4gICAgICAgIHJldHVybiAhKGlzRmlsdGVyYWJsZSAmJiAoaXNIaWRkZW5Gb3JVbnRyYWluZWQgfHwgaXNIaWRkZW5Gb3JUZXh0KSlcbiAgICB9XG5cbiAgICBfc2hvd0dlbmVyYWxTa2lsbChza2lsbElkLCBza2lsbDogU2tpbGxGaWVsZCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuX2lzU2tpbGxNYWdpYyhza2lsbElkLCBza2lsbCkgJiZcbiAgICAgICAgICAgICAgICF0aGlzLl9pc1NraWxsUmVzb25hbmNlKHNraWxsKSAmJlxuICAgICAgICAgICAgICAgdGhpcy5faXNTa2lsbEZpbHRlcmVkKHNraWxsSWQsIHNraWxsKTtcbiAgICB9XG5cbiAgICBfc2hvd01hZ2ljU2tpbGxzKHNraWxsSWQsIHNraWxsOiBTa2lsbEZpZWxkLCBkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTa2lsbE1hZ2ljKHNraWxsSWQsIHNraWxsKSAmJlxuICAgICAgICAgICAgICBkYXRhLmRhdGEuc3BlY2lhbCA9PT0gJ21hZ2ljJyAmJlxuICAgICAgICAgICAgICB0aGlzLl9pc1NraWxsRmlsdGVyZWQoc2tpbGxJZCwgc2tpbGwpO1xuICAgIH1cblxuICAgIF9zaG93UmVzb25hbmNlU2tpbGxzKHNraWxsSWQsIHNraWxsOiBTa2lsbEZpZWxkLCBkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTa2lsbFJlc29uYW5jZShza2lsbCkgJiZcbiAgICAgICAgICAgICAgIGRhdGEuZGF0YS5zcGVjaWFsID09PSAncmVzb25hbmNlJyAmJlxuICAgICAgICAgICAgICAgdGhpcy5faXNTa2lsbEZpbHRlcmVkKHNraWxsSWQsIHNraWxsKTtcbiAgICB9XG5cbiAgICBfcHJlcGFyZUl0ZW1zKGRhdGEpIHtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5ID0ge307XG4gICAgICAgIGludmVudG9yeVsnd2VhcG9uJ10gPSB7XG4gICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuV2VhcG9uJyksXG4gICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgICBkYXRhc2V0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3dlYXBvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5hY3Rvci5kYXRhLnR5cGUgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICAgICAgICBpbnZlbnRvcnlbJ2FybW9yJ10gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkFybW9yJyksXG4gICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgICAgICAgIGRhdGFzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FybW9yJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGludmVudG9yeVsnZGV2aWNlJ10gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRldmljZScpLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgICAgICBkYXRhc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZXZpY2UnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW52ZW50b3J5WydlcXVpcG1lbnQnXSA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRXF1aXBtZW50JyksXG4gICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgICAgICAgIGRhdGFzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VxdWlwbWVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbnZlbnRvcnlbJ2N5YmVyd2FyZSddID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DeWJlcndhcmUnKSxcbiAgICAgICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgICAgICAgZGF0YXNldDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3liZXJ3YXJlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBbXG4gICAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICAgIHNwZWxscyxcbiAgICAgICAgICAgIHF1YWxpdGllcyxcbiAgICAgICAgICAgIGFkZXB0X3Bvd2VycyxcbiAgICAgICAgICAgIGFjdGlvbnMsXG4gICAgICAgICAgICBjb21wbGV4X2Zvcm1zLFxuICAgICAgICAgICAgbGlmZXN0eWxlcyxcbiAgICAgICAgICAgIGNvbnRhY3RzLFxuICAgICAgICAgICAgc2lucyxcbiAgICAgICAgICAgIHByb2dyYW1zLFxuICAgICAgICAgICAgY3JpdHRlcl9wb3dlcnMsXG4gICAgICAgICAgICBzcHJpdGVfcG93ZXJzLFxuICAgICAgICBdID0gZGF0YS5pdGVtcy5yZWR1Y2UoXG4gICAgICAgICAgICAoYXJyLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbS5pc1N0YWNrID0gaXRlbS5kYXRhLnF1YW50aXR5ID8gaXRlbS5kYXRhLnF1YW50aXR5ID4gMSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzcGVsbCcpIGFyclsxXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3F1YWxpdHknKSBhcnJbMl0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdhZGVwdF9wb3dlcicpIGFyclszXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2FjdGlvbicpIGFycls0XS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2NvbXBsZXhfZm9ybScpIGFycls1XS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2xpZmVzdHlsZScpIGFycls2XS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2NvbnRhY3QnKSBhcnJbN10ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzaW4nKSBhcnJbOF0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdwcm9ncmFtJykgYXJyWzldLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS50eXBlID09PSAnY3JpdHRlcl9wb3dlcicpIGFyclsxMF0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzcHJpdGVfcG93ZXInKSBhcnJbMTFdLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoT2JqZWN0LmtleXMoaW52ZW50b3J5KS5pbmNsdWRlcyhpdGVtLnR5cGUpKSBhcnJbMF0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdXSxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzb3J0QnlOYW1lID0gKGkxLCBpMikgPT4ge1xuICAgICAgICAgICAgaWYgKGkxLm5hbWUgPiBpMi5uYW1lKSByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChpMS5uYW1lIDwgaTIubmFtZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNvcnRCeUVxdWlwcGVkID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0RXF1aXBwZWQgPSBsZWZ0LmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkO1xuICAgICAgICAgICAgY29uc3QgcmlnaHRFcXVpcHBlZCA9IHJpZ2h0LmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkO1xuICAgICAgICAgICAgaWYgKGxlZnRFcXVpcHBlZCAmJiAhcmlnaHRFcXVpcHBlZCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKHJpZ2h0RXF1aXBwZWQgJiYgIWxlZnRFcXVpcHBlZCkgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lID4gcmlnaHQubmFtZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lIDwgcmlnaHQubmFtZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH07XG4gICAgICAgIGFjdGlvbnMuc29ydChzb3J0QnlOYW1lKTtcbiAgICAgICAgYWRlcHRfcG93ZXJzLnNvcnQoc29ydEJ5TmFtZSk7XG4gICAgICAgIGNvbXBsZXhfZm9ybXMuc29ydChzb3J0QnlOYW1lKTtcbiAgICAgICAgaXRlbXMuc29ydChzb3J0QnlFcXVpcHBlZCk7XG4gICAgICAgIHNwZWxscy5zb3J0KHNvcnRCeU5hbWUpO1xuICAgICAgICBjb250YWN0cy5zb3J0KHNvcnRCeU5hbWUpO1xuICAgICAgICBsaWZlc3R5bGVzLnNvcnQoc29ydEJ5TmFtZSk7XG4gICAgICAgIHNpbnMuc29ydChzb3J0QnlOYW1lKTtcbiAgICAgICAgcHJvZ3JhbXMuc29ydChzb3J0QnlFcXVpcHBlZCk7XG4gICAgICAgIGNyaXR0ZXJfcG93ZXJzLnNvcnQoc29ydEJ5TmFtZSk7XG4gICAgICAgIHNwcml0ZV9wb3dlcnMuc29ydChzb3J0QnlOYW1lKTtcblxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpbnZlbnRvcnlbaXRlbS50eXBlXS5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBkYXRhLmludmVudG9yeSA9IE9iamVjdC52YWx1ZXMoaW52ZW50b3J5KTtcbiAgICAgICAgZGF0YS5tYWdpYyA9IHtcbiAgICAgICAgICAgIHNwZWxsYm9vazogc3BlbGxzLFxuICAgICAgICAgICAgcG93ZXJzOiBhZGVwdF9wb3dlcnMsXG4gICAgICAgIH07XG4gICAgICAgIGRhdGEuYWN0aW9ucyA9IGFjdGlvbnM7XG4gICAgICAgIGRhdGEuY29tcGxleF9mb3JtcyA9IGNvbXBsZXhfZm9ybXM7XG4gICAgICAgIGRhdGEubGlmZXN0eWxlcyA9IGxpZmVzdHlsZXM7XG4gICAgICAgIGRhdGEuY29udGFjdHMgPSBjb250YWN0cztcbiAgICAgICAgZGF0YS5zaW5zID0gc2lucztcbiAgICAgICAgZGF0YS5wcm9ncmFtcyA9IHByb2dyYW1zO1xuICAgICAgICBkYXRhLmNyaXR0ZXJfcG93ZXJzID0gY3JpdHRlcl9wb3dlcnM7XG4gICAgICAgIGRhdGEuc3ByaXRlX3Bvd2VycyA9IHNwcml0ZV9wb3dlcnM7XG5cbiAgICAgICAgcXVhbGl0aWVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLmRhdGEudHlwZSA9PT0gJ3Bvc2l0aXZlJyAmJiBiLmRhdGEudHlwZSA9PT0gJ25lZ2F0aXZlJykgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEuZGF0YS50eXBlID09PSAnbmVnYXRpdmUnICYmIGIuZGF0YS50eXBlID09PSAncG9zaXRpdmUnKSByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7XG4gICAgICAgIH0pO1xuICAgICAgICBkYXRhLnF1YWxpdGllcyA9IHF1YWxpdGllcztcbiAgICB9XG5cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXG4gICAgICogQHBhcmFtIGh0bWwgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgICAqL1xuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuaGlkZGVuJykuaGlkZSgpO1xuXG4gICAgICAgIGh0bWwuZmluZCgnLmhhcy1kZXNjJykuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLmxpc3QtaXRlbScpO1xuICAgICAgICAgICAgY29uc3QgaWlkID0gJChpdGVtKS5kYXRhKCkuaXRlbTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gaXRlbS5uZXh0KCk7XG4gICAgICAgICAgICBmaWVsZC50b2dnbGUoKTtcbiAgICAgICAgICAgIGlmIChpaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXMoJzp2aXNpYmxlJykpIHRoaXMuX3Nob3duRGVzYy5wdXNoKGlpZCk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLl9zaG93bkRlc2MgPSB0aGlzLl9zaG93bkRlc2MuZmlsdGVyKCh2YWwpID0+IHZhbCAhPT0gaWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuc2tpbGwtaGVhZGVyJykuY2xpY2sodGhpcy5fb25GaWx0ZXJVbnRyYWluZWRTa2lsbHMuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuY2VsbC1pbnB1dC1yb2xsJykuY2xpY2sodGhpcy5fb25Sb2xsQ2VsbElucHV0LmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5hdHRyaWJ1dGUtcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbEF0dHJpYnV0ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuc2tpbGwtcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbEFjdGl2ZVNraWxsLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGh0bWwuZmluZCgnI2ZpbHRlci1za2lsbHMnKS5vbignaW5wdXQnLCB0aGlzLl9vbkZpbHRlclNraWxscy5iaW5kKHRoaXMpKTtcblxuICAgICAgICBodG1sLmZpbmQoJy5za2lsbC1lZGl0JykuY2xpY2sodGhpcy5fb25TaG93RWRpdFNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5rbm93bGVkZ2Utc2tpbGwtZWRpdCcpLmNsaWNrKHRoaXMuX29uU2hvd0VkaXRLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcubGFuZ3VhZ2Utc2tpbGwtZWRpdCcpLmNsaWNrKHRoaXMuX29uU2hvd0VkaXRMYW5ndWFnZVNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5hZGQta25vd2xlZGdlJykuY2xpY2sodGhpcy5fb25BZGRLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuYWRkLWxhbmd1YWdlJykuY2xpY2sodGhpcy5fb25BZGRMYW5ndWFnZVNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5yZW1vdmUta25vd2xlZGdlJykuY2xpY2sodGhpcy5fb25SZW1vdmVLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcucmVtb3ZlLWxhbmd1YWdlJykuY2xpY2sodGhpcy5fb25SZW1vdmVMYW5ndWFnZVNraWxsLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5rbm93bGVkZ2Utc2tpbGwnKS5jbGljayh0aGlzLl9vblJvbGxLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcubGFuZ3VhZ2Utc2tpbGwnKS5jbGljayh0aGlzLl9vblJvbGxMYW5ndWFnZVNraWxsLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbEl0ZW0uYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tZXF1aXAtdG9nZ2xlJykuY2xpY2sodGhpcy5fb25FcXVpcEl0ZW0uYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tcXR5JykuY2hhbmdlKHRoaXMuX29uQ2hhbmdlUXR5LmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5pdGVtLXJ0ZycpLmNoYW5nZSh0aGlzLl9vbkNoYW5nZVJ0Zy5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuaXRlbS1jcmVhdGUnKS5jbGljayh0aGlzLl9vbkl0ZW1DcmVhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLnJlbG9hZC1hbW1vJykuY2xpY2sodGhpcy5fb25SZWxvYWRBbW1vLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5tYXRyaXgtYXR0LXNlbGVjdG9yJykuY2hhbmdlKHRoaXMuX29uTWF0cml4QXR0cmlidXRlU2VsZWN0ZWQuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuaW1wb3J0LWNoYXJhY3RlcicpLmNsaWNrKHRoaXMuX29uU2hvd0ltcG9ydENoYXJhY3Rlci5iaW5kKHRoaXMpKTtcblxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9wZW4gdGhlIFBERiBmb3IgYW4gaXRlbSBvbiB0aGUgYWN0b3JcbiAgICAgICAgICovXG4gICAgICAgICQoaHRtbClcbiAgICAgICAgICAgIC5maW5kKCcub3Blbi1zb3VyY2UtcGRmJylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcubGlzdC1pdGVtJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaWlkID0gJChmaWVsZCkuZGF0YSgpLml0ZW1JZDtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZFNSNUl0ZW0oaWlkKTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpdGVtLm9wZW5QZGZTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkKGh0bWwpLmZpbmQoJy5ob3Jpem9udGFsLWNlbGwtaW5wdXQgLmNlbGwnKS5vbignY2xpY2snLCB0aGlzLl9vblNldENlbGxJbnB1dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgJChodG1sKS5maW5kKCcuaG9yaXpvbnRhbC1jZWxsLWlucHV0IC5jZWxsJykub24oJ2NvbnRleHRtZW51JywgdGhpcy5fb25DbGVhckNlbGxJbnB1dC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTmV3IEFQSSB0byB1c2UgZm9yIHJvbGxpbmcgZnJvbSB0aGUgYWN0b3Igc2hlZXRcbiAgICAgICAgICogdGhlIGNsaWNrYWJsZSBsYWJlbCBuZWVkcyB0aGUgY3NzIGNsYXNzIFJvbGxcbiAgICAgICAgICogYSBwYXJlbnQgb2YgdGhlIGxhYmVsIG5lZWRzIHRvIGhhdmUgdGhlIGNzcyBjbGFzcyBSb2xsSWQsIGFuZCB0aGVuIGhhdmUgZGF0YS1yb2xsLWlkIHNldFxuICAgICAgICAgKi9cbiAgICAgICAgJChodG1sKS5maW5kKCcuUm9sbCcpLm9uKCdjbGljaycsIHRoaXMuX29uUm9sbEZyb21TaGVldC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvLyB1cGRhdGVzIG1hdHJpeCBjb25kaXRpb24gbW9uaXRvciBvbiB0aGUgZGV2aWNlIHRoZSBhY3RvciBoYXMgZXF1aXBwZVxuICAgICAgICAkKGh0bWwpXG4gICAgICAgICAgICAuZmluZCgnW25hbWU9XCJkYXRhLm1hdHJpeC5jb25kaXRpb25fbW9uaXRvci52YWx1ZVwiXScpXG4gICAgICAgICAgICAub24oJ2NoYW5nZScsIGFzeW5jIChldmVudDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IEhlbHBlcnMucGFyc2VJbnB1dFRvTnVtYmVyKGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeERldmljZSA9IHRoaXMuYWN0b3IuZ2V0TWF0cml4RGV2aWNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdHJpeERldmljZSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS50ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlJ10gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbWF0cml4RGV2aWNlLnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGUgSW52ZW50b3J5IEl0ZW1cbiAgICAgICAgaHRtbC5maW5kKCcuaXRlbS1lZGl0JykuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgaWlkID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkU1I1SXRlbShpaWQpO1xuICAgICAgICAgICAgaWYgKGl0ZW0pIGl0ZW0uc2hlZXQucmVuZGVyKHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRGVsZXRlIEludmVudG9yeSBJdGVtXG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tZGVsZXRlJykuY2xpY2soKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgaWlkID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcubGlzdC1pdGVtJyk7XG4gICAgICAgICAgICB0aGlzLmFjdG9yLmRlbGV0ZU93bmVkSXRlbShpaWQpO1xuICAgICAgICAgICAgZWwuc2xpZGVVcCgyMDAsICgpID0+IHRoaXMucmVuZGVyKGZhbHNlKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEcmFnIGludmVudG9yeSBpdGVtXG4gICAgICAgIGxldCBoYW5kbGVyID0gKGV2KSA9PiB0aGlzLl9vbkRyYWdJdGVtU3RhcnQoZXYpO1xuICAgICAgICBodG1sLmZpbmQoJy5saXN0LWl0ZW0nKS5lYWNoKChpLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5kYXRhc2V0ICYmIGl0ZW0uZGF0YXNldC5pdGVtSWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJvbGxGcm9tU2hlZXQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gbG9vayBmb3Igcm9sbCBpZCBkYXRhIGluIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgbGV0IHJvbGxJZCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgpPy5yb2xsSWQ7XG4gICAgICAgIC8vIGlmIHRoYXQgZG9lc24ndCBleGlzdCwgbG9vayBmb3IgYSBwcmVudCB3aXRoIFJvbGxJZCBuYW1lXG4gICAgICAgIHJvbGxJZCA9IHJvbGxJZCA/PyAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudCgnLlJvbGxJZCcpLmRhdGEoKS5yb2xsSWQ7XG5cbiAgICAgICAgY29uc3Qgc3BsaXQgPSByb2xsSWQuc3BsaXQoJy4nKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgZXZlbnQgfTtcbiAgICAgICAgc3dpdGNoIChzcGxpdFswXSkge1xuICAgICAgICAgICAgY2FzZSAncHJvbXB0LXJvbGwnOlxuICAgICAgICAgICAgICAgIHRoaXMuYWN0b3IucHJvbXB0Um9sbChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FybW9yJzpcbiAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLnJvbGxBcm1vcihvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ZhZGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuYWN0b3Iucm9sbEZhZGUob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkcmFpbic6XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsRHJhaW4ob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWZlbnNlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLnJvbGxEZWZlbnNlKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGFtYWdlLXJlc2lzdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsU29hayhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gYXR0cmlidXRlIG9ubHkgcm9sbHNcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBvc3VyZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsQXR0cmlidXRlc1Rlc3QoJ2NvbXBvc3VyZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnanVkZ2UtaW50ZW50aW9ucyc6XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsQXR0cmlidXRlc1Rlc3QoJ2p1ZGdlX2ludGVudGlvbnMnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xpZnQtY2FycnknOlxuICAgICAgICAgICAgICAgIHRoaXMuYWN0b3Iucm9sbEF0dHJpYnV0ZXNUZXN0KCdsaWZ0X2NhcnJ5Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtZW1vcnknOlxuICAgICAgICAgICAgICAgIHRoaXMuYWN0b3Iucm9sbEF0dHJpYnV0ZXNUZXN0KCdtZW1vcnknKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndmVoaWNsZS1zdGF0JzpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncm9sbCB2ZWhpY2xlIHN0YXQnLCByb2xsSWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkcm9uZSc6XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IHNwbGl0WzFdOyAvLyB3ZSBleHBlY3QgYW5vdGhlciBmb3IgXCJkcm9uZVwiIGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BlcmNlcHRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsRHJvbmVQZXJjZXB0aW9uKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luZmlsdHJhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLnJvbGxEcm9uZUluZmlsdHJhdGlvbihvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwaWxvdC12ZWhpY2xlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0b3Iucm9sbFBpbG90VmVoaWNsZShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIGVuZCBkcm9uZVxuXG4gICAgICAgICAgICBjYXNlICdhdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHNwbGl0WzFdO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsQXR0cmlidXRlKGF0dHJpYnV0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gZW5kIGF0dHJpYnV0ZVxuXG4gICAgICAgICAgICBjYXNlICdza2lsbCc6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpbGxUeXBlID0gc3BsaXRbMV07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChza2lsbFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWN0aXZlJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpbGxJZCA9IHNwbGl0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsQWN0aXZlU2tpbGwoc2tpbGxJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdsYW5ndWFnZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsSWQgPSBzcGxpdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0b3Iucm9sbExhbmd1YWdlU2tpbGwoc2tpbGxJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdrbm93bGVkZ2UnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHNwbGl0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpbGxJZCA9IHNwbGl0WzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsS25vd2xlZGdlU2tpbGwoY2F0ZWdvcnksIHNraWxsSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBlbmQgc2tpbGxcblxuICAgICAgICAgICAgY2FzZSAnbWF0cml4JzpcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJrZXkgPSBzcGxpdFsxXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN1YmtleSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0ciA9IHNwbGl0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsTWF0cml4QXR0cmlidXRlKGF0dHIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RldmljZS1yYXRpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yb2xsRGV2aWNlUmF0aW5nKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBlbmQgbWF0cml4XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXR1cCBza2lsbCBuYW1lIGZpbHRlciB3aXRoaW4gZ2V0RGF0YVxuICAgIGFzeW5jIF9vbkZpbHRlclNraWxscyhldmVudCkge1xuICAgICAgICB0aGlzLl9maWx0ZXJzLnNraWxscyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgdW50cmFpbmVkIHNraWxsIGZpbHRlciB3aXRoaW4gZ2V0RGF0YVxuICAgIGFzeW5jIF9vbkZpbHRlclVudHJhaW5lZFNraWxscyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9maWx0ZXJzLnNob3dVbnRyYWluZWRTa2lsbHMgPSAhdGhpcy5fZmlsdGVycy5zaG93VW50cmFpbmVkU2tpbGxzO1xuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJlbG9hZEFtbW8oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgaWlkID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuZ2V0T3duZWRTUjVJdGVtKGlpZCk7XG4gICAgICAgIGlmIChpdGVtKSByZXR1cm4gaXRlbS5yZWxvYWRBbW1vKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uTWF0cml4QXR0cmlidXRlU2VsZWN0ZWQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGlpZCA9IHRoaXMuYWN0b3IuZGF0YS5kYXRhLm1hdHJpeC5kZXZpY2U7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZFNSNUl0ZW0oaWlkKTtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgZmluZCBpdGVtJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ3JhYiBtYXRyaXggYXR0cmlidXRlIChzbGVhemUsIGF0dGFjaywgZXRjLilcbiAgICAgICAgbGV0IGF0dCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hdHQ7XG4gICAgICAgIC8vIGdyYWIgZGV2aWNlIGF0dHJpYnV0ZSAoYXR0MSwgYXR0MiwgLi4uKVxuICAgICAgICBsZXQgZGV2aWNlQXR0ID0gZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZTtcblxuICAgICAgICAvLyBnZXQgY3VycmVudCBtYXRyaXggYXR0cmlidXRlIG9uIHRoZSBkZXZpY2VcbiAgICAgICAgbGV0IG9sZFZhbCA9IGl0ZW0uZGF0YS5kYXRhLmF0dHNbZGV2aWNlQXR0XS5hdHQ7XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgX2lkOiBpaWQsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZ28gdGhyb3VnaCBhdHRzIG9uIGRldmljZSwgc2V0dXAgbWF0cml4IGF0dHJpYnV0ZXMgb24gaXRcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdG1wID0gYGF0dCR7aX1gO1xuICAgICAgICAgICAgbGV0IGtleSA9IGBkYXRhLmF0dHMuYXR0JHtpfS5hdHRgO1xuICAgICAgICAgICAgaWYgKHRtcCA9PT0gZGV2aWNlQXR0KSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gYXR0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRhdGEuZGF0YS5hdHRzW2BhdHQke2l9YF0uYXR0ID09PSBhdHQpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSBvbGRWYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci51cGRhdGVPd25lZEl0ZW0oZGF0YSk7XG4gICAgfVxuXG4gICAgX29uSXRlbUNyZWF0ZShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0eXBlID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XG4gICAgICAgICAgICBuYW1lOiBgTmV3ICR7dHlwZX1gLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3IuY3JlYXRlT3duZWRJdGVtKGl0ZW1EYXRhLCB7IHJlbmRlclNoZWV0OiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkFkZExhbmd1YWdlU2tpbGwoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5hY3Rvci5hZGRMYW5ndWFnZVNraWxsKHsgbmFtZTogJycgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUmVtb3ZlTGFuZ3VhZ2VTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBza2lsbElkID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgdGhpcy5hY3Rvci5yZW1vdmVMYW5ndWFnZVNraWxsKHNraWxsSWQpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkFkZEtub3dsZWRnZVNraWxsKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgdGhpcy5hY3Rvci5hZGRLbm93bGVkZ2VTa2lsbChjYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUmVtb3ZlS25vd2xlZGdlU2tpbGwoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgW3NraWxsSWQsIGNhdGVnb3J5XSA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCkuc3BsaXQoJy4nKTtcbiAgICAgICAgdGhpcy5hY3Rvci5yZW1vdmVLbm93bGVkZ2VTa2lsbChza2lsbElkLCBjYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQ2hhbmdlUnRnKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGlpZCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkU1I1SXRlbShpaWQpO1xuICAgICAgICBjb25zdCBydGcgPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZW0gJiYgcnRnKSB7XG4gICAgICAgICAgICBpdGVtLnVwZGF0ZSh7ICdkYXRhLnRlY2hub2xvZ3kucmF0aW5nJzogcnRnIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQ2hhbmdlUXR5KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGlpZCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkU1I1SXRlbShpaWQpO1xuICAgICAgICBjb25zdCBxdHkgPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZW0gJiYgcXR5KSB7XG4gICAgICAgICAgICBpdGVtLmRhdGEuZGF0YS50ZWNobm9sb2d5LnF1YW50aXR5ID0gcXR5O1xuICAgICAgICAgICAgaXRlbS51cGRhdGUoeyAnZGF0YS50ZWNobm9sb2d5LnF1YW50aXR5JzogcXR5IH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX29uRXF1aXBJdGVtKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGlpZCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkU1I1SXRlbShpaWQpO1xuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSBpdGVtLmRhdGEuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gW10gYXMgYW55W107XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZGV2aWNlJykge1xuICAgICAgICAgICAgICAgIC8vIHR1cm4gb2ZmIGFsbCBvdGhlciBkZXZpY2VzIHRoYW4gdGhlIG9uZSB0aGF0IGlzIGJlaW5nIGVxdWlwcGVkXG4gICAgICAgICAgICAgICAgLy8gaWYgY2xpY2tpbmcgdGhlIGVxdWlwcGVkLCB0b2dnbGUgaXRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGUgb2YgdGhpcy5hY3Rvci5pdGVtcy5maWx0ZXIoKGkpID0+IGkudHlwZSA9PT0gJ2RldmljZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ19pZCc6IGl0ZS5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkJzogaXRlLl9pZCA9PT0gaWlkID8gIWl0ZW1EYXRhLnRlY2hub2xvZ3kuZXF1aXBwZWQgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgJ19pZCc6IGlpZCxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEudGVjaG5vbG9neS5lcXVpcHBlZCc6ICFpdGVtRGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci51cGRhdGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgbmV3SXRlbXMpO1xuICAgICAgICAgICAgdGhpcy5hY3Rvci5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIF9vblNldENlbGxJbnB1dChldmVudCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IE51bWJlcihldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudmFsdWUpO1xuICAgICAgICBjb25zdCBjbUlkID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaG9yaXpvbnRhbC1jZWxsLWlucHV0JykuZGF0YSgpLmlkO1xuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGlmIChjbUlkID09PSAnc3R1bicgfHwgY21JZCA9PT0gJ3BoeXNpY2FsJykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBgZGF0YS50cmFjay4ke2NtSWR9LnZhbHVlYDtcbiAgICAgICAgICAgIGRhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY21JZCA9PT0gJ2VkZ2UnKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGBkYXRhLmF0dHJpYnV0ZXMuZWRnZS51c2VzYDtcbiAgICAgICAgICAgIGRhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY21JZCA9PT0gJ292ZXJmbG93Jykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSAnZGF0YS50cmFjay5waHlzaWNhbC5vdmVyZmxvdy52YWx1ZSc7XG4gICAgICAgICAgICBkYXRhW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGNtSWQgPT09ICdtYXRyaXgnKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRyaXhEZXZpY2UgPSB0aGlzLmFjdG9yLmdldE1hdHJpeERldmljZSgpO1xuICAgICAgICAgICAgaWYgKG1hdHJpeERldmljZSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEudGVjaG5vbG9neS5jb25kaXRpb25fbW9uaXRvci52YWx1ZSddID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYXdhaXQgbWF0cml4RGV2aWNlLnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YVsnZGF0YS5tYXRyaXguY29uZGl0aW9uX21vbml0b3IudmFsdWUnXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlKGRhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkNsZWFyQ2VsbElucHV0KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGNtSWQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5ob3Jpem9udGFsLWNlbGwtaW5wdXQnKS5kYXRhKCkuaWQ7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgaWYgKGNtSWQgPT09ICdzdHVuJyB8fCBjbUlkID09PSAncGh5c2ljYWwnKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGBkYXRhLnRyYWNrLiR7Y21JZH0udmFsdWVgO1xuICAgICAgICAgICAgZGF0YVtwcm9wZXJ0eV0gPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGNtSWQgPT09ICdlZGdlJykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBgZGF0YS5hdHRyaWJ1dGVzLmVkZ2UudXNlc2A7XG4gICAgICAgICAgICBkYXRhW3Byb3BlcnR5XSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoY21JZCA9PT0gJ292ZXJmbG93Jykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSAnZGF0YS50cmFjay5waHlzaWNhbC5vdmVyZmxvdy52YWx1ZSc7XG4gICAgICAgICAgICBkYXRhW3Byb3BlcnR5XSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoY21JZCA9PT0gJ21hdHJpeCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeERldmljZSA9IHRoaXMuYWN0b3IuZ2V0TWF0cml4RGV2aWNlKCk7XG4gICAgICAgICAgICBpZiAobWF0cml4RGV2aWNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEudGVjaG5vbG9neS5jb25kaXRpb25fbW9uaXRvci52YWx1ZSddID0gMDtcbiAgICAgICAgICAgICAgICBhd2FpdCBtYXRyaXhEZXZpY2UudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhWydkYXRhLm1hdHJpeC5jb25kaXRpb25fbW9uaXRvci52YWx1ZSddID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZShkYXRhKTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25Sb2xsQ2VsbElucHV0KGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCB0cmFjayA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLmhvcml6b250YWwtY2VsbC1pbnB1dCcpLmRhdGEoKS5pZDtcbiAgICAgICAgaWYgKHRyYWNrID09PSAnc3R1bicgfHwgdHJhY2sgPT09ICdwaHlzaWNhbCcpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iucm9sbE5hdHVyYWxSZWNvdmVyeSh0cmFjaywgZXZlbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRyYWNrID09PSAnZWRnZScpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iucm9sbEF0dHJpYnV0ZSgnZWRnZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUm9sbEl0ZW0oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgaWlkID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuZ2V0T3duZWRTUjVJdGVtKGlpZCk7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICBhd2FpdCBpdGVtLnBvc3RDYXJkKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIF9vblJvbGxLbm93bGVkZ2VTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpZCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIGNvbnN0IFtza2lsbCwgY2F0ZWdvcnldID0gaWQuc3BsaXQoJy4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3Iucm9sbEtub3dsZWRnZVNraWxsKGNhdGVnb3J5LCBza2lsbCwgeyBldmVudDogZXZlbnQgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUm9sbExhbmd1YWdlU2tpbGwoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSBIZWxwZXJzLmxpc3RJdGVtSWQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rvci5yb2xsTGFuZ3VhZ2VTa2lsbChza2lsbCwgeyBldmVudDogZXZlbnQgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uUm9sbEFjdGl2ZVNraWxsKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHNraWxsID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3Iucm9sbEFjdGl2ZVNraWxsKHNraWxsLCB7IGV2ZW50OiBldmVudCB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBfb25Sb2xsQXR0cmlidXRlKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5hdHRyaWJ1dGUnKS5kYXRhc2V0LmF0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3Iucm9sbEF0dHJpYnV0ZShhdHRyLCB7IGV2ZW50OiBldmVudCB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maW5kQWN0aXZlTGlzdCgpIHtcbiAgICAgICAgcmV0dXJuICQodGhpcy5lbGVtZW50KS5maW5kKCcudGFiLmFjdGl2ZSAuc2Nyb2xsLWFyZWEnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFzeW5jIF9yZW5kZXIoLi4uYXJncykge1xuICAgICAgICBjb25zdCBmb2N1c0xpc3QgPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnOmZvY3VzJyk7XG4gICAgICAgIGNvbnN0IGZvY3VzOiBhbnkgPSBmb2N1c0xpc3QubGVuZ3RoID8gZm9jdXNMaXN0WzBdIDogbnVsbDtcblxuICAgICAgICB0aGlzLl9zYXZlU2Nyb2xsUG9zaXRpb25zKCk7XG4gICAgICAgIGF3YWl0IHN1cGVyLl9yZW5kZXIoLi4uYXJncyk7XG4gICAgICAgIHRoaXMuX3Jlc3RvcmVTY3JvbGxQb3NpdGlvbnMoKTtcblxuICAgICAgICBpZiAoZm9jdXMgJiYgZm9jdXMubmFtZSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZm9ybVtmb2N1cy5uYW1lXTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgc2VsZWN0aW9uIHJhbmdlIG9uIHRoZSBmb2N1cyBmb3JtZWQgZnJvbSBiZWZvcmUgKGtlZXBzIHRyYWNrIG9mIGN1cnNvciBpbiBpbnB1dClcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlICYmIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoZm9jdXMuc2VsZWN0aW9uU3RhcnQsIGZvY3VzLnNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXN0b3JlU2Nyb2xsUG9zaXRpb25zKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVMaXN0ID0gdGhpcy5fZmluZEFjdGl2ZUxpc3QoKTtcbiAgICAgICAgaWYgKGFjdGl2ZUxpc3QubGVuZ3RoICYmIHRoaXMuX3Njcm9sbCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhY3RpdmVMaXN0LnByb3AoJ3Njcm9sbFRvcCcsIHRoaXMuX3Njcm9sbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zYXZlU2Nyb2xsUG9zaXRpb25zKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVMaXN0ID0gdGhpcy5fZmluZEFjdGl2ZUxpc3QoKTtcbiAgICAgICAgaWYgKGFjdGl2ZUxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGwgPSBhY3RpdmVMaXN0LnByb3AoJ3Njcm9sbFRvcCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX2Nsb3NlT3BlblNraWxsQXBwKCkge1xuICAgICAgICBpZiAoZ2xvYmFsU2tpbGxBcHBJZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmICh1aS53aW5kb3dzW2dsb2JhbFNraWxsQXBwSWRdKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdWkud2luZG93c1tnbG9iYWxTa2lsbEFwcElkXS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2xvYmFsU2tpbGxBcHBJZCA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEtlZXAgdHJhY2sgb2YgZWFjaCBTa2lsbEVkaXRGb3JtIGluc3RhbmNlIGFuZCBjbG9zZSBiZWZvcmUgb3BlbmluZyBhbm90aGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNraWxsRWRpdEZvcm1JbXBsZW1lbnRhdGlvbiBBbnkgZXh0ZW5kaW5nIGNsYXNzISBvZiBTa2lsbEVkaXRGb3JtXG4gICAgICogQHBhcmFtIGFjdG9yXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gYXJncyBDb2xsZWN0IGFyZ3VtZW50cyBvZiB0aGUgZGlmZmVyZW50IHJlbmRlcldpdGhTa2lsbCBpbXBsZW1lbnRhdGlvbnMuXG4gICAgICovXG4gICAgYXN5bmMgX3Nob3dTa2lsbEVkaXRGb3JtKHNraWxsRWRpdEZvcm1JbXBsZW1lbnRhdGlvbiwgYWN0b3I6IFNSNUFjdG9yLCBvcHRpb25zOiBvYmplY3QsIC4uLmFyZ3MpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fY2xvc2VPcGVuU2tpbGxBcHAoKTtcblxuICAgICAgICBjb25zdCBza2lsbEVkaXRGb3JtID0gbmV3IHNraWxsRWRpdEZvcm1JbXBsZW1lbnRhdGlvbihhY3Rvciwgb3B0aW9ucywgLi4uYXJncyk7XG4gICAgICAgIGdsb2JhbFNraWxsQXBwSWQgPSBza2lsbEVkaXRGb3JtLmFwcElkO1xuICAgICAgICBhd2FpdCBza2lsbEVkaXRGb3JtLnJlbmRlcih0cnVlKTtcbiAgICB9XG5cbiAgICBfb25TaG93RWRpdEtub3dsZWRnZVNraWxsKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IFtza2lsbCwgY2F0ZWdvcnldID0gSGVscGVycy5saXN0SXRlbUlkKGV2ZW50KS5zcGxpdCgnLicpO1xuICAgICAgICB0aGlzLl9zaG93U2tpbGxFZGl0Rm9ybShcbiAgICAgICAgICAgIEtub3dsZWRnZVNraWxsRWRpdEZvcm0sXG4gICAgICAgICAgICB0aGlzLmFjdG9yLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBza2lsbCxcbiAgICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9vblNob3dFZGl0TGFuZ3VhZ2VTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBza2lsbCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIC8vIG5ldyBMYW5ndWFnZVNraWxsRWRpdEZvcm0odGhpcy5hY3Rvciwgc2tpbGwsIHsgZXZlbnQ6IGV2ZW50IH0pLnJlbmRlcih0cnVlKTtcbiAgICAgICAgdGhpcy5fc2hvd1NraWxsRWRpdEZvcm0oTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtLCB0aGlzLmFjdG9yLCB7IGV2ZW50OiBldmVudCB9LCBza2lsbCk7XG4gICAgfVxuXG4gICAgX29uU2hvd0VkaXRTa2lsbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBza2lsbCA9IEhlbHBlcnMubGlzdEl0ZW1JZChldmVudCk7XG4gICAgICAgIC8vIG5ldyBTa2lsbEVkaXRGb3JtKHRoaXMuYWN0b3IsIHNraWxsLCB7IGV2ZW50OiBldmVudCB9KS5yZW5kZXIodHJ1ZSk7XG4gICAgICAgIHRoaXMuX3Nob3dTa2lsbEVkaXRGb3JtKFNraWxsRWRpdEZvcm0sIHRoaXMuYWN0b3IsIHsgZXZlbnQ6IGV2ZW50IH0sIHNraWxsKTtcbiAgICB9XG5cbiAgICBfb25TaG93SW1wb3J0Q2hhcmFjdGVyKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBuYW1lOiAnY2h1bW1lci1pbXBvcnQnLFxuICAgICAgICAgICAgdGl0bGU6ICdDaHVtbWVyIEltcG9ydCcsXG4gICAgICAgIH07XG4gICAgICAgIG5ldyBDaHVtbWVySW1wb3J0Rm9ybSh0aGlzLmFjdG9yLCBvcHRpb25zKS5yZW5kZXIodHJ1ZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFNSNUFjdG9yVHlwZSA9IFNoYWRvd3J1bi5TUjVBY3RvclR5cGU7XG5pbXBvcnQgeyBDaGFyYWN0ZXJQcmVwIH0gZnJvbSAnLi9DaGFyYWN0ZXJQcmVwJztcbmltcG9ydCB7IFNwaXJpdFByZXAgfSBmcm9tICcuL1NwaXJpdFByZXAnO1xuaW1wb3J0IHsgU3ByaXRlUHJlcCB9IGZyb20gJy4vU3ByaXRlUHJlcCc7XG5pbXBvcnQgeyBWZWhpY2xlUHJlcCB9IGZyb20gJy4vVmVoaWNsZVByZXAnO1xuXG5leHBvcnQgY2xhc3MgQWN0b3JQcmVwRmFjdG9yeSB7XG4gICAgc3RhdGljIENyZWF0ZShkYXRhOiBTUjVBY3RvclR5cGUpIHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2NoYXJhY3RlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhcmFjdGVyUHJlcChkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdzcGlyaXQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNwaXJpdFByZXAoZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnc3ByaXRlJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGVQcmVwKGRhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3ZlaGljbGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlaGljbGVQcmVwKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFNSNUFjdG9yVHlwZSA9IFNoYWRvd3J1bi5TUjVBY3RvclR5cGU7XG5pbXBvcnQgeyBTUjVJdGVtRGF0YVdyYXBwZXIgfSBmcm9tICcuLi8uLi9pdGVtL1NSNUl0ZW1EYXRhV3JhcHBlcic7XG5pbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VBY3RvclByZXA8QWN0b3JUeXBlIGV4dGVuZHMgU1I1QWN0b3JUeXBlLCBEYXRhVHlwZSBleHRlbmRzIFNSNUFjdG9yRGF0YT4ge1xuICAgIGRhdGE6IERhdGFUeXBlO1xuICAgIGl0ZW1zOiBTUjVJdGVtRGF0YVdyYXBwZXJbXTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IEFjdG9yVHlwZSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhLmRhdGE7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBkYXRhLml0ZW1zLm1hcCgoaXRlbSkgPT4gbmV3IFNSNUl0ZW1EYXRhV3JhcHBlcihpdGVtKSk7XG4gICAgfVxuXG4gICAgLy8gb3ZlcnJpZGUgd2l0aCB0aGUgY29ycmVjdCBvcmRlciBhbmQgZnVjbnRpb25zIHRvIHByZXBhcmUgdGhlIGFjdG9yXG4gICAgYWJzdHJhY3QgcHJlcGFyZSgpOiB2b2lkO1xufVxuIiwiaW1wb3J0IHtCYXNlQWN0b3JQcmVwfSBmcm9tICcuL0Jhc2VBY3RvclByZXAnO1xuaW1wb3J0IHtJbml0aWF0aXZlUHJlcH0gZnJvbSAnLi9mdW5jdGlvbnMvSW5pdGlhdGl2ZVByZXAnO1xuaW1wb3J0IHtNb2RpZmllcnNQcmVwfSBmcm9tICcuL2Z1bmN0aW9ucy9Nb2RpZmllcnNQcmVwJztcbmltcG9ydCB7TWF0cml4UHJlcH0gZnJvbSAnLi9mdW5jdGlvbnMvTWF0cml4UHJlcCc7XG5pbXBvcnQge0l0ZW1QcmVwfSBmcm9tICcuL2Z1bmN0aW9ucy9JdGVtUHJlcCc7XG5pbXBvcnQge1NraWxsc1ByZXB9IGZyb20gJy4vZnVuY3Rpb25zL1NraWxsc1ByZXAnO1xuaW1wb3J0IHtMaW1pdHNQcmVwfSBmcm9tICcuL2Z1bmN0aW9ucy9MaW1pdHNQcmVwJztcbmltcG9ydCB7Q29uZGl0aW9uTW9uaXRvcnNQcmVwfSBmcm9tICcuL2Z1bmN0aW9ucy9Db25kaXRpb25Nb25pdG9yc1ByZXAnO1xuaW1wb3J0IHtNb3ZlbWVudFByZXB9IGZyb20gJy4vZnVuY3Rpb25zL01vdmVtZW50UHJlcCc7XG5pbXBvcnQge1dvdW5kc1ByZXB9IGZyb20gJy4vZnVuY3Rpb25zL1dvdW5kc1ByZXAnO1xuaW1wb3J0IHtBdHRyaWJ1dGVzUHJlcH0gZnJvbSAnLi9mdW5jdGlvbnMvQXR0cmlidXRlc1ByZXAnO1xuaW1wb3J0IHtOUENQcmVwfSBmcm9tICcuL2Z1bmN0aW9ucy9OUENQcmVwJztcbmltcG9ydCB7U1I1fSBmcm9tICcuLi8uLi9jb25maWcnO1xuaW1wb3J0IFNSNUNoYXJhY3RlclR5cGUgPSBTaGFkb3dydW4uU1I1Q2hhcmFjdGVyVHlwZTtcbmltcG9ydCBDaGFyYWN0ZXJBY3RvckRhdGEgPSBTaGFkb3dydW4uQ2hhcmFjdGVyQWN0b3JEYXRhO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyUHJlcCBleHRlbmRzIEJhc2VBY3RvclByZXA8U1I1Q2hhcmFjdGVyVHlwZSwgQ2hhcmFjdGVyQWN0b3JEYXRhPiB7XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgTW9kaWZpZXJzUHJlcC5wcmVwYXJlTW9kaWZpZXJzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgSXRlbVByZXAucHJlcGFyZUFybW9yKHRoaXMuZGF0YSwgdGhpcy5pdGVtcyk7XG4gICAgICAgIEl0ZW1QcmVwLnByZXBhcmVDeWJlcndhcmUodGhpcy5kYXRhLCB0aGlzLml0ZW1zKTtcblxuICAgICAgICBTa2lsbHNQcmVwLnByZXBhcmVTa2lsbHModGhpcy5kYXRhKTtcbiAgICAgICAgQXR0cmlidXRlc1ByZXAucHJlcGFyZUF0dHJpYnV0ZXModGhpcy5kYXRhKTtcbiAgICAgICAgTGltaXRzUHJlcC5wcmVwYXJlTGltaXRCYXNlRnJvbUF0dHJpYnV0ZXModGhpcy5kYXRhKTtcbiAgICAgICAgTGltaXRzUHJlcC5wcmVwYXJlTGltaXRzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgTWF0cml4UHJlcC5wcmVwYXJlTWF0cml4KHRoaXMuZGF0YSwgdGhpcy5pdGVtcyk7XG4gICAgICAgIE1hdHJpeFByZXAucHJlcGFyZU1hdHJpeFRvTGltaXRzQW5kQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGEuaXNfbnBjICYmIHRoaXMuZGF0YS5ucGMuaXNfZ3J1bnQpIHtcbiAgICAgICAgICAgIENvbmRpdGlvbk1vbml0b3JzUHJlcC5wcmVwYXJlR3J1bnQodGhpcy5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIENvbmRpdGlvbk1vbml0b3JzUHJlcC5wcmVwYXJlUGh5c2ljYWwodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIENvbmRpdGlvbk1vbml0b3JzUHJlcC5wcmVwYXJlU3R1bih0aGlzLmRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgTW92ZW1lbnRQcmVwLnByZXBhcmVNb3ZlbWVudCh0aGlzLmRhdGEpO1xuICAgICAgICBXb3VuZHNQcmVwLnByZXBhcmVXb3VuZHModGhpcy5kYXRhKTtcblxuICAgICAgICBJbml0aWF0aXZlUHJlcC5wcmVwYXJlTWVhdHNwYWNlSW5pdCh0aGlzLmRhdGEpO1xuICAgICAgICBJbml0aWF0aXZlUHJlcC5wcmVwYXJlQXN0cmFsSW5pdCh0aGlzLmRhdGEpO1xuICAgICAgICBJbml0aWF0aXZlUHJlcC5wcmVwYXJlTWF0cml4SW5pdCh0aGlzLmRhdGEpO1xuICAgICAgICBJbml0aWF0aXZlUHJlcC5wcmVwYXJlQ3VycmVudEluaXRpYXRpdmUodGhpcy5kYXRhKTtcblxuICAgICAgICAvLyBOUENQcmVwIGlzIHJlbGlhbnQgdG8gYmUgY2FsbGVkIGFmdGVyIEF0dHJpYnV0ZXNQcmVwLlxuICAgICAgICBOUENQcmVwLnByZXBhcmVOUENEYXRhKHRoaXMuZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUFjdG9yUHJlcCB9IGZyb20gJy4vQmFzZUFjdG9yUHJlcCc7XG5pbXBvcnQgU3Bpcml0QWN0b3JEYXRhID0gU2hhZG93cnVuLlNwaXJpdEFjdG9yRGF0YTtcbmltcG9ydCBTUjVTcGlyaXRUeXBlID0gU2hhZG93cnVuLlNSNVNwaXJpdFR5cGU7XG5pbXBvcnQgeyBTa2lsbHNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvU2tpbGxzUHJlcCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0F0dHJpYnV0ZXNQcmVwJztcbmltcG9ydCB7IExpbWl0c1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9MaW1pdHNQcmVwJztcbmltcG9ydCB7IENvbmRpdGlvbk1vbml0b3JzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0NvbmRpdGlvbk1vbml0b3JzUHJlcCc7XG5pbXBvcnQgeyBNb3ZlbWVudFByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Nb3ZlbWVudFByZXAnO1xuaW1wb3J0IHsgV291bmRzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL1dvdW5kc1ByZXAnO1xuaW1wb3J0IHsgTW9kaWZpZXJzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL01vZGlmaWVyc1ByZXAnO1xuaW1wb3J0IHsgSW5pdGlhdGl2ZVByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Jbml0aWF0aXZlUHJlcCc7XG5pbXBvcnQgU3Bpcml0VHlwZSA9IFNoYWRvd3J1bi5TcGlyaXRUeXBlO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uLy4uL2hlbHBlcnMnO1xuXG5leHBvcnQgY2xhc3MgU3Bpcml0UHJlcCBleHRlbmRzIEJhc2VBY3RvclByZXA8U1I1U3Bpcml0VHlwZSwgU3Bpcml0QWN0b3JEYXRhPiB7XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgTW9kaWZpZXJzUHJlcC5wcmVwYXJlTW9kaWZpZXJzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgU3Bpcml0UHJlcC5wcmVwYXJlU3Bpcml0QmFzZURhdGEodGhpcy5kYXRhKTtcblxuICAgICAgICBTa2lsbHNQcmVwLnByZXBhcmVTa2lsbHModGhpcy5kYXRhKTtcbiAgICAgICAgQXR0cmlidXRlc1ByZXAucHJlcGFyZUF0dHJpYnV0ZXModGhpcy5kYXRhKTtcbiAgICAgICAgTGltaXRzUHJlcC5wcmVwYXJlTGltaXRCYXNlRnJvbUF0dHJpYnV0ZXModGhpcy5kYXRhKTtcbiAgICAgICAgTGltaXRzUHJlcC5wcmVwYXJlTGltaXRzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgU3Bpcml0UHJlcC5wcmVwYXJlU3Bpcml0QXJtb3IodGhpcy5kYXRhKTtcblxuICAgICAgICBDb25kaXRpb25Nb25pdG9yc1ByZXAucHJlcGFyZVN0dW4odGhpcy5kYXRhKTtcbiAgICAgICAgQ29uZGl0aW9uTW9uaXRvcnNQcmVwLnByZXBhcmVQaHlzaWNhbCh0aGlzLmRhdGEpO1xuXG4gICAgICAgIE1vdmVtZW50UHJlcC5wcmVwYXJlTW92ZW1lbnQodGhpcy5kYXRhKTtcbiAgICAgICAgV291bmRzUHJlcC5wcmVwYXJlV291bmRzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZUN1cnJlbnRJbml0aWF0aXZlKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNwZWNpYWwgPSAnbWFnaWMnO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlU3Bpcml0QmFzZURhdGEoZGF0YTogU3Bpcml0QWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlcyA9IHRoaXMuZ2V0U3Bpcml0U3RhdE1vZGlmaWVycyhkYXRhLnNwaXJpdFR5cGUpO1xuXG4gICAgICAgIGlmIChvdmVycmlkZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcywgc2tpbGxzLCBpbml0aWF0aXZlLCBmb3JjZSwgbW9kaWZpZXJzIH0gPSBkYXRhO1xuXG4gICAgICAgICAgICAvLyBzZXQgdGhlIGJhc2Ugb2YgYXR0cmlidXRlcyB0byB0aGUgcHJvdmlkZWQgdmFsdWVcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2F0dElkLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob3ZlcnJpZGVzLmF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0SWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlc1thdHRJZF0uYmFzZSA9IHZhbHVlICsgZm9yY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtza2lsbElkLCBza2lsbF0gb2YgT2JqZWN0LmVudHJpZXMoc2tpbGxzLmFjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICBza2lsbC5iYXNlID0gb3ZlcnJpZGVzLnNraWxscy5maW5kKChzKSA9PiBzID09PSBza2lsbElkKSA/IGZvcmNlIDogMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcHJlcGFyZSBpbml0aWF0aXZlIGRhdGFcbiAgICAgICAgICAgIGluaXRpYXRpdmUubWVhdHNwYWNlLmJhc2UuYmFzZSA9IGZvcmNlICogMiArIG92ZXJyaWRlcy5pbml0ICsgTnVtYmVyKG1vZGlmaWVyc1snYXN0cmFsX2luaXRpYXRpdmUnXSk7XG4gICAgICAgICAgICBpbml0aWF0aXZlLm1lYXRzcGFjZS5kaWNlLmJhc2UgPSAyO1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuYmFzZS5iYXNlID0gZm9yY2UgKiAyICsgb3ZlcnJpZGVzLmFzdHJhbF9pbml0ICsgTnVtYmVyKG1vZGlmaWVyc1snYXN0cmFsX2luaXRpYXRpdmVfZGljZSddKTtcbiAgICAgICAgICAgIGluaXRpYXRpdmUuYXN0cmFsLmRpY2UuYmFzZSA9IDM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcHJlcGFyZVNwaXJpdEFybW9yKGRhdGE6IFNwaXJpdEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGFybW9yLCBhdHRyaWJ1dGVzIH0gPSBkYXRhO1xuICAgICAgICBhcm1vci5iYXNlID0gKGF0dHJpYnV0ZXMuZXNzZW5jZS52YWx1ZSA/PyAwKSAqIDI7XG4gICAgICAgIGFybW9yLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoYXJtb3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCB0aGUgYXR0cmlidXRlIGFuZCBpbml0aWF0aXZlIG1vZGlmaWVycyBhbmQgc2tpbGxzXG4gICAgICovXG4gICAgc3RhdGljIGdldFNwaXJpdFN0YXRNb2RpZmllcnMoc3Bpcml0VHlwZTogU3Bpcml0VHlwZSkge1xuICAgICAgICBjb25zdCBvdmVycmlkZXMgPSB7XG4gICAgICAgICAgICAvLyB2YWx1ZSBvZiAwIGZvciBhdHRyaWJ1dGUgbWFrZXMgaXQgZXF1YWwgdG8gdGhlIEZvcmNlXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgYm9keTogMCxcbiAgICAgICAgICAgICAgICBhZ2lsaXR5OiAwLFxuICAgICAgICAgICAgICAgIHJlYWN0aW9uOiAwLFxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgIHdpbGxwb3dlcjogMCxcbiAgICAgICAgICAgICAgICBsb2dpYzogMCxcbiAgICAgICAgICAgICAgICBpbnR1aXRpb246IDAsXG4gICAgICAgICAgICAgICAgY2hhcmlzbWE6IDAsXG4gICAgICAgICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgICAgICAgZXNzZW5jZTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBtb2RpZmllcnMgZm9yIGFmdGVyIHRoZSBGb3JjZSB4IDIgY2FsY3VsYXRpb25cbiAgICAgICAgICAgIGluaXQ6IDAsXG4gICAgICAgICAgICBhc3RyYWxfaW5pdDogMCxcbiAgICAgICAgICAgIC8vIHNraWxscyBhcmUgYWxsIHNldCB0byBGb3JjZVxuICAgICAgICAgICAgc2tpbGxzOiBbXSBhcyBzdHJpbmdbXSxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChzcGlyaXRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdhaXInOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmJvZHkgPSAtMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAtMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdleG90aWNfcmFuZ2UnLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYmVhc3RzJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlYXJ0aCc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IC0yO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmxvZ2ljID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAtMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ2V4b3RpY19yYW5nZScsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmaXJlJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAtMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5pbnR1aXRpb24gPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ2V4b3RpY19yYW5nZScsICdmbGlnaHQnLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ3VhcmRpYW4nOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmJvZHkgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmFnaWxpdHkgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnYmxhZGVzJywgJ2NsdWJzJywgJ2NvdW50ZXJfc3BlbGxpbmcnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2d1aWRhbmNlJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2FyY2FuYScsICdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdjb3VudGVyX3NwZWxsaW5nJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21hbic6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gLTI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMubG9naWMgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAncGVyY2VwdGlvbicsICdzcGVsbGNhc3RpbmcnLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BsYW50JzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmxvZ2ljID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdwZXJjZXB0aW9uJywgJ2V4b3RpY19yYW5nZScsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFzayc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhcnRpc2FuJywgJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dhdGVyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndG94aWNfYWlyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gLTI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gLTM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAncnVubmluZycsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndG94aWNfYmVhc3RzJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdleG90aWNfcmFuZ2UnLCAnZ3ltbmFzdGljcycsICdwZXJjZXB0aW9uJywgJ3J1bm5pbmcnLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RveGljX2VhcnRoJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gNDtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gLTI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAtMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMubG9naWMgPSAtMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IC0xO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RveGljX2ZpcmUnOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmJvZHkgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmFnaWxpdHkgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IC0yO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnZXhvdGljX3JhbmdlJywgJ3BlcmNlcHRpb24nLCAnZmxpZ2h0JywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0b3hpY19tYW4nOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IC0yO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAncGVyY2VwdGlvbicsICdzcGVsbF9jYXN0aW5nJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0b3hpY193YXRlcic6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ2V4b3RpY19yYW5nZScsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Jsb29kJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5ib2R5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMubG9naWMgPSAtMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAncnVubmluZycsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdtdXNlJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMud2lsbHBvd2VyID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdjb24nLCAnZ3ltbmFzdGljcycsICdpbnRpbWlkYXRpb24nLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbmlnaHRtYXJlJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMud2lsbHBvd2VyID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5pbnR1aXRpb24gPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmNoYXJpc21hID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdjb24nLCAnZ3ltbmFzdGljcycsICdpbnRpbWlkYXRpb24nLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2hhZGUnOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmFnaWxpdHkgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy53aWxscG93ZXIgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuY2hhcmlzbWEgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ2NvbicsICdneW1uYXN0aWNzJywgJ2ludGltaWRhdGlvbicsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdWNjdWJ1cyc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLndpbGxwb3dlciA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuaW50dWl0aW9uID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5jaGFyaXNtYSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnY29uJywgJ2d5bW5hc3RpY3MnLCAnaW50aW1pZGF0aW9uJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dyYWl0aCc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLndpbGxwb3dlciA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuaW50dWl0aW9uID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5jaGFyaXNtYSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnY29uJywgJ2d5bW5hc3RpY3MnLCAnaW50aW1pZGF0aW9uJywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnc2hlZGltJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuc3RyZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAndW5hcm1lZF9jb21iYXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21hc3Rlcl9zaGVkaW0nOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnJlYWN0aW9uID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMubG9naWMgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmludHVpdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnY291bnRlcnNwZWxsaW5nJywgJ3BlcmNlcHRpb24nLCAnc3BlbGxjYXN0aW5nJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIGluc2VjdFxuICAgICAgICAgICAgY2FzZSAnY2FyZXRha2VyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5hZ2lsaXR5ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5yZWFjdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnYXNzZW5zaW5nJywgJ2FzdHJhbF9jb21iYXQnLCAnbGVhZGVyc2hpcCcsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdueW1waCc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdwZXJjZXB0aW9uJywgJ2d5bW5hc3RpY3MnLCAnc3BlbGxjYXN0aW5nJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzY291dCc6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2Fzc2Vuc2luZycsICdhc3RyYWxfY29tYmF0JywgJ3BlcmNlcHRpb24nLCAnZ3ltbmFzdGljcycsICdzbmVha2luZycsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc29sZGllcic6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdjb3VudGVyc3BlbGxpbmcnLCAnZXhvdGljX3JhbmdlJywgJ2d5bW5hc3RpY3MnLCAncGVyY2VwdGlvbicsICd1bmFybWVkX2NvbWJhdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd29ya2VyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5zdHJlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdhc3NlbnNpbmcnLCAnYXN0cmFsX2NvbWJhdCcsICdwZXJjZXB0aW9uJywgJ3VuYXJtZWRfY29tYmF0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdxdWVlbic6XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYm9keSA9IDU7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMuYWdpbGl0eSA9IDM7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmF0dHJpYnV0ZXMucmVhY3Rpb24gPSA0O1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLnN0cmVuZ3RoID0gNTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy53aWxscG93ZXIgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRyaWJ1dGVzLmxvZ2ljID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0cmlidXRlcy5pbnR1aXRpb24gPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gNTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICdhc3NlbnNpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnYXN0cmFsX2NvbWJhdCcsXG4gICAgICAgICAgICAgICAgICAgICdjb24nLFxuICAgICAgICAgICAgICAgICAgICAnY291bnRlcnNwZWxsaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgJ2d5bW5hc3RpY3MnLFxuICAgICAgICAgICAgICAgICAgICAnbGVhZGVyc2hpcCcsXG4gICAgICAgICAgICAgICAgICAgICduZWdvdGlhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICdwZXJjZXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NwZWxsY2FzdGluZycsXG4gICAgICAgICAgICAgICAgICAgICd1bmFybWVkX2NvbWJhdCcsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3ZlcnJpZGVzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VBY3RvclByZXAgfSBmcm9tICcuL0Jhc2VBY3RvclByZXAnO1xuaW1wb3J0IFNSNVNwcml0ZVR5cGUgPSBTaGFkb3dydW4uU1I1U3ByaXRlVHlwZTtcbmltcG9ydCBTcHJpdGVBY3RvckRhdGEgPSBTaGFkb3dydW4uU3ByaXRlQWN0b3JEYXRhO1xuaW1wb3J0IHsgU2tpbGxzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL1NraWxsc1ByZXAnO1xuaW1wb3J0IHsgTW9kaWZpZXJzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL01vZGlmaWVyc1ByZXAnO1xuaW1wb3J0IHsgSW5pdGlhdGl2ZVByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9Jbml0aWF0aXZlUHJlcCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0F0dHJpYnV0ZXNQcmVwJztcbmltcG9ydCB7IExpbWl0c1ByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9MaW1pdHNQcmVwJztcbmltcG9ydCB7IE1hdHJpeFByZXAgfSBmcm9tICcuL2Z1bmN0aW9ucy9NYXRyaXhQcmVwJztcbmltcG9ydCBTcHJpdGVUeXBlID0gU2hhZG93cnVuLlNwcml0ZVR5cGU7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBQYXJ0c0xpc3QgfSBmcm9tICcuLi8uLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuXG4vKipcbiAqIFByZXBhcmUgYSBTcHJpdGUgVHlwZSBvZiBBY3RvclxuICovXG5leHBvcnQgY2xhc3MgU3ByaXRlUHJlcCBleHRlbmRzIEJhc2VBY3RvclByZXA8U1I1U3ByaXRlVHlwZSwgU3ByaXRlQWN0b3JEYXRhPiB7XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgTW9kaWZpZXJzUHJlcC5wcmVwYXJlTW9kaWZpZXJzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgU3ByaXRlUHJlcC5wcmVwYXJlU3ByaXRlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICBNYXRyaXhQcmVwLnByZXBhcmVBdHRyaWJ1dGVzRm9yRGV2aWNlKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgU2tpbGxzUHJlcC5wcmVwYXJlU2tpbGxzKHRoaXMuZGF0YSk7XG4gICAgICAgIEF0dHJpYnV0ZXNQcmVwLnByZXBhcmVBdHRyaWJ1dGVzKHRoaXMuZGF0YSk7XG4gICAgICAgIExpbWl0c1ByZXAucHJlcGFyZUxpbWl0cyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIE1hdHJpeFByZXAucHJlcGFyZU1hdHJpeFRvTGltaXRzQW5kQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIEluaXRpYXRpdmVQcmVwLnByZXBhcmVDdXJyZW50SW5pdGlhdGl2ZSh0aGlzLmRhdGEpO1xuXG4gICAgICAgIHRoaXMuZGF0YS5zcGVjaWFsID0gJ3Jlc29uYW5jZSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYmFzaWMgU3ByaXRlIHNwZWNpZmljIGRhdGFcbiAgICAgKiAtIG1hdHJpeCBhdHRyaWJ1dGUgdmFsdWVzXG4gICAgICogLSBkZXZpY2UgcmF0aW5nXG4gICAgICogLSBtYXRyaXggY29uZGl0aW9uIG1vbml0b3JcbiAgICAgKiAtIG1hdHJpeCBpbml0aWF0aXZlXG4gICAgICogLSBza2lsbHNcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlU3ByaXRlRGF0YShkYXRhOiBTcHJpdGVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBsZXZlbCwgc2tpbGxzLCBtYXRyaXgsIHNwcml0ZVR5cGUsIGluaXRpYXRpdmUsIGF0dHJpYnV0ZXMsIG1vZGlmaWVycyB9ID0gZGF0YTtcblxuICAgICAgICBjb25zdCBtYXRyaXhBdHRzID0gWydhdHRhY2snLCAnc2xlYXplJywgJ2RhdGFfcHJvY2Vzc2luZycsICdmaXJld2FsbCddO1xuXG4gICAgICAgIGNvbnN0IG92ZXJyaWRlcyA9IHRoaXMuZ2V0U3ByaXRlU3RhdE1vZGlmaWVycyhzcHJpdGVUeXBlKTtcblxuICAgICAgICAvLyBhcHBseSB0aGUgbWF0cml4IG92ZXJyaWRlc1xuICAgICAgICBtYXRyaXhBdHRzLmZvckVhY2goKGF0dCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1hdHJpeFthdHRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXRyaXhbYXR0XS5iYXNlID0gbGV2ZWwgKyBvdmVycmlkZXNbYXR0XTtcbiAgICAgICAgICAgICAgICBtYXRyaXhbYXR0XS52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKG1hdHJpeFthdHRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2V0dXAgaW5pdGlhdGl2ZSBmcm9tIG92ZXJyaWRlc1xuICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5iYXNlLmJhc2UgPSBsZXZlbCAqIDIgKyBvdmVycmlkZXMuaW5pdDtcbiAgICAgICAgUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoaW5pdGlhdGl2ZS5tYXRyaXguYmFzZS5tb2QsICdTUjUuQm9udXMnLCBtb2RpZmllcnNbJ21hdHJpeF9pbml0aWF0aXZlJ10pO1xuICAgICAgICBIZWxwZXJzLmNhbGNUb3RhbChpbml0aWF0aXZlLm1hdHJpeC5iYXNlKTtcblxuICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5kaWNlLmJhc2UgPSA0O1xuICAgICAgICBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLm1hdHJpeC5kaWNlLm1vZCwgJ1NSNS5Cb251cycsIG1vZGlmaWVyc1snbWF0cml4X2luaXRpYXRpdmVfZGljZSddKTtcbiAgICAgICAgSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5tYXRyaXguZGljZSk7XG5cbiAgICAgICAgLy8gYWx3YXlzIGluIG1hdHJpeCBwZXJjZXB0aW9uXG4gICAgICAgIGluaXRpYXRpdmUucGVyY2VwdGlvbiA9ICdtYXRyaXgnO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSByZXNvbmFuY2UgdmFsdWVcbiAgICAgICAgYXR0cmlidXRlcy5yZXNvbmFuY2UuYmFzZSA9IGxldmVsICsgb3ZlcnJpZGVzLnJlc29uYW5jZTtcbiAgICAgICAgSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5yZXNvbmFuY2UpO1xuXG4gICAgICAgIC8vIGFwcGx5IHNraWxsIGxldmVsc1xuICAgICAgICAvLyBjbGVhciBza2lsbHMgdGhhdCB3ZSBkb24ndCBoYXZlXG4gICAgICAgIGZvciAoY29uc3QgW3NraWxsSWQsIHNraWxsXSBvZiBPYmplY3QuZW50cmllcyhza2lsbHMuYWN0aXZlKSkge1xuICAgICAgICAgICAgc2tpbGwuYmFzZSA9IG92ZXJyaWRlcy5za2lsbHMuZmluZCgocykgPT4gcyA9PT0gc2tpbGxJZCkgPyBsZXZlbCA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBtYXRyaXgucmF0aW5nID0gbGV2ZWw7XG4gICAgICAgIG1hdHJpeC5jb25kaXRpb25fbW9uaXRvci5tYXggPSA4ICsgTWF0aC5jZWlsKGxldmVsIC8gMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdGF0IG1vZGlmaWVycyBmb3IgdGhlIHNwZWNpZmllZCB0eXBlIG9mIHNwcml0ZVxuICAgICAqIEBwYXJhbSBzcHJpdGVUeXBlXG4gICAgICovXG4gICAgc3RhdGljIGdldFNwcml0ZVN0YXRNb2RpZmllcnMoc3ByaXRlVHlwZTogU3ByaXRlVHlwZSkge1xuICAgICAgICBjb25zdCBvdmVycmlkZXMgPSB7XG4gICAgICAgICAgICBhdHRhY2s6IDAsXG4gICAgICAgICAgICBzbGVhemU6IDAsXG4gICAgICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6IDAsXG4gICAgICAgICAgICBmaXJld2FsbDogMCxcbiAgICAgICAgICAgIHJlc29uYW5jZTogMCxcbiAgICAgICAgICAgIGluaXQ6IDAsXG4gICAgICAgICAgICAvLyBhbGwgc3ByaXRlcyBoYXZlIGNvbXB1dGVyXG4gICAgICAgICAgICBza2lsbHM6IFsnY29tcHV0ZXInXSxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChzcHJpdGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjb3VyaWVyJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2xlYXplID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZGF0YV9wcm9jZXNzaW5nID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZmlyZXdhbGwgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2hhY2tpbmcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NyYWNrJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2xlYXplID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZGF0YV9wcm9jZXNzaW5nID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZmlyZXdhbGwgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMjtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2hhY2tpbmcnLCAnZWxlY3Ryb25pY193YXJmYXJlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0YWNrID0gLTE7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmRhdGFfcHJvY2Vzc2luZyA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmZpcmV3YWxsID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuaW5pdCA9IDQ7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLnNraWxscy5wdXNoKCdlbGVjdHJvbmljX3dhcmZhcmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ZhdWx0JzpcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuYXR0YWNrID0gMztcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZGF0YV9wcm9jZXNzaW5nID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuZmlyZXdhbGwgPSAyO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5pbml0ID0gMTtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXMuc2tpbGxzLnB1c2goJ2N5YmVyY29tYmF0JywgJ2hhY2tpbmcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21hY2hpbmUnOlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5hdHRhY2sgPSAxO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5kYXRhX3Byb2Nlc3NpbmcgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5maXJld2FsbCA9IDI7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzLmluaXQgPSAzO1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlcy5za2lsbHMucHVzaCgnZWxlY3Ryb25pY193YXJmYXJlJywgJ2hhcmR3YXJlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG92ZXJyaWRlcztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlQWN0b3JQcmVwIH0gZnJvbSAnLi9CYXNlQWN0b3JQcmVwJztcbmltcG9ydCBTUjVWZWhpY2xlVHlwZSA9IFNoYWRvd3J1bi5TUjVWZWhpY2xlVHlwZTtcbmltcG9ydCBWZWhpY2xlQWN0b3JEYXRhID0gU2hhZG93cnVuLlZlaGljbGVBY3RvckRhdGE7XG5pbXBvcnQgeyBTa2lsbHNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvU2tpbGxzUHJlcCc7XG5pbXBvcnQgeyBNb2RpZmllcnNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvTW9kaWZpZXJzUHJlcCc7XG5pbXBvcnQgeyBJbml0aWF0aXZlUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0luaXRpYXRpdmVQcmVwJztcbmltcG9ydCB7IEF0dHJpYnV0ZXNQcmVwIH0gZnJvbSAnLi9mdW5jdGlvbnMvQXR0cmlidXRlc1ByZXAnO1xuaW1wb3J0IHsgTGltaXRzUHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL0xpbWl0c1ByZXAnO1xuaW1wb3J0IHsgTWF0cml4UHJlcCB9IGZyb20gJy4vZnVuY3Rpb25zL01hdHJpeFByZXAnO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vLi4vcGFydHMvUGFydHNMaXN0JztcblxuZXhwb3J0IGNsYXNzIFZlaGljbGVQcmVwIGV4dGVuZHMgQmFzZUFjdG9yUHJlcDxTUjVWZWhpY2xlVHlwZSwgVmVoaWNsZUFjdG9yRGF0YT4ge1xuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIE1vZGlmaWVyc1ByZXAucHJlcGFyZU1vZGlmaWVycyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIFZlaGljbGVQcmVwLnByZXBhcmVWZWhpY2xlU3RhdHModGhpcy5kYXRhKTtcbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZUF0dHJpYnV0ZXModGhpcy5kYXRhKTtcbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZUxpbWl0cyh0aGlzLmRhdGEpO1xuXG4gICAgICAgIFNraWxsc1ByZXAucHJlcGFyZVNraWxscyh0aGlzLmRhdGEpO1xuICAgICAgICBBdHRyaWJ1dGVzUHJlcC5wcmVwYXJlQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBMaW1pdHNQcmVwLnByZXBhcmVMaW1pdHModGhpcy5kYXRhKTtcblxuICAgICAgICBWZWhpY2xlUHJlcC5wcmVwYXJlQ29uZGl0aW9uTW9uaXRvcih0aGlzLmRhdGEpO1xuXG4gICAgICAgIE1hdHJpeFByZXAucHJlcGFyZU1hdHJpeFRvTGltaXRzQW5kQXR0cmlidXRlcyh0aGlzLmRhdGEpO1xuICAgICAgICBNYXRyaXhQcmVwLnByZXBhcmVBdHRyaWJ1dGVzRm9yRGV2aWNlKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZU1vdmVtZW50KHRoaXMuZGF0YSk7XG5cbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZU1lYXRzcGFjZUluaXQodGhpcy5kYXRhKTtcbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZU1hdHJpeEluaXQodGhpcy5kYXRhKTtcbiAgICAgICAgSW5pdGlhdGl2ZVByZXAucHJlcGFyZUN1cnJlbnRJbml0aWF0aXZlKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgVmVoaWNsZVByZXAucHJlcGFyZUFybW9yKHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVWZWhpY2xlU3RhdHMoZGF0YTogVmVoaWNsZUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IHZlaGljbGVfc3RhdHMsIGlzT2ZmUm9hZCB9ID0gZGF0YTtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBmb3IgdGhlIHN0YXRzXG4gICAgICAgIGZvciAobGV0IFtrZXksIHN0YXRdIG9mIE9iamVjdC5lbnRyaWVzKHZlaGljbGVfc3RhdHMpKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHR1cm5zIHRoZSBPYmplY3QgbW9kZWwgaW50byB0aGUgbGlzdCBtb2RcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdC5tb2QgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgc3RhdC5tb2QgPSBuZXcgUGFydHNMaXN0KHN0YXQubW9kKS5saXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0KHN0YXQubW9kKTtcblxuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LlRlbXBvcmFyeScsIHN0YXQudGVtcCA/PyAwKTtcblxuICAgICAgICAgICAgc3RhdC5tb2QgPSBwYXJ0cy5saXN0O1xuICAgICAgICAgICAgSGVscGVycy5jYWxjVG90YWwoc3RhdCk7XG4gICAgICAgICAgICAvLyBhZGQgbGFiZWxzXG4gICAgICAgICAgICBzdGF0LmxhYmVsID0gQ09ORklHLlNSNS52ZWhpY2xlLnN0YXRzW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoaWRlIGNlcnRhaW4gc3RhdHMgZGVwZW5kaW5nIG9uIGlmIHdlJ3JlIG9mZnJvYWRcbiAgICAgICAgaWYgKGlzT2ZmUm9hZCkge1xuICAgICAgICAgICAgdmVoaWNsZV9zdGF0cy5vZmZfcm9hZF9zcGVlZC5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHZlaGljbGVfc3RhdHMub2ZmX3JvYWRfaGFuZGxpbmcuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLnNwZWVkLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLmhhbmRsaW5nLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX3NwZWVkLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX2hhbmRsaW5nLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB2ZWhpY2xlX3N0YXRzLnNwZWVkLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdmVoaWNsZV9zdGF0cy5oYW5kbGluZy5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlQXR0cmlidXRlcyhkYXRhOiBWZWhpY2xlQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcywgdmVoaWNsZV9zdGF0cyB9ID0gZGF0YTtcblxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVJZHMgPSBbJ2FnaWxpdHknLCAncmVhY3Rpb24nLCAnc3RyZW5ndGgnLCAnd2lsbHBvd2VyJywgJ2xvZ2ljJywgJ2ludHVpdGlvbicsICdjaGFyaXNtYSddO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsUGlsb3QgPSBIZWxwZXJzLmNhbGNUb3RhbCh2ZWhpY2xlX3N0YXRzLnBpbG90KTtcblxuICAgICAgICBhdHRyaWJ1dGVJZHMuZm9yRWFjaCgoYXR0SWQpID0+IHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzW2F0dElkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1thdHRJZF0uYmFzZSA9IHRvdGFsUGlsb3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTGltaXRzKGRhdGE6IFZlaGljbGVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBsaW1pdHMsIHZlaGljbGVfc3RhdHMsIGlzT2ZmUm9hZCB9ID0gZGF0YTtcblxuICAgICAgICBsaW1pdHMubWVudGFsLmJhc2UgPSBIZWxwZXJzLmNhbGNUb3RhbCh2ZWhpY2xlX3N0YXRzLnNlbnNvcik7XG5cbiAgICAgICAgLy8gYWRkIHNlbnNvciwgaGFuZGxpbmcsIGFuZCBzcGVlZCBhcyBsaW1pdHNcbiAgICAgICAgbGltaXRzLnNlbnNvciA9IHsgLi4udmVoaWNsZV9zdGF0cy5zZW5zb3IsIGhpZGRlbjogdHJ1ZSB9O1xuICAgICAgICBsaW1pdHMuaGFuZGxpbmcgPSB7IC4uLihpc09mZlJvYWQgPyB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX2hhbmRsaW5nIDogdmVoaWNsZV9zdGF0cy5oYW5kbGluZyksIGhpZGRlbjogdHJ1ZSB9O1xuICAgICAgICBsaW1pdHMuc3BlZWQgPSB7IC4uLihpc09mZlJvYWQgPyB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX3NwZWVkIDogdmVoaWNsZV9zdGF0cy5zcGVlZCksIGhpZGRlbjogdHJ1ZSB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlQ29uZGl0aW9uTW9uaXRvcihkYXRhOiBWZWhpY2xlQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgdHJhY2ssIGF0dHJpYnV0ZXMsIG1hdHJpeCwgaXNEcm9uZSwgbW9kaWZpZXJzIH0gPSBkYXRhO1xuXG4gICAgICAgIGNvbnN0IGhhbGZCb2R5ID0gTWF0aC5jZWlsKEhlbHBlcnMuY2FsY1RvdGFsKGF0dHJpYnV0ZXMuYm9keSkgLyAyKTtcbiAgICAgICAgLy8gQ1JCIHBnIDE5OSBkcm9uZSB2cyB2ZWhpY2xlIHBoeXNpY2FsIGNvbmRpdGlvbiBtb25pdG9yIHJ1bGVzXG4gICAgICAgIGlmIChpc0Ryb25lKSB7XG4gICAgICAgICAgICB0cmFjay5waHlzaWNhbC5tYXggPSA2ICsgaGFsZkJvZHkgKyAoTnVtYmVyKG1vZGlmaWVyc1sncGh5c2ljYWxfdHJhY2snXSkgfHwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFjay5waHlzaWNhbC5tYXggPSAxMiArIGhhbGZCb2R5ICsgKE51bWJlcihtb2RpZmllcnNbJ3BoeXNpY2FsX3RyYWNrJ10pIHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLmxhYmVsID0gQ09ORklHLlNSNS5kYW1hZ2VUeXBlcy5waHlzaWNhbDtcblxuICAgICAgICBjb25zdCByYXRpbmcgPSBtYXRyaXgucmF0aW5nIHx8IDA7XG4gICAgICAgIG1hdHJpeC5jb25kaXRpb25fbW9uaXRvci5tYXggPSA4ICsgTWF0aC5jZWlsKHJhdGluZyAvIDIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTW92ZW1lbnQoZGF0YTogVmVoaWNsZUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IHZlaGljbGVfc3RhdHMsIG1vdmVtZW50LCBpc09mZlJvYWQgfSA9IGRhdGE7XG5cbiAgICAgICAgbGV0IHNwZWVkVG90YWwgPSBIZWxwZXJzLmNhbGNUb3RhbChpc09mZlJvYWQgPyB2ZWhpY2xlX3N0YXRzLm9mZl9yb2FkX3NwZWVkIDogdmVoaWNsZV9zdGF0cy5zcGVlZCk7XG5cbiAgICAgICAgLy8gYWxnb3JpdGhtIHRvIGRldGVybWluZSBzcGVlZCwgQ1JCIHBnIDIwMiB0YWJsZVxuICAgICAgICBtb3ZlbWVudC53YWxrLmJhc2UgPSA1ICogTWF0aC5wb3coMiwgc3BlZWRUb3RhbCAtIDEpO1xuICAgICAgICBtb3ZlbWVudC53YWxrLnZhbHVlID0gbW92ZW1lbnQud2Fsay5iYXNlO1xuXG4gICAgICAgIG1vdmVtZW50LnJ1bi5iYXNlID0gMTAgKiBNYXRoLnBvdygyLCBzcGVlZFRvdGFsIC0gMSk7XG4gICAgICAgIG1vdmVtZW50LnJ1bi52YWx1ZSA9IG1vdmVtZW50LnJ1bi5iYXNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTWVhdHNwYWNlSW5pdChkYXRhOiBWZWhpY2xlQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgdmVoaWNsZV9zdGF0cywgaW5pdGlhdGl2ZSB9ID0gZGF0YTtcblxuICAgICAgICBjb25zdCBwaWxvdCA9IEhlbHBlcnMuY2FsY1RvdGFsKHZlaGljbGVfc3RhdHMucGlsb3QpO1xuXG4gICAgICAgIGluaXRpYXRpdmUubWVhdHNwYWNlLmJhc2UuYmFzZSA9IHBpbG90ICogMjtcbiAgICAgICAgaW5pdGlhdGl2ZS5tZWF0c3BhY2UuZGljZS5iYXNlID0gNDtcbiAgICAgICAgSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5tZWF0c3BhY2UuYmFzZSk7XG4gICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGluaXRpYXRpdmUubWVhdHNwYWNlLmRpY2UpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlQXJtb3IoZGF0YTogVmVoaWNsZUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGFybW9yIH0gPSBkYXRhO1xuICAgICAgICBhcm1vci5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChhcm1vci5tb2QsICdTUjUuVGVtcG9yYXJ5JywgYXJtb3JbJ3RlbXAnXSk7XG4gICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGFybW9yKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcbmltcG9ydCB7IFBhcnRzTGlzdCB9IGZyb20gJy4uLy4uLy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycyc7XG5cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVzUHJlcCB7XG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBhY3RvciBkYXRhIGZvciBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgc3RhdGljIHByZXBhcmVBdHRyaWJ1dGVzKGRhdGE6IFNSNUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGF0dHJpYnV0ZXMgfSA9IGRhdGE7XG5cbiAgICAgICAgLy8gYWx3YXlzIGhhdmUgc3BlY2lhbCBhdHRyaWJ1dGVzIHNldCB0byBoaWRkZW5cbiAgICAgICAgYXR0cmlidXRlcy5tYWdpYy5oaWRkZW4gPSB0cnVlO1xuICAgICAgICBhdHRyaWJ1dGVzLnJlc29uYW5jZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICBhdHRyaWJ1dGVzLmVkZ2UuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgYXR0cmlidXRlcy5lc3NlbmNlLmhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBmb3IgdGhlIGF0dHJpYnV0ZXNcbiAgICAgICAgZm9yIChsZXQgW2tleSwgYXR0cmlidXRlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgbWFuYWdlIHRoZSBhdHRyaWJ1dGUgaWYgaXQgaXMgdXNpbmcgdGhlIG9sZCBtZXRob2Qgb2YgZWRnZSB0cmFja2luZ1xuICAgICAgICAgICAgLy8gbmVlZGVkIHRvIGJlIGFibGUgdG8gbWlncmF0ZSB0aGluZ3MgY29ycmVjdGx5XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnZWRnZScgJiYgYXR0cmlidXRlWyd1c2VzJ10gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gYWx3YXlzIGNsZWFyIHRoZSBtb2QgbGlzdCBvbiBwcmVwXG4gICAgICAgICAgICBhdHRyaWJ1dGUubW9kID0gW107XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QoYXR0cmlidXRlLm1vZCk7XG5cbiAgICAgICAgICAgIGF0dHJpYnV0ZS5tb2QgPSBwYXJ0cy5saXN0O1xuICAgICAgICAgICAgSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlKTtcbiAgICAgICAgICAgIC8vIGFkZCBsYWJlbHNcbiAgICAgICAgICAgIGF0dHJpYnV0ZS5sYWJlbCA9IENPTkZJRy5TUjUuYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFNSNUFjdG9yRGF0YSA9IFNoYWRvd3J1bi5TUjVBY3RvckRhdGE7XG5pbXBvcnQgUGh5c2ljYWxUcmFja0FjdG9yRGF0YSA9IFNoYWRvd3J1bi5QaHlzaWNhbFRyYWNrQWN0b3JEYXRhO1xuaW1wb3J0IFN0dW5UcmFja0FjdG9yRGF0YSA9IFNoYWRvd3J1bi5TdHVuVHJhY2tBY3RvckRhdGE7XG5pbXBvcnQgVHdvVHJhY2tBY3RvckRhdGEgPSBTaGFkb3dydW4uVHdvVHJhY2tBY3RvckRhdGE7XG5cbmV4cG9ydCBjbGFzcyBDb25kaXRpb25Nb25pdG9yc1ByZXAge1xuICAgIHN0YXRpYyBwcmVwYXJlU3R1bihkYXRhOiBTUjVBY3RvckRhdGEgJiBTdHVuVHJhY2tBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyB0cmFjaywgYXR0cmlidXRlcywgbW9kaWZpZXJzIH0gPSBkYXRhO1xuXG4gICAgICAgIHRyYWNrLnN0dW4ubWF4ID0gOCArIE1hdGguY2VpbChhdHRyaWJ1dGVzLndpbGxwb3dlci52YWx1ZSAvIDIpICsgTnVtYmVyKG1vZGlmaWVyc1snc3R1bl90cmFjayddKTtcbiAgICAgICAgdHJhY2suc3R1bi5sYWJlbCA9IENPTkZJRy5TUjUuZGFtYWdlVHlwZXMuc3R1bjtcbiAgICAgICAgdHJhY2suc3R1bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlUGh5c2ljYWwoZGF0YTogU1I1QWN0b3JEYXRhICYgUGh5c2ljYWxUcmFja0FjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IHRyYWNrLCBhdHRyaWJ1dGVzLCBtb2RpZmllcnMgfSA9IGRhdGE7XG5cbiAgICAgICAgdHJhY2sucGh5c2ljYWwubWF4ID0gOCArIE1hdGguY2VpbChhdHRyaWJ1dGVzLmJvZHkudmFsdWUgLyAyKSArIE51bWJlcihtb2RpZmllcnNbJ3BoeXNpY2FsX3RyYWNrJ10pO1xuICAgICAgICB0cmFjay5waHlzaWNhbC5vdmVyZmxvdy5tYXggPSBhdHRyaWJ1dGVzLmJvZHkudmFsdWU7XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLmxhYmVsID0gQ09ORklHLlNSNS5kYW1hZ2VUeXBlcy5waHlzaWNhbDtcbiAgICAgICAgdHJhY2sucGh5c2ljYWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJlcGFyZUdydW50KGRhdGE6IFNSNUFjdG9yRGF0YSAmIFR3b1RyYWNrQWN0b3JEYXRhKSB7XG4gICAgICAgIC8vIEdydW50cyB1c2Ugb25seSBvbmUgbW9uaXRvciwgdXNlIHBoeXNpY2FsIHRvIGdldCBvdmVyZmxvdyBmdW5jdGlvbmFsaXR5LlxuICAgICAgICBDb25kaXRpb25Nb25pdG9yc1ByZXAucHJlcGFyZVN0dW4oZGF0YSk7XG5cbiAgICAgICAgY29uc3QgeyB0cmFjaywgYXR0cmlidXRlcywgbW9kaWZpZXJzIH0gPSBkYXRhO1xuICAgICAgICAvLyBPdmVyd3JpdGUgc3R1biBkYW1hZ2UgdG8gYXZvaWQgaW52aXNpYmxlIGRhbWFnZSBtb2RpZmllcnMuXG4gICAgICAgIHRyYWNrLnN0dW4udmFsdWUgPSAwO1xuICAgICAgICB0cmFjay5zdHVuLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBHcnVudHMgdXNlIGVpdGhlciB0aGVpciBXSUwgb3IgQk9EIGFzIHRoZWlyIG1vbml0b3JzIGF0dHJpYnV0ZS5cbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlcy53aWxscG93ZXIudmFsdWUgPiBhdHRyaWJ1dGVzLmJvZHkudmFsdWUgP1xuICAgICAgICAgICAgYXR0cmlidXRlcy53aWxscG93ZXI6XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmJvZHk7XG5cbiAgICAgICAgLy8gVE9ETzogU2hvdWxkIHRyYWNrIG1vZGlmaWVycyBzd2l0Y2ggYWNjb3JkaW5nIHRvIHVzZWQgYXR0cmlidXRlP1xuICAgICAgICB0cmFjay5waHlzaWNhbC5tYXggPSA4ICsgTWF0aC5jZWlsKGF0dHJpYnV0ZS52YWx1ZSAvIDIpICsgTnVtYmVyKG1vZGlmaWVyc1sncGh5c2ljYWxfdHJhY2snXSk7XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLm92ZXJmbG93Lm1heCA9IGF0dHJpYnV0ZXMuYm9keS52YWx1ZTtcbiAgICAgICAgdHJhY2sucGh5c2ljYWwubGFiZWwgPSBcIlNSNS5Db25kaXRpb25Nb25pdG9yXCI7XG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IFNSNUFjdG9yRGF0YSA9IFNoYWRvd3J1bi5TUjVBY3RvckRhdGE7XG5pbXBvcnQgTWFnaWNBY3RvckRhdGEgPSBTaGFkb3dydW4uTWFnaWNBY3RvckRhdGE7XG5pbXBvcnQgTWF0cml4QWN0b3JEYXRhID0gU2hhZG93cnVuLk1hdHJpeEFjdG9yRGF0YTtcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IFBhcnRzTGlzdCB9IGZyb20gJy4uLy4uLy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBJbml0aWF0aXZlUHJlcCB7XG4gICAgc3RhdGljIHByZXBhcmVDdXJyZW50SW5pdGlhdGl2ZShkYXRhOiBTUjVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWF0aXZlIH0gPSBkYXRhO1xuXG4gICAgICAgIGlmIChpbml0aWF0aXZlLnBlcmNlcHRpb24gPT09ICdtYXRyaXgnKSBpbml0aWF0aXZlLmN1cnJlbnQgPSBpbml0aWF0aXZlLm1hdHJpeDtcbiAgICAgICAgZWxzZSBpZiAoaW5pdGlhdGl2ZS5wZXJjZXB0aW9uID09PSAnYXN0cmFsJykgaW5pdGlhdGl2ZS5jdXJyZW50ID0gaW5pdGlhdGl2ZS5hc3RyYWw7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5jdXJyZW50ID0gaW5pdGlhdGl2ZS5tZWF0c3BhY2U7XG4gICAgICAgICAgICBpbml0aWF0aXZlLnBlcmNlcHRpb24gPSAnbWVhdHNwYWNlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGluaXRpYXRpdmUuY3VycmVudC5kaWNlLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5jdXJyZW50LmRpY2UpO1xuICAgICAgICBpZiAoaW5pdGlhdGl2ZS5lZGdlKSBpbml0aWF0aXZlLmN1cnJlbnQuZGljZS52YWx1ZSA9IDU7XG4gICAgICAgIGluaXRpYXRpdmUuY3VycmVudC5kaWNlLnZhbHVlID0gTWF0aC5taW4oNSwgaW5pdGlhdGl2ZS5jdXJyZW50LmRpY2UudmFsdWUpOyAvLyBtYXhpbXVtIG9mIDVkNiBmb3IgaW5pdGlhdGl2ZVxuICAgICAgICBpbml0aWF0aXZlLmN1cnJlbnQuZGljZS50ZXh0ID0gYCR7aW5pdGlhdGl2ZS5jdXJyZW50LmRpY2UudmFsdWV9ZDZgO1xuXG4gICAgICAgIGluaXRpYXRpdmUuY3VycmVudC5iYXNlLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoaW5pdGlhdGl2ZS5jdXJyZW50LmJhc2UpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTWVhdHNwYWNlSW5pdChkYXRhOiBTUjVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWF0aXZlLCBhdHRyaWJ1dGVzLCBtb2RpZmllcnMgfSA9IGRhdGE7XG5cbiAgICAgICAgaW5pdGlhdGl2ZS5tZWF0c3BhY2UuYmFzZS5iYXNlID0gYXR0cmlidXRlcy5pbnR1aXRpb24udmFsdWUgKyBhdHRyaWJ1dGVzLnJlYWN0aW9uLnZhbHVlO1xuICAgICAgICBpbml0aWF0aXZlLm1lYXRzcGFjZS5iYXNlLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGluaXRpYXRpdmUubWVhdHNwYWNlLmJhc2UubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydtZWF0X2luaXRpYXRpdmUnXSkpO1xuXG4gICAgICAgIGluaXRpYXRpdmUubWVhdHNwYWNlLmRpY2UuYmFzZSA9IDE7XG4gICAgICAgIGluaXRpYXRpdmUubWVhdHNwYWNlLmRpY2UubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoaW5pdGlhdGl2ZS5tZWF0c3BhY2UuZGljZS5tb2QsIFwiU1I1LkJvbnVzXCIsIE51bWJlcihtb2RpZmllcnNbJ21lYXRfaW5pdGlhdGl2ZV9kaWNlJ10pKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJlcGFyZUFzdHJhbEluaXQoZGF0YTogU1I1QWN0b3JEYXRhICYgTWFnaWNBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWF0aXZlLCBhdHRyaWJ1dGVzLCBtb2RpZmllcnMgfSA9IGRhdGE7XG5cbiAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuYmFzZS5iYXNlID0gYXR0cmlidXRlcy5pbnR1aXRpb24udmFsdWUgKiAyO1xuICAgICAgICBpbml0aWF0aXZlLmFzdHJhbC5iYXNlLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGluaXRpYXRpdmUuYXN0cmFsLmJhc2UubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydhc3RyYWxfaW5pdGlhdGl2ZSddKSk7XG5cbiAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuZGljZS5iYXNlID0gMjtcbiAgICAgICAgaW5pdGlhdGl2ZS5hc3RyYWwuZGljZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLmFzdHJhbC5kaWNlLm1vZCwgXCJTUjUuQm9udXNcIiwgTnVtYmVyKG1vZGlmaWVyc1snYXN0cmFsX2luaXRpYXRpdmVfZGljZSddKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHByZXBhcmVNYXRyaXhJbml0KGRhdGE6IFNSNUFjdG9yRGF0YSAmIE1hdHJpeEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGluaXRpYXRpdmUsIGF0dHJpYnV0ZXMsIG1vZGlmaWVycywgbWF0cml4IH0gPSBkYXRhO1xuICAgICAgICBpZiAobWF0cml4KSB7XG5cbiAgICAgICAgICAgIGluaXRpYXRpdmUubWF0cml4LmJhc2UuYmFzZSA9IGF0dHJpYnV0ZXMuaW50dWl0aW9uLnZhbHVlICsgZGF0YS5tYXRyaXguZGF0YV9wcm9jZXNzaW5nLnZhbHVlO1xuICAgICAgICAgICAgaW5pdGlhdGl2ZS5tYXRyaXguYmFzZS5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChpbml0aWF0aXZlLm1hdHJpeC5iYXNlLm1vZCwgXCJTUjUuQm9udXNcIiwgTnVtYmVyKG1vZGlmaWVyc1snbWF0cml4X2luaXRpYXRpdmUnXSkpO1xuXG4gICAgICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5kaWNlLmJhc2UgPSAobWF0cml4LmhvdF9zaW0gPyA0IDogMyk7XG4gICAgICAgICAgICBpbml0aWF0aXZlLm1hdHJpeC5kaWNlLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGluaXRpYXRpdmUubWF0cml4LmRpY2UubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydtYXRyaXhfaW5pdGlhdGl2ZV9kaWNlJ10pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IHsgU1I1SXRlbURhdGFXcmFwcGVyIH0gZnJvbSAnLi4vLi4vLi4vaXRlbS9TUjVJdGVtRGF0YVdyYXBwZXInO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vLi4vLi4vcGFydHMvUGFydHNMaXN0JztcbmltcG9ydCBBcm1vckFjdG9yRGF0YSA9IFNoYWRvd3J1bi5Bcm1vckFjdG9yRGF0YTtcblxuZXhwb3J0IGNsYXNzIEl0ZW1QcmVwIHtcbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHRoZSBhcm1vciBkYXRhIGZvciB0aGUgSXRlbVxuICAgICAqIC0gd2lsbCBvbmx5IGFsbG93IG9uZSBcIkJhc2VcIiBhcm1vciBpdGVtIHRvIGJlIHVzZWRcbiAgICAgKiAtIGFsbCBcImFjY2Vzc29yaWVzXCIgd2lsbCBiZSBhZGRlZCB0byB0aGUgYXJtb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgcHJlcGFyZUFybW9yKGRhdGE6IFNSNUFjdG9yRGF0YSAmIEFybW9yQWN0b3JEYXRhLCBpdGVtczogU1I1SXRlbURhdGFXcmFwcGVyW10pIHtcbiAgICAgICAgY29uc3QgeyBhcm1vciB9ID0gZGF0YTtcbiAgICAgICAgYXJtb3IuYmFzZSA9IDA7XG4gICAgICAgIGFybW9yLnZhbHVlID0gMDtcbiAgICAgICAgYXJtb3IubW9kID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBPYmplY3Qua2V5cyhDT05GSUcuU1I1LmVsZW1lbnRUeXBlcykpIHtcbiAgICAgICAgICAgIGFybW9yW2VsZW1lbnRdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVxdWlwcGVkQXJtb3IgPSBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaGFzQXJtb3IoKSAmJiBpdGVtLmlzRXF1aXBwZWQoKSk7XG4gICAgICAgIGNvbnN0IGFybW9yTW9kUGFydHMgPSBuZXcgUGFydHNMaXN0PG51bWJlcj4oYXJtb3IubW9kKTtcbiAgICAgICAgZXF1aXBwZWRBcm1vcj8uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uaGFzQXJtb3JBY2Nlc3NvcnkoKSkge1xuICAgICAgICAgICAgICAgIGFybW9yTW9kUGFydHMuYWRkVW5pcXVlUGFydChpdGVtLmdldE5hbWUoKSwgaXRlbS5nZXRBcm1vclZhbHVlKCkpO1xuICAgICAgICAgICAgfSAvLyBpZiBub3QgYSBtb2QsIHNldCBhcm1vci52YWx1ZSB0byB0aGUgaXRlbXMgdmFsdWVcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFybW9yLmJhc2UgPSBpdGVtLmdldEFybW9yVmFsdWUoKTtcbiAgICAgICAgICAgICAgICBhcm1vci5sYWJlbCA9IGl0ZW0uZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBPYmplY3Qua2V5cyhDT05GSUcuU1I1LmVsZW1lbnRUeXBlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJtb3JbZWxlbWVudF0gPSBpdGVtLmdldEFybW9yRWxlbWVudHMoKVtlbGVtZW50XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChkYXRhLm1vZGlmaWVyc1snYXJtb3InXSkgYXJtb3JNb2RQYXJ0cy5hZGRVbmlxdWVQYXJ0KGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkJvbnVzJyksIGRhdGEubW9kaWZpZXJzWydhcm1vciddKTtcbiAgICAgICAgLy8gU0VUIEFSTU9SXG4gICAgICAgIGFybW9yLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoYXJtb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIGFjdG9yIGRhdGEgZm9yIGN5YmVyd2FyZSBjaGFuZ2VzXG4gICAgICogLSB0aGlzIGNhbGN1bGF0ZXMgdGhlIGFjdG9ycyBlc3NlbmNlXG4gICAgICovXG4gICAgc3RhdGljIHByZXBhcmVDeWJlcndhcmUoZGF0YTogU1I1QWN0b3JEYXRhLCBpdGVtczogU1I1SXRlbURhdGFXcmFwcGVyW10pIHtcbiAgICAgICAgY29uc3QgeyBhdHRyaWJ1dGVzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuICAgICAgICAvLyBhZGQgSXRlbXMgYXMgdmFsdWVzIHRvIGxvd2VyIHRoZSB0b3RhbCB2YWx1ZSBvZiBlc3NlbmNlXG4gICAgICAgIGl0ZW1zXG4gICAgICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlzQ3liZXJ3YXJlKCkgJiYgaXRlbS5pc0VxdWlwcGVkKCkpXG4gICAgICAgICAgICAuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmdldEVzc2VuY2VMb3NzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChpdGVtLmdldE5hbWUoKSwgLU51bWJlcihpdGVtLmdldEVzc2VuY2VMb3NzKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gYWRkIHRoZSBib251cyBmcm9tIHRoZSBtaXNjIHRhYiBpZiBhcHBsaWVkXG4gICAgICAgIGNvbnN0IGVzc2VuY2VNb2QgPSBkYXRhLm1vZGlmaWVyc1snZXNzZW5jZSddO1xuICAgICAgICBpZiAoZXNzZW5jZU1vZCAmJiAhTnVtYmVyLmlzTmFOKGVzc2VuY2VNb2QpKSB7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQm9udXMnLCBOdW1iZXIoZXNzZW5jZU1vZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0cmlidXRlcy5lc3NlbmNlLmJhc2UgPSA2O1xuICAgICAgICBhdHRyaWJ1dGVzLmVzc2VuY2UubW9kID0gcGFydHMubGlzdDtcbiAgICAgICAgYXR0cmlidXRlcy5lc3NlbmNlLnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5lc3NlbmNlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcbmltcG9ydCB7IFBhcnRzTGlzdCB9IGZyb20gJy4uLy4uLy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycyc7XG5cbmV4cG9ydCBjbGFzcyBMaW1pdHNQcmVwIHtcbiAgICBzdGF0aWMgcHJlcGFyZUxpbWl0cyhkYXRhOiBTUjVBY3RvckRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBsaW1pdHMsIG1vZGlmaWVycyB9ID0gZGF0YTtcblxuICAgICAgICAvLyBTRVRVUCBMSU1JVFNcbiAgICAgICAgbGltaXRzLnBoeXNpY2FsLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGxpbWl0cy5waHlzaWNhbC5tb2QsICdTUjUuQm9udXMnLCBOdW1iZXIobW9kaWZpZXJzWydwaHlzaWNhbF9saW1pdCddKSk7XG4gICAgICAgIGxpbWl0cy5tZW50YWwubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQobGltaXRzLm1lbnRhbC5tb2QsICdTUjUuQm9udXMnLCBOdW1iZXIobW9kaWZpZXJzWydtZW50YWxfbGltaXQnXSkpO1xuICAgICAgICBsaW1pdHMuc29jaWFsLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KGxpbWl0cy5zb2NpYWwubW9kLCBcIlNSNS5Cb251c1wiLCBOdW1iZXIobW9kaWZpZXJzWydzb2NpYWxfbGltaXQnXSkpO1xuXG4gICAgICAgIC8vIGxpbWl0IGxhYmVsc1xuICAgICAgICBmb3IgKGxldCBbbGltaXRLZXksIGxpbWl0VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGxpbWl0cykpIHtcbiAgICAgICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGxpbWl0VmFsdWUpO1xuICAgICAgICAgICAgbGltaXRWYWx1ZS5sYWJlbCA9IENPTkZJRy5TUjUubGltaXRzW2xpbWl0S2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBwcmVwYXJlTGltaXRCYXNlRnJvbUF0dHJpYnV0ZXMoZGF0YTogU1I1QWN0b3JEYXRhKSB7XG5cbiAgICAgICAgY29uc3QgeyBsaW1pdHMsIGF0dHJpYnV0ZXMgfSA9IGRhdGE7XG5cbiAgICAgICAgbGltaXRzLnBoeXNpY2FsLmJhc2UgPSBNYXRoLmNlaWwoKDIgKiBhdHRyaWJ1dGVzLnN0cmVuZ3RoLnZhbHVlICsgYXR0cmlidXRlcy5ib2R5LnZhbHVlICsgYXR0cmlidXRlcy5yZWFjdGlvbi52YWx1ZSkgLyAzKTtcbiAgICAgICAgbGltaXRzLm1lbnRhbC5iYXNlID0gTWF0aC5jZWlsKCgyICogYXR0cmlidXRlcy5sb2dpYy52YWx1ZSArIGF0dHJpYnV0ZXMuaW50dWl0aW9uLnZhbHVlICsgYXR0cmlidXRlcy53aWxscG93ZXIudmFsdWUpIC8gMyk7XG4gICAgICAgIGxpbWl0cy5zb2NpYWwuYmFzZSA9IE1hdGguY2VpbCgoMiAqIGF0dHJpYnV0ZXMuY2hhcmlzbWEudmFsdWUgKyBhdHRyaWJ1dGVzLndpbGxwb3dlci52YWx1ZSArIGF0dHJpYnV0ZXMuZXNzZW5jZS52YWx1ZSkgLyAzKTtcblxuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IE1hdHJpeEFjdG9yRGF0YSA9IFNoYWRvd3J1bi5NYXRyaXhBY3RvckRhdGE7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBTUjVJdGVtRGF0YVdyYXBwZXIgfSBmcm9tICcuLi8uLi8uLi9pdGVtL1NSNUl0ZW1EYXRhV3JhcHBlcic7XG5pbXBvcnQgeyBQYXJ0c0xpc3QgfSBmcm9tICcuLi8uLi8uLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuXG5leHBvcnQgY2xhc3MgTWF0cml4UHJlcCB7XG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBNYXRyaXggZGF0YSBvbiB0aGUgYWN0b3JcbiAgICAgKiAtIGlmIGFuIGl0ZW0gaXMgZXF1aXBwZWQsIGl0IHdpbGwgdXNlIHRoYXQgZGF0YVxuICAgICAqIC0gaWYgaXQgaXNuJ3QgYW5kIHBsYXllciBpcyB0ZWNobm9tYW5jZXIsIGl0IHdpbGwgdXNlIHRoYXQgZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlTWF0cml4KGFjdG9yRGF0YTogU1I1QWN0b3JEYXRhICYgTWF0cml4QWN0b3JEYXRhLCBpdGVtczogU1I1SXRlbURhdGFXcmFwcGVyW10pIHtcbiAgICAgICAgY29uc3QgeyBtYXRyaXgsIGF0dHJpYnV0ZXMgfSA9IGFjdG9yRGF0YTtcblxuICAgICAgICBjb25zdCBNYXRyaXhMaXN0ID0gWydmaXJld2FsbCcsICdzbGVhemUnLCAnZGF0YV9wcm9jZXNzaW5nJywgJ2F0dGFjayddO1xuXG4gICAgICAgIC8vIGNsZWFyIG1hdHJpeCBkYXRhIHRvIGRlZmF1bHRzXG4gICAgICAgIE1hdHJpeExpc3QuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QobWF0cml4W2tleV0ubW9kKTtcbiAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5UZW1wb3JhcnknLCBtYXRyaXhba2V5XS50ZW1wKTtcbiAgICAgICAgICAgIC8vIFRPRE8gTEVHQUNZIGZyb20gd2hlbiB0aGUgc2hlZXQgdXNlZCAnbW9kLlRlbXBvcmFyeSdcbiAgICAgICAgICAgIHBhcnRzLnJlbW92ZVBhcnQoJ1RlbXBvcmFyeScpO1xuICAgICAgICAgICAgbWF0cml4W2tleV0ubW9kID0gcGFydHMubGlzdDtcbiAgICAgICAgICAgIG1hdHJpeFtrZXldLnZhbHVlID0gcGFydHMudG90YWw7XG4gICAgICAgIH0pO1xuICAgICAgICBtYXRyaXguY29uZGl0aW9uX21vbml0b3IubWF4ID0gMDtcbiAgICAgICAgbWF0cml4LnJhdGluZyA9IDA7XG4gICAgICAgIG1hdHJpeC5uYW1lID0gJyc7XG4gICAgICAgIG1hdHJpeC5kZXZpY2UgPSAnJztcbiAgICAgICAgbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLmxhYmVsID0gJ1NSNS5Db25kaXRpb25Nb25pdG9yJztcblxuICAgICAgICAvLyBnZXQgdGhlIGZpcnN0IGVxdWlwcGVkIGRldmljZSwgd2UgZG9uJ3QgY2FyZSBpZiB0aGV5IGhhdmUgbW9yZSBlcXVpcHBlZCAtLSBpdCBzaG91bGRuJ3QgaGFwcGVuXG4gICAgICAgIGNvbnN0IGRldmljZSA9IGl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaXNFcXVpcHBlZCgpICYmIGl0ZW0uaXNEZXZpY2UoKSk7XG5cbiAgICAgICAgaWYgKGRldmljZSkge1xuICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uTW9uaXRvciA9IGRldmljZS5nZXRDb25kaXRpb25Nb25pdG9yKCk7XG4gICAgICAgICAgICBtYXRyaXguZGV2aWNlID0gZGV2aWNlLmdldElkKCk7XG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uX21vbml0b3IubWF4ID0gY29uZGl0aW9uTW9uaXRvci5tYXg7XG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uX21vbml0b3IudmFsdWUgPSBjb25kaXRpb25Nb25pdG9yLnZhbHVlO1xuICAgICAgICAgICAgbWF0cml4LnJhdGluZyA9IGRldmljZS5nZXRSYXRpbmcoKTtcbiAgICAgICAgICAgIG1hdHJpeC5pc19jeWJlcmRlY2sgPSBkZXZpY2UuaXNDeWJlcmRlY2soKTtcbiAgICAgICAgICAgIG1hdHJpeC5uYW1lID0gZGV2aWNlLmdldE5hbWUoKTtcbiAgICAgICAgICAgIG1hdHJpeC5pdGVtID0gZGV2aWNlLmdldERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZUF0dHMgPSBkZXZpY2UuZ2V0QVNERigpO1xuICAgICAgICAgICAgaWYgKGRldmljZUF0dHMpIHtcbiAgICAgICAgICAgICAgICAvLyBzZXR1cCB0aGUgYWN0dWFsIG1hdHJpeCBhdHRyaWJ1dGVzIGZvciB0aGUgYWN0b3JcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkZXZpY2VBdHRzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgbWF0cml4W2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtrZXldLmJhc2UgPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtrZXldLmRldmljZV9hdHQgPSB2YWx1ZS5kZXZpY2VfYXR0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IC8vIGlmIHdlIGRvbid0IGhhdmUgYSBkZXZpY2UsIHVzZSBsaXZpbmcgcGVyc29uYVxuICAgICAgICBlbHNlIGlmIChhY3RvckRhdGEuc3BlY2lhbCA9PT0gJ3Jlc29uYW5jZScpIHtcbiAgICAgICAgICAgIG1hdHJpeC5maXJld2FsbC5iYXNlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy53aWxscG93ZXIpO1xuICAgICAgICAgICAgbWF0cml4LmRhdGFfcHJvY2Vzc2luZy5iYXNlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5sb2dpYyk7XG4gICAgICAgICAgICBtYXRyaXgucmF0aW5nID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5yZXNvbmFuY2UpO1xuICAgICAgICAgICAgbWF0cml4LmF0dGFjay5iYXNlID0gSGVscGVycy5jYWxjVG90YWwoYXR0cmlidXRlcy5jaGFyaXNtYSk7XG4gICAgICAgICAgICBtYXRyaXguc2xlYXplLmJhc2UgPSBIZWxwZXJzLmNhbGNUb3RhbChhdHRyaWJ1dGVzLmludHVpdGlvbik7XG4gICAgICAgICAgICBtYXRyaXgubmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkxpdmluZ1BlcnNvbmEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBtYXRyaXggY29uZGl0aW9uIG1vbml0b3IgdG8gbWF4IGlmIGdyZWF0ZXIgdGhhblxuICAgICAgICBpZiAobWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlID4gbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLm1heCkge1xuICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlID0gbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLm1heDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBNYXRyaXggQXR0cmlidXRlcyB0byBMaW1pdHMgYW5kIEF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlTWF0cml4VG9MaW1pdHNBbmRBdHRyaWJ1dGVzKGRhdGE6IFNSNUFjdG9yRGF0YSAmIE1hdHJpeEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IG1hdHJpeCwgYXR0cmlidXRlcywgbGltaXRzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBNYXRyaXhMaXN0ID0gWydmaXJld2FsbCcsICdzbGVhemUnLCAnZGF0YV9wcm9jZXNzaW5nJywgJ2F0dGFjayddO1xuXG4gICAgICAgIC8vIGFkZCBtYXRyaXggYXR0cmlidXRlcyB0byBib3RoIGxpbWl0cyBhbmQgYXR0cmlidXRlcyBhcyBoaWRkZW4gZW50cmllc1xuICAgICAgICBNYXRyaXhMaXN0LmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgSGVscGVycy5jYWxjVG90YWwobWF0cml4W2tleV0pO1xuICAgICAgICAgICAgaWYgKG1hdHJpeFtrZXldKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBDT05GSUcuU1I1Lm1hdHJpeEF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBiYXNlLCBtb2QgfSA9IG1hdHJpeFtrZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsaW1pdHNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgICAgICAgICAgIG1vZCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgICAgICAgICAgIG1vZCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHRoZSBtZW50YWwgYXR0cmlidXRlcyBmb3IgYSBzaGVldCB0aGF0IGp1c3QgaGFzIGEgZGV2aWNlIHJhdGluZ1xuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgc3RhdGljIHByZXBhcmVBdHRyaWJ1dGVzRm9yRGV2aWNlKGRhdGE6IFNSNUFjdG9yRGF0YSAmIE1hdHJpeEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IG1hdHJpeCwgYXR0cmlidXRlcyB9ID0gZGF0YTtcbiAgICAgICAgY29uc3QgcmF0aW5nID0gbWF0cml4LnJhdGluZyB8fCAwO1xuICAgICAgICBjb25zdCBtZW50YWxBdHRyaWJ1dGVzID0gWydpbnR1aXRpb24nLCAnbG9naWMnLCAnY2hhcmlzbWEnLCAnd2lsbHBvd2VyJ107XG5cbiAgICAgICAgbWVudGFsQXR0cmlidXRlcy5mb3JFYWNoKChhdHRMYWJlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0TGFiZWxdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dExhYmVsXS5iYXNlID0gcmF0aW5nO1xuICAgICAgICAgICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGF0dHJpYnV0ZXNbYXR0TGFiZWxdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJhc2ljID0gWydmaXJld2FsbCcsICdkYXRhX3Byb2Nlc3NpbmcnXTtcbiAgICAgICAgYmFzaWMuZm9yRWFjaCgoYXR0SWQpID0+IHtcbiAgICAgICAgICAgIG1hdHJpeFthdHRJZF0uYmFzZSA9IHJhdGluZztcbiAgICAgICAgfSk7XG4gICAgICAgIFsuLi5iYXNpYywgJ3NsZWF6ZScsICdhdHRhY2snXS5mb3JFYWNoKChhdHRJZCkgPT4ge1xuICAgICAgICAgICAgSGVscGVycy5jYWxjVG90YWwobWF0cml4W2F0dElkXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuXG5leHBvcnQgY2xhc3MgTW9kaWZpZXJzUHJlcCB7XG4gICAgLyoqXG4gICAgICogUHJlcGFyZSB0aGUgbW9kaWZpZXJzIHRoYXQgYXJlIGRpc3BsYXllZCBpbiB0aGUgTWlzYy4gdGFiXG4gICAgICovXG4gICAgc3RhdGljIHByZXBhcmVNb2RpZmllcnMoZGF0YTogU1I1QWN0b3JEYXRhKSB7XG4gICAgICAgIGlmICghZGF0YS5tb2RpZmllcnMpIGRhdGEubW9kaWZpZXJzID0ge307XG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IHt9O1xuICAgICAgICBsZXQgbWlzY1RhYk1vZGlmaWVycyA9IFtcbiAgICAgICAgICAgICdzb2FrJyxcbiAgICAgICAgICAgICdkcmFpbicsXG4gICAgICAgICAgICAnYXJtb3InLFxuICAgICAgICAgICAgJ3BoeXNpY2FsX2xpbWl0JyxcbiAgICAgICAgICAgICdzb2NpYWxfbGltaXQnLFxuICAgICAgICAgICAgJ21lbnRhbF9saW1pdCcsXG4gICAgICAgICAgICAnc3R1bl90cmFjaycsXG4gICAgICAgICAgICAncGh5c2ljYWxfdHJhY2snLFxuICAgICAgICAgICAgJ21lYXRfaW5pdGlhdGl2ZScsXG4gICAgICAgICAgICAnbWVhdF9pbml0aWF0aXZlX2RpY2UnLFxuICAgICAgICAgICAgJ2FzdHJhbF9pbml0aWF0aXZlJyxcbiAgICAgICAgICAgICdhc3RyYWxfaW5pdGlhdGl2ZV9kaWNlJyxcbiAgICAgICAgICAgICdtYXRyaXhfaW5pdGlhdGl2ZScsXG4gICAgICAgICAgICAnbWF0cml4X2luaXRpYXRpdmVfZGljZScsXG4gICAgICAgICAgICAnY29tcG9zdXJlJyxcbiAgICAgICAgICAgICdsaWZ0X2NhcnJ5JyxcbiAgICAgICAgICAgICdqdWRnZV9pbnRlbnRpb25zJyxcbiAgICAgICAgICAgICdtZW1vcnknLFxuICAgICAgICAgICAgJ3dhbGsnLFxuICAgICAgICAgICAgJ3J1bicsXG4gICAgICAgICAgICAnZGVmZW5zZScsXG4gICAgICAgICAgICAnd291bmRfdG9sZXJhbmNlJyxcbiAgICAgICAgICAgICdlc3NlbmNlJyxcbiAgICAgICAgICAgICdmYWRlJyxcbiAgICAgICAgXTtcbiAgICAgICAgbWlzY1RhYk1vZGlmaWVycy5zb3J0KCk7XG4gICAgICAgIC8vIGZvcmNlIGdsb2JhbCB0byB0aGUgdG9wXG4gICAgICAgIG1pc2NUYWJNb2RpZmllcnMudW5zaGlmdCgnZ2xvYmFsJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBtaXNjVGFiTW9kaWZpZXJzKSB7XG4gICAgICAgICAgICBtb2RpZmllcnNbaXRlbV0gPSBOdW1iZXIoZGF0YS5tb2RpZmllcnNbaXRlbV0pIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICB9XG59XG4iLCJpbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcbmltcG9ydCBNb3ZlbWVudEFjdG9yRGF0YSA9IFNoYWRvd3J1bi5Nb3ZlbWVudEFjdG9yRGF0YTtcblxuZXhwb3J0IGNsYXNzIE1vdmVtZW50UHJlcCB7XG4gICAgc3RhdGljIHByZXBhcmVNb3ZlbWVudChkYXRhOiBTUjVBY3RvckRhdGEgJiBNb3ZlbWVudEFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIG1vZGlmaWVycyB9ID0gZGF0YTtcbiAgICAgICAgY29uc3QgbW92ZW1lbnQgPSBkYXRhLm1vdmVtZW50O1xuICAgICAgICAvLyBkZWZhdWx0IG1vdmVtZW50OiBXQUxLID0gQUdJICogMiwgUlVOID0gQUdJICogNFxuICAgICAgICBtb3ZlbWVudC53YWxrLnZhbHVlID0gYXR0cmlidXRlcy5hZ2lsaXR5LnZhbHVlICogKDIgKyBOdW1iZXIobW9kaWZpZXJzWyd3YWxrJ10pKTtcbiAgICAgICAgbW92ZW1lbnQucnVuLnZhbHVlID0gYXR0cmlidXRlcy5hZ2lsaXR5LnZhbHVlICogKDQgKyBOdW1iZXIobW9kaWZpZXJzWydydW4nXSkpO1xuICAgIH1cbn1cbiIsImltcG9ydCBDaGFyYWN0ZXJBY3RvckRhdGEgPSBTaGFkb3dydW4uQ2hhcmFjdGVyQWN0b3JEYXRhO1xuaW1wb3J0IHtEYXRhVGVtcGxhdGVzfSBmcm9tIFwiLi4vLi4vLi4vZGF0YVRlbXBsYXRlc1wiO1xuaW1wb3J0IHtIZWxwZXJzfSBmcm9tIFwiLi4vLi4vLi4vaGVscGVyc1wiO1xuaW1wb3J0IHtNRVRBVFlQRU1PRElGSUVSfSBmcm9tIFwiLi4vLi4vLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1BhcnRzTGlzdH0gZnJvbSBcIi4uLy4uLy4uL3BhcnRzL1BhcnRzTGlzdFwiO1xuXG5leHBvcnQgY2xhc3MgTlBDUHJlcCB7XG4gICAgc3RhdGljIHByZXBhcmVOUENEYXRhKGRhdGE6IENoYXJhY3RlckFjdG9yRGF0YSkge1xuICAgICAgICAvLyBBcHBseSB0byBOUEMgYW5kIG5vbmUgTlBDIHRvIHJlbW92ZSBsaW5nZXJpbmcgbW9kaWZpZXJzIGFmdGVyIGFjdG9yIGhhcyBiZWVuIHJlbW92ZWQgaXQncyBucGMgc3RhdHVzLlxuICAgICAgICBOUENQcmVwLmFwcGx5TWV0YXR5cGVNb2RpZmllcnMoZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqIFJlcGxhY2UgY3VycmVudCBtZXRhdHlwZSBtb2RpZmllcnMgd2l0aCwgZXZlbiBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkLlxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIGFwcGx5TWV0YXR5cGVNb2RpZmllcnMoZGF0YTogQ2hhcmFjdGVyQWN0b3JEYXRhKSB7XG4gICAgICAgIGNvbnN0IHttZXRhdHlwZX0gPSBkYXRhO1xuICAgICAgICBsZXQgbW9kaWZpZXJzID0gRGF0YVRlbXBsYXRlcy5ncnVudC5tZXRhdHlwZV9tb2RpZmllcnNbbWV0YXR5cGVdO1xuICAgICAgICBtb2RpZmllcnMgPSBtb2RpZmllcnMgPyBtb2RpZmllcnMgOiB7fTtcblxuICAgICAgICBjb25zdCB7YXR0cmlidXRlc30gPSBkYXRhO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2F0dElkLCBhdHRyaWJ1dGVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICAvLyBvbGQtc3R5bGUgb2JqZWN0IG1vZCB0cmFuc2Zvcm1hdGlvbiBpcyBoYXBwZW5pbmcgaW4gQXR0cmlidXRlUHJlcCBhbmQgaXMgbmVlZGVkIGhlcmUuIE9yZGVyIGlzIGltcG9ydGFudC5cbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhdHRyaWJ1dGUubW9kKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBY3RvciBkYXRhIGNvbnRhaW5zIHdyb25nIGRhdGEgdHlwZSBmb3IgYXR0cmlidXRlLm1vZCcsIGF0dHJpYnV0ZSwgIUFycmF5LmlzQXJyYXkoYXR0cmlidXRlLm1vZCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RpZnlCeSA9IG1vZGlmaWVycz8uYXR0cmlidXRlcz8uW2F0dElkXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QoYXR0cmlidXRlLm1vZCk7XG4gICAgICAgICAgICAgICAgcGFydHMucmVtb3ZlUGFydChNRVRBVFlQRU1PRElGSUVSKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlzX25wYyAmJiBtb2RpZnlCeSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5hZGRQYXJ0KE1FVEFUWVBFTU9ESUZJRVIsIG1vZGlmeUJ5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUubW9kID0gcGFydHMubGlzdDtcblxuICAgICAgICAgICAgICAgIEhlbHBlcnMuY2FsY1RvdGFsKGF0dHJpYnV0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgQWRkTlBDTWV0YXR5cGVBdHRyaWJ1dGVNb2RpZmllcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogTUVUQVRZUEVNT0RJRklFUixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSBhcyBudW1iZXJcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgU1I1QWN0b3JEYXRhID0gU2hhZG93cnVuLlNSNUFjdG9yRGF0YTtcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IFBhcnRzTGlzdCB9IGZyb20gJy4uLy4uLy4uL3BhcnRzL1BhcnRzTGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBTa2lsbHNQcmVwIHtcbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIGFjdG9yIGRhdGEgZm9yIHNraWxsc1xuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlU2tpbGxzKGRhdGE6IFNSNUFjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IGxhbmd1YWdlLCBhY3RpdmUsIGtub3dsZWRnZSB9ID0gZGF0YS5za2lsbHM7XG4gICAgICAgIGlmIChsYW5ndWFnZSkge1xuICAgICAgICAgICAgaWYgKCFsYW5ndWFnZS52YWx1ZSkgbGFuZ3VhZ2UudmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGxhbmd1YWdlLmF0dHJpYnV0ZSA9ICdpbnR1aXRpb24nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZnVuY3Rpb24gdGhhdCB3aWxsIHNldCB0aGUgdG90YWwgb2YgYSBza2lsbCBjb3JyZWN0bHlcbiAgICAgICAgY29uc3QgcHJlcGFyZVNraWxsID0gKHNraWxsKSA9PiB7XG4gICAgICAgICAgICBza2lsbC5tb2QgPSBbXTtcbiAgICAgICAgICAgIGlmICghc2tpbGwuYmFzZSkgc2tpbGwuYmFzZSA9IDA7XG4gICAgICAgICAgICBpZiAoc2tpbGwuYm9udXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGJvbnVzIG9mIHNraWxsLmJvbnVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNraWxsLm1vZCA9IFBhcnRzTGlzdC5BZGRVbmlxdWVQYXJ0KHNraWxsLm1vZCwgYm9udXMua2V5LCBOdW1iZXIoYm9udXMudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBza2lsbC52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKHNraWxsKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZXR1cCBhY3RpdmUgc2tpbGxzXG4gICAgICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgT2JqZWN0LnZhbHVlcyhhY3RpdmUpKSB7XG4gICAgICAgICAgICBpZiAoIXNraWxsLmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHByZXBhcmVTa2lsbChza2lsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWUpO1xuICAgICAgICAvLyByZW1vdmUgZW50cmllcyB3aGljaCBhcmUgZGVsZXRlZCBUT0RPIGZpZ3VyZSBvdXQgaG93IHRvIGRlbGV0ZSB0aGVzZSBmcm9tIHRoZSBkYXRhXG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoW2tleSwgdmFsXTogW3N0cmluZywgeyBfZGVsZXRlPzogYm9vbGVhbiB9XSkgPT4gdmFsLl9kZWxldGUgJiYgZGVsZXRlIGRhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlW2tleV0pO1xuXG4gICAgICAgIGZvciAobGV0IHNraWxsIG9mIE9iamVjdC52YWx1ZXMobGFuZ3VhZ2UudmFsdWUpKSB7XG4gICAgICAgICAgICBwcmVwYXJlU2tpbGwoc2tpbGwpO1xuICAgICAgICAgICAgc2tpbGwuYXR0cmlidXRlID0gJ2ludHVpdGlvbic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXR1cCBrbm93bGVkZ2Ugc2tpbGxzXG4gICAgICAgIGZvciAobGV0IFssIGdyb3VwXSBvZiBPYmplY3QuZW50cmllcyhrbm93bGVkZ2UpKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZ3JvdXAudmFsdWUpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGVudHJpZXMgd2hpY2ggYXJlIGRlbGV0ZWQgVE9ETyBmaWd1cmUgb3V0IGhvdyB0byBkZWxldGUgdGhlc2UgZnJvbSB0aGUgZGF0YVxuICAgICAgICAgICAgZ3JvdXAudmFsdWUgPSBlbnRyaWVzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoWywgdmFsXSkgPT4gIXZhbC5fZGVsZXRlKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgW2lkLCBza2lsbF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlcGFyZVNraWxsKHNraWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgc2tpbGxcbiAgICAgICAgICAgICAgICAgICAgc2tpbGwuYXR0cmlidXRlID0gZ3JvdXAuYXR0cmlidXRlO1xuICAgICAgICAgICAgICAgICAgICBhY2NbaWRdID0gc2tpbGw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpbGwgbGFiZWxzXG4gICAgICAgIGZvciAobGV0IFtza2lsbEtleSwgc2tpbGxWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYWN0aXZlKSkge1xuICAgICAgICAgICAgc2tpbGxWYWx1ZS5sYWJlbCA9IENPTkZJRy5TUjUuYWN0aXZlU2tpbGxzW3NraWxsS2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xuaW1wb3J0IFR3b1RyYWNrQWN0b3JEYXRhID0gU2hhZG93cnVuLlR3b1RyYWNrQWN0b3JEYXRhO1xuaW1wb3J0IFdvdW5kc0FjdG9yRGF0YSA9IFNoYWRvd3J1bi5Xb3VuZHNBY3RvckRhdGE7XG5cbmV4cG9ydCBjbGFzcyBXb3VuZHNQcmVwIHtcbiAgICBzdGF0aWMgcHJlcGFyZVdvdW5kcyhkYXRhOiBTUjVBY3RvckRhdGEgJiBUd29UcmFja0FjdG9yRGF0YSAmIFdvdW5kc0FjdG9yRGF0YSkge1xuICAgICAgICBjb25zdCB7IG1vZGlmaWVycywgdHJhY2sgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gMyArIE51bWJlcihtb2RpZmllcnNbJ3dvdW5kX3RvbGVyYW5jZSddKTtcbiAgICAgICAgY29uc3Qgc3R1bldvdW5kcyA9IHRyYWNrLnN0dW4uZGlzYWJsZWQgPyAwIDogTWF0aC5mbG9vcih0cmFjay5zdHVuLnZhbHVlIC8gY291bnQpO1xuICAgICAgICBjb25zdCBwaHlzaWNhbFdvdW5kcyA9IHRyYWNrLnBoeXNpY2FsLmRpc2FibGVkID8gMCA6IE1hdGguZmxvb3IodHJhY2sucGh5c2ljYWwudmFsdWUgLyBjb3VudCk7XG5cbiAgICAgICAgdHJhY2suc3R1bi53b3VuZHMgPSBzdHVuV291bmRzO1xuICAgICAgICB0cmFjay5waHlzaWNhbC53b3VuZHMgPSBwaHlzaWNhbFdvdW5kcztcblxuICAgICAgICBkYXRhLndvdW5kcyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHVuV291bmRzICsgcGh5c2ljYWxXb3VuZHMsXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENodW1tZXJJbXBvcnRGb3JtIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMuaWQgPSAnY2h1bW1lci1pbXBvcnQnO1xuICAgICAgICBvcHRpb25zLmNsYXNzZXMgPSBbJ3NoYWRvd3J1bjVlJ107XG4gICAgICAgIG9wdGlvbnMudGl0bGUgPSAnQ2h1bW1lci9IZXJvIExhYiBJbXBvcnQnO1xuICAgICAgICBvcHRpb25zLnRlbXBsYXRlID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYXBwcy9pbXBvcnQuaHRtbCc7XG4gICAgICAgIG9wdGlvbnMud2lkdGggPSA2MDA7XG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCkge1xuICAgICAgICBodG1sLmZpbmQoJy5zdWJtaXQtY2h1bW1lci1pbXBvcnQnKS5jbGljayhhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBjaHVtbWVyZmlsZSA9IEpTT04ucGFyc2UoJCgnLmNodW1tZXItdGV4dCcpLnZhbCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbnMgPSAkKCcud2VhcG9ucycpLmlzKCc6Y2hlY2tlZCcpO1xuICAgICAgICAgICAgY29uc3QgYXJtb3IgPSAkKCcuYXJtb3InKS5pcygnOmNoZWNrZWQnKTtcbiAgICAgICAgICAgIGNvbnN0IGN5YmVyd2FyZSA9ICQoJy5jeWJlcndhcmUnKS5pcygnOmNoZWNrZWQnKTtcbiAgICAgICAgICAgIGNvbnN0IGVxdWlwbWVudCA9ICQoJy5nZWFyJykuaXMoJzpjaGVja2VkJyk7XG4gICAgICAgICAgICBjb25zdCBxdWFsaXRpZXMgPSAkKCcucXVhbGl0aWVzJykuaXMoJzpjaGVja2VkJyk7XG4gICAgICAgICAgICBjb25zdCBwb3dlcnMgPSAkKCcucG93ZXJzJykuaXMoJzpjaGVja2VkJyk7XG4gICAgICAgICAgICBjb25zdCBzcGVsbHMgPSAkKCcuc3BlbGxzJykuaXMoJzpjaGVja2VkJyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNodW1tZXJmaWxlKTtcblxuICAgICAgICAgICAgY29uc3QgcGFyc2VBdHQgPSAoYXR0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dC50b0xvd2VyQ2FzZSgpID09PSAnYm9kJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2JvZHknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdhZ2knKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnYWdpbGl0eSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHQudG9Mb3dlckNhc2UoKSA9PT0gJ3JlYScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyZWFjdGlvbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHQudG9Mb3dlckNhc2UoKSA9PT0gJ3N0cicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdzdHJlbmd0aCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHQudG9Mb3dlckNhc2UoKSA9PT0gJ2NoYScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjaGFyaXNtYSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHQudG9Mb3dlckNhc2UoKSA9PT0gJ2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdpbnR1aXRpb24nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdsb2cnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbG9naWMnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICd3aWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnd2lsbHBvd2VyJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dC50b0xvd2VyQ2FzZSgpID09PSAnZWRnJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2VkZ2UnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdtYWcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbWFnaWMnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdyZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmVzb25hbmNlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBwYXJzZURhbWFnZSA9ICh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZTogMCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BoeXNpY2FsJyxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAwLFxuICAgICAgICAgICAgICAgICAgICBkcm9wb2ZmOiAwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSB2YWwuc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0gc3BsaXRbMF0ubWF0Y2goLyhcXGQrKShcXHcrKS8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobCAmJiBsWzFdKSBkYW1hZ2UuZGFtYWdlID0gcGFyc2VJbnQobFsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsICYmIGxbMl0pIGRhbWFnZS50eXBlID0gbFsyXSA9PT0gJ1AnID8gJ3BoeXNpY2FsJyA6ICdzdHVuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzcGxpdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0gc3BsaXRbaV0ubWF0Y2goLygtP1xcZCspKC4qKS8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobCAmJiBsWzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobFsyXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCcvbScpKSBkYW1hZ2UuZHJvcG9mZiA9IHBhcnNlSW50KGxbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBkYW1hZ2UucmFkaXVzID0gcGFyc2VJbnQobFsxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhbWFnZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGdldFZhbHVlcyA9ICh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IC8oLT9bMC05XSspKD86KFswLTldKykpKi9nO1xuICAgICAgICAgICAgICAgIGNvbnN0IGwgPSB2YWwubWF0Y2gocmVnZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsIHx8IFsnMCddO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0QXJyYXkgPSAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IGR1cGxpY2F0ZSh0aGlzLm9iamVjdC5kYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IHVwZGF0ZURhdGEuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSAnJztcbiAgICAgICAgICAgIC8vIGNoYXJhY3RlciBpbmZvIHN0dWZmLCBhbHNvIHRlY2huby9tYWdpYyBhbmQgZXNzZW5jZVxuICAgICAgICAgICAgaWYgKGNodW1tZXJmaWxlLmNoYXJhY3RlcnMgJiYgY2h1bW1lcmZpbGUuY2hhcmFjdGVycy5jaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gY2h1bW1lcmZpbGUuY2hhcmFjdGVycy5jaGFyYWN0ZXI7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMucGxheWVybmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnBsYXllcl9uYW1lID0gYy5wbGF5ZXJuYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmFsaWFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUubmFtZSA9IGMuYWxpYXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLm5hbWUgPSBjLmFsaWFzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLm1ldGF0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUubWV0YXR5cGUgPSBjLm1ldGF0eXBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLnNleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnNleCA9IGMuc2V4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmFnZSA9IGMuYWdlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmhlaWdodCA9IGMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLndlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLndlaWdodCA9IGMud2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmNhbGN1bGF0ZWRzdHJlZXRjcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUuc3RyZWV0X2NyZWQgPSBjLmNhbGN1bGF0ZWRzdHJlZXRjcmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmNhbGN1bGF0ZWRub3RvcmlldHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5ub3RvcmlldHkgPSBjLmNhbGN1bGF0ZWRub3RvcmlldHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuY2FsY3VsYXRlZHB1YmxpY2F3YXJlbmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnB1YmxpY19hd2FyZW5lc3MgPSBjLmNhbGN1bGF0ZWRwdWJsaWNhd2FyZW5lc3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGMua2FybWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5rYXJtYS52YWx1ZSA9IGMua2FybWE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGMudG90YWxrYXJtYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmthcm1hLm1heCA9IGMudG90YWxrYXJtYTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYy50ZWNobm9tYW5jZXIgJiYgYy50ZWNobm9tYW5jZXIudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUuc3BlY2lhbCA9ICdyZXNvbmFuY2UnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChjLm1hZ2ljaWFuICYmIGMubWFnaWNpYW4udG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGMuYWRlcHQgJiYgYy5hZGVwdC50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnNwZWNpYWwgPSAnbWFnaWMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF0dHIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnRyYWRpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMudHJhZGl0aW9uLmRyYWluYXR0cmlidXRlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFkaXRpb24uZHJhaW5hdHRyaWJ1dGUuYXR0clxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ciA9IGMudHJhZGl0aW9uLmRyYWluYXR0cmlidXRlLmF0dHI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGMudHJhZGl0aW9uICYmIGMudHJhZGl0aW9uLmRyYWluYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIgPSBjLnRyYWRpdGlvbi5kcmFpbmF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcrJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ci5mb3JFYWNoKChhdHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQgPSBwYXJzZUF0dChhdHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgIT09ICd3aWxscG93ZXInKSB1cGRhdGUubWFnaWMuYXR0cmlidXRlID0gYXR0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGMudG90YWxlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5hdHRyaWJ1dGVzLmVzc2VuY2UudmFsdWUgPSBjLnRvdGFsZXNzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLm51eWVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUubnV5ZW4gPSBwYXJzZUludChjLm51eWVuLnJlcGxhY2UoJywnLCAnJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciArPSBgRXJyb3Igd2l0aCBjaGFyYWN0ZXIgaW5mbzogJHtlfS4gYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRzID0gY2h1bW1lcmZpbGUuY2hhcmFjdGVycy5jaGFyYWN0ZXIuYXR0cmlidXRlc1sxXS5hdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgYXR0cy5mb3JFYWNoKChhdHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0F0dCA9IHBhcnNlQXR0KGF0dC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdHQpIHVwZGF0ZS5hdHRyaWJ1dGVzW25ld0F0dF0uYmFzZSA9IHBhcnNlSW50KGF0dC50b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yICs9IGBFcnJvciB3aXRoIGF0dHJpYnV0ZXM6ICR7ZX0uIGA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBpbml0aWF0aXZlIHN0dWZmXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuaW5pdGJvbnVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3Qgc3VyZSBpZiB0aGlzIG9uZSBpcyBjb3JyZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUubW9kcy5pbml0aWF0aXZlID0gYy5pbml0Ym9udXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuaW5pdGRpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5tb2RzLmluaXRpYXRpdmVfZGljZSA9IGMuaW5pdGRpY2UgLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciArPSBgRXJyb3Igd2l0aCBpbml0aWF0aXZlOiAke2V9LiBgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBza2lsbHMuLi5cbiAgICAgICAgICAgICAgICBjb25zdCBza2lsbHMgPSBjLnNraWxscy5za2lsbDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNraWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IHNraWxsc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnJhdGluZyA+IDAgJiYgcy5pc2xhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gJ2FjdGl2ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNraWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHJhbmRvbUlEKDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5pc2xhbmd1YWdlICYmIHMuaXNsYW5ndWFnZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGwgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnNraWxscy5sYW5ndWFnZS52YWx1ZVtpZF0gPSBza2lsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSAnbGFuZ3VhZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocy5rbm93bGVkZ2UgJiYgcy5rbm93bGVkZ2UudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gcy5za2lsbGNhdGVnb3J5X2VuZ2xpc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGwgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNraWxsQ2F0ZWdvcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZvdW5kIGNhdGVnb3J5JywgY2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ID0gY2F0ZWdvcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXQgPT09ICdzdHJlZXQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ2F0ZWdvcnkgPSB1cGRhdGUuc2tpbGxzLmtub3dsZWRnZS5zdHJlZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ID09PSAnYWNhZGVtaWMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ2F0ZWdvcnkgPSB1cGRhdGUuc2tpbGxzLmtub3dsZWRnZS5hY2FkZW1pYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXQgPT09ICdwcm9mZXNzaW9uYWwnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ2F0ZWdvcnkgPSB1cGRhdGUuc2tpbGxzLmtub3dsZWRnZS5wcm9mZXNzaW9uYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ID09PSAnaW50ZXJlc3QnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ2F0ZWdvcnkgPSB1cGRhdGUuc2tpbGxzLmtub3dsZWRnZS5pbnRlcmVzdHMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbGxDYXRlZ29yeSkgc2tpbGxDYXRlZ29yeVtpZF0gPSBza2lsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmF0dHJpYnV0ZS50b0xvd2VyQ2FzZSgpID09PSAnaW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5za2lsbHMua25vd2xlZGdlLnN0cmVldC52YWx1ZVtpZF0gPSBza2lsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmF0dHJpYnV0ZS50b0xvd2VyQ2FzZSgpID09PSAnbG9nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5za2lsbHMua25vd2xlZGdlLnByb2Zlc3Npb25hbC52YWx1ZVtpZF0gPSBza2lsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cCA9ICdrbm93bGVkZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gcy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xccy9nLCAnXycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvLS9nLCAnXycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygnZXhvdGljJykgJiYgbmFtZS5pbmNsdWRlcygnX3dlYXBvbicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgnX3dlYXBvbicsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGwgPSB1cGRhdGUuc2tpbGxzLmFjdGl2ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFza2lsbCkgY29uc29sZS5lcnJvcihgQ291bGRuJ3QgcGFyc2Ugc2tpbGwgJHtzLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncm91cCAhPT0gJ2FjdGl2ZScpIHNraWxsLm5hbWUgPSBzLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsLmJhc2UgPSBwYXJzZUludChzLnJhdGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnNraWxsc3BlY2lhbGl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lsbC5zcGVjcyA9IGdldEFycmF5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc2tpbGxzcGVjaWFsaXphdGlvbnMuc2tpbGxzcGVjaWFsaXphdGlvbi5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHF1YWxpdGllc1xuICAgICAgICAgICAgICAgIGlmIChxdWFsaXRpZXMgJiYgYy5xdWFsaXRpZXMgJiYgYy5xdWFsaXRpZXMucXVhbGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXRpZXMgPSBnZXRBcnJheShjLnF1YWxpdGllcy5xdWFsaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcXVhbGl0aWVzLmZvckVhY2goKHEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudHlwZSA9IHEucXVhbGl0eXR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5kZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBUZXh0RWRpdG9yLmVucmljaEhUTUwocS5kZXNjcmlwdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncXVhbGl0eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2VhcG9uc1xuICAgICAgICAgICAgICAgIGlmICh3ZWFwb25zICYmIGMud2VhcG9ucyAhPSBudWxsICYmIGMud2VhcG9ucy53ZWFwb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWFwb25zID0gZ2V0QXJyYXkoYy53ZWFwb25zLndlYXBvbik7XG4gICAgICAgICAgICAgICAgICAgIHdlYXBvbnMuZm9yRWFjaCgodykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFtYWdlID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZSA9IGRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogVGV4dEVkaXRvci5lbnJpY2hIVE1MKHcuZGVzY3JpcHRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZS5hcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogcGFyc2VJbnQoZ2V0VmFsdWVzKHcuYXApWzBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50eXBlID0gJ3Zhcmllcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcuc2tpbGwpIGFjdGlvbi5za2lsbCA9IHcuc2tpbGwudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJ18nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh3LmNhdGVnb3J5ICYmIHcuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZXhvdGljJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5za2lsbCA9IHcuY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnIHdlYXBvbnMnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMvZywgJ18nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnNraWxsLmluY2x1ZGVzKCdleG90aWMnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnNraWxsID0gYWN0aW9uLnNraWxsLnJlcGxhY2UoJ193ZWFwb24nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmF0dHJpYnV0ZSA9ICdhZ2lsaXR5JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ubGltaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IHBhcnNlSW50KGdldFZhbHVlcyh3LmFjY3VyYWN5KVswXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RlZmVuc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAody50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdtZWxlZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnR5cGUgPSAnY29tcGxleCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY2F0ZWdvcnkgPSAnbWVsZWUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZWxlZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm1lbGVlID0gbWVsZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbGVlLnJlYWNoID0gcGFyc2VJbnQody5yZWFjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3JhbmdlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9ICdyYW5nZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LnNraWxsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rocm93JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY2F0ZWdvcnkgPSAndGhyb3duJzsgLy8gVE9ETyBjbGVhbiB0aGlzIHVwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5yYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IHBhcnNlSW50KGdldFZhbHVlcyh3LnJjKVswXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3Lm1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlcm9MYWIgZXhwb3J0IGRvZXNuJ3QgaGF2ZSBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dlciA9IHcubW9kZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UubW9kZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlX3Nob3Q6IGxvd2VyLmluY2x1ZGVzKCdzcycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbWlfYXV0bzogbG93ZXIuaW5jbHVkZXMoJ3NhJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVyc3RfZmlyZTogbG93ZXIuaW5jbHVkZXMoJ2JmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hdXRvOiBsb3dlci5pbmNsdWRlcygnZmEnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcuY2xpcHMgIT0gbnVsbCAmJiB3LmNsaXBzLmNsaXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGVyb0xhYiBleHBvcnQgZG9lc24ndCBoYXZlIGNsaXBzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGlwcyA9IEFycmF5LmlzQXJyYXkody5jbGlwcy5jbGlwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdy5jbGlwcy5jbGlwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbdy5jbGlwcy5jbGlwXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBzLmZvckVhY2goKGNsaXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjbGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcucmFuZ2VzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LnJhbmdlcy5zaG9ydCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdy5yYW5nZXMubWVkaXVtICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LnJhbmdlcy5sb25nICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LnJhbmdlcy5leHRyZW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cody5yYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UucmFuZ2VzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0OiBwYXJzZUludCh3LnJhbmdlcy5zaG9ydC5zcGxpdCgnLScpWzFdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpdW06IHBhcnNlSW50KHcucmFuZ2VzLm1lZGl1bS5zcGxpdCgnLScpWzFdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nOiBwYXJzZUludCh3LnJhbmdlcy5sb25nLnNwbGl0KCctJylbMV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJlbWU6IHBhcnNlSW50KHcucmFuZ2VzLmV4dHJlbWUuc3BsaXQoJy0nKVsxXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gZmlndXJlIG91dCBob3cgdG8gYWRkIG1vZHMgdG8gd2VhcG9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAody5hY2Nlc3NvcmllcyAmJiB3LmFjY2Vzc29yaWVzLmFjY2Vzc29yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmFuZ2UubW9kcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgYWNjZXNzb3JpZXMgPSBnZXRBcnJheSh3LmFjY2Vzc29yaWVzLmFjY2Vzc29yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBhY2Nlc3Nvcmllcy5mb3JFYWNoKChhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmFuZ2UubW9kcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG5hbWU6IGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHcudHlwZS50b0xvd2VyQ2FzZSgpID09PSAndGhyb3duJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhdGVnb3J5ID0gJ3Rocm93bic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgcmF3IGRhbWFnZSBpZiBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBwYXJzZURhbWFnZSh3LmRhbWFnZV9lbmdsaXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlLmJhc2UgPSBkLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlLnR5cGUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlLnR5cGUuYmFzZSA9IGQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQuZHJvcG9mZiB8fCBkLnJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhyb3duID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRocm93biA9IHRocm93bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93bi5ibGFzdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGQucmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BvZmY6IGQuZHJvcG9mZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2VhcG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhcm1vcnNcbiAgICAgICAgICAgICAgICBpZiAoYXJtb3IgJiYgYy5hcm1vcnMgJiYgYy5hcm1vcnMuYXJtb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJtb3JzID0gZ2V0QXJyYXkoYy5hcm1vcnMuYXJtb3IpO1xuICAgICAgICAgICAgICAgICAgICBhcm1vcnMuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJtb3IgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFybW9yID0gYXJtb3I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzYyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFybW9yLm1vZCA9IGEuYXJtb3IuaW5jbHVkZXMoJysnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci52YWx1ZSA9IHBhcnNlSW50KGEuYXJtb3IucmVwbGFjZSgnKycsICcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuZGVzY3JpcHRpb24pIGRlc2MgPSBhLmRlc2NyaXB0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuYXJtb3Jtb2RzICYmIGEuYXJtb3Jtb2RzLmFybW9ybW9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFybW9yLmZpcmUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5lbGVjdHJpY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFybW9yLmNvbGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5hY2lkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJtb3IucmFkaWF0aW9uID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2REZXNjID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZHMgPSBnZXRBcnJheShhLmFybW9ybW9kcy5hcm1vcm1vZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZmlyZSByZXNpc3RhbmNlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5maXJlICs9IHBhcnNlSW50KG1vZC5yYXRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdub25jb25kdWN0aXZpdHknKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFybW9yLmVsZWN0cmljaXR5ICs9IHBhcnNlSW50KG1vZC5yYXRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdpbnN1bGF0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5jb2xkICs9IHBhcnNlSW50KG1vZC5yYXRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdyYWRpYXRpb24gc2hpZWxkaW5nJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFybW9yLnJhZGlhdGlvbiArPSBwYXJzZUludChtb2QucmF0aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2QucmF0aW5nICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZERlc2MucHVzaChgJHttb2QubmFtZX0gUiR7bW9kLnJhdGluZ31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kRGVzYy5wdXNoKG1vZC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2REZXNjLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBkZXNjIHRvIGJlZ2lubmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYyA9IGAke21vZERlc2Muam9pbignLCcpfVxcblxcbiR7ZGVzY31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmVxdWlwcGVkLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRlY2hub2xvZ3kgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcHBlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFRleHRFZGl0b3IuZW5yaWNoSFRNTChkZXNjKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FybW9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjeWJlcndhcmVcbiAgICAgICAgICAgICAgICBpZiAoY3liZXJ3YXJlICYmIGMuY3liZXJ3YXJlcyAmJiBjLmN5YmVyd2FyZXMuY3liZXJ3YXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN5YmVyd2FyZXMgPSBnZXRBcnJheShjLmN5YmVyd2FyZXMuY3liZXJ3YXJlKTtcbiAgICAgICAgICAgICAgICAgICAgY3liZXJ3YXJlcy5mb3JFYWNoKChjeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBjeS5yYXRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjeS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudGVjaG5vbG9neSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBwZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmVzc2VuY2UgPSBjeS5lc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5ncmFkZSA9IGN5LmdyYWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjeS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3liZXJ3YXJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBwb3dlcnNcbiAgICAgICAgICAgICAgICBpZiAocG93ZXJzICYmIGMucG93ZXJzICYmIGMucG93ZXJzLnBvd2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VycyA9IGdldEFycmF5KGMucG93ZXJzLnBvd2VyKTtcbiAgICAgICAgICAgICAgICAgICAgcG93ZXJzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBUZXh0RWRpdG9yLmVucmljaEhUTUwocC5kZXNjcmlwdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubGV2ZWwgPSBwYXJzZUludChwLnJhdGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwLnBwID0gcGFyc2VJbnQocC50b3RhbHBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHAubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYWRlcHRfcG93ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBnZWFyXG4gICAgICAgICAgICAgICAgaWYgKGVxdWlwbWVudCAmJiBjLmdlYXJzICYmIGMuZ2VhcnMuZ2Vhcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZWFycyA9IGdldEFycmF5KGMuZ2VhcnMuZ2Vhcik7XG4gICAgICAgICAgICAgICAgICAgIGdlYXJzLmZvckVhY2goKGcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB7IG5hbWUgfSA9IGc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcuZXh0cmEpIG5hbWUgKz0gYCAoJHtnLmV4dHJhfSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudGVjaG5vbG9neSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBnLnJhdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGcucXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGcuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VxdWlwbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3BlbGxzXG4gICAgICAgICAgICAgICAgaWYgKHNwZWxscyAmJiBjLnNwZWxscyAmJiBjLnNwZWxscy5zcGVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVsbHMgPSBnZXRBcnJheShjLnNwZWxscy5zcGVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHNwZWxscy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmFsY2hlbXkudG9Mb3dlckNhc2UoKSAhPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYWN0aW9uID0gYWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhdGVnb3J5ID0gcy5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnXycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm5hbWUgPSBzLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudHlwZSA9IHMudHlwZSA9PT0gJ00nID8gJ21hbmEnIDogJ3BoeXNpY2FsJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yYW5nZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnJhbmdlID09PSAnVCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0b3VjaCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHMucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMvZywgJ18nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCcoJywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyknLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZHJhaW4gPSBwYXJzZUludChzLmR2LnJlcGxhY2UoJ0YnLCAnJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZGVzY3JpcHRvcnMpIGRlc2NyaXB0aW9uID0gcy5kZXNjcmlwdG9ycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZGVzY3JpcHRpb24pIGRlc2NyaXB0aW9uICs9IGBcXG4ke3MuZGVzY3JpcHRpb259YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRlc2NyaXB0aW9uLnZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKGRlc2NyaXB0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5kdXJhdGlvbi50b0xvd2VyQ2FzZSgpID09PSAncycpIGRhdGEuZHVyYXRpb24gPSAnc3VzdGFpbmVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocy5kdXJhdGlvbi50b0xvd2VyQ2FzZSgpID09PSAnaScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmR1cmF0aW9uID0gJ2luc3RhbnQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzLmR1cmF0aW9uLnRvTG93ZXJDYXNlKCkgPT09ICdwJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZHVyYXRpb24gPSAncGVybWFuZW50JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24udHlwZSA9ICd2YXJpZXMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24uc2tpbGwgPSAnc3BlbGxjYXN0aW5nJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmF0dHJpYnV0ZSA9ICdtYWdpYyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZGVzY3JpcHRvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2MgPSBzLmRlc2NyaXB0b3JzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSAnY29tYmF0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY29tYmF0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2MuaW5jbHVkZXMoJ2RpcmVjdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY29tYmF0LnR5cGUgPSAnaW5kaXJlY3QnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZWZlbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNvbWJhdC50eXBlID0gJ2RpcmVjdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdtYW5hJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm9wcG9zZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnd2lsbHBvd2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAncGh5c2ljYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICdib2R5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSAnZGV0ZWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGV0ZWN0aW9uID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSBkZXNjLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BsaXQuZm9yRWFjaCgodG9rZW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbiB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbi5yZXBsYWNlKCcgZGV0ZWN0aW9uIHNwZWxsJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5pbmNsdWRlcygnYXJlYScpKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLmluY2x1ZGVzKCdwYXNzaXZlJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRldGVjdGlvbi5wYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4uaW5jbHVkZXMoJ2FjdGl2ZScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXRlY3Rpb24ucGFzc2l2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGV0ZWN0aW9uLnR5cGUgPSB0b2tlbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5kZXRlY3Rpb24ucGFzc2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnd2lsbHBvd2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICdsb2dpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gJ2lsbHVzaW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IGRlc2Muc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGxpdC5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuLnJlcGxhY2UoJyBpbGx1c2lvbiBzcGVsbCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJ2FyZWEnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5pbmNsdWRlcygnc2Vuc2UnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24uc2Vuc2UgPSB0b2tlbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24udHlwZSA9IHRva2VuLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ21hbmEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICd3aWxscG93ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJ2xvZ2ljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnaW50dWl0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICdsb2dpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gJ21hbmlwdWxhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm1hbmlwdWxhdGlvbiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjLmluY2x1ZGVzKCdlbnZpcm9ubWVudGFsJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubWFuaXB1bGF0aW9uLmVudmlyb25tZW50YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjLmluY2x1ZGVzKCdwaHlzaWNhbCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm1hbmlwdWxhdGlvbi5waHlzaWNhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2MuaW5jbHVkZXMoJ21lbnRhbCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm1hbmlwdWxhdGlvbi5tZW50YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gZmlndXJlIG91dCBob3cgdG8gcGFyc2UgZGFtYWdpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5tZW50YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm9wcG9zZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ3dpbGxwb3dlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnbG9naWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYW5pcHVsYXRpb24ucGh5c2ljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm9wcG9zZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ2JvZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJ3N0cmVuZ3RoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3BlbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMub2JqZWN0LnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMub2JqZWN0LmNyZWF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCBpdGVtcyk7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICAgICAgICAgICAgJ0NvbXBsZXRlISBDaGVjayBldmVyeXRoaW5nLiBOb3RhYmx5OiBSYW5nZWQgd2VhcG9uIG1vZHMgYW5kIGFtbW87IFN0cmVuZ3RoIGJhc2VkIHdlYXBvbiBkYW1hZ2U7IFNwZWNpYWxpemF0aW9ucyBvbiBhbGwgc3BlbGxzLCBwb3dlcnMsIGFuZCB3ZWFwb25zOydcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNSNUl0ZW0gfSBmcm9tICcuLi8uLi9pdGVtL1NSNUl0ZW0nO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uLy4uL2hlbHBlcnMnO1xuXG5leHBvcnQgY2xhc3MgU2hhZG93cnVuSXRlbURpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gICAgc3RhdGljIGFzeW5jIGZyb21JdGVtKGl0ZW06IFNSNUl0ZW0sIGV2ZW50PzogTW91c2VFdmVudCk6IFByb21pc2U8RGlhbG9nRGF0YSB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBkaWFsb2dEYXRhOiBEaWFsb2dEYXRhID0ge1xuICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IHt9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZXZlbnQpIGRpYWxvZ0RhdGFbJ2V2ZW50J10gPSBldmVudDtcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSB7fTtcbiAgICAgICAgbGV0IHRlbXBsYXRlUGF0aCA9ICcnO1xuXG4gICAgICAgIGlmIChpdGVtLmlzUmFuZ2VkV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIFNoYWRvd3J1bkl0ZW1EaWFsb2cuYWRkUmFuZ2VkV2VhcG9uRGF0YSh0ZW1wbGF0ZURhdGEsIGRpYWxvZ0RhdGEsIGl0ZW0pO1xuICAgICAgICAgICAgdGVtcGxhdGVQYXRoID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvcmFuZ2Utd2VhcG9uLXJvbGwuaHRtbCc7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pc1NwZWxsKCkpIHtcbiAgICAgICAgICAgIFNoYWRvd3J1bkl0ZW1EaWFsb2cuYWRkU3BlbGxEYXRhKHRlbXBsYXRlRGF0YSwgZGlhbG9nRGF0YSwgaXRlbSk7XG4gICAgICAgICAgICB0ZW1wbGF0ZVBhdGggPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yb2xsLXNwZWxsLmh0bWwnO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaXNDb21wbGV4Rm9ybSgpKSB7XG4gICAgICAgICAgICBTaGFkb3dydW5JdGVtRGlhbG9nLmFkZENvbXBsZXhGb3JtRGF0YSh0ZW1wbGF0ZURhdGEsIGRpYWxvZ0RhdGEsIGl0ZW0pO1xuICAgICAgICAgICAgdGVtcGxhdGVQYXRoID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvcm9sbC1jb21wbGV4LWZvcm0uaHRtbCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGVtcGxhdGVQYXRoKSB7XG4gICAgICAgICAgICBjb25zdCBkaWFsb2cgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZVBhdGgsIHRlbXBsYXRlRGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3QoZGlhbG9nRGF0YSwge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGRpYWxvZyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKlxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdXBlci5kZWZhdWx0T3B0aW9ucztcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KG9wdGlvbnMsIHtcbiAgICAgICAgICAgIGNsYXNzZXM6IFsnc3I1JywgJ3NoZWV0J10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAgKi9cblxuICAgIHN0YXRpYyBhZGRDb21wbGV4Rm9ybURhdGEodGVtcGxhdGVEYXRhOiBvYmplY3QsIGRpYWxvZ0RhdGE6IERpYWxvZ0RhdGEsIGl0ZW06IFNSNUl0ZW0pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZmFkZSA9IGl0ZW0uZ2V0RmFkZSgpO1xuICAgICAgICBjb25zdCB0aXRsZSA9IGAke0hlbHBlcnMubGFiZWwoaXRlbS5uYW1lKX0gTGV2ZWxgO1xuXG4gICAgICAgIGNvbnN0IGxldmVsID0gaXRlbS5nZXRMYXN0Q29tcGxleEZvcm1MZXZlbCgpPy52YWx1ZSB8fCAyIC0gZmFkZTtcblxuICAgICAgICB0ZW1wbGF0ZURhdGFbJ2ZhZGUnXSA9IGZhZGUgPj0gMCA/IGArJHtmYWRlfWAgOiBmYWRlO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ2xldmVsJ10gPSBsZXZlbDtcbiAgICAgICAgdGVtcGxhdGVEYXRhWyd0aXRsZSddID0gdGl0bGU7XG5cbiAgICAgICAgbGV0IGNhbmNlbCA9IHRydWU7XG4gICAgICAgIGRpYWxvZ0RhdGEuYnV0dG9ucyA9IHtcbiAgICAgICAgICAgIHJvbGw6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtZGljZS1zaXhcIj48L2k+JyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gKGNhbmNlbCA9IGZhbHNlKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGRpYWxvZ0RhdGEuY2xvc2UgPSBhc3luYyAoaHRtbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbmNlbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPWxldmVsXScpLnZhbCgpKTtcbiAgICAgICAgICAgIGF3YWl0IGl0ZW0uc2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwoeyB2YWx1ZTogbGV2ZWwgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkU3BlbGxEYXRhKHRlbXBsYXRlRGF0YTogb2JqZWN0LCBkaWFsb2dEYXRhOiBEaWFsb2dEYXRhLCBpdGVtOiBTUjVJdGVtKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gYCR7SGVscGVycy5sYWJlbChpdGVtLm5hbWUpfSBGb3JjZWA7XG4gICAgICAgIGNvbnN0IGRyYWluID0gaXRlbS5nZXREcmFpbigpO1xuXG4gICAgICAgIGNvbnN0IGZvcmNlID0gaXRlbS5nZXRMYXN0U3BlbGxGb3JjZSgpPy52YWx1ZSB8fCAyIC0gZHJhaW47XG5cbiAgICAgICAgdGVtcGxhdGVEYXRhWydkcmFpbiddID0gZHJhaW4gPj0gMCA/IGArJHtkcmFpbn1gIDogYCR7ZHJhaW59YDtcbiAgICAgICAgdGVtcGxhdGVEYXRhWydmb3JjZSddID0gZm9yY2U7XG4gICAgICAgIHRlbXBsYXRlRGF0YVsndGl0bGUnXSA9IHRpdGxlO1xuXG4gICAgICAgIGRpYWxvZ0RhdGEudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgbGV0IGNhbmNlbCA9IHRydWU7XG4gICAgICAgIGxldCByZWNrbGVzcyA9IGZhbHNlO1xuICAgICAgICBkaWFsb2dEYXRhLmJ1dHRvbnMgPSB7XG4gICAgICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTm9ybWFsU3BlbGxCdXR0b24nKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gKGNhbmNlbCA9IGZhbHNlKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWNrbGVzczoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5SZWNrbGVzc1NwZWxsQnV0dG9uJyksXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVja2xlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgZGlhbG9nRGF0YS5kZWZhdWx0ID0gJ25vcm1hbCc7XG4gICAgICAgIGRpYWxvZ0RhdGEuY2xvc2UgPSBhc3luYyAoaHRtbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbmNlbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZm9yY2UgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPWZvcmNlXScpLnZhbCgpKTtcbiAgICAgICAgICAgIGF3YWl0IGl0ZW0uc2V0TGFzdFNwZWxsRm9yY2UoeyB2YWx1ZTogZm9yY2UsIHJlY2tsZXNzIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZFJhbmdlZFdlYXBvbkRhdGEodGVtcGxhdGVEYXRhOiBvYmplY3QsIGRpYWxvZ0RhdGE6IERpYWxvZ0RhdGEsIGl0ZW06IFNSNUl0ZW0pOiB2b2lkIHtcbiAgICAgICAgbGV0IHRpdGxlID0gZGlhbG9nRGF0YS50aXRsZSB8fCBpdGVtLm5hbWU7XG5cbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSBpdGVtLmRhdGEuZGF0YTtcbiAgICAgICAgY29uc3QgZmlyZU1vZGVzID0ge307XG5cbiAgICAgICAgY29uc3QgeyBtb2RlcywgcmFuZ2VzIH0gPSBpdGVtRGF0YS5yYW5nZTtcbiAgICAgICAgY29uc3QgeyBhbW1vIH0gPSBpdGVtRGF0YTtcbiAgICAgICAgaWYgKG1vZGVzLnNpbmdsZV9zaG90KSB7XG4gICAgICAgICAgICBmaXJlTW9kZXNbJzEnXSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcIlNSNS5XZWFwb25Nb2RlU2luZ2xlU2hvdFNob3J0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2Rlcy5zZW1pX2F1dG8pIHtcbiAgICAgICAgICAgIGZpcmVNb2Rlc1snMSddID0gZ2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LldlYXBvbk1vZGVTZW1pQXV0b1Nob3J0XCIpO1xuICAgICAgICAgICAgZmlyZU1vZGVzWyczJ10gPSBnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuV2VhcG9uTW9kZVNlbWlBdXRvQnVyc3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGVzLmJ1cnN0X2ZpcmUpIHtcbiAgICAgICAgICAgIGZpcmVNb2Rlc1snMyddID0gYCR7bW9kZXMuc2VtaV9hdXRvID8gYCR7Z2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LldlYXBvbk1vZGVTZW1pQXV0b0J1cnN0XCIpfS9gIDogJyd9JHtnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuV2VhcG9uTW9kZUJ1cnN0RmlyZVNob3J0XCIpfWA7XG4gICAgICAgICAgICBmaXJlTW9kZXNbJzYnXSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcIlNSNS5XZWFwb25Nb2RlQnVyc3RGaXJlTG9uZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZXMuZnVsbF9hdXRvKSB7XG4gICAgICAgICAgICBmaXJlTW9kZXNbJzYnXSA9IGAke21vZGVzLmJ1cnN0X2ZpcmUgPyAnTEIvJyA6ICcnfSR7Z2FtZS5pMThuLmxvY2FsaXplKFwiU1I1LldlYXBvbk1vZGVGdWxsQXV0b1Nob3J0XCIpfShzKWA7XG4gICAgICAgICAgICBmaXJlTW9kZXNbJzEwJ10gPSBgJHtnYW1lLmkxOG4ubG9jYWxpemUoXCJTUjUuV2VhcG9uTW9kZUZ1bGxBdXRvU2hvcnRcIil9KGMpYDtcbiAgICAgICAgICAgIGZpcmVNb2Rlc1snMjAnXSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlN1cHByZXNzaW5nJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZVJhbmdlcyA9IHRoaXMuX2dldFJhbmdlV2VhcG9uVGVtcGxhdGVEYXRhKHJhbmdlcyk7XG4gICAgICAgIGNvbnN0IGZpcmVNb2RlID0gaXRlbS5nZXRMYXN0RmlyZU1vZGUoKTtcbiAgICAgICAgY29uc3QgcmMgPSBpdGVtLmdldFJlY29pbENvbXBlbnNhdGlvbih0cnVlKTtcbiAgICAgICAgdGVtcGxhdGVEYXRhWydmaXJlTW9kZXMnXSA9IGZpcmVNb2RlcztcbiAgICAgICAgdGVtcGxhdGVEYXRhWydmaXJlTW9kZSddID0gZmlyZU1vZGU/LnZhbHVlO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ3JjJ10gPSByYztcbiAgICAgICAgdGVtcGxhdGVEYXRhWydhbW1vJ10gPSBhbW1vO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ3RpdGxlJ10gPSB0aXRsZTtcbiAgICAgICAgdGVtcGxhdGVEYXRhWydyYW5nZXMnXSA9IHRlbXBsYXRlUmFuZ2VzO1xuICAgICAgICB0ZW1wbGF0ZURhdGFbJ3RhcmdldFJhbmdlJ10gPSBpdGVtLmdldExhc3RGaXJlUmFuZ2VNb2QoKTtcblxuICAgICAgICBsZXQgY2FuY2VsID0gdHJ1ZTtcbiAgICAgICAgZGlhbG9nRGF0YS5idXR0b25zID0ge1xuICAgICAgICAgICAgY29udGludWU6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ29udGludWUnKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gKGNhbmNlbCA9IGZhbHNlKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgZGlhbG9nRGF0YS5jbG9zZSA9IGFzeW5jIChodG1sKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBmaXJlTW9kZSA9IEhlbHBlcnMucGFyc2VJbnB1dFRvTnVtYmVyKCQoaHRtbCkuZmluZCgnW25hbWU9XCJmaXJlTW9kZVwiXScpLnZhbCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cInJhbmdlXCJdJykudmFsKCkpO1xuXG4gICAgICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBpdGVtLnNldExhc3RGaXJlUmFuZ2VNb2QoeyB2YWx1ZTogcmFuZ2UgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaXJlTW9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlU3RyaW5nID0gZmlyZU1vZGVzW2ZpcmVNb2RlXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZlbnNlTW9kaWZpZXIgPSBIZWxwZXJzLm1hcFJvdW5kc1RvRGVmZW5zZURlc2MoZmlyZU1vZGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZpcmVNb2RlU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZmlyZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmVuc2U6IGRlZmVuc2VNb2RpZmllcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF3YWl0IGl0ZW0uc2V0TGFzdEZpcmVNb2RlKGZpcmVNb2RlRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2dldFJhbmdlV2VhcG9uVGVtcGxhdGVEYXRhKHJhbmdlcykge1xuICAgICAgICBjb25zdCBsb29rdXAgPSB7XG4gICAgICAgICAgICBzaG9ydDogMCxcbiAgICAgICAgICAgIG1lZGl1bTogLTEsXG4gICAgICAgICAgICBsb25nOiAtMyxcbiAgICAgICAgICAgIGV4dHJlbWU6IC02LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBuZXdSYW5nZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmFuZ2VzKSkge1xuICAgICAgICAgICAgbmV3UmFuZ2VzW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBDT05GSUcuU1I1LndlYXBvblJhbmdlc1trZXldLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyOiBsb29rdXBba2V5XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1JhbmdlcztcbiAgICB9XG59XG4iLCIvKipcbiAqIEEgR00tVG9vbCB0byBrZWVwIHRyYWNrIG9mIGFsbCBwbGF5ZXJzIG92ZXJ3YXRjaCBzY29yZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE92ZXJ3YXRjaFNjb3JlVHJhY2tlciBleHRlbmRzIEFwcGxpY2F0aW9uIHtcbiAgICBzdGF0aWMgTWF0cml4T3ZlcndhdGNoRGljZUNvdW50ID0gJzJkNic7XG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHN1cGVyLmRlZmF1bHRPcHRpb25zO1xuICAgICAgICBvcHRpb25zLmlkID0gJ292ZXJ3YXRjaC1zY29yZS10cmFja2VyJztcbiAgICAgICAgb3B0aW9ucy5jbGFzc2VzID0gWydzcjUnXTtcbiAgICAgICAgb3B0aW9ucy50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk92ZXJ3YXRjaFNjb3JlVHJhY2tlclRpdGxlJyk7XG4gICAgICAgIG9wdGlvbnMudGVtcGxhdGUgPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hcHBzL2dtdG9vbHMvb3ZlcndhdGNoLXNjb3JlLXRyYWNrZXIuaHRtbCc7XG4gICAgICAgIG9wdGlvbnMud2lkdGggPSA0NTA7XG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICBvcHRpb25zLnJlc2l6YWJsZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRlZEFjdG9ycyA9IFtdO1xuXG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgLy8gZ2V0IGxpc3Qgb2YgYWN0b3JzIHRoYXQgYmVsb25nIHRvIHVzZXJzXG4gICAgICAgIGNvbnN0IGFjdG9ycyA9IGdhbWUudXNlcnMucmVkdWNlKChhY2MsIHVzZXIpID0+IHtcbiAgICAgICAgICAgIGlmICghdXNlci5pc0dNICYmIHVzZXIuY2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgYWNjLnB1c2godXNlci5jaGFyYWN0ZXIuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgT3ZlcndhdGNoU2NvcmVUcmFja2VyLmFkZGVkQWN0b3JzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhY3RvciA9IGdhbWUuYWN0b3JzLmZpbmQoKGEpID0+IGEuX2lkID09PSBpZCk7XG4gICAgICAgICAgICBpZiAoYWN0b3IpIHtcbiAgICAgICAgICAgICAgICBhY3RvcnMucHVzaChhY3Rvci5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdG9ycyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZUxpc3RlbmVycyhodG1sKSB7XG4gICAgICAgIGh0bWwuZmluZCgnLm92ZXJ3YXRjaC1zY29yZS1yZXNldCcpLm9uKCdjbGljaycsIHRoaXMuX3Jlc2V0T3ZlcndhdGNoU2NvcmUuYmluZCh0aGlzKSk7XG4gICAgICAgIGh0bWwuZmluZCgnLm92ZXJ3YXRjaC1zY29yZS1hZGQnKS5vbignY2xpY2snLCB0aGlzLl9hZGRPdmVyd2F0Y2hTY29yZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcub3ZlcndhdGNoLXNjb3JlLWlucHV0Jykub24oJ2NoYW5nZScsIHRoaXMuX3NldE92ZXJ3YXRjaFNjb3JlLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5vdmVyd2F0Y2gtc2NvcmUtcm9sbC0xNS1taW51dGVzJykub24oJ2NsaWNrJywgdGhpcy5fcm9sbEZvcjE1TWludXRlcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcub3ZlcndhdGNoLXNjb3JlLWFkZC1hY3RvcicpLm9uKCdjbGljaycsIHRoaXMuX29uQWRkQWN0b3IuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJucyB0aGUgYWN0b3IgdGhhdCB0aGlzIGV2ZW50IGlzIGFjdGluZyBvblxuICAgIF9nZXRBY3RvckZyb21FdmVudChldmVudCkge1xuICAgICAgICBjb25zdCBpZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmxpc3QtaXRlbScpLmRhdGFzZXQuYWN0b3JJZDtcbiAgICAgICAgaWYgKGlkKSByZXR1cm4gZ2FtZS5hY3RvcnMuZmluZCgoYSkgPT4gYS5faWQgPT09IGlkKTtcbiAgICB9XG5cbiAgICBfb25BZGRBY3RvcihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQ7XG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuT3ZlcndhdGNoU2NvcmVUcmFja2VyLk5vdGlmeU5vU2VsZWN0ZWRUb2tlbnMnKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5zLmZvckVhY2goKHRva2VuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhY3RvcklkID0gdG9rZW4uZGF0YS5hY3RvcklkO1xuICAgICAgICAgICAgT3ZlcndhdGNoU2NvcmVUcmFja2VyLmFkZGVkQWN0b3JzLnB1c2goYWN0b3JJZCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfc2V0T3ZlcndhdGNoU2NvcmUoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgYWN0b3IgPSB0aGlzLl9nZXRBY3RvckZyb21FdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgIGlmIChhbW91bnQgJiYgYWN0b3IpIHtcbiAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKGFtb3VudCkudGhlbigoKSA9PiB0aGlzLnJlbmRlcigpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZGRPdmVyd2F0Y2hTY29yZShldmVudCkge1xuICAgICAgICBjb25zdCBhY3RvciA9IHRoaXMuX2dldEFjdG9yRnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFtb3VudCk7XG4gICAgICAgIGlmIChhbW91bnQgJiYgYWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG9zID0gYWN0b3IuZ2V0T3ZlcndhdGNoU2NvcmUoKTtcbiAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKG9zICsgYW1vdW50KS50aGVuKCgpID0+IHRoaXMucmVuZGVyKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Jlc2V0T3ZlcndhdGNoU2NvcmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgYWN0b3IgPSB0aGlzLl9nZXRBY3RvckZyb21FdmVudChldmVudCk7XG4gICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgICAgYWN0b3Iuc2V0T3ZlcndhdGNoU2NvcmUoMCkudGhlbigoKSA9PiB0aGlzLnJlbmRlcigpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yb2xsRm9yMTVNaW51dGVzKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGFjdG9yID0gdGhpcy5fZ2V0QWN0b3JGcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAoYWN0b3IpIHtcbiAgICAgICAgICAgIC8vICB1c2Ugc3RhdGljIHZhbHVlIHNvIGl0IGNhbiBiZSBtb2RpZmllZCBpbiBtb2R1bGVzXG4gICAgICAgICAgICBjb25zdCByb2xsID0gbmV3IFJvbGwoT3ZlcndhdGNoU2NvcmVUcmFja2VyLk1hdHJpeE92ZXJ3YXRjaERpY2VDb3VudCk7XG4gICAgICAgICAgICByb2xsLnJvbGwoKTtcblxuICAgICAgICAgICAgLy8gdXNlIEdNIFJvbGwgTW9kZSBzbyBwbGF5ZXJzIGRvbid0IHNlZVxuICAgICAgICAgICAgLy8gY29uc3Qgcm9sbE1vZGUgPSBDT05GSUcuRGljZS5yb2xsTW9kZXMuZ21yb2xsO1xuICAgICAgICAgICAgLy8gcm9sbC50b01lc3NhZ2UoeyByb2xsTW9kZSB9KTtcblxuICAgICAgICAgICAgaWYgKHJvbGwudG90YWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcyA9IGFjdG9yLmdldE92ZXJ3YXRjaFNjb3JlKCk7XG4gICAgICAgICAgICAgICAgYWN0b3Iuc2V0T3ZlcndhdGNoU2NvcmUob3MgKyByb2xsLnRvdGFsKS50aGVuKCgpID0+IHRoaXMucmVuZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtIH0gZnJvbSAnLi9MYW5ndWFnZVNraWxsRWRpdEZvcm0nO1xuaW1wb3J0IEtub3dsZWRnZVNraWxsQ2F0ZWdvcnkgPSBTaGFkb3dydW4uS25vd2xlZGdlU2tpbGxDYXRlZ29yeTtcblxuZXhwb3J0IGNsYXNzIEtub3dsZWRnZVNraWxsRWRpdEZvcm0gZXh0ZW5kcyBMYW5ndWFnZVNraWxsRWRpdEZvcm0ge1xuICAgIGNhdGVnb3J5OiBLbm93bGVkZ2VTa2lsbENhdGVnb3J5O1xuICAgIGNvbnN0cnVjdG9yKGFjdG9yLCBvcHRpb25zLCBza2lsbElkLCBjYXRlZ29yeSkge1xuICAgICAgICBzdXBlcihhY3Rvciwgb3B0aW9ucywgc2tpbGxJZCk7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICB9XG4gICAgX3VwZGF0ZVN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRhLnNraWxscy5rbm93bGVkZ2UuJHt0aGlzLmNhdGVnb3J5fS52YWx1ZS4ke3RoaXMuc2tpbGxJZH1gO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNraWxsRWRpdEZvcm0gfSBmcm9tICcuL1NraWxsRWRpdEZvcm0nO1xuXG5leHBvcnQgY2xhc3MgTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtIGV4dGVuZHMgU2tpbGxFZGl0Rm9ybSB7XG4gICAgX3VwZGF0ZVN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRhLnNraWxscy5sYW5ndWFnZS52YWx1ZS4ke3RoaXMuc2tpbGxJZH1gO1xuICAgIH1cblxuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5nZXREYXRhKCksIHtcbiAgICAgICAgICAgIGVkaXRhYmxlX25hbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBfb25VcGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhLCB1cGRhdGVEYXRhKSB7XG4gICAgICAgIHN1cGVyLl9vblVwZGF0ZU9iamVjdChldmVudCwgZm9ybURhdGEsIHVwZGF0ZURhdGEpO1xuICAgICAgICBjb25zdCBuYW1lID0gZm9ybURhdGFbJ2RhdGEubmFtZSddO1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0YSA9IHVwZGF0ZURhdGFbdGhpcy5fdXBkYXRlU3RyaW5nKCldIHx8IHt9O1xuICAgICAgICB1cGRhdGVEYXRhW3RoaXMuX3VwZGF0ZVN0cmluZygpXSA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU2tpbGxFZGl0Rm9ybURhdGEgPSBTaGFkb3dydW4uU2tpbGxFZGl0Rm9ybURhdGE7XG5cbmV4cG9ydCBjbGFzcyBTa2lsbEVkaXRGb3JtIGV4dGVuZHMgQmFzZUVudGl0eVNoZWV0IHtcbiAgICBza2lsbElkOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihhY3Rvciwgb3B0aW9ucywgc2tpbGxJZCkge1xuICAgICAgICBzdXBlcihhY3Rvciwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc2tpbGxJZCA9IHNraWxsSWQ7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRhLnNraWxscy5hY3RpdmUuJHt0aGlzLnNraWxsSWR9YDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdChvcHRpb25zLCB7XG4gICAgICAgICAgICBpZDogJ3NraWxsLWVkaXRvcicsXG4gICAgICAgICAgICBjbGFzc2VzOiBbJ3NyNScsICdzaGVldCcsICdza2lsbC1lZGl0LXdpbmRvdyddLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FwcHMvc2tpbGwtZWRpdC5odG1sJyxcbiAgICAgICAgICAgIHdpZHRoOiAzMDAsXG4gICAgICAgICAgICBzdWJtaXRPbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgc3VibWl0T25DaGFuZ2U6IHRydWUsXG4gICAgICAgICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZSxcbiAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IHRpdGxlKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5lbnRpdHkuZ2V0U2tpbGxMYWJlbCh0aGlzLnNraWxsSWQpO1xuICAgICAgICByZXR1cm4gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRWRpdFNraWxsJyl9IC0gJHtnYW1lLmkxOG4ubG9jYWxpemUobGFiZWwpfWA7XG4gICAgfVxuXG4gICAgX29uVXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSwgdXBkYXRlRGF0YSkge1xuICAgICAgICAvLyBnZXQgYmFzZSB2YWx1ZVxuICAgICAgICBjb25zdCBiYXNlID0gZm9ybURhdGFbJ2RhdGEuYmFzZSddO1xuXG4gICAgICAgIC8vIHByb2Nlc3Mgc3BlY2lhbGl6YXRpb25zXG4gICAgICAgIGNvbnN0IHNwZWNzUmVnZXggPSAvZGF0YVxcLnNwZWNzXFwuKFxcZCspLztcbiAgICAgICAgY29uc3Qgc3BlY3MgPSBPYmplY3QuZW50cmllcyhmb3JtRGF0YSkucmVkdWNlKChydW5uaW5nLCBba2V5LCB2YWxdOiBbc3RyaW5nLCBhbnldKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGtleS5tYXRjaChzcGVjc1JlZ2V4KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCAmJiBmb3VuZFswXSkge1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0sIFtdIGFzIGFueVtdKTtcblxuICAgICAgICAvLyBwcm9jZXNzIGJvbnVzZXNcbiAgICAgICAgY29uc3QgYm9udXNLZXlSZWdleCA9IC9kYXRhXFwuYm9udXNcXC4oXFxkKykua2V5LztcbiAgICAgICAgY29uc3QgYm9udXNWYWx1ZVJlZ2V4ID0gL2RhdGFcXC5ib251c1xcLihcXGQrKS52YWx1ZS87XG4gICAgICAgIGNvbnN0IGJvbnVzID0gT2JqZWN0LmVudHJpZXMoZm9ybURhdGEpLnJlZHVjZSgocnVubmluZywgW2tleSwgdmFsdWVdOiBbc3RyaW5nLCBhbnldKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZEtleSA9IGtleS5tYXRjaChib251c0tleVJlZ2V4KTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kVmFsID0ga2V5Lm1hdGNoKGJvbnVzVmFsdWVSZWdleCk7XG4gICAgICAgICAgICBpZiAoZm91bmRLZXkgJiYgZm91bmRLZXlbMF0gJiYgZm91bmRLZXlbMV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGZvdW5kS2V5WzFdO1xuICAgICAgICAgICAgICAgIGlmIChydW5uaW5nW2luZGV4XSA9PT0gdW5kZWZpbmVkKSBydW5uaW5nW2luZGV4XSA9IHt9O1xuICAgICAgICAgICAgICAgIHJ1bm5pbmdbaW5kZXhdLmtleSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb3VuZFZhbCAmJiBmb3VuZFZhbFswXSAmJiBmb3VuZFZhbFsxXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZm91bmRWYWxbMV07XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdbaW5kZXhdID09PSB1bmRlZmluZWQpIHJ1bm5pbmdbaW5kZXhdID0ge307XG4gICAgICAgICAgICAgICAgcnVubmluZ1tpbmRleF0udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0sIFtdIGFzIGFueVtdKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50RGF0YSA9IHVwZGF0ZURhdGFbdGhpcy5fdXBkYXRlU3RyaW5nKCldIHx8IHt9O1xuICAgICAgICB1cGRhdGVEYXRhW3RoaXMuX3VwZGF0ZVN0cmluZygpXSA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxuICAgICAgICAgICAgYmFzZSxcbiAgICAgICAgICAgIHNwZWNzLFxuICAgICAgICAgICAgYm9udXMsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIGFzeW5jIF91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5fb25VcGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhLCB1cGRhdGVEYXRhKTtcbiAgICAgICAgYXdhaXQgdGhpcy5lbnRpdHkudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG4gICAgICAgICQoaHRtbCkuZmluZCgnLmFkZC1zcGVjJykub24oJ2NsaWNrJywgdGhpcy5fYWRkTmV3U3BlYy5iaW5kKHRoaXMpKTtcbiAgICAgICAgJChodG1sKS5maW5kKCcucmVtb3ZlLXNwZWMnKS5vbignY2xpY2snLCB0aGlzLl9yZW1vdmVTcGVjLmJpbmQodGhpcykpO1xuICAgICAgICAkKGh0bWwpLmZpbmQoJy5hZGQtYm9udXMnKS5vbignY2xpY2snLCB0aGlzLl9hZGROZXdCb251cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgJChodG1sKS5maW5kKCcucmVtb3ZlLWJvbnVzJykub24oJ2NsaWNrJywgdGhpcy5fcmVtb3ZlQm9udXMuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX2FkZE5ld0JvbnVzKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpLmRhdGE7XG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGJvbnVzID0gW10gfSA9IGRhdGE7XG4gICAgICAgIC8vIGFkZCBibGFuayBsaW5lIGZvciBuZXcgYm9udXNcbiAgICAgICAgdXBkYXRlRGF0YVtgJHt0aGlzLl91cGRhdGVTdHJpbmcoKX0uYm9udXNgXSA9IFsuLi5ib251cywgeyBrZXk6ICcnLCB2YWx1ZTogMCB9XTtcbiAgICAgICAgYXdhaXQgdGhpcy5lbnRpdHkudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIF9yZW1vdmVCb251cyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGEoKS5kYXRhO1xuICAgICAgICBpZiAoZGF0YT8uYm9udXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYm9udXMgfSA9IGRhdGE7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5zcGVjO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBib251cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbYCR7dGhpcy5fdXBkYXRlU3RyaW5nKCl9LmJvbnVzYF0gPSBib251cztcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmVudGl0eS51cGRhdGUodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBfYWRkTmV3U3BlYyhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGEoKS5kYXRhO1xuICAgICAgICBpZiAoZGF0YT8uc3BlY3MpIHtcbiAgICAgICAgICAgIC8vIGFkZCBhIGJsYW5rIGxpbmUgdG8gc3BlY3NcbiAgICAgICAgICAgIGNvbnN0IHsgc3BlY3MgfSA9IGRhdGE7XG4gICAgICAgICAgICB1cGRhdGVEYXRhW2Ake3RoaXMuX3VwZGF0ZVN0cmluZygpfS5zcGVjc2BdID0gWy4uLnNwZWNzLCAnJ107XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5lbnRpdHkudXBkYXRlKHVwZGF0ZURhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIF9yZW1vdmVTcGVjKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpLmRhdGE7XG4gICAgICAgIGlmIChkYXRhPy5zcGVjcykge1xuICAgICAgICAgICAgY29uc3QgeyBzcGVjcyB9ID0gZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNwZWM7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHNwZWNzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVtgJHt0aGlzLl91cGRhdGVTdHJpbmcoKX0uc3BlY3NgXSA9IHNwZWNzO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZW50aXR5LnVwZGF0ZSh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldERhdGEoKTogU2tpbGxFZGl0Rm9ybURhdGEge1xuICAgICAgICBjb25zdCBkYXRhID0gc3VwZXIuZ2V0RGF0YSgpO1xuICAgICAgICBjb25zdCBhY3RvciA9IGRhdGEuZW50aXR5O1xuICAgICAgICBkYXRhWydkYXRhJ10gPSBhY3RvciA/IGdldFByb3BlcnR5KGFjdG9yLCB0aGlzLl91cGRhdGVTdHJpbmcoKSkgOiB7fTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBNZWFzdXJlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwaXhlbCBjb29yZGluYXRlc1xuICogU2VlIEJhc2VHcmlkLm1lYXN1cmVEaXN0YW5jZSBmb3IgbW9yZSBkZXRhaWxzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHAwICAgICAgICAgICBUaGUgb3JpZ2luIGNvb3JkaW5hdGUge3gsIHl9XG4gKiBAcGFyYW0ge09iamVjdH0gcDEgICAgICAgICAgIFRoZSBkZXN0aW5hdGlvbiBjb29yZGluYXRlIHt4LCB5fVxuICogQHBhcmFtIHtib29sZWFufSBncmlkU3BhY2VzICBFbmZvcmNlIGdyaWQgZGlzdGFuY2UgKGlmIHRydWUpIHZzLiBkaXJlY3QgcG9pbnQtdG8tcG9pbnQgKGlmIGZhbHNlKVxuICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICBUaGUgZGlzdGFuY2UgYmV0d2VlbiBwMSBhbmQgcDBcbiAqL1xuaW1wb3J0IHsgU1lTVEVNX05BTUUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBtZWFzdXJlRGlzdGFuY2UgPSBmdW5jdGlvbiAocDAsIHAxLCB7IGdyaWRTcGFjZXMgPSB0cnVlIH0gPSB7fSkge1xuICAgIGlmICghZ3JpZFNwYWNlcylcbiAgICAgICAgeyAgLy8gQmFzZUdyaWQgZXhpc3RzLi4uIGZpeCBpbiBmb3VuZHJ5IHR5cGVzXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gQmFzZUdyaWQucHJvdG90eXBlLm1lYXN1cmVEaXN0YW5jZS5iaW5kKHRoaXMpKHAwLCBwMSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFNwYWNlcyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICBjb25zdCBncyA9IGNhbnZhcy5kaW1lbnNpb25zLnNpemU7XG4gICAgY29uc3QgcmF5ID0gbmV3IFJheShwMCwgcDEpO1xuICAgIGNvbnN0IG54ID0gTWF0aC5hYnMoTWF0aC5jZWlsKHJheS5keCAvIGdzKSk7XG4gICAgY29uc3QgbnkgPSBNYXRoLmFicyhNYXRoLmNlaWwocmF5LmR5IC8gZ3MpKTtcblxuICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIHN0cmFpZ2h0IGFuZCBkaWFnb25hbCBtb3Zlc1xuICAgIGNvbnN0IG5EaWFnb25hbCA9IE1hdGgubWluKG54LCBueSk7XG4gICAgY29uc3QgblN0cmFpZ2h0ID0gTWF0aC5hYnMobnkgLSBueCk7XG5cbiAgICBjb25zdCBkaWFnb25hbFJ1bGUgPSBnYW1lLnNldHRpbmdzLmdldChTWVNURU1fTkFNRSwgJ2RpYWdvbmFsTW92ZW1lbnQnKTtcblxuICAgIGlmIChkaWFnb25hbFJ1bGUgPT09ICcxLTItMScpIHtcbiAgICAgICAgY29uc3QgbmQxMCA9IE1hdGguZmxvb3IobkRpYWdvbmFsIC8gMik7XG4gICAgICAgIGNvbnN0IHNwYWNlcyA9IG5kMTAgKiAyICsgKG5EaWFnb25hbCAtIG5kMTApICsgblN0cmFpZ2h0O1xuICAgICAgICByZXR1cm4gc3BhY2VzICogY2FudmFzLmRpbWVuc2lvbnMuZGlzdGFuY2U7XG4gICAgfVxuICAgIHJldHVybiAoblN0cmFpZ2h0ICsgbkRpYWdvbmFsKSAqIGNhbnZhcy5zY2VuZS5kYXRhLmdyaWREaXN0YW5jZTtcbn07XG4iLCJpbXBvcnQgeyBTUjVBY3RvciB9IGZyb20gJy4vYWN0b3IvU1I1QWN0b3InO1xuaW1wb3J0IHsgU1I1SXRlbSB9IGZyb20gJy4vaXRlbS9TUjVJdGVtJztcbmltcG9ydCBUZW1wbGF0ZSBmcm9tICcuL3RlbXBsYXRlJztcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XG5pbXBvcnQgQmFzZVZhbHVlUGFpciA9IFNoYWRvd3J1bi5CYXNlVmFsdWVQYWlyO1xuaW1wb3J0IERhbWFnZURhdGEgPSBTaGFkb3dydW4uRGFtYWdlRGF0YTtcbmltcG9ydCBBdHRhY2tEYXRhID0gU2hhZG93cnVuLkF0dGFja0RhdGE7XG5pbXBvcnQgTGFiZWxGaWVsZCA9IFNoYWRvd3J1bi5MYWJlbEZpZWxkO1xuaW1wb3J0IHsgRkxBR1MsIFNZU1RFTV9OQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuXG5leHBvcnQgdHlwZSBUZW1wbGF0ZURhdGEgPSB7XG4gICAgaGVhZGVyOiB7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgaW1nOiBzdHJpbmc7XG4gICAgfTtcbiAgICB0b2tlbklkPzogc3RyaW5nO1xuICAgIGRpY2U/OiBEaWVbXTtcbiAgICBwYXJ0cz86IE1vZExpc3Q8bnVtYmVyPjtcbiAgICBsaW1pdD86IEJhc2VWYWx1ZVBhaXI8bnVtYmVyPiAmIExhYmVsRmllbGQ7XG4gICAgdGVzdE5hbWU/OiBzdHJpbmc7XG4gICAgYWN0b3I/OiBTUjVBY3RvcjtcbiAgICBpdGVtPzogU1I1SXRlbTtcbiAgICBhdHRhY2s/OiBBdHRhY2tEYXRhO1xuICAgIGluY29taW5nQXR0YWNrPzogQXR0YWNrRGF0YTtcbiAgICBpbmNvbWluZ0RyYWluPzogTGFiZWxGaWVsZCAmIHtcbiAgICAgICAgdmFsdWU6IG51bWJlcjtcbiAgICB9O1xuICAgIGhpdHM/OiBudW1iZXI7XG4gICAgc29haz86IERhbWFnZURhdGE7XG4gICAgdGVzdHM/OiB7XG4gICAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgICAgIHR5cGU6IHN0cmluZztcbiAgICB9W107XG4gICAgZGVzY3JpcHRpb24/OiBvYmplY3Q7XG4gICAgcHJldmlld1RlbXBsYXRlPzogYm9vbGVhbjtcbiAgICByb2xsTW9kZT86IGtleW9mIHR5cGVvZiBDT05GSUcuRGljZS5yb2xsTW9kZXM7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2hhdERhdGEgPSBhc3luYyAodGVtcGxhdGVEYXRhOiBUZW1wbGF0ZURhdGEsIHJvbGw/OiBSb2xsKSA9PiB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBgc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yb2xsLWNhcmQuaHRtbGA7XG4gICAgY29uc3QgaGFja3lUZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgIC4uLnRlbXBsYXRlRGF0YSxcbiAgICAgICAgcGFydHM6IG5ldyBQYXJ0c0xpc3QodGVtcGxhdGVEYXRhLnBhcnRzKS5nZXRNZXNzYWdlT3V0cHV0KCksXG4gICAgICAgIHNob3dHbGl0Y2hBbmltYXRpb246IGdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5TaG93R2xpdGNoQW5pbWF0aW9uKSxcbiAgICB9O1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgaGFja3lUZW1wbGF0ZURhdGEpO1xuICAgIGNvbnN0IGFjdG9yID0gdGVtcGxhdGVEYXRhLmFjdG9yO1xuXG4gICAgY29uc3QgY2hhdERhdGEgPSB7XG4gICAgICAgIHVzZXI6IGdhbWUudXNlci5faWQsXG4gICAgICAgIHR5cGU6IHJvbGwgPyBDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuUk9MTCA6IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5PVEhFUixcbiAgICAgICAgY29udGVudDogaHRtbCxcbiAgICAgICAgcm9sbDogcm9sbCA/IEpTT04uc3RyaW5naWZ5KHJvbGwpIDogdW5kZWZpbmVkLFxuICAgICAgICBzcGVha2VyOiB7XG4gICAgICAgICAgICBhY3RvcjogYWN0b3I/Ll9pZCxcbiAgICAgICAgICAgIHRva2VuOiBhY3Rvcj8udG9rZW4sXG4gICAgICAgICAgICBhbGlhczogdGVtcGxhdGVEYXRhLmhlYWRlci5uYW1lLFxuICAgICAgICB9LFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgc2hhZG93cnVuNWU6IHtcbiAgICAgICAgICAgICAgICBjdXN0b21Sb2xsOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChyb2xsKSB7XG4gICAgICAgIGNoYXREYXRhWydzb3VuZCddID0gQ09ORklHLnNvdW5kcy5kaWNlO1xuICAgIH1cbiAgICBjb25zdCByb2xsTW9kZSA9IHRlbXBsYXRlRGF0YS5yb2xsTW9kZSA/PyBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpO1xuXG4gICAgaWYgKFsnZ21yb2xsJywgJ2JsaW5kcm9sbCddLmluY2x1ZGVzKHJvbGxNb2RlKSkgY2hhdERhdGFbJ3doaXNwZXInXSA9IENoYXRNZXNzYWdlLmdldFdoaXNwZXJSZWNpcGllbnRzKCdHTScpO1xuICAgIGlmIChyb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCcpIGNoYXREYXRhWydibGluZCddID0gdHJ1ZTtcblxuICAgIHJldHVybiBjaGF0RGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRDaGF0TWVzc2FnZUNvbnRleHRPcHRpb25zID0gKGh0bWwsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjYW5Sb2xsID0gKGxpKSA9PiB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGdhbWUubWVzc2FnZXMuZ2V0KGxpLmRhdGEoKS5tZXNzYWdlSWQpO1xuXG4gICAgICAgIHJldHVybiBtc2cuZ2V0RmxhZyhTWVNURU1fTkFNRSwgRkxBR1MuTWVzc2FnZUN1c3RvbVJvbGwpO1xuICAgIH07XG5cbiAgICBvcHRpb25zLnB1c2goXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdQdXNoIHRoZSBMaW1pdCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKGxpKSA9PiBTUjVBY3Rvci5wdXNoVGhlTGltaXQobGkpLFxuICAgICAgICAgICAgY29uZGl0aW9uOiBjYW5Sb2xsLFxuICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLW1ldGVvclwiPjwvaT4nLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnU2Vjb25kIENoYW5jZScsXG4gICAgICAgICAgICBjYWxsYmFjazogKGxpKSA9PiBTUjVBY3Rvci5zZWNvbmRDaGFuY2UobGkpLFxuICAgICAgICAgICAgY29uZGl0aW9uOiBjYW5Sb2xsLFxuICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWRpY2UtZDZcIj48L2k+JyxcbiAgICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiBvcHRpb25zO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFJvbGxMaXN0ZW5lcnMgPSAoYXBwOiBDaGF0TWVzc2FnZSwgaHRtbCkgPT4ge1xuICAgIGlmICghYXBwLmdldEZsYWcoU1lTVEVNX05BTUUsIEZMQUdTLk1lc3NhZ2VDdXN0b21Sb2xsKSkgcmV0dXJuO1xuICAgIGNvbnN0IGl0ZW0gPSBTUjVJdGVtLmdldEl0ZW1Gcm9tTWVzc2FnZShodG1sKTtcbiAgICBodG1sLm9uKCdjbGljaycsICcudGVzdC1yb2xsJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICBjb25zdCByb2xsID0gYXdhaXQgaXRlbS5yb2xsVGVzdChldmVudCwgeyBoaWRlUm9sbE1lc3NhZ2U6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAocm9sbCAmJiByb2xsLnRlbXBsYXRlRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gYHN5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbHMvcm9sbC1jYXJkLmh0bWxgO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgcm9sbC50ZW1wbGF0ZURhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICBkYXRhWydjb250ZW50J10gPSBodG1sO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFwcC51cGRhdGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBodG1sLm9uKCdjbGljaycsICcudGVzdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0eXBlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbjtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGF3YWl0IGl0ZW0ucm9sbEV4dHJhVGVzdCh0eXBlLCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBodG1sLm9uKCdjbGljaycsICcucGxhY2UtdGVtcGxhdGUnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gVGVtcGxhdGUuZnJvbUl0ZW0oaXRlbSk7XG4gICAgICAgICAgICB0ZW1wbGF0ZT8uZHJhd1ByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGh0bWwub24oJ2NsaWNrJywgJy5jYXJkLXRpdGxlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuc2libGluZ3MoJy5jYXJkLWRlc2NyaXB0aW9uJykudG9nZ2xlKCk7XG4gICAgfSk7XG4gICAgaWYgKGl0ZW0/Lmhhc1JvbGwgJiYgYXBwLmlzUm9sbCkgJChodG1sKS5maW5kKCcuY2FyZC1kZXNjcmlwdGlvbicpLmhpZGUoKTtcbn07XG4iLCJpbXBvcnQgeyBTWVNURU1fTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IHByZUNvbWJhdFVwZGF0ZSA9IGFzeW5jIGZ1bmN0aW9uIChjb21iYXQsIGNoYW5nZXMsIG9wdGlvbnMpIHtcbiAgICAvLyB0cmlnZ2VycyB3aGVuIGNvbWJhdCByb3VuZCBjaGFuZ2VzXG4gICAgaWYgKGNoYW5nZXMucm91bmQgJiYgY29tYmF0LnJvdW5kICYmIGNoYW5nZXMucm91bmQgPiBjb21iYXQucm91bmQpIHtcbiAgICAgICAgbGV0IGluaXRQYXNzRW5kID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIGNvbWJhdC5jb21iYXRhbnRzKSB7XG4gICAgICAgICAgICBsZXQgaW5pdCA9IE51bWJlcihjLmluaXRpYXRpdmUpO1xuICAgICAgICAgICAgaW5pdCAtPSAxMDtcbiAgICAgICAgICAgIGlmIChpbml0ID4gMCkgaW5pdFBhc3NFbmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWluaXRQYXNzRW5kKSB7XG4gICAgICAgICAgICBjaGFuZ2VzLnJvdW5kID0gY29tYmF0LnJvdW5kO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGFyZSBnbSwgY2FsbCBmdW5jdGlvbiBub3JtYWxseVxuICAgICAgICAvLyBpZiBub3QgZ20sIHNlbmQgYSBzb2NrZXQgbWVzc2FnZSBmb3IgdGhlIGdtIHRvIHVwZGF0ZSB0aGUgY29tYmF0YW50c1xuICAgICAgICAvLyBmb3IgbmV3IGluaXRhdGl2ZSBwYXNzZXMgb3IgcmVyb2xsXG4gICAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICAgICAgYXdhaXQgc2hhZG93cnVuQ29tYmF0VXBkYXRlKGNoYW5nZXMsIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLnNoYWRvd3J1bjVlJywge1xuICAgICAgICAgICAgICAgIGdtQ29tYmF0VXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNoYWRvd3J1bkNvbWJhdFVwZGF0ZSA9IGFzeW5jIChjaGFuZ2VzLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBjb21iYXQgfSA9IGdhbWU7XG4gICAgLy8gc3VidGFjdCAxMCBmcm9tIGFsbCBpbml0aWF0aXZlLCB3ZSBqdXN0IHdlbnQgaW50byB0aGUgbmV4dCBpbml0aWF0aXZlIHBhc3NcbiAgICBjb25zdCByZW1vdmVkQ29tYmF0YW50cyA9IGNvbWJhdC5nZXRGbGFnKFNZU1RFTV9OQU1FLCAncmVtb3ZlZENvbWJhdGFudHMnKSB8fCBbXTtcbiAgICBjb25zdCBjb21iYXRhbnRzID0gW107XG4gICAgZm9yIChjb25zdCBjIG9mIGNvbWJhdC5jb21iYXRhbnRzKSB7XG4gICAgICAgIGxldCBpbml0ID0gTnVtYmVyKGMuaW5pdGlhdGl2ZSk7XG4gICAgICAgIGluaXQgLT0gMTA7XG4gICAgICAgIGlmIChpbml0IDw9IDApIHJlbW92ZWRDb21iYXRhbnRzLnB1c2goeyAuLi5jIH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbWJhdGFudHMucHVzaCh7IF9pZDogYy5faWQsIGluaXRpYXRpdmU6IGluaXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgY29tYmF0LmRlbGV0ZUVtYmVkZGVkRW50aXR5KFxuICAgICAgICAnQ29tYmF0YW50JyxcbiAgICAgICAgcmVtb3ZlZENvbWJhdGFudHMubWFwKChjKSA9PiBjLl9pZCksXG4gICAgICAgIHt9LFxuICAgICk7XG4gICAgYXdhaXQgY29tYmF0LnVwZGF0ZUVtYmVkZGVkRW50aXR5KCdDb21iYXRhbnQnLCBjb21iYXRhbnRzLCB7fSk7XG4gICAgaWYgKGNvbWJhdGFudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW107XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VPcHRpb25zID0gb3B0aW9ucy5tZXNzYWdlT3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgcmVtb3ZlZENvbWJhdGFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IGMuYWN0b3IgPyBjLmFjdG9yLmRhdGEgOiB7fTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGZvcm11bGEgPSBjb21iYXQuX2dldEluaXRpYXRpdmVGb3JtdWxhKGMpO1xuXG4gICAgICAgICAgICBjb25zdCByb2xsOiBSb2xsID0gbmV3IFJvbGwoZm9ybXVsYSwgYWN0b3JEYXRhKS5yb2xsKCk7XG4gICAgICAgICAgICBjLmluaXRpYXRpdmUgPSByb2xsLnRvdGFsO1xuXG4gICAgICAgICAgICBjb25zdCByb2xsTW9kZSA9IG1lc3NhZ2VPcHRpb25zLnJvbGxNb2RlIHx8IGMudG9rZW4uaGlkZGVuIHx8IGMuaGlkZGVuID8gJ2dtcm9sbCcgOiAncm9sbCc7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlRGF0YSA9IG1lcmdlT2JqZWN0KFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3BlYWtlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmU6IGNhbnZhcy5zY2VuZS5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RvcjogYy5hY3RvciA/IGMuYWN0b3IuX2lkIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBjLnRva2VuLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzOiBjLnRva2VuLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZsYXZvcjogYCR7Yy50b2tlbi5uYW1lfSByb2xscyBmb3IgSW5pdGlhdGl2ZSFgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZU9wdGlvbnMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYXdhaXQgcm9sbC50b01lc3NhZ2UobWVzc2FnZURhdGEsIHtcbiAgICAgICAgICAgICAgICByb2xsTW9kZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNvbWJhdC5jcmVhdGVFbWJlZGRlZEVudGl0eSgnQ29tYmF0YW50JywgcmVtb3ZlZENvbWJhdGFudHMsIHt9KTtcbiAgICAgICAgYXdhaXQgQ2hhdE1lc3NhZ2UuY3JlYXRlKG1lc3NhZ2VzKTtcbiAgICAgICAgYXdhaXQgY29tYmF0LnVuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ3JlbW92ZWRDb21iYXRhbnRzJyk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXdhaXQgY29tYmF0LnJlc2V0QWxsKCk7XG4gICAgICAgIGF3YWl0IGNvbWJhdC5yb2xsQWxsKCk7XG4gICAgICAgIGF3YWl0IGNvbWJhdC51cGRhdGUoeyB0dXJuOiAwIH0pO1xuICAgIH0gZWxzZSBpZiAocmVtb3ZlZENvbWJhdGFudHMubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IGNvbWJhdC5zZXRGbGFnKFNZU1RFTV9OQU1FLCAncmVtb3ZlZENvbWJhdGFudHMnLCByZW1vdmVkQ29tYmF0YW50cyk7XG4gICAgICAgIGF3YWl0IGNvbWJhdC51cGRhdGUoeyB0dXJuOiAwIH0pO1xuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3QgU1I1ID0ge1xuICAgIGl0ZW1UeXBlczoge1xuICAgICAgICBhY3Rpb246ICdTUjUuSXRlbVR5cGVzLkFjdGlvbicsXG4gICAgICAgIGFkZXB0X3Bvd2VyOiAnU1I1Lkl0ZW1UeXBlcy5BZGVwdFBvd2VyJyxcbiAgICAgICAgYW1tbzogJ1NSNS5JdGVtVHlwZXMuQW1tbycsXG4gICAgICAgIGFybW9yOiAnU1I1Lkl0ZW1UeXBlcy5Bcm1vcicsXG4gICAgICAgIGNvbXBsZXhfZm9ybTogJ1NSNS5JdGVtVHlwZXMuQ29tcGxleEZvcm0nLFxuICAgICAgICBjb250YWN0OiAnU1I1Lkl0ZW1UeXBlcy5Db250YWN0JyxcbiAgICAgICAgY3JpdHRlcl9wb3dlcjogJ1NSNS5JdGVtVHlwZXMuQ3JpdHRlclBvd2VyJyxcbiAgICAgICAgY3liZXJ3YXJlOiAnU1I1Lkl0ZW1UeXBlcy5DeWJlcndhcmUnLFxuICAgICAgICBkZXZpY2U6ICdTUjUuSXRlbVR5cGVzLkRldmljZScsXG4gICAgICAgIGVxdWlwbWVudDogJ1NSNS5JdGVtVHlwZXMuRXF1aXBtZW50JyxcbiAgICAgICAgbGlmZXN0eWxlOiAnU1I1Lkl0ZW1UeXBlcy5MaWZlc3R5bGUnLFxuICAgICAgICBtb2RpZmljYXRpb246ICdTUjUuSXRlbVR5cGVzLk1vZGlmaWNhdGlvbicsXG4gICAgICAgIHF1YWxpdHk6ICdTUjUuSXRlbVR5cGVzLlF1YWxpdHknLFxuICAgICAgICBzaW46ICdTUjUuSXRlbVR5cGVzLlNpbicsXG4gICAgICAgIHNwZWxsOiAnU1I1Lkl0ZW1UeXBlcy5TcGVsbCcsXG4gICAgICAgIHdlYXBvbjogJ1NSNS5JdGVtVHlwZXMuV2VhcG9uJyxcbiAgICB9LFxuXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgICBib2R5OiAnU1I1LkF0dHJCb2R5JyxcbiAgICAgICAgYWdpbGl0eTogJ1NSNS5BdHRyQWdpbGl0eScsXG4gICAgICAgIHJlYWN0aW9uOiAnU1I1LkF0dHJSZWFjdGlvbicsXG4gICAgICAgIHN0cmVuZ3RoOiAnU1I1LkF0dHJTdHJlbmd0aCcsXG4gICAgICAgIHdpbGxwb3dlcjogJ1NSNS5BdHRyV2lsbHBvd2VyJyxcbiAgICAgICAgbG9naWM6ICdTUjUuQXR0ckxvZ2ljJyxcbiAgICAgICAgaW50dWl0aW9uOiAnU1I1LkF0dHJJbnR1aXRpb24nLFxuICAgICAgICBjaGFyaXNtYTogJ1NSNS5BdHRyQ2hhcmlzbWEnLFxuICAgICAgICBtYWdpYzogJ1NSNS5BdHRyTWFnaWMnLFxuICAgICAgICByZXNvbmFuY2U6ICdTUjUuQXR0clJlc29uYW5jZScsXG4gICAgICAgIGVkZ2U6ICdTUjUuQXR0ckVkZ2UnLFxuICAgICAgICBlc3NlbmNlOiAnU1I1LkF0dHJFc3NlbmNlJyxcbiAgICAgICAgYXR0YWNrOiAnU1I1Lk1hdHJpeEF0dHJBdHRhY2snLFxuICAgICAgICBzbGVhemU6ICdTUjUuTWF0cml4QXR0clNsZWF6ZScsXG4gICAgICAgIGRhdGFfcHJvY2Vzc2luZzogJ1NSNS5NYXRyaXhBdHRyRGF0YVByb2MnLFxuICAgICAgICBmaXJld2FsbDogJ1NSNS5NYXRyaXhBdHRyRmlyZXdhbGwnLFxuICAgIH0sXG5cbiAgICBsaW1pdHM6IHtcbiAgICAgICAgcGh5c2ljYWw6ICdTUjUuTGltaXRQaHlzaWNhbCcsXG4gICAgICAgIHNvY2lhbDogJ1NSNS5MaW1pdFNvY2lhbCcsXG4gICAgICAgIG1lbnRhbDogJ1NSNS5MaW1pdE1lbnRhbCcsXG4gICAgICAgIGF0dGFjazogJ1NSNS5NYXRyaXhBdHRyQXR0YWNrJyxcbiAgICAgICAgc2xlYXplOiAnU1I1Lk1hdHJpeEF0dHJTbGVhemUnLFxuICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6ICdTUjUuTWF0cml4QXR0ckRhdGFQcm9jJyxcbiAgICAgICAgZmlyZXdhbGw6ICdTUjUuTWF0cml4QXR0ckZpcmV3YWxsJyxcbiAgICB9LFxuXG4gICAgc3BlY2lhbFR5cGVzOiB7XG4gICAgICAgIG11bmRhbmU6ICdTUjUuTXVuZGFuZScsXG4gICAgICAgIG1hZ2ljOiAnU1I1LkF3YWtlbmVkJyxcbiAgICAgICAgcmVzb25hbmNlOiAnU1I1LkVtZXJnZWQnLFxuICAgIH0sXG5cbiAgICBkYW1hZ2VUeXBlczoge1xuICAgICAgICBwaHlzaWNhbDogJ1NSNS5EbWdUeXBlUGh5c2ljYWwnLFxuICAgICAgICBzdHVuOiAnU1I1LkRtZ1R5cGVTdHVuJyxcbiAgICAgICAgbWF0cml4OiAnU1I1LkRtZ1R5cGVNYXRyaXgnLFxuICAgIH0sXG5cbiAgICBlbGVtZW50VHlwZXM6IHtcbiAgICAgICAgZmlyZTogJ1NSNS5FbGVtZW50RmlyZScsXG4gICAgICAgIGNvbGQ6ICdTUjUuRWxlbWVudENvbGQnLFxuICAgICAgICBhY2lkOiAnU1I1LkVsZW1lbnRBY2lkJyxcbiAgICAgICAgZWxlY3RyaWNpdHk6ICdTUjUuRWxlbWVudEVsZWN0cmljaXR5JyxcbiAgICAgICAgcmFkaWF0aW9uOiAnU1I1LkVsZW1lbnRSYWRpYXRpb24nLFxuICAgIH0sXG5cbiAgICBzcGVsbENhdGVnb3JpZXM6IHtcbiAgICAgICAgY29tYmF0OiAnU1I1LlNwZWxsQ2F0Q29tYmF0JyxcbiAgICAgICAgZGV0ZWN0aW9uOiAnU1I1LlNwZWxsQ2F0RGV0ZWN0aW9uJyxcbiAgICAgICAgaGVhbHRoOiAnU1I1LlNwZWxsQ2F0SGVhbHRoJyxcbiAgICAgICAgaWxsdXNpb246ICdTUjUuU3BlbGxDYXRJbGx1c2lvbicsXG4gICAgICAgIG1hbmlwdWxhdGlvbjogJ1NSNS5TcGVsbENhdE1hbmlwdWxhdGlvbicsXG4gICAgfSxcblxuICAgIHNwZWxsVHlwZXM6IHtcbiAgICAgICAgcGh5c2ljYWw6ICdTUjUuU3BlbGxUeXBlUGh5c2ljYWwnLFxuICAgICAgICBtYW5hOiAnU1I1LlNwZWxsVHlwZU1hbmEnLFxuICAgIH0sXG5cbiAgICBzcGVsbFJhbmdlczoge1xuICAgICAgICB0b3VjaDogJ1NSNS5TcGVsbFJhbmdlVG91Y2gnLFxuICAgICAgICBsb3M6ICdTUjUuU3BlbGxSYW5nZUxvcycsXG4gICAgICAgIGxvc19hOiAnU1I1LlNwZWxsUmFuZ2VMb3NBJyxcbiAgICB9LFxuXG4gICAgY29tYmF0U3BlbGxUeXBlczoge1xuICAgICAgICBkaXJlY3Q6ICdTUjUuU3BlbGxDb21iYXREaXJlY3QnLFxuICAgICAgICBpbmRpcmVjdDogJ1NSNS5TcGVsbENvbWJhdEluZGlyZWN0JyxcbiAgICB9LFxuXG4gICAgZGV0ZWN0aW9uU3BlbGxUeXBlczoge1xuICAgICAgICBkaXJlY3Rpb25hbDogJ1NSNS5TcGVsbERldGVjdGlvbkRpcmVjdGlvbmFsJyxcbiAgICAgICAgcHN5Y2hpYzogJ1NSNS5TcGVsbERldGVjdGlvblBzeWNoaWMnLFxuICAgICAgICBhcmVhOiAnU1I1LlNwZWxsRGV0ZWN0aW9uQXJlYScsXG4gICAgfSxcblxuICAgIGlsbHVzaW9uU3BlbGxUeXBlczoge1xuICAgICAgICBvYnZpb3VzOiAnU1I1LlNwZWxsSWxsdXNpb25PYnZpb3VzJyxcbiAgICAgICAgcmVhbGlzdGljOiAnU1I1LlNwZWxsSWxsdXNpb25SZWFsaXN0aWMnLFxuICAgIH0sXG5cbiAgICBpbGx1c2lvblNwZWxsU2Vuc2VzOiB7XG4gICAgICAgICdzaW5nbGUtc2Vuc2UnOiAnU1I1LlNwZWxsSWxsdXNpb25TaW5nbGVTZW5zZScsXG4gICAgICAgICdtdWx0aS1zZW5zZSc6ICdTUjUuU3BlbGxJbGx1c2lvbk11bHRpU2Vuc2UnLFxuICAgIH0sXG5cbiAgICBhdHRyaWJ1dGVSb2xsczoge1xuICAgICAgICBjb21wb3N1cmU6ICdTUjUuUm9sbENvbXBvc3VyZScsXG4gICAgICAgIGxpZnRfY2Fycnk6ICdTUjUuUm9sbExpZnRDYXJyeScsXG4gICAgICAgIGp1ZGdlX2ludGVudGlvbnM6ICdTUjUuUm9sbEp1ZGdlSW50ZW50aW9ucycsXG4gICAgICAgIG1lbW9yeTogJ1NSNS5Sb2xsTWVtb3J5JyxcbiAgICB9LFxuXG4gICAgbWF0cml4VGFyZ2V0czoge1xuICAgICAgICBwZXJzb25hOiAnU1I1LlRhcmdldFBlcnNvbmEnLFxuICAgICAgICBkZXZpY2U6ICdTUjUuVGFyZ2V0RGV2aWNlJyxcbiAgICAgICAgZmlsZTogJ1NSNS5UYXJnZXRGaWxlJyxcbiAgICAgICAgc2VsZjogJ1NSNS5UYXJnZXRTZWxmJyxcbiAgICAgICAgc3ByaXRlOiAnU1I1LlRhcmdldFNwcml0ZScsXG4gICAgICAgIG90aGVyOiAnU1I1LlRhcmdldE90aGVyJyxcbiAgICB9LFxuXG4gICAgZHVyYXRpb25zOiB7XG4gICAgICAgIGluc3RhbnQ6ICdTUjUuRHVyYXRpb25JbnN0YW50JyxcbiAgICAgICAgc3VzdGFpbmVkOiAnU1I1LkR1cmF0aW9uU3VzdGFpbmVkJyxcbiAgICAgICAgcGVybWFuZW50OiAnU1I1LkR1cmF0aW9uUGVybWFuZW50JyxcbiAgICB9LFxuXG4gICAgd2VhcG9uQ2F0ZWdvcmllczoge1xuICAgICAgICByYW5nZTogJ1NSNS5XZWFwb25DYXRSYW5nZScsXG4gICAgICAgIG1lbGVlOiAnU1I1LldlYXBvbkNhdE1lbGVlJyxcbiAgICAgICAgdGhyb3duOiAnU1I1LldlYXBvbkNhdFRocm93bicsXG4gICAgfSxcblxuICAgIHdlYXBvblJhbmdlczoge1xuICAgICAgICBzaG9ydDogJ1NSNS5XZWFwb25SYW5nZVNob3J0JyxcbiAgICAgICAgbWVkaXVtOiAnU1I1LldlYXBvblJhbmdlTWVkaXVtJyxcbiAgICAgICAgbG9uZzogJ1NSNS5XZWFwb25SYW5nZUxvbmcnLFxuICAgICAgICBleHRyZW1lOiAnU1I1LldlYXBvblJhbmdlRXh0cmVtZScsXG4gICAgfSxcblxuICAgIHF1YWxpdHlUeXBlczoge1xuICAgICAgICBwb3NpdGl2ZTogJ1NSNS5RdWFsaXR5VHlwZVBvc2l0aXZlJyxcbiAgICAgICAgbmVnYXRpdmU6ICdTUjUuUXVhbGl0eVR5cGVOZWdhdGl2ZScsXG4gICAgfSxcblxuICAgIGFkZXB0UG93ZXI6IHtcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIGFjdGl2ZTogJ1NSNS5BZGVwdFBvd2VyLlR5cGVzLkFjdGl2ZScsXG4gICAgICAgICAgICBwYXNzaXZlOiAnU1I1LkFkZXB0UG93ZXIuVHlwZXMuUGFzc2l2ZScsXG4gICAgICAgIH0sXG4gICAgfSxcblxuICAgIGRldmljZUNhdGVnb3JpZXM6IHtcbiAgICAgICAgY29tbWxpbms6ICdTUjUuRGV2aWNlQ2F0Q29tbWxpbmsnLFxuICAgICAgICBjeWJlcmRlY2s6ICdTUjUuRGV2aWNlQ2F0Q3liZXJkZWNrJyxcbiAgICB9LFxuXG4gICAgY3liZXJ3YXJlR3JhZGVzOiB7XG4gICAgICAgIHN0YW5kYXJkOiAnU1I1LkN5YmVyd2FyZUdyYWRlU3RhbmRhcmQnLFxuICAgICAgICBhbHBoYTogJ1NSNS5DeWJlcndhcmVHcmFkZUFscGhhJyxcbiAgICAgICAgYmV0YTogJ1NSNS5DeWJlcndhcmVHcmFkZUJldGEnLFxuICAgICAgICBkZWx0YTogJ1NSNS5DeWJlcndhcmVHcmFkZURlbHRhJyxcbiAgICAgICAgdXNlZDogJ1NSNS5DeWJlcndhcmVHcmFkZVVzZWQnLFxuICAgIH0sXG5cbiAgICBrbm93bGVkZ2VTa2lsbENhdGVnb3JpZXM6IHtcbiAgICAgICAgc3RyZWV0OiAnU1I1Lktub3dsZWRnZVNraWxsU3RyZWV0JyxcbiAgICAgICAgYWNhZGVtaWM6ICdTUjUuS25vd2xlZGdlU2tpbGxBY2FkZW1pYycsXG4gICAgICAgIHByb2Zlc3Npb25hbDogJ1NSNS5Lbm93bGVkZ2VTa2lsbFByb2Zlc3Npb25hbCcsXG4gICAgICAgIGludGVyZXN0czogJ1NSNS5Lbm93bGVkZ2VTa2lsbEludGVyZXN0cycsXG4gICAgfSxcblxuICAgIGFjdGl2ZVNraWxsczoge1xuICAgICAgICBhcmNoZXJ5OiAnU1I1LlNraWxsQXJjaGVyeScsXG4gICAgICAgIGF1dG9tYXRpY3M6ICdTUjUuU2tpbGxBdXRvbWF0aWNzJyxcbiAgICAgICAgYmxhZGVzOiAnU1I1LlNraWxsQmxhZGVzJyxcbiAgICAgICAgY2x1YnM6ICdTUjUuU2tpbGxDbHVicycsXG4gICAgICAgIGV4b3RpY19tZWxlZTogJ1NSNS5Ta2lsbEV4b3RpY01lbGVlJyxcbiAgICAgICAgZXhvdGljX3JhbmdlOiAnU1I1LlNraWxsRXhvdGljUmFuZ2UnLFxuICAgICAgICBoZWF2eV93ZWFwb25zOiAnU1I1LlNraWxsSGVhdnlXZWFwb25zJyxcbiAgICAgICAgbG9uZ2FybXM6ICdTUjUuU2tpbGxMb25nYXJtcycsXG4gICAgICAgIHBpc3RvbHM6ICdTUjUuU2tpbGxQaXN0b2xzJyxcbiAgICAgICAgdGhyb3dpbmdfd2VhcG9uczogJ1NSNS5Ta2lsbFRocm93aW5nV2VhcG9ucycsXG4gICAgICAgIHVuYXJtZWRfY29tYmF0OiAnU1I1LlNraWxsVW5hcm1lZENvbWJhdCcsXG4gICAgICAgIGRpc2d1aXNlOiAnU1I1LlNraWxsRGlzZ3Vpc2UnLFxuICAgICAgICBkaXZpbmc6ICdTUjUuU2tpbGxEaXZpbmcnLFxuICAgICAgICBlc2NhcGVfYXJ0aXN0OiAnU1I1LlNraWxsRXNjYXBlQXJ0aXN0JyxcbiAgICAgICAgZnJlZV9mYWxsOiAnU1I1LlNraWxsRnJlZUZhbGwnLFxuICAgICAgICBneW1uYXN0aWNzOiAnU1I1LlNraWxsR3ltbmFzdGljcycsXG4gICAgICAgIHBhbG1pbmc6ICdTUjUuU2tpbGxQYWxtaW5nJyxcbiAgICAgICAgcGVyY2VwdGlvbjogJ1NSNS5Ta2lsbFBlcmNlcHRpb24nLFxuICAgICAgICBydW5uaW5nOiAnU1I1LlNraWxsUnVubmluZycsXG4gICAgICAgIHNuZWFraW5nOiAnU1I1LlNraWxsU25lYWtpbmcnLFxuICAgICAgICBzdXJ2aXZhbDogJ1NSNS5Ta2lsbFN1cnZpdmFsJyxcbiAgICAgICAgc3dpbW1pbmc6ICdTUjUuU2tpbGxTd2ltbWluZycsXG4gICAgICAgIHRyYWNraW5nOiAnU1I1LlNraWxsVHJhY2tpbmcnLFxuICAgICAgICBjb246ICdTUjUuU2tpbGxDb24nLFxuICAgICAgICBldGlxdWV0dGU6ICdTUjUuU2tpbGxFdGlxdWV0dGUnLFxuICAgICAgICBpbXBlcnNvbmF0aW9uOiAnU1I1LlNraWxsSW1wZXJzb25hdGlvbicsXG4gICAgICAgIGluc3RydWN0aW9uOiAnU1I1LlNraWxsSW5zdHJ1Y3Rpb24nLFxuICAgICAgICBpbnRpbWlkYXRpb246ICdTUjUuU2tpbGxJbnRpbWlkYXRpb24nLFxuICAgICAgICBsZWFkZXJzaGlwOiAnU1I1LlNraWxsTGVhZGVyc2hpcCcsXG4gICAgICAgIG5lZ290aWF0aW9uOiAnU1I1LlNraWxsTmVnb3RpYXRpb24nLFxuICAgICAgICBwZXJmb3JtYW5jZTogJ1NSNS5Ta2lsbFBlcmZvcm1hbmNlJyxcbiAgICAgICAgYWxjaGVteTogJ1NSNS5Ta2lsbEFsY2hlbXknLFxuICAgICAgICBhcmNhbmE6ICdTUjUuU2tpbGxBcmNhbmEnLFxuICAgICAgICBhcnRpZmljaW5nOiAnU1I1LlNraWxsQXJ0aWZpY2luZycsXG4gICAgICAgIGFzc2Vuc2luZzogJ1NSNS5Ta2lsbEFzc2Vuc2luZycsXG4gICAgICAgIGFzdHJhbF9jb21iYXQ6ICdTUjUuU2tpbGxBc3RyYWxDb21iYXQnLFxuICAgICAgICBiYW5pc2hpbmc6ICdTUjUuU2tpbGxCYW5pc2hpbmcnLFxuICAgICAgICBiaW5kaW5nOiAnU1I1LlNraWxsQmluZGluZycsXG4gICAgICAgIGNvdW50ZXJzcGVsbGluZzogJ1NSNS5Ta2lsbENvdW50ZXJzcGVsbGluZycsXG4gICAgICAgIGRpc2VuY2hhbnRpbmc6ICdTUjUuU2tpbGxEaXNlbmNoYW50aW5nJyxcbiAgICAgICAgcml0dWFsX3NwZWxsY2FzdGluZzogJ1NSNS5Ta2lsbFJpdHVhbFNwZWxsY2FzdGluZycsXG4gICAgICAgIHNwZWxsY2FzdGluZzogJ1NSNS5Ta2lsbFNwZWxsY2FzdGluZycsXG4gICAgICAgIHN1bW1vbmluZzogJ1NSNS5Ta2lsbFN1bW1vbmluZycsXG4gICAgICAgIGNvbXBpbGluZzogJ1NSNS5Ta2lsbENvbXBpbGluZycsXG4gICAgICAgIGRlY29tcGlsaW5nOiAnU1I1LlNraWxsRGVjb21waWxpbmcnLFxuICAgICAgICByZWdpc3RlcmluZzogJ1NSNS5Ta2lsbFJlZ2lzdGVyaW5nJyxcbiAgICAgICAgYWVyb25hdXRpY3NfbWVjaGFuaWM6ICdTUjUuU2tpbGxBZXJvbmF1dGljc01lY2hhbmljJyxcbiAgICAgICAgYXV0b21vdGl2ZV9tZWNoYW5pYzogJ1NSNS5Ta2lsbEF1dG9tb3RpdmVNZWNoYW5pYycsXG4gICAgICAgIGluZHVzdHJpYWxfbWVjaGFuaWM6ICdTUjUuU2tpbGxJbmR1c3RyaWFsTWVjaGFuaWMnLFxuICAgICAgICBuYXV0aWNhbF9tZWNoYW5pYzogJ1NSNS5Ta2lsbE5hdXRpY2FsTWVjaGFuaWMnLFxuICAgICAgICBhbmltYWxfaGFuZGxpbmc6ICdTUjUuU2tpbGxBbmltYWxIYW5kbGluZycsXG4gICAgICAgIGFybW9yZXI6ICdTUjUuU2tpbGxBcm1vcmVyJyxcbiAgICAgICAgYXJ0aXNhbjogJ1NSNS5Ta2lsbEFydGlzYW4nLFxuICAgICAgICBiaW90ZWNobm9sb2d5OiAnU1I1LlNraWxsQmlvdGVjaG5vbG9neScsXG4gICAgICAgIGNoZW1pc3RyeTogJ1NSNS5Ta2lsbENoZW1pc3RyeScsXG4gICAgICAgIGNvbXB1dGVyOiAnU1I1LlNraWxsQ29tcHV0ZXInLFxuICAgICAgICBjeWJlcmNvbWJhdDogJ1NSNS5Ta2lsbEN5YmVyY29tYmF0JyxcbiAgICAgICAgY3liZXJ0ZWNobm9sb2d5OiAnU1I1LlNraWxsQ3liZXJ0ZWNobm9sb2d5JyxcbiAgICAgICAgZGVtb2xpdGlvbnM6ICdTUjUuU2tpbGxEZW1vbGl0aW9ucycsXG4gICAgICAgIGVsZWN0cm9uaWNfd2FyZmFyZTogJ1NSNS5Ta2lsbEVsZWN0cm9uaWNXYXJmYXJlJyxcbiAgICAgICAgZmlyc3RfYWlkOiAnU1I1LlNraWxsRmlyc3RBaWQnLFxuICAgICAgICBmb3JnZXJ5OiAnU1I1LlNraWxsRm9yZ2VyeScsXG4gICAgICAgIGhhY2tpbmc6ICdTUjUuU2tpbGxIYWNraW5nJyxcbiAgICAgICAgaGFyZHdhcmU6ICdTUjUuU2tpbGxIYXJkd2FyZScsXG4gICAgICAgIGxvY2tzbWl0aDogJ1NSNS5Ta2lsbExvY2tzbWl0aCcsXG4gICAgICAgIG1lZGljaW5lOiAnU1I1LlNraWxsTWVkaWNpbmUnLFxuICAgICAgICBuYXZpZ2F0aW9uOiAnU1I1LlNraWxsTmF2aWdhdGlvbicsXG4gICAgICAgIHNvZnR3YXJlOiAnU1I1LlNraWxsU29mdHdhcmUnLFxuICAgICAgICBndW5uZXJ5OiAnU1I1LlNraWxsR3VubmVyeScsXG4gICAgICAgIHBpbG90X2Flcm9zcGFjZTogJ1NSNS5Ta2lsbFBpbG90QWVyb3NwYWNlJyxcbiAgICAgICAgcGlsb3RfYWlyY3JhZnQ6ICdTUjUuU2tpbGxQaWxvdEFpcmNyYWZ0JyxcbiAgICAgICAgcGlsb3Rfd2Fsa2VyOiAnU1I1LlNraWxsUGlsb3RXYWxrZXInLFxuICAgICAgICBwaWxvdF9ncm91bmRfY3JhZnQ6ICdTUjUuU2tpbGxQaWxvdEdyb3VuZENyYWZ0JyxcbiAgICAgICAgcGlsb3Rfd2F0ZXJfY3JhZnQ6ICdTUjUuU2tpbGxQaWxvdFdhdGVyQ3JhZnQnLFxuICAgICAgICBwaWxvdF9leG90aWNfdmVoaWNsZTogJ1NSNS5Ta2lsbFBpbG90RXhvdGljVmVoaWNsZScsXG4gICAgfSxcblxuICAgIGFjdGlvblR5cGVzOiB7XG4gICAgICAgIG5vbmU6ICdTUjUuQWN0aW9uVHlwZU5vbmUnLFxuICAgICAgICBmcmVlOiAnU1I1LkFjdGlvblR5cGVGcmVlJyxcbiAgICAgICAgc2ltcGxlOiAnU1I1LkFjdGlvblR5cGVTaW1wbGUnLFxuICAgICAgICBjb21wbGV4OiAnU1I1LkFjdGlvblR5cGVDb21wbGV4JyxcbiAgICAgICAgdmFyaWVzOiAnU1I1LkFjdGlvblR5cGVWYXJpZXMnLFxuICAgIH0sXG5cbiAgICBtYXRyaXhBdHRyaWJ1dGVzOiB7XG4gICAgICAgIGF0dGFjazogJ1NSNS5NYXRyaXhBdHRyQXR0YWNrJyxcbiAgICAgICAgc2xlYXplOiAnU1I1Lk1hdHJpeEF0dHJTbGVhemUnLFxuICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6ICdTUjUuTWF0cml4QXR0ckRhdGFQcm9jJyxcbiAgICAgICAgZmlyZXdhbGw6ICdTUjUuTWF0cml4QXR0ckZpcmV3YWxsJyxcbiAgICB9LFxuXG4gICAgaW5pdGlhdGl2ZUNhdGVnb3JpZXM6IHtcbiAgICAgICAgbWVhdHNwYWNlOiAnU1I1LkluaXRDYXRNZWF0c3BhY2UnLFxuICAgICAgICBhc3RyYWw6ICdTUjUuSW5pdENhdEFzdHJhbCcsXG4gICAgICAgIG1hdHJpeDogJ1NSNS5Jbml0Q2F0TWF0cml4JyxcbiAgICB9LFxuXG4gICAgbW9kaWZpY2F0aW9uVHlwZXM6IHtcbiAgICAgICAgd2VhcG9uOiAnU1I1LldlYXBvbicsXG4gICAgICAgIGFybW9yOiAnU1I1LkFybW9yJyxcbiAgICB9LFxuXG4gICAgbW91bnRQb2ludHM6IHtcbiAgICAgICAgYmFycmVsOiAnU1I1LkJhcnJlbCcsXG4gICAgICAgIHN0b2NrOiAnU1I1LlN0b2NrJyxcbiAgICAgICAgdG9wOiAnU1I1LlRvcCcsXG4gICAgICAgIHNpZGU6ICdTUjUuU2lkZScsXG4gICAgICAgIGludGVybmFsOiAnU1I1LkludGVybmFsJyxcbiAgICB9LFxuXG4gICAgbGlmZXN0eWxlVHlwZXM6IHtcbiAgICAgICAgc3RyZWV0OiAnU1I1LkxpZmVzdHlsZVN0cmVldCcsXG4gICAgICAgIHNxdWF0dGVyOiAnU1I1LkxpZmVzdHlsZVNxdWF0dGVyJyxcbiAgICAgICAgbG93OiAnU1I1LkxpZmVzdHlsZUxvdycsXG4gICAgICAgIG1lZGl1bTogJ1NSNS5MaWZlc3R5bGVNaWRkbGUnLFxuICAgICAgICBoaWdoOiAnU1I1LkxpZmVzdHlsZUhpZ2gnLFxuICAgICAgICBsdXhvcnk6ICdTUjUuTGlmZXN0eWxlTHV4b3J5JyxcbiAgICAgICAgb3RoZXI6ICdTUjUuTGlmZXN0eWxlT3RoZXInLFxuICAgIH0sXG5cbiAgICBrYm1vZDoge1xuICAgICAgICBTVEFOREFSRDogJ3NoaWZ0S2V5JyxcbiAgICAgICAgRURHRTogJ2FsdEtleScsXG4gICAgICAgIFNQRUM6ICdjdHJsS2V5JyxcbiAgICB9LFxuXG4gICAgYWN0b3JNb2RpZmllcnM6IHtcbiAgICAgICAgc29hazogJ1NSNS5Sb2xsU29haycsXG4gICAgICAgIGRyYWluOiAnU1I1LkRyYWluJyxcbiAgICAgICAgYXJtb3I6ICdTUjUuQXJtb3InLFxuICAgICAgICBwaHlzaWNhbF9saW1pdDogJ1NSNS5QaHlzaWNhbExpbWl0JyxcbiAgICAgICAgc29jaWFsX2xpbWl0OiAnU1I1LlNvY2lhbExpbWl0JyxcbiAgICAgICAgbWVudGFsX2xpbWl0OiAnU1I1Lk1lbnRhbExpbWl0JyxcbiAgICAgICAgc3R1bl90cmFjazogJ1NSNS5TdHVuVHJhY2snLFxuICAgICAgICBwaHlzaWNhbF90cmFjazogJ1NSNS5QaHlzaWNhbFRyYWNrJyxcbiAgICAgICAgbWVhdF9pbml0aWF0aXZlOiAnU1I1Lk1lYXRTcGFjZUluaXQnLFxuICAgICAgICBtZWF0X2luaXRpYXRpdmVfZGljZTogJ1NSNS5NZWF0U3BhY2VEaWNlJyxcbiAgICAgICAgYXN0cmFsX2luaXRpYXRpdmU6ICdTUjUuQXN0cmFsSW5pdCcsXG4gICAgICAgIGFzdHJhbF9pbml0aWF0aXZlX2RpY2U6ICdTUjUuQXN0cmFsRGljZScsXG4gICAgICAgIG1hdHJpeF9pbml0aWF0aXZlOiAnU1I1Lk1hdHJpeEluaXQnLFxuICAgICAgICBtYXRyaXhfaW5pdGlhdGl2ZV9kaWNlOiAnU1I1Lk1hdHJpeERpY2UnLFxuICAgICAgICBjb21wb3N1cmU6ICdTUjUuUm9sbENvbXBvc3VyZScsXG4gICAgICAgIGxpZnRfY2Fycnk6ICdTUjUuUm9sbExpZnRDYXJyeScsXG4gICAgICAgIGp1ZGdlX2ludGVudGlvbnM6ICdTUjUuUm9sbEp1ZGdlSW50ZW50aW9ucycsXG4gICAgICAgIG1lbW9yeTogJ1NSNS5Sb2xsTWVtb3J5JyxcbiAgICAgICAgd2FsazogJ1NSNS5XYWxrJyxcbiAgICAgICAgcnVuOiAnU1I1LlJ1bicsXG4gICAgICAgIGRlZmVuc2U6ICdTUjUuUm9sbERlZmVuc2UnLFxuICAgICAgICB3b3VuZF90b2xlcmFuY2U6ICdTUjUuV291bmRUb2xlcmFuY2UnLFxuICAgICAgICBlc3NlbmNlOiAnU1I1LkF0dHJFc3NlbmNlJyxcbiAgICAgICAgZmFkZTogJ1NSNS5Sb2xsRmFkZScsXG4gICAgICAgIGdsb2JhbDogJ1NSNS5HbG9iYWwnLFxuICAgIH0sXG5cbiAgICBwcm9ncmFtVHlwZXM6IHtcbiAgICAgICAgY29tbW9uX3Byb2dyYW06ICdTUjUuQ29tbW9uUHJvZ3JhbScsXG4gICAgICAgIGhhY2tpbmdfcHJvZ3JhbTogJ1NSNS5IYWNraW5nUHJvZ3JhbScsXG4gICAgICAgIGFnZW50OiAnU1I1LkFnZW50JyxcbiAgICB9LFxuXG4gICAgc3Bpcml0VHlwZXM6IHtcbiAgICAgICAgLy8gYmFzZSB0eXBlc1xuICAgICAgICBhaXI6ICdTUjUuU3Bpcml0LlR5cGVzLkFpcicsXG4gICAgICAgIGJlYXN0czogJ1NSNS5TcGlyaXQuVHlwZXMuQmVhc3RzJyxcbiAgICAgICAgZWFydGg6ICdTUjUuU3Bpcml0LlR5cGVzLkVhcnRoJyxcbiAgICAgICAgZmlyZTogJ1NSNS5TcGlyaXQuVHlwZXMuRmlyZScsXG4gICAgICAgIGd1YXJkaWFuOiAnU1I1LlNwaXJpdC5UeXBlcy5HdWFyZGlhbicsXG4gICAgICAgIGd1aWRhbmNlOiAnU1I1LlNwaXJpdC5UeXBlcy5HdWlkYW5jZScsXG4gICAgICAgIG1hbjogJ1NSNS5TcGlyaXQuVHlwZXMuTWFuJyxcbiAgICAgICAgcGxhbnQ6ICdTUjUuU3Bpcml0LlR5cGVzLlBsYW50JyxcbiAgICAgICAgdGFzazogJ1NSNS5TcGlyaXQuVHlwZXMuVGFzaycsXG4gICAgICAgIHdhdGVyOiAnU1I1LlNwaXJpdC5UeXBlcy5XYXRlcicsXG5cbiAgICAgICAgLy8gdG94aWMgdHlwZXNcbiAgICAgICAgdG94aWNfYWlyOiAnU1I1LlNwaXJpdC5UeXBlcy5Ub3hpY0FpcicsXG4gICAgICAgIHRveGljX2JlYXN0czogJ1NSNS5TcGlyaXQuVHlwZXMuVG94aWNCZWFzdHMnLFxuICAgICAgICB0b3hpY19lYXJ0aDogJ1NSNS5TcGlyaXQuVHlwZXMuVG94aWNFYXJ0aCcsXG4gICAgICAgIHRveGljX2ZpcmU6ICdTUjUuU3Bpcml0LlR5cGVzLlRveGljRmlyZScsXG4gICAgICAgIHRveGljX21hbjogJ1NSNS5TcGlyaXQuVHlwZXMuVG94aWNNYW4nLFxuICAgICAgICB0b3hpY193YXRlcjogJ1NSNS5TcGlyaXQuVHlwZXMuVG94aWNXYXRlcicsXG5cbiAgICAgICAgLy8gYmxvb2QgdHlwZXNcbiAgICAgICAgYmxvb2Q6ICdTUjUuU3Bpcml0LlR5cGVzLkJsb29kJyxcblxuICAgICAgICAvLyBzaGFkb3cgdHlwZXNcbiAgICAgICAgbXVzZTogJ1NSNS5TcGlyaXQuVHlwZXMuTXVzZScsXG4gICAgICAgIG5pZ2h0bWFyZTogJ1NSNS5TcGlyaXQuVHlwZXMuTmlnaHRtYXJlJyxcbiAgICAgICAgc2hhZGU6ICdTUjUuU3Bpcml0LlR5cGVzLlNoYWRlJyxcbiAgICAgICAgc3VjY3VidXM6ICdTUjUuU3Bpcml0LlR5cGVzLlN1Y2N1YnVzJyxcbiAgICAgICAgd3JhaXRoOiAnU1I1LlNwaXJpdC5UeXBlcy5XcmFpdGgnLFxuXG4gICAgICAgIC8vIHNoZWRpbSB0eXBlc1xuICAgICAgICBzaGVkaW06ICdTUjUuU3Bpcml0LlR5cGVzLlNoZWRpbScsXG4gICAgICAgIG1hc3Rlcl9zaGVkaW06ICdTUjUuU3Bpcml0LlR5cGVzLk1hc3RlclNoZWRpbScsXG5cbiAgICAgICAgLy8gaW5zZWN0IHR5cGVzXG4gICAgICAgIGNhcmV0YWtlcjogJ1NSNS5TcGlyaXQuVHlwZXMuQ2FyZXRha2VyJyxcbiAgICAgICAgbnltcGg6ICdTUjUuU3Bpcml0LlR5cGVzLk55bXBoJyxcbiAgICAgICAgc2NvdXQ6ICdTUjUuU3Bpcml0LlR5cGVzLlNjb3V0JyxcbiAgICAgICAgc29sZGllcjogJ1NSNS5TcGlyaXQuVHlwZXMuU29sZGllcicsXG4gICAgICAgIHdvcmtlcjogJ1NSNS5TcGlyaXQuVHlwZXMuV29ya2VyJyxcbiAgICAgICAgcXVlZW46ICdTUjUuU3Bpcml0LlR5cGVzLlF1ZWVuJyxcbiAgICB9LFxuXG4gICAgY3JpdHRlclBvd2VyOiB7XG4gICAgICAgIHR5cGVzOiB7XG4gICAgICAgICAgICBtYW5hOiAnU1I1LkNyaXR0ZXJQb3dlci5UeXBlcy5NYW5hJyxcbiAgICAgICAgICAgIHBoeXNpY2FsOiAnU1I1LkNyaXR0ZXJQb3dlci5UeXBlcy5QaHlzaWNhbCcsXG4gICAgICAgIH0sXG4gICAgICAgIHJhbmdlczoge1xuICAgICAgICAgICAgbG9zOiAnU1I1LkNyaXR0ZXJQb3dlci5SYW5nZXMuTGluZU9mU2lnaHQnLFxuICAgICAgICAgICAgc2VsZjogJ1NSNS5Dcml0dGVyUG93ZXIuUmFuZ2VzLlNlbGYnLFxuICAgICAgICAgICAgdG91Y2g6ICdTUjUuQ3JpdHRlclBvd2VyLlJhbmdlcy5Ub3VjaCcsXG4gICAgICAgIH0sXG4gICAgICAgIGR1cmF0aW9uczoge1xuICAgICAgICAgICAgYWx3YXlzOiAnU1I1LkNyaXR0ZXJQb3dlci5EdXJhdGlvbnMuQWx3YXlzJyxcbiAgICAgICAgICAgIGluc3RhbnQ6ICdTUjUuQ3JpdHRlclBvd2VyLkR1cmF0aW9ucy5JbnN0YW50JyxcbiAgICAgICAgICAgIHN1c3RhaW5lZDogJ1NSNS5Dcml0dGVyUG93ZXIuRHVyYXRpb25zLlN1c3RhaW5lZCcsXG4gICAgICAgICAgICBwZXJtYW5lbnQ6ICdTUjUuQ3JpdHRlclBvd2VyLkR1cmF0aW9ucy5QZXJtYW5lbnQnLFxuICAgICAgICAgICAgc3BlY2lhbDogJ1NSNS5Dcml0dGVyUG93ZXIuRHVyYXRpb25zLlNwZWNpYWwnLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBzcHJpdGVUeXBlczoge1xuICAgICAgICBjb3VyaWVyOiAnU1I1LlNwcml0ZS5UeXBlcy5Db3VyaWVyJyxcbiAgICAgICAgY3JhY2s6ICdTUjUuU3ByaXRlLlR5cGVzLkNyYWNrJyxcbiAgICAgICAgZGF0YTogJ1NSNS5TcHJpdGUuVHlwZXMuRGF0YScsXG4gICAgICAgIGZhdWx0OiAnU1I1LlNwcml0ZS5UeXBlcy5GYXVsdCcsXG4gICAgICAgIG1hY2hpbmU6ICdTUjUuU3ByaXRlLlR5cGVzLk1hY2hpbmUnLFxuICAgIH0sXG5cbiAgICB2ZWhpY2xlOiB7XG4gICAgICAgIHR5cGVzOiB7XG4gICAgICAgICAgICBhaXI6ICdTUjUuVmVoaWNsZS5UeXBlcy5BaXInLFxuICAgICAgICAgICAgYWVyb3NwYWNlOiAnU1I1LlZlaGljbGUuVHlwZXMuQWVyb3NwYWNlJyxcbiAgICAgICAgICAgIGdyb3VuZDogJ1NSNS5WZWhpY2xlLlR5cGVzLkdyb3VuZCcsXG4gICAgICAgICAgICB3YXRlcjogJ1NSNS5WZWhpY2xlLlR5cGVzLldhdGVyJyxcbiAgICAgICAgICAgIHdhbGtlcjogJ1NSNS5WZWhpY2xlLlR5cGVzLldhbGtlcicsXG4gICAgICAgICAgICBleG90aWM6ICdTUjUuVmVoaWNsZS5UeXBlcy5FeG90aWMnLFxuICAgICAgICB9LFxuICAgICAgICBzdGF0czoge1xuICAgICAgICAgICAgaGFuZGxpbmc6ICdTUjUuVmVoaWNsZS5TdGF0cy5IYW5kbGluZycsXG4gICAgICAgICAgICBvZmZfcm9hZF9oYW5kbGluZzogJ1NSNS5WZWhpY2xlLlN0YXRzLk9mZlJvYWRIYW5kbGluZycsXG4gICAgICAgICAgICBzcGVlZDogJ1NSNS5WZWhpY2xlLlN0YXRzLlNwZWVkJyxcbiAgICAgICAgICAgIG9mZl9yb2FkX3NwZWVkOiAnU1I1LlZlaGljbGUuU3RhdHMuT2ZmUm9hZFNwZWVkJyxcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogJ1NSNS5WZWhpY2xlLlN0YXRzLkFjY2VsZXJhdGlvbicsXG4gICAgICAgICAgICBwaWxvdDogJ1NSNS5WZWhpY2xlLlN0YXRzLlBpbG90JyxcbiAgICAgICAgICAgIHNlbnNvcjogJ1NSNS5WZWhpY2xlLlN0YXRzLlNlbnNvcicsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xfbW9kZXM6IHtcbiAgICAgICAgICAgIG1hbnVhbDogJ1NSNS5WZWhpY2xlLkNvbnRyb2xNb2Rlcy5NYW51YWwnLFxuICAgICAgICAgICAgcmVtb3RlOiAnU1I1LlZlaGljbGUuQ29udHJvbE1vZGVzLlJlbW90ZScsXG4gICAgICAgICAgICByaWdnZXI6ICdTUjUuVmVoaWNsZS5Db250cm9sTW9kZXMuUmlnZ2VyJyxcbiAgICAgICAgICAgIGF1dG9waWxvdDogJ1NSNS5WZWhpY2xlLkNvbnRyb2xNb2Rlcy5BdXRvcGlsb3QnLFxuICAgICAgICB9LFxuICAgICAgICBlbnZpcm9ubWVudHM6IHtcbiAgICAgICAgICAgIHNwZWVkOiAnU1I1LlZlaGljbGUuRW52aXJvbm1lbnRzLlNwZWVkJyxcbiAgICAgICAgICAgIGhhbmRsaW5nOiAnU1I1LlZlaGljbGUuRW52aXJvbm1lbnRzLkhhbmRsaW5nJyxcbiAgICAgICAgfSxcbiAgICB9LFxuXG4gICAgY2hhcmFjdGVyOiB7XG4gICAgICAgIHR5cGVzOiB7XG4gICAgICAgICAgICBodW1hbjogJ1NSNS5DaGFyYWN0ZXIuVHlwZXMuSHVtYW4nLFxuICAgICAgICAgICAgZWxmOiAnU1I1LkNoYXJhY3Rlci5UeXBlcy5FbGYnLFxuICAgICAgICAgICAgb3JrOiAnU1I1LkNoYXJhY3Rlci5UeXBlcy5PcmsnLFxuICAgICAgICAgICAgZHdhcmY6ICdTUjUuQ2hhcmFjdGVyLlR5cGVzLkR3YXJmJyxcbiAgICAgICAgICAgIHRyb2xsOiAnU1I1LkNoYXJhY3Rlci5UeXBlcy5Ucm9sbCdcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3QgU1lTVEVNX05BTUUgPSAnc2hhZG93cnVuNWUnO1xuZXhwb3J0IGNvbnN0IEZMQUdTID0ge1xuICAgIFNob3dHbGl0Y2hBbmltYXRpb246ICdzaG93R2xpdGNoQW5pbWF0aW9uJyxcbiAgICBTaG93VG9rZW5OYW1lRm9yQ2hhdE91dHB1dDogJ3Nob3dUb2tlbk5hbWVJbnN0ZWFkT2ZBY3RvcicsXG4gICAgTWVzc2FnZUN1c3RvbVJvbGw6ICdjdXN0b21Sb2xsJ1xufTtcbmV4cG9ydCBjb25zdCBHTElUQ0hfRElFID0gMTtcbmV4cG9ydCBjb25zdCBNRVRBVFlQRU1PRElGSUVSID0gJ1NSNS5DaGFyYWN0ZXIuTW9kaWZpZXJzLk5QQ01ldGF0eXBlQXR0cmlidXRlJztcbiIsImV4cG9ydCBjb25zdCBEYXRhVGVtcGxhdGVzID0ge1xuICAgIGdydW50OiB7XG4gICAgICAgIG1ldGF0eXBlX21vZGlmaWVyczoge1xuICAgICAgICAgICAgZWxmOiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICBhZ2lsaXR5OiArMSxcbiAgICAgICAgICAgICAgICAgICAgY2hhcmlzbWE6ICsyLFxuICAgICAgICAgICAgICAgICAgICBlZGdlOiAtMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcms6IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHk6ICszLFxuICAgICAgICAgICAgICAgICAgICBzdHJlbmd0aDogKzIsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2ljOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgY2hhcmlzbWE6IC0xLFxuICAgICAgICAgICAgICAgICAgICBlZGdlOiAtMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cm9sbDoge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogKzQsXG4gICAgICAgICAgICAgICAgICAgIGFnaWxpdHk6IC0xLFxuICAgICAgICAgICAgICAgICAgICBzdHJlbmd0aDogKzQsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2ljOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgaW50dWl0aW9uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgY2hhcmlzbWE6IC0yLFxuICAgICAgICAgICAgICAgICAgICBlZGdlOiAtMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdlbmVyYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgYXJtb3I6ICsxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGR3YXJmOiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiArMixcbiAgICAgICAgICAgICAgICAgICAgcmVhY3Rpb246IC0xLFxuICAgICAgICAgICAgICAgICAgICBzdHJlbmd0aDogKzIsXG4gICAgICAgICAgICAgICAgICAgIHdpbGxwb3dlcjogKzEsXG4gICAgICAgICAgICAgICAgICAgIGVkZ2U6IC0xXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhV3JhcHBlcjxEYXRhVHlwZT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBkYXRhOiBEYXRhVHlwZSkge31cbn1cbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7U2FmZVN0cmluZ30gZnJvbSBcImhhbmRsZWJhcnNcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQmFzaWNIZWxwZXJzID0gKCkgPT4ge1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2xvY2FsaXplT2InLCBmdW5jdGlvbiAoc3RySWQsIG9iaikge1xuICAgICAgICBpZiAob2JqKSBzdHJJZCA9IG9ialtzdHJJZF07XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoc3RySWQpO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigndG9IZWFkZXJDYXNlJywgZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoc3RyKSByZXR1cm4gSGVscGVycy5sYWJlbChzdHIpO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdjb25jYXRTdHJpbmdzJywgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3MuZmlsdGVyKGEgPT4gdHlwZW9mIGEgPT09ICdzdHJpbmcnKS5qb2luKCcnKTtcbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2NvbmNhdCcsIGZ1bmN0aW9uIChzdHJzLCBjID0gJywnKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0cnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Rycy5qb2luKGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJzO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZm9yJywgZnVuY3Rpb24gKGZyb206IG51bWJlciwgdG86IG51bWJlciwgb3B0aW9ucykge1xuICAgICAgICBsZXQgYWNjdW0gPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb207IGkgPCB0bzsgaSArPSAxKSB7XG4gICAgICAgICAgICBhY2N1bSArPSBvcHRpb25zLmZuKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjY3VtO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ21vZHVsbycsIGZ1bmN0aW9uICh2MTogbnVtYmVyLCB2MjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB2MSAlIHYyO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2RpdmlkZScsIGZ1bmN0aW9uICh2MTogbnVtYmVyLCB2MjogbnVtYmVyKSB7XG4gICAgICAgIGlmICh2MiA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICAgIHJldHVybiB2MSAvIHYyO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2hhc3Byb3AnLCBmdW5jdGlvbiAob2JqLCBwcm9wLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZmluJywgZnVuY3Rpb24gKHZhbCwgYXJyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChhcnIuaW5jbHVkZXModmFsKSkgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9KTtcbiAgICAvLyBpZiBncmVhdGVyIHRoYW5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZmd0JywgZnVuY3Rpb24gKHYxLCB2Miwgb3B0aW9ucykge1xuICAgICAgICBpZiAodjEgPiB2MikgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9KTtcbiAgICAvLyBpZiBsZXNzIHRoYW5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZmx0JywgZnVuY3Rpb24gKHYxLCB2Miwgb3B0aW9ucykge1xuICAgICAgICBpZiAodjEgPCB2MikgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9KTtcbiAgICAvLyBpZiBsZXNzIHRoYW4gb3IgZXF1YWxcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZmx0ZScsIGZ1bmN0aW9uICh2MSwgdjIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHYxIDw9IHYyKSByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0pO1xuICAgIC8vIGlmIG5vdCBlcXVhbFxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmbmUnLCBmdW5jdGlvbiAodjEsIHYyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh2MSAhPT0gdjIpIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgICAgICBlbHNlIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSk7XG4gICAgLy8gaWYgZXF1YWxcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZmUnLCBmdW5jdGlvbiAodjEsIHYyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh2MSA9PT0gdjIpIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgICAgICBlbHNlIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbm90JywgZnVuY3Rpb24gKHYxKSB7XG4gICAgICAgIHJldHVybiAhdjE7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignc3VtJywgZnVuY3Rpb24gKHYxLCB2Mikge1xuICAgICAgICByZXR1cm4gdjEgKyB2MjtcbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lzRGVmaW5lZCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbDtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBkZWZhdWx0IHZhbHVlIGlmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBub3QgZGVmaW5lZCAobnVsbCBvciB1bmRlZmluZWQpXG4gICAgICovXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZGVmYXVsdCcsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyh2YWx1ZSA/PyBkZWZhdWx0VmFsdWUpO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbG9nJywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2J1aWxkTmFtZScsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhhc2g6IHN0cmluZ1tdID0gSGVscGVycy5vcmRlcktleXMob3B0aW9ucy5oYXNoKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IE9iamVjdC52YWx1ZXMoaGFzaCkucmVkdWNlKChyZXRWYWwsIGN1cnJlbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSByZXRWYWwgKz0gJy4nO1xuICAgICAgICAgICAgcmV0dXJuIHJldFZhbCArIGN1cnJlbnQ7XG4gICAgICAgIH0sICcnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBIYW5kbGViYXJzLlNhZmVTdHJpbmcobmFtZSk7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZGlzYWJsZWRIZWxwZXInLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWwgPyB2YWwgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgLy8gVE9ETzogVGhpcyBoZWxwZXIgZG9lc24ndCB3b3JrLi4uIERvbid0IHdoeSwgYnV0IGl0IGRvZXNuJ3QuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbG9jYWxpemVTaG9ydGVuZWQnLCBmdW5jdGlvbiAobGFiZWw6IHN0cmluZywgbGVuZ3RoOiBudW1iZXIsIG9wdGlvbnM6IGFueSk6IFNhZmVTdHJpbmcge1xuICAgICAgICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhIZWxwZXJzLnNob3J0ZW5BdHRyaWJ1dGVMb2NhbGl6YXRpb24obGFiZWwsIGxlbmd0aCkpO1xuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzIH0gZnJvbSAnLi9IYW5kbGViYXJUZW1wbGF0ZXMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJCYXNpY0hlbHBlcnMgfSBmcm9tICcuL0Jhc2ljSGVscGVycyc7XG5pbXBvcnQgeyByZWdpc3RlclJvbGxBbmRMYWJlbEhlbHBlcnMgfSBmcm9tICcuL1JvbGxBbmRMYWJlbEhlbHBlcnMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJJdGVtTGluZUhlbHBlcnMgfSBmcm9tICcuL0l0ZW1MaW5lSGVscGVycyc7XG5pbXBvcnQgeyByZWdpc3RlclNraWxsTGluZUhlbHBlcnMgfSBmcm9tICcuL1NraWxsTGluZUhlbHBlcnMnO1xuXG5leHBvcnQgY2xhc3MgSGFuZGxlYmFyTWFuYWdlciB7XG4gICAgc3RhdGljIGxvYWRUZW1wbGF0ZXMoKTogdm9pZCB7XG4gICAgICAgIHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzKCk7XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3RlckhlbHBlcnMoKTogdm9pZCB7XG4gICAgICAgIHJlZ2lzdGVyQmFzaWNIZWxwZXJzKCk7XG4gICAgICAgIHJlZ2lzdGVyUm9sbEFuZExhYmVsSGVscGVycygpO1xuICAgICAgICByZWdpc3Rlckl0ZW1MaW5lSGVscGVycygpO1xuICAgICAgICByZWdpc3RlclNraWxsTGluZUhlbHBlcnMoKTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlUGF0aHMgPSBbXG4gICAgICAgIC8vIGFjdG9yIHRhYnNcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9BY3Rpb25zVGFiLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL0Jpb1RhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9HZWFyVGFiLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL01hZ2ljVGFiLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL01hdHJpeFRhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9NaXNjVGFiLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL1NraWxsc1RhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9Tb2NpYWxUYWIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvU3BlbGxzVGFiLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL0NyaXR0ZXJQb3dlcnNUYWIuaHRtbCcsXG5cbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy9zcGlyaXQvU3Bpcml0U2tpbGxzVGFiLmh0bWwnLFxuXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3RhYnMvbWF0cml4L1Nwcml0ZVNraWxsc1RhYi5odG1sJyxcblxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci90YWJzL3ZlaGljbGUvVmVoaWNsZVNraWxsc1RhYi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvdGFicy92ZWhpY2xlL1ZlaGljbGVNYXRyaXhUYWIuaHRtbCcsXG5cbiAgICAgICAgLy8gdW5jYXRlZ29yaXplZCBsaXN0c1xuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9Jbml0aWF0aXZlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9Nb3ZlbWVudC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvUHJvZmlsZUltYWdlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9OYW1lSW5wdXQuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL0FjdGlvbkxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL0NvbnRhY3RMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9TaW5BbmRMaWZlc3R5bGVMaXN0Lmh0bWwnLFxuXG4gICAgICAgIC8vIG1hZ2ljXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hZ2ljL0FkZXB0UG93ZXJMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9tYWdpYy9TcGVsbExpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hZ2ljL1NwZWxsQW5kQWRlcHRQb3dlckxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hZ2ljL1NwaXJpdE9wdGlvbnMuaHRtbCcsXG5cbiAgICAgICAgLy8gbWF0cml4XG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL21hdHJpeC9Qcm9ncmFtTGlzdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvbWF0cml4L0NvbXBsZXhGb3JtTGlzdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvbWF0cml4L01hdHJpeEF0dHJpYnV0ZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvbWF0cml4L1Nwcml0ZVBvd2VyTGlzdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvbWF0cml4L0RldmljZVJhdGluZy5odG1sJyxcblxuICAgICAgICAvLyBhdHRyaWJ1dGVzXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL2F0dHJpYnV0ZXMvQXR0cmlidXRlLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9hdHRyaWJ1dGVzL0F0dHJpYnV0ZUxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL2F0dHJpYnV0ZXMvU3BlY2lhbEF0dHJpYnV0ZUxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL2F0dHJpYnV0ZXMvTGltaXRzLmh0bWwnLFxuXG4gICAgICAgIC8vIHNraWxsc1xuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9za2lsbHMvQWN0aXZlU2tpbGxMaXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9za2lsbHMvTGFuZ3VhZ2VBbmRLbm93bGVkZ2VTa2lsbExpc3QuaHRtbCcsXG5cbiAgICAgICAgLy8gdmVoaWNsZVxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy92ZWhpY2xlL1ZlaGljbGVTdGF0c0xpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL3ZlaGljbGUvVmVoaWNsZVNlY29uZFN0YXRzTGlzdC5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvdmVoaWNsZS9WZWhpY2xlTW92ZW1lbnQuaHRtbCcsXG5cbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9kZXNjcmlwdGlvbi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy90ZWNobm9sb2d5Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2hlYWRlci5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy93ZWFwb24tYW1tby1saXN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3dlYXBvbi1tb2RzLWxpc3QuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvYWN0aW9uLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2RhbWFnZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9vcHBvc2VkLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3NwZWxsLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2NvbXBsZXhfZm9ybS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy93ZWFwb24uaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvYXJtb3IuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvbWF0cml4Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3Npbi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9jb250YWN0Lmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2xpZmVzdHlsZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9hbW1vLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL21vZGlmaWNhdGlvbi5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9wcm9ncmFtLmh0bWwnLFxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2NyaXR0ZXJfcG93ZXIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL3JvbGxzL3BhcnRzL3BhcnRzLWxpc3QuaHRtbCcsXG5cbiAgICAgICAgLy8gdG8gd3JhcCB0aGUgYm9kaWVzIG9mIHRhYnNcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL1RhYldyYXBwZXIuaHRtbCcsXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2NvbW1vbi9WYWx1ZUlucHV0Lmh0bWwnLFxuXG4gICAgICAgIC8vIFVzZWZ1bCB3cmFwcGVyIGFuZCBpbXBsZW1lbnRlZCBjb21wb25lbnRzXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2NvbW1vbi9WYWx1ZU1heEF0dHJpYnV0ZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL0F0dHJpYnV0ZS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL1ZhbHVlTW9kaWZpZXJzLmh0bWwnLFxuXG4gICAgICAgIC8vIHVzZWZ1bCBzZWxlY3QgdGVtcGxhdGUgZm9yIHRoZSBjb21tb24gcGF0dGVyblxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vU2VsZWN0Lmh0bWwnLFxuXG4gICAgICAgIC8vIHRvIGNyZWF0ZSB0aGUgY29uZGl0aW9uIG1vbml0b3JzIGFuZCBlZGdlIGNvdW50ZXJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL0hvcml6b250YWxDZWxsSW5wdXQuaHRtbCcsXG5cbiAgICAgICAgLy8gbG9va3MgbGlrZSBhIExpc3RIZWFkZXJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL0hlYWRlckJsb2NrLmh0bWwnLFxuXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2NvbW1vbi9OYW1lTGluZUJsb2NrLmh0bWwnLFxuXG4gICAgICAgIC8vIGxpc3QgY29tcG9uZW50c1xuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9jb21tb24vTGlzdC9MaXN0SXRlbS5odG1sJyxcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvY29tbW9uL0xpc3QvTGlzdEhlYWRlci5odG1sJ1xuICAgIF07XG5cbiAgICByZXR1cm4gbG9hZFRlbXBsYXRlcyh0ZW1wbGF0ZVBhdGhzKTtcbn07XG4iLCJpbXBvcnQgU1I1SXRlbVR5cGUgPSBTaGFkb3dydW4uU1I1SXRlbVR5cGU7XG5pbXBvcnQgeyBTUjVJdGVtRGF0YVdyYXBwZXIgfSBmcm9tICcuLi9pdGVtL1NSNUl0ZW1EYXRhV3JhcHBlcic7XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckl0ZW1MaW5lSGVscGVycyA9ICgpID0+IHtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdJdGVtSGVhZGVySWNvbnMnLCBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgY29uc3QgUGx1c0ljb24gPSAnZmFzIGZhLXBsdXMnO1xuICAgICAgICBjb25zdCBBZGRUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQWRkJyk7XG4gICAgICAgIGNvbnN0IGFkZEljb24gPSB7XG4gICAgICAgICAgICBpY29uOiBQbHVzSWNvbixcbiAgICAgICAgICAgIHRleHQ6IEFkZFRleHQsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbScpLFxuICAgICAgICAgICAgY3NzQ2xhc3M6ICdpdGVtLWNyZWF0ZScsXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xpZmVzdHlsZSc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1MaWZlc3R5bGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnY29udGFjdCc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1Db250YWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ3Npbic6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1TSU4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnbGljZW5zZSc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1MaWNlbnNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ3F1YWxpdHknOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtUXVhbGl0eScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdhZGVwdF9wb3dlcic6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1BZGVwdFBvd2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2FjdGlvbic6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1BY3Rpb24nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnc3BlbGwnOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtU3BlbGwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnZ2Vhcic6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1HZWFyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXhfZm9ybSc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1Db21wbGV4Rm9ybScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdwcm9ncmFtJzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbVByb2dyYW0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnd2VhcG9uJzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbVdlYXBvbicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdhcm1vcic6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1Bcm1vcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdkZXZpY2UnOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtRGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2VxdWlwbWVudCc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyZWF0ZUl0ZW1FcXVpcG1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgY2FzZSAnY3liZXJ3YXJlJzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbUN5YmVyd2FyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdjcml0dGVyX3Bvd2VyJzpcbiAgICAgICAgICAgICAgICBhZGRJY29uLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JlYXRlSXRlbUNyaXR0ZXJQb3dlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdzcHJpdGVfcG93ZXInOlxuICAgICAgICAgICAgICAgIGFkZEljb24udGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5DcmVhdGVJdGVtU3ByaXRlUG93ZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FkZEljb25dO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ0l0ZW1IZWFkZXJSaWdodFNpZGUnLCBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgc3dpdGNoIChpZCkge1xuICAgICAgICAgICAgY2FzZSAnYWN0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU2tpbGwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQXR0cmlidXRlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzaXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkF0dHJpYnV0ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5MaW1pdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Nb2RpZmllcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNhc2UgJ3dlYXBvbic6XG4gICAgICAgICAgICBjYXNlICdhcm1vcic6XG4gICAgICAgICAgICBjYXNlICdkZXZpY2UnOlxuICAgICAgICAgICAgY2FzZSAnZXF1aXBtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ2N5YmVyd2FyZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlF0eScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAnY29tcGxleF9mb3JtJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuVGFyZ2V0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHVyYXRpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5GYWRlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjYXNlICdhZGVwdF9wb3dlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlBvd2VyVHlwZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAnc3BlbGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGVsbFR5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGVsbFJhbmdlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHVyYXRpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EcmFpbicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAnY3JpdHRlcl9wb3dlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNyaXR0ZXJQb3dlci5UeXBlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JpdHRlclBvd2VyLlJhbmdlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ3JpdHRlclBvd2VyLkR1cmF0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjYXNlICdxdWFsaXR5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUXVhbGl0eVR5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdJdGVtUmlnaHRTaWRlJywgZnVuY3Rpb24gKGl0ZW06IFNSNUl0ZW1UeXBlKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBuZXcgU1I1SXRlbURhdGFXcmFwcGVyKGl0ZW0pO1xuICAgICAgICBjb25zdCBxdHlJbnB1dCA9IHtcbiAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHdyYXBwZXIuZ2V0UXVhbnRpdHkoKSxcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2l0ZW0tcXR5JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoaXRlbS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdhY3Rpb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hY3RpdmVTa2lsbHNbd3JhcHBlci5nZXRBY3Rpb25Ta2lsbCgpID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzaXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmF0dHJpYnV0ZXNbd3JhcHBlci5nZXRBY3Rpb25BdHRyaWJ1dGUoKSA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2l4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hdHRyaWJ1dGVzW3dyYXBwZXIuZ2V0QWN0aW9uQXR0cmlidXRlMigpID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzaXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHdyYXBwZXIuZ2V0TGltaXRBdHRyaWJ1dGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmF0dHJpYnV0ZXNbd3JhcHBlci5nZXRMaW1pdEF0dHJpYnV0ZSgpID8/ICcnXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB3cmFwcGVyLmdldEFjdGlvbkxpbWl0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzaXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHdyYXBwZXIuZ2V0QWN0aW9uRGljZVBvb2xNb2QoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjYXNlICdhcm1vcic6XG4gICAgICAgICAgICBjYXNlICdkZXZpY2UnOlxuICAgICAgICAgICAgY2FzZSAnZXF1aXBtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ2N5YmVyd2FyZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtxdHlJbnB1dF07XG4gICAgICAgICAgICBjYXNlICd3ZWFwb24nOlxuICAgICAgICAgICAgICAgIGlmICh3cmFwcGVyLmlzUmFuZ2VkV2VhcG9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSB3cmFwcGVyLmdldEFtbW8oKT8uY3VycmVudC52YWx1ZSA/PyAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXggPSB3cmFwcGVyLmdldEFtbW8oKT8uY3VycmVudC5tYXggPz8gMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNvdW50IDwgbWF4ID8gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuV2VhcG9uUmVsb2FkJyl9ICgke2NvdW50fS8ke21heH0pYCA6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkFtbW9GdWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNzc0NsYXNzID0gJ25vLWJyZWFrJyArIChjb3VudCA8IG1heCA/ICcgcmVsb2FkLWFtbW8gcm9sbCcgOiAnIGZhZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuV2VhcG9uQW1tb0NvdW50Jyl9OiAke2NvdW50fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBxdHlJbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3F0eUlucHV0XTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3F1YWxpdHknOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5xdWFsaXR5VHlwZXNbaXRlbS5kYXRhLnR5cGUgPz8gJyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgY2FzZSAnYWRlcHRfcG93ZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5hZGVwdFBvd2VyLnR5cGVzW2l0ZW0uZGF0YS50eXBlID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjYXNlICdzcGVsbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LnNwZWxsVHlwZXNbaXRlbS5kYXRhLnR5cGUgPz8gJyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5zcGVsbFJhbmdlc1tpdGVtLmRhdGEucmFuZ2UgPz8gJyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5kdXJhdGlvbnNbaXRlbS5kYXRhLmR1cmF0aW9uID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogd3JhcHBlci5nZXREcmFpbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgY2FzZSAnY3JpdHRlcl9wb3dlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmNyaXR0ZXJQb3dlci50eXBlc1tpdGVtLmRhdGEucG93ZXJUeXBlID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuY3JpdHRlclBvd2VyLnJhbmdlc1tpdGVtLmRhdGEucmFuZ2UgPz8gJyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5jcml0dGVyUG93ZXIuZHVyYXRpb25zW2l0ZW0uZGF0YS5kdXJhdGlvbiA/PyAnJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBjYXNlICdjb21wbGV4X2Zvcm0nOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5tYXRyaXhUYXJnZXRzW2l0ZW0uZGF0YS50YXJnZXQgPz8gJyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5kdXJhdGlvbnNbaXRlbS5kYXRhLmR1cmF0aW9uID8/ICcnXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogU3RyaW5nKGl0ZW0uZGF0YS5mYWRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNhc2UgJ3Byb2dyYW0nOlxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiBgaXRlbS1lcXVpcC10b2dnbGUgJHt3cmFwcGVyLmlzRXF1aXBwZWQoKSA/ICdsaWdodCcgOiAnJ31gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHdyYXBwZXIuaXNFcXVpcHBlZCgpID8gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTG9hZGVkJykgOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Mb2FkJykgKyAnID4+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdJdGVtSWNvbnMnLCBmdW5jdGlvbiAoaXRlbTogU1I1SXRlbVR5cGUpIHtcbiAgICAgICAgY29uc3QgZWRpdEljb24gPSB7XG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLWVkaXQgaXRlbS1lZGl0JyxcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5FZGl0SXRlbScpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZW1vdmVJY29uID0ge1xuICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS10cmFzaCBpdGVtLWRlbGV0ZScsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRGVsZXRlSXRlbScpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcXVpcEljb24gPSB7XG4gICAgICAgICAgICBpY29uOiBgJHtpdGVtLmRhdGEudGVjaG5vbG9neT8uZXF1aXBwZWQgPyAnZmFzIGZhLWNoZWNrLWNpcmNsZScgOiAnZmFyIGZhLWNpcmNsZSd9IGl0ZW0tZXF1aXAtdG9nZ2xlYCxcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Ub2dnbGVFcXVpcCcpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwZGZJY29uID0ge1xuICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1maWxlIG9wZW4tc291cmNlLXBkZicsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuT3BlblNvdXJjZVBkZicpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGljb25zID0gW2VkaXRJY29uLCByZW1vdmVJY29uXTtcblxuICAgICAgICBpZiAodWlbJ1BERm91bmRyeSddKSB7XG4gICAgICAgICAgICBpY29ucy51bnNoaWZ0KHBkZkljb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Byb2dyYW0nOlxuICAgICAgICAgICAgY2FzZSAnYXJtb3InOlxuICAgICAgICAgICAgY2FzZSAnZGV2aWNlJzpcbiAgICAgICAgICAgIGNhc2UgJ2VxdWlwbWVudCc6XG4gICAgICAgICAgICBjYXNlICdjeWJlcndhcmUnOlxuICAgICAgICAgICAgY2FzZSAnd2VhcG9uJzpcbiAgICAgICAgICAgICAgICBpY29ucy51bnNoaWZ0KGVxdWlwSWNvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWNvbnM7XG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vcGFydHMvUGFydHNMaXN0JztcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJvbGxBbmRMYWJlbEhlbHBlcnMgPSAoKSA9PiB7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZGFtYWdlQWJicmV2aWF0aW9uJywgZnVuY3Rpb24gKGRhbWFnZSkge1xuICAgICAgICBpZiAoZGFtYWdlID09PSAncGh5c2ljYWwnKSByZXR1cm4gJ1AnO1xuICAgICAgICBpZiAoZGFtYWdlID09PSAnc3R1bicpIHJldHVybiAnUyc7XG4gICAgICAgIGlmIChkYW1hZ2UgPT09ICdtYXRyaXgnKSByZXR1cm4gJ00nO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZGljZUljb24nLCBmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICBpZiAoc2lkZSkge1xuICAgICAgICAgICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3JlZCc7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2dyZXknO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdncmV5JztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZ3JleSc7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZ3JlZW4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdlbGVtZW50SWNvbicsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGxldCBpY29uID0gJyc7XG4gICAgICAgIGlmIChlbGVtZW50ID09PSAnZWxlY3RyaWNpdHknKSB7XG4gICAgICAgICAgICBpY29uID0gJ2ZhcyBmYS1ib2x0JztcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID09PSAncmFkaWF0aW9uJykge1xuICAgICAgICAgICAgaWNvbiA9ICdmYXMgZmEtcmFkaWF0aW9uLWFsdCc7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCA9PT0gJ2ZpcmUnKSB7XG4gICAgICAgICAgICBpY29uID0gJ2ZhcyBmYS1maXJlJztcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID09PSAnYWNpZCcpIHtcbiAgICAgICAgICAgIGljb24gPSAnZmFzIGZhLXZpYWxzJztcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID09PSAnY29sZCcpIHtcbiAgICAgICAgICAgIGljb24gPSAnZmFzIGZhLXNub3dmbGFrZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdwYXJ0c1RvdGFsJywgZnVuY3Rpb24gKHBhcnRzTGlzdDogTW9kTGlzdDxudW1iZXI+KSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChwYXJ0c0xpc3QpO1xuICAgICAgICByZXR1cm4gcGFydHMudG90YWw7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdzaWduZWRWYWx1ZScsIGZ1bmN0aW9uICh2YWx1ZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGArJHt2YWx1ZX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IFNSNVNoZWV0RmlsdGVycyA9IFNoYWRvd3J1bi5TUjVTaGVldEZpbHRlcnM7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclNraWxsTGluZUhlbHBlcnMgPSAoKSA9PiB7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignU2tpbGxIZWFkZXJJY29ucycsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBjb25zdCBhZGRJY29uID0ge1xuICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5BZGRTa2lsbCcpLFxuICAgICAgICAgICAgdGV4dDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQWRkJyksXG4gICAgICAgICAgICBjc3NDbGFzczogJycsXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt7fV07XG4gICAgICAgICAgICBjYXNlICdsYW5ndWFnZSc6XG4gICAgICAgICAgICAgICAgYWRkSWNvbi5jc3NDbGFzcyA9ICdhZGQtbGFuZ3VhZ2UnO1xuICAgICAgICAgICAgICAgIHJldHVybiBbYWRkSWNvbl07XG4gICAgICAgICAgICBjYXNlICdrbm93bGVkZ2UnOlxuICAgICAgICAgICAgICAgIGFkZEljb24uY3NzQ2xhc3MgPSAnYWRkLWtub3dsZWRnZSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRJY29uXTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdTa2lsbEhlYWRlclJpZ2h0U2lkZScsIGZ1bmN0aW9uIChpZCwgZmlsdGVyczogU1I1U2hlZXRGaWx0ZXJzKSB7XG4gICAgICAgIGNvbnN0IHNwZWNzID0ge1xuICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgIHRleHQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNwZWNpYWxpemF0aW9uJyksXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdza2lsbC1zcGVjLWl0ZW0nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBydGcgPSB7XG4gICAgICAgICAgICAvLyBDaGFuZ2UgUmF0aW5nIGhlYWRlciB0byBzaG93IGFjdGl2ZSBmaWx0ZXJpbmcuXG4gICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgdGV4dDogIWZpbHRlcnMgfHwgZmlsdGVycy5zaG93VW50cmFpbmVkU2tpbGxzID9cbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUnRnJykgOlxuICAgICAgICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5SdGdBYm92ZVplcm8nKSxcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3J0ZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICBjYXNlICdrbm93bGVkZ2UnOlxuICAgICAgICAgICAgY2FzZSAnbGFuZ3VhZ2UnOlxuICAgICAgICAgICAgICAgIHJldHVybiBbc3BlY3MsIHJ0Z107XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ1NraWxsUmlnaHRTaWRlJywgZnVuY3Rpb24gKHNraWxsVHlwZTogc3RyaW5nLCBza2lsbDogU2tpbGxGaWVsZCkge1xuICAgICAgICBjb25zdCBzcGVjcyA9IEFycmF5LmlzQXJyYXkoc2tpbGwuc3BlY3MpID8gc2tpbGwuc3BlY3MgOiBbc2tpbGwuc3BlY3NdO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogc3BlY3Muam9pbignLCAnKSA/PyAnJyxcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdza2lsbC1zcGVjLWl0ZW0nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogSGVscGVycy5jYWxjVG90YWwoc2tpbGwpLFxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3J0ZycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdTa2lsbEljb25zJywgZnVuY3Rpb24gKHNraWxsVHlwZTogc3RyaW5nLCBza2lsbDogU2tpbGxGaWVsZCkge1xuICAgICAgICBjb25zdCBlZGl0SWNvbiA9IHtcbiAgICAgICAgICAgIGljb246ICdmYXMgZmEtZWRpdCcsXG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRWRpdFNraWxsJyksXG4gICAgICAgICAgICBjc3NDbGFzczogJycsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlbW92ZUljb24gPSB7XG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLXRyYXNoJyxcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5EZWxldGVTa2lsbCcpLFxuICAgICAgICAgICAgY3NzQ2xhc3M6ICcnLFxuICAgICAgICB9O1xuICAgICAgICBzd2l0Y2ggKHNraWxsVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgICAgICBlZGl0SWNvbi5jc3NDbGFzcyA9ICdza2lsbC1lZGl0JztcbiAgICAgICAgICAgICAgICByZXR1cm4gW2VkaXRJY29uXTtcbiAgICAgICAgICAgIGNhc2UgJ2xhbmd1YWdlJzpcbiAgICAgICAgICAgICAgICBlZGl0SWNvbi5jc3NDbGFzcyA9ICdsYW5ndWFnZS1za2lsbC1lZGl0JztcbiAgICAgICAgICAgICAgICByZW1vdmVJY29uLmNzc0NsYXNzID0gJ3JlbW92ZS1sYW5ndWFnZSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtlZGl0SWNvbiwgcmVtb3ZlSWNvbl07XG4gICAgICAgICAgICBjYXNlICdrbm93bGVkZ2UnOlxuICAgICAgICAgICAgICAgIGVkaXRJY29uLmNzc0NsYXNzID0gJ2tub3dsZWRnZS1za2lsbC1lZGl0JztcbiAgICAgICAgICAgICAgICByZW1vdmVJY29uLmNzc0NsYXNzID0gJ3JlbW92ZS1rbm93bGVkZ2UnO1xuICAgICAgICAgICAgICAgIHJldHVybiBbZWRpdEljb24sIHJlbW92ZUljb25dO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gW2VkaXRJY29uXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59O1xuIiwiaW1wb3J0IEF0dHJpYnV0ZUZpZWxkID0gU2hhZG93cnVuLkF0dHJpYnV0ZUZpZWxkO1xuaW1wb3J0IFNraWxsRmllbGQgPSBTaGFkb3dydW4uU2tpbGxGaWVsZDtcbmltcG9ydCBNb2RpZmlhYmxlVmFsdWUgPSBTaGFkb3dydW4uTW9kaWZpYWJsZVZhbHVlO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi9wYXJ0cy9QYXJ0c0xpc3QnO1xuaW1wb3J0IExhYmVsRmllbGQgPSBTaGFkb3dydW4uTGFiZWxGaWVsZDtcblxuZXhwb3J0IGNsYXNzIEhlbHBlcnMge1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgdG90YWwgdmFsdWUgZm9yIGEgZGF0YSBvYmplY3RcbiAgICAgKiAtIHN0b3JlcyB0aGUgdG90YWwgdmFsdWUgYW5kIHJldHVybnMgaXRcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBjYWxjVG90YWwoZGF0YTogTW9kaWZpYWJsZVZhbHVlKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKGRhdGEubW9kID09PSB1bmRlZmluZWQpIGRhdGEubW9kID0gW107XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChkYXRhLm1vZCk7XG4gICAgICAgIC8vIGlmIGEgdGVtcCBmaWVsZCBpcyBmb3VuZCwgYWRkIGl0IGFzIGEgdW5pcXVlIHBhcnRcbiAgICAgICAgaWYgKGRhdGFbJ3RlbXAnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuVGVtcG9yYXJ5JywgZGF0YVsndGVtcCddKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnZhbHVlID0gcGFydHMudG90YWwgKyBkYXRhLmJhc2U7XG4gICAgICAgIGRhdGEubW9kID0gcGFydHMubGlzdDtcbiAgICAgICAgcmV0dXJuIGRhdGEudmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIGxpc3RJdGVtSWQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmxpc3QtaXRlbScpLmRhdGFzZXQuaXRlbUlkO1xuICAgIH1cblxuICAgIC8vIHJlcGxhY2UgJ1NSNS4ncyBvbiBrZXlzIHdpdGggJ1NSNV9ET1RfJ1xuICAgIHN0YXRpYyBvblNldEZsYWcoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSByZXR1cm4gZGF0YTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCB8fCBkYXRhID09PSBudWxsKSByZXR1cm4gZGF0YTtcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3S2V5ID0ga2V5LnJlcGxhY2UoJ1NSNS4nLCAnU1I1X0RPVF8nKTtcbiAgICAgICAgICAgIG5ld0RhdGFbbmV3S2V5XSA9IHRoaXMub25TZXRGbGFnKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICB9XG4gICAgLy8gcmVwbGFjZSAnU1I1X0RPVF8nIHdpdGggJ1NSNS4nIG9uIGtleXNcbiAgICBzdGF0aWMgb25HZXRGbGFnKGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JykgcmV0dXJuIGRhdGE7XG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQgfHwgZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGRhdGE7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0tleSA9IGtleS5yZXBsYWNlKCdTUjVfRE9UXycsICdTUjUuJyk7XG4gICAgICAgICAgICBuZXdEYXRhW25ld0tleV0gPSB0aGlzLm9uR2V0RmxhZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzTWF0cml4KGF0dHM/OiBib29sZWFuIHwgKEF0dHJpYnV0ZUZpZWxkIHwgc3RyaW5nIHwgU2tpbGxGaWVsZClbXSB8IEF0dHJpYnV0ZUZpZWxkIHwgc3RyaW5nIHwgU2tpbGxGaWVsZCkge1xuICAgICAgICBpZiAoIWF0dHMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRzID09PSAnYm9vbGVhbicpIHJldHVybiBhdHRzO1xuICAgICAgICAvLyBhcnJheSBvZiBsYWJlbHMgdG8gY2hlY2sgZm9yIG9uIHRoZSBpbmNvbWluZyBkYXRhXG4gICAgICAgIGNvbnN0IG1hdHJpeExhYmVscyA9IFtcbiAgICAgICAgICAgICdTUjUuTWF0cml4QXR0ckZpcmV3YWxsJyxcbiAgICAgICAgICAgICdTUjUuTWF0cml4QXR0ckRhdGFQcm9jZXNzaW5nJyxcbiAgICAgICAgICAgICdTUjUuTWF0cml4QXR0clNsZWF6ZScsXG4gICAgICAgICAgICAnU1I1Lk1hdHJpeEF0dHJBdHRhY2snLFxuICAgICAgICAgICAgJ1NSNS5Ta2lsbENvbXB1dGVyJyxcbiAgICAgICAgICAgICdTUjUuU2tpbGxIYWNraW5nJyxcbiAgICAgICAgICAgICdTUjUuU2tpbGxDeWJlcmNvbWJhdCcsXG4gICAgICAgICAgICAnU1I1LlNraWxsRWxlY3Ryb25pY1dhcmZhcmUnLFxuICAgICAgICAgICAgJ1NSNS5Tb2Z0d2FyZScsXG4gICAgICAgIF07XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhdHRzKSkgYXR0cyA9IFthdHRzXTtcbiAgICAgICAgYXR0cyA9IGF0dHMuZmlsdGVyKChhdHQpID0+IGF0dCk7XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgYXR0cmlidXRlcyBhbmQgcmV0dXJuIHRydWUgaWYgd2UgZmluZCBhIG1hdHJpeCBhdHRcbiAgICAgICAgZm9yIChjb25zdCBhdHQgb2YgYXR0cykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdHJpeExhYmVscy5pbmRleE9mKGF0dCkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhdHQgPT09ICdvYmplY3QnICYmIChhdHQgYXMgTGFiZWxGaWVsZCkubGFiZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRyaXhMYWJlbHMuaW5kZXhPZihhdHQubGFiZWwgPz8gJycpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGRvbid0IGZpbmQgYW55dGhpbmcgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VJbnB1dFRvU3RyaW5nKHZhbDogbnVtYmVyIHwgc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHJldHVybiAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSByZXR1cm4gdmFsLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgcmV0dXJuIHZhbDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbC5qb2luKCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZUlucHV0VG9OdW1iZXIodmFsOiBudW1iZXIgfCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCk6IG51bWJlciB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgcmV0dXJuIHZhbDtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCByZXQgPSArdmFsO1xuICAgICAgICAgICAgaWYgKCFpc05hTihyZXQpKSByZXR1cm4gcmV0O1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyID0gdmFsLmpvaW4oJycpO1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gK3N0cjtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocmV0KSkgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXR1cEN1c3RvbUNoZWNrYm94KGFwcCwgaHRtbCkge1xuICAgICAgICBjb25zdCBzZXRDb250ZW50ID0gKGVsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2JveCA9ICQoZWwpLmNoaWxkcmVuKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2ttYXJrID0gJChlbCkuY2hpbGRyZW4oJy5jaGVja21hcmsnKTtcbiAgICAgICAgICAgIGlmICgkKGNoZWNrYm94KS5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgICAgICAkKGNoZWNrbWFyaykuYWRkQ2xhc3MoJ2ZhLWNoZWNrLWNpcmNsZScpO1xuICAgICAgICAgICAgICAgICQoY2hlY2ttYXJrKS5yZW1vdmVDbGFzcygnZmEtY2lyY2xlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoY2hlY2ttYXJrKS5hZGRDbGFzcygnZmEtY2lyY2xlJyk7XG4gICAgICAgICAgICAgICAgJChjaGVja21hcmspLnJlbW92ZUNsYXNzKCdmYS1jaGVjay1jaXJjbGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaHRtbC5maW5kKCdsYWJlbC5jaGVja2JveCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0Q29udGVudCh0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGh0bWwuZmluZCgnbGFiZWwuY2hlY2tib3gnKS5jbGljaygoZXZlbnQpID0+IHNldENvbnRlbnQoZXZlbnQuY3VycmVudFRhcmdldCkpO1xuICAgICAgICBodG1sLmZpbmQoJy5zdWJtaXQtY2hlY2tib3gnKS5jaGFuZ2UoKGV2ZW50KSA9PiBhcHAuX29uU3VibWl0KGV2ZW50KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1hcFJvdW5kc1RvRGVmZW5zZU1vZChyb3VuZHMpIHtcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMSkgcmV0dXJuIDA7XG4gICAgICAgIGlmIChyb3VuZHMgPT09IDMpIHJldHVybiAtMjtcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gNikgcmV0dXJuIC01O1xuICAgICAgICBpZiAocm91bmRzID09PSAxMCkgcmV0dXJuIC05O1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWFwUm91bmRzVG9EZWZlbnNlRGVzYyhyb3VuZHMpIHtcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMSkgcmV0dXJuICcnO1xuICAgICAgICBpZiAocm91bmRzID09PSAzKSByZXR1cm4gJy0yJztcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gNikgcmV0dXJuICctNSc7XG4gICAgICAgIGlmIChyb3VuZHMgPT09IDEwKSByZXR1cm4gJy05JztcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMjApIHJldHVybiAnU1I1LkR1Y2tPckNvdmVyJztcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHN0YXRpYyBsYWJlbChzdHIpIHtcbiAgICAgICAgY29uc3QgZnJhZ3MgPSBzdHIuc3BsaXQoJ18nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZnJhZ3NbaV0gPSBmcmFnc1tpXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGZyYWdzW2ldLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGZyYWdzLmZvckVhY2goKGZyYWcsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZyYWcgPT09ICdQcm9jZXNzaW5nJykgZnJhZ3NbaWR4XSA9ICdQcm9jLic7XG4gICAgICAgICAgICBpZiAoZnJhZyA9PT0gJ01lY2hhbmljJykgZnJhZ3NbaWR4XSA9ICdNZWNoLic7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnJhZ3Muam9pbignICcpO1xuICAgIH1cblxuICAgIHN0YXRpYyBvcmRlcktleXMob2JqKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopLnNvcnQoZnVuY3Rpb24ga2V5T3JkZXIoazEsIGsyKSB7XG4gICAgICAgICAgICBpZiAoazEgPCBrMikgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGsxID4gazIpIHJldHVybiArMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgaTtcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSB7fTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFmdGVyW2tleXNbaV1dID0gb2JqW2tleXNbaV1dO1xuICAgICAgICAgICAgZGVsZXRlIG9ialtrZXlzW2ldXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvYmpba2V5c1tpXV0gPSBhZnRlcltrZXlzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHN0YXRpYyBoYXNNb2RpZmllcnMoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50ICYmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmlsdGVyKG9iaiwgY29tcCkge1xuICAgICAgICBjb25zdCByZXRPYmogPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob2JqKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcChba2V5LCB2YWx1ZV0pKSByZXRPYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldE9iajtcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkTGFiZWxzKG9iaiwgbGFiZWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoJ2xhYmVsJykgJiYgb2JqLmhhc093blByb3BlcnR5KCd2YWx1ZScpICYmIGxhYmVsICE9PSAnJykge1xuICAgICAgICAgICAgICAgIG9iai5sYWJlbCA9IGxhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob2JqKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKFssIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JylcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBIZWxwZXJzLmFkZExhYmVscyh2YWx1ZSwga2V5KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBIYW5kbGUgU2hhZG93cnVuIHN0eWxlIHNob3J0ZW5lZCBhdHRyaWJ1dGUgbmFtZXMgd2l0aCB0eXBpY2FsIHRocmVlIGxldHRlciBzaG9ydGVuaW5nLiAqL1xuICAgIHN0YXRpYyBzaG9ydGVuQXR0cmlidXRlTG9jYWxpemF0aW9uKGxhYmVsOiBzdHJpbmcsIGxlbmd0aDogbnVtYmVyPTMpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKGxhYmVsKTtcblxuICAgICAgICBpZiAobGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hbWUubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBsZW5ndGggPSBuYW1lLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDAsIGxlbmd0aCkudG9VcHBlckNhc2UoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTUjUgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBNaWdyYXRvciB9IGZyb20gJy4vbWlncmF0b3IvTWlncmF0b3InO1xuaW1wb3J0IHsgcmVnaXN0ZXJTeXN0ZW1TZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgU1lTVEVNX05BTUUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBTUjVBY3RvciB9IGZyb20gJy4vYWN0b3IvU1I1QWN0b3InO1xuaW1wb3J0IHsgU1I1QWN0b3JTaGVldCB9IGZyb20gJy4vYWN0b3IvU1I1QWN0b3JTaGVldCc7XG5pbXBvcnQgeyBTUjVJdGVtIH0gZnJvbSAnLi9pdGVtL1NSNUl0ZW0nO1xuaW1wb3J0IHsgU1I1SXRlbVNoZWV0IH0gZnJvbSAnLi9pdGVtL1NSNUl0ZW1TaGVldCc7XG5pbXBvcnQgeyBTaGFkb3dydW5Sb2xsZXIgfSBmcm9tICcuL3JvbGxzL1NoYWRvd3J1blJvbGxlcic7XG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IEhhbmRsZWJhck1hbmFnZXIgfSBmcm9tICcuL2hhbmRsZWJhcnMvSGFuZGxlYmFyTWFuYWdlcic7XG5pbXBvcnQgeyBtZWFzdXJlRGlzdGFuY2UgfSBmcm9tICcuL2NhbnZhcyc7XG5pbXBvcnQgeyBwcmVDb21iYXRVcGRhdGUsIHNoYWRvd3J1bkNvbWJhdFVwZGF0ZSB9IGZyb20gJy4vY29tYmF0JztcbmltcG9ydCAqIGFzIGNoYXQgZnJvbSAnLi9jaGF0JztcbmltcG9ydCB7IGNyZWF0ZUl0ZW1NYWNybywgcm9sbEl0ZW1NYWNybyB9IGZyb20gJy4vbWFjcm9zJztcblxuaW1wb3J0IHsgT3ZlcndhdGNoU2NvcmVUcmFja2VyIH0gZnJvbSAnLi9hcHBzL2dtdG9vbHMvT3ZlcndhdGNoU2NvcmVUcmFja2VyJztcblxuZXhwb3J0IGNsYXNzIEhvb2tzTWFuYWdlciB7XG4gICAgc3RhdGljIHJlZ2lzdGVySG9va3MoKSB7XG4gICAgICAgIC8vIFJlZ2lzdGVyIHlvdXIgaGlnaGVzdCBsZXZlbCBob29rIGNhbGxiYWNrcyBoZXJlIGZvciBhIHF1aWNrIG92ZXJ2aWV3IG9mIHdoYXQncyBob29rZWQgaW50by5cblxuICAgICAgICBIb29rcy5vbmNlKCdpbml0JywgSG9va3NNYW5hZ2VyLmluaXQpO1xuXG4gICAgICAgIEhvb2tzLm9uKCdjYW52YXNJbml0JywgSG9va3NNYW5hZ2VyLmNhbnZhc0luaXQpO1xuICAgICAgICBIb29rcy5vbigncmVhZHknLCBIb29rc01hbmFnZXIucmVhZHkpO1xuICAgICAgICBIb29rcy5vbigncmVuZGVyQ2hhdE1lc3NhZ2UnLCBIb29rc01hbmFnZXIucmVhZHlDaGF0TWVzc2FnZSk7XG4gICAgICAgIEhvb2tzLm9uKCdnZXRDaGF0TG9nRW50cnlDb250ZXh0JywgY2hhdC5hZGRDaGF0TWVzc2FnZUNvbnRleHRPcHRpb25zKTtcbiAgICAgICAgSG9va3Mub24oJ2hvdGJhckRyb3AnLCBIb29rc01hbmFnZXIuaG90YmFyRHJvcCk7XG4gICAgICAgIEhvb2tzLm9uKCdyZW5kZXJTY2VuZUNvbnRyb2xzJywgSG9va3NNYW5hZ2VyLnJlbmRlclNjZW5lQ29udHJvbHMpO1xuICAgICAgICBIb29rcy5vbignZ2V0U2NlbmVDb250cm9sQnV0dG9ucycsIEhvb2tzTWFuYWdlci5nZXRTY2VuZUNvbnRyb2xCdXR0b25zKTtcblxuICAgICAgICBIb29rcy5vbigncHJlVXBkYXRlQ29tYmF0JywgcHJlQ29tYmF0VXBkYXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgU2hhZG93cnVuIDVlIFN5c3RlbScpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIHNoYWRvd3J1bjVlIG5hbWVzcGFjZSB3aXRoaW4gdGhlIGdhbWUgZ2xvYmFsXG4gICAgICAgIGdhbWVbJ3NoYWRvd3J1bjVlJ10gPSB7XG4gICAgICAgICAgICBTUjVBY3RvcixcbiAgICAgICAgICAgIFNoYWRvd3J1blJvbGxlcixcbiAgICAgICAgICAgIFNSNUl0ZW0sXG4gICAgICAgICAgICByb2xsSXRlbU1hY3JvLFxuICAgICAgICB9O1xuXG4gICAgICAgIENPTkZJRy5TUjUgPSBTUjU7XG4gICAgICAgIENPTkZJRy5BY3Rvci5lbnRpdHlDbGFzcyA9IFNSNUFjdG9yO1xuICAgICAgICBDT05GSUcuSXRlbS5lbnRpdHlDbGFzcyA9IFNSNUl0ZW07XG5cbiAgICAgICAgcmVnaXN0ZXJTeXN0ZW1TZXR0aW5ncygpO1xuXG4gICAgICAgIC8vIFJlZ2lzdGVyIHNoZWV0IGFwcGxpY2F0aW9uIGNsYXNzZXNcbiAgICAgICAgQWN0b3JzLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIEFjdG9yU2hlZXQpO1xuICAgICAgICBBY3RvcnMucmVnaXN0ZXJTaGVldChTWVNURU1fTkFNRSwgU1I1QWN0b3JTaGVldCwgeyBtYWtlRGVmYXVsdDogdHJ1ZSB9KTtcbiAgICAgICAgSXRlbXMudW5yZWdpc3RlclNoZWV0KCdjb3JlJywgSXRlbVNoZWV0KTtcbiAgICAgICAgSXRlbXMucmVnaXN0ZXJTaGVldChTWVNURU1fTkFNRSwgU1I1SXRlbVNoZWV0LCB7IG1ha2VEZWZhdWx0OiB0cnVlIH0pO1xuXG4gICAgICAgIFsncmVuZGVyU1I1QWN0b3JTaGVldCcsICdyZW5kZXJTUjVJdGVtU2hlZXQnXS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICBIb29rcy5vbihzLCAoYXBwLCBodG1sKSA9PiBIZWxwZXJzLnNldHVwQ3VzdG9tQ2hlY2tib3goYXBwLCBodG1sKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEhhbmRsZWJhck1hbmFnZXIubG9hZFRlbXBsYXRlcygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyByZWFkeSgpIHtcbiAgICAgICAgZ2FtZS5zb2NrZXQub24oJ3N5c3RlbS5zaGFkb3dydW41ZScsIGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00gJiYgZGF0YS5nbUNvbWJhdFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNoYWRvd3J1bkNvbWJhdFVwZGF0ZShkYXRhLmdtQ29tYmF0VXBkYXRlLmNoYW5nZXMsIGRhdGEuZ21Db21iYXRVcGRhdGUub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICAgICAgYXdhaXQgTWlncmF0b3IuQmVnaW5NaWdyYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbWFrZSBiYXNlZCBvbiBmb3VuZHJ5IHZlcnNpb25cbiAgICAgICAgY29uc3QgZGljZUljb25TZWxlY3RvciA9ICcjY2hhdC1jb250cm9scyAucm9sbC10eXBlLXNlbGVjdCAuZmEtZGljZS1kMjAnO1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBkaWNlSWNvblNlbGVjdG9yLCAoKSA9PiBTaGFkb3dydW5Sb2xsZXIucHJvbXB0Um9sbCgpKTtcbiAgICAgICAgY29uc3QgZGljZUljb25TZWxlY3Rvck5ldyA9ICcjY2hhdC1jb250cm9scyAuY2hhdC1jb250cm9sLWljb24gLmZhLWRpY2UtZDIwJztcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZGljZUljb25TZWxlY3Rvck5ldywgKCkgPT4gU2hhZG93cnVuUm9sbGVyLnByb21wdFJvbGwoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbnZhc0luaXQoKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvLyBTcXVhcmVHcmlkIGlzbid0IHR5cGVkLlxuICAgICAgICBTcXVhcmVHcmlkLnByb3RvdHlwZS5tZWFzdXJlRGlzdGFuY2UgPSBtZWFzdXJlRGlzdGFuY2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGhvdGJhckRyb3AoYmFyLCBkYXRhLCBzbG90KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdJdGVtJykge1xuICAgICAgICAgICAgLy8gUHJvbWlzZSBjYW4ndCBiZSBob25vcmVkIGluIHRoaXMgbm9uLWFzeW5jIGZ1bmN0aW9uIHNjb3BlLCBhcyBpdCBuZWVkcyB0byByZXR1cm4gYSBib29sZWFuLlxuICAgICAgICAgICAgY3JlYXRlSXRlbU1hY3JvKGRhdGEuZGF0YSwgc2xvdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbmRlclNjZW5lQ29udHJvbHMoY29udHJvbHMsIGh0bWwpIHtcbiAgICAgICAgaHRtbC5maW5kKCdbZGF0YS10b29sPVwib3ZlcndhdGNoLXNjb3JlLXRyYWNrZXJcIl0nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBuZXcgT3ZlcndhdGNoU2NvcmVUcmFja2VyKCkucmVuZGVyKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0U2NlbmVDb250cm9sQnV0dG9ucyhjb250cm9scykge1xuICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuQ29udHJvbHMgPSBjb250cm9scy5maW5kKChjKSA9PiBjLm5hbWUgPT09ICd0b2tlbicpO1xuICAgICAgICAgICAgdG9rZW5Db250cm9scy50b29scy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnb3ZlcndhdGNoLXNjb3JlLXRyYWNrZXInLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ09OVFJPTFMuU1I1Lk92ZXJ3YXRjaFNjb3JlVHJhY2tlcicsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1uZXR3b3JrLXdpcmVkJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlYWR5Q2hhdE1lc3NhZ2UoYXBwLCBodG1sKSB7XG4gICAgICAgIGNoYXQuYWRkUm9sbExpc3RlbmVycyhhcHAsIGh0bWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBEZXZpY2VEYXRhID0gU2hhZG93cnVuLkRldmljZURhdGE7XG5cbmV4cG9ydCBjb25zdCBDaGF0RGF0YSA9IHtcbiAgICBhY3Rpb246IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxTdHJpbmdMaXN0OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLnNraWxsKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxTdHJpbmdMaXN0LnB1c2goSGVscGVycy5sYWJlbChkYXRhLmFjdGlvbi5za2lsbCkpO1xuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24uYXR0cmlidXRlKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuYWN0aW9uLmF0dHJpYnV0ZTIpIHtcbiAgICAgICAgICAgICAgICBsYWJlbFN0cmluZ0xpc3QucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEuYWN0aW9uLmF0dHJpYnV0ZSkpO1xuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24uYXR0cmlidXRlMikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmFjdGlvbi5hdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICBsYWJlbFN0cmluZ0xpc3QucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEuYWN0aW9uLmF0dHJpYnV0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLm1vZCkge1xuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lkl0ZW1Nb2QnKX0gKCR7ZGF0YS5hY3Rpb24ubW9kfSlgKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHdoZW4gYWxsIG1vZHMgYXJlIG1vZGxpc3RzXG4gICAgICAgICAgICAgICAgLy8gT2JqZWN0LmVudHJpZXMoZGF0YS5hY3Rpb24ubW9kKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+XG4gICAgICAgICAgICAgICAgLy8gICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZShrZXkpfSAoJHt2YWx1ZX0pYClcbiAgICAgICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhYmVsU3RyaW5nTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsYWJlbHMucm9sbCA9IGxhYmVsU3RyaW5nTGlzdC5qb2luKCcgKyAnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLm9wcG9zZWQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgb3Bwb3NlZCB9ID0gZGF0YS5hY3Rpb247XG4gICAgICAgICAgICAgICAgaWYgKG9wcG9zZWQudHlwZSAhPT0gJ2N1c3RvbScpIGxhYmVscy5vcHBvc2VkUm9sbCA9IGB2cy4gJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQudHlwZSl9YDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHBvc2VkLnNraWxsKSBsYWJlbHMub3Bwb3NlZFJvbGwgPSBgdnMuICR7SGVscGVycy5sYWJlbChvcHBvc2VkLnNraWxsKX0rJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuYXR0cmlidXRlKX1gO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wcG9zZWQuYXR0cmlidXRlMikgbGFiZWxzLm9wcG9zZWRSb2xsID0gYHZzLiAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUpfSske0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUyKX1gO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wcG9zZWQuYXR0cmlidXRlKSBsYWJlbHMub3Bwb3NlZFJvbGwgPSBgdnMuICR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZSl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0dXAgYWN0aW9uIHByb3BzXG4gICAgICAgICAgICAvLyBnbyBpbiBvcmRlciBvZiBcIkxpbWl0L0FjY3VyYWN5XCIgXCJEYW1hZ2VcIiBcIkFQXCJcbiAgICAgICAgICAgIC8vIGRvbid0IGFkZCBhY3Rpb24gdHlwZSBpZiBzZXQgdG8gJ3Zhcmllcycgb3IgJ25vbmUnIGFzIHRoYXQncyBwcmV0dHkgbXVjaCB1c2VsZXNzIGluZm9cbiAgICAgICAgICAgIGlmIChkYXRhLmFjdGlvbi50eXBlICE9PSAnJyAmJiBkYXRhLmFjdGlvbi50eXBlICE9PSAndmFyaWVzJyAmJiBkYXRhLmFjdGlvbi50eXBlICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5wdXNoKGAke0hlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24udHlwZSl9IEFjdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLmxpbWl0LnZhbHVlKSBwcm9wcy5wdXNoKGBMaW1pdCAke2RhdGEuYWN0aW9uLmxpbWl0LnZhbHVlfWApO1xuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYW1hZ2UgfSA9IGRhdGEuYWN0aW9uO1xuICAgICAgICAgICAgICAgIGxldCBkYW1hZ2VTdHJpbmcgPSAnJztcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudFN0cmluZyA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChkYW1hZ2UudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlU3RyaW5nID0gYERWICR7ZGFtYWdlLnZhbHVlfSR7ZGFtYWdlLnR5cGUudmFsdWUgPyBkYW1hZ2UudHlwZS52YWx1ZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKSA6ICcnfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYW1hZ2UuZWxlbWVudC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgZGFtYWdlIHZhbHVlIGFuZCBhcmUgZWxlY3RyaWMsIGZvbGxvdyB0aGUgY29udmVudGlvbiBvZiAoZSkgYWZ0ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhbWFnZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhbWFnZS5lbGVtZW50LnZhbHVlID09PSAnZWxlY3RyaWNpdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlU3RyaW5nICs9ICcgKGUpJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFN0cmluZyA9IEhlbHBlcnMubGFiZWwoZGFtYWdlLmVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFN0cmluZyA9IEhlbHBlcnMubGFiZWwoZGFtYWdlLmVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYW1hZ2VTdHJpbmcpIHByb3BzLnB1c2goZGFtYWdlU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFN0cmluZykgcHJvcHMucHVzaChlbGVtZW50U3RyaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAoZGFtYWdlLmFwICYmIGRhbWFnZS5hcC52YWx1ZSkgcHJvcHMucHVzaChgQVAgJHtkYW1hZ2UuYXAudmFsdWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNpbjogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgcHJvcHMucHVzaChgUmF0aW5nICR7ZGF0YS50ZWNobm9sb2d5LnJhdGluZ31gKTtcbiAgICAgICAgZGF0YS5saWNlbnNlcy5mb3JFYWNoKChsaWNlbnNlKSA9PiB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGAke2xpY2Vuc2UubmFtZX0gUiR7bGljZW5zZS5ydGd9YCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBjb250YWN0OiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICBwcm9wcy5wdXNoKGRhdGEudHlwZSk7XG4gICAgICAgIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ29ubmVjdGlvbicpfSAke2RhdGEuY29ubmVjdGlvbn1gKTtcbiAgICAgICAgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Mb3lhbHR5Jyl9ICR7ZGF0YS5sb3lhbHR5fWApO1xuICAgICAgICBpZiAoZGF0YS5ibGFja21haWwpIHtcbiAgICAgICAgICAgIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQmxhY2ttYWlsJyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZmFtaWx5KSB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkZhbWlseScpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBsaWZlc3R5bGU6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLnR5cGUpKTtcbiAgICAgICAgaWYgKGRhdGEuY29zdCkgcHJvcHMucHVzaChgwqUke2RhdGEuY29zdH1gKTtcbiAgICAgICAgaWYgKGRhdGEuY29tZm9ydHMpIHByb3BzLnB1c2goYENvbWZvcnRzICR7ZGF0YS5jb21mb3J0c31gKTtcbiAgICAgICAgaWYgKGRhdGEuc2VjdXJpdHkpIHByb3BzLnB1c2goYFNlY3VyaXR5ICR7ZGF0YS5zZWN1cml0eX1gKTtcbiAgICAgICAgaWYgKGRhdGEubmVpZ2hib3Job29kKSBwcm9wcy5wdXNoKGBOZWlnaGJvcmhvb2QgJHtkYXRhLm5laWdoYm9yaG9vZH1gKTtcbiAgICAgICAgaWYgKGRhdGEuZ3Vlc3RzKSBwcm9wcy5wdXNoKGBHdWVzdHMgJHtkYXRhLmd1ZXN0c31gKTtcbiAgICB9LFxuXG4gICAgYWRlcHRfcG93ZXI6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIENoYXREYXRhLmFjdGlvbihkYXRhLCBsYWJlbHMsIHByb3BzKTtcbiAgICAgICAgcHJvcHMucHVzaChgUFAgJHtkYXRhLnBwfWApO1xuICAgICAgICBwcm9wcy5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS50eXBlKSk7XG4gICAgfSxcblxuICAgIGFybW9yOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICBpZiAoZGF0YS5hcm1vcikge1xuICAgICAgICAgICAgaWYgKGRhdGEuYXJtb3IudmFsdWUpIHByb3BzLnB1c2goYEFybW9yICR7ZGF0YS5hcm1vci5tb2QgPyAnKycgOiAnJ30ke2RhdGEuYXJtb3IudmFsdWV9YCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5hY2lkKSBwcm9wcy5wdXNoKGBBY2lkICR7ZGF0YS5hcm1vci5hY2lkfWApO1xuICAgICAgICAgICAgaWYgKGRhdGEuYXJtb3IuY29sZCkgcHJvcHMucHVzaChgQ29sZCAke2RhdGEuYXJtb3IuY29sZH1gKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmFybW9yLmZpcmUpIHByb3BzLnB1c2goYEZpcmUgJHtkYXRhLmFybW9yLmZpcmV9YCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5lbGVjdHJpY2l0eSkgcHJvcHMucHVzaChgRWxlY3RyaWNpdHkgJHtkYXRhLmFybW9yLmVsZWN0cmljaXR5fWApO1xuICAgICAgICAgICAgaWYgKGRhdGEuYXJtb3IucmFkaWF0aW9uKSBwcm9wcy5wdXNoKGBSYWRpYXRpb24gJHtkYXRhLmFybW9yLnJhZGlhdGlvbn1gKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBwcm9ncmFtOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICBwcm9wcy5wdXNoKGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LnByb2dyYW1UeXBlc1tkYXRhLnR5cGVdKSk7XG4gICAgfSxcblxuICAgIGNvbXBsZXhfZm9ybTogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xuICAgICAgICBwcm9wcy5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS50YXJnZXQpLCBIZWxwZXJzLmxhYmVsKGRhdGEuZHVyYXRpb24pKTtcbiAgICAgICAgY29uc3QgeyBmYWRlIH0gPSBkYXRhO1xuICAgICAgICBpZiAoZmFkZSA+IDApIHByb3BzLnB1c2goYEZhZGUgTCske2ZhZGV9YCk7XG4gICAgICAgIGVsc2UgaWYgKGZhZGUgPCAwKSBwcm9wcy5wdXNoKGBGYWRlIEwke2ZhZGV9YCk7XG4gICAgICAgIGVsc2UgcHJvcHMucHVzaCgnRmFkZSBMJyk7XG4gICAgfSxcblxuICAgIGN5YmVyd2FyZTogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xuICAgICAgICBDaGF0RGF0YS5hcm1vcihkYXRhLCBsYWJlbHMsIHByb3BzKTtcbiAgICAgICAgaWYgKGRhdGEuZXNzZW5jZSkgcHJvcHMucHVzaChgRXNzICR7ZGF0YS5lc3NlbmNlfWApO1xuICAgIH0sXG5cbiAgICBkZXZpY2U6IChkYXRhOiBEZXZpY2VEYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnRlY2hub2xvZ3kgJiYgZGF0YS50ZWNobm9sb2d5LnJhdGluZykgcHJvcHMucHVzaChgUmF0aW5nICR7ZGF0YS50ZWNobm9sb2d5LnJhdGluZ31gKTtcbiAgICAgICAgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICdjeWJlcmRlY2snKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dE4gb2YgT2JqZWN0LnZhbHVlcyhkYXRhLmF0dHMpKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMucHVzaChgJHtIZWxwZXJzLmxhYmVsKGF0dE4uYXR0KX0gJHthdHROLnZhbHVlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGVxdWlwbWVudDogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcbiAgICAgICAgaWYgKGRhdGEudGVjaG5vbG9neSAmJiBkYXRhLnRlY2hub2xvZ3kucmF0aW5nKSBwcm9wcy5wdXNoKGBSYXRpbmcgJHtkYXRhLnRlY2hub2xvZ3kucmF0aW5nfWApO1xuICAgIH0sXG5cbiAgICBxdWFsaXR5OiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICBDaGF0RGF0YS5hY3Rpb24oZGF0YSwgbGFiZWxzLCBwcm9wcyk7XG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLnR5cGUpKTtcbiAgICB9LFxuXG4gICAgc3ByaXRlX3Bvd2VyOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICAvLyBhZGQgYWN0aW9uIGRhdGFcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xuICAgIH0sXG5cbiAgICBjcml0dGVyX3Bvd2VyOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xuICAgICAgICAvLyBwb3dlciB0eXBlXG4gICAgICAgIHByb3BzLnB1c2goZ2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5TUjUuY3JpdHRlclBvd2VyLnR5cGVzW2RhdGEucG93ZXJUeXBlXSkpO1xuICAgICAgICAvLyBkdXJhdGlvblxuICAgICAgICBwcm9wcy5wdXNoKGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmNyaXR0ZXJQb3dlci5kdXJhdGlvbnNbZGF0YS5kdXJhdGlvbl0pKTtcbiAgICAgICAgLy8gcmFuZ2VcbiAgICAgICAgcHJvcHMucHVzaChnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5jcml0dGVyUG93ZXIucmFuZ2VzW2RhdGEucmFuZ2VdKSk7XG5cbiAgICAgICAgLy8gYWRkIGFjdGlvbiBkYXRhXG4gICAgICAgIENoYXREYXRhLmFjdGlvbihkYXRhLCBsYWJlbHMsIHByb3BzKTtcbiAgICB9LFxuXG4gICAgLy8gYWRkIHByb3BlcnRpZXMgZm9yIHNwZWxsIGRhdGEsIGZvbGxvdyBvcmRlciBpbiBib29rXG4gICAgc3BlbGw6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XG4gICAgICAgIC8vIGZpcnN0IGNhdGVnb3J5IGFuZCB0eXBlXG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLmNhdGVnb3J5KSwgSGVscGVycy5sYWJlbChkYXRhLnR5cGUpKTtcblxuICAgICAgICAvLyBhZGQgc3VidHlwZSB0YWdzXG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnY29tYmF0Jykge1xuICAgICAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEuY29tYmF0LnR5cGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnaGVhbHRoJykge1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICdpbGx1c2lvbicpIHtcbiAgICAgICAgICAgIHByb3BzLnB1c2goZGF0YS5pbGx1c2lvbi50eXBlKTtcbiAgICAgICAgICAgIHByb3BzLnB1c2goZGF0YS5pbGx1c2lvbi5zZW5zZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jYXRlZ29yeSA9PT0gJ21hbmlwdWxhdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5kYW1hZ2luZykgcHJvcHMucHVzaCgnRGFtYWdpbmcnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5tZW50YWwpIHByb3BzLnB1c2goJ01lbnRhbCcpO1xuICAgICAgICAgICAgaWYgKGRhdGEubWFuaXB1bGF0aW9uLmVudmlyb25tZW50YWwpIHByb3BzLnB1c2goJ0Vudmlyb25tZW50YWwnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hbmlwdWxhdGlvbi5waHlzaWNhbCkgcHJvcHMucHVzaCgnUGh5c2ljYWwnKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnZGV0ZWN0aW9uJykge1xuICAgICAgICAgICAgcHJvcHMucHVzaChkYXRhLmlsbHVzaW9uLnR5cGUpO1xuICAgICAgICAgICAgcHJvcHMucHVzaChkYXRhLmlsbHVzaW9uLnBhc3NpdmUgPyAnUGFzc2l2ZScgOiAnQWN0aXZlJyk7XG4gICAgICAgICAgICBpZiAoZGF0YS5pbGx1c2lvbi5leHRlbmRlZCkgcHJvcHMucHVzaCgnRXh0ZW5kZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgcmFuZ2VcbiAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEucmFuZ2UpKTtcblxuICAgICAgICAvLyBhZGQgYWN0aW9uIGRhdGFcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xuXG4gICAgICAgIC8vIGFkZCBkdXJhdGlvbiBkYXRhXG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLmR1cmF0aW9uKSk7XG5cbiAgICAgICAgLy8gYWRkIGRyYWluIGRhdGFcbiAgICAgICAgY29uc3QgeyBkcmFpbiB9ID0gZGF0YTtcbiAgICAgICAgaWYgKGRyYWluID4gMCkgcHJvcHMucHVzaChgRHJhaW4gRiske2RyYWlufWApO1xuICAgICAgICBlbHNlIGlmIChkcmFpbiA8IDApIHByb3BzLnB1c2goYERyYWluIEYke2RyYWlufWApO1xuICAgICAgICBlbHNlIHByb3BzLnB1c2goJ0RyYWluIEYnKTtcblxuICAgICAgICBsYWJlbHMucm9sbCA9ICdDYXN0JztcbiAgICB9LFxuXG4gICAgd2VhcG9uOiAoZGF0YSwgbGFiZWxzLCBwcm9wcywgaXRlbSkgPT4ge1xuICAgICAgICBDaGF0RGF0YS5hY3Rpb24oZGF0YSwgbGFiZWxzLCBwcm9wcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluY2x1ZGVzKCdMaW1pdCcpKSB7XG4gICAgICAgICAgICAgICAgcHJvcHNbaV0gPSBwcm9wLnJlcGxhY2UoJ0xpbWl0JywgJ0FjY3VyYWN5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcXVpcHBlZEFtbW8gPSBpdGVtPy5nZXRFcXVpcHBlZEFtbW8oKTtcbiAgICAgICAgaWYgKGVxdWlwcGVkQW1tbyAmJiBkYXRhLmFtbW8gJiYgZGF0YS5hbW1vLmN1cnJlbnQ/Lm1heCkge1xuICAgICAgICAgICAgaWYgKGVxdWlwcGVkQW1tbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY3VycmVudCwgc3BhcmVfY2xpcHMgfSA9IGRhdGEuYW1tbztcbiAgICAgICAgICAgICAgICBpZiAoZXF1aXBwZWRBbW1vLm5hbWUpIHByb3BzLnB1c2goYCR7ZXF1aXBwZWRBbW1vLm5hbWV9ICgke2N1cnJlbnQudmFsdWV9LyR7Y3VycmVudC5tYXh9KWApO1xuICAgICAgICAgICAgICAgIGlmIChlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmJsYXN0LnJhZGl1cykgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5CbGFzdFJhZGl1cycpfSAke2VxdWlwcGVkQW1tby5kYXRhLmRhdGEuYmxhc3QucmFkaXVzfW1gKTtcbiAgICAgICAgICAgICAgICBpZiAoZXF1aXBwZWRBbW1vLmRhdGEuZGF0YS5ibGFzdC5kcm9wb2ZmKSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkRyb3BvZmYnKX0gJHtlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmJsYXN0LmRyb3BvZmZ9L21gKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BhcmVfY2xpcHMgJiYgc3BhcmVfY2xpcHMubWF4KSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNwYXJlQ2xpcHMnKX0gKCR7c3BhcmVfY2xpcHMudmFsdWV9LyR7c3BhcmVfY2xpcHMubWF4fSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnRlY2hub2xvZ3k/LmNvbmNlYWw/LnZhbHVlKSB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkNvbmNlYWwnKX0gJHtkYXRhLnRlY2hub2xvZ3kuY29uY2VhbC52YWx1ZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5ID09PSAncmFuZ2UnKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5yYW5nZS5yYykge1xuICAgICAgICAgICAgICAgIGxldCByY1N0cmluZyA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJlY29pbENvbXBlbnNhdGlvbicpfSAke2RhdGEucmFuZ2UucmMudmFsdWV9YDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbT8uYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmNTdHJpbmcgKz0gYCAoJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Ub3RhbCcpfSAke2l0ZW0uYWN0b3IuZ2V0UmVjb2lsQ29tcGVuc2F0aW9uKCl9KWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocmNTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEucmFuZ2UubW9kZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNb2Rlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZGVzIH0gPSBkYXRhLnJhbmdlO1xuICAgICAgICAgICAgICAgIGlmIChtb2Rlcy5zaW5nbGVfc2hvdCkgbmV3TW9kZXMucHVzaCgnU1I1LldlYXBvbk1vZGVTaW5nbGVTaG90U2hvcnQnKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZXMuc2VtaV9hdXRvKSBuZXdNb2Rlcy5wdXNoKCdTUjUuV2VhcG9uTW9kZVNlbWlBdXRvU2hvcnQnKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZXMuYnVyc3RfZmlyZSkgbmV3TW9kZXMucHVzaCgnU1I1LldlYXBvbk1vZGVCdXJzdEZpcmVTaG9ydCcpO1xuICAgICAgICAgICAgICAgIGlmIChtb2Rlcy5mdWxsX2F1dG8pIG5ld01vZGVzLnB1c2goJ1NSNS5XZWFwb25Nb2RlRnVsbEF1dG9TaG9ydCcpO1xuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gobmV3TW9kZXMubWFwKChtKSA9PiBnYW1lLmkxOG4ubG9jYWxpemUobSkpLmpvaW4oJy8nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5yYW5nZS5yYW5nZXMpIHByb3BzLnB1c2goQXJyYXkuZnJvbShPYmplY3QudmFsdWVzKGRhdGEucmFuZ2UucmFuZ2VzKSkuam9pbignLycpKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnbWVsZWUnKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5tZWxlZS5yZWFjaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWNoU3RyaW5nID0gYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUmVhY2gnKX0gJHtkYXRhLm1lbGVlLnJlYWNofWA7XG4gICAgICAgICAgICAgICAgLy8gZmluZCBhY2N1cmFjeSBpbiBwcm9wcyBhbmQgaW5zZXJ0IG91cnNlbHZlcyBhZnRlciBpdFxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY0luZGV4ID0gcHJvcHMuZmluZEluZGV4KChwKSA9PiBwLmluY2x1ZGVzKCdBY2N1cmFjeScpKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zcGxpY2UoYWNjSW5kZXggKyAxLCAwLCByZWFjaFN0cmluZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMucHVzaChyZWFjaFN0cmluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICd0aHJvd24nKSB7XG4gICAgICAgICAgICBjb25zdCB7IGJsYXN0IH0gPSBkYXRhLnRocm93bjtcbiAgICAgICAgICAgIGlmIChibGFzdD8ucmFkaXVzKSBwcm9wcy5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkJsYXN0UmFkaXVzJyl9ICR7Ymxhc3QucmFkaXVzfW1gKTtcbiAgICAgICAgICAgIGlmIChibGFzdD8uZHJvcG9mZikgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Ecm9wb2ZmJyl9ICR7Ymxhc3QuZHJvcG9mZn0vbWApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50aHJvd24ucmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXVsdCA9IGRhdGEudGhyb3duLnJhbmdlcy5hdHRyaWJ1dGUgJiYgaXRlbT8uYWN0b3IgPyBpdGVtLmFjdG9yLmRhdGEuZGF0YS5hdHRyaWJ1dGVzW2RhdGEudGhyb3duLnJhbmdlcy5hdHRyaWJ1dGVdLnZhbHVlIDogMTtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZXMgPSBbZGF0YS50aHJvd24ucmFuZ2VzLnNob3J0LCBkYXRhLnRocm93bi5yYW5nZXMubWVkaXVtLCBkYXRhLnRocm93bi5yYW5nZXMubG9uZywgZGF0YS50aHJvd24ucmFuZ2VzLmV4dHJlbWVdO1xuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocmFuZ2VzLm1hcCgodikgPT4gdiAqIG11bHQpLmpvaW4oJy8nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufTtcbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IFNSNUFjdG9yIH0gZnJvbSAnLi4vYWN0b3IvU1I1QWN0b3InO1xuaW1wb3J0IHsgU2hhZG93cnVuSXRlbURpYWxvZyB9IGZyb20gJy4uL2FwcHMvZGlhbG9ncy9TaGFkb3dydW5JdGVtRGlhbG9nJztcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XG5pbXBvcnQgQXR0YWNrRGF0YSA9IFNoYWRvd3J1bi5BdHRhY2tEYXRhO1xuaW1wb3J0IEF0dHJpYnV0ZUZpZWxkID0gU2hhZG93cnVuLkF0dHJpYnV0ZUZpZWxkO1xuaW1wb3J0IFNraWxsRmllbGQgPSBTaGFkb3dydW4uU2tpbGxGaWVsZDtcbmltcG9ydCBMaW1pdEZpZWxkID0gU2hhZG93cnVuLkxpbWl0RmllbGQ7XG5pbXBvcnQgRmlyZU1vZGVEYXRhID0gU2hhZG93cnVuLkZpcmVNb2RlRGF0YTtcbmltcG9ydCBTcGVsbEZvcmNlRGF0YSA9IFNoYWRvd3J1bi5TcGVsbEZvcmNlRGF0YTtcbmltcG9ydCBDb21wbGV4Rm9ybUxldmVsRGF0YSA9IFNoYWRvd3J1bi5Db21wbGV4Rm9ybUxldmVsRGF0YTtcbmltcG9ydCBGaXJlUmFuZ2VEYXRhID0gU2hhZG93cnVuLkZpcmVSYW5nZURhdGE7XG5pbXBvcnQgQmxhc3REYXRhID0gU2hhZG93cnVuLkJsYXN0RGF0YTtcbmltcG9ydCB7IENoYXREYXRhIH0gZnJvbSAnLi9DaGF0RGF0YSc7XG5pbXBvcnQgeyBBZHZhbmNlZFJvbGxQcm9wcywgU2hhZG93cnVuUm9sbCwgU2hhZG93cnVuUm9sbGVyIH0gZnJvbSAnLi4vcm9sbHMvU2hhZG93cnVuUm9sbGVyJztcbmltcG9ydCB7IGNyZWF0ZUNoYXREYXRhIH0gZnJvbSAnLi4vY2hhdCc7XG5pbXBvcnQgeyBTWVNURU1fTkFNRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgQ29uZGl0aW9uRGF0YSA9IFNoYWRvd3J1bi5Db25kaXRpb25EYXRhO1xuaW1wb3J0IHsgU1I1SXRlbURhdGFXcmFwcGVyIH0gZnJvbSAnLi9TUjVJdGVtRGF0YVdyYXBwZXInO1xuaW1wb3J0IFNSNUl0ZW1UeXBlID0gU2hhZG93cnVuLlNSNUl0ZW1UeXBlO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vcGFydHMvUGFydHNMaXN0JztcblxuZXhwb3J0IGNsYXNzIFNSNUl0ZW0gZXh0ZW5kcyBJdGVtIHtcbiAgICBsYWJlbHM6IHt9ID0ge307XG4gICAgaXRlbXM6IFNSNUl0ZW1bXTtcbiAgICBhY3RvcjogU1I1QWN0b3I7XG5cbiAgICBwcml2YXRlIGdldCB3cmFwcGVyKCk6IFNSNUl0ZW1EYXRhV3JhcHBlciB7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gY2FzdCBoZXJlIHRvIHVua25vd24gZmlyc3QgdG8gbWFrZSB0cyBoYXBweVxuICAgICAgICByZXR1cm4gbmV3IFNSNUl0ZW1EYXRhV3JhcHBlcigodGhpcy5kYXRhIGFzIHVua25vd24pIGFzIFNSNUl0ZW1UeXBlKTtcbiAgICB9XG5cbiAgICAvLyBGbGFnIEZ1bmN0aW9uc1xuICAgIGdldExhc3RGaXJlTW9kZSgpOiBGaXJlTW9kZURhdGEge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGFnKFNZU1RFTV9OQU1FLCAnbGFzdEZpcmVNb2RlJykgfHwgeyB2YWx1ZTogMCB9O1xuICAgIH1cbiAgICBhc3luYyBzZXRMYXN0RmlyZU1vZGUoZmlyZU1vZGU6IEZpcmVNb2RlRGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGbGFnKFNZU1RFTV9OQU1FLCAnbGFzdEZpcmVNb2RlJywgZmlyZU1vZGUpO1xuICAgIH1cbiAgICBnZXRMYXN0U3BlbGxGb3JjZSgpOiBTcGVsbEZvcmNlRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0U3BlbGxGb3JjZScpIHx8IHsgdmFsdWU6IDAgfTtcbiAgICB9XG4gICAgYXN5bmMgc2V0TGFzdFNwZWxsRm9yY2UoZm9yY2U6IFNwZWxsRm9yY2VEYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0U3BlbGxGb3JjZScsIGZvcmNlKTtcbiAgICB9XG4gICAgZ2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwoKTogQ29tcGxleEZvcm1MZXZlbERhdGEge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGFnKFNZU1RFTV9OQU1FLCAnbGFzdENvbXBsZXhGb3JtTGV2ZWwnKSB8fCB7IHZhbHVlOiAwIH07XG4gICAgfVxuICAgIGFzeW5jIHNldExhc3RDb21wbGV4Rm9ybUxldmVsKGxldmVsOiBDb21wbGV4Rm9ybUxldmVsRGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGbGFnKFNZU1RFTV9OQU1FLCAnbGFzdENvbXBsZXhGb3JtTGV2ZWwnLCBsZXZlbCk7XG4gICAgfVxuICAgIGdldExhc3RGaXJlUmFuZ2VNb2QoKTogRmlyZVJhbmdlRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0RmlyZVJhbmdlJykgfHwgeyB2YWx1ZTogMCB9O1xuICAgIH1cbiAgICBhc3luYyBzZXRMYXN0RmlyZVJhbmdlTW9kKGVudmlyb25tZW50YWxNb2Q6IEZpcmVSYW5nZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RGaXJlUmFuZ2UnLCBlbnZpcm9ubWVudGFsTW9kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gQXJyYXkgb2YgdGhlIEVtYmVkZGVkIEl0ZW0gRGF0YVxuICAgICAqIFRPRE8gcHJvcGVybHkgdHlwZXMgdGhpc1xuICAgICAqL1xuICAgIGdldEVtYmVkZGVkSXRlbXMoKTogYW55W10ge1xuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdlbWJlZGRlZEl0ZW1zJyk7XG4gICAgICAgIGlmIChpdGVtcykge1xuICAgICAgICAgICAgLy8gbW92ZWQgdGhpcyBcImhvdGZpeFwiIHRvIGhlcmUgc28gdGhhdCBldmVyeXdoZXJlIHRoYXQgYWNjZXNzZXMgdGhlIGZsYWcganVzdCBnZXRzIGFuIGFycmF5IC0tIFNoYXduXG4gICAgICAgICAgICAvL1RPRE86IFRoaXMgaXMgYSBob3RmaXguIEl0ZW1zIHNob3VsZCBlaXRoZXIgYWx3YXlzIGJlXG4gICAgICAgICAgICAvLyBzdG9yZWQgYXMgYW4gYXJyYXkgb3IgYWx3YXlzIGJlIHN0b3JlZCBhcyBhIG9iamVjdC5cbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3SXRlbXM6IGFueVtdID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaXRlbXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goaXRlbXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdJdGVtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBlbWJlZGRlZCBpdGVtIGRhdGFcbiAgICAgKiBAcGFyYW0gaXRlbXNcbiAgICAgKi9cbiAgICBhc3luYyBzZXRFbWJlZGRlZEl0ZW1zKGl0ZW1zOiBhbnlbXSkge1xuICAgICAgICAvLyBjbGVhciB0aGUgZmxhZyBmaXJzdCB0byByZW1vdmUgdGhlIHByZXZpb3VzIGl0ZW1zIC0gaWYgd2UgZG9uJ3QgZG8gdGhpcyB0aGVuIGl0IGRvZXNuJ3QgYWN0dWFsbHkgXCJkZWxldGVcIiBhbnkgaXRlbXNcbiAgICAgICAgYXdhaXQgdGhpcy51bnNldEZsYWcoU1lTVEVNX05BTUUsICdlbWJlZGRlZEl0ZW1zJyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2VtYmVkZGVkSXRlbXMnLCBpdGVtcyk7XG4gICAgfVxuXG4gICAgZ2V0TGFzdEF0dGFjaygpOiBBdHRhY2tEYXRhIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RBdHRhY2snKTtcbiAgICB9XG4gICAgYXN5bmMgc2V0TGFzdEF0dGFjayhhdHRhY2s6IEF0dGFja0RhdGEpIHtcbiAgICAgICAgLy8gdW5zZXQgdGhlIGZsYWcgZmlyc3QgdG8gY2xlYXIgb2xkIGRhdGEsIGRhdGEgY2FuIGdldCB3ZWlyZCBpZiBub3QgZG9uZVxuICAgICAgICBhd2FpdCB0aGlzLnVuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RBdHRhY2snKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RBdHRhY2snLCBhdHRhY2spO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZShkYXRhLCBvcHRpb25zPykge1xuICAgICAgICBjb25zdCByZXQgPSBzdXBlci51cGRhdGUoZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIHJldC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rvci5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGdldCBoYXNPcHBvc2VkUm9sbCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YS5kYXRhLmFjdGlvbiAmJiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24ub3Bwb3NlZC50eXBlKTtcbiAgICB9XG5cbiAgICBnZXQgaGFzUm9sbCgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IHRoaXMuZGF0YS5kYXRhO1xuICAgICAgICByZXR1cm4gISEoYWN0aW9uICYmIGFjdGlvbi50eXBlICE9PSAnJyAmJiAoYWN0aW9uLnNraWxsIHx8IGFjdGlvbi5hdHRyaWJ1dGUpKTtcbiAgICB9XG4gICAgZ2V0IGhhc1RlbXBsYXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0FyZWFPZkVmZmVjdCgpO1xuICAgIH1cblxuICAgIHByZXBhcmVEYXRhKCkge1xuICAgICAgICBzdXBlci5wcmVwYXJlRGF0YSgpO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSB7fTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZGF0YTtcblxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnc2luJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtLmRhdGEubGljZW5zZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5kYXRhLmxpY2Vuc2VzID0gT2JqZWN0LnZhbHVlcyhpdGVtLmRhdGEubGljZW5zZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVxdWlwcGVkTW9kcyA9IHRoaXMuZ2V0RXF1aXBwZWRNb2RzKCk7XG4gICAgICAgIGNvbnN0IGVxdWlwcGVkQW1tbyA9IHRoaXMuZ2V0RXF1aXBwZWRBbW1vKCk7XG5cbiAgICAgICAgY29uc3QgeyB0ZWNobm9sb2d5LCByYW5nZSwgYWN0aW9uIH0gPSBpdGVtLmRhdGE7XG5cbiAgICAgICAgaWYgKHRlY2hub2xvZ3kpIHtcbiAgICAgICAgICAgIGlmICh0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yID0geyB2YWx1ZTogMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVjaG5vbG9neS5jb25kaXRpb25fbW9uaXRvci5tYXggPSA4ICsgTWF0aC5jZWlsKHRlY2hub2xvZ3kucmF0aW5nIC8gMik7XG5cbiAgICAgICAgICAgIGlmICghdGVjaG5vbG9neS5jb25jZWFsKSB0ZWNobm9sb2d5LmNvbmNlYWwgPSB7fTtcblxuICAgICAgICAgICAgY29uc3QgY29uY2VhbFBhcnRzID0gbmV3IFBhcnRzTGlzdDxudW1iZXI+KCk7XG4gICAgICAgICAgICBlcXVpcHBlZE1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZC5kYXRhLmRhdGEudGVjaG5vbG9neS5jb25jZWFsLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmNlYWxQYXJ0cy5hZGRVbmlxdWVQYXJ0KG1vZC5uYW1lLCBtb2QuZGF0YS5kYXRhLnRlY2hub2xvZ3kuY29uY2VhbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0ZWNobm9sb2d5LmNvbmNlYWwubW9kID0gY29uY2VhbFBhcnRzLmxpc3Q7XG5cbiAgICAgICAgICAgIHRlY2hub2xvZ3kuY29uY2VhbC52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKHRlY2hub2xvZ3kuY29uY2VhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb24uYWx0X21vZCA9IDA7XG4gICAgICAgICAgICBhY3Rpb24ubGltaXQubW9kID0gW107XG4gICAgICAgICAgICBhY3Rpb24uZGFtYWdlLm1vZCA9IFtdO1xuICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5hcC5tb2QgPSBbXTtcbiAgICAgICAgICAgIGFjdGlvbi5kaWNlX3Bvb2xfbW9kID0gW107XG4gICAgICAgICAgICAvLyBoYW5kbGUgb3ZlcnJpZGVzIGZyb20gbW9kc1xuICAgICAgICAgICAgY29uc3QgbGltaXRQYXJ0cyA9IG5ldyBQYXJ0c0xpc3QoYWN0aW9uLmxpbWl0Lm1vZCk7XG4gICAgICAgICAgICBjb25zdCBkcFBhcnRzID0gbmV3IFBhcnRzTGlzdChhY3Rpb24uZGljZV9wb29sX21vZCk7XG4gICAgICAgICAgICBlcXVpcHBlZE1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZC5kYXRhLmRhdGEuYWNjdXJhY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRQYXJ0cy5hZGRVbmlxdWVQYXJ0KG1vZC5uYW1lLCBtb2QuZGF0YS5kYXRhLmFjY3VyYWN5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1vZC5kYXRhLmRhdGEuZGljZV9wb29sKSB7XG4gICAgICAgICAgICAgICAgICAgIGRwUGFydHMuYWRkVW5pcXVlUGFydChtb2QubmFtZSwgbW9kLmRhdGEuZGF0YS5kaWNlX3Bvb2wpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXF1aXBwZWRBbW1vKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIG1vZHMgdG8gZGFtYWdlIGZyb20gYW1tb1xuICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoYWN0aW9uLmRhbWFnZS5tb2QsIGVxdWlwcGVkQW1tby5uYW1lLCBlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmRhbWFnZSk7XG4gICAgICAgICAgICAgICAgLy8gYWRkIG1vZHMgdG8gYXAgZnJvbSBhbW1vXG4gICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5hcC5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChhY3Rpb24uZGFtYWdlLmFwLm1vZCwgZXF1aXBwZWRBbW1vLm5hbWUsIGVxdWlwcGVkQW1tby5kYXRhLmRhdGEuYXApO1xuXG4gICAgICAgICAgICAgICAgLy8gb3ZlcnJpZGUgZWxlbWVudFxuICAgICAgICAgICAgICAgIGlmIChlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5lbGVtZW50LnZhbHVlID0gZXF1aXBwZWRBbW1vLmRhdGEuZGF0YS5lbGVtZW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UuZWxlbWVudC52YWx1ZSA9IGFjdGlvbi5kYW1hZ2UuZWxlbWVudC5iYXNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIGRhbWFnZSB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKGVxdWlwcGVkQW1tby5kYXRhLmRhdGEuZGFtYWdlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLnR5cGUudmFsdWUgPSBlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmRhbWFnZVR5cGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlID0gYWN0aW9uLmRhbWFnZS50eXBlLmJhc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgdmFsdWUgaWYgd2UgZG9uJ3QgaGF2ZSBpdGVtIG92ZXJyaWRlc1xuICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UuZWxlbWVudC52YWx1ZSA9IGFjdGlvbi5kYW1hZ2UuZWxlbWVudC5iYXNlO1xuICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UudHlwZS52YWx1ZSA9IGFjdGlvbi5kYW1hZ2UudHlwZS5iYXNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmNlIGFsbCBkYW1hZ2UgbW9kcyBoYXZlIGJlZW4gYWNjb3VudGVkIGZvciwgc3VtIGJhc2UgYW5kIG1vZCB0byB2YWx1ZVxuICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKGFjdGlvbi5kYW1hZ2UpO1xuICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5hcC52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKGFjdGlvbi5kYW1hZ2UuYXApO1xuXG4gICAgICAgICAgICBhY3Rpb24ubGltaXQudmFsdWUgPSBIZWxwZXJzLmNhbGNUb3RhbChhY3Rpb24ubGltaXQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hY3Rvcikge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlLmF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGF0dHJpYnV0ZSB9ID0gYWN0aW9uLmRhbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjb252ZXJ0IHRoaXMgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UubW9kID0gUGFydHNMaXN0LkFkZFVuaXF1ZVBhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLm1vZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmF0dHJpYnV0ZXNbYXR0cmlidXRlXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLmZpbmRBdHRyaWJ1dGUoYXR0cmlidXRlKT8udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UudmFsdWUgPSBIZWxwZXJzLmNhbGNUb3RhbChhY3Rpb24uZGFtYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5saW1pdC5hdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhdHRyaWJ1dGUgfSA9IGFjdGlvbi5saW1pdDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjb252ZXJ0IHRoaXMgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5saW1pdC5tb2QgPSBQYXJ0c0xpc3QuQWRkVW5pcXVlUGFydChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5saW1pdC5tb2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5saW1pdHNbYXR0cmlidXRlXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLmZpbmRMaW1pdChhdHRyaWJ1dGUpPy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmxpbWl0LnZhbHVlID0gSGVscGVycy5jYWxjVG90YWwoYWN0aW9uLmxpbWl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS5yYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlUGFydHMgPSBuZXcgUGFydHNMaXN0KCk7XG4gICAgICAgICAgICAgICAgZXF1aXBwZWRNb2RzLmZvckVhY2goKG1vZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kLmRhdGEuZGF0YS5yYykgcmFuZ2VQYXJ0cy5hZGRVbmlxdWVQYXJ0KG1vZC5uYW1lLCBtb2QuZGF0YS5kYXRhLnJjKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIG92ZXJyaWRlcyBmcm9tIGFtbW9cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByYW5nZS5yYy5tb2QgPSByYW5nZVBhcnRzLmxpc3Q7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLnJjKSByYW5nZS5yYy52YWx1ZSA9IEhlbHBlcnMuY2FsY1RvdGFsKHJhbmdlLnJjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhZGVwdF9wb3dlcicpIHtcbiAgICAgICAgICAgIGl0ZW0uZGF0YS50eXBlID0gaXRlbS5kYXRhLmFjdGlvbj8udHlwZSA/ICdhY3RpdmUnIDogJ3Bhc3NpdmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYWJlbHMgPSBsYWJlbHM7XG4gICAgICAgIGl0ZW1bJ3Byb3BlcnRpZXMnXSA9IHRoaXMuZ2V0Q2hhdERhdGEoKS5wcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIGFzeW5jIHBvc3RDYXJkKGV2ZW50Pykge1xuICAgICAgICAvLyB3ZSB3b24ndCB3b3JrIGlmIHdlIGRvbid0IGhhdmUgYW4gYWN0b3JcbiAgICAgICAgaWYgKCF0aGlzLmFjdG9yKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcG9zdE9ubHkgPSBldmVudD8uc2hpZnRLZXkgfHwgIXRoaXMuaGFzUm9sbDtcblxuICAgICAgICBjb25zdCBwb3N0ID0gKGJvbnVzID0ge30pID0+IHtcbiAgICAgICAgICAgIC8vIGlmIG9ubHkgcG9zdCwgZG9uJ3Qgcm9sbCBhbmQgcG9zdCBhIGNhcmQgdmVyc2lvbiAtLSBvdGhlcndpc2Ugcm9sbFxuICAgICAgICAgICAgaWYgKHBvc3RPbmx5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0b2tlbiB9ID0gdGhpcy5hY3RvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2sgPSB0aGlzLmdldEF0dGFja0RhdGEoMCk7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgaW5jbHVkZSBhbnkgaGl0c1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRhY2s/LmhpdHM7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU1I1SXRlbSBSb2xsJyk7XG4gICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgY2hhdCBkYXRhXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2hhdERhdGEoe1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZzogdGhpcy5pbWcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRlc3ROYW1lOiB0aGlzLmdldFJvbGxOYW1lKCksXG4gICAgICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbklkOiB0b2tlbiA/IGAke3Rva2VuLnNjZW5lLl9pZH0uJHt0b2tlbi5pZH1gIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5nZXRDaGF0RGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3VGVtcGxhdGU6IHRoaXMuaGFzVGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjayxcbiAgICAgICAgICAgICAgICAgICAgLi4uYm9udXMsXG4gICAgICAgICAgICAgICAgfSkudGhlbigoY2hhdERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEsIHsgZGlzcGxheVNoZWV0OiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb2xsVGVzdChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIHByb21wdCB1c2VyIGlmIG5lZWRlZFxuICAgICAgICBjb25zdCBkaWFsb2dEYXRhID0gYXdhaXQgU2hhZG93cnVuSXRlbURpYWxvZy5mcm9tSXRlbSh0aGlzLCBldmVudCk7XG4gICAgICAgIGlmIChkaWFsb2dEYXRhKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIG9sZCBjbG9zZSBmdW5jdGlvblxuICAgICAgICAgICAgY29uc3Qgb2xkQ2xvc2UgPSBkaWFsb2dEYXRhLmNsb3NlO1xuICAgICAgICAgICAgLy8gY2FsbCBwb3N0KCkgYWZ0ZXIgZGlhbG9nIGNsb3Nlc1xuICAgICAgICAgICAgZGlhbG9nRGF0YS5jbG9zZSA9IGFzeW5jIChodG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9sZENsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBvbGRDbG9zZSB3ZSBwdXQgb24gdGhlIGRpYWxvZyB3aWxsIHJldHVybiBhIGJvb2xlYW5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0ID0gKChhd2FpdCBvbGRDbG9zZShodG1sKSkgYXMgdW5rbm93bikgYXMgYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXQpIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zdCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlhbG9nKGRpYWxvZ0RhdGEpLnJlbmRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENoYXREYXRhKGh0bWxPcHRpb25zPykge1xuICAgICAgICBjb25zdCBkYXRhID0gZHVwbGljYXRlKHRoaXMuZGF0YS5kYXRhKTtcbiAgICAgICAgY29uc3QgeyBsYWJlbHMgfSA9IHRoaXM7XG4gICAgICAgIGlmICghZGF0YS5kZXNjcmlwdGlvbikgZGF0YS5kZXNjcmlwdGlvbiA9IHt9O1xuXG4gICAgICAgIGRhdGEuZGVzY3JpcHRpb24udmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSwgaHRtbE9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHByb3BzID0gW107XG4gICAgICAgIGNvbnN0IGZ1bmMgPSBDaGF0RGF0YVt0aGlzLmRhdGEudHlwZV07XG4gICAgICAgIGlmIChmdW5jKSBmdW5jKGR1cGxpY2F0ZShkYXRhKSwgbGFiZWxzLCBwcm9wcywgdGhpcyk7XG5cbiAgICAgICAgZGF0YS5wcm9wZXJ0aWVzID0gcHJvcHMuZmlsdGVyKChwKSA9PiAhIXApO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGdldE9wcG9zZWRUZXN0TmFtZSgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgbmFtZSA9ICcnO1xuICAgICAgICBpZiAodGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5vcHBvc2VkPy50eXBlKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9wcG9zZWQgfSA9IHRoaXMuZGF0YS5kYXRhLmFjdGlvbjtcbiAgICAgICAgICAgIGlmIChvcHBvc2VkLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC50eXBlKX1gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHBvc2VkLnNraWxsKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC5za2lsbCl9KyR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZSl9YDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUyKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUpfSske0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUyKX1gO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHBvc2VkLmF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBgJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuYXR0cmlidXRlKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0T3Bwb3NlZFRlc3RNb2RpZmllcigpO1xuICAgICAgICBpZiAobW9kKSBuYW1lICs9IGAgJHttb2R9YDtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgZ2V0T3Bwb3NlZFRlc3RNb2QoKTogUGFydHNMaXN0PG51bWJlcj4ge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3Q8bnVtYmVyPigpO1xuICAgICAgICBpZiAodGhpcy5oYXNEZWZlbnNlVGVzdCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FyZWFPZkVmZmVjdCgpKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkFvZScsIC0yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmFuZ2VkV2VhcG9uKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJlTW9kZURhdGEgPSB0aGlzLmdldExhc3RGaXJlTW9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChmaXJlTW9kZURhdGE/LmRlZmVuc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcmVNb2RlRGF0YS5kZWZlbnNlICE9PSAnU1I1LkR1Y2tPckNvdmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyZU1vZGUgPSArZmlyZU1vZGVEYXRhLmRlZmVuc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuRmlyZU1vZGUnLCBmaXJlTW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH1cblxuICAgIGdldE9wcG9zZWRUZXN0TW9kaWZpZXIoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGVzdE1vZCA9IHRoaXMuZ2V0T3Bwb3NlZFRlc3RNb2QoKTtcbiAgICAgICAgY29uc3QgdG90YWwgPSB0ZXN0TW9kLnRvdGFsO1xuICAgICAgICBpZiAodG90YWwpIHJldHVybiBgKCR7dG90YWx9KWA7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNSYW5nZWRXZWFwb24oKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlRGF0YSA9IHRoaXMuZ2V0TGFzdEZpcmVNb2RlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpcmVNb2RlRGF0YT8uZGVmZW5zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZU1vZGVEYXRhLmRlZmVuc2UgPT09ICdTUjUuRHVja09yQ292ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHVja09yQ292ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZ2V0Qmxhc3REYXRhKCk6IEJsYXN0RGF0YSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIGNhbiBvbmx5IGhhbmRsZSBzcGVsbHMgYW5kIGdyZW5hZGUgcmlnaHQgbm93XG4gICAgICAgIGlmICh0aGlzLmlzU3BlbGwoKSAmJiB0aGlzLmlzQXJlYU9mRWZmZWN0KCkpIHtcbiAgICAgICAgICAgIC8vIGRpc3RhbmNlIG9uIHNwZWxscyBpcyBlcXVhbCB0byBmb3JjZVxuICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy5nZXRMYXN0U3BlbGxGb3JjZSgpLnZhbHVlO1xuICAgICAgICAgICAgLy8gZXh0ZW5kZWQgc3BlbGxzIG11bHRpcGx5IGJ5IDEwXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmRhdGEuZXh0ZW5kZWQpIGRpc3RhbmNlICo9IDEwO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYWRpdXM6IGRpc3RhbmNlLFxuICAgICAgICAgICAgICAgIGRyb3BvZmY6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNHcmVuYWRlKCkpIHtcbiAgICAgICAgICAgIC8vIHVzZSBibGFzdCByYWRpdXNcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5kYXRhLmRhdGEudGhyb3duLmJsYXN0LnJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IGRyb3BvZmYgPSB0aGlzLmRhdGEuZGF0YS50aHJvd24uYmxhc3QuZHJvcG9mZjtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmFkaXVzOiBkaXN0YW5jZSxcbiAgICAgICAgICAgICAgICBkcm9wb2ZmOiBkcm9wb2ZmLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0V4cGxvc2l2ZUFtbW8oKSkge1xuICAgICAgICAgICAgY29uc3QgYW1tbyA9IHRoaXMuZ2V0RXF1aXBwZWRBbW1vKCk7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGFtbW8uZGF0YS5kYXRhLmJsYXN0LnJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IGRyb3BvZmYgPSBhbW1vLmRhdGEuZGF0YS5ibGFzdC5kcm9wb2ZmO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYWRpdXM6IGRpc3RhbmNlLFxuICAgICAgICAgICAgICAgIGRyb3BvZmYsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RXF1aXBwZWRBbW1vKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuaXRlbXMgfHwgW10pLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlID09PSAnYW1tbycgJiYgaXRlbS5kYXRhLmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkKVswXTtcbiAgICB9XG5cbiAgICBnZXRFcXVpcHBlZE1vZHMoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5pdGVtcyB8fCBbXSkuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09ICdtb2RpZmljYXRpb24nICYmIGl0ZW0uZGF0YS5kYXRhLnR5cGUgPT09ICd3ZWFwb24nICYmIGl0ZW0uZGF0YS5kYXRhPy50ZWNobm9sb2d5Py5lcXVpcHBlZCk7XG4gICAgfVxuXG4gICAgaGFzRXhwbG9zaXZlQW1tbygpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYW1tbyA9IHRoaXMuZ2V0RXF1aXBwZWRBbW1vKCk7XG4gICAgICAgIHJldHVybiBhbW1vPy5kYXRhPy5kYXRhPy5ibGFzdD8ucmFkaXVzID4gMDtcbiAgICB9XG5cbiAgICBhc3luYyBlcXVpcFdlYXBvbk1vZChpaWQpIHtcbiAgICAgICAgY29uc3QgbW9kID0gdGhpcy5nZXRPd25lZEl0ZW0oaWlkKTtcbiAgICAgICAgaWYgKG1vZCkge1xuICAgICAgICAgICAgY29uc3QgZHVwRGF0YSA9IGR1cGxpY2F0ZShtb2QuZGF0YSk7XG4gICAgICAgICAgICBkdXBEYXRhLmRhdGEudGVjaG5vbG9neS5lcXVpcHBlZCA9ICFkdXBEYXRhLmRhdGEudGVjaG5vbG9neS5lcXVpcHBlZDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlT3duZWRJdGVtKGR1cERhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGhhc0FtbW8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hbW1vICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgdXNlQW1tbyhmaXJlTW9kZSkge1xuICAgICAgICBjb25zdCBkdXBEYXRhID0gZHVwbGljYXRlKHRoaXMuZGF0YSk7XG4gICAgICAgIGNvbnN0IHsgYW1tbyB9ID0gZHVwRGF0YS5kYXRhO1xuICAgICAgICBpZiAoYW1tbykge1xuICAgICAgICAgICAgYW1tby5jdXJyZW50LnZhbHVlID0gTWF0aC5tYXgoMCwgYW1tby5jdXJyZW50LnZhbHVlIC0gZmlyZU1vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKGR1cERhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcmVsb2FkQW1tbygpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEpO1xuICAgICAgICBjb25zdCB7IGFtbW8gfSA9IGRhdGEuZGF0YTtcbiAgICAgICAgY29uc3QgZGlmZiA9IGFtbW8uY3VycmVudC5tYXggLSBhbW1vLmN1cnJlbnQudmFsdWU7XG4gICAgICAgIGFtbW8uY3VycmVudC52YWx1ZSA9IGFtbW8uY3VycmVudC5tYXg7XG5cbiAgICAgICAgaWYgKGFtbW8uc3BhcmVfY2xpcHMpIHtcbiAgICAgICAgICAgIGFtbW8uc3BhcmVfY2xpcHMudmFsdWUgPSBNYXRoLm1heCgwLCBhbW1vLnNwYXJlX2NsaXBzLnZhbHVlIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoZGF0YSk7XG5cbiAgICAgICAgY29uc3QgbmV3QW1tdW5pdGlvbiA9ICh0aGlzLml0ZW1zIHx8IFtdKVxuICAgICAgICAgICAgLmZpbHRlcigoaSkgPT4gaS5kYXRhLnR5cGUgPT09ICdhbW1vJylcbiAgICAgICAgICAgIC5yZWR1Y2UoKGFjYzogRW50aXR5RGF0YVtdLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0ZWNobm9sb2d5IH0gPSBpdGVtLmRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAodGVjaG5vbG9neS5lcXVpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdHkgPSB0ZWNobm9sb2d5LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICB0ZWNobm9sb2d5LnF1YW50aXR5ID0gTWF0aC5tYXgoMCwgcXR5IC0gZGlmZik7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKGl0ZW0uZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIGlmIChuZXdBbW11bml0aW9uLmxlbmd0aCkgYXdhaXQgdGhpcy51cGRhdGVPd25lZEl0ZW0obmV3QW1tdW5pdGlvbik7XG4gICAgfVxuXG4gICAgYXN5bmMgZXF1aXBBbW1vKGlpZCkge1xuICAgICAgICAvLyBvbmx5IGFsbG93IGFtbW8gdGhhdCB3YXMganVzdCBjbGlja2VkIHRvIGJlIGVxdWlwcGVkXG4gICAgICAgIGNvbnN0IGFtbW8gPSB0aGlzLml0ZW1zXG4gICAgICAgICAgICA/LmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlID09PSAnYW1tbycpXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMuZ2V0T3duZWRJdGVtKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBpLmRhdGEuZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkID0gaWlkID09PSBpdGVtLl9pZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVPd25lZEl0ZW0oYW1tbyk7XG4gICAgfVxuXG4gICAgYWRkTmV3TGljZW5zZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEpO1xuICAgICAgICBjb25zdCB7IGxpY2Vuc2VzIH0gPSBkYXRhLmRhdGE7XG4gICAgICAgIGlmICh0eXBlb2YgbGljZW5zZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGEubGljZW5zZXMgPSBPYmplY3QudmFsdWVzKGxpY2Vuc2VzKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmRhdGEubGljZW5zZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgIHJ0ZzogJycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZShkYXRhKTtcbiAgICB9XG5cbiAgICBnZXRSb2xsUGFydHNMaXN0KCk6IE1vZExpc3Q8bnVtYmVyPiB7XG4gICAgICAgIC8vIHdlIG9ubHkgaGF2ZSBhIHJvbGwgaWYgd2UgaGF2ZSBhbiBhY3Rpb24gb3IgYW4gYWN0b3JcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEuZGF0YS5hY3Rpb24gfHwgIXRoaXMuYWN0b3IpIHJldHVybiBbXTtcblxuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QoZHVwbGljYXRlKHRoaXMuZ2V0TW9kaWZpZXJMaXN0KCkpKTtcblxuICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3IuZmluZEFjdGl2ZVNraWxsKHRoaXMuZ2V0QWN0aW9uU2tpbGwoKSk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYWN0b3IuZmluZEF0dHJpYnV0ZSh0aGlzLmdldEFjdGlvbkF0dHJpYnV0ZSgpKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlMiA9IHRoaXMuYWN0b3IuZmluZEF0dHJpYnV0ZSh0aGlzLmdldEFjdGlvbkF0dHJpYnV0ZTIoKSk7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0ZSAmJiBhdHRyaWJ1dGUubGFiZWwpIHBhcnRzLmFkZFBhcnQoYXR0cmlidXRlLmxhYmVsLCBhdHRyaWJ1dGUudmFsdWUpO1xuXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSB2YWxpZCBza2lsbCwgZG9uJ3QgbG9vayBmb3IgYSBzZWNvbmQgYXR0cmlidXRlXG4gICAgICAgIGlmIChza2lsbCAmJiBza2lsbC5sYWJlbCkge1xuICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydChza2lsbC5sYWJlbCwgc2tpbGwudmFsdWUpO1xuICAgICAgICAgICAgaWYgKHNraWxsLnZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkRlZmF1bHRpbmcnLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlMiAmJiBhdHRyaWJ1dGUyLmxhYmVsKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KGF0dHJpYnV0ZTIubGFiZWwsIGF0dHJpYnV0ZTIudmFsdWUpO1xuXG4gICAgICAgIGNvbnN0IHNwZWMgPSB0aGlzLmdldEFjdGlvblNwZWNpYWxpemF0aW9uKCk7XG4gICAgICAgIGlmIChzcGVjKSBwYXJ0cy5hZGRVbmlxdWVQYXJ0KHNwZWMsIDIpO1xuXG4gICAgICAgIGNvbnN0IG1vZCA9IHBhcnNlSW50KHRoaXMuZGF0YS5kYXRhLmFjdGlvbi5tb2QgfHwgMCk7XG4gICAgICAgIGlmIChtb2QpIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5JdGVtTW9kJywgbW9kKTtcblxuICAgICAgICBjb25zdCBhdHRzOiAoQXR0cmlidXRlRmllbGQgfCBTa2lsbEZpZWxkKVtdIHwgYm9vbGVhbiA9IFtdO1xuICAgICAgICBpZiAoYXR0cmlidXRlICE9PSB1bmRlZmluZWQpIGF0dHMucHVzaChhdHRyaWJ1dGUpO1xuICAgICAgICBpZiAoYXR0cmlidXRlMiAhPT0gdW5kZWZpbmVkKSBhdHRzLnB1c2goYXR0cmlidXRlMik7XG4gICAgICAgIGlmIChza2lsbCAhPT0gdW5kZWZpbmVkKSBhdHRzLnB1c2goc2tpbGwpO1xuICAgICAgICAvLyBhZGQgZ2xvYmFsIHBhcnRzIGZyb20gYWN0b3JcbiAgICAgICAgdGhpcy5hY3Rvci5fYWRkR2xvYmFsUGFydHMocGFydHMpO1xuICAgICAgICB0aGlzLmFjdG9yLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgYXR0cyk7XG4gICAgICAgIHRoaXMuX2FkZFdlYXBvblBhcnRzKHBhcnRzKTtcblxuICAgICAgICByZXR1cm4gcGFydHMubGlzdDtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVSZWNvaWwoKSB7XG4gICAgICAgIGNvbnN0IGxhc3RGaXJlTW9kZSA9IHRoaXMuZ2V0TGFzdEZpcmVNb2RlKCk7XG4gICAgICAgIGlmICghbGFzdEZpcmVNb2RlKSByZXR1cm4gMDtcbiAgICAgICAgaWYgKGxhc3RGaXJlTW9kZS52YWx1ZSA9PT0gMjApIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5nZXRSZWNvaWxDb21wZW5zYXRpb24odHJ1ZSkgLSAodGhpcy5nZXRMYXN0RmlyZU1vZGUoKT8udmFsdWUgfHwgMCksIDApO1xuICAgIH1cblxuICAgIF9hZGRXZWFwb25QYXJ0cyhwYXJ0czogUGFydHNMaXN0PG51bWJlcj4pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSYW5nZWRXZWFwb24oKSkge1xuICAgICAgICAgICAgY29uc3QgcmVjb2lsID0gdGhpcy5jYWxjdWxhdGVSZWNvaWwoKTtcbiAgICAgICAgICAgIGlmIChyZWNvaWwpIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5SZWNvaWwnLCByZWNvaWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlTGljZW5zZShpbmRleCkge1xuICAgICAgICBjb25zdCBkYXRhID0gZHVwbGljYXRlKHRoaXMuZGF0YSk7XG4gICAgICAgIGNvbnN0IHsgbGljZW5zZXMgfSA9IGRhdGEuZGF0YTtcbiAgICAgICAgbGljZW5zZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcm9sbE9wcG9zZWRUZXN0KHRhcmdldDogU1I1QWN0b3IsIGV2KSB7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gdGhpcy5kYXRhLmRhdGE7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBldmVudDogZXYsXG4gICAgICAgICAgICBmaXJlTW9kZURlZmVuc2U6IDAsXG4gICAgICAgICAgICBjb3ZlcjogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbGFzdEF0dGFjayA9IHRoaXMuZ2V0TGFzdEF0dGFjaygpO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuZ2V0T3Bwb3NlZFRlc3RNb2QoKTtcbiAgICAgICAgY29uc3QgeyBvcHBvc2VkIH0gPSBpdGVtRGF0YS5hY3Rpb247XG5cbiAgICAgICAgaWYgKG9wcG9zZWQudHlwZSA9PT0gJ2RlZmVuc2UnKSB7XG4gICAgICAgICAgICBpZiAobGFzdEF0dGFjaykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNbJ2luY29taW5nQXR0YWNrJ10gPSBsYXN0QXR0YWNrO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuY292ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QXR0YWNrLmZpcmVNb2RlPy5kZWZlbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmlyZU1vZGVEZWZlbnNlID0gK2xhc3RBdHRhY2suZmlyZU1vZGUuZGVmZW5zZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnJvbGxEZWZlbnNlKG9wdGlvbnMsIHBhcnRzLmxpc3QpO1xuICAgICAgICB9IGVsc2UgaWYgKG9wcG9zZWQudHlwZSA9PT0gJ3NvYWsnKSB7XG4gICAgICAgICAgICBvcHRpb25zWydkYW1hZ2UnXSA9IGxhc3RBdHRhY2s/LmRhbWFnZTtcbiAgICAgICAgICAgIG9wdGlvbnNbJ2F0dGFja2VySGl0cyddID0gbGFzdEF0dGFjaz8uaGl0cztcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQucm9sbFNvYWsob3B0aW9ucywgcGFydHMubGlzdCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3Bwb3NlZC50eXBlID09PSAnYXJtb3InKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnJvbGxBcm1vcihvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHBvc2VkLnNraWxsICYmIG9wcG9zZWQuYXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5yb2xsU2tpbGwob3Bwb3NlZC5za2lsbCwge1xuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IG9wcG9zZWQuYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHBvc2VkLmF0dHJpYnV0ZSAmJiBvcHBvc2VkLmF0dHJpYnV0ZTIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnJvbGxUd29BdHRyaWJ1dGVzKFtvcHBvc2VkLmF0dHJpYnV0ZSwgb3Bwb3NlZC5hdHRyaWJ1dGUyXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wcG9zZWQuYXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5yb2xsU2luZ2xlQXR0cmlidXRlKG9wcG9zZWQuYXR0cmlidXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJvbGxFeHRyYVRlc3QodHlwZTogc3RyaW5nLCBldmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXRzID0gU1I1SXRlbS5nZXRUYXJnZXRzKCk7XG4gICAgICAgIGlmICh0eXBlID09PSAnb3Bwb3NlZCcpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB0YXJnZXRzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yb2xsT3Bwb3NlZFRlc3QodCwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm9sbHMgYSB0ZXN0IHVzaW5nIHRoZSBsYXRlc3Qgc3RvcmVkIGRhdGEgb24gdGhlIGl0ZW0gKGZvcmNlLCBmaXJlTW9kZSwgbGV2ZWwpXG4gICAgICogQHBhcmFtIGV2ZW50IC0gbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFueSBhZGRpdGlvbmFsIHJvbGwgb3B0aW9ucyB0byBwYXNzIGFsb25nIC0gbm90ZSB0aGF0IGN1cnJlbnRseSB0aGUgSXRlbSB3aWxsIG92ZXJ3cml0ZSAtLSBXSVBcbiAgICAgKi9cbiAgICBhc3luYyByb2xsVGVzdChldmVudCwgb3B0aW9ucz86IFBhcnRpYWw8QWR2YW5jZWRSb2xsUHJvcHM+KTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBTaGFkb3dydW5Sb2xsZXIuaXRlbVJvbGwoZXZlbnQsIHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGhhbmRsZSBwcm9taXNlIHdoZW4gaXQgcmVzb2x2ZXMgZm9yIG91ciBvd24gc3R1ZmZcbiAgICAgICAgcHJvbWlzZS50aGVuKGFzeW5jIChyb2xsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdHRhY2tEYXRhID0gdGhpcy5nZXRBdHRhY2tEYXRhKHJvbGw/LnRvdGFsID8/IDApO1xuICAgICAgICAgICAgaWYgKGF0dGFja0RhdGEpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldExhc3RBdHRhY2soYXR0YWNrRGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvbXBsZXggZm9ybSBoYW5kbGVzIGZhZGVcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29tcGxleEZvcm0oKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsRmFkZSA9IE1hdGgubWF4KHRoaXMuZ2V0RmFkZSgpICsgdGhpcy5nZXRMYXN0Q29tcGxleEZvcm1MZXZlbCgpLnZhbHVlLCAyKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnJvbGxGYWRlKHsgZXZlbnQgfSwgdG90YWxGYWRlKTtcbiAgICAgICAgICAgIH0gLy8gc3BlbGxzIGhhbmRsZSBkcmFpbiwgZm9yY2UsIGFuZCBhdHRhY2sgZGF0YVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pc1NwZWxsKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NvbWJhdFNwZWxsKCkgJiYgcm9sbCkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmb3JjZURhdGEgPSB0aGlzLmdldExhc3RTcGVsbEZvcmNlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJhaW4gPSBNYXRoLm1heCh0aGlzLmdldERyYWluKCkgKyBmb3JjZURhdGEudmFsdWUgKyAoZm9yY2VEYXRhLnJlY2tsZXNzID8gMyA6IDApLCAyKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yPy5yb2xsRHJhaW4oeyBldmVudCB9LCBkcmFpbik7XG4gICAgICAgICAgICB9IC8vIHdlYXBvbnMgaGFuZGxlIGFtbW8gYW5kIGF0dGFjayBkYXRhXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNBbW1vKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlID0gdGhpcy5nZXRMYXN0RmlyZU1vZGUoKT8udmFsdWUgfHwgMTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51c2VBbW1vKGZpcmVNb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJdGVtRnJvbU1lc3NhZ2UoaHRtbCk6IFNSNUl0ZW0gfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBjYXJkID0gaHRtbC5maW5kKCcuY2hhdC1jYXJkJyk7XG4gICAgICAgIGxldCBhY3RvcjtcbiAgICAgICAgY29uc3QgdG9rZW5LZXkgPSBjYXJkLmRhdGEoJ3Rva2VuSWQnKTtcbiAgICAgICAgaWYgKHRva2VuS2V5KSB7XG4gICAgICAgICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSB0b2tlbktleS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICAgICAgaWYgKHNjZW5lSWQgPT09IGNhbnZhcy5zY2VuZS5faWQpIHRva2VuID0gY2FudmFzLnRva2Vucy5nZXQodG9rZW5JZCk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZTogU2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzY2VuZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5kYXRhLnRva2Vucy5maW5kKCh0KSA9PiB0LmlkID09PSBOdW1iZXIodG9rZW5JZCkpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbkRhdGEpIHRva2VuID0gbmV3IFRva2VuKHRva2VuRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgICAgICAgICBhY3RvciA9IEFjdG9yLmZyb21Ub2tlbih0b2tlbik7XG4gICAgICAgIH0gZWxzZSBhY3RvciA9IGdhbWUuYWN0b3JzLmdldChjYXJkLmRhdGEoJ2FjdG9ySWQnKSk7XG5cbiAgICAgICAgaWYgKCFhY3RvcikgcmV0dXJuO1xuICAgICAgICBjb25zdCBpdGVtSWQgPSBjYXJkLmRhdGEoJ2l0ZW1JZCcpO1xuICAgICAgICByZXR1cm4gYWN0b3IuZ2V0T3duZWRJdGVtKGl0ZW1JZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFRhcmdldHMoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcmFjdGVyIH0gPSBnYW1lLnVzZXI7XG4gICAgICAgIGNvbnN0IHsgY29udHJvbGxlZCB9ID0gY2FudmFzLnRva2VucztcbiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IGNvbnRyb2xsZWQucmVkdWNlKChhcnIsIHQpID0+ICh0LmFjdG9yID8gYXJyLmNvbmNhdChbdC5hY3Rvcl0pIDogYXJyKSwgW10pO1xuICAgICAgICBpZiAoY2hhcmFjdGVyICYmIGNvbnRyb2xsZWQubGVuZ3RoID09PSAwKSB0YXJnZXRzLnB1c2goY2hhcmFjdGVyKTtcbiAgICAgICAgaWYgKCF0YXJnZXRzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBZb3UgbXVzdCBkZXNpZ25hdGUgYSBzcGVjaWZpYyBUb2tlbiBhcyB0aGUgcm9sbCB0YXJnZXRgKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGl0ZW0gaW4gdGhpcyBpdGVtXG4gICAgICogQHBhcmFtIGl0ZW1EYXRhXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVPd25lZEl0ZW0oaXRlbURhdGEsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbURhdGEpKSBpdGVtRGF0YSA9IFtpdGVtRGF0YV07XG4gICAgICAgIC8vIHdlYXBvbnMgYWNjZXB0IGl0ZW1zXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SXRlbXMgPSBkdXBsaWNhdGUodGhpcy5nZXRFbWJlZGRlZEl0ZW1zKCkpO1xuXG4gICAgICAgICAgICBpdGVtRGF0YS5mb3JFYWNoKChvZ0l0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZHVwbGljYXRlKG9nSXRlbSk7XG4gICAgICAgICAgICAgICAgaXRlbS5faWQgPSByYW5kb21JRCgxNik7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2FtbW8nIHx8IGl0ZW0udHlwZSA9PT0gJ21vZGlmaWNhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0/LmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEudGVjaG5vbG9neS5lcXVpcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldEVtYmVkZGVkSXRlbXMoY3VycmVudEl0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZURhdGEoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoZmFsc2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIGVtYmVkZGVkSXRlbXNcbiAgICAgKi9cbiAgICBwcmVwYXJlRW1iZWRkZWRFbnRpdGllcygpIHtcbiAgICAgICAgc3VwZXIucHJlcGFyZUVtYmVkZGVkRW50aXRpZXMoKTtcbiAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5nZXRFbWJlZGRlZEl0ZW1zKCk7XG4gICAgICAgIGlmIChpdGVtcykge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSAodGhpcy5pdGVtcyB8fCBbXSkucmVkdWNlKChvYmplY3QsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBvYmplY3RbaS5pZF0gPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXMubWFwKChpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGkuX2lkIGluIGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBleGlzdGluZ1tpLl9pZF07XG4gICAgICAgICAgICAgICAgICAgIGEuZGF0YSA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGEucHJlcGFyZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlydHkgdGhpbmdzIGRvbmUgaGVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJdGVtLmNyZWF0ZU93bmVkKGksIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0T3duZWRJdGVtKGl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgICAgIGlmICghaXRlbXMpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbmQoKGkpID0+IGkuX2lkID09PSBpdGVtSWQpO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZU93bmVkSXRlbShjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZHVwbGljYXRlKHRoaXMuZ2V0RW1iZWRkZWRJdGVtcygpKTtcbiAgICAgICAgaWYgKCFpdGVtcykgcmV0dXJuO1xuICAgICAgICBjaGFuZ2VzID0gQXJyYXkuaXNBcnJheShjaGFuZ2VzKSA/IGNoYW5nZXMgOiBbY2hhbmdlc107XG4gICAgICAgIGlmICghY2hhbmdlcyB8fCBjaGFuZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2goKGl0ZW1DaGFuZ2VzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGl0ZW1zLmZpbmRJbmRleCgoaSkgPT4gaS5faWQgPT09IGl0ZW1DaGFuZ2VzLl9pZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtQ2hhbmdlcyA9IGV4cGFuZE9iamVjdChpdGVtQ2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgbWVyZ2VPYmplY3QoaXRlbSwgaXRlbUNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIGl0ZW1zW2luZGV4XSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5pdGVtc1tpbmRleF0uZGF0YSA9IGl0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zZXRFbWJlZGRlZEl0ZW1zKGl0ZW1zKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlRW1iZWRkZWRFbnRpdGllcygpO1xuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVEYXRhKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlRW1iZWRkZWRFbnRpdHkoZW1iZWRkZWROYW1lOiBzdHJpbmcsIHVwZGF0ZURhdGE6IG9iamVjdCB8IG9iamVjdFtdLCBvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlT3duZWRJdGVtKHVwZGF0ZURhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gb3duZWQgaXRlbVxuICAgICAqIEBwYXJhbSBkZWxldGVkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAgICovXG4gICAgYXN5bmMgZGVsZXRlT3duZWRJdGVtKGRlbGV0ZWQpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkdXBsaWNhdGUodGhpcy5nZXRFbWJlZGRlZEl0ZW1zKCkpO1xuICAgICAgICBpZiAoIWl0ZW1zKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaWR4ID0gaXRlbXMuZmluZEluZGV4KChpKSA9PiBpLl9pZCA9PT0gZGVsZXRlZCB8fCBOdW1iZXIoaS5faWQpID09PSBkZWxldGVkKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHRocm93IG5ldyBFcnJvcihgU2hhZG93cnVuNWUgfCBDb3VsZG4ndCBmaW5kIG93bmVkIGl0ZW0gJHtkZWxldGVkfWApO1xuICAgICAgICBpdGVtcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRFbWJlZGRlZEl0ZW1zKGl0ZW1zKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlRW1iZWRkZWRFbnRpdGllcygpO1xuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVEYXRhKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYXN5bmMgb3BlblBkZlNvdXJjZSgpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIFBERm91bmRyeSBtb2R1bGUgaG9vazogaHR0cHM6Ly9naXRodWIuY29tL0RqcGhvZW5peDcxOS9QREZvdW5kcnlcbiAgICAgICAgaWYgKCF1aVsnUERGb3VuZHJ5J10pIHtcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5ESUFMT0cuTWlzc2luZ01vZHVsZUNvbnRlbnQnKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmdldEJvb2tTb3VyY2UoKTtcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gJycpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU291cmNlRmllbGRFbXB0eUVycm9yJykpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gb3BlbiBQREYgdG8gY29ycmVjdCBsb2NhdGlvblxuICAgICAgICAvLyBwYXJzZSBob3dldmVyIHlvdSBuZWVkLCBhbGwgXCJidXR0b25zXCIgd2lsbCBsZWFkIHRvIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgY29uc3QgW2NvZGUsIHBhZ2VdID0gc291cmNlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHVpLlBERm91bmRyeS5vcGVuUERGQnlDb2RlKGNvZGUsIHtwYWdlOiBwYXJzZUludChwYWdlKX0pO1xuICAgIH1cblxuICAgIGdldEF0dGFja0RhdGEoaGl0czogbnVtYmVyKTogQXR0YWNrRGF0YSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghdGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5kYW1hZ2UudHlwZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgZGFtYWdlID0gdGhpcy5kYXRhLmRhdGEuYWN0aW9uLmRhbWFnZTtcbiAgICAgICAgY29uc3QgZGF0YTogQXR0YWNrRGF0YSA9IHtcbiAgICAgICAgICAgIGhpdHMsXG4gICAgICAgICAgICBkYW1hZ2U6IGRhbWFnZSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5pc0NvbWJhdFNwZWxsKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvcmNlID0gdGhpcy5nZXRMYXN0U3BlbGxGb3JjZSgpLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlUGFydHMgPSBuZXcgUGFydHNMaXN0KGRhdGEuZGFtYWdlLm1vZCk7XG4gICAgICAgICAgICBkYXRhLmZvcmNlID0gZm9yY2U7XG4gICAgICAgICAgICBkYXRhLmRhbWFnZS5iYXNlID0gZm9yY2U7XG4gICAgICAgICAgICBkYXRhLmRhbWFnZS52YWx1ZSA9IGZvcmNlICsgZGFtYWdlUGFydHMudG90YWw7XG4gICAgICAgICAgICBkYXRhLmRhbWFnZS5hcC52YWx1ZSA9IC1mb3JjZSArIGRhbWFnZVBhcnRzLnRvdGFsO1xuICAgICAgICAgICAgZGF0YS5kYW1hZ2UuYXAuYmFzZSA9IC1mb3JjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxleEZvcm0oKSkge1xuICAgICAgICAgICAgZGF0YS5sZXZlbCA9IHRoaXMuZ2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwoKS52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzTWVsZWVXZWFwb24oKSkge1xuICAgICAgICAgICAgZGF0YS5yZWFjaCA9IHRoaXMuZ2V0UmVhY2goKTtcbiAgICAgICAgICAgIGRhdGEuYWNjdXJhY3kgPSB0aGlzLmdldEFjdGlvbkxpbWl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc1JhbmdlZFdlYXBvbigpKSB7XG4gICAgICAgICAgICBkYXRhLmZpcmVNb2RlID0gdGhpcy5nZXRMYXN0RmlyZU1vZGUoKTtcbiAgICAgICAgICAgIGRhdGEuYWNjdXJhY3kgPSB0aGlzLmdldEFjdGlvbkxpbWl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBibGFzdERhdGEgPSB0aGlzLmdldEJsYXN0RGF0YSgpO1xuICAgICAgICBpZiAoYmxhc3REYXRhKSBkYXRhLmJsYXN0ID0gYmxhc3REYXRhO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGdldFJvbGxOYW1lKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzUmFuZ2VkV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5SYW5nZVdlYXBvbkF0dGFjaycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTWVsZWVXZWFwb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1lbGVlV2VhcG9uQXR0YWNrJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNDb21iYXRTcGVsbCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuU3BlbGxBdHRhY2snKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1NwZWxsKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGVsbENhc3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNSb2xsKSByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldExpbWl0KCk6IExpbWl0RmllbGQgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBsaW1pdCA9IHRoaXMuZGF0YS5kYXRhLmFjdGlvbj8ubGltaXQ7XG4gICAgICAgIGlmICghbGltaXQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicpIHtcbiAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gJ1NSNS5BY2N1cmFjeSc7XG4gICAgICAgIH0gZWxzZSBpZiAobGltaXQ/LmF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgbGltaXQubGFiZWwgPSBDT05GSUcuU1I1LmF0dHJpYnV0ZXNbbGltaXQuYXR0cmlidXRlXTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzU3BlbGwoKSkge1xuICAgICAgICAgICAgbGltaXQudmFsdWUgPSB0aGlzLmdldExhc3RTcGVsbEZvcmNlKCkudmFsdWU7XG4gICAgICAgICAgICBsaW1pdC5sYWJlbCA9ICdTUjUuRm9yY2UnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNDb21wbGV4Rm9ybSgpKSB7XG4gICAgICAgICAgICBsaW1pdC52YWx1ZSA9IHRoaXMuZ2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwoKS52YWx1ZTtcbiAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gJ1NSNS5MZXZlbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW1pdC5sYWJlbCA9ICdTUjUuTGltaXQnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW1pdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBzZXRGbGFnIHRvIHJlbW92ZSB0aGUgJ1NSNS4nIGZyb20ga2V5cyBpbiBtb2RsaXN0cywgb3RoZXJ3aXNlIGl0IGhhbmRsZXMgdGhlbSBhcyBlbWJlZGRlZCBrZXlzXG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHNldEZsYWcoc2NvcGU6IHN0cmluZywga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBQcm9taXNlPHRoaXM+IHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBIZWxwZXJzLm9uU2V0RmxhZyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBzdXBlci5zZXRGbGFnKHNjb3BlLCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBnZXRGbGFnIHRvIGFkZCBiYWNrIHRoZSAnU1I1Licga2V5cyBjb3JyZWN0bHkgdG8gYmUgaGFuZGxlZFxuICAgICAqIEBwYXJhbSBzY29wZVxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKi9cbiAgICBnZXRGbGFnKHNjb3BlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHN1cGVyLmdldEZsYWcoc2NvcGUsIGtleSk7XG4gICAgICAgIHJldHVybiBIZWxwZXJzLm9uR2V0RmxhZyhkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXNzdGhyb3VnaCBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICBpc0FyZWFPZkVmZmVjdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0FyZWFPZkVmZmVjdCgpO1xuICAgIH1cblxuICAgIGlzQXJtb3IoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNBcm1vcigpO1xuICAgIH1cblxuICAgIGhhc0FybW9yQmFzZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5oYXNBcm1vckJhc2UoKTtcbiAgICB9XG5cbiAgICBoYXNBcm1vckFjY2Vzc29yeSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5oYXNBcm1vckFjY2Vzc29yeSgpO1xuICAgIH1cblxuICAgIGhhc0FybW9yKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmhhc0FybW9yKCk7XG4gICAgfVxuXG4gICAgaXNHcmVuYWRlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzR3JlbmFkZSgpO1xuICAgIH1cblxuICAgIGlzV2VhcG9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzV2VhcG9uKCk7XG4gICAgfVxuXG4gICAgaXNDeWJlcndhcmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNDeWJlcndhcmUoKTtcbiAgICB9XG5cbiAgICBpc0NvbWJhdFNwZWxsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzQ29tYmF0U3BlbGwoKTtcbiAgICB9XG5cbiAgICBpc1JhbmdlZFdlYXBvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc1JhbmdlZFdlYXBvbigpO1xuICAgIH1cblxuICAgIGlzU3BlbGwoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNTcGVsbCgpO1xuICAgIH1cblxuICAgIGlzQ29tcGxleEZvcm0oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNDb21wbGV4Rm9ybSgpO1xuICAgIH1cblxuICAgIGlzTWVsZWVXZWFwb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNNZWxlZVdlYXBvbigpO1xuICAgIH1cblxuICAgIGlzRGV2aWNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmlzRGV2aWNlKCk7XG4gICAgfVxuXG4gICAgaXNFcXVpcHBlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5pc0VxdWlwcGVkKCk7XG4gICAgfVxuXG4gICAgaXNDeWJlcmRlY2soKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuaXNDeWJlcmRlY2soKTtcbiAgICB9XG5cbiAgICBnZXRCb29rU291cmNlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0Qm9va1NvdXJjZSgpO1xuICAgIH1cblxuICAgIGdldENvbmRpdGlvbk1vbml0b3IoKTogQ29uZGl0aW9uRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0Q29uZGl0aW9uTW9uaXRvcigpO1xuICAgIH1cblxuICAgIGdldFJhdGluZygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmdldFJhdGluZygpO1xuICAgIH1cblxuICAgIGdldEFybW9yVmFsdWUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRBcm1vclZhbHVlKCk7XG4gICAgfVxuXG4gICAgZ2V0QXJtb3JFbGVtZW50cygpOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRBcm1vckVsZW1lbnRzKCk7XG4gICAgfVxuXG4gICAgZ2V0RXNzZW5jZUxvc3MoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRFc3NlbmNlTG9zcygpO1xuICAgIH1cblxuICAgIGdldEFTREYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0QVNERigpO1xuICAgIH1cblxuICAgIGdldEFjdGlvblNraWxsKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0QWN0aW9uU2tpbGwoKTtcbiAgICB9XG5cbiAgICBnZXRBY3Rpb25BdHRyaWJ1dGUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRBY3Rpb25BdHRyaWJ1dGUoKTtcbiAgICB9XG5cbiAgICBnZXRBY3Rpb25BdHRyaWJ1dGUyKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0QWN0aW9uQXR0cmlidXRlMigpO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkxpbWl0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXIuZ2V0QWN0aW9uTGltaXQoKTtcbiAgICB9XG5cbiAgICBnZXRNb2RpZmllckxpc3QoKTogTW9kTGlzdDxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRNb2RpZmllckxpc3QoKTtcbiAgICB9XG5cbiAgICBnZXRBY3Rpb25TcGVjaWFsaXphdGlvbigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmdldEFjdGlvblNwZWNpYWxpemF0aW9uKCk7XG4gICAgfVxuXG4gICAgZ2V0RHJhaW4oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXREcmFpbigpO1xuICAgIH1cblxuICAgIGdldEZhZGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlci5nZXRGYWRlKCk7XG4gICAgfVxuXG4gICAgZ2V0UmVjb2lsQ29tcGVuc2F0aW9uKGluY2x1ZGVBY3RvcjogYm9vbGVhbiA9IHRydWUpOiBudW1iZXIge1xuICAgICAgICBsZXQgcmMgPSB0aGlzLndyYXBwZXIuZ2V0UmVjb2lsQ29tcGVuc2F0aW9uKCk7XG4gICAgICAgIGlmIChpbmNsdWRlQWN0b3IgJiYgdGhpcy5hY3Rvcikge1xuICAgICAgICAgICAgcmMgKz0gdGhpcy5hY3Rvci5nZXRSZWNvaWxDb21wZW5zYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmM7XG4gICAgfVxuXG4gICAgZ2V0UmVhY2goKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNZWxlZVdlYXBvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEubWVsZWU/LnJlYWNoID8/IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgaGFzRGVmZW5zZVRlc3QoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/Lm9wcG9zZWQ/LnR5cGUgPT09ICdkZWZlbnNlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhV3JhcHBlciB9IGZyb20gJy4uL2RhdGFXcmFwcGVycy9EYXRhV3JhcHBlcic7XG5pbXBvcnQgU1I1SXRlbVR5cGUgPSBTaGFkb3dydW4uU1I1SXRlbVR5cGU7XG5pbXBvcnQgQ29uZGl0aW9uRGF0YSA9IFNoYWRvd3J1bi5Db25kaXRpb25EYXRhO1xuaW1wb3J0IE1vZExpc3QgPSBTaGFkb3dydW4uTW9kTGlzdDtcbmltcG9ydCBTUjVJdGVtRGF0YSA9IFNoYWRvd3J1bi5TUjVJdGVtRGF0YTtcblxuZXhwb3J0IGNsYXNzIFNSNUl0ZW1EYXRhV3JhcHBlciBleHRlbmRzIERhdGFXcmFwcGVyPFNSNUl0ZW1UeXBlPiB7XG4gICAgZ2V0RGF0YSgpOiBTUjVJdGVtRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YTtcbiAgICB9XG5cbiAgICBpc0FyZWFPZkVmZmVjdCgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gVE9ETyBmaWd1cmUgb3V0IGhvdyB0byBkZXRlY3QgZXhwbG9zaXZlIGFtbW9cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNHcmVuYWRlKCkgfHwgKHRoaXMuaXNTcGVsbCgpICYmIHRoaXMuZGF0YS5kYXRhLnJhbmdlID09PSAnbG9zX2EnKTsgLy98fCB0aGlzLmhhc0V4cGxvc2l2ZUFtbW8oKTtcbiAgICB9XG5cbiAgICBpc0FybW9yKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdhcm1vcic7XG4gICAgfVxuXG4gICAgaGFzQXJtb3JCYXNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNBcm1vcigpICYmICF0aGlzLmRhdGEuZGF0YS5hcm1vcj8ubW9kO1xuICAgIH1cblxuICAgIGhhc0FybW9yQWNjZXNzb3J5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNBcm1vcigpICYmICh0aGlzLmRhdGEuZGF0YS5hcm1vcj8ubW9kID8/IGZhbHNlKTtcbiAgICB9XG5cbiAgICBoYXNBcm1vcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXJtb3JWYWx1ZSgpID4gMDtcbiAgICB9XG5cbiAgICBpc0dyZW5hZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVGhyb3duV2VhcG9uKCkgJiYgKHRoaXMuZGF0YS5kYXRhLnRocm93bj8uYmxhc3QucmFkaXVzID8/IDApID4gMDtcbiAgICB9XG5cbiAgICBpc1Rocm93bldlYXBvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNXZWFwb24oKSAmJiB0aGlzLmRhdGEuZGF0YS5jYXRlZ29yeSA9PT0gJ3Rocm93bic7XG4gICAgfVxuXG4gICAgaXNXZWFwb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbic7XG4gICAgfVxuXG4gICAgaXNDeWJlcndhcmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ2N5YmVyd2FyZSc7XG4gICAgfVxuXG4gICAgaXNDb21iYXRTcGVsbCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTcGVsbCgpICYmIHRoaXMuZGF0YS5kYXRhLmNhdGVnb3J5ID09PSAnY29tYmF0JztcbiAgICB9XG5cbiAgICBpc1JhbmdlZFdlYXBvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNXZWFwb24oKSAmJiB0aGlzLmRhdGEuZGF0YS5jYXRlZ29yeSA9PT0gJ3JhbmdlJztcbiAgICB9XG5cbiAgICBpc1NwZWxsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdzcGVsbCc7XG4gICAgfVxuXG4gICAgaXNDb21wbGV4Rm9ybSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnY29tcGxleF9mb3JtJztcbiAgICB9XG5cbiAgICBpc01lbGVlV2VhcG9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICd3ZWFwb24nICYmIHRoaXMuZGF0YS5kYXRhLmNhdGVnb3J5ID09PSAnbWVsZWUnO1xuICAgIH1cblxuICAgIGlzRGV2aWNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICdkZXZpY2UnO1xuICAgIH1cblxuICAgIGlzRXF1aXBwZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS50ZWNobm9sb2d5Py5lcXVpcHBlZCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0N5YmVyZGVjaygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEZXZpY2UoKSAmJiB0aGlzLmRhdGEuZGF0YS5jYXRlZ29yeSA9PT0gJ2N5YmVyZGVjayc7XG4gICAgfVxuXG4gICAgZ2V0SWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5faWQ7XG4gICAgfVxuXG4gICAgZ2V0Qm9va1NvdXJjZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuZGVzY3JpcHRpb24uc291cmNlO1xuICAgIH1cblxuICAgIGdldENvbmRpdGlvbk1vbml0b3IoKTogQ29uZGl0aW9uRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS50ZWNobm9sb2d5Py5jb25kaXRpb25fbW9uaXRvciA/PyB7IHZhbHVlOiAwLCBtYXg6IDAsIGxhYmVsOiAnJyB9O1xuICAgIH1cblxuICAgIGdldFJhdGluZygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEudGVjaG5vbG9neT8ucmF0aW5nIHx8IDA7XG4gICAgfVxuXG4gICAgZ2V0QXJtb3JWYWx1ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGE/LmFybW9yPy52YWx1ZSA/PyAwO1xuICAgIH1cblxuICAgIGdldEFybW9yRWxlbWVudHMoKTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB7XG4gICAgICAgIC8vIFRPRE8gY2xlYW4gdGhpcyB1cFxuICAgICAgICBjb25zdCB7IGZpcmUsIGVsZWN0cmljaXR5LCBjb2xkLCBhY2lkIH0gPSB0aGlzLmRhdGEuZGF0YS5hcm1vciB8fCB7fTtcbiAgICAgICAgcmV0dXJuIHsgZmlyZTogZmlyZSA/PyAwLCBlbGVjdHJpY2l0eTogZWxlY3RyaWNpdHkgPz8gMCwgY29sZDogY29sZCA/PyAwLCBhY2lkOiBhY2lkID8/IDAgfTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubmFtZTtcbiAgICB9XG5cbiAgICBnZXRFc3NlbmNlTG9zcygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGE/LmVzc2VuY2UgPz8gMDtcbiAgICB9XG5cbiAgICBnZXRBbW1vKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuYW1tbztcbiAgICB9XG5cbiAgICBnZXRBU0RGKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEZXZpY2UoKSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBtYXRyaXggYXR0cmlidXRlcyBhcmUgc2V0IHVwIGFzIGFuIG9iamVjdFxuICAgICAgICBjb25zdCBtYXRyaXggPSB7XG4gICAgICAgICAgICBhdHRhY2s6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICBkZXZpY2VfYXR0OiAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbGVhemU6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICBkZXZpY2VfYXR0OiAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhX3Byb2Nlc3Npbmc6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRSYXRpbmcoKSxcbiAgICAgICAgICAgICAgICBkZXZpY2VfYXR0OiAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaXJld2FsbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmdldFJhdGluZygpLFxuICAgICAgICAgICAgICAgIGRldmljZV9hdHQ6ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5pc0N5YmVyZGVjaygpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHtcbiAgICAgICAgICAgICAqICAgICBhdHROOiB7XG4gICAgICAgICAgICAgKiAgICAgICAgIHZhbHVlOiBudW1iZXIsXG4gICAgICAgICAgICAgKiAgICAgICAgIGF0dDogc3RyaW5nICh0aGUgQVNERiBhdHRyaWJ1dGUpXG4gICAgICAgICAgICAgKiAgICAgfVxuICAgICAgICAgICAgICogfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBhdHRzOiB7IFtrZXk6IHN0cmluZ106IHsgdmFsdWU6IG51bWJlcjsgYXR0OiBzdHJpbmcgfSB9IHwgdW5kZWZpbmVkID0gdGhpcy5kYXRhLmRhdGEuYXR0cztcbiAgICAgICAgICAgIGlmIChhdHRzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgYXR0XSBvZiBPYmplY3QuZW50cmllcyhhdHRzKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRyaXhbYXR0LmF0dF0udmFsdWUgPSBhdHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeFthdHQuYXR0XS5kZXZpY2VfYXR0ID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuXG4gICAgZ2V0UXVhbnRpdHkoKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhPy50ZWNobm9sb2d5Py5xdWFudGl0eSB8fCAxO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkRpY2VQb29sTW9kKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/Lm1vZDtcbiAgICB9XG5cbiAgICBnZXRMaW1pdEF0dHJpYnV0ZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5saW1pdD8uYXR0cmlidXRlO1xuICAgIH1cblxuICAgIGdldEFjdGlvblNraWxsKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/LnNraWxsO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkF0dHJpYnV0ZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5hdHRyaWJ1dGU7XG4gICAgfVxuXG4gICAgZ2V0QWN0aW9uQXR0cmlidXRlMigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5hdHRyaWJ1dGUyO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkxpbWl0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/LmxpbWl0Py52YWx1ZTtcbiAgICB9XG5cbiAgICBnZXRNb2RpZmllckxpc3QoKTogTW9kTGlzdDxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmFjdGlvbj8uZGljZV9wb29sX21vZCB8fCBbXTtcbiAgICB9XG5cbiAgICBnZXRBY3Rpb25TcGVjaWFsaXphdGlvbigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5zcGVjKSByZXR1cm4gJ1NSNS5TcGVjaWFsaXphdGlvbic7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0RHJhaW4oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmRyYWluIHx8IDA7XG4gICAgfVxuXG4gICAgZ2V0RmFkZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuZmFkZSB8fCAwO1xuICAgIH1cblxuICAgIGdldFJlY29pbENvbXBlbnNhdGlvbigpOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMuaXNSYW5nZWRXZWFwb24oKSkgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLmRhdGEuZGF0YT8ucmFuZ2U/LnJjLnZhbHVlID8/ICcwJztcbiAgICAgICAgcmV0dXJuIE51bWJlcihiYXNlKTtcbiAgICB9XG5cbiAgICBnZXRSZWFjaCgpOiBudW1iZXIge1xuICAgICAgICBpZiAodGhpcy5pc01lbGVlV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5tZWxlZT8ucmVhY2ggPz8gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBoYXNEZWZlbnNlVGVzdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmFjdGlvbj8ub3Bwb3NlZD8udHlwZSA9PT0gJ2RlZmVuc2UnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IFNSNUl0ZW0gfSBmcm9tICcuL1NSNUl0ZW0nO1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgSXRlbVNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBTUjVJdGVtU2hlZXQgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICAgIGl0ZW06IFNSNUl0ZW07XG4gICAgcHJpdmF0ZSBfc2hvd25EZXNjOiBhbnlbXTtcbiAgICBwcml2YXRlIF9zY3JvbGw6IHN0cmluZztcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgICAgICB0aGlzLl9zaG93bkRlc2MgPSBbXTtcbiAgICB9XG5cbiAgICBnZXRFbWJlZGRlZEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtLml0ZW1zIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBTaW1wbGUgSXRlbSBTaGVldFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICAgICAgICBjbGFzc2VzOiBbJ3NyNScsICdzaGVldCcsICdpdGVtJ10sXG4gICAgICAgICAgICB3aWR0aDogNjUwLFxuICAgICAgICAgICAgaGVpZ2h0OiA0NTAsXG4gICAgICAgICAgICB0YWJzOiBbeyBuYXZTZWxlY3RvcjogJy50YWJzJywgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0Ym9keScgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vJztcbiAgICAgICAgcmV0dXJuIGAke3BhdGh9JHt0aGlzLml0ZW0uZGF0YS50eXBlfS5odG1sYDtcbiAgICB9XG5cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBkYXRhIGZvciByZW5kZXJpbmcgdGhlIEl0ZW0gc2hlZXRcbiAgICAgKiBUaGUgcHJlcGFyZWQgZGF0YSBvYmplY3QgY29udGFpbnMgYm90aCB0aGUgYWN0b3IgZGF0YSBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgc2hlZXQgb3B0aW9uc1xuICAgICAqL1xuICAgIGdldERhdGEoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzdXBlci5nZXREYXRhKCk7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gZGF0YS5kYXRhO1xuXG4gICAgICAgIGlmIChpdGVtRGF0YS5hY3Rpb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IGl0ZW1EYXRhO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24ubW9kID09PSAwKSBkZWxldGUgYWN0aW9uLm1vZDtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmxpbWl0ID09PSAwKSBkZWxldGUgYWN0aW9uLmxpbWl0O1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlLm1vZCA9PT0gMCkgZGVsZXRlIGFjdGlvbi5kYW1hZ2UubW9kO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmRhbWFnZS5hcC5tb2QgPT09IDApIGRlbGV0ZSBhY3Rpb24uZGFtYWdlLmFwLm1vZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5saW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmxpbWl0Lm1vZCA9PT0gMCkgZGVsZXRlIGFjdGlvbi5saW1pdC5tb2Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbURhdGEudGVjaG5vbG9neSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZWNoID0gaXRlbURhdGEudGVjaG5vbG9neTtcbiAgICAgICAgICAgICAgICBpZiAodGVjaC5yYXRpbmcgPT09IDApIGRlbGV0ZSB0ZWNoLnJhdGluZztcbiAgICAgICAgICAgICAgICBpZiAodGVjaC5xdWFudGl0eSA9PT0gMCkgZGVsZXRlIHRlY2gucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgaWYgKHRlY2guY29zdCA9PT0gMCkgZGVsZXRlIHRlY2guY29zdDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFbJ2NvbmZpZyddID0gQ09ORklHLlNSNTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmdldEVtYmVkZGVkSXRlbXMoKTtcbiAgICAgICAgY29uc3QgW2FtbXVuaXRpb24sIHdlYXBvbk1vZHMsIGFybW9yTW9kc10gPSBpdGVtcy5yZWR1Y2UoXG4gICAgICAgICAgICAocGFydHM6IFtJdGVtRGF0YVtdLCBJdGVtRGF0YVtdLCBJdGVtRGF0YVtdXSwgaXRlbTogU1I1SXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhbW1vJykgcGFydHNbMF0ucHVzaChpdGVtLmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtb2RpZmljYXRpb24nICYmIGl0ZW0uZGF0YS5kYXRhLnR5cGUgPT09ICd3ZWFwb24nKSBwYXJ0c1sxXS5wdXNoKGl0ZW0uZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21vZGlmaWNhdGlvbicgJiYgaXRlbS5kYXRhLmRhdGEudHlwZSA9PT0gJ2FybW9yJykgcGFydHNbMl0ucHVzaChpdGVtLmRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbW10sIFtdLCBbXV0sXG4gICAgICAgICk7XG4gICAgICAgIGRhdGFbJ2FtbXVuaXRpb24nXSA9IGFtbXVuaXRpb247XG4gICAgICAgIGRhdGFbJ3dlYXBvbk1vZHMnXSA9IHdlYXBvbk1vZHM7XG4gICAgICAgIGRhdGFbJ2FybW9yTW9kcyddID0gYXJtb3JNb2RzO1xuICAgICAgICAvLyBUT0RPIHNldCB0byB0aGUgcHJvcGVyIGJvb2xlYW4gZm9yIGlmIHRoZSBzb3VyY2UgUERGIGNhbiBiZSBhY2Nlc3NlZFxuICAgICAgICAvLyBJJ20gdGhpbmtpbmcgbWF5YmUgY2hlY2sgZm9yIHRoZSBtb2QgYmVpbmcgaW5zdGFsbGVkP1xuICAgICAgICBkYXRhWydoYXNTb3VyY2VQZGZBdmFpbGFibGUnXSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgcHJlcGFyZWQgc2hlZXQgSFRNTFxuICAgICAqIEBwYXJhbSBodG1sIC0gIFRoZSBwcmVwYXJlZCBIVE1MIG9iamVjdCByZWFkeSB0byBiZSByZW5kZXJlZCBpbnRvIHRoZSBET01cbiAgICAgKi9cbiAgICBhY3RpdmF0ZUxpc3RlbmVycyhodG1sKSB7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpO1xuICAgICAgICBpZiAodGhpcy5pdGVtLnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm0ub25kcmFnb3ZlciA9IChldmVudCkgPT4gdGhpcy5fb25EcmFnT3ZlcihldmVudCk7XG4gICAgICAgICAgICB0aGlzLmZvcm0ub25kcm9wID0gKGV2ZW50KSA9PiB0aGlzLl9vbkRyb3AoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGh0bWwuZmluZCgnLmFkZC1uZXctYW1tbycpLmNsaWNrKHRoaXMuX29uQWRkTmV3QW1tby5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuYW1tby1lcXVpcCcpLmNsaWNrKHRoaXMuX29uQW1tb0VxdWlwLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5hbW1vLWRlbGV0ZScpLmNsaWNrKHRoaXMuX29uQW1tb1JlbW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaHRtbC5maW5kKCcuYW1tby1yZWxvYWQnKS5jbGljayh0aGlzLl9vbkFtbW9SZWxvYWQuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuZWRpdC1pdGVtJykuY2xpY2sodGhpcy5fb25FZGl0SXRlbS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBodG1sLmZpbmQoJy5hZGQtbmV3LW1vZCcpLmNsaWNrKHRoaXMuX29uQWRkV2VhcG9uTW9kLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5tb2QtZXF1aXAnKS5jbGljayh0aGlzLl9vbldlYXBvbk1vZEVxdWlwLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5tb2QtZGVsZXRlJykuY2xpY2sodGhpcy5fb25XZWFwb25Nb2RSZW1vdmUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuYWRkLW5ldy1saWNlbnNlJykuY2xpY2sodGhpcy5fb25BZGRMaWNlbnNlLmJpbmQodGhpcykpO1xuICAgICAgICBodG1sLmZpbmQoJy5saWNlbnNlLWRlbGV0ZScpLm9uKCdjbGljaycsIHRoaXMuX29uUmVtb3ZlTGljZW5zZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBodG1sLmZpbmQoJy5vcGVuLXNvdXJjZS1wZGYnKS5vbignY2xpY2snLCB0aGlzLl9vbk9wZW5Tb3VyY2VQZGYuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaHRtbC5maW5kKCcuaGFzLWRlc2MnKS5jbGljaygoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcubGlzdC1pdGVtJyk7XG4gICAgICAgICAgICBjb25zdCBpaWQgPSAkKGl0ZW0pLmRhdGEoKS5pdGVtO1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBpdGVtLm5leHQoKTtcbiAgICAgICAgICAgIGZpZWxkLnRvZ2dsZSgpO1xuICAgICAgICAgICAgaWYgKGlpZCkge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pcygnOnZpc2libGUnKSkgdGhpcy5fc2hvd25EZXNjLnB1c2goaWlkKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX3Nob3duRGVzYyA9IHRoaXMuX3Nob3duRGVzYy5maWx0ZXIoKHZhbCkgPT4gdmFsICE9PSBpaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBodG1sLmZpbmQoJy5oaWRkZW4nKS5oaWRlKCk7XG4gICAgfVxuXG4gICAgX29uRHJhZ092ZXIoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkRyb3AoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSk7XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlICE9PSAnSXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2hhZG93cnVuNWUgfCBDYW4gb25seSBkcm9wIEl0ZW1zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NoYWRvd3J1bjVlIHwgZHJvcCBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpdGVtO1xuICAgICAgICAvLyBDYXNlIDEgLSBEYXRhIGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICAgICAgaWYgKGRhdGEuZGF0YSkge1xuICAgICAgICAgICAgLy8gVE9ETyB0ZXN0XG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtLmlzT3duZWQgJiYgZGF0YS5hY3RvcklkID09PSB0aGlzLml0ZW0uYWN0b3I/Ll9pZCAmJiBkYXRhLmRhdGEuX2lkID09PSB0aGlzLml0ZW0uX2lkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NoYWRvd3J1bjVlIHwgQ2FudCBkcm9wIGl0ZW0gb24gaXRzZWxmJyk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0FyZSB5b3UgdHJ5aW5nIHRvIGJyZWFrIHRoZSBnYW1lPz8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEucGFjaykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAvLyBDYXNlIDIgLSBGcm9tIGEgQ29tcGVuZGl1bSBQYWNrXG4gICAgICAgICAgICAvLyBUT0RPIHRlc3RcbiAgICAgICAgICAgIGl0ZW0gPSBhd2FpdCB0aGlzLl9nZXRJdGVtRnJvbUNvbGxlY3Rpb24oZGF0YS5wYWNrLCBkYXRhLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhc2UgMyAtIEZyb20gYSBXb3JsZCBFbnRpdHlcbiAgICAgICAgICAgIGl0ZW0gPSBnYW1lLml0ZW1zLmdldChkYXRhLmlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbS5jcmVhdGVPd25lZEl0ZW0oaXRlbS5kYXRhKTtcbiAgICB9XG5cbiAgICBfZ2V0SXRlbUZyb21Db2xsZWN0aW9uKGNvbGxlY3Rpb24sIGl0ZW1JZCkge1xuICAgICAgICBjb25zdCBwYWNrID0gZ2FtZS5wYWNrcy5maW5kKChwKSA9PiBwLmNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcGFjay5nZXRFbnRpdHkoaXRlbUlkKTtcbiAgICB9XG5cbiAgICBfZXZlbnRJZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcubGlzdC1pdGVtJykuZGF0YXNldC5pdGVtSWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uT3BlblNvdXJjZVBkZihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBhd2FpdCB0aGlzLml0ZW0ub3BlblBkZlNvdXJjZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkVkaXRJdGVtKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW0uZ2V0T3duZWRJdGVtKHRoaXMuX2V2ZW50SWQoZXZlbnQpKTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc2hlZXQucmVuZGVyKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQWRkTGljZW5zZShldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLml0ZW0uYWRkTmV3TGljZW5zZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vblJlbW92ZUxpY2Vuc2UoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB0aGlzLml0ZW0ucmVtb3ZlTGljZW5zZShpbmRleCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uV2VhcG9uTW9kUmVtb3ZlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuaXRlbS5kZWxldGVPd25lZEl0ZW0odGhpcy5fZXZlbnRJZChldmVudCkpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbldlYXBvbk1vZEVxdWlwKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuaXRlbS5lcXVpcFdlYXBvbk1vZCh0aGlzLl9ldmVudElkKGV2ZW50KSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQWRkV2VhcG9uTW9kKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSAnbW9kaWZpY2F0aW9uJztcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XG4gICAgICAgICAgICBuYW1lOiBgTmV3ICR7SGVscGVycy5sYWJlbCh0eXBlKX1gLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGR1cGxpY2F0ZShnYW1lLnN5c3RlbS5tb2RlbC5JdGVtLm1vZGlmaWNhdGlvbiksXG4gICAgICAgIH07XG4gICAgICAgIGl0ZW1EYXRhLmRhdGEudHlwZSA9ICd3ZWFwb24nO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBJdGVtLmNyZWF0ZU93bmVkKGl0ZW1EYXRhLCB0aGlzLml0ZW0pO1xuICAgICAgICB0aGlzLml0ZW0uY3JlYXRlT3duZWRJdGVtKGl0ZW0uZGF0YSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQW1tb1JlbG9hZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLml0ZW0ucmVsb2FkQW1tbygpO1xuICAgIH1cblxuICAgIGFzeW5jIF9vbkFtbW9SZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5pdGVtLmRlbGV0ZU93bmVkSXRlbSh0aGlzLl9ldmVudElkKGV2ZW50KSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX29uQW1tb0VxdWlwKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuaXRlbS5lcXVpcEFtbW8odGhpcy5fZXZlbnRJZChldmVudCkpO1xuICAgIH1cblxuICAgIF9vbkFkZE5ld0FtbW8oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgdHlwZSA9ICdhbW1vJztcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XG4gICAgICAgICAgICBuYW1lOiBgTmV3ICR7SGVscGVycy5sYWJlbCh0eXBlKX1gLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGR1cGxpY2F0ZShnYW1lLnN5c3RlbS5tb2RlbC5JdGVtLmFtbW8pLFxuICAgICAgICB9O1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBJdGVtLmNyZWF0ZU93bmVkKGl0ZW1EYXRhLCB0aGlzLml0ZW0pO1xuICAgICAgICB0aGlzLml0ZW0uY3JlYXRlT3duZWRJdGVtKGl0ZW0uZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluZEFjdGl2ZUxpc3QoKSB7XG4gICAgICAgIHJldHVybiAkKHRoaXMuZWxlbWVudCkuZmluZCgnLnRhYi5hY3RpdmUgLnNjcm9sbC1hcmVhJyk7XG4gICAgfVxuXG4gICAgLyoqIFRoaXMgaXMgbmVlZGVkIHRvIGNpcmN1bXZlbnQgQXBwbGljYXRpb24uY2xvc2Ugc2V0dGluZyBjbG9zZWQgc3RhdGUgZWFybHksIGR1ZSB0byBpdCdzIGFzeW5jIGFuaW1hdGlvblxuICAgICAqIC0gVGhlIGxlbmd0aCBvZiB0aGUgY2xvc2luZyBhbmltYXRpb24gY2FuJ3QgYmUgbG9uZ2VyIHRoZW4gYW55IGF3YWl0IHRpbWUgaW4gdGhlIGNsb3NpbmcgY3ljbGVcbiAgICAgKiAtIEZvcm1BcHBsaWNhdGlvbi5fb25TdWJtaXQgd2lsbCBvdGhlcndpc2Ugc2V0IC5fc3RhdGUgdG8gUkVOREVSRUQgZXZlbiBpZiB0aGUgQXBwbGljYXRpb24gd2luZG93IGhhcyBjbG9zZWQgYWxyZWFkeVxuICAgICAqIC0gU3Vic2VxdWVudCByZW5kZXIgY2FsbHMgdGhlbiB3aWxsIHNob3cgdGhlIHdpbmRvdyBhZ2FpbiwgZHVlIHRvIGl0J3Mgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBmaXhTdGFsZVJlbmRlcmVkU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gQXBwbGljYXRpb24uUkVOREVSX1NUQVRFUy5SRU5ERVJFRCAmJiB1aS53aW5kb3dzW3RoaXMuYXBwSWRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU1I1SXRlbVNoZWV0IGFwcCBmb3IgJHt0aGlzLmVudGl0eS5uYW1lfSBpcyBzZXQgYXMgUkVOREVSRUQgYnV0IGhhcyBubyB3aW5kb3cgcmVnaXN0ZXJlZC4gRml4aW5nIGFwcCBpbnRlcm5hbCByZW5kZXIgc3RhdGUuIFRoaXMgaXMgYSBrbm93biBidWcuYCk7XG4gICAgICAgICAgICAvLyBIb3RmaXhpbmcgaW5zdGVhZCBvZiB0aGlzLmNsb3NlKCkgc2luY2UgRm9ybUFwcGxpY2F0aW9uLmNsb3NlKCkgZXhwZWN0cyBmb3JtIGVsZW1lbnRzLCB3aGljaCBkb24ndCBleGlzdCBhbnltb3JlLlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBBcHBsaWNhdGlvbi5SRU5ERVJfU1RBVEVTLkNMT1NFRDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYXN5bmMgX3JlbmRlcihmb3JjZSA9IGZhbHNlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgLy8gTk9URTogVGhpcyBpcyBmb3IgYSB0aW1pbmcgYnVnLiBTZWUgZnVuY3Rpb24gZG9jIGZvciBjb2RlIHJlbW92YWwuIEdvb2QgbHVjaywgdGhlcmUgYmUgZHJhZ29ucyBoZXJlLiAtIHRhTVxuICAgICAgICB0aGlzLmZpeFN0YWxlUmVuZGVyZWRTdGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3NhdmVTY3JvbGxQb3NpdGlvbnMoKTtcbiAgICAgICAgYXdhaXQgc3VwZXIuX3JlbmRlcihmb3JjZSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3Jlc3RvcmVTY3JvbGxQb3NpdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXN0b3JlU2Nyb2xsUG9zaXRpb25zKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVMaXN0ID0gdGhpcy5fZmluZEFjdGl2ZUxpc3QoKTtcbiAgICAgICAgaWYgKGFjdGl2ZUxpc3QubGVuZ3RoICYmIHRoaXMuX3Njcm9sbCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhY3RpdmVMaXN0LnByb3AoJ3Njcm9sbFRvcCcsIHRoaXMuX3Njcm9sbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zYXZlU2Nyb2xsUG9zaXRpb25zKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVMaXN0ID0gdGhpcy5fZmluZEFjdGl2ZUxpc3QoKTtcbiAgICAgICAgaWYgKGFjdGl2ZUxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGwgPSBhY3RpdmVMaXN0LnByb3AoJ3Njcm9sbFRvcCcpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDcmVhdGUgYSBNYWNybyBmcm9tIGFuIEl0ZW0gZHJvcC5cbiAqIEdldCBhbiBleGlzdGluZyBpdGVtIG1hY3JvIGlmIG9uZSBleGlzdHMsIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgb25lLlxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gICAgIFRoZSBpdGVtIGRhdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBzbG90ICAgICBUaGUgaG90YmFyIHNsb3QgdG8gdXNlXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUl0ZW1NYWNybyhpdGVtLCBzbG90KSB7XG4gICAgY29uc3QgY29tbWFuZCA9IGBnYW1lLnNoYWRvd3J1bjVlLnJvbGxJdGVtTWFjcm8oXCIke2l0ZW0ubmFtZX1cIik7YDtcbiAgICBsZXQgbWFjcm8gPSBnYW1lLm1hY3Jvcy5lbnRpdGllcy5maW5kKChtKSA9PiBtLm5hbWUgPT09IGl0ZW0ubmFtZSk7XG4gICAgaWYgKCFtYWNybykge1xuICAgICAgICBtYWNybyA9IChhd2FpdCBNYWNyby5jcmVhdGUoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdzY3JpcHQnLFxuICAgICAgICAgICAgICAgIGltZzogaXRlbS5pbWcsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogY29tbWFuZCxcbiAgICAgICAgICAgICAgICBmbGFnczogeyAnc2hhZG93cnVuNWUuaXRlbU1hY3JvJzogdHJ1ZSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgZGlzcGxheVNoZWV0OiBmYWxzZSB9LFxuICAgICAgICApKSBhcyBNYWNybztcbiAgICB9XG4gICAgaWYgKG1hY3JvKSBnYW1lLnVzZXIuYXNzaWduSG90YmFyTWFjcm8obWFjcm8sIHNsb3QpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIE1hY3JvIGZyb20gYW4gSXRlbSBkcm9wLlxuICogR2V0IGFuIGV4aXN0aW5nIGl0ZW0gbWFjcm8gaWYgb25lIGV4aXN0cywgb3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBvbmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gaXRlbU5hbWVcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb2xsSXRlbU1hY3JvKGl0ZW1OYW1lKSB7XG4gICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKTtcbiAgICBsZXQgYWN0b3I7XG4gICAgaWYgKHNwZWFrZXIudG9rZW4pIGFjdG9yID0gZ2FtZS5hY3RvcnMudG9rZW5zW3NwZWFrZXIudG9rZW5dO1xuICAgIGlmICghYWN0b3IpIGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpO1xuICAgIGNvbnN0IGl0ZW0gPSBhY3RvciA/IGFjdG9yLml0ZW1zLmZpbmQoKGkpID0+IGkubmFtZSA9PT0gaXRlbU5hbWUpIDogbnVsbDtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy53YXJuKGBZb3VyIGNvbnRyb2xsZWQgQWN0b3IgZG9lcyBub3QgaGF2ZSBhbiBpdGVtIG5hbWVkICR7aXRlbU5hbWV9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW0ucG9zdENhcmQoKTtcbn0iLCJpbXBvcnQgeyBIYW5kbGViYXJNYW5hZ2VyIH0gZnJvbSAnLi9oYW5kbGViYXJzL0hhbmRsZWJhck1hbmFnZXInO1xuaW1wb3J0IHtIb29rc01hbmFnZXJ9IGZyb20gXCIuL2hvb2tzXCI7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgRm91bmRyeSBWVFQgSW5pdGlhbGl6YXRpb24gICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXG5Ib29rc01hbmFnZXIucmVnaXN0ZXJIb29rcygpO1xuSGFuZGxlYmFyTWFuYWdlci5yZWdpc3RlckhlbHBlcnMoKTsiLCJpbXBvcnQgeyBWZXJzaW9uTWlncmF0aW9uIH0gZnJvbSAnLi9WZXJzaW9uTWlncmF0aW9uJztcbmltcG9ydCB7IExlZ2FjeU1pZ3JhdGlvbiB9IGZyb20gJy4vdmVyc2lvbnMvTGVnYWN5TWlncmF0aW9uJztcbmltcG9ydCB7IFZlcnNpb24wXzZfNSB9IGZyb20gJy4vdmVyc2lvbnMvVmVyc2lvbjBfNl81JztcbmltcG9ydCB7IFZlcnNpb24wXzZfMTAgfSBmcm9tICcuL3ZlcnNpb25zL1ZlcnNpb24wXzZfMTAnO1xuaW1wb3J0IHtWZXJzaW9uMF83XzJ9IGZyb20gXCIuL3ZlcnNpb25zL1ZlcnNpb24wXzdfMlwiO1xuXG50eXBlIFZlcnNpb25EZWZpbml0aW9uID0ge1xuICAgIHZlcnNpb25OdW1iZXI6IHN0cmluZztcbiAgICBtaWdyYXRpb246IFZlcnNpb25NaWdyYXRpb247XG59O1xuZXhwb3J0IGNsYXNzIE1pZ3JhdG9yIHtcbiAgICAvLyBNYXAgb2YgYWxsIHZlcnNpb24gbWlncmF0aW9ucyB0byB0aGVpciB0YXJnZXQgdmVyc2lvbiBudW1iZXJzLlxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHNfVmVyc2lvbnM6IFZlcnNpb25EZWZpbml0aW9uW10gPSBbXG4gICAgICAgIHsgdmVyc2lvbk51bWJlcjogTGVnYWN5TWlncmF0aW9uLlRhcmdldFZlcnNpb24sIG1pZ3JhdGlvbjogbmV3IExlZ2FjeU1pZ3JhdGlvbigpIH0sXG4gICAgICAgIHsgdmVyc2lvbk51bWJlcjogVmVyc2lvbjBfNl81LlRhcmdldFZlcnNpb24sIG1pZ3JhdGlvbjogbmV3IFZlcnNpb24wXzZfNSgpIH0sXG4gICAgICAgIHsgdmVyc2lvbk51bWJlcjogVmVyc2lvbjBfNl8xMC5UYXJnZXRWZXJzaW9uLCBtaWdyYXRpb246IG5ldyBWZXJzaW9uMF82XzEwKCkgfSxcbiAgICAgICAgeyB2ZXJzaW9uTnVtYmVyOiBWZXJzaW9uMF83XzIuVGFyZ2V0VmVyc2lvbiwgbWlncmF0aW9uOiBuZXcgVmVyc2lvbjBfN18yKCkgfSxcbiAgICBdO1xuXG4gICAgLy9UT0RPOiBDYWxsIG9uIEluaXQoKVxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgQmVnaW5NaWdyYXRpb24oKSB7XG4gICAgICAgIGxldCBjdXJyZW50VmVyc2lvbiA9IGdhbWUuc2V0dGluZ3MuZ2V0KFZlcnNpb25NaWdyYXRpb24uTU9EVUxFX05BTUUsIFZlcnNpb25NaWdyYXRpb24uS0VZX0RBVEFfVkVSU0lPTik7XG4gICAgICAgIGlmIChjdXJyZW50VmVyc2lvbiA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRWZXJzaW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VmVyc2lvbiA9IFZlcnNpb25NaWdyYXRpb24uTk9fVkVSU0lPTjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbnMgPSBNaWdyYXRvci5zX1ZlcnNpb25zLmZpbHRlcigoeyB2ZXJzaW9uTnVtYmVyIH0pID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHZlcnNpb25OVW1iZXIgaXMgZ3JlYXRlciB0aGFuIGN1cnJlbnRWZXJzaW9uLCB3ZSBuZWVkIHRvIGFwcGx5IHRoaXMgbWlncmF0aW9uXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlVmVyc2lvbih2ZXJzaW9uTnVtYmVyLCBjdXJyZW50VmVyc2lvbikgPT09IDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE5vIG1pZ3JhdGlvbnMgYXJlIHJlcXVpcmVkLCBleGl0LlxuICAgICAgICBpZiAobWlncmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5XYXJuaW5nVGl0bGUnKTtcbiAgICAgICAgY29uc3QgbG9jYWxpemVkV2FybmluZ0hlYWRlciA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5XYXJuaW5nSGVhZGVyJyk7XG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdSZXF1aXJlZCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5XYXJuaW5nUmVxdWlyZWQnKTtcbiAgICAgICAgY29uc3QgbG9jYWxpemVkV2FybmluZ0Rlc2NyaXB0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLldhcm5pbmdEZXNjcmlwdGlvbicpO1xuICAgICAgICBjb25zdCBsb2NhbGl6ZWRXYXJuaW5nQmFja3VwID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLldhcm5pbmdCYWNrdXAnKTtcbiAgICAgICAgY29uc3QgbG9jYWxpemVkV2FybmluZ0JlZ2luID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLkJlZ2luTWlncmF0aW9uJyk7XG5cbiAgICAgICAgY29uc3QgZCA9IG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplZFdhcm5pbmdUaXRsZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICAgICAgYDxoMiBzdHlsZT1cImNvbG9yOiByZWQ7IHRleHQtYWxpZ246IGNlbnRlclwiPiR7bG9jYWxpemVkV2FybmluZ0hlYWRlcn08L2gyPmAgK1xuICAgICAgICAgICAgICAgIGA8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiPjxpPiR7bG9jYWxpemVkV2FybmluZ1JlcXVpcmVkfTwvaT48L3A+YCArXG4gICAgICAgICAgICAgICAgYDxwPiR7bG9jYWxpemVkV2FybmluZ0Rlc2NyaXB0aW9ufTwvcD5gICtcbiAgICAgICAgICAgICAgICBgPGgzIHN0eWxlPVwiY29sb3I6IHJlZFwiPiR7bG9jYWxpemVkV2FybmluZ0JhY2t1cH08L2gzPmAsXG4gICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgb2s6IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxvY2FsaXplZFdhcm5pbmdCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMubWlncmF0ZShtaWdyYXRpb25zKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdvaycsXG4gICAgICAgIH0pO1xuICAgICAgICBkLnJlbmRlcih0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBtaWdyYXRlKG1pZ3JhdGlvbnM6IFZlcnNpb25EZWZpbml0aW9uW10pIHtcbiAgICAgICAgLy8gd2Ugd2FudCB0byBhcHBseSBtaWdyYXRpb25zIGluIGFzY2VuZGluZyBvcmRlciB1bnRpbCB3ZSdyZSB1cCB0byB0aGUgbGF0ZXN0XG4gICAgICAgIG1pZ3JhdGlvbnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVZlcnNpb24oYS52ZXJzaW9uTnVtYmVyLCBiLnZlcnNpb25OdW1iZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCB0aGlzLm1pZ3JhdGVXb3JsZChnYW1lLCBtaWdyYXRpb25zKTtcbiAgICAgICAgYXdhaXQgdGhpcy5taWdyYXRlQ29tcGVuZGl1bShnYW1lLCBtaWdyYXRpb25zKTtcblxuICAgICAgICBjb25zdCBsb2NhbGl6ZWRXYXJuaW5nVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc1RpdGxlJyk7XG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdIZWFkZXIgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc0hlYWRlcicpO1xuICAgICAgICBjb25zdCBsb2NhbGl6ZWRTdWNjZXNzRGVzY3JpcHRpb24gPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc0Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFN1Y2Nlc3NQYWNrc0luZm8gPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc1BhY2tzSW5mbycpO1xuICAgICAgICBjb25zdCBsb2NhbGl6ZWRTdWNjZXNzQ29uZmlybSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5TdWNjZXNzQ29uZmlybScpO1xuICAgICAgICBjb25zdCBwYWNrc0RpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplZFdhcm5pbmdUaXRsZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICAgICAgYDxoMiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6IGdyZWVuXCI+JHtsb2NhbGl6ZWRXYXJuaW5nSGVhZGVyfTwvaDI+YCArXG4gICAgICAgICAgICAgICAgYDxwPiR7bG9jYWxpemVkU3VjY2Vzc0Rlc2NyaXB0aW9ufTwvcD5gICtcbiAgICAgICAgICAgICAgICBgPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIj48aT4ke2xvY2FsaXplZFN1Y2Nlc3NQYWNrc0luZm99PC9pPjwvcD5gLFxuICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICAgIG9rOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT4nLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogbG9jYWxpemVkU3VjY2Vzc0NvbmZpcm0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0OiAnb2snLFxuICAgICAgICB9KTtcbiAgICAgICAgcGFja3NEaWFsb2cucmVuZGVyKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgYWxsIHdvcmxkIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gZ2FtZVxuICAgICAqIEBwYXJhbSBtaWdyYXRpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgbWlncmF0ZVdvcmxkKGdhbWU6IEdhbWUsIG1pZ3JhdGlvbnM6IFZlcnNpb25EZWZpbml0aW9uW10pIHtcbiAgICAgICAgLy8gUnVuIHRoZSBtaWdyYXRpb25zIGluIG9yZGVyXG4gICAgICAgIGZvciAoY29uc3QgeyBtaWdyYXRpb24gfSBvZiBtaWdyYXRpb25zKSB7XG4gICAgICAgICAgICBhd2FpdCBtaWdyYXRpb24uTWlncmF0ZShnYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBhbGwgd29ybGQgY29tcGVuZGl1bSBwYWNrc1xuICAgICAqIEBwYXJhbSBnYW1lIEdhbWUgdGhhdCB3aWxsIGJlIG1pZ3JhdGVkXG4gICAgICogQHBhcmFtIG1pZ3JhdGlvbnMgSW5zdGFuY2VzIG9mIHRoZSB2ZXJzaW9uIG1pZ3JhdGlvblxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIG1pZ3JhdGVDb21wZW5kaXVtKGdhbWU6IEdhbWUsIG1pZ3JhdGlvbnM6IFZlcnNpb25EZWZpbml0aW9uW10pIHtcbiAgICAgICAgLy8gTWlncmF0ZSBXb3JsZCBDb21wZW5kaXVtIFBhY2tzXG4gICAgICAgIGNvbnN0IHBhY2tzID0gZ2FtZS5wYWNrcy5maWx0ZXIoKHBhY2spID0+IHBhY2subWV0YWRhdGEucGFja2FnZSA9PT0gJ3dvcmxkJyAmJiBbJ0FjdG9yJywgJ0l0ZW0nLCAnU2NlbmUnXS5pbmNsdWRlcyhwYWNrLm1ldGFkYXRhLmVudGl0eSkpO1xuXG4gICAgICAgIC8vIFJ1biB0aGUgbWlncmF0aW9ucyBpbiBvcmRlciBvbiBlYWNoIHBhY2suXG4gICAgICAgIGZvciAoY29uc3QgcGFjayBvZiBwYWNrcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IG1pZ3JhdGlvbiB9IG9mIG1pZ3JhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBtaWdyYXRpb24uTWlncmF0ZUNvbXBlbmRpdW1QYWNrKHBhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZm91bmQgYXQ6IGh0dHBzOi8vaGVsbG9hY20uY29tL3RoZS1qYXZhc2NyaXB0LWZ1bmN0aW9uLXRvLWNvbXBhcmUtdmVyc2lvbi1udW1iZXItc3RyaW5ncy9cbiAgICAvLyB1cGRhdGVkIGZvciB0eXBlc2NyaXB0XG4gICAgLyoqXG4gICAgICogY29tcGFyZSB0d28gdmVyc2lvbiBudW1iZXJzLCByZXR1cm5zIDEgaWYgdjEgPiB2MiwgLTEgaWYgdjEgPCB2MiwgMCBpZiBlcXVhbFxuICAgICAqIEBwYXJhbSB2MVxuICAgICAqIEBwYXJhbSB2MlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY29tcGFyZVZlcnNpb24odjE6IHN0cmluZywgdjI6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzMSA9IHYxLnNwbGl0KCcuJykubWFwKChzKSA9PiBwYXJzZUludChzLCAxMCkpO1xuICAgICAgICBjb25zdCBzMiA9IHYyLnNwbGl0KCcuJykubWFwKChzKSA9PiBwYXJzZUludChzLCAxMCkpO1xuICAgICAgICBjb25zdCBrID0gTWF0aC5taW4odjEubGVuZ3RoLCB2Mi5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGs7ICsraSkge1xuICAgICAgICAgICAgaWYgKHMxW2ldID4gczJbaV0pIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKHMxW2ldIDwgczJbaV0pIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdjEubGVuZ3RoID09PSB2Mi5sZW5ndGggPyAwIDogdjEubGVuZ3RoIDwgdjIubGVuZ3RoID8gLTEgOiAxO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNSNUFjdG9yIH0gZnJvbSAnLi4vYWN0b3IvU1I1QWN0b3InO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgZ2FtZSdzIGRhdGEgbW9kZWwgZnJvbSBzb3VyY2UgdmVyc2lvbiB0byBhIHRhcmdldCB2ZXJzaW9uLlxuICogRXh0ZW5kaW5nIGNsYXNzZXMgYXJlIG9ubHkgcmVxdWlyZWQgdG8gaGFuZGxlIGl0ZW1zLCBhY3RvcnMsIGFuZCBzY2VuZXMsXG4gKiAgb3RoZXIgbWV0aG9kcyBhcmUgaW1wbGVtZW50YWJsZSBwdXJlbHkgZm9yIGNvbnZlbmllbmNlIGFuZCBhdG9taWNpdHkuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBWZXJzaW9uTWlncmF0aW9uIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgTU9EVUxFX05BTUUgPSAnc2hhZG93cnVuNWUnO1xuICAgIHN0YXRpYyByZWFkb25seSBLRVlfREFUQV9WRVJTSU9OID0gJ3N5c3RlbU1pZ3JhdGlvblZlcnNpb24nO1xuICAgIHN0YXRpYyByZWFkb25seSBOT19WRVJTSU9OID0gJzAnO1xuXG4gICAgcHJpdmF0ZSBtX0Fib3J0OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBtX0Fib3J0UmVhc29uOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxsb3dlZCB2ZXJzaW9uIHRoaXMgbWlncmF0b3Igc2hvdWxkIGJlIGFibGUgdG8gb3BlcmF0ZSBvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRpbmcgdmVyc2lvbiB0aGlzIG1pZ3JhdG9yIHdpbGwgcHJvZHVjZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nO1xuXG4gICAgcHVibGljIGdldCBTb3VyY2VWZXJzaW9uRnJpZW5kbHlOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgdiR7dGhpcy5Tb3VyY2VWZXJzaW9ufWA7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgVGFyZ2V0VmVyc2lvbkZyaWVuZGx5TmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYHYke3RoaXMuVGFyZ2V0VmVyc2lvbn1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYWcgdGhlIG1pZ3JhdGlvbiB0byBiZSBhYm9ydGVkLlxuICAgICAqIEBwYXJhbSByZWFzb24gVGhlIHJlYXNvbiB0aGF0IHRoZSBtaWdyYXRpb24gbXVzdCBiZSBhYm9ydGVkLCB0byBiZSBkaXNwbGF5ZWRcbiAgICAgKiAgdG8gdGhlIHVzZXIgYW5kIHJldHVybmVkIGZyb20gdGhlIG1pZ3JhdGlvbiBjYWxsLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhYm9ydChyZWFzb246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLm1fQWJvcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLm1fQWJvcnRSZWFzb24gPSByZWFzb247XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihgRGF0YSBtaWdyYXRpb24gaGFzIGJlZW4gYWJvcnRlZDogJHtyZWFzb259YCwgeyBwZXJtYW5lbnQ6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVnaW4gbWlncmF0aW9uIGZvciB0aGUgc3BlY2lmaWVkIGdhbWUuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIHdvcmxkIHRoYXQgc2hvdWxkIGJlIG1pZ3JhdGVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBNaWdyYXRlKGdhbWU6IEdhbWUpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPIFVuaWdub3JlIHdoZW4gRm91bmRyeSBUeXBlcyB1cGRhdGVzXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhgQmVnaW5uaW5nIFNoYWRvd3J1biBzeXN0ZW0gbWlncmF0aW9uIGZyb20gdmVyc2lvbiAke3RoaXMuU291cmNlVmVyc2lvbkZyaWVuZGx5TmFtZX0gdG8gJHt0aGlzLlRhcmdldFZlcnNpb25GcmllbmRseU5hbWV9LmApO1xuICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE8gVW5pZ25vcmUgd2hlbiBGb3VuZHJ5IFR5cGVzIHVwZGF0ZXNcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGBQbGVhc2UgZG8gbm90IGNsb3NlIHlvdXIgZ2FtZSBvciBzaHV0ZG93biBGb3VuZHJ5VlRULmAsIHtcbiAgICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWFwIG9mIGVudGl0aWVzIHRvIHVwZGF0ZSwgc3RvcmUgdW50aWwgbGF0ZXIgdG8gcmVkdWNlIGNoYW5jZSBvZiBwYXJ0aWFsIHVwZGF0ZXNcbiAgICAgICAgLy8gd2hpY2ggbWF5IHJlc3VsdCBpbiBpbXBvc3NpYmxlIGdhbWUgc3RhdGVzLlxuICAgICAgICBjb25zdCBlbnRpdHlVcGRhdGVzOiBNYXA8RW50aXR5LCBFbnRpdHlVcGRhdGU+ID0gbmV3IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4oKTtcblxuICAgICAgICAvLyBNaWdyYXRlIFdvcmxkIEl0ZW1zXG4gICAgICAgIGF3YWl0IHRoaXMuUHJlTWlncmF0ZUl0ZW1EYXRhKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xuICAgICAgICBpZiAodGhpcy5tX0Fib3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5tX0Fib3J0UmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLkl0ZXJhdGVJdGVtcyhnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5Qb3N0TWlncmF0ZUl0ZW1EYXRhKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xuICAgICAgICBpZiAodGhpcy5tX0Fib3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5tX0Fib3J0UmVhc29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1pZ3JhdGUgV29ybGQgQWN0b3JzXG4gICAgICAgIGF3YWl0IHRoaXMuUHJlTWlncmF0ZUFjdG9yRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMubV9BYm9ydFJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5JdGVyYXRlQWN0b3JzKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xuICAgICAgICBhd2FpdCB0aGlzLlBvc3RNaWdyYXRlQWN0b3JEYXRhKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xuICAgICAgICBpZiAodGhpcy5tX0Fib3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5tX0Fib3J0UmVhc29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1pZ3JhdGUgQWN0b3IgVG9rZW5zXG4gICAgICAgIGF3YWl0IHRoaXMuUHJlTWlncmF0ZVNjZW5lRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMubV9BYm9ydFJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5JdGVyYXRlU2NlbmVzKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xuICAgICAgICBhd2FpdCB0aGlzLlBvc3RNaWdyYXRlU2NlbmVEYXRhKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xuICAgICAgICBpZiAodGhpcy5tX0Fib3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5tX0Fib3J0UmVhc29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IHRoZSB1cGRhdGVzLCB0aGlzIHNob3VsZCAqYWx3YXlzKiB3b3JrLCBub3cgdGhhdCBwYXJzaW5nIGlzIGNvbXBsZXRlLlxuICAgICAgICBhd2FpdCB0aGlzLkFwcGx5KGVudGl0eVVwZGF0ZXMpO1xuXG4gICAgICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KFZlcnNpb25NaWdyYXRpb24uTU9EVUxFX05BTUUsIFZlcnNpb25NaWdyYXRpb24uS0VZX0RBVEFfVkVSU0lPTiwgdGhpcy5UYXJnZXRWZXJzaW9uKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPIFVuaWdub3JlIHdoZW4gRm91bmRyeSBUeXBlcyB1cGRhdGVzXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhgU2hhZG93cnVuIHN5c3RlbSBtaWdyYXRpb24gc3VjY2Vzc2Z1bGx5IG1pZ3JhdGVkIHRvIHZlcnNpb24gJHt0aGlzLlRhcmdldFZlcnNpb259LmAsIHsgcGVybWFuZW50OiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIHNwZWNpZmllZCBtYXBwaW5nIG9mIGVudGl0aWVzLCBpdGVyYXRpdmVseSB1cGRhdGluZyBlYWNoLlxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIEEgbWFwcGluZyBvZiBlbnRpdHkgdXBkYXRlRGF0YSBwYWlycy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgQXBwbHkoZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPikge1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIHsgdXBkYXRlRGF0YSwgZW1iZWRkZWRJdGVtcyB9XSBvZiBlbnRpdHlVcGRhdGVzKSB7XG4gICAgICAgICAgICBpZiAoZW1iZWRkZWRJdGVtcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdG9yID0gZW50aXR5IGFzIFNSNUFjdG9yO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFjdG9yLnVwZGF0ZU93bmVkSXRlbShlbWJlZGRlZEl0ZW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGVudGl0eS51cGRhdGUodXBkYXRlRGF0YSwgeyBlbmZvcmNlVHlwZXM6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBzY2VuZXMgYW5kIG1pZ3JhdGUgZWFjaCBpZiBuZWVkZWQuXG4gICAgICogQHBhcmFtIGdhbWVcbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBJdGVyYXRlU2NlbmVzKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pIHtcbiAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiBnYW1lLnNjZW5lcy5lbnRpdGllcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIShhd2FpdCB0aGlzLlNob3VsZE1pZ3JhdGVTY2VuZURhdGEoc2NlbmUpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2NlbmUuX2lkID09PSAnTUF3U0ZobFhSaXBpeE9XdycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NjZW5lIFByZS1VcGRhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2NlbmUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRpbmcgU2NlbmUgZW50aXR5ICR7c2NlbmUubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlU2NlbmVEYXRhKGR1cGxpY2F0ZShzY2VuZS5kYXRhKSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgaGFzVG9rZW5VcGRhdGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YS50b2tlbnMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5kYXRhLnRva2Vucy5tYXAoYXN5bmMgKHRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh0b2tlbi5hY3RvckRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5EYXRhVXBkYXRlID0gYXdhaXQgdGhpcy5NaWdyYXRlQWN0b3JEYXRhKHRva2VuLmFjdG9yRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkodG9rZW5EYXRhVXBkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Rva2VuVXBkYXRlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5EYXRhVXBkYXRlWydfaWQnXSA9IHRva2VuLl9pZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gZHVwbGljYXRlKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdUb2tlbi5hY3RvckRhdGEgPSBhd2FpdCBtZXJnZU9iamVjdCh0b2tlbi5hY3RvckRhdGEsIHRva2VuRGF0YVVwZGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmZvcmNlVHlwZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBsYWNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHNjZW5lLl9pZCA9PT0gJ01Bd1NGaGxYUmlwaXhPV3cnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTY2VuZSBQcmUtVXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjZW5lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgZW50aXR5VXBkYXRlcy5zZXQoc2NlbmUsIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkZWRJdGVtczogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGl0ZW1zIGFuZCBtaWdyYXRlIGVhY2ggaWYgbmVlZGVkLlxuICAgICAqIEBwYXJhbSBnYW1lIFRoZSBnYW1lIHRvIGJlIHVwZGF0ZWQuXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBJdGVyYXRlSXRlbXMoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPikge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2FtZS5pdGVtcy5lbnRpdGllcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIShhd2FpdCB0aGlzLlNob3VsZE1pZ3JhdGVJdGVtRGF0YShpdGVtLmRhdGEpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0aW5nIEl0ZW06ICR7aXRlbS5uYW1lfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBhd2FpdCB0aGlzLk1pZ3JhdGVJdGVtRGF0YShpdGVtLmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkodXBkYXRlRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXhwYW5kT2JqZWN0KHVwZGF0ZURhdGEpO1xuICAgICAgICAgICAgICAgIGVudGl0eVVwZGF0ZXMuc2V0KGl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkZWRJdGVtczogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGFjdG9ycyBhbmQgbWlncmF0ZSBlYWNoIGlmIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIFRoZSBjdXJyZW50IG1hcCBvZiBlbnRpdHkgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgSXRlcmF0ZUFjdG9ycyhnYW1lOiBHYW1lLCBlbnRpdHlVcGRhdGVzOiBNYXA8RW50aXR5LCBFbnRpdHlVcGRhdGU+KSB7XG4gICAgICAgIGZvciAoY29uc3QgYWN0b3Igb2YgZ2FtZS5hY3RvcnMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5TaG91bGRNaWdyYXRlQWN0b3JEYXRhKGFjdG9yLmRhdGEpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0aW5nIEFjdG9yICR7YWN0b3IubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhY3Rvcik7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IGF3YWl0IHRoaXMuTWlncmF0ZUFjdG9yRGF0YShkdXBsaWNhdGUoYWN0b3IuZGF0YSkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZURhdGEpO1xuICAgICAgICAgICAgICAgIGxldCBpdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVEYXRhLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gdXBkYXRlRGF0YS5pdGVtcztcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHVwZGF0ZURhdGEuaXRlbXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXhwYW5kT2JqZWN0KHVwZGF0ZURhdGEpO1xuXG4gICAgICAgICAgICAgICAgZW50aXR5VXBkYXRlcy5zZXQoYWN0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkZWRJdGVtczogaXRlbXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG92ZXIgYW4gYWN0b3IncyBpdGVtcywgdXBkYXRpbmcgdGhvc2UgdGhhdCBuZWVkIHVwZGF0aW5nLlxuICAgICAqIEBwYXJhbSBhY3RvckRhdGEgVGhlIGFjdG9yIHRvIGl0ZXJhdGUgb3ZlclxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhIFRoZSBleGlzdGluZyB1cGRhdGUgZGF0YSB0byBtZXJnZSBpbnRvXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIEl0ZXJhdGVBY3Rvckl0ZW1zKGFjdG9yRGF0YTogQWN0b3JEYXRhLCB1cGRhdGVEYXRhKSB7XG4gICAgICAgIGxldCBoYXNJdGVtVXBkYXRlcyA9IGZhbHNlO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChhY3RvckRhdGEuaXRlbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgYWN0b3JEYXRhLml0ZW1zLm1hcChhc3luYyAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbVVwZGF0ZSA9IGF3YWl0IHRoaXMuTWlncmF0ZUl0ZW1EYXRhKGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3RFbXB0eShpdGVtVXBkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzSXRlbVVwZGF0ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVVwZGF0ZVsnX2lkJ10gPSBpdGVtLl9pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBtZXJnZU9iamVjdChpdGVtLCBpdGVtVXBkYXRlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5mb3JjZVR5cGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnBsYWNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoaGFzSXRlbVVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLml0ZW1zID0gaXRlbXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlRGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNjZW5lIHJlcXVpcmVzIHVwZGF0ZXMuXG4gICAgICogQHBhcmFtIHNjZW5lIFRoZSBzY2VuZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRydWUgb3IgZmFsc2UuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVTY2VuZURhdGEoc2NlbmU6IFNjZW5lKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWlncmF0ZSB0aGUgc3BlY2lmaWVkIHNjZW5lJ3MgZGF0YS5cbiAgICAgKiBAcGFyYW0gc2NlbmUgVGhlIHNjZW5lIHRvIG1pZ3JhdGUuXG4gICAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB1cGRhdGUgZGF0YS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZVNjZW5lRGF0YShzY2VuZTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEbyBzb21ldGhpbmcgcmlnaHQgYmVmb3JlIHNjZW5lIGRhdGEgaXMgbWlncmF0ZWQuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFByZU1pZ3JhdGVTY2VuZURhdGEoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPik6IFByb21pc2U8dm9pZD4ge31cbiAgICAvKipcbiAgICAgKiBEbyBzb21ldGhpbmcgcmlnaHQgYmVmb3JlIHNjZW5lIGRhdGEgaXMgbWlncmF0ZWQuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFBvc3RNaWdyYXRlU2NlbmVEYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhbiBpdGVtIHJlcXVpcmVzIHVwZGF0ZXMuXG4gICAgICogQHBhcmFtIGl0ZW0gVGhlIGl0ZW0gdG8gY2hlY2suXG4gICAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0cnVlIG9yIGZhbHNlLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlSXRlbURhdGEoaXRlbTogRW50aXR5RGF0YSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgdGhlIHNwZWNpZmllZCBpdGVtJ3MgZGF0YS5cbiAgICAgKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0byBtaWdyYXRlLlxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlIGRhdGEuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVJdGVtRGF0YShpdGVtOiBFbnRpdHlEYXRhKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEbyBzb21ldGhpbmcgcmlnaHQgYmVmb3JlIGl0ZW0gZGF0YSBpcyBtaWdyYXRlZC5cbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIFRoZSBjdXJyZW50IG1hcCBvZiBlbnRpdHkgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgUHJlTWlncmF0ZUl0ZW1EYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XG4gICAgLyoqXG4gICAgICogRG8gc29tZXRoaW5nIHJpZ2h0IGJlZm9yZSBpdGVtIGRhdGEgaXMgbWlncmF0ZWQuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFBvc3RNaWdyYXRlSXRlbURhdGEoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPik6IFByb21pc2U8dm9pZD4ge31cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGFuIGFjdG9yIHJlcXVpcmVzIHVwZGF0ZXMuXG4gICAgICogQHBhcmFtIGFjdG9yIFRoZSBhY3RvciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRydWUgb3IgZmFsc2UuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVBY3RvckRhdGEoYWN0b3I6IEFjdG9yRGF0YSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1pZ3JhdGUgdGhlIHNwZWNpZmllZCBhY3RvcidzIGRhdGEuXG4gICAgICogQHBhcmFtIGFjdG9yIFRoZSBhY3RvciB0byBtaWdyYXRlLlxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlIGRhdGEuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVBY3RvckRhdGEoYWN0b3I6IEFjdG9yRGF0YSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG8gc29tZXRoaW5nIHJpZ2h0IGJlZm9yZSBhY3RvciBkYXRhIGlzIG1pZ3JhdGVkLlxuICAgICAqIEBwYXJhbSBnYW1lIFRoZSBnYW1lIHRvIGJlIHVwZGF0ZWQuXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBQcmVNaWdyYXRlQWN0b3JEYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XG4gICAgLyoqXG4gICAgICogRG8gc29tZXRoaW5nIHJpZ2h0IGFmdGVyIGFjdG9yIGRhdGEgaXMgbWlncmF0ZWQuXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFBvc3RNaWdyYXRlQWN0b3JEYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgICAvKipcbiAgICAgKiBNaWdyYXRlIGEgY29tcGVuZGl1bSBwYWNrXG4gICAgICogQHBhcmFtIHBhY2tcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgTWlncmF0ZUNvbXBlbmRpdW1QYWNrKHBhY2s6IENvbXBlbmRpdW0pIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gcGFjay5tZXRhZGF0YS5lbnRpdHk7XG4gICAgICAgIGlmICghWydBY3RvcicsICdJdGVtJywgJ1NjZW5lJ10uaW5jbHVkZXMoZW50aXR5KSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJlZ2luIGJ5IHJlcXVlc3Rpbmcgc2VydmVyLXNpZGUgZGF0YSBtb2RlbCBtaWdyYXRpb24gYW5kIGdldCB0aGUgbWlncmF0ZWQgY29udGVudFxuICAgICAgICBhd2FpdCBwYWNrLm1pZ3JhdGUoe30pO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgcGFjay5nZXRDb250ZW50KCk7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGNvbXBlbmRpdW0gZW50cmllcyAtIGFwcGx5aW5nIGZpbmUtdHVuZWQgbWlncmF0aW9uIGZ1bmN0aW9uc1xuICAgICAgICBmb3IgKGxldCBlbnQgb2YgY29udGVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlRGF0YTogYW55ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5ID09PSAnSXRlbScpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSA9IGF3YWl0IHRoaXMuTWlncmF0ZUl0ZW1EYXRhKGVudC5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ19pZCddID0gZW50Ll9pZDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFjay51cGRhdGVFbnRpdHkodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFVuY29tbWVudCB3aGVuIGZvdW5kcnkgYWxsb3dzIGVtYmVkZGVkcyB0byBiZSB1cGRhdGVkIGluIHBhY2tzXG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAoZW50aXR5ID09PSAnQWN0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlQWN0b3JEYXRhKGVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChpc09iamVjdEVtcHR5KHVwZGF0ZURhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1cGRhdGVEYXRhWydfaWQnXSA9IGVudC5faWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBhd2FpdCBwYWNrLnVwZGF0ZUVudGl0eSh1cGRhdGVEYXRhKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVudGl0eSA9PT0gJ1NjZW5lJykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlU2NlbmVEYXRhKGVudC5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ19pZCddID0gZW50Ll9pZDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFjay51cGRhdGVFbnRpdHkodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRlZCBhbGwgJHtlbnRpdHl9IGVudGl0aWVzIGZyb20gQ29tcGVuZGl1bSAke3BhY2suY29sbGVjdGlvbn1gKTtcbiAgICB9XG59XG5cbnR5cGUgRW50aXR5VXBkYXRlID0ge1xuICAgIHVwZGF0ZURhdGE6IGFueTtcbiAgICBlbWJlZGRlZEl0ZW1zOiBudWxsIHwgYW55W107XG59O1xuIiwiaW1wb3J0IHsgVmVyc2lvbk1pZ3JhdGlvbiB9IGZyb20gJy4uL1ZlcnNpb25NaWdyYXRpb24nO1xuXG4vKipcbiAqIE1pZ3JhdGVzIHRoZSBkYXRhIG1vZGVsIGZvciBMZWdhY3kgbWlncmF0aW9ucyBwcmlvciB0byAwLjYuNFxuICovXG5leHBvcnQgY2xhc3MgTGVnYWN5TWlncmF0aW9uIGV4dGVuZHMgVmVyc2lvbk1pZ3JhdGlvbiB7XG4gICAgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwJztcbiAgICB9XG4gICAgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIExlZ2FjeU1pZ3JhdGlvbi5UYXJnZXRWZXJzaW9uO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwLjYuNCc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBBY3RvckRhdGEpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBsZXQgdXBkYXRlRGF0YTogYW55ID0ge307XG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlQWN0b3JPdmVyZmxvdyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpO1xuICAgICAgICBMZWdhY3lNaWdyYXRpb24ubWlncmF0ZUFjdG9yU2tpbGxzKGFjdG9yRGF0YSwgdXBkYXRlRGF0YSk7XG5cbiAgICAgICAgdXBkYXRlRGF0YSA9IGF3YWl0IHRoaXMuSXRlcmF0ZUFjdG9ySXRlbXMoYWN0b3JEYXRhLCB1cGRhdGVEYXRhKTtcblxuICAgICAgICByZXR1cm4gdXBkYXRlRGF0YTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZUl0ZW1EYXRhKGl0ZW06IEVudGl0eURhdGEpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlRGFtYWdlVHlwZUFuZEVsZW1lbnQoaXRlbSwgdXBkYXRlRGF0YSk7XG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlSXRlbXNBZGRBY3Rpb25zKGl0ZW0sIHVwZGF0ZURhdGEpO1xuICAgICAgICBMZWdhY3lNaWdyYXRpb24ubWlncmF0ZUFjdG9yT3ZlcmZsb3coaXRlbSwgdXBkYXRlRGF0YSk7XG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlSXRlbXNBZGRDYXBhY2l0eShpdGVtLCB1cGRhdGVEYXRhKTtcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVJdGVtc0FtbW8oaXRlbSwgdXBkYXRlRGF0YSk7XG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlSXRlbXNDb25jZWFsKGl0ZW0sIHVwZGF0ZURhdGEpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRGF0YTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZVNjZW5lRGF0YShzY2VuZTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlQWN0b3JEYXRhKGFjdG9yRGF0YTogQWN0b3JEYXRhKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlSXRlbURhdGEoaXRlbTogRW50aXR5RGF0YSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZVNjZW5lRGF0YShzY2VuZTogU2NlbmUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gc2NlbmUuZGF0YS50b2tlbnM/Lmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWlncmF0ZSBhY3RvciBvdmVyZmxvdyBmcm9tIGFuIGludGVnZXIgdG8gYW4gb2JqZWN0XG4gICAgICogLSBpdCB3YXNuJ3QgZXZlbiBkaXNwbGF5ZWQgYmVmb3JlIHNvIHdlIGtub3cgaXQgaXMgMFxuICAgICAqIEBwYXJhbSBhY3RvckRhdGFcbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVBY3Rvck92ZXJmbG93KGFjdG9yRGF0YSwgdXBkYXRlRGF0YSkge1xuICAgICAgICBpZiAoZ2V0UHJvcGVydHkoYWN0b3JEYXRhLmRhdGEsICd0cmFjay5waHlzaWNhbC5vdmVyZmxvdycpID09PSAwKSB7XG4gICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnRyYWNrLnBoeXNpY2FsLm92ZXJmbG93LnZhbHVlJ10gPSAwO1xuICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS50cmFjay5waHlzaWNhbC5vdmVyZmxvdy5tYXgnXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNaWdyYXRlIGFjdG9yIHNraWxscyBzcGVjaWFsaXphdGlvbnMgdG8gYmUgYSBsaXN0IGluc3RlYWQgb2Ygc3RyaW5nXG4gICAgICogQHBhcmFtIGFjdG9yRGF0YVxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWlncmF0ZUFjdG9yU2tpbGxzKGFjdG9yRGF0YSwgdXBkYXRlRGF0YSkge1xuICAgICAgICBpZiAoIWFjdG9yRGF0YS5kYXRhPy5za2lsbHM/LmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzcGxpdFJlZ2V4ID0gL1ssXFwvfC5dKy87XG5cbiAgICAgICAgY29uc3QgcmVkdWNlciA9IChydW5uaW5nLCBba2V5LCB2YWxdKSA9PiB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsLnNwZWNzKSAmJiB2YWwuc3BlY3MpIHtcbiAgICAgICAgICAgICAgICBydW5uaW5nW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWNzOiB2YWwuc3BlY3Muc3BsaXQoc3BsaXRSZWdleCkuZmlsdGVyKChzKSA9PiBzICE9PSAnJyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChhY3RvckRhdGEuZGF0YS5za2lsbHMpIHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmFjdGl2ZSddID0gT2JqZWN0LmVudHJpZXMoYWN0b3JEYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZSkucmVkdWNlKHJlZHVjZXIsIHt9KTtcbiAgICAgICAgICAgIGlmIChhY3RvckRhdGEuZGF0YS5za2lsbHMua25vd2xlZGdlKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5za2lsbHMua25vd2xlZGdlLnN0cmVldC52YWx1ZSddID0gT2JqZWN0LmVudHJpZXMoYWN0b3JEYXRhLmRhdGEuc2tpbGxzPy5rbm93bGVkZ2U/LnN0cmVldD8udmFsdWUpLnJlZHVjZShyZWR1Y2VyLCB7fSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5za2lsbHMua25vd2xlZGdlLnByb2Zlc3Npb25hbC52YWx1ZSddID0gT2JqZWN0LmVudHJpZXMoYWN0b3JEYXRhLmRhdGEuc2tpbGxzPy5rbm93bGVkZ2U/LnByb2Zlc3Npb25hbD8udmFsdWUpLnJlZHVjZShyZWR1Y2VyLCB7fSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5za2lsbHMua25vd2xlZGdlLmFjYWRlbWljLnZhbHVlJ10gPSBPYmplY3QuZW50cmllcyhhY3RvckRhdGEuZGF0YS5za2lsbHM/Lmtub3dsZWRnZT8uYWNhZGVtaWM/LnZhbHVlKS5yZWR1Y2UocmVkdWNlciwge30pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmtub3dsZWRnZS5pbnRlcmVzdHMudmFsdWUnXSA9IE9iamVjdC5lbnRyaWVzKGFjdG9yRGF0YS5kYXRhLnNraWxscz8ua25vd2xlZGdlPy5pbnRlcmVzdHM/LnZhbHVlKS5yZWR1Y2UocmVkdWNlciwge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdG9yRGF0YS5kYXRhLnNraWxscy5sYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlJ10gPSBPYmplY3QuZW50cmllcyhhY3RvckRhdGEuZGF0YS5za2lsbHM/Lmxhbmd1YWdlPy52YWx1ZSkucmVkdWNlKHJlZHVjZXIsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVEYW1hZ2VUeXBlQW5kRWxlbWVudChpdGVtLCB1cGRhdGVEYXRhKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdNaWdyYXRpbmcgRGFtYWdlIGFuZCBFbGVtZW50cycpO1xuICAgICAgICBpZiAoaXRlbS5kYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gaXRlbS5kYXRhLmFjdGlvbjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0aW9uLmRhbWFnZS50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuYWN0aW9uLmRhbWFnZS50eXBlLmJhc2UnXSA9IGl0ZW0uZGF0YS5hY3Rpb24uZGFtYWdlLnR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbi5kYW1hZ2UuZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLmFjdGlvbi5kYW1hZ2UuZWxlbWVudC5iYXNlJ10gPSBpdGVtLmRhdGEuYWN0aW9uLmRhbWFnZS5lbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWlncmF0ZSBhbW1vIGZyb20gcmFuZ2VkIHdlYXBvbnMgb25seSB0byBhbGwgd2VhcG9uc1xuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHBhcmFtIHVwZGF0ZURhdGFcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBtaWdyYXRlSXRlbXNBbW1vKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ01pZ3JhdGluZyBBbW1vJyk7XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd3ZWFwb24nICYmIGl0ZW0uZGF0YS5hbW1vID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50QW1tbyA9IHsgdmFsdWU6IDAsIG1heDogMCB9O1xuICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YS5jYXRlZ29yeSA9PT0gJ3JhbmdlJyAmJiBpdGVtLmRhdGEucmFuZ2UgJiYgaXRlbS5kYXRhLnJhbmdlLmFtbW8pIHtcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgYW1tbyBjb3VudFxuICAgICAgICAgICAgICAgIGNvbnN0IG9sZEFtbW8gPSBpdGVtLmRhdGEucmFuZ2UuYW1tbztcbiAgICAgICAgICAgICAgICBjdXJyZW50QW1tby52YWx1ZSA9IG9sZEFtbW8udmFsdWU7XG4gICAgICAgICAgICAgICAgY3VycmVudEFtbW8ubWF4ID0gb2xkQW1tby5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLmFtbW8nXSA9IHtcbiAgICAgICAgICAgICAgICBzcGFyZV9jbGlwczoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3VycmVudDoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudEFtbW8udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG1heDogY3VycmVudEFtbW8ubWF4LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWlncmF0ZSBjb25jZWFsIG5hbWVcbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWlncmF0ZUl0ZW1zQ29uY2VhbChpdGVtLCB1cGRhdGVEYXRhKSB7XG4gICAgICAgIGlmIChpdGVtLmRhdGEudGVjaG5vbG9neT8uY29uY2VhbGFiaWxpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS50ZWNobm9sb2d5LmNvbmNlYWwnXSA9IHtcbiAgICAgICAgICAgICAgICBiYXNlOiBpdGVtLmRhdGEudGVjaG5vbG9neS5jb25jZWFsYWJpbGl0eSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgY2FwYWNpdHkgdG8gaXRlbXNcbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWlncmF0ZUl0ZW1zQWRkQ2FwYWNpdHkoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgICAgICBpZiAoWydjeWJlcndhcmUnXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5kYXRhLmNhcGFjaXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLmRhdGEuY2FwYWNpdHkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGFjdGlvbnMgdG8gbmVlZGVkIGl0ZW1zXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVJdGVtc0FkZEFjdGlvbnMoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgICAgICBpZiAoWydxdWFsaXR5JywgJ2N5YmVyd2FyZSddLmluY2x1ZGVzKGl0ZW0udHlwZSkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmRhdGEuYWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXG4gICAgICAgICAgICAgICAgICAgIHNwZWM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wcG9zZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGw6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVEYXRhLmRhdGEpIHVwZGF0ZURhdGEuZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEuZGF0YS5hY3Rpb24gPSBhY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBWZXJzaW9uTWlncmF0aW9uIH0gZnJvbSAnLi4vVmVyc2lvbk1pZ3JhdGlvbic7XG5pbXBvcnQgU1I1QWN0b3JUeXBlID0gU2hhZG93cnVuLlNSNUFjdG9yVHlwZTtcblxuLyoqXG4gKiBBZGQgZGVmYXVsdCB2YWx1ZSBvZiB3aWxscG93ZXIgdG8gdGhlIGZ1bGxfZGVmZW5zZV9hdHRyaWJ1dGUgZmllbGRcbiAqL1xuZXhwb3J0IGNsYXNzIFZlcnNpb24wXzZfMTAgZXh0ZW5kcyBWZXJzaW9uTWlncmF0aW9uIHtcbiAgICBnZXQgU291cmNlVmVyc2lvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJzAuNi45JztcbiAgICB9XG4gICAgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFZlcnNpb24wXzZfMTAuVGFyZ2V0VmVyc2lvbjtcbiAgICB9XG4gICAgc3RhdGljIGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnMC42LjEwJztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZUFjdG9yRGF0YShhY3RvckRhdGE6IFNSNUFjdG9yVHlwZSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGlmIChhY3RvckRhdGEuZGF0YT8uYXR0cmlidXRlcz8uZWRnZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4ge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICBlZGdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBhY3RvckRhdGEuZGF0YS5hdHRyaWJ1dGVzLmVkZ2UubWF4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFjdG9yRGF0YS5kYXRhLmF0dHJpYnV0ZXMuZWRnZS5tYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VzOiBhY3RvckRhdGEuZGF0YS5hdHRyaWJ1dGVzLmVkZ2UudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBTUjVBY3RvclR5cGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIGFjdG9yRGF0YS5kYXRhLmF0dHJpYnV0ZXMuZWRnZT8udXNlcyA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlU2NlbmVEYXRhKHNjZW5lOiBTY2VuZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBzY2VuZS5kYXRhLnRva2Vucz8ubGVuZ3RoID4gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBWZXJzaW9uTWlncmF0aW9uIH0gZnJvbSAnLi4vVmVyc2lvbk1pZ3JhdGlvbic7XG5cbi8qKlxuICogQWRkIGRlZmF1bHQgdmFsdWUgb2Ygd2lsbHBvd2VyIHRvIHRoZSBmdWxsX2RlZmVuc2VfYXR0cmlidXRlIGZpZWxkXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJzaW9uMF82XzUgZXh0ZW5kcyBWZXJzaW9uTWlncmF0aW9uIHtcbiAgICBnZXQgU291cmNlVmVyc2lvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJzAuNi40JztcbiAgICB9XG4gICAgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFZlcnNpb24wXzZfNS5UYXJnZXRWZXJzaW9uO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwLjYuNSc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBBY3RvckRhdGEpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBsZXQgdXBkYXRlRGF0YTogYW55ID0ge307XG4gICAgICAgIGlmICh1cGRhdGVEYXRhLmRhdGEgPT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5kYXRhID0ge307XG4gICAgICAgIHVwZGF0ZURhdGEuZGF0YS5mdWxsX2RlZmVuc2VfYXR0cmlidXRlID0gJ3dpbGxwb3dlcic7XG4gICAgICAgIHJldHVybiB1cGRhdGVEYXRhO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlQWN0b3JEYXRhKGFjdG9yRGF0YTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBhY3RvckRhdGEuZGF0YS5mdWxsX2RlZmVuc2VfYXR0cmlidXRlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVTY2VuZURhdGEoc2NlbmU6IFNjZW5lKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHNjZW5lLmRhdGEudG9rZW5zPy5sZW5ndGggPiAwO1xuICAgIH1cbn1cbiIsIi8vIFRPRE86IEhvdyB0byB0cmlnZ2VyIHRlc3QgbWlncmF0aW9uLlxuLy8gVE9ETzogSG93IHRvIHRlc3QgbWlncmF0aW9uIHJlc3VsdHM/XG5cblxuaW1wb3J0IHtWZXJzaW9uTWlncmF0aW9ufSBmcm9tIFwiLi4vVmVyc2lvbk1pZ3JhdGlvblwiO1xuaW1wb3J0IHtTUjV9IGZyb20gXCIuLi8uLi9jb25maWdcIjtcbmltcG9ydCBTUjVBY3RvckJhc2UgPSBTaGFkb3dydW4uU1I1QWN0b3JCYXNlO1xuXG4vKiogTlBDIC8gR3J1bnQgZmVhdHVyZSBzZXRcbiAqIC0gQWRkIG5wYyBjaGFyYWN0ZXIgZGF0YS5cbiAqIC0gQWRkIHRyYWNrIGRpc2FibGVkIGZlYXR1cmVcbiAqL1xuZXhwb3J0IGNsYXNzIFZlcnNpb24wXzdfMiBleHRlbmRzIFZlcnNpb25NaWdyYXRpb24ge1xuICAgIGdldCBTb3VyY2VWZXJzaW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnMC43LjEnO1xuICAgIH1cblxuICAgIGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBWZXJzaW9uMF83XzIuVGFyZ2V0VmVyc2lvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IFRhcmdldFZlcnNpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcwLjcuMic7XG4gICAgfVxuXG4gICAgc3RhdGljIE5vTlBDRGF0YUZvckNoYXJhY3RlcihhY3RvckRhdGE6IFNSNUFjdG9yQmFzZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gYWN0b3JEYXRhLnR5cGUgPT09ICdjaGFyYWN0ZXInICYmIChcbiAgICAgICAgICAgIGFjdG9yRGF0YT8uZGF0YT8uaXNfbnBjID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGFjdG9yRGF0YT8uZGF0YT8ubnBjID09PSB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgVW5zdXBwb3J0ZWRNZXRhdHlwZShhY3RvckRhdGE6IFNSNUFjdG9yQmFzZSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB0eXBlID0gYWN0b3JEYXRhLmRhdGEubWV0YXR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIGFjdG9yRGF0YS50eXBlID09PSAnY2hhcmFjdGVyJyAmJlxuICAgICAgICAgICAgU1I1LmNoYXJhY3Rlci50eXBlcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZUFjdG9yRGF0YShhY3RvckRhdGE6IFNSNUFjdG9yQmFzZSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IHtcbiAgICAgICAgICAgIGRhdGE/OiBvYmplY3QsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzPzogb2JqZWN0XG4gICAgICAgIH0gPSB7fTtcblxuICAgICAgICBpZiAoVmVyc2lvbjBfN18yLlVuc3VwcG9ydGVkTWV0YXR5cGUoYWN0b3JEYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGFjdG9yRGF0YS5kYXRhLm1ldGF0eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBXaGF0IHRvIGRvIHdpdGggY3VzdG9tIG1ldGF0eXBlcz9cbiAgICAgICAgICAgIGNvbnN0IG1ldGF0eXBlRGF0YSA9IHttZXRhdHlwZTogU1I1LmNoYXJhY3Rlci50eXBlcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSA/IHR5cGUgOiAnaHVtYW4nfTtcbiAgICAgICAgICAgIHVwZGF0ZURhdGEuZGF0YSA9IHsuLi51cGRhdGVEYXRhLmRhdGEsIC4uLm1ldGF0eXBlRGF0YX07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoVmVyc2lvbjBfN18yLk5vTlBDRGF0YUZvckNoYXJhY3RlcihhY3RvckRhdGEpKSB7XG4gICAgICAgICAgICB1cGRhdGVEYXRhLmRhdGEgPSB1cGRhdGVEYXRhLmRhdGEgPyB1cGRhdGVEYXRhLmRhdGEgOiB7fTtcbiAgICAgICAgICAgIGNvbnN0IG5wY0RhdGEgPSB7XG4gICAgICAgICAgICAgICAgaXNfbnBjOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBucGM6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNfZ3J1bnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9mZXNzaW9uYWxfcmF0aW5nOiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlRGF0YS5kYXRhID0gey4uLnVwZGF0ZURhdGEuZGF0YSwgLi4ubnBjRGF0YX07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlRGF0YTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZUFjdG9yRGF0YShhY3RvckRhdGE6IFNSNUFjdG9yQmFzZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gVmVyc2lvbjBfN18yLlVuc3VwcG9ydGVkTWV0YXR5cGUoYWN0b3JEYXRhKSB8fCBWZXJzaW9uMF83XzIuTm9OUENEYXRhRm9yQ2hhcmFjdGVyKGFjdG9yRGF0YSk7XG4gICAgfVxufSIsImltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XG5pbXBvcnQgTW9kTGlzdEVudHJ5ID0gU2hhZG93cnVuLk1vZExpc3RFbnRyeTtcblxuZXhwb3J0IGNsYXNzIFBhcnRzTGlzdDxUVHlwZT4ge1xuICAgIGdldCBsaXN0KCk6IE1vZExpc3Q8VFR5cGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3Quc2xpY2UoKTtcbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXQgdG90YWwoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX2xpc3QpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydC52YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9XG5cbiAgICBnZXRQYXJ0VmFsdWUobmFtZTogc3RyaW5nKTogVFR5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdC5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IG5hbWUpPy52YWx1ZTtcbiAgICB9XG5cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbGlzdC5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xpc3Q6IE1vZExpc3Q8VFR5cGU+O1xuXG4gICAgY29uc3RydWN0b3IocGFydHM/OiBNb2RMaXN0PFRUeXBlPikge1xuICAgICAgICBsZXQgYWN0dWFsUGFydHMgPSBbXSBhcyBNb2RMaXN0PFRUeXBlPjtcbiAgICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJ0cykpIHtcbiAgICAgICAgICAgICAgICBhY3R1YWxQYXJ0cyA9IHBhcnRzO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBhIG51bWJlciwgd2UgYXJlIGRlYWxpbmcgd2l0aCBhbiBhcnJheSBhcyBhbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oTnVtYmVyKG5hbWUpKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsUGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICh2YWx1ZSBhcyBNb2RMaXN0RW50cnk8VFR5cGU+KS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKHZhbHVlIGFzIE1vZExpc3RFbnRyeTxUVHlwZT4pLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxQYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBNb2RMaXN0RW50cnk8VFR5cGU+KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saXN0ID0gYWN0dWFsUGFydHM7XG4gICAgfVxuXG4gICAgYWRkUGFydChuYW1lOiBzdHJpbmcsIHZhbHVlOiBUVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9saXN0LnB1c2goe1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRVbmlxdWVQYXJ0KG5hbWU6IHN0cmluZywgdmFsdWU/OiBUVHlwZSwgb3ZlcndyaXRlID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3QuZmluZEluZGV4KChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IG5hbWUpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZXhpc3QgYW5kIHNob3VsZCd2ZSBvdmVyd3JpdGUsIHJldHVyblxuICAgICAgICAgICAgaWYgKCFvdmVyd3JpdGUpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIHBhc3NlZCB1bmRlZmluZWQsIHJlbW92ZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICAvLyByZWN1cnNpdmVseSBnbyB0aHJvdWdoIHVudGlsIHdlIG5vIGxvbmdlciBoYXZlIGEgcGFydCBvZiB0aGlzIG5hbWVcbiAgICAgICAgICAgIHRoaXMuYWRkVW5pcXVlUGFydChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUGFydChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVQYXJ0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3QuZmluZEluZGV4KChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IG5hbWUpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldE1lc3NhZ2VPdXRwdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3Q7XG4gICAgfVxuXG4gICAgc3RhdGljIEFkZFVuaXF1ZVBhcnQ8VFR5cGU+KGxpc3Q6IE1vZExpc3Q8VFR5cGU+LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBUVHlwZSwgb3ZlcndyaXRlID0gdHJ1ZSk6IE1vZExpc3Q8VFR5cGU+IHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBuZXcgUGFydHNMaXN0KGxpc3QpO1xuICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KG5hbWUsIHZhbHVlLCBvdmVyd3JpdGUpO1xuICAgICAgICByZXR1cm4gcGFydHMuX2xpc3Q7XG4gICAgfVxuXG4gICAgc3RhdGljIFRvdGFsKGxpc3Q6IE1vZExpc3Q8bnVtYmVyPikge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QobGlzdCk7XG4gICAgICAgIHJldHVybiBwYXJ0cy50b3RhbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgTW9kTGlzdCA9IFNoYWRvd3J1bi5Nb2RMaXN0O1xuaW1wb3J0IFJvbGxFdmVudCA9IFNoYWRvd3J1bi5Sb2xsRXZlbnQ7XG5pbXBvcnQgQmFzZVZhbHVlUGFpciA9IFNoYWRvd3J1bi5CYXNlVmFsdWVQYWlyO1xuaW1wb3J0IExhYmVsRmllbGQgPSBTaGFkb3dydW4uTGFiZWxGaWVsZDtcbmltcG9ydCBBdHRhY2tEYXRhID0gU2hhZG93cnVuLkF0dGFja0RhdGE7XG5pbXBvcnQgRGFtYWdlRGF0YSA9IFNoYWRvd3J1bi5EYW1hZ2VEYXRhO1xuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuLi9hY3Rvci9TUjVBY3Rvcic7XG5pbXBvcnQgeyBTUjVJdGVtIH0gZnJvbSAnLi4vaXRlbS9TUjVJdGVtJztcbmltcG9ydCB7IGNyZWF0ZUNoYXREYXRhLCBUZW1wbGF0ZURhdGEgfSBmcm9tICcuLi9jaGF0JztcbmltcG9ydCB7RkxBR1MsIEdMSVRDSF9ESUUsIFNZU1RFTV9OQU1FfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgUGFydHNMaXN0IH0gZnJvbSAnLi4vcGFydHMvUGFydHNMaXN0JztcblxuZXhwb3J0IGludGVyZmFjZSBCYXNpY1JvbGxQcm9wcyB7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBpbWc/OiBzdHJpbmc7XG4gICAgcGFydHM/OiBNb2RMaXN0PG51bWJlcj47XG4gICAgbGltaXQ/OiBCYXNlVmFsdWVQYWlyPG51bWJlcj4gJiBMYWJlbEZpZWxkO1xuICAgIGV4cGxvZGVTaXhlcz86IGJvb2xlYW47XG4gICAgdGl0bGU/OiBzdHJpbmc7XG4gICAgYWN0b3I/OiBTUjVBY3RvcjtcbiAgICBpdGVtPzogU1I1SXRlbTtcbiAgICBhdHRhY2s/OiBBdHRhY2tEYXRhO1xuICAgIGluY29taW5nQXR0YWNrPzogQXR0YWNrRGF0YTtcbiAgICBpbmNvbWluZ0RyYWluPzogTGFiZWxGaWVsZCAmIHtcbiAgICAgICAgdmFsdWU6IG51bWJlcjtcbiAgICB9O1xuICAgIHNvYWs/OiBEYW1hZ2VEYXRhO1xuICAgIHRlc3RzPzoge1xuICAgICAgICBsYWJlbDogc3RyaW5nO1xuICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgfVtdO1xuICAgIGRlc2NyaXB0aW9uPzogb2JqZWN0O1xuICAgIHByZXZpZXdUZW1wbGF0ZT86IGJvb2xlYW47XG4gICAgaGlkZVJvbGxNZXNzYWdlPzogYm9vbGVhbjtcbiAgICByb2xsTW9kZT86IGtleW9mIHR5cGVvZiBDT05GSUcuRGljZS5yb2xsTW9kZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm9sbERpYWxvZ09wdGlvbnMge1xuICAgIGVudmlyb25tZW50YWw/OiBudW1iZXIgfCBib29sZWFuO1xuICAgIHByb21wdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWR2YW5jZWRSb2xsUHJvcHMgZXh0ZW5kcyBCYXNpY1JvbGxQcm9wcyB7XG4gICAgZXZlbnQ/OiBSb2xsRXZlbnQ7XG4gICAgZXh0ZW5kZWQ/OiBib29sZWFuO1xuICAgIHdvdW5kcz86IGJvb2xlYW47XG4gICAgYWZ0ZXI/OiAocm9sbDogUm9sbCB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgICBkaWFsb2dPcHRpb25zPzogUm9sbERpYWxvZ09wdGlvbnM7XG59XG5cbmV4cG9ydCBjbGFzcyBTaGFkb3dydW5Sb2xsIGV4dGVuZHMgUm9sbCB7XG4gICAgdGVtcGxhdGVEYXRhOiBUZW1wbGF0ZURhdGEgfCB1bmRlZmluZWQ7XG4gICAgLy8gYWRkIGNsYXNzIFJvbGwgdG8gdGhlIGpzb24gc28gZGljZS1zby1uaWNlIHdvcmtzXG4gICAgdG9KU09OKCk6IGFueSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzdXBlci50b0pTT04oKTtcbiAgICAgICAgZGF0YS5jbGFzcyA9ICdSb2xsJztcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZ2V0IHNpZGVzKCk6IG51bWJlcltdIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vIDAuNy54IGZvdW5kcnlWVFRcbiAgICAgICAgaWYgKHRoaXMudGVybXMpIHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVybXNbMF0ucmVzdWx0cy5tYXAocmVzdWx0ID0+IHJlc3VsdC5yZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vIDAuNi54IGZvdW5kcnlWVFRcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0ucm9sbHMubWFwKHJvbGwgPT4gcm9sbC5yb2xsKTtcbiAgICB9XG5cbiAgICBjb3VudChzaWRlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5zaWRlcztcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMucmVkdWNlKChjb3VudGVkLCByZXN1bHQpID0+IHJlc3VsdCA9PT0gc2lkZSA/IGNvdW50ZWQgKyAxIDogY291bnRlZCwgMCk7XG4gICAgfVxuXG4gICAgZ2V0IGhpdHMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG90YWw7XG4gICAgfVxuXG4gICAgZ2V0IHBvb2woKTogbnVtYmVyIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vIDAuNy54IGZvdW5kcnlWVFRcbiAgICAgICAgaWYgKHRoaXMudGVybXMpIHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGljZVswXS5udW1iZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgLy8gMC42LnggZm91bmRyeVZUVFxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0c1swXS5yb2xscy5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0IGdsaXRjaGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudChHTElUQ0hfRElFKSA+IE1hdGguZmxvb3IodGhpcy5wb29sIC8gMik7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hhZG93cnVuUm9sbGVyIHtcbiAgICBzdGF0aWMgaXRlbVJvbGwoZXZlbnQsIGl0ZW06IFNSNUl0ZW0sIG9wdGlvbnM/OiBQYXJ0aWFsPEFkdmFuY2VkUm9sbFByb3BzPik6IFByb21pc2U8U2hhZG93cnVuUm9sbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGl0ZW0uZ2V0Um9sbFBhcnRzTGlzdCgpO1xuICAgICAgICBsZXQgbGltaXQgPSBpdGVtLmdldExpbWl0KCk7XG4gICAgICAgIGxldCB0aXRsZSA9IGl0ZW0uZ2V0Um9sbE5hbWUoKTtcblxuICAgICAgICBjb25zdCByb2xsRGF0YTogQWR2YW5jZWRSb2xsUHJvcHMgPSB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgZGlhbG9nT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGVudmlyb25tZW50YWw6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICBhY3RvcjogaXRlbS5hY3RvcixcbiAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgaW1nOiBpdGVtLmltZyxcbiAgICAgICAgICAgIHByZXZpZXdUZW1wbGF0ZTogaXRlbS5oYXNUZW1wbGF0ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcm9sbERhdGFbJ2F0dGFjayddID0gaXRlbS5nZXRBdHRhY2tEYXRhKDApO1xuICAgICAgICByb2xsRGF0YVsnYmxhc3QnXSA9IGl0ZW0uZ2V0Qmxhc3REYXRhKCk7XG5cbiAgICAgICAgaWYgKGl0ZW0uaGFzT3Bwb3NlZFJvbGwpIHtcbiAgICAgICAgICAgIHJvbGxEYXRhWyd0ZXN0cyddID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0uZ2V0T3Bwb3NlZFRlc3ROYW1lKCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvcHBvc2VkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS5pc01lbGVlV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIHJvbGxEYXRhWydyZWFjaCddID0gaXRlbS5nZXRSZWFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLmlzUmFuZ2VkV2VhcG9uKCkpIHtcbiAgICAgICAgICAgIHJvbGxEYXRhWydmaXJlTW9kZSddID0gaXRlbS5nZXRMYXN0RmlyZU1vZGUoKT8ubGFiZWw7XG4gICAgICAgICAgICBpZiAocm9sbERhdGEuZGlhbG9nT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJvbGxEYXRhLmRpYWxvZ09wdGlvbnMuZW52aXJvbm1lbnRhbCA9IGl0ZW0uZ2V0TGFzdEZpcmVSYW5nZU1vZCgpLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJvbGxEYXRhLmRlc2NyaXB0aW9uID0gaXRlbS5nZXRDaGF0RGF0YSgpO1xuXG4gICAgICAgIHJldHVybiBTaGFkb3dydW5Sb2xsZXIuYWR2YW5jZWRSb2xsKHJvbGxEYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2hhZG93cnVuRm9ybXVsYSh7XG4gICAgICAgIHBhcnRzOiBwYXJ0c1Byb3BzLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgZXhwbG9kZSxcbiAgICB9OiB7XG4gICAgICAgIHBhcnRzOiBNb2RMaXN0PG51bWJlcj47XG4gICAgICAgIGxpbWl0PzogQmFzZVZhbHVlUGFpcjxudW1iZXI+ICYgTGFiZWxGaWVsZDtcbiAgICAgICAgZXhwbG9kZT86IGJvb2xlYW47XG4gICAgfSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChwYXJ0c1Byb3BzKTtcbiAgICAgICAgY29uc3QgY291bnQgPSBwYXJ0cy50b3RhbDtcbiAgICAgICAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUm9sbE9uZURpZScpKTtcbiAgICAgICAgICAgIHJldHVybiAnMGQ2Y3M+PTUnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmb3JtdWxhID0gYCR7Y291bnR9ZDZgO1xuICAgICAgICBpZiAoZXhwbG9kZSkge1xuICAgICAgICAgICAgZm9ybXVsYSArPSAneDYnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdD8udmFsdWUpIHtcbiAgICAgICAgICAgIGZvcm11bGEgKz0gYGtoJHtsaW1pdC52YWx1ZX1gO1xuICAgICAgICB9XG4gICAgICAgIGZvcm11bGEgKz0gJ2NzPj01JztcbiAgICAgICAgcmV0dXJuIGZvcm11bGE7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGJhc2ljUm9sbCh7XG4gICAgICAgIHBhcnRzOiBwYXJ0c1Byb3BzID0gW10sXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBleHBsb2RlU2l4ZXMsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBhY3RvcixcbiAgICAgICAgaW1nID0gYWN0b3I/LmltZyxcbiAgICAgICAgbmFtZSA9IGFjdG9yPy5uYW1lLFxuICAgICAgICBoaWRlUm9sbE1lc3NhZ2UsXG4gICAgICAgIHJvbGxNb2RlLFxuICAgICAgICAuLi5wcm9wc1xuICAgIH06IEJhc2ljUm9sbFByb3BzKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGxldCByb2xsO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG5ldyBQYXJ0c0xpc3QocGFydHNQcm9wcyk7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvcm11bGEgPSB0aGlzLnNoYWRvd3J1bkZvcm11bGEoeyBwYXJ0czogcGFydHMubGlzdCwgbGltaXQsIGV4cGxvZGU6IGV4cGxvZGVTaXhlcyB9KTtcbiAgICAgICAgICAgIGlmICghZm9ybXVsYSkgcmV0dXJuO1xuICAgICAgICAgICAgcm9sbCA9IG5ldyBTaGFkb3dydW5Sb2xsKGZvcm11bGEpO1xuICAgICAgICAgICAgcm9sbC5yb2xsKCk7XG5cbiAgICAgICAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldChTWVNURU1fTkFNRSwgJ2Rpc3BsYXlEZWZhdWx0Um9sbENhcmQnKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJvbGwudG9NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7IGFjdG9yOiBhY3RvciB9KSxcbiAgICAgICAgICAgICAgICAgICAgZmxhdm9yOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sbE1vZGU6IHJvbGxNb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuID0gYWN0b3I/LnRva2VuO1xuXG4gICAgICAgIFtuYW1lLCBpbWddID0gU2hhZG93cnVuUm9sbGVyLmdldFByZWZlcmVkTmFtZUFuZEltYWdlU291cmNlKG5hbWUsIGltZywgYWN0b3IsIHRva2VuKTtcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgICAgICBhY3RvcjogYWN0b3IsXG4gICAgICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgIGltZzogaW1nIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRva2VuSWQ6IHRva2VuID8gYCR7dG9rZW4uc2NlbmUuX2lkfS4ke3Rva2VuLmlkfWAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByb2xsTW9kZSxcbiAgICAgICAgICAgIGRpY2U6IHJvbGwuc2lkZXMsXG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIHRlc3ROYW1lOiB0aXRsZSxcbiAgICAgICAgICAgIGRpY2VQb29sOiByb2xsLnBvb2wsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMubGlzdCxcbiAgICAgICAgICAgIGhpdHM6IHJvbGwuaGl0cyxcbiAgICAgICAgICAgIGdsaXRjaDogcm9sbC5nbGl0Y2hlZCxcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEluIHdoYXQgY2FzZSB3b3VsZCBubyByb2xsIGJlIHByZXNlbnQ/IE5vIHBhcnRzPyBXaHkgd291bGQgdGhpcyByZWFjaCBhbnkgbG9naWMgdGhlbj9cbiAgICAgICAgaWYgKHJvbGwpIHtcbiAgICAgICAgICAgIHJvbGwudGVtcGxhdGVEYXRhID0gdGVtcGxhdGVEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoaWRlUm9sbE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXREYXRhID0gYXdhaXQgY3JlYXRlQ2hhdERhdGEodGVtcGxhdGVEYXRhLCByb2xsKTtcbiAgICAgICAgICAgIENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSwgeyBkaXNwbGF5U2hlZXQ6IGZhbHNlIH0pLnRoZW4oKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb2xsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb21wdCBhIHJvbGwgZm9yIHRoZSB1c2VyXG4gICAgICovXG4gICAgc3RhdGljIHByb21wdFJvbGwoKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGxhc3RSb2xsID0gZ2FtZS51c2VyLmdldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0Um9sbFByb21wdFZhbHVlJykgfHwgMDtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbeyBuYW1lOiAnU1I1Lkxhc3RSb2xsJywgdmFsdWU6IGxhc3RSb2xsIH1dO1xuICAgICAgICByZXR1cm4gU2hhZG93cnVuUm9sbGVyLmFkdmFuY2VkUm9sbCh7IHBhcnRzLCB0aXRsZTogJ1JvbGwnLCBkaWFsb2dPcHRpb25zOiB7IHByb21wdDogdHJ1ZSB9IH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGFuIGFkdmFuY2VkIHJvbGxcbiAgICAgKiAtIFByb21wdHMgdGhlIHVzZXIgZm9yIG1vZGlmaWVyc1xuICAgICAqIEBwYXJhbSBwcm9wc1xuICAgICAqL1xuICAgIHN0YXRpYyBhZHZhbmNlZFJvbGwocHJvcHM6IEFkdmFuY2VkUm9sbFByb3BzKTogUHJvbWlzZTxTaGFkb3dydW5Sb2xsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIC8vIGRlc3RydWN0dXJlIHdoYXQgd2UgbmVlZCB0byB1c2UgZnJvbSBwcm9wc1xuICAgICAgICAvLyBhbnkgdmFsdWUgcHVsbGVkIG91dCBuZWVkcyB0byBiZSB1cGRhdGVkIGJhY2sgaW4gcHJvcHMgaWYgY2hhbmdlZFxuICAgICAgICBjb25zdCB7IHRpdGxlLCBhY3RvciwgcGFydHM6IHBhcnRzUHJvcHMgPSBbXSwgbGltaXQsIGV4dGVuZGVkLCB3b3VuZHMgPSB0cnVlLCBhZnRlciwgZGlhbG9nT3B0aW9ucyB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmV3IFBhcnRzTGlzdChwYXJ0c1Byb3BzKTtcblxuICAgICAgICAvLyByZW1vdmUgbGltaXRzIGlmIGdhbWUgc2V0dGluZ3MgaXMgc2V0XG4gICAgICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoU1lTVEVNX05BTUUsICdhcHBseUxpbWl0cycpKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvcHMubGltaXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIGNyZWF0ZSBcImZhc3Qgcm9sbFwiIG9wdGlvblxuXG4gICAgICAgIGNvbnN0IHJvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKTtcblxuICAgICAgICBsZXQgZGlhbG9nRGF0YSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IGRpYWxvZ09wdGlvbnMsXG4gICAgICAgICAgICBleHRlbmRlZCxcbiAgICAgICAgICAgIGRpY2VfcG9vbDogcGFydHMudG90YWwsXG4gICAgICAgICAgICBwYXJ0czogcGFydHMuZ2V0TWVzc2FnZU91dHB1dCgpLFxuICAgICAgICAgICAgbGltaXQ6IGxpbWl0Py52YWx1ZSxcbiAgICAgICAgICAgIHdvdW5kcyxcbiAgICAgICAgICAgIHdvdW5kVmFsdWU6IGFjdG9yPy5nZXRXb3VuZE1vZGlmaWVyKCksXG4gICAgICAgICAgICByb2xsTW9kZSxcbiAgICAgICAgICAgIHJvbGxNb2RlczogQ09ORklHLkRpY2Uucm9sbE1vZGVzLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9yb2xscy9yb2xsLWRpYWxvZy5odG1sJztcbiAgICAgICAgbGV0IGVkZ2UgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNhbmNlbCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IHtcbiAgICAgICAgICAgIHJvbGw6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuUm9sbCcpLFxuICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1kaWNlLXNpeFwiPjwvaT4nLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiAoY2FuY2VsID0gZmFsc2UpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgICBidXR0b25zWydlZGdlJ10gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlB1c2hUaGVMaW1pdCcpfSAoKyR7YWN0b3IuZ2V0RWRnZSgpLnZhbHVlfSlgLFxuICAgICAgICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1ib21iXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgZGlhbG9nRGF0YSkudGhlbigoZGxnKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IERpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogZGxnLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAncm9sbCcsXG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGFzeW5jIChodG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGFjdHVhbCBkaWNlX3Bvb2wgZnJvbSB0aGUgZGlmZmVyZW5jZSBvZiBpbml0aWFsIHBhcnRzIGFuZCB2YWx1ZSBpbiB0aGUgZGlhbG9nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpY2VQb29sVmFsdWUgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPVwiZGljZV9wb29sXCJdJykudmFsKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlhbG9nT3B0aW9ucz8ucHJvbXB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBnYW1lLnVzZXIuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RSb2xsUHJvbXB0VmFsdWUnLCBkaWNlUG9vbFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuQmFzZScsIGRpY2VQb29sVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW1pdFZhbHVlID0gSGVscGVycy5wYXJzZUlucHV0VG9OdW1iZXIoJChodG1sKS5maW5kKCdbbmFtZT1cImxpbWl0XCJdJykudmFsKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGltaXQgJiYgbGltaXQudmFsdWUgIT09IGxpbWl0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdC52YWx1ZSA9IGxpbWl0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQuYmFzZSA9IGxpbWl0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQubGFiZWwgPSAnU1I1Lk92ZXJyaWRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd291bmRWYWx1ZSA9IEhlbHBlcnMucGFyc2VJbnB1dFRvTnVtYmVyKCQoaHRtbCkuZmluZCgnW25hbWU9XCJ3b3VuZHNcIl0nKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXR1YXRpb25Nb2QgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPVwiZHBfbW9kXCJdJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW52aXJvbm1lbnRNb2QgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcigkKGh0bWwpLmZpbmQoJ1tuYW1lPVwib3B0aW9ucy5lbnZpcm9ubWVudGFsXCJdJykudmFsKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod291bmRzICYmIHdvdW5kVmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuV291bmRzJywgd291bmRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMud291bmRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaXR1YXRpb25Nb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuU2l0dWF0aW9uYWxNb2RpZmllcicsIHNpdHVhdGlvbk1vZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW52aXJvbm1lbnRNb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5hZGRVbmlxdWVQYXJ0KCdTUjUuRW52aXJvbm1lbnRNb2RpZmllcicsIGVudmlyb25tZW50TW9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmRpYWxvZ09wdGlvbnMpIHByb3BzLmRpYWxvZ09wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5kaWFsb2dPcHRpb25zLmVudmlyb25tZW50YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRlbmRlZFN0cmluZyA9IEhlbHBlcnMucGFyc2VJbnB1dFRvU3RyaW5nKCQoaHRtbCkuZmluZCgnW25hbWU9XCJleHRlbmRlZFwiXScpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVuZGVkID0gZXh0ZW5kZWRTdHJpbmcgPT09ICd0cnVlJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkZ2UgJiYgYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5leHBsb2RlU2l4ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLmFkZFVuaXF1ZVBhcnQoJ1NSNS5QdXNoVGhlTGltaXQnLCBhY3Rvci5nZXRFZGdlKCkudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5saW1pdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBFZGdlIHVzYWdlIGRvZXNuJ3Qgc2VlbSB0byBhcHBseSBvbiBhY3RvciBzaGVldC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rvci51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS5hdHRyaWJ1dGVzLmVkZ2UudXNlcyc6IGFjdG9yLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLmVkZ2UudXNlcyAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnJvbGxNb2RlID0gSGVscGVycy5wYXJzZUlucHV0VG9TdHJpbmcoJChodG1sKS5maW5kKCdbbmFtZT1yb2xsTW9kZV0nKS52YWwoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnBhcnRzID0gcGFydHMubGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmJhc2ljUm9sbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVuZGVkICYmIHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RXh0ZW5kZWQgPSBwYXJ0cy5nZXRQYXJ0VmFsdWUoJ1NSNS5FeHRlbmRlZCcpID8/IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuYWRkVW5pcXVlUGFydCgnU1I1LkV4dGVuZGVkJywgY3VycmVudEV4dGVuZGVkIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMucGFydHMgPSBwYXJ0cy5saXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIGJpdCBvZiBhIGRlbGF5IHRvIHJvbGwgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuYWR2YW5jZWRSb2xsKHByb3BzKSwgNDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWZ0ZXIgJiYgcikgci50aGVuKChyb2xsKSA9PiBhZnRlcihyb2xsKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSkucmVuZGVyKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBVc2UgZWl0aGVyIHRoZSBhY3RvciBvciB0aGUgdG9rZW5zIG5hbWUgYW5kIGltYWdlLCBkZXBlbmRpbmcgb24gc3lzdGVtIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogSG93ZXZlciBkb24ndCBjaGFuZ2UgYW55dGhpbmcgaWYgYSBjdXN0b20gbmFtZSBvciBpbWFnZSBoYXMgYmVlbiBnaXZlbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UHJlZmVyZWROYW1lQW5kSW1hZ2VTb3VyY2UobmFtZT86IHN0cmluZywgaW1nPzogc3RyaW5nLCBhY3Rvcj86IFNSNUFjdG9yLCB0b2tlbj86IFRva2VuKTogW3N0cmluZ3x1bmRlZmluZWQsIHN0cmluZ3x1bmRlZmluZWRdIHtcblxuICAgICAgICBjb25zdCBuYW1lZEFuZEltYWdlTWF0Y2hBY3RvciA9IG5hbWUgPT09IGFjdG9yPy5uYW1lICYmIGltZyA9PT0gYWN0b3I/LmltZztcbiAgICAgICAgY29uc3QgdXNlVG9rZW5OYW1lRm9yQ2hhdE91dHB1dCA9IGdhbWUuc2V0dGluZ3MuZ2V0KFNZU1RFTV9OQU1FLCBGTEFHUy5TaG93VG9rZW5OYW1lRm9yQ2hhdE91dHB1dCk7XG5cbiAgICAgICAgaWYgKG5hbWVkQW5kSW1hZ2VNYXRjaEFjdG9yICYmIHVzZVRva2VuTmFtZUZvckNoYXRPdXRwdXQgJiYgdG9rZW4pIHtcbiAgICAgICAgICAgIGltZyA9IHRva2VuPy5kYXRhLmltZztcbiAgICAgICAgICAgIG5hbWUgPSB0b2tlbj8uZGF0YS5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtuYW1lLCBpbWddO1xuICAgIH1cbn1cbiIsIi8vIGdhbWUgc2V0dGluZ3MgZm9yIHNoYWRvd3J1biA1ZVxuXG5pbXBvcnQgeyBWZXJzaW9uTWlncmF0aW9uIH0gZnJvbSAnLi9taWdyYXRvci9WZXJzaW9uTWlncmF0aW9uJztcbmltcG9ydCB7IEZMQUdTLCBTWVNURU1fTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU3lzdGVtU2V0dGluZ3MgPSAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBkaWFnb25hbCBtb3ZlbWVudCBydWxlIHNldHRpbmdcbiAgICAgKi9cbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKFNZU1RFTV9OQU1FLCAnZGlhZ29uYWxNb3ZlbWVudCcsIHtcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTLkRpYWdvbmFsTW92ZW1lbnROYW1lJyxcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLkRpYWdvbmFsTW92ZW1lbnREZXNjcmlwdGlvbicsXG4gICAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJzEtMi0xJyxcbiAgICAgICAgY2hvaWNlczoge1xuICAgICAgICAgICAgJzEtMS0xJzogJ1NFVFRJTkdTLklnbm9yZURpYWdvbmFsJyxcbiAgICAgICAgICAgICcxLTItMSc6ICdTRVRUSU5HUy5Fc3RpbWF0ZURpYWdvbmFsJyxcbiAgICAgICAgfSxcbiAgICAgICAgb25DaGFuZ2U6IChydWxlKSA9PiAoY2FudmFzLmdyaWQuZGlhZ29uYWxSdWxlID0gcnVsZSksXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGxpbWl0IGJlaGF2aW9yXG4gICAgICovXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihTWVNURU1fTkFNRSwgJ2FwcGx5TGltaXRzJywge1xuICAgICAgICBuYW1lOiAnU0VUVElOR1MuQXBwbHlMaW1pdHNOYW1lJyxcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLkFwcGx5TGltaXRzRGVzY3JpcHRpb24nLFxuICAgICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihTWVNURU1fTkFNRSwgJ2Rpc3BsYXlEZWZhdWx0Um9sbENhcmQnLCB7XG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUy5EaXNwbGF5RGVmYXVsdFJvbGxDYXJkTmFtZScsXG4gICAgICAgIGhpbnQ6ICdTRVRUSU5HUy5EaXNwbGF5RGVmYXVsdFJvbGxDYXJkRGVzY3JpcHRpb24nLFxuICAgICAgICBzY29wZTogJ3VzZXInLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVHJhY2sgc3lzdGVtIHZlcnNpb24gdXBvbiB3aGljaCBhIG1pZ3JhdGlvbiB3YXMgbGFzdCBhcHBsaWVkXG4gICAgICovXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihTWVNURU1fTkFNRSwgVmVyc2lvbk1pZ3JhdGlvbi5LRVlfREFUQV9WRVJTSU9OLCB7XG4gICAgICAgIG5hbWU6ICdTeXN0ZW0gRGF0YSBWZXJzaW9uLicsXG4gICAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgICBjb25maWc6IGZhbHNlLFxuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICcwJyxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoU1lTVEVNX05BTUUsIEZMQUdTLlNob3dHbGl0Y2hBbmltYXRpb24sIHtcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTLlNob3dHbGl0Y2hBbmltYXRpb25OYW1lJyxcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLlNob3dHbGl0Y2hBbmltYXRpb25EZXNjcmlwdGlvbicsXG4gICAgICAgIHNjb3BlOiAndXNlcicsXG4gICAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoU1lTVEVNX05BTUUsIEZMQUdTLlNob3dUb2tlbk5hbWVGb3JDaGF0T3V0cHV0LCB7XG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUy5TaG93VG9rZW5OYW1lRm9yQ2hhdE91dHB1dE5hbWUnLFxuICAgICAgICBoaW50OiAnU0VUVElOR1MuU2hvd1Rva2VuTmFtZUZvckNoYXRPdXRwdXREZXNjcmlwdGlvbicsXG4gICAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBTUjVJdGVtIH0gZnJvbSAnLi9pdGVtL1NSNUl0ZW0nO1xuXG5leHBvcnQgdHlwZSBTaGFkb3dydW5UZW1wbGF0ZURhdGEgPSB7XG4gICAgdDogc3RyaW5nO1xuICAgIHVzZXI6IFVzZXIgfCBzdHJpbmc7XG4gICAgZGlzdGFuY2U6IG51bWJlcjtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIGZpbGxDb2xvcjogc3RyaW5nO1xuICAgIGRpcmVjdGlvbjogbnVtYmVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgLy8gQHRzLWlnbm9yZVxuY2xhc3MgVGVtcGxhdGUgZXh0ZW5kcyBNZWFzdXJlZFRlbXBsYXRlIHtcbiAgICBkYXRhOiBTaGFkb3dydW5UZW1wbGF0ZURhdGE7XG4gICAgbGF5ZXI6IFBsYWNlYWJsZXNMYXllcjtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIGl0ZW0/OiBTUjVJdGVtO1xuICAgIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkO1xuXG4gICAgc3RhdGljIGZyb21JdGVtKGl0ZW06IFNSNUl0ZW0sIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkKTogVGVtcGxhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVNoYXBlID0gJ2NpcmNsZSc7XG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge1xuICAgICAgICAgICAgdDogdGVtcGxhdGVTaGFwZSxcbiAgICAgICAgICAgIHVzZXI6IGdhbWUudXNlci5faWQsXG4gICAgICAgICAgICBkaXJlY3Rpb246IDAsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGZpbGxDb2xvcjogZ2FtZS51c2VyLmNvbG9yLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBibGFzdCA9IGl0ZW0uZ2V0Qmxhc3REYXRhKCk7XG4gICAgICAgIHRlbXBsYXRlRGF0YVsnZGlzdGFuY2UnXSA9IGJsYXN0Py5yYWRpdXM7XG4gICAgICAgIHRlbXBsYXRlRGF0YVsnZHJvcG9mZiddID0gYmxhc3Q/LmRyb3BvZmY7XG5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IG5ldyB0aGlzKHRlbXBsYXRlRGF0YSk7XG4gICAgICAgIHRlbXBsYXRlLml0ZW0gPSBpdGVtO1xuICAgICAgICB0ZW1wbGF0ZS5vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cblxuICAgIGRyYXdQcmV2aWV3KCkge1xuICAgICAgICBjb25zdCBpbml0aWFsTGF5ZXIgPSBjYW52YXMuYWN0aXZlTGF5ZXI7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5sYXllci5hY3RpdmF0ZSgpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMubGF5ZXIucHJldmlldy5hZGRDaGlsZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVByZXZpZXdMaXN0ZW5lcnMoaW5pdGlhbExheWVyKTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZVByZXZpZXdMaXN0ZW5lcnMoaW5pdGlhbExheWVyOiBDYW52YXNMYXllcikge1xuICAgICAgICBjb25zdCBoYW5kbGVycyA9IHt9O1xuICAgICAgICBsZXQgbW92ZVRpbWUgPSAwO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBwbGFjZW1lbnQgKG1vdXNlLW1vdmUpXG4gICAgICAgIGhhbmRsZXJzWydtbSddID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpOyAvLyBBcHBseSBhIDIwbXMgdGhyb3R0bGVcbiAgICAgICAgICAgIGlmIChub3cgLSBtb3ZlVGltZSA8PSAyMCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gZXZlbnQuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMubGF5ZXIpO1xuICAgICAgICAgICAgY29uc3Qgc25hcHBlZCA9IGNhbnZhcy5ncmlkLmdldFNuYXBwZWRQb3NpdGlvbihjZW50ZXIueCwgY2VudGVyLnksIDIpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnggPSBzbmFwcGVkLng7XG4gICAgICAgICAgICB0aGlzLmRhdGEueSA9IHNuYXBwZWQueTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgbW92ZVRpbWUgPSBub3c7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2FuY2VsIHRoZSB3b3JrZmxvdyAocmlnaHQtY2xpY2spXG4gICAgICAgIGhhbmRsZXJzWydyYyddID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sYXllci5wcmV2aWV3LnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgICAgICAgICBjYW52YXMuc3RhZ2Uub2ZmKCdtb3VzZW1vdmUnLCBoYW5kbGVyc1snbW0nXSk7XG4gICAgICAgICAgICBjYW52YXMuc3RhZ2Uub2ZmKCdtb3VzZWRvd24nLCBoYW5kbGVyc1snbGMnXSk7XG4gICAgICAgICAgICBjYW52YXMuYXBwLnZpZXcub25jb250ZXh0bWVudSA9IG51bGw7XG4gICAgICAgICAgICBjYW52YXMuYXBwLnZpZXcub253aGVlbCA9IG51bGw7XG4gICAgICAgICAgICBpbml0aWFsTGF5ZXIuYWN0aXZhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ29uZmlybSB0aGUgd29ya2Zsb3cgKGxlZnQtY2xpY2spXG4gICAgICAgIGhhbmRsZXJzWydsYyddID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyc1sncmMnXShldmVudCk7XG5cbiAgICAgICAgICAgIC8vIENvbmZpcm0gZmluYWwgc25hcHBlZCBwb3NpdGlvblxuICAgICAgICAgICAgY29uc3QgZGVzdGluYXRpb24gPSBjYW52YXMuZ3JpZC5nZXRTbmFwcGVkUG9zaXRpb24odGhpcy54LCB0aGlzLnksIDIpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnggPSBkZXN0aW5hdGlvbi54O1xuICAgICAgICAgICAgdGhpcy5kYXRhLnkgPSBkZXN0aW5hdGlvbi55O1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICBjYW52YXMuc2NlbmUuY3JlYXRlRW1iZWRkZWRFbnRpdHkoJ01lYXN1cmVkVGVtcGxhdGUnLCB0aGlzLmRhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJvdGF0ZSB0aGUgdGVtcGxhdGUgYnkgMyBkZWdyZWUgaW5jcmVtZW50cyAobW91c2Utd2hlZWwpXG4gICAgICAgIGhhbmRsZXJzWydtdyddID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSkgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gQXZvaWQgem9vbWluZyB0aGUgYnJvd3NlciB3aW5kb3dcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gY2FudmFzLmdyaWQudHlwZSA+IENPTlNULkdSSURfVFlQRVMuU1FVQVJFID8gMzAgOiAxNTtcbiAgICAgICAgICAgIGxldCBzbmFwID0gZXZlbnQuc2hpZnRLZXkgPyBkZWx0YSA6IDU7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZGlyZWN0aW9uICs9IHNuYXAgKiBNYXRoLnNpZ24oZXZlbnQuZGVsdGFZKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFjdGl2YXRlIGxpc3RlbmVyc1xuICAgICAgICBjYW52YXMuc3RhZ2Uub24oJ21vdXNlbW92ZScsIGhhbmRsZXJzWydtbSddKTtcbiAgICAgICAgY2FudmFzLnN0YWdlLm9uKCdtb3VzZWRvd24nLCBoYW5kbGVyc1snbGMnXSk7XG4gICAgICAgIGNhbnZhcy5hcHAudmlldy5vbmNvbnRleHRtZW51ID0gaGFuZGxlcnNbJ3JjJ107XG4gICAgICAgIGNhbnZhcy5hcHAudmlldy5vbndoZWVsID0gaGFuZGxlcnNbJ213J107XG4gICAgfVxufVxuIl19"}