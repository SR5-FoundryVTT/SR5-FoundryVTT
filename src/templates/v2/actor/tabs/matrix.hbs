<section class="tab hide-overflow{{#if tab.active}} active{{/if}}" data-group="{{tab.group}}" data-tab="{{tab.id}}">
    <div class="fill-container">
        <div class="list-item list-item-header">
            {{#if matrixDevice}}
                <div class="basic-row" data-item-id="{{matrixDevice.id}}" data-uuid="{{matrixDevice.uuid}}">
                    {{> "systems/shadowrun5e/dist/templates/v2/list-items/item-roll-image.hbs" matrixDevice }}
                    <a data-action="editItem">
                        {{matrixDevice.name}}
                    </a>
                </div>
            {{/if}}
            {{#if (isType actor 'sprite')}}
                <div class="basic-row">
                    <label>{{localize "SR5.Level"}}</label>
                    <button class="icon sr5-icon"
                       data-attribute-modifier-tooltip="level"
                       data-action="rollAttribute"
                       data-attribute-id="level">
                        {{system.level}}
                    </button>
                </div>
            {{else}}
                <div class="basic-row">
                    <label>{{localize "SR5.Labels.ActorSheet.DeviceRating"}}</label>
                    <button class="icon sr5-icon"
                       data-attribute-modifier-tooltip="rating"
                       data-action="rollAttribute"
                       data-attribute-id="rating">
                        {{system.matrix.rating}}
                    </button>
                </div>
            {{/if}}
            {{#if (isType actor 'character' 'vehicle')}}
                <div class="basic-row">
                    <label>{{localize "SR5.Labels.Sheet.RebootDevice"}}</label>
                    <button class="icon sr5-icon"
                            data-action="rebootPersona"
                            data-tooltip="SR5.Tooltips.Actor.RebootPersonaAndClearAllMarks">
                        <i class="fas fa-power-off"></i>
                    </button>
                </div>
            {{/if}}
        </div>
        <div class="split-container">
            <div>
                {{#if (isType actor 'ic')}}
                    {{> 'systems/shadowrun5e/dist/templates/v2/actor/parts/ic-attributes.hbs' }}
                {{else}}
                    <div class="attributes">
                        {{#each config.matrixAttributes as |label key|}}
                            {{> "systems/shadowrun5e/dist/templates/v2/actor/parts/matrix-attribute.hbs"
                                matrixAtt=(lookup ../system.matrix key)
                                attributeField=(objValue @root.systemFields.matrix.fields key)
                                isCyberdeck=../system.matrix.is_cyberdeck
                                key=key
                                label=label
                                matrixAttributes=../config/matrixAttributes
                                item=../system.matrix.item }}
                        {{/each}}
                    </div>
                {{/if}}
                <div class="list-item list-item-header">
                    <div class="list-item-start">
                        {{#if vehicle.master}}
                            <label>{{localize "SR5.Labels.ActorSheet.ConnectedTo"}}:&nbsp;</label>
                            <div class="basic-row">
                                {{> "systems/shadowrun5e/dist/templates/v2/list-items/item-roll-image.hbs" network }}
                                <a data-action="openUuid" data-uuid="{{vehicle.master.uuid}}">{{vehicle.master.name}}</a>
                            </div>
                        {{else}}
                            {{#if network}}
                                <label>{{localize "SR5.Labels.ActorSheet.ConnectedTo"}}:&nbsp;</label>
                                <div class="basic-row">
                                    {{> "systems/shadowrun5e/dist/templates/v2/list-items/item-roll-image.hbs" network }}
                                    <a data-action="openUuid" data-uuid="{{network.uuid}}">{{network.name}}</a>
                                </div>
                            {{else}}
                                <label>{{localize "SR5.Labels.ActorSheet.NoNetwork"}}</label>
                                {{#if (and (isType actor 'vehicle') vehicle.driver)}}
                                    <a data-action="connectToDriver">
                                        {{localize "SR5.Labels.ActorSheet.ConnectToDriver"}}
                                    </a>
                                {{/if}}
                            {{/if}}
                        {{/if}}
                    </div>
                    <div class="list-item-icons">
                        {{#if vehicle.master}}
                            <button class="icon sr5-icon" data-action="removeMaster" data-tooltip="SR5.Tooltips.Actor.DisconnectNetwork">
                                <i class="fas fa-right-from-bracket"></i>
                            </button>
                        {{else if network}}
                            <button class="icon sr5-icon" data-action="disconnectNetwork" data-tooltip="SR5.Tooltips.Actor.DisconnectNetwork">
                                <i class="fas fa-right-from-bracket"></i>
                            </button>
                        {{/if}}
                        {{#unless (or (isType network 'host') (isType vehicle.master 'host'))}}
                            <button class="icon sr5-icon" data-action="openNetworkManager" data-tooltip="SR5.OpenNetworkManager">
                                <i class="fas fa-network-wired"></i>
                            </button>
                        {{/unless}}
                    </div>
                </div>
                {{tabGroup matrixLeftTabs}}
                <section class="content matrix-left-tab-content"></section>
            </div>
            <div>
                {{#if (isType actor 'character' 'vehicle')}}
                    {{#if system.matrix.condition_monitor.max}}
                        <div class="condition-monitor-container">
                            {{> 'systems/shadowrun5e/dist/templates/v2/common/horizontal-cells.hbs'
                                tooltip=(localize "SR5.Labels.ActorSheet.Matrix")
                                value=system.matrix.condition_monitor.value
                                max=system.matrix.condition_monitor.max
                                id="matrix"
                            }}
                        </div>
                    {{/if}}
                {{/if}}
                {{tabGroup matrixRightTabs}}
                <section class="content matrix-right-tab-content"></section>
            </div>
        </div>
    </div>
</section>
