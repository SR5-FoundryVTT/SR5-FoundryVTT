{{!-- list-item expects an SR5Item to be passed in as 'item' --}}
{{#if (or @root.isEditMode (isVisible item))}}
<div class="list-item-container {{#if (hasKey @root.expandedUuids item.uuid)}} expanded {{/if}}">
    <div class="list-item {{#if (isOwner item owner=@root.actor)}} draggable {{/if}}"
         data-source="{{item.system.description.source}}"
         data-item-id="{{item.id}}"
         data-uuid="{{item.uuid}}">
        <div class="list-item-start">
            {{> "systems/shadowrun5e/dist/templates/v2/list-items/item-roll-image.hbs" item }}
            {{> "systems/shadowrun5e/dist/templates/v2/common/import-flag.hbs" item }}
            {{> "systems/shadowrun5e/dist/templates/v2/list-items/item-name.hbs" item }}
        </div>

        <div class="list-item-col">
            {{#if (isMatrixAction item)}}
                <label>{{marksRequired item}}</label>
            {{/if}}
        </div>

        <div class="list-item-col">
            <label>{{localizeOb item.system.action.type @root.config.actionTypes}}</label>
        </div>

        <div class="list-item-icons {{#if @root.isPlayMode}} skinny-icons {{/if}}">
            {{> 'systems/shadowrun5e/dist/templates/v2/list-items/open-source-icon.hbs' item }}
            {{> 'systems/shadowrun5e/dist/templates/v2/list-items/favorite-icon.hbs' item }}
            {{#if (isOwner item owner=@root.actor)}}
                {{> 'systems/shadowrun5e/dist/templates/v2/list-items/edit-delete-icons.hbs' item }}
            {{else}}
                {{> 'systems/shadowrun5e/dist/templates/v2/list-items/toggle-visible-icon.hbs' item }}
            {{/if}}
        </div>
    </div>
    {{#if (hasKey @root.expandedUuids item.uuid)}}
        <div class="list-item-desc">
            <div class="list-item-properties">
                {{> 'systems/shadowrun5e/dist/templates/v2/item-properties/action.hbs' item=item }}
            </div>
            {{{objValue (objValue @root.expandedUuids item.uuid) 'html'}}}
        </div>
    {{/if}}
</div>
{{/if}}
